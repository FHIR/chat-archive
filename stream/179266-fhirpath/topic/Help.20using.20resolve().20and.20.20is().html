---
layout: page
title: "FHIR Chat  · Help using resolve() and  is() · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Help.20using.20resolve().20and.20.20is().html">Help using resolve() and  is()</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157165666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Help%20using%20resolve%28%29%20and%20%20is%28%29/near/157165666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Help.20using.20resolve().20and.20.20is().html#157165666">(Jan 30 2019 at 06:17)</a>:</h4>
<p>In Composition.section (where(code.coding.system='<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>' and code.coding.code='48765-2')) I want to ensure that if there are any instances of Composition.section.entry at least one of them is an AlleryIntolerance.<br>
I have not been able to test FHIRpath statements with resolve().<br>
Should this invariant work?</p>
<blockquote>
<p>Composition.section.where(code.coding.system='<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>' and code.coding.code='48765-2').entry.exists() implies Composition.section.where(code.coding.system='<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>' and code.coding.code='48765-2').entry.where(resolve().is(AllergyIntolerance)).exists()</p>
</blockquote>
<p>How could I test it?</p>



<a name="159125529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Help%20using%20resolve%28%29%20and%20%20is%28%29/near/159125529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Satya Yelisetti <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Help.20using.20resolve().20and.20.20is().html#159125529">(Feb 22 2019 at 03:06)</a>:</h4>
<p>Anyone working on this? i have a similar question on how to test resolve() and conformTo() in Fhirpath.  I am trying to create a invariant which enforces the <em>reference</em> of a <em>entry</em> in a Composition to be an Observation(a profile sitting elsewhere) and this Observation has a <em>valuecodableconcept</em>in it  with '1200661000168109' as a <em>code</em>. I have written a Fhirpath which looks like this : <br>
<em>entry.resolve().conformsTo(‘http://some.observation.profile’) and entry.resolve().all($this is valueCodeableConcept implies code = 1200661000168109)</em><br>
can anyone please help / direct me to a way we can test resolve() and conformsTo()?</p>



<a name="159126129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Help%20using%20resolve%28%29%20and%20%20is%28%29/near/159126129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Help.20using.20resolve().20and.20.20is().html#159126129">(Feb 22 2019 at 03:19)</a>:</h4>
<p>the "code = " bit needs work. You can test by validating examples</p>



<a name="159391911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Help%20using%20resolve%28%29%20and%20%20is%28%29/near/159391911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Help.20using.20resolve().20and.20.20is().html#159391911">(Feb 26 2019 at 02:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191682">@Richard Townley-O'Neill</span> , that should work, but you don't really need the first exists() implies bit, if a section with that code exists and the the entry for the section resolves to an instance of AllergyIntolerance, the exists() would return true.</p>



<a name="159392185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Help%20using%20resolve%28%29%20and%20%20is%28%29/near/159392185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Help.20using.20resolve().20and.20.20is().html#159392185">(Feb 26 2019 at 02:23)</a>:</h4>
<p><span class="user-mention" data-user-id="192201">@Satya Yelisetti</span> , <code>entry.where(resolve() is Observation and resolve().conformsTo('http://some.observation.profile') and resolve().where(code.coding.system = 'http://snomed.info/sct' and code.coding.code = '1200661000168109').exists())</code></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
