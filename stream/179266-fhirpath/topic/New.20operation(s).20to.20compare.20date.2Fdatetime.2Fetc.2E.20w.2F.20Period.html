---
layout: page
title: "FHIR Chat  · New operation(s) to compare date/datetime/etc. w/ Period · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/New.20operation(s).20to.20compare.20date.2Fdatetime.2Fetc.2E.20w.2F.20Period.html">New operation(s) to compare date/datetime/etc. w/ Period</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="268984809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/New%20operation%28s%29%20to%20compare%20date/datetime/etc.%20w/%20Period/near/268984809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/New.20operation(s).20to.20compare.20date.2Fdatetime.2Fetc.2E.20w.2F.20Period.html#268984809">(Jan 22 2022 at 23:26)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-28443">FHIR#28443</a> proposes defining a new convenience operation (or set of operations?) to allow easy comparison of date, dateTime and instant with a Period.  Please share your thoughts on:<br>
a) whether that is something that should be added<br>
b) what you think it should look like</p>



<a name="268999382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/New%20operation%28s%29%20to%20compare%20date/datetime/etc.%20w/%20Period/near/268999382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/New.20operation(s).20to.20compare.20date.2Fdatetime.2Fetc.2E.20w.2F.20Period.html#268999382">(Jan 23 2022 at 05:47)</a>:</h4>
<p>This would indeed be useful - I'd use it.</p>



<a name="268999425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/New%20operation%28s%29%20to%20compare%20date/datetime/etc.%20w/%20Period/near/268999425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/New.20operation(s).20to.20compare.20date.2Fdatetime.2Fetc.2E.20w.2F.20Period.html#268999425">(Jan 23 2022 at 05:48)</a>:</h4>
<p>(though haven't used an equivalent as yet)</p>



<a name="269135543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/New%20operation%28s%29%20to%20compare%20date/datetime/etc.%20w/%20Period/near/269135543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/New.20operation(s).20to.20compare.20date.2Fdatetime.2Fetc.2E.20w.2F.20Period.html#269135543">(Jan 24 2022 at 16:57)</a>:</h4>
<p>The proposed operation is pretty far afield from what we currently do in FHIRPath for this sort of thing. It would be important to work through some specific examples. It's proposed as a shorthand, but there isn't a lot of detail about what it's actually a shorthand for.</p>



<a name="269167530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/New%20operation%28s%29%20to%20compare%20date/datetime/etc.%20w/%20Period/near/269167530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/New.20operation(s).20to.20compare.20date.2Fdatetime.2Fetc.2E.20w.2F.20Period.html#269167530">(Jan 24 2022 at 20:23)</a>:</h4>
<p><span class="user-mention" data-user-id="237342">@ryan moehrke</span> ?</p>



<a name="269202229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/New%20operation%28s%29%20to%20compare%20date/datetime/etc.%20w/%20Period/near/269202229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/New.20operation(s).20to.20compare.20date.2Fdatetime.2Fetc.2E.20w.2F.20Period.html#269202229">(Jan 25 2022 at 02:44)</a>:</h4>
<p>I'm not sure what bonus functionality you'd get from adding the list of datetime search prefixes as comparison functionality in fhirpath besides being able to deal with periods<br>
(adding functionality for datetime periods would be really interesting because: it would allow miss-matched precision to be compared instead of not being possible in fhirpath) <br>
As long as we ignore 'ap' - which if someone thinks it could be useful I have no qualms, I just don't personally see much need for it at all - <br>
then the only search prefixes we don't already have (with = != &gt;= &gt; &lt;= &lt;) are sa and eb, which both hold no meaning if the comparison isn't a period<br>
So what I'm seeing is actually a request to support periods natively (i.e. defining what the above operators mean when one or both sides are a period, defining how and when to implicitly convert between periods and datetimes, and deciding on if we want an explicit starts-after and ends-before method that can compare with start/end values if compared to a period but can default to &lt; or &gt; functionality when only a single value is given)<br>
note, this is really complicated which is why we've had multiple long discussions and plenty of detail and rewriting in the fhir spec about what their search prefixes actually do, (and that's with the simplification that one <em>must</em> be a single value of any precision), but going through the effort to do this instead I think would actually suffice a need instead of duplicating FHIR Search functionality that isn't necessarily applicable</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
