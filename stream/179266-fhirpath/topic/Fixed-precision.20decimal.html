---
layout: page
title: "FHIR Chat  · Fixed-precision decimal · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Fixed-precision.20decimal.html">Fixed-precision decimal</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153999484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Fixed-precision%20decimal/near/153999484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Fixed-precision.20decimal.html#153999484">(Sep 24 2018 at 17:49)</a>:</h4>
<p>I see the spec says, "implementations should use fixed-precision decimal formats".  Does that refer to keeping the same number of digits after the decimal point for all numbers?  (I am used to "precision" meaning "number of significant digits", which can include digits the left of the decimal.)</p>



<a name="153999677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Fixed-precision%20decimal/near/153999677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Fixed-precision.20decimal.html#153999677">(Sep 25 2018 at 01:46)</a>:</h4>
<p>I think that the point is to preserve significant digits, so 2.10 must not be changed to 2.1.</p>



<a name="153999744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Fixed-precision%20decimal/near/153999744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Fixed-precision.20decimal.html#153999744">(Sep 25 2018 at 14:07)</a>:</h4>
<p>While I agree with you that 2.10 means something more precise than 2.1, the FHIRPath spec (6.1.2, Equivalent) says that for decimals, "comparison is done on values rounded to the precision of the least precise operand. <em>Trailing zeroes are ignored in determining precision.</em>"   That last sentence would mean that 2.10 ~ 2.11.  I am not sure if that was the intent.</p>



<a name="153999886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Fixed-precision%20decimal/near/153999886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Fixed-precision.20decimal.html#153999886">(Sep 26 2018 at 08:06)</a>:</h4>
<p>I'm not sure about the sentence - sounds like an error to me</p>



<a name="153999948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Fixed-precision%20decimal/near/153999948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Fixed-precision.20decimal.html#153999948">(Sep 26 2018 at 14:24)</a>:</h4>
<p>I suspect it might have just been a compromise to keep things from getting too complex.  If you do not ignore trailing zeros, then you have to keep track of the "scale" (digits the right of the decimal), and internally the Decimal type becomes a structure to carry that information around.  Once you do that you open up questions of what happens when (for example) two Decimals are multiplied-- does the scale get reduced, and by how much?  These questions would be answerable if we converted all numbers to scientific notation and used the concept of significant digits, but then FHIRPath would have to answer the question of how to convert an input of say, "20" into scientific notation -- would "20" mean two significant digits or just one?  So, I can see why FHIRPath does not use significant digits.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
