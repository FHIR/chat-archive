---
layout: page
title: "FHIR Chat  · bld-9 incorrect? · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html">bld-9 incorrect?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271454640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271454640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marten Smits <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271454640">(Feb 10 2022 at 16:17)</a>:</h4>
<p>I'm currently implementing logic in the .NET validator that invariants that result in <code>empty</code>,  evaluate to <code>false</code>instead of true, based on this topic here:<br>
<a href="#narrow/stream/179166-implementers/topic/Period.20Datatype.20Invariant">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Period.20Datatype.20Invariant</a></p>
<p>While running our unit tests after this fix, validation of Bundles that have entries without a <code>fullUrl</code> result in <code>false</code>, because <code>bld-8</code> (<code>fullUrl.contains('/_history/').not()</code>) goes off. </p>
<p>Shouldn't this invariant be <code>fullUrl.exists.not() or fullUrl.contains('/_history/').not()</code> instead of just <code>fullUrl.contains('/_history/').not()</code>?</p>



<a name="271455189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271455189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271455189">(Feb 10 2022 at 16:21)</a>:</h4>
<p>If this is an issue, we need to get the fix into R4B...  <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="271456603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271456603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271456603">(Feb 10 2022 at 16:31)</a>:</h4>
<p>Agree, that constraint should account for the case that fullUrl is not present.</p>



<a name="271495712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271495712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271495712">(Feb 10 2022 at 21:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191334">@Marten Smits</span>, can you submit a change request?</p>



<a name="271500384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271500384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marten Smits <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271500384">(Feb 10 2022 at 21:52)</a>:</h4>
<p>Will do!</p>



<a name="271504732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271504732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marten Smits <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271504732">(Feb 10 2022 at 22:28)</a>:</h4>
<p>Done: <a href="https://jira.hl7.org/browse/FHIR-36006">https://jira.hl7.org/browse/FHIR-36006</a></p>



<a name="271511873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271511873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271511873">(Feb 10 2022 at 23:51)</a>:</h4>
<p>How's that not been breaking things like HAPI if that's the case?</p>



<a name="271526262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271526262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271526262">(Feb 11 2022 at 03:20)</a>:</h4>
<p>Wow, that is a fun gotcha. Fwiw I find the "implies" syntax a bit more readable:</p>
<div class="codehilite"><pre><span></span><code>fullUrl.exists() implies fullUrl.contains(&#39;/_history/&#39;).not()
</code></pre></div>

<p>Or if you want terse:</p>
<div class="codehilite"><pre><span></span><code>fullUrl.contains(&#39;/_history/&#39;).allFalse()
</code></pre></div>



<a name="271938955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/bld-9%20incorrect%3F/near/271938955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/bld-9.20incorrect.3F.html#271938955">(Feb 15 2022 at 08:12)</a>:</h4>
<p>Yeah, the <code>implies</code> is nice.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
