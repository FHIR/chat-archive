---
layout: page
title: "FHIR Chat  · modifierExtension · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html">modifierExtension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="275677739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/275677739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#275677739">(Mar 17 2022 at 16:03)</a>:</h4>
<p>I believe that the <a href="https://hl7.org/fhir/fhirpath.html#functions">Functions</a> topic should include a <code>modifierExtension()</code> function as well as <code>extension</code>, but want to double-check. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , will the Java FHIRPath <code>extension</code> function look in modifierExtensions as well, or will it only work on regular extensions?</p>



<a name="277217290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/277217290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#277217290">(Mar 30 2022 at 23:55)</a>:</h4>
<p>modifierExtensions are extensions so it includes them</p>



<a name="278198918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278198918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278198918">(Apr 07 2022 at 17:29)</a>:</h4>
<p>is there some logic forbidding extension and modifierextensions from using the same canonical url? I doubt they will in practice but on the off chance it happens it could add ambiguity..</p>



<a name="278202815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278202815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278202815">(Apr 07 2022 at 17:57)</a>:</h4>
<p>The expectation is that the canonical URL for <em>any</em> artifact is unique to that artifact.  A given extension is either a modifier or not (as declared in the StructureDefinition)</p>



<a name="278203776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278203776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278203776">(Apr 07 2022 at 18:04)</a>:</h4>
<p>Does StructureDefinition contain a flag for modifier?  I thought that the behavior was determined by where it appears in an instance.  E.g., an extension could appear in <code>Patient.extension</code> or <code>Patient.modifierExtension</code> and would be treated as a regular or modifier extension accordingly.</p>



<a name="278204793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278204793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278204793">(Apr 07 2022 at 18:12)</a>:</h4>
<p>The 'isModifier' property of the root element in the StructureDefinition will be 'true' for modifierExtensions and false for all other StructureDefinitions.  (I guess possibly with an exception for logical models?)</p>



<a name="278204967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278204967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278204967">(Apr 07 2022 at 18:14)</a>:</h4>
<p>Thanks Lloyd - that is an annoying convention (both to discover and to use).</p>



<a name="278205015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278205015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278205015">(Apr 07 2022 at 18:14)</a>:</h4>
<p>Why?</p>



<a name="278205071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278205071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278205071">(Apr 07 2022 at 18:15)</a>:</h4>
<p>An extension can't be both a modifier and a non-modifier - it has to be clear up front which it is.  And the 'isModifier' element is the logical place to capture that...</p>



<a name="278205137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278205137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278205137">(Apr 07 2022 at 18:15)</a>:</h4>
<p>There's no requirement to look up any extension definition unless you want to validate the content</p>



<a name="278206722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278206722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278206722">(Apr 07 2022 at 18:29)</a>:</h4>
<p>Sure, but putting annotations on an element that control the behavior of the parent structure is a bit odd from a definitional point of view (considering we have StructureDefinition and ElementDefinition).  And, I cannot actually find any documentation explaining it.  The only reference to <code>isModifier</code> I can see is explaining how complex extensions can include it in elements to control their own behavior.</p>
<p>I can follow a lot of 'why' knowing it exists (e.g., simpler propagation in snapshots / differentials, etc.), but it adds a layer of 'magic' to a lot of tooling.  E.g., the publisher sees the element and changes the root (<a href="http://build.fhir.org/extension-request-donotperform.html">do-not-perform</a> renders as a <code>modifierExtension</code> while <a href="http://build.fhir.org/extension-request-insurance.html">request-insurance</a> renders as an <code>extension</code>).</p>
<p>I'm guessing there should be a ticket to add documentation for this?</p>



<a name="278207180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278207180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278207180">(Apr 07 2022 at 18:32)</a>:</h4>
<p>We do the same for cardinality.  If the root element of the StructureDefinition is 0..1, that means the extension (or other profile) can't be referenced in a place with a cardinality greater than 1.</p>



<a name="278207285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278207285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278207285">(Apr 07 2022 at 18:33)</a>:</h4>
<p>In short, the root element of a StructureDefinition contains some of the metadata about the StructureDefinition when it's the same sort of information that might also need to be asserted about descendant elements.</p>



<a name="278207329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278207329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278207329">(Apr 07 2022 at 18:33)</a>:</h4>
<p>Feel free to submit a tracker for us to call this out though if you feel it's not obvious.</p>



<a name="278208211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278208211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278208211">(Apr 07 2022 at 18:40)</a>:</h4>
<p>Sure, is there other stuff that is inherited like that? (don't know what I don't know =)</p>



<a name="278208707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278208707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278208707">(Apr 07 2022 at 18:44)</a>:</h4>
<p>I assume that means that the specified profile/extension cannot appear more than once, right (because extension is always 0..*)?</p>



<a name="278208865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278208865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278208865">(Apr 07 2022 at 18:45)</a>:</h4>
<p>label, code, short, definition, comment, alias, min, max, meaningWhenMissing, pattern, example, constraint, mapping - all of these could come into play when referencing an extension - or any other data type profile.</p>



<a name="278214649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278214649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278214649">(Apr 07 2022 at 19:28)</a>:</h4>
<p>Cool beans - created <a href="http://jira.hl7.org/browse/FHIR-36738">FHIR-36738</a> , also as an aside: <code>ElementDefinition</code> shows up in <code>Related Pages</code> instead of <code>Related Artifacts</code> in Jira.</p>



<a name="278220672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278220672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278220672">(Apr 07 2022 at 20:18)</a>:</h4>
<p>In the core spec, only resources show up in "Related Artifacts", for historical reasons.</p>



<a name="278240322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278240322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278240322">(Apr 07 2022 at 23:40)</a>:</h4>
<p>Um, hoping that when that additional clarification is added that the display style props aren't forced to be what is in the extension definition and that the profile can say what they want to about those things. Especially if they are profiles with display labels in another language or localisation.</p>



<a name="278240619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278240619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278240619">(Apr 07 2022 at 23:44)</a>:</h4>
<p>what is this about?</p>



<a name="278240718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278240718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278240718">(Apr 07 2022 at 23:45)</a>:</h4>
<p>Rules are the same as any other constraint - so you're free to override label, short, definition, etc. so long as you're refining/contextualizing, not completely changing the meaning.</p>



<a name="278240764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/modifierExtension/near/278240764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/modifierExtension.html#278240764">(Apr 07 2022 at 23:45)</a>:</h4>
<p>Making clear that elements in the 'root' elementDefinition are talking about characteristics of the type - e.g. cardinality, isModifier, but other things too.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
