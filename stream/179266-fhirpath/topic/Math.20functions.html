---
layout: page
title: "FHIR Chat  · Math functions · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html">Math functions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157333470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157333470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157333470">(Feb 01 2019 at 06:32)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18501" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18501">GF#18501</a>, <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17842" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17842">GF#17842</a>, <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17507" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17507">GF#17507</a> suggest adding round(), sqrt(), log(), exp(), and pow(). For completeness we would also need floor(), ceiling(), truncate(), abs(), and ln(). Thoughts?</p>



<a name="157337543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157337543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157337543">(Feb 01 2019 at 08:24)</a>:</h4>
<ul>
<li>max min</li>
</ul>



<a name="157359473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157359473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157359473">(Feb 01 2019 at 15:12)</a>:</h4>
<p>It's a never ending list, it seems like it would be better in the core FHIRPath spec to say that libraries can be included for this kind of thing.</p>



<a name="157360703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157360703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157360703">(Feb 01 2019 at 15:26)</a>:</h4>
<p>Note that we can express max and min already with the aggregate function, so really I'm talking about the Math library functions here.</p>



<a name="157365952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157365952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157365952">(Feb 01 2019 at 16:41)</a>:</h4>
<p>I don't know that we need to include everything all at once, but at least for fhirpath.js, it would be trivial to support any of the functions in the browser's Math library (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math</a>).  I have heard Clem McDonald ask about things like sin(x), cos(x), but I don't know offhand what would use those.</p>
<p>To another point, saying "libraries can be included" makes me wonder how a Questionnaire author would include the libraries needed, or if that was not something the Questionnaire could control, whether there would be a point in writing a Questionnaire whose correct functioning depending on the choice by the system to include libraries.</p>



<a name="157381313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157381313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157381313">(Feb 01 2019 at 20:02)</a>:</h4>
<p>libraries are problematic because of what Paul says</p>



<a name="157383231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157383231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157383231">(Feb 01 2019 at 20:29)</a>:</h4>
<p>I agree the implementation is straightforward, and I'm not even concerned about specifying the semantics for this limited set, CQL already specifies exactly that set of operators. I'd just like to see some answer for how libraries are included because there will be requests for other operators. It'd be nice to be able to support that without having to change the spec.</p>



<a name="157384418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157384418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157384418">(Feb 01 2019 at 20:46)</a>:</h4>
<p>specifying how libraries are included will be an even bigger change...</p>



<a name="157384441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157384441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157384441">(Feb 01 2019 at 20:46)</a>:</h4>
<p>agree that's worth doing but think it's a bigger problem than we should handle at this point in the cycle</p>



<a name="157393408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157393408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157393408">(Feb 01 2019 at 23:01)</a>:</h4>
<p>Okay, so I'm hearing persuasive as the proposed disposition here. One more consideration though, should we add a "Math" section and mark it STU? I'm concerned that adding this many completely new functions to a spec going normative would be a challenge. Is there room to say, yes, but next cycle?</p>



<a name="157438800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/157438800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#157438800">(Feb 02 2019 at 21:15)</a>:</h4>
<p>right. add it as STU for fll stnadardization next time</p>



<a name="177435807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/177435807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#177435807">(Oct 05 2019 at 23:33)</a>:</h4>
<p>I'd like to include as many examples as I can of the use of the Math functions. Any examples involving the Math functions? .round(), .sqrt(), .exp(), .pow(), .log(), .ln(), etc.</p>



<a name="177544678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/177544678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#177544678">(Oct 07 2019 at 18:08)</a>:</h4>
<p>BMI, with height &amp; weight variables, rounded to 1 decimal place:  </p>
<div class="codehilite"><pre><span></span>(%weight/(%height.power(2))).round(1)
</pre></div>



<a name="177544803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Math%20functions/near/177544803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Math.20functions.html#177544803">(Oct 07 2019 at 18:09)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="195344">@Paul Lynch</span> !</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
