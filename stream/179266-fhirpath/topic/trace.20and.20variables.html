---
layout: page
title: "FHIR Chat  · trace and variables · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/trace.20and.20variables.html">trace and variables</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="246412528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/trace%20and%20variables/near/246412528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/trace.20and.20variables.html#246412528">(Jul 19 2021 at 03:18)</a>:</h4>
<p>I was wondering if we could make the <code>trace()</code> function expose it's content as variables further down the chain.<br>
This would then provide a mechanism to "capture" an upstream variable and use further down in the expression.<br>
e.g.</p>
<div class="codehilite"><pre><span></span><code>entry.resource.trace(&#39;resid&#39;, id).descendants()
.extension(&#39;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression&#39;).value.distinct()
.select(&#39;| &#39; &amp; name &amp; &#39; | &#39; &amp; description &amp; &#39; | `&#39; &amp; expression &amp; &#39;` | in &#39; &amp; %resid)
</code></pre></div>



<a name="249678055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/trace%20and%20variables/near/249678055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/trace.20and.20variables.html#249678055">(Aug 17 2021 at 04:42)</a>:</h4>
<p>seems like you could just define a function traceValue(name) that would do that</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
