---
layout: page
title: "FHIR Chat  · Questionnaire-related FHIRPath tools · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html">Questionnaire-related FHIRPath tools</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157315657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157315657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157315657">(Jan 31 2019 at 23:10)</a>:</h4>
<p>There are 3 things that would be useful to have available in FHIRPath when working with QuestionnaireResponses.  One is a %questionnaire context element that points to the questionnaire for the current response.  The second is a question(), item(), qitem() or whatever you'd like to call it function (similar to the 'extension' function) that will give you the Questionnaire.item for the specified linkId.  The last is a function to give you the ordinalValue associated with a particular answer - which might involve grabbing it from the Questionnaire.item.option, but could also involve resolving the value set and grabbing it from the associated code.</p>



<a name="157315822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157315822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157315822">(Jan 31 2019 at 23:13)</a>:</h4>
<p>the last we already defined back at the informal in Boston, and is in my blog, yes?</p>



<a name="157315920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157315920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157315920">(Jan 31 2019 at 23:14)</a>:</h4>
<p>Not that I recall reading or talking about, no...</p>



<a name="157316022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157316022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157316022">(Jan 31 2019 at 23:16)</a>:</h4>
<p>yes:</p>
<blockquote>
<p>We define 3 FHIRPath short cuts to simplify the expressions:</p>
<ul>
<li>answers() – a flattened collection of all the answers in a response</li>
<li>ordinal() – given the focus of an answer (QuestionnaireResponse.item.answer.valueCoding), look up the ordinal value where ever it is defined</li>
<li>sum(expression) – a shortcut for aggregate($this + expression, 0)</li>
</ul>
</blockquote>



<a name="157316038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157316038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157316038">(Jan 31 2019 at 23:16)</a>:</h4>
<p>Where would those actually live?  The FHIR part of the FHIRPath spec?</p>



<a name="157316042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157316042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157316042">(Jan 31 2019 at 23:16)</a>:</h4>
<p>long term, probably this page:</p>



<a name="157316059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157316059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157316059">(Jan 31 2019 at 23:17)</a>:</h4>
<p><a href="http://hl7.org/fhir/fhirpath.html" target="_blank" title="http://hl7.org/fhir/fhirpath.html">http://hl7.org/fhir/fhirpath.html</a></p>



<a name="157316063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157316063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157316063">(Jan 31 2019 at 23:17)</a>:</h4>
<p>but for now, the SDC spec</p>



<a name="157316082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157316082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157316082">(Jan 31 2019 at 23:17)</a>:</h4>
<p>ordnal would need to support non-coding values too.  integers and dates can also have ordinals</p>



<a name="157316123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157316123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157316123">(Jan 31 2019 at 23:18)</a>:</h4>
<p>If they are in the SDC spec, only fhirpath.js will implement them.  :-)</p>



<a name="157316158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157316158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157316158">(Jan 31 2019 at 23:18)</a>:</h4>
<p>I at least will. which means HAPI will. and the DotNet FHIRPath engine ha an extensibility framework for stuff like this</p>



<a name="157419392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Questionnaire-related%20FHIRPath%20tools/near/157419392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Questionnaire-related.20FHIRPath.20tools.html#157419392">(Feb 02 2019 at 11:16)</a>:</h4>
<p>Which I will implement for sure.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
