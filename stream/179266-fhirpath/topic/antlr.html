---
layout: page
title: "FHIR Chat  · antlr · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html">antlr</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153995228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995228">(Sep 10 2018 at 13:49)</a>:</h4>
<p>Official fhirpath antlr grammar is failing on contains function :(   at least in js )</p>



<a name="153995231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995231">(Sep 10 2018 at 13:59)</a>:</h4>
<p>I think, because of clash with contains operator</p>



<a name="153995233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995233">(Sep 10 2018 at 14:07)</a>:</h4>
<p>Do you have a reference for the JavaScript "contains" operator?  I do not see it here:  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators</a></p>



<a name="153995234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995234">(Sep 10 2018 at 14:09)</a>:</h4>
<p>There is includes function. I mean antlr grammar fails with contains - i fixed it - <a href="https://github.com/lhncbc/fhirpath.js/commit/b54c49c1a3585b58ca62a53e3bebfe8067b3f1d6" target="_blank" title="https://github.com/lhncbc/fhirpath.js/commit/b54c49c1a3585b58ca62a53e3bebfe8067b3f1d6">https://github.com/lhncbc/fhirpath.js/commit/b54c49c1a3585b58ca62a53e3bebfe8067b3f1d6</a></p>



<a name="153995235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995235">(Sep 10 2018 at 14:12)</a>:</h4>
<p>so the fix is to add hardcoded 'contains' into identifiers definition - <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="153995236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995236">(Sep 10 2018 at 14:12)</a>:</h4>
<p>I see, you meant that the contains operator in FHIRPath was missing from the grammar.  That seems significant.</p>



<a name="153995237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995237">(Sep 10 2018 at 14:13)</a>:</h4>
<p>contains keyword clashes with contains function</p>



<a name="153995937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995937">(Sep 11 2018 at 21:50)</a>:</h4>
<p>Is there a way we can submit a pull request for our tweaked ANTLR FHIRPath.g4 file?</p>



<a name="153995944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/153995944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#153995944">(Sep 11 2018 at 21:58)</a>:</h4>
<p>sure. it's in <a href="https://github.com/FHIR/fluentpath" target="_blank" title="https://github.com/FHIR/fluentpath">https://github.com/FHIR/fluentpath</a></p>



<a name="154008069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/154008069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#154008069">(Oct 11 2018 at 15:39)</a>:</h4>
<p>Under <a href="https://github.com/FHIR/fluentpath/tree/master/spec" target="_blank" title="https://github.com/FHIR/fluentpath/tree/master/spec">https://github.com/FHIR/fluentpath/tree/master/spec</a>, I see both a "fhirpath.g4" and a "fluentpath.g4" grammar.   I thought fluentpath was an older name for fhirpath, but the fluentpath.g4 file was modified more recently.  Why would there be a different grammar file for each?  If I submit a pull request for the grammar, which file would should I be changing?</p>



<a name="154008404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/154008404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#154008404">(Oct 11 2018 at 22:18)</a>:</h4>
<p>The git commit history for the two grammar files show that <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span>  renamed fluentpath.g4 to fhirpath.g4 in March, but then <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  readded fluentpath.g4 in April (perhaps with a few changes?)  It looks to me  like something went wrong with a merge, and that 1) the current file should be fhirpath.g4 but 2) fluentpath.g4 might have changes that need to be made to fhirpath.g4 before fluentpath.g4 is removed.</p>



<a name="154008410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/154008410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#154008410">(Oct 11 2018 at 22:27)</a>:</h4>
<p>Sorry, was answering this earlier and got distracted. What's in the root is the currently published. The 2018Sep directory has the balloted normative content, which only has one grammar file.</p>



<a name="154008545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/antlr/near/154008545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/antlr.html#154008545">(Oct 12 2018 at 15:11)</a>:</h4>
<p>Okay, thanks.  I submitted a pull request on that file.  (<a href="https://github.com/FHIR/fluentpath/pull/7" target="_blank" title="https://github.com/FHIR/fluentpath/pull/7">https://github.com/FHIR/fluentpath/pull/7</a>).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
