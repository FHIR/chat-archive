---
layout: page
title: "FHIR Chat  · union · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html">union</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153993885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153993885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153993885">(Sep 06 2018 at 16:46)</a>:</h4>
<p>The spec for union (5.4.1) says, "Merge the two collections into a single collection, eliminating any duplicate values...."  Does that mean that the resulting collection has no duplicates, or only that no duplicates were introduced by the union?  For, instance if collection "a" contains duplicates already, say [1, 1, 2], and collection b is [2, 3] , and I do "a | b", will the result be [1, 1, 2, 3] or [1, 2, 3]?</p>



<a name="153993887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153993887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153993887">(Sep 06 2018 at 16:47)</a>:</h4>
<p>[1, 2, 3] is the only way I can read it.</p>



<a name="153993888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153993888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153993888">(Sep 06 2018 at 16:47)</a>:</h4>
<p>Is there a test case that covers this situation?</p>



<a name="153994041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153994041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153994041">(Sep 06 2018 at 19:20)</a>:</h4>
<p>My code agrees with [1, 2, 3], but it would not be difficult to implement the other way, and it is not clear to me which interpretation is best.  I added <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17812" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17812">GF#17812</a>.</p>



<a name="153994106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153994106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153994106">(Sep 06 2018 at 22:01)</a>:</h4>
<p>there should be a test case - have you looked at the test cases?</p>



<a name="153994108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153994108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153994108">(Sep 06 2018 at 22:11)</a>:</h4>
<p>In the "testUnion" group in <a href="https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml" target="_blank" title="https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml">https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml</a>, I do not see a test case that covers this situation.</p>



<a name="153994109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153994109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153994109">(Sep 06 2018 at 22:17)</a>:</h4>
<p>1.combine(1).union(2).count() = 2</p>



<a name="153994110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153994110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153994110">(Sep 06 2018 at 22:19)</a>:</h4>
<p>Yes, good.  I was ignoring the tests with "combine" for some reason.  That covers it.  So, then union removes all duplicates.</p>



<a name="153994115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/union/near/153994115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/union.html#153994115">(Sep 06 2018 at 22:41)</a>:</h4>
<p>yes</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
