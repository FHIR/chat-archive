---
layout: page
title: "FHIR Chat  · Precision for comparison of decimal numbers? · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Precision.20for.20comparison.20of.20decimal.20numbers.3F.html">Precision for comparison of decimal numbers?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="267085445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Precision%20for%20comparison%20of%20decimal%20numbers%3F/near/267085445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tilo Christ <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Precision.20for.20comparison.20of.20decimal.20numbers.3F.html#267085445">(Jan 06 2022 at 17:01)</a>:</h4>
<p>I am covering FHIRPath implementation with tests and in the FHIRPath test suite there is a test which says 1.2 / 1.8 = 0.66666667. Using my implementation I am getting a couple of sixes more. Is there any expectation that = has some sort of built-in tolerance? The fhirpath.js implementation passes this one, but I have searched the specifications on any kind of tolerance rules and haven't found anything so far.</p>



<a name="267095955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Precision%20for%20comparison%20of%20decimal%20numbers%3F/near/267095955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Precision.20for.20comparison.20of.20decimal.20numbers.3F.html#267095955">(Jan 06 2022 at 18:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="267111423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Precision%20for%20comparison%20of%20decimal%20numbers%3F/near/267111423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Precision.20for.20comparison.20of.20decimal.20numbers.3F.html#267111423">(Jan 06 2022 at 20:40)</a>:</h4>
<p>We say in the description of the <a href="https://hl7.org/fhirpath/#decimal">Decimal type</a> that implementations must support at least 8 digits of precision. They can support more, but are not required to. We also say in the <a href="https://hl7.org/fhirpath/#equivalent">Equivalent (<code>~</code>) operator</a> for decimals that there is tolerance based on the least-precise operand, but for <a href="https://hl7.org/fhirpath/#equality">Equal (<code>=</code>)</a> is it strictly value-based, so that test really ought to have a <code>.round(8)</code> on the left-hand side.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
