---
layout: page
title: "FHIR Chat  · DocumentRef/Media stuck · committers/git-help"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/index.html">committers/git-help</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html">DocumentRef/Media stuck</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="167312499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167312499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167312499">(Jun 04 2019 at 16:38)</a>:</h4>
<p>I have submitted changes to the branch to get it to re-build.. but it doesn't seem to be moving. Please help  <a href="https://github.com/HL7/fhir/pull/561" target="_blank" title="https://github.com/HL7/fhir/pull/561">https://github.com/HL7/fhir/pull/561</a></p>



<a name="167315329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167315329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167315329">(Jun 04 2019 at 17:10)</a>:</h4>
<p>John is getting conflicts as well....  status-codes.xml and compartmets.xml would not read from excel so I had to go in and remove some attributes in the xml to fix them.   nevertheless even if I revert to the head and try to edit them I get a conflict.  I will try a commit to just touch these files and see what happens</p>



<a name="167316654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167316654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167316654">(Jun 04 2019 at 17:25)</a>:</h4>
<p>I didn't know what to do about that... is that what is stalling my build?</p>



<a name="167316718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167316718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167316718">(Jun 04 2019 at 17:26)</a>:</h4>
<p>and what is the conflict? I click on resolve conflicts and never get a web page to appear.</p>



<a name="167316885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167316885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167316885">(Jun 04 2019 at 17:28)</a>:</h4>
<p>Resolving conflicts on spreadsheets is hard! <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , is there a way to tell whether a given spreadsheet (as pushed to a git branch) has been properly canonicalized first?</p>



<a name="167316914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167316914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167316914">(Jun 04 2019 at 17:28)</a>:</h4>
<p>I assumed these were conflicts with master... I expect that master has passed my branch by, as my branch is a temp branch</p>



<a name="167316987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167316987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167316987">(Jun 04 2019 at 17:29)</a>:</h4>
<p>I expected to resolve these conflicts later when the branch intent is approved... and expected I would just manually re-apply the same changes I made to the new master.</p>



<a name="167317032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167317032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167317032">(Jun 04 2019 at 17:29)</a>:</h4>
<p>but are these conflicts different than that? Are they causing other branches failures?</p>



<a name="167317431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167317431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167317431">(Jun 04 2019 at 17:33)</a>:</h4>
<p>hmmm, so Grahame did fixup something in the DocumentReference spreadsheet he commented as "fix for may problems related to missing code checks..."  <a href="https://github.com/HL7/fhir/commit/fc3c6cadaa37e3406afa114a0e31509e78d7ba51" target="_blank" title="https://github.com/HL7/fhir/commit/fc3c6cadaa37e3406afa114a0e31509e78d7ba51">https://github.com/HL7/fhir/commit/fc3c6cadaa37e3406afa114a0e31509e78d7ba51</a><br>
do I need to merge these changes into my branch now?</p>



<a name="167317548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167317548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167317548">(Jun 04 2019 at 17:34)</a>:</h4>
<p>I guess the new build is doing some new checks?</p>



<a name="167317772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167317772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167317772">(Jun 04 2019 at 17:36)</a>:</h4>
<p>seems similar change to ClinicalImpressions was also done 4 days ago</p>



<a name="167318289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167318289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167318289">(Jun 04 2019 at 17:42)</a>:</h4>
<p>the other two have also been changed..... Surprising that there is only 4 conflicts given that my branch touches 37 files... SO, do I need to manually integrate these changes into my branch? I would guess that I need to pull all other changes into my branch too to get it as close to master?</p>



<a name="167318720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167318720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167318720">(Jun 04 2019 at 17:46)</a>:</h4>
<p>resolving spreadsheet conflicts is easy but tedious (if the source spreadsheet is readable).  you just start over and re-edit it.  but yes its never pretty and that is why its so important to close the spreadsheet before commiting.</p>



<a name="167318810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167318810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167318810">(Jun 04 2019 at 17:47)</a>:</h4>
<p>my problem caused by different reasons... by the long-term branch</p>



<a name="167318832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167318832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167318832">(Jun 04 2019 at 17:47)</a>:</h4>
<p>I can do the manual merge.. just don't know if that is what I should do</p>



<a name="167318925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167318925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167318925">(Jun 04 2019 at 17:48)</a>:</h4>
<p>Ill wait for AU morning</p>



<a name="167333706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167333706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167333706">(Jun 04 2019 at 20:38)</a>:</h4>
<p>here is the error for the status file</p>
<div class="codehilite"><pre><span></span>Error: The spreadsheet /home/ubuntu/agents/01/_work/2/s/source/status-codes.xml was committed after editing in excel, but before the build could run *after Excel was closed*
     [java] org.hl7.fhir.exceptions.FHIRException: The spreadsheet /home/ubuntu/agents/01/_work/2/s/source/status-codes.xml was committed after editing in excel, but before the build could run *after Excel was closed*
</pre></div>


<p>I tried this on a mac and pc and saved and closed the file prior to commit.  So I don't know what is going on...</p>



<a name="167373205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167373205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167373205">(Jun 05 2019 at 09:50)</a>:</h4>
<p>I'm in London right now! There is a real conflict here. The github conflict editor fails on large files; the only way to resolve this is to follow the (confusing but correct) git hub command lines instructions</p>



<a name="167384335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167384335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167384335">(Jun 05 2019 at 12:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> for my long-term branch, do I need to integrate the changes that have happened on master since I branched?</p>



<a name="167384422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167384422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167384422">(Jun 05 2019 at 12:46)</a>:</h4>
<p>It's generally a good practice, to make sure you haven't gotten too far out of sync</p>



<a name="167384562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167384562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167384562">(Jun 05 2019 at 12:48)</a>:</h4>
<p>I figured I would need to do it eventually, before merging the branch... I was just hoping to hold off the pain given that my integration of the changes likely will not be seen by GIT as a proper versioned merge... I don't like this long-term branch idea, but was forced by committee process.</p>



<a name="167384647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167384647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167384647">(Jun 05 2019 at 12:49)</a>:</h4>
<p>I simply do not understand what GIT is complaining about. See pull request <a href="https://github.com/HL7/fhir/pull/561" target="_blank" title="https://github.com/HL7/fhir/pull/561">https://github.com/HL7/fhir/pull/561</a></p>



<a name="167406874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167406874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167406874">(Jun 05 2019 at 16:39)</a>:</h4>
<p>I can see the conflicts with the provided "web editor". I would prefer to keep all my changes and thus just keep what I submitted. However when I use the "web editor" to resolve the conflicts, it leaves me ONLY with the choice to "Merge". I don't want to merge the branch into master... do they mean this level merge? Or do they mean merge the edits I did in the "web editor" to the four files to be merged into the branch?</p>



<a name="167408058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167408058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167408058">(Jun 05 2019 at 16:52)</a>:</h4>
<p>It sounds like there's an issue where the build detects that a source file has not been canonicalized:</p>
<blockquote>
<p>[java] Error: The spreadsheet /home/ubuntu/agents/01/_work/2/s/source/status-codes.xml was committed after editing in excel, but before the build could run <em>after Excel was closed</em></p>
</blockquote>
<p>Even though <span class="user-mention" data-user-id="191401">@Eric Haas</span> indicates he did close Excel and run the build before committing. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> can you clarify whether there is a known issue here, or if this looks like a new bug or user error?</p>



<a name="167441217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167441217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167441217">(Jun 06 2019 at 00:19)</a>:</h4>
<p>Please GIT community help.... I would be glad to resolve these four conflicts, but I must NOT merge my branch into master. This seems to be the only solution I am given.  I want my branch to be built into a temporary build...</p>



<a name="167443566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167443566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167443566">(Jun 06 2019 at 01:14)</a>:</h4>
<p>I'm think what you want to do is merge master into your branch.</p>



<a name="167443579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167443579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167443579">(Jun 06 2019 at 01:14)</a>:</h4>
<p>On the command line, that's "git checkout mybranch; git merge master"</p>



<a name="167443596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167443596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167443596">(Jun 06 2019 at 01:15)</a>:</h4>
<p>Then resolve conflicts, then "git add" the resolved files.</p>



<a name="167445229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167445229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167445229">(Jun 06 2019 at 01:57)</a>:</h4>
<p>OK I am trying this now ....</p>



<a name="167445309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167445309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167445309">(Jun 06 2019 at 01:59)</a>:</h4>
<p>OK the build is being pickier than snot ....</p>



<a name="167448099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167448099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167448099">(Jun 06 2019 at 03:08)</a>:</h4>
<p>Yes thats the ticket...</p>
<p>I looks like once you get a conflict on a spreadsheet you can't undo it with a subsequent local build because I  did the following:</p>
<ul>
<li>open spreadsheet</li>
<li>close spreadsheet</li>
<li><em>skip</em> local build</li>
<li>commit/push</li>
<li>build conflict :-(</li>
<li>build locally</li>
<li>recommit/push</li>
<li>build conflict still there :-(</li>
</ul>



<a name="167448110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167448110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167448110">(Jun 06 2019 at 03:09)</a>:</h4>
<p>ty Josh</p>



<a name="167448238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167448238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167448238">(Jun 06 2019 at 03:12)</a>:</h4>
<p>(I am prone to avoiding local builds since its such a resource hog.  I have to switch computers...)</p>



<a name="167453135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167453135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167453135">(Jun 06 2019 at 05:20)</a>:</h4>
<blockquote>
<p>Error: The spreadsheet /home/ubuntu/agents/01/_work/2/s/source/status-codes.xml was committed after editing in excel, but before the build could run after Excel was closed</p>
</blockquote>
<p>I normalise the spreadsheet to remove non-serious differences in the excel spreadsheet as much as possible. The intent is that the only differences will be deliberately introduced differences, but Excel does like to throw new things my way occasionally.</p>
<p>But I can't normalise the excel spreadsheet if Excel has it locked for editing. People can commit while excel has it opened, and therefore get 1000s of spurious differences. The CI-Build refuses to build with spreadsheets like that, to make sure something like that never gets into the master. </p>
<p>I'd rather have us stop using excel altogether now, but the editors are fiercely resisting that</p>



<a name="167477721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167477721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167477721">(Jun 06 2019 at 12:44)</a>:</h4>
<p>Are you normalizing for IGs now?  If so, that's great - though why not indicate a failure if the spreadsheet was open?</p>



<a name="167482399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167482399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167482399">(Jun 06 2019 at 13:42)</a>:</h4>
<p>I can confirm Eric's test... I edited these four locally, did a clean, did a build, and then checked them into my branch... Still a conflict.   I don't know how to make git happy. I am afraid of every instruction ends with what looks to my non-GIT expert as a forced merge of my branch with master. I don't understand how I can make git happy with my branch still existing only as a branch. Sorry to be so thick, but this is why I am asking the git-help stream for help</p>



<a name="167482587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167482587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167482587">(Jun 06 2019 at 13:45)</a>:</h4>
<blockquote>
<p>On the command line, that's "git checkout mybranch; git merge master"</p>
</blockquote>
<p>This seems most understandable to me... can someone tell me how to do this with tortoise? Im not going to like doing this, but know I need to do it at-least once before this branch eventually gets into master. So I guess catching it up now is as good of a time as any</p>



<a name="167482837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167482837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167482837">(Jun 06 2019 at 13:48)</a>:</h4>
<p>specifically... the directionality of this merge with master is the scary part for me. merge master into my branch, seems like what I need to do next... but it looks very similar to merge my branch into master, which I need to avoid until the 4 workgroups involved approve this media/docRef change.</p>



<a name="167483587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167483587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167483587">(Jun 06 2019 at 13:57)</a>:</h4>
<p>Josh s solution works like a charm. I know it sounds counterintuitive but using the cli is the way to go here.</p>



<a name="167483735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167483735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167483735">(Jun 06 2019 at 13:59)</a>:</h4>
<p>You are merging the master into the branch but that doesn’t mess up your committed changes.  I don’t know why but checkout dies a lot of magic things</p>



<a name="167485234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167485234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167485234">(Jun 06 2019 at 14:15)</a>:</h4>
<p>@GG.    For single sheet workbooks I think we should use a different format.  I hate the status-codes.xml. It messes me up every time.  I’d say cab but I am pretty sure Excel would mess that up too. I live by spreadsheets so I am torn.  Is there a way the commit or push can fail or remind you to do a local build first if an excel file was opened.   (Move the error upstream). Because that would prevent folks (like me) from skipping a local build.  Or is there a way to make the build not use up all the local machine’s resources so it’s less painful to run.</p>



<a name="167485339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167485339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167485339">(Jun 06 2019 at 14:16)</a>:</h4>
<p>csv.  Not cab.</p>



<a name="167496302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167496302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167496302">(Jun 06 2019 at 16:13)</a>:</h4>
<p>I can't fail the commit. Or I would.</p>



<a name="167496306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167496306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167496306">(Jun 06 2019 at 16:13)</a>:</h4>
<p>why is status-codes.xml such a problem?</p>



<a name="167502100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167502100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167502100">(Jun 06 2019 at 17:25)</a>:</h4>
<p>I always forget about and it doesn't show until the full build an hour later</p>



<a name="167532611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167532611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167532611">(Jun 06 2019 at 23:37)</a>:</h4>
<blockquote>
<p>I can't fail the commit. Or I would.</p>
</blockquote>
<p>Could define a git hook to do this check and fail.</p>



<a name="167574757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167574757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167574757">(Jun 07 2019 at 13:07)</a>:</h4>
<p>I have completely recreated my branch from current master. And it builds, and I submitted the pull request, and that succeeded... BUT, I can't find the temporary publication to share with those wanting to review this. I would have expected it at <a href="http://build.fhir.org/branches/moehrke-docRef/" target="_blank" title="http://build.fhir.org/branches/moehrke-docRef/">http://build.fhir.org/branches/moehrke-docRef/</a> given past method of where these pull-request builds go. but it is not there... I do find an error in the "Publish" step <br>
 mv: cannot stat '/home/fhir_upload/uploading/www/branches/moehrke-docRef': No such file or directory<br>
 Remove deleted branch: moehrke-docRef<br>
Is this a problem on the servers?</p>



<a name="167574865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167574865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167574865">(Jun 07 2019 at 13:08)</a>:</h4>
<p>i.e. <a href="https://dev.azure.com/fhir-build/build.fhir.org/_build/results?buildId=2032&amp;view=logs" target="_blank" title="https://dev.azure.com/fhir-build/build.fhir.org/_build/results?buildId=2032&amp;view=logs">https://dev.azure.com/fhir-build/build.fhir.org/_build/results?buildId=2032&amp;view=logs</a></p>



<a name="167579155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167579155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167579155">(Jun 07 2019 at 14:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> please help. I fear I am one step forward, but still two steps behind</p>



<a name="167583956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167583956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167583956">(Jun 07 2019 at 14:56)</a>:</h4>
<p>Thanks for the pointer + @mention <span class="user-mention" data-user-id="191404">@John Moehrke</span>  -- let me see.</p>



<a name="167584131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584131">(Jun 07 2019 at 14:58)</a>:</h4>
<blockquote>
<p>mv: cannot stat '/home/fhir_upload/uploading/www/branches/moehrke-docRef': No such file or directory</p>
</blockquote>
<p>Is actually okay -- it's just saying "this branch didn't exist already on the CI server". But</p>
<blockquote>
<p>Remove deleted branch: moehrke-docRef</p>
</blockquote>
<p>Is the culprit: it's saying: we don't think this branch exists on github anymore, so we're deleting it from the CI build now. Obviously that shouldn't be happening.</p>



<a name="167584171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584171">(Jun 07 2019 at 14:59)</a>:</h4>
<p>oh good... love to be an example of random()</p>



<a name="167584316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584316">(Jun 07 2019 at 15:00)</a>:</h4>
<p>No, this is good stuff -- it's happening because our branch count now exceeds the github API limit for a single results page, so</p>
<div class="codehilite"><pre><span></span>curl -s  https://api.github.com/repos/HL7/fhir/branches | jq &#39;.[].name
</pre></div>


<p>is no longer a reliable full list. I didn't know this API was paginated until now ;-)</p>



<a name="167584326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584326">(Jun 07 2019 at 15:01)</a>:</h4>
<p>Let me put the quick fix into effect...</p>



<a name="167584673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584673">(Jun 07 2019 at 15:05)</a>:</h4>
<p>This'll take a sec to re-launch the CI server -- it'll go offline for 1-3min</p>



<a name="167584763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584763">(Jun 07 2019 at 15:06)</a>:</h4>
<p>So I'm deploying <a href="https://github.com/FHIR/auto-ig-builder/commit/860a6d83ad8d7ce69b0c629575832471522d7043" target="_blank" title="https://github.com/FHIR/auto-ig-builder/commit/860a6d83ad8d7ce69b0c629575832471522d7043">https://github.com/FHIR/auto-ig-builder/commit/860a6d83ad8d7ce69b0c629575832471522d7043</a> -- basically, changing the logic from "delete a branch preview from CI whenever it's 2 days old or it's deleted from GH" to "delete a branch preview from CI whenever it's 3 weeks old".</p>



<a name="167584803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584803">(Jun 07 2019 at 15:07)</a>:</h4>
<p>(back up)</p>



<a name="167584825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584825">(Jun 07 2019 at 15:07)</a>:</h4>
<p>Now <span class="user-mention" data-user-id="191404">@John Moehrke</span> let me re-trigger your last build...</p>



<a name="167584917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167584917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167584917">(Jun 07 2019 at 15:08)</a>:</h4>
<p>OK, rebuilding now; should get a notification in <a class="stream" data-stream-id="179297" href="/#narrow/stream/179297-committers.2Fnotification">#committers/notification</a> when your branch re-builds and then it should be visible at <a href="http://build.fhir.org/branches/moehrke-docRef/" target="_blank" title="http://build.fhir.org/branches/moehrke-docRef/">http://build.fhir.org/branches/moehrke-docRef/</a></p>



<a name="167586705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167586705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167586705">(Jun 07 2019 at 15:30)</a>:</h4>
<p>thanks</p>



<a name="167587167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179293-committers/git-help/topic/DocumentRef/Media%20stuck/near/167587167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179293-committers/git-help/topic/DocumentRef.2FMedia.20stuck.html#167587167">(Jun 07 2019 at 15:36)</a>:</h4>
<p>Yeah!  I see the publication   <a href="http://build.fhir.org/branches/moehrke-docRef/" target="_blank" title="http://build.fhir.org/branches/moehrke-docRef/">http://build.fhir.org/branches/moehrke-docRef/</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
