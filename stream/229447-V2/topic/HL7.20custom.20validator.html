---
layout: page
title: "FHIR Chat  · HL7 custom validator · V2"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/229447-V2/index.html">V2</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/229447-V2/topic/HL7.20custom.20validator.html">HL7 custom validator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="192792973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/229447-V2/topic/HL7%20custom%20validator/near/192792973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sheetal BhatewaraJain <a href="https://fhir.github.io/chat-archive/stream/229447-V2/topic/HL7.20custom.20validator.html#192792973">(Apr 03 2020 at 12:00)</a>:</h4>
<p>I need to write a custom validator for HL7 message</p>
<p>Input:</p>
<p>MSH|^~\&amp;|Sample.GateWay||||202002061359||ORU^R01|5678|D|2.3<br>
PID|1|CPHC0040||789987|Deshmukh^Darshana||20100717|F||<br>
ORC|NW|||||||||||||||||||<br>
OBR|||||||202003051359|||||||||||||||202003051359|||||<br>
OBX||NM|81894-8^CAP||175|dB/m|100-260|||N|F|||202004041359|BN<br>
OBX||NM|77615-3^E|||kPa||||||||202004041359|BN</p>
<p>Validator to check some fields are not empty like, </p>
<p>public class MsgHL7ValidationBuilder extends ValidationRuleBuilder {</p>
<div class="codehilite"><pre><span></span>private final Logger log = LoggerFactory.getLogger(MsgHL7ValidationBuilder .class);

 @Override
 protected void configure() {
     log.info(&quot;Entering MsgHL7ValidationBuilder ...&quot;);
     super.configure();
     forVersion(Version.V23)
     .message(&quot;*&quot;, &quot;*&quot;)
     .terser(&quot;MSH-10&quot;, not(empty()))
     .terser(&quot;/.OBX-2&quot;, not(empty()))
     .terser(&quot;/.OBX-3&quot;, not(empty()))
     .terser(&quot;/.OBX-5&quot;, not(empty()))
     .terser(&quot;/.OBX-11&quot;, not(empty()))
     .terser(&quot;/.OBX-14&quot;, not(empty()));

     log.info(&quot;Exiting MsgHL7ValidationBuilder ...&quot;);
 }
</pre></div>


<p>}</p>
<p>Now, in this case validator works fine for the first OBX segment, but it dows not work for second or further OBX's.</p>
<p>I need to handle this if there are 'n' number of OBX's.</p>
<p>Any help would be really appreciated.</p>
<p>Thanks,<br>
Sheetal</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
