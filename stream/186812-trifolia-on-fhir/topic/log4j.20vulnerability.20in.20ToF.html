---
layout: page
title: "FHIR Chat  · log4j vulnerability in ToF · trifolia-on-fhir"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/index.html">trifolia-on-fhir</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html">log4j vulnerability in ToF</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="264713255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264713255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264713255">(Dec 13 2021 at 14:28)</a>:</h4>
<p>Are ToF releases impacted by log4j issue?</p>



<a name="264721913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264721913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264721913">(Dec 13 2021 at 15:25)</a>:</h4>
<p>No. log4j is a Java module, and ToF is built using JavaScript technologies.</p>



<a name="264721956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264721956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264721956">(Dec 13 2021 at 15:25)</a>:</h4>
<p>Having said that, it DOES execute the Java FHIR IG publisher...</p>



<a name="264722149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264722149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264722149">(Dec 13 2021 at 15:26)</a>:</h4>
<p>So, it will be important for HL7 to evaluate the FHIR IG Publisher to determine if it uses the log4j versions that are vulnerable</p>



<a name="264722850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264722850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264722850">(Dec 13 2021 at 15:31)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span>  !!</p>



<a name="264819306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264819306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264819306">(Dec 14 2021 at 07:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span>  Out internal scanner has critically flagged the below vulnerability - </p>
<p>pkg:nuget\/log4net@2.0.0<br>
   Apache log4net before 2.0.8 does not disable XML external entities when parsing log4net configuration files. This could allow for XXE-based attacks in applications that accept arbitrary configuration files from users.</p>
<p>Is it being fixed in ToF latest releases, we are using  ToF 1.9.0 release.</p>



<a name="264821154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264821154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264821154">(Dec 14 2021 at 07:33)</a>:</h4>
<p>The vulnerability recently discovered in log4j is specific to Java applications. TWB is a C# app, and ToF is a Javascript application. Neither which should be affected by the recent log4j-core vulnerability.</p>



<a name="264821217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264821217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264821217">(Dec 14 2021 at 07:34)</a>:</h4>
<p>Having said that, log4net is the C# port of log4j... so, I believe you are actually referring to TWB, <em>not</em> ToF.</p>



<a name="264821417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264821417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264821417">(Dec 14 2021 at 07:38)</a>:</h4>
<p>According to the description of the vulnerabilityyou mentioned above, TWB does not share log4net config filesin this fashion, so I don't believe this vulnerability affects TWB either</p>



<a name="264821439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264821439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264821439">(Dec 14 2021 at 07:39)</a>:</h4>
<p><span class="user-mention" data-user-id="356642">@Chetan Jain</span></p>



<a name="264821523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264821523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264821523">(Dec 14 2021 at 07:40)</a>:</h4>
<p>Of course,  pease let me know if I'm missing something...</p>



<a name="264821945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264821945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264821945">(Dec 14 2021 at 07:46)</a>:</h4>
<p>Thanks for prompt response <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> . There are multiple low/medium and this 1 critical vulnerability flagged from scan of Lantana Trifolia only. Below is few log snippet which refer to log4net -</p>
<p>Scanned: /tmp/tmp-8254-etPfMH0sQv25/Trifolia.Logging/Log.cs<br>
Scanned: /tmp/tmp-8254-etPfMH0sQv25/Trifolia.Logging/Log4NetLoggerFactory.cs<br>
Scanned: /tmp/tmp-8254-etPfMH0sQv25/Trifolia.Logging/LogWithPerfmonAttribute.cs<br>
Scanned: /tmp/tmp-8254-etPfMH0sQv25/Trifolia.Logging/packages.config<br>
Scanned: /tmp/tmp-8254-etPfMH0sQv25/Trifolia.Logging/Trifolia.Logging.csproj<br>
Scanned: /tmp/tmp-8254-etPfMH0sQv25/Trifolia.Logging/Log4NetLogger.cs</p>
<p>is it pointing correctly? We have only ToF installed, no TWB.</p>



<a name="264822102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264822102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264822102">(Dec 14 2021 at 07:49)</a>:</h4>
<p>Let me know if need to get more info. BTW this exercise is not related to log4j issue. This is part of exercise by Software team to provide security approval for ToF usage.</p>



<a name="264881877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/264881877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#264881877">(Dec 14 2021 at 16:15)</a>:</h4>
<p><span class="user-mention" data-user-id="356642">@Chetan Jain</span><br>
Thanks for clarifying this is not related to the log4j issue. Glad to hear it. That was my biggest concern, initially.<br>
I think there may be some confusion here... All of those files mentioned in the scan logs above are <em>.cs</em> files, which are C# files. This is definitely referring to Trifolia Work Bench (TWB), as TWB is a .NET application while ToF is a JavaScript application.<br>
I'm worried you're <em>intending</em> to use ToF, but your security team is scanning the wrong repository...<br>
<a href="https://github.com/lantanagroup/trifolia">https://github.com/lantanagroup/trifolia</a> = TWB<br>
<a href="https://github.com/lantanagroup/trifolia-on-fhir">https://github.com/lantanagroup/trifolia-on-fhir</a> = ToF</p>



<a name="265259668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/265259668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#265259668">(Dec 17 2021 at 06:49)</a>:</h4>
<p>We have only ToF installed so need to check how they end up finding TWB. Thanks for your input <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span></p>



<a name="271818968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/271818968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#271818968">(Feb 14 2022 at 12:25)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span>   - Now as our security scan correctly pointed to ToF git, attached are the scan log which highlight vulnerabilities with high/medium severity. Could you please check and let me know if we need to log any support ticket to get these addressed. Thanks in advance for your input. We can use set it up internally only if it passes all security check and for that at least all HIGH severity issues must be fixed. Thanks!! <br>
<a href="/user_uploads/10155/WJzB8ghS2ce75bKcxt-hpY0O/Trifolia-FHIR-Barista-Scan-Feb-03-2022.txt">Trifolia-FHIR-Barista-Scan-Feb-03-2022.txt</a></p>



<a name="271990505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/271990505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#271990505">(Feb 15 2022 at 15:30)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="356642">@Chetan Jain</span></p>



<a name="271990556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/271990556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#271990556">(Feb 15 2022 at 15:30)</a>:</h4>
<p>We're (slowly) working through a bunch of dependabot and <a href="http://snyk.com">snyk.com</a> PRs that would address a lot of (I believe) the issues you're referring to</p>



<a name="271990617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/271990617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#271990617">(Feb 15 2022 at 15:30)</a>:</h4>
<p>I can't yet give you a  time-line... but, I <em>am</em> chipping away at it</p>



<a name="272000673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/272000673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#272000673">(Feb 15 2022 at 16:37)</a>:</h4>
<p>That's great <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span>, thanks for update.  Is there any need to log a ticket/issue for tracking? You already said no time line, but still wondering by when we can touch base again or run another scan to see if it pass through. This is blocker for us to get it installed.</p>



<a name="272064125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/272064125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#272064125">(Feb 16 2022 at 01:47)</a>:</h4>
<p>I've created a backlog item to track this work against in JIRA. It's not a support request, but is a development ticket: <a href="https://trifolia.atlassian.net/browse/TRIFFHIR-615">https://trifolia.atlassian.net/browse/TRIFFHIR-615</a> I believe you should be able to watch that ticket, as it is a public JIRA project.</p>



<a name="272079328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/186812-trifolia-on-fhir/topic/log4j%20vulnerability%20in%20ToF/near/272079328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chetan Jain <a href="https://fhir.github.io/chat-archive/stream/186812-trifolia-on-fhir/topic/log4j.20vulnerability.20in.20ToF.html#272079328">(Feb 16 2022 at 06:55)</a>:</h4>
<p>Great, thank you <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> . Will follow the ticket.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
