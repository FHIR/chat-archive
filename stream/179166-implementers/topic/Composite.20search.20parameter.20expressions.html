---
layout: page
title: "FHIR Chat  · Composite search parameter expressions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composite.20search.20parameter.20expressions.html">Composite search parameter expressions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183096977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composite%20search%20parameter%20expressions/near/183096977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composite.20search.20parameter.20expressions.html#183096977">(Dec 10 2019 at 20:08)</a>:</h4>
<p>I'm trying to determine what is the proper behavior for SearchParameters of type composite.<br>
Consider <code>Group-characteristic-value</code> which has an expression like <code>Group.characteristic</code> and the following components:</p>
<div class="codehilite"><pre><span></span>[
  {
    &quot;definition&quot;: &quot;http://hl7.org/fhir/SearchParameter/Group-characteristic&quot;,
    &quot;expression&quot;: &quot;code&quot;
  },
  {
    &quot;definition&quot;: &quot;http://hl7.org/fhir/SearchParameter/Group-value&quot;,
    &quot;expression&quot;: &quot;value&quot;
  }
]
</pre></div>


<p>The expression there led me to believe that the <code>value</code> component could be ANY of the choice elements for <code>Group.characteristic.value[x]</code></p>
<p>However, when I look up <code>http://hl7.org/fhir/SearchParameter/Group-value</code> I see that this parameter restricts the values to just CodeableConcept and boolean values:  <code>(Group.characteristic.value as CodeableConcept) | (Group.characteristic.value as boolean)</code></p>
<p>Can anyone confirm whether Group-characteristic-value is applicable to non-token values?</p>



<a name="183098388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composite%20search%20parameter%20expressions/near/183098388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composite.20search.20parameter.20expressions.html#183098388">(Dec 10 2019 at 20:23)</a>:</h4>
<p><a href="https://www.hl7.org/fhir/searchparameter-definitions.html#SearchParameter.component.expression" target="_blank" title="https://www.hl7.org/fhir/searchparameter-definitions.html#SearchParameter.component.expression">https://www.hl7.org/fhir/searchparameter-definitions.html#SearchParameter.component.expression</a> says</p>
<blockquote>
<p>This expression overrides the expression in the definition and extracts the index values from the outcome of the composite expression.</p>
</blockquote>
<p>But if I follow that advice, then my system doesn't like non-code values (Quantity, Range, or Reference) because it doesn't know how to extract those into a search parameter of type token.</p>



<a name="183108341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composite%20search%20parameter%20expressions/near/183108341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composite.20search.20parameter.20expressions.html#183108341">(Dec 10 2019 at 22:10)</a>:</h4>
<p>this is an error in the definition of Group.  The expression on group is <code>value</code> but should be <code> (value as CodeableConcept) | (value as boolean)</code></p>



<a name="183108368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composite%20search%20parameter%20expressions/near/183108368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composite.20search.20parameter.20expressions.html#183108368">(Dec 10 2019 at 22:11)</a>:</h4>
<p>do you want to make a task to fix this?</p>



<a name="183121608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composite%20search%20parameter%20expressions/near/183121608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composite.20search.20parameter.20expressions.html#183121608">(Dec 11 2019 at 02:11)</a>:</h4>
<p>opened <a href="https://jira.hl7.org/browse/FHIR-25297" target="_blank" title="https://jira.hl7.org/browse/FHIR-25297">https://jira.hl7.org/browse/FHIR-25297</a> - Group-characteristic-value search parameter should be scoped to CodeableConcept | boolean</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
