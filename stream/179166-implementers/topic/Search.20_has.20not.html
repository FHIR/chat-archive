---
layout: page
title: "FHIR Chat  · Search _has not · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20_has.20not.html">Search _has not</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154015114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20_has%20not/near/154015114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20_has.20not.html#154015114">(Nov 02 2018 at 12:53)</a>:</h4>
<p>I was looking for a way to make a _has NOT search <br>
/Patient?_has:Condition:subject:code=1234 - gives me patients with a condition by code; how would I search for patients who don't have a specific condition?</p>



<a name="154015157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20_has%20not/near/154015157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20_has.20not.html#154015157">(Nov 02 2018 at 14:43)</a>:</h4>
<p>Because you are eventually searching on Condition.code, which is a token search parameter, you can use the :not modifier.<br>
<code>[base]/Patient?_has:Condition:subject:code:not=1234</code><br>
This would give you all patients that have a condition with a code, which differs from 1234. <br>
You can also use :missing=true, which gives you all patients where the linked condition does not contain a code.</p>



<a name="154015525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20_has%20not/near/154015525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20_has.20not.html#154015525">(Nov 04 2018 at 10:20)</a>:</h4>
<p>I thought this also - but wouldn't this return all patients that have a least one condition other than 1234 which would not include patients that do not have any Conditions recorded?</p>



<a name="154015536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20_has%20not/near/154015536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20_has.20not.html#154015536">(Nov 04 2018 at 12:51)</a>:</h4>
<p>Yes, that's true. So, basically, you would need to execute two queries: a) :code:not and b) :missing=false. The union of the two result sets then contains all records that do have a code, but which are different AND all records which do not have a code.</p>
<p>Theoretically, you can also use _filter for it, though, not many servers support this kind of request. <br>
With _filter you can do an OR query, which the "regular" search API does not allow:<br>
<code>[base]/Patient?_filter=_has:Condition:subject:code ne 1234 or _has:Condition:subject:missing eq false</code></p>
<p>Edit: While writing the _filter statement above, I was running into the issue that the ':' character is rejected by the _filter grammar. See this <a href="#narrow/stream/4-implementers/subject/_has.20.26.20_filter/near/205083" title="#narrow/stream/4-implementers/subject/_has.20.26.20_filter/near/205083">thread</a>. Sorry, for that.</p>



<a name="154017614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20_has%20not/near/154017614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20_has.20not.html#154017614">(Nov 12 2018 at 12:50)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="193430">@Alexander Zautke</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
