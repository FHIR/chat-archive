---
layout: page
title: "FHIR Chat  · mpi-match · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html">mpi-match</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153916126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916126">(Oct 25 2017 at 20:56)</a>:</h4>
<p>I have a question that is kind of infrastructural, though it surfaces from $match on patient. How would we handle it if the server, when processing the $match operations, decides that it wants further information from the client, and then to try again - like, say, a questionnaire?</p>



<a name="153916128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916128">(Oct 25 2017 at 21:14)</a>:</h4>
<p>OperationOutcome ?</p>



<a name="153916129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916129">(Oct 25 2017 at 21:14)</a>:</h4>
<p>Need same for Scheduling</p>



<a name="153916151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916151">(Oct 25 2017 at 21:57)</a>:</h4>
<p>We have the same use case for decision support, especially the radiology use case.</p>



<a name="153916152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916152">(Oct 25 2017 at 21:58)</a>:</h4>
<p>GuidanceResponse had a way to indicate a status of "data-needed" and return a set of data requirements to describe the need.</p>



<a name="153916171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916171">(Oct 25 2017 at 22:58)</a>:</h4>
<p>so right now, this would be an extension - should we define one? what would it say?</p>



<a name="153916177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916177">(Oct 25 2017 at 23:22)</a>:</h4>
<p>So, maybe it's an OperationOutcome, with an issue type of "transient", and maybe something that says "not enough information", and then something that indicates what the data requirements are. This is also very similar to the "model-definition" usage of a Library, as in, the results of a <a href="http://build.fhir.org/library-operations.html#data-requirements" target="_blank" title="http://build.fhir.org/library-operations.html#data-requirements">$data-requirements operation</a>?</p>



<a name="153916178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916178">(Oct 25 2017 at 23:29)</a>:</h4>
<p>well, what are the different possible things a server want, and the follow up? if the server indicates it wants extra data, or some specific questions asked, then what happens?</p>



<a name="153916179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916179">(Oct 25 2017 at 23:36)</a>:</h4>
<p>So far, the two use cases we've encountered are data requirements, in which case, the interaction needs some way to provide the additional data. For CDS evaluation, that's the same as providing data as part of the request, there's already a facility for that. The other use case is the questionnaire, which the client would have to understand that that meant "ask the user for this data, and then provide it on the next request as a QuestionnaireResponse"</p>



<a name="153916180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916180">(Oct 25 2017 at 23:37)</a>:</h4>
<p>second use case is the same for me</p>



<a name="153916181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916181">(Oct 25 2017 at 23:40)</a>:</h4>
<p>well, the most general case is an SDC enabled questionnaire .... system can fill things out if it can, and re-submit.</p>



<a name="153916182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916182">(Oct 25 2017 at 23:40)</a>:</h4>
<p>but it has to submit the original request as well.</p>



<a name="153916183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916183">(Oct 25 2017 at 23:41)</a>:</h4>
<p>So the QuestionnaireResponse in a header?</p>



<a name="153916185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916185">(Oct 25 2017 at 23:44)</a>:</h4>
<p>What do you mean by QuestionnaireResponse in a header.  Wouldn't it be a separate interaction of $information.</p>



<a name="153916186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916186">(Oct 25 2017 at 23:44)</a>:</h4>
<p>I suppose without having a parameter to provide the data, then yes, something like a header would have to be used. Feels...out-of-band</p>



<a name="153916187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153916187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153916187">(Oct 25 2017 at 23:49)</a>:</h4>
<p>well, better than containing it, or starting to orchestrate distributed transactions</p>



<a name="153918814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/153918814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#153918814">(Nov 10 2017 at 09:07)</a>:</h4>
<p>With patient match you're likely to indicate not enough data.<br>
i.e. it wants at least 5 bits of information, and you've only provided 2.<br>
Don't know that the questionnaire is really what you want. Unless its a QuestionnaireResponse that you're requiring.<br>
(I don't have a good answer for this though)</p>



<a name="165767512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165767512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julie Maas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165767512">(May 16 2019 at 00:25)</a>:</h4>
<p>Is there any cross testing of the $match operation/is anyone aware of implementations in the field or adoption status? <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span></p>



<a name="165767598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165767598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165767598">(May 16 2019 at 00:26)</a>:</h4>
<p>I've personally done 2 implementations of it (facading into internal systems) it don't know of others at this point.</p>



<a name="165767611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165767611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165767611">(May 16 2019 at 00:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191764">@Cooper Thompson</span> did you guys try this out?</p>



<a name="165771585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165771585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165771585">(May 16 2019 at 01:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191648">@Adam Culbertson</span> ?</p>



<a name="165806388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165806388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165806388">(May 16 2019 at 12:50)</a>:</h4>
<p>We have not done patient.$match.  However our patient.search implementation is behaviorally more like $match than a proper search.   When clients do patient.search, if they haven't provided sufficient inputs, we simply return 0 results.  At least in the patient lookup use case, if a user gets 0 results for given input, it is generally intuitive to users that they just need to provide more info in order to find the match they are looking for.</p>



<a name="165810250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165810250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165810250">(May 16 2019 at 13:38)</a>:</h4>
<p>If you're going to do that, you should return a failure HTTP code and an OperationOutcome.  A successful query with zero records means no data exists.</p>



<a name="165825490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165825490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165825490">(May 16 2019 at 16:31)</a>:</h4>
<p>This is similar to the very long discussion at <a href="#narrow/stream/179166-implementers/topic/Are.20search.20parameters.20like.20filters.3F" title="#narrow/stream/179166-implementers/topic/Are.20search.20parameters.20like.20filters.3F">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Are.20search.20parameters.20like.20filters.3F</a></p>
<p>Providing hints to the existence  of potential matches can be considered a security risk. Just like it is better to return "User ID or password did not match" instead of either "User ID unknown" or "wrong password", not telling whether the result of a broad or shallow patient search can net someone some or many potential victims can be considered a better approach.</p>



<a name="165840446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165840446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julie Maas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165840446">(May 16 2019 at 19:19)</a>:</h4>
<p>Could patient.$match be used in cross-organizational queries rather than creating something new for that? Looking to not replicate any work already done on privacy-aware use of patient.$match or similar approaches, but also identify best practice minimum requirements &amp; common practice in the field for a match request (name, dob, etc.). I also recently explored using an OpenID as an identifier at the last connectathon (when pre-registered, could use as a match criterion). At the connectathon Drivers License # was also mentioned as a potential attribute. Appreciate any input from those who are interested in this same topic...</p>



<a name="165854777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165854777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165854777">(May 16 2019 at 22:29)</a>:</h4>
<p>mpi-match is only appropriate for trusted users who have the kind of access such that they are not a security risk</p>



<a name="165854799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165854799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165854799">(May 16 2019 at 22:29)</a>:</h4>
<p>e.g. it is not intended to be a valid approach for an external user matching against their own record</p>



<a name="165854884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/165854884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#165854884">(May 16 2019 at 22:30)</a>:</h4>
<p>I would think it would only be suitable for cross-organizational queries in limited circumstances where there are contractual controls around information exposure</p>



<a name="166071671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/166071671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#166071671">(May 20 2019 at 09:59)</a>:</h4>
<p>I would have thoight it would be fine, it would be up to the caller to chose how much of their resource was acceptable to share. Essentially the search parameters being used in this way is the same exposure.</p>



<a name="166073898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/166073898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#166073898">(May 20 2019 at 10:35)</a>:</h4>
<p>you would not offer search in this case either</p>



<a name="166082123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/166082123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#166082123">(May 20 2019 at 12:53)</a>:</h4>
<p>There is too many layers of responsibility being talked about as if they are one. They layers of responsibility do work together to achieve one overall organizational policy. However they are different responsibilities. There is a legitimate discussion of what the most flexible 'interoperability' layer responsibility is, at this layer we talk about pure meaning of query parameters and results. But there are Privacy, Security, Medical-Safety, and other Business layer rules that are implemented between this interoperability layer and the end use-case. It is in these various layers, that one adds restrictions on what a patient them-selves will get, what will happen if an authorized clinician expresses break-glass, and what population-health infrastructure would get. These various layers can be implemented squished together, and are often indistinguishable from a server API.</p>



<a name="166086366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/166086366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adam Culbertson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#166086366">(May 20 2019 at 13:50)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="191648">Adam Culbertson</span> ?<br>
```I have yet to do implementation on this.  But have tried getting a couple of proposals for funding on this.  I gave a talk in 2016 that details some thoughts on this <a href="https://www.youtube.com/watch?v=3zbT_JjyyVc" target="_blank" title="https://www.youtube.com/watch?v=3zbT_JjyyVc">https://www.youtube.com/watch?v=3zbT_JjyyVc</a>.  Basically we there is a need to do a proof of concept to move forward the work that has been started and would like to finish this work.</p>
</blockquote>
<div class="youtube-video message_inline_image"><a data-id="3zbT_JjyyVc" href="https://www.youtube.com/watch?v=3zbT_JjyyVc" target="_blank" title="https://www.youtube.com/watch?v=3zbT_JjyyVc"><img src="https://i.ytimg.com/vi/3zbT_JjyyVc/default.jpg"></a></div>



<a name="166086791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/166086791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adam Culbertson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#166086791">(May 20 2019 at 13:55)</a>:</h4>
<blockquote>
<p>Could patient.$match be used in cross-organizational queries rather than creating something new for that? Looking to not replicate any work already done on privacy-aware use of patient.$match or similar approaches, but also identify best practice minimum requirements &amp; common practice in the field for a match request (name, dob, etc.). I also recently explored using an OpenID as an identifier at the last connectathon (when pre-registered, could use as a match criterion). At the connectathon Drivers License # was also mentioned as a potential attribute. Appreciate any input from those who are interested in this same topic...</p>
</blockquote>
<div class="codehilite"><pre><span></span>@**Julie Maas** I have studied this issue in the recent past https://www.ncbi.nlm.nih.gov/pubmed/28378025.  In terms of best practices, it is important to parse the issue of matching versus data quality/ availability.   In my work as an innovator in residence on the topic,  Studied the data available to match, the effectiveness of patient matching algorithms (three open source versions), and then created a challenge to encourage the use of metrics.
</pre></div>



<a name="173889383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/173889383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adam Culbertson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#173889383">(Aug 22 2019 at 14:51)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="191648">Adam Culbertson</span> ?</p>
</blockquote>
<p>I have not done any implementations of it.  But did work on these several years back and would be happy to work on a reference implementation if someone has an interest.</p>



<a name="222517008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222517008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222517008">(Jan 13 2021 at 00:44)</a>:</h4>
<p>Circling back on this old topic - what's the distinction between $match and <a href="http://Patient.search">Patient.search</a>? </p>
<p><a href="http://hl7.org/fhir/patient-operation-match.html">hl7.org/fhir/patient-operation-match.html</a></p>



<a name="222517074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222517074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222517074">(Jan 13 2021 at 00:45)</a>:</h4>
<p>They're similar in intent, but pretty different in format (a series of name=[value] pairs encoded in the URL or as an application/x-www-form-urlencoded submission for a POST VS POST with JSON body)</p>



<a name="222530042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222530042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222530042">(Jan 13 2021 at 03:56)</a>:</h4>
<p>Search has tighter semantics (results need to actually match the supplied criteria); $match semantics are more like "do you have a (probable) ID for this patient of mine?", and the results can be fuzzy or match on just a subset of fields.</p>



<a name="222533094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222533094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222533094">(Jan 13 2021 at 04:44)</a>:</h4>
<p>Framed another way, <code>name=bob</code> will never return 'Robert' with search, but Patient having a name of 'Bob' passed into $match could return a hit</p>



<a name="222537944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222537944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222537944">(Jan 13 2021 at 06:06)</a>:</h4>
<p>Ah, exact match vs probabilistic.</p>



<a name="222537960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222537960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222537960">(Jan 13 2021 at 06:06)</a>:</h4>
<p>Why are the formats so different?</p>



<a name="222538002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222538002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222538002">(Jan 13 2021 at 06:07)</a>:</h4>
<p>The POST body with form-encoded vs JSON parameters body</p>



<a name="222588659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222588659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222588659">(Jan 13 2021 at 14:39)</a>:</h4>
<p>Operations have to follow the operations rules for parameters</p>



<a name="222596011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222596011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222596011">(Jan 13 2021 at 15:21)</a>:</h4>
<p>The way I think about it is that as you add more data (parameters) to <a href="http://Patient.search">Patient.search</a>, you should get fewer results.  But as you add more data to patient.$match, you may get more results, since the server has more data it can use for matching.</p>
<p>The other way to see the difference is that with <a href="http://Patient.search">Patient.search</a>, the client determines what criteria to use.  With Patient.$match, the server is making the decision.  Of course in practice, many servers may be doing that for <a href="http://patient.search">patient.search</a> too, since there is the comment about "server discretion" in the search interaction page.</p>



<a name="222596121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222596121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222596121">(Jan 13 2021 at 15:22)</a>:</h4>
<p>Note that not all servers actually behave as described for <a href="http://patient.search">patient.search</a>... But that's how I look at it.</p>



<a name="222599155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222599155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222599155">(Jan 13 2021 at 15:39)</a>:</h4>
<p>Thanks everyone</p>
<p><span class="user-mention" data-user-id="191764">@Cooper Thompson</span> would Epic be  deviating from that, per earlier comments above? Or has that changed?</p>



<a name="222628979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222628979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222628979">(Jan 13 2021 at 19:02)</a>:</h4>
<p>Our <a href="http://Patient.search">Patient.search</a> behaves more like a $match.  If you happen to be familiar with Epic..., we use IDC behind the scenes.  This is allowed per this bit in the search spec: <br>
<code>The server determines which of their resources meet the criteria contained in the search parameters as described below. However, the server has the prerogative to return additional search results if it believes them to be relevant.</code></p>



<a name="222680461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/222680461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#222680461">(Jan 14 2021 at 05:03)</a>:</h4>
<p>Search works against specific indexes.  Match works against "magic sauce" that varies from implementation to implementation with all sorts of transformations and weightings.  So it was somewhat cleaner to just pass in the whole Patient with whatever you have and the server would use whatever it could.</p>



<a name="253330212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/mpi-match/near/253330212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julie Maas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/mpi-match.html#253330212">(Sep 14 2021 at 21:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191648">@Adam Culbertson</span> just following up on your interest in an RI for this...FYI Scenario 6 at this <a href="https://confluence.hl7.org/pages/viewpage.action?pageId=120094899">connectathon 28</a> has more details about profiling $match now, in case you would like to explore. Appreciate your feedback!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
