---
layout: page
title: "FHIR Chat  · Attachment.contentType for FHIR · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html">Attachment.contentType for FHIR</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="273238706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273238706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273238706">(Feb 25 2022 at 14:54)</a>:</h4>
<p>Is there any recommendation on how to set Attachment.contentType if the Attachment.url points to a FHIR-Resource (e.g. a Bundle) which could be retrieved in either xml or json? <br>
Is <code>application/fhir</code> a thing?</p>



<a name="273238885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273238885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273238885">(Feb 25 2022 at 14:55)</a>:</h4>
<p>We don't have a notion of a URL that supports content negotiation for different mime types.  Feel free to submit a change request</p>



<a name="273239729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273239729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273239729">(Feb 25 2022 at 15:01)</a>:</h4>
<p>So, currently all I could do is wrap a fixed representation of the Bundle into an Binary and set Attachment.contentType according to Binary.contentType ?</p>



<a name="273241485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273241485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273241485">(Feb 25 2022 at 15:14)</a>:</h4>
<p>No, you could point to a FHIR endpoint, but the mime type you declare needs to be whatever you'll get from that endpoint by default (without content negotiation)</p>



<a name="273241536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273241536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273241536">(Feb 25 2022 at 15:15)</a>:</h4>
<p>For some servers, that's JSON, for some it's XML, for some it's HTML.  For some, it'll be an error.</p>



<a name="273241794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273241794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273241794">(Feb 25 2022 at 15:17)</a>:</h4>
<p>Alternatively, could a Server expose one DocumentReference.content each for every representation it supports? One with an application/fhir+xml Attachment, the other with an application/fhir-json attachment?</p>



<a name="273241972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273241972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273241972">(Feb 25 2022 at 15:18)</a>:</h4>
<p>If you include the _format in the URL - and the server supports it.</p>



<a name="273247670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273247670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273247670">(Feb 25 2022 at 16:07)</a>:</h4>
<p>I have recommended that .contentType when a .url is used be specified as the preferred mime-type at that url; but that the http negotiate can be used to get a different mime-type that the client would prefer. normal http mime-type negotiation</p>



<a name="273247822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273247822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273247822">(Feb 25 2022 at 16:08)</a>:</h4>
<p>thus, I could have a url that I indicate contentType is fhir/json... but if  a client wants PDF, and that server can provide PDF, then PDF can be returned.</p>



<a name="273247866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273247866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273247866">(Feb 25 2022 at 16:09)</a>:</h4>
<p>I think this is defined in Binary... so I expected it to apply everywhere Binary can be used, and attachment.url is one of those places.</p>



<a name="273247977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273247977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273247977">(Feb 25 2022 at 16:10)</a>:</h4>
<p>thus .contentType is simply the mime-type that you are guaranteed you can get, but you are free to use http negotiate to ask for anything you prefer.</p>



<a name="273249459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273249459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273249459">(Feb 25 2022 at 16:22)</a>:</h4>
<p>That's also my understanding of Binary, IMHO one DocRef would suffice, one can always try and request a different mime type. However, if a server wishes to make it known that it can resturn a PDF, a HTML and a fhir+json version, you may need multiple DocRefs.</p>



<a name="273249779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273249779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273249779">(Feb 25 2022 at 16:24)</a>:</h4>
<p>Why would you need multiple DocRefs when you can have multiple DocRef.content elements?</p>



<a name="273252207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.contentType%20for%20FHIR/near/273252207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2EcontentType.20for.20FHIR.html#273252207">(Feb 25 2022 at 16:43)</a>:</h4>
<p>in FHIR core... yes multiple .content could be used... in IHE-MHD one uses multiple DocumentReference</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
