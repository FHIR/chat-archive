---
layout: page
title: "FHIR Chat  · Multiple chain parameters · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chain.20parameters.html">Multiple chain parameters</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203943710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chain%20parameters/near/203943710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hue Nguyen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chain.20parameters.html#203943710">(Jul 15 2020 at 11:38)</a>:</h4>
<p>I try to write a query to get all Encounter where have <code>Patient.general-practitioner:Practitioner = {Id1}</code> and <code>Patient.general-practitioner:PractitionerRole = {Id2}</code>, and i try with 2 of this query</p>
<p>[1] <code>Encounter?patient.general-practitioner:Practitioner.id=001&amp;patient.general-practitioner:PractitionerRole.id=002</code></p>
<p>[2] <code>Encounter?patient.general-practitioner:Practitioner.id=002&amp;patient.general-practitioner:PractitionerRole.id=002</code></p>
<p>Data base will like:</p>
<p>Encounter 1: include Patient has practitioner id = 001 and practitionerRole id = 002<br>
Encounter 2: include Patient has practitioner id = 002 and practitionerRole id = 002</p>
<p>Expect:<br>
[1] will return Encounter 1 and 2<br>
[2] will return Encounter 1 and 2</p>
<p>Actual:<br>
[1] will return only Encounter 1<br>
[2] will return Encounter 1 and 2</p>
<p>My server: GCP FHIR</p>
<p>Do you have any idea what happen ? Although  <a href="https://cloud.google.com/healthcare/docs/how-tos/fhir-advanced-search">gcp docs</a> said <code>If the query has multiple chained parameters, each chain is evaluated separately</code><br>
cc: <span class="user-mention" data-user-id="197072">@Paul Church</span></p>



<a name="203977747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chain%20parameters/near/203977747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chain.20parameters.html#203977747">(Jul 15 2020 at 16:20)</a>:</h4>
<p>For a reference search you want to do <code>Encounter?patient.general-practitioner=Practitioner/001&amp;patient.general-practitioner=PractitionerRole/002</code>.  Using <code>.id</code> (should be <code>._id</code> I think) is a second level of chaining.</p>
<p>However this search is maybe not what you want since it is AND. It will only match an encounter E such that E.patient.general-practitioner=Practitioner/001 AND E.patient.general-practitioner=PractitionerRole/002. If you want an OR operation you need to do two searches.</p>



<a name="203993065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chain%20parameters/near/203993065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chain.20parameters.html#203993065">(Jul 15 2020 at 18:20)</a>:</h4>
<p>Unless you do it in a _filter query which enables OR's</p>



<a name="204038775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chain%20parameters/near/204038775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hue Nguyen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chain.20parameters.html#204038775">(Jul 16 2020 at 02:42)</a>:</h4>
<p><span class="user-mention" data-user-id="197072">@Paul Church</span> i got this, Thank you for reply</p>



<a name="204038793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chain%20parameters/near/204038793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hue Nguyen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chain.20parameters.html#204038793">(Jul 16 2020 at 02:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> GCP doesn't support <code>filter</code>. So, i think i need make query twice</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
