---
layout: page
title: "FHIR Chat  · Validation fails for Observation without component · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20fails.20for.20Observation.20without.20component.html">Validation fails for Observation without component</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153952278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20fails%20for%20Observation%20without%20component/near/153952278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre Santos <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20fails.20for.20Observation.20without.20component.html#153952278">(Apr 13 2018 at 17:06)</a>:</h4>
<p>I implemented the validators according to the examples on HAPI FHIR and all Observation resources examples fail the validation if there is no component. I'm using the "Resource Validation Module: Schema/Schematron".<br>
Is this a bug in the XSD provided?</p>



<a name="153952282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20fails%20for%20Observation%20without%20component/near/153952282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20fails.20for.20Observation.20without.20component.html#153952282">(Apr 13 2018 at 17:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="153952283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20fails%20for%20Observation%20without%20component/near/153952283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre Santos <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20fails.20for.20Observation.20without.20component.html#153952283">(Apr 13 2018 at 17:16)</a>:</h4>
<p>BTW, this is the output:<br>
&lt;OperationOutcome &gt;<br>
    &lt;issue&gt;<br>
        &lt;severity value="error"&gt;&lt;/severity&gt;<br>
        &lt;code value="processing"&gt;&lt;/code&gt;<br>
        &lt;diagnostics value="[error] Observation @ /<em>:Observation[namespace-uri()='<a href="http://hl7.org/fhir'][1]" target="_blank" title="http://hl7.org/fhir'][1]">http://hl7.org/fhir'][1]</a>; Test=not(exists(f:</em>[starts-with(local-name(.), 'value')])) or not(count(for $coding in f:code/f:coding return parent::*/f:component/f:code/f:coding[f:code/@value=$coding/f:code/@value and f:system/@value=$coding/f:system/@value])=0); Message=obs-7: If code is the same as a component code then the value element associated with the code SHALL NOT be present"&gt;&lt;/diagnostics&gt;<br>
        &lt;location value="Observation @ /*:Observation[namespace-uri()='http://hl7.org/fhir'][1]"&gt;&lt;/location&gt;<br>
    &lt;/issue&gt;<br>
&lt;/OperationOutcome&gt;</p>



<a name="153952355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20fails%20for%20Observation%20without%20component/near/153952355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20fails.20for.20Observation.20without.20component.html#153952355">(Apr 13 2018 at 23:32)</a>:</h4>
<p>what version of FHIR, and what version of HAPI?</p>



<a name="153952450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20fails%20for%20Observation%20without%20component/near/153952450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandre Santos <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20fails.20for.20Observation.20without.20component.html#153952450">(Apr 16 2018 at 08:59)</a>:</h4>
<blockquote>
<p>what version of FHIR, and what version of HAPI?</p>
</blockquote>
<p>DSTU3 and this happens with HAPI 3.3.0. If this message is used as a document in the HAPI Test Server (<a href="http://fhirtest.uhn.ca/validate" target="_blank" title="http://fhirtest.uhn.ca/validate">http://fhirtest.uhn.ca/validate</a>) and we try to create a new resource, we don't see this error (the team that produces the specs for our FHIR messages uses that). But if we try to use the Validators then we see that error about the component.<br>
Here is the permanent link from gazelle where you can see it: <a href="https://gazelle.ihe.net/EVSClient/detailedResult.seam?type=FHIR&amp;oid=1.3.6.1.4.1.12559.11.1.2.1.4.849544" target="_blank" title="https://gazelle.ihe.net/EVSClient/detailedResult.seam?type=FHIR&amp;oid=1.3.6.1.4.1.12559.11.1.2.1.4.849544">https://gazelle.ihe.net/EVSClient/detailedResult.seam?type=FHIR&amp;oid=1.3.6.1.4.1.12559.11.1.2.1.4.849544</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
