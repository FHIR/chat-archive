---
layout: page
title: "FHIR Chat  · Searching DocumentReference · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html">Searching DocumentReference</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="186024830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186024830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ford Parsons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186024830">(Jan 19 2020 at 04:29)</a>:</h4>
<p>I'm attempting to query the <code>DocumentReference</code> endpoint and I'm running into a little trouble. I hope this is the right place to ask.</p>
<p>I'd like to include the content of the clinical note in the results of a single FHIR query (rather than sending a subsequent request to the Binary endpoint). It seems like the <code>_include</code> querystring parameter should be able to provide this, using something like this:</p>
<p><code>https://example.org/STU3/DocumentReference?patient=123456789&amp;class=clinical-notes&amp;_include=DocumentReference:content</code></p>
<p>However, only resources of type <code>DocumentReference</code> are returned (no <code>Binary</code> resources in the <code>entry</code> array)</p>
<p>My question is: 1) Is this something I'm doing wrong, 2) Is this something not supported by my FHIR instance (Epic STU3), or 3) Is this not supported by FHIR?</p>
<p>The <a href="https://www.hl7.org/fhir/search.html#external" target="_blank" title="https://www.hl7.org/fhir/search.html#external">FHIR Search document</a> seems to call out this exact use case (i.e., including binary resources), but it doesn't provide a sample query so I might have the syntax wrong.</p>
<p>Thanks for taking a look!</p>
<p>Best,<br>
Ford</p>



<a name="186025275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186025275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186025275">(Jan 19 2020 at 04:45)</a>:</h4>
<p>Yes, there is something wrong: <code>_include</code> must  use a search parameter - and <code>content</code> is not a DocumentReference search parameter</p>



<a name="186025322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186025322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186025322">(Jan 19 2020 at 04:47)</a>:</h4>
<p>Also, I think Epic does not supports <code>_include</code>  at all</p>



<a name="186026088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186026088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ford Parsons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186026088">(Jan 19 2020 at 05:15)</a>:</h4>
<p>Thanks for taking a look, <span class="user-mention" data-user-id="191912">@Michele Mottini</span> . That makes sense.</p>
<p>Is there another technique that people are using to get the Binary content.attachment for a DocumentReference all in one request, or is it typical to use multiple requests?</p>



<a name="186026136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186026136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186026136">(Jan 19 2020 at 05:16)</a>:</h4>
<p>I don't think it is possible</p>



<a name="186026144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186026144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ford Parsons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186026144">(Jan 19 2020 at 05:17)</a>:</h4>
<p>Also, for what it's worth, Epic does appear to support <code>_include</code> (at least in their STU3 implementation). For example, this works: <code>https://example.org/STU3/MedicationRequest?patient=12345&amp;_include=MedicationRequest:medication</code>.</p>



<a name="186026185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186026185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ford Parsons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186026185">(Jan 19 2020 at 05:18)</a>:</h4>
<p>Thanks, appreciate your help <span class="user-mention" data-user-id="191912">@Michele Mottini</span></p>



<a name="186026280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186026280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186026280">(Jan 19 2020 at 05:22)</a>:</h4>
<p>Did not even know they have a STU3 implementation now - I was talking about the good old DSTU2 one!</p>



<a name="186026455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186026455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ford Parsons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186026455">(Jan 19 2020 at 05:28)</a>:</h4>
<p>They're just quietly iterating away in Wisconsin!<br>
Here's some of their <a href="https://uscdi.epic.com/Specifications?api=491" target="_blank" title="https://uscdi.epic.com/Specifications?api=491">STU3 documentation</a> if you're interested</p>



<a name="186026630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186026630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186026630">(Jan 19 2020 at 05:35)</a>:</h4>
<p>(Sort of a strange choice to implement STU3, with everyone going to R4)</p>



<a name="186026772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186026772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ford Parsons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186026772">(Jan 19 2020 at 05:40)</a>:</h4>
<p>Hey, I'm just a customer -- I'll take what I can get!</p>



<a name="186059039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186059039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186059039">(Jan 19 2020 at 22:13)</a>:</h4>
<p>also note that the DocumentReference.content.attachment.url is not defined as a Reference, it is defined as a simple URL. It can be pointing at a Binary, but might be any URL. Thus asking to _include might only work when the attachment is saved as a Binary.</p>



<a name="186114986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20DocumentReference/near/186114986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20DocumentReference.html#186114986">(Jan 20 2020 at 16:17)</a>:</h4>
<p>Epic AppOrchard supports both DSTU2, STU3. They are adding R4 resources since 2019.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
