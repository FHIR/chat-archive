---
layout: page
title: "FHIR Chat  · search: chaining _has and normal chained parameters · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters.html">search: chaining _has and normal chained parameters</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153951037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%3A%20chaining%20_has%20and%20normal%20chained%20parameters/near/153951037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters.html#153951037">(Apr 05 2018 at 21:37)</a>:</h4>
<p>I have a<br>
Model: There is a reference link Medication&lt;-MedicationRequest&lt;-DiagnosticReport-&gt;Encounter-&gt;Patient<br>
Goal: Get all Medication requested during all Patient "molly"'s visits<br>
request: Medication?_has:MedicationRequest:medication:_has:DiagnosticReport:based-on:context.subject.name=molly</p>
<p>The Vonk server seems to supports this and gives me the medication record, while HAPI and <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a> give me errors. Given that at least one server returns results I'm assuming that this kind of chaining is allowed as per the spec.</p>
<p>Suppose I have a<br>
Model: There is a reference link DiagnosticReport-&gt;Observation&lt;-Condition<br>
Goal: Get DiagnosticReports with result Observations referred to by Condition ddd</p>
<p>Is the following request correct/possible? I tried to do DiagnosticReport?result=_has:Condition:evidence-detail:code=ddd<br>
but I got an error on HAPI, <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a>. Vonk just returned an empty bundle. Not sure if it's due to the syntax or it's completely not allowed as per the spec.</p>



<a name="153951039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%3A%20chaining%20_has%20and%20normal%20chained%20parameters/near/153951039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters.html#153951039">(Apr 05 2018 at 22:01)</a>:</h4>
<p><a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a> doesn't yet implement reverse include - it's on my list</p>



<a name="153951043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%3A%20chaining%20_has%20and%20normal%20chained%20parameters/near/153951043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters.html#153951043">(Apr 05 2018 at 22:10)</a>:</h4>
<p>I'm not talking about reverse include though, but rather chaining/reverse chaining parameters and asking about the possible ways you could combine them in a single search parameter.</p>



<a name="153951148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%3A%20chaining%20_has%20and%20normal%20chained%20parameters/near/153951148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters.html#153951148">(Apr 06 2018 at 10:27)</a>:</h4>
<p>DiagnosticReport?result=_has:Condition:evidence-detail:code=ddd is accepted by Vonk because "_has:Condition:evidence-detail:code=ddd" is accepted as a relative uri. But it does not make sense, and will never match any resource. Hence the empty bundle. We may need to be more strict on the format of references.</p>



<a name="153951154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%3A%20chaining%20_has%20and%20normal%20chained%20parameters/near/153951154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters.html#153951154">(Apr 06 2018 at 12:01)</a>:</h4>
<p>Ok understood.</p>
<p>So is there no possible way to search on the last example I gave? Maybe adding some additional param that has the same idea as _has but used for forward chaining, like:</p>
<p>DiagnosticReport?_its:Observation:result:_has:Condition:evidence-detail:code=ddd</p>



<a name="153951156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%3A%20chaining%20_has%20and%20normal%20chained%20parameters/near/153951156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters.html#153951156">(Apr 06 2018 at 12:23)</a>:</h4>
<p>Using my first example, the query could be written in two ways; (1) which is already defined above or by using this new imaginary param:</p>
<p>Medication?_has:MedicationRequest:medication:_has:DiagnosticReport:based-on:_its:Encounter:context:_its:Patient:subject:name=molly</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
