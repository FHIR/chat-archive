---
layout: page
title: "FHIR Chat  · Interpretation for obs-7 rule, Observation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpretation.20for.20obs-7.20rule.2C.20Observation.html">Interpretation for obs-7 rule, Observation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244264465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpretation%20for%20obs-7%20rule%2C%20Observation/near/244264465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Constantin Corman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpretation.20for.20obs-7.20rule.2C.20Observation.html#244264465">(Jun 29 2021 at 11:13)</a>:</h4>
<p>Hello!<br>
We have a dilemma regarding how we should interpret the rule obs-7 present for Observation:<br>
<strong>“If Observation.code is the same as an Observation.component.code then the value element associated with the code SHALL NOT be present” </strong><br>
We wonder if for this rule we should compare <br>
1.  Observation.code.coding.code with Observation.componenet.code.coding.code <br>
2.  Observation.code.coding with Observation.componenet.code.coding<br>
3.  The entire tree Observation.code vs Observation.component.code</p>
<p>If we compare the entire tree then the example below would respect the rule because <em>Observation.code.text</em> is different from <em>Observation.component.code.text</em>, even if <em>Observation.code.coding = Observation.component.coding</em>:</p>
<p><strong>Observation.code</strong><br>
"code": {<br>
          "text": "text",<br>
          "coding": [<br>
            {<br>
              "system": <a href="http://loinc.org">http://loinc.org</a>,<br>
              "code": "9279-1",<br>
              "display": "Respiratory rate"<br>
            }<br>
          ]<br>
        },</p>
<p><strong>Observation.component.code</strong></p>
<p>"code": {<br>
              "text": "some text",<br>
              "coding": [<br>
                {<br>
                  "system": <a href="http://loinc.org">http://loinc.org</a>,<br>
                  "code": "9279-1",<br>
                  "display": "Respiratory rate"<br>
                }<br>
              ]<br>
            },</p>
<p>If I validate the example above on <a href="http://clinfhir.com/validateResource.html">http://clinfhir.com/validateResource.html</a> with “Ontoserver R4” then obs-7 rule will fail (we have the same code.coding)<br>
I validated the example above with “FHIR test 4” on the same site and received no errors. </p>
<p>The question is: is it the rule wrongly expressed ( it should state “If Observation.code.coding is the same as an Observation.component.code.coding...") or the validators don’t do the write comparison and we should actually compare Observation.code vs Observation.component[x].code ?</p>
<p>Thanks in advance!</p>



<a name="244284171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpretation%20for%20obs-7%20rule%2C%20Observation/near/244284171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpretation.20for.20obs-7.20rule.2C.20Observation.html#244284171">(Jun 29 2021 at 13:54)</a>:</h4>
<p>It's looking for a match on any of the codings.  If there's a coding in the Observation.code that is the same as a coding in an Observation.component.code, the invariant will trigger.  What's in CodeableConcept.text doesn't matter.  I don't know whether the compare on the coding pays any attention to Coding.display.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
