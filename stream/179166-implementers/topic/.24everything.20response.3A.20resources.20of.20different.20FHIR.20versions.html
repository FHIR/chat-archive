---
layout: page
title: "FHIR Chat  · $everything response: resources of different FHIR versions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html">$everything response: resources of different FHIR versions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160137074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160137074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160137074">(Mar 06 2019 at 21:40)</a>:</h4>
<p>We have several FHIR based APIs on different versions of FHIR. If we need to implement Patient/[id]/$everything, would this be compliant to return a bundle with resources of different FHIR versions (e.g. Patient on STU3, Immunization on DSTU2.1 and MedicationDispense on R4)? Should we indicate a version of each resource in meta.profile as per an example at <a href="http://www.hl7.org/fhir/R4/versioning.html#mp-version" target="_blank" title="http://www.hl7.org/fhir/R4/versioning.html#mp-version">http://www.hl7.org/fhir/R4/versioning.html#mp-version</a>?</p>



<a name="160137485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160137485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160137485">(Mar 06 2019 at 21:45)</a>:</h4>
<p>it's not compliant to mix versions within a single bundle - which has a version of it's own. None of the reference implementations can handle it, and I can't imagine how I'd change a RI to handle it either.</p>



<a name="160140721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160140721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160140721">(Mar 06 2019 at 21:59)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> . I think it's fine for the Reference Implementation to support only one version as it's actually been built for each version of FHIR. However, I'm not sure if it's realistic to expect that every organization (especially if it's large/complex one) that supports FHIR based APIs for multiple lines of business, would have all their APIs on the same version of FHIR. Each of the lines of business has its own budget, resources, customers and might choose to migrate to a newer version of FHIR on their own timelines or might decide to skip a newer version and wait for the following one. If $everything with a mix of version is not compliant, wouldn't this preclude implementation of this operation in large organizations?</p>



<a name="160144515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160144515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160144515">(Mar 06 2019 at 22:09)</a>:</h4>
<blockquote>
<p>I'm not sure if it's realistic to expect that every organization would have all their APIs on the same version of FHIR</p>
</blockquote>
<p>of course that is not realistic, nor expected and plenty of orgs are already not in that position</p>



<a name="160144545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160144545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160144545">(Mar 06 2019 at 22:09)</a>:</h4>
<blockquote>
<p>If $everything with a mix of version is not compliant, wouldn't this preclude implementation of this operation in large organizations?</p>
</blockquote>
<p>Well, maybe. But just because something is desired doesn't mean it is possible</p>



<a name="160144654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160144654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160144654">(Mar 06 2019 at 22:10)</a>:</h4>
<p>it's more possible to handle multiple versions in bulk data mode, where each file has it's own mime type, which can inform a loader ...</p>



<a name="160149638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160149638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160149638">(Mar 06 2019 at 23:04)</a>:</h4>
<p>What you might need to do is invoke $everything on a version specific basis for each version if the endpoint can't handle data conversion.  (Note that executable mappings are provided for DSTU2 to STU3 and STU3 to R4 so it's not (quite) as onerous to support multiple versions of FHIR as it has been with other standards.</p>



<a name="160163563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160163563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160163563">(Mar 07 2019 at 02:34)</a>:</h4>
<p>It's not so much about mapping on the server side, but mostly about the clients who have been consuming our line of business APIs on different FHIR versions. Now we want to give them an option to get data from all the APIs in one call, but using versions that they have already been supporting, i.e. they just need to add a small piece of code to parse the "mixed" bundle and then reuse their existing code to deal with each resource. This is why I thought that Version Specific Profile in meta.profile described at <a href="http://www.hl7.org/fhir/R4/versioning.html#mp-version" target="_blank" title="http://www.hl7.org/fhir/R4/versioning.html#mp-version">http://www.hl7.org/fhir/R4/versioning.html#mp-version</a> would be a good solution for this approach.</p>



<a name="160165865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20response%3A%20resources%20of%20different%20FHIR%20versions/near/160165865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20response.3A.20resources.20of.20different.20FHIR.20versions.html#160165865">(Mar 07 2019 at 03:26)</a>:</h4>
<blockquote>
<p>they just need to add a small piece of code to parse the "mixed" bundle</p>
</blockquote>
<p>Actually, it's a long piece of string and there are many problems with it. So though I understand the intent and rationale, it doesn't seem very practical to me</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
