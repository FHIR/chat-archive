---
layout: page
title: "FHIR Chat  · IG QA Invariant warning on claim.careTeam.sequence · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20QA.20Invariant.20warning.20on.20claim.2EcareTeam.2Esequence.html">IG QA Invariant warning on claim.careTeam.sequence</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="267630598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20QA%20Invariant%20warning%20on%20claim.careTeam.sequence/near/267630598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Debra Mangum <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20QA.20Invariant.20warning.20on.20claim.2EcareTeam.2Esequence.html#267630598">(Jan 11 2022 at 19:10)</a>:</h4>
<p>Hi - Using sushi 2.2.3, FHIR v4.0.1. <br>
Added invariant rule on Claim profile as expression "careTeam.sequence = item.careTeamSequence".  <br>
Example instance includes (code snippet):</p>
<div class="codehilite"><pre><span></span><code>* careTeam.sequence  = 1
* careTeam.provider  = Reference(DrKelly)
      .....

* item.sequence                     = 1
</code></pre></div>

<p>* item.careTeamSequence = 1<br>
     .....<br>
QA error is:<br>
<a href="/user_uploads/10155/KM9Pf9OqVpKFVe0gyAPVDjBP/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/KM9Pf9OqVpKFVe0gyAPVDjBP/image.png" title="image.png"><img src="/user_uploads/10155/KM9Pf9OqVpKFVe0gyAPVDjBP/image.png"></a></div><p>Any ideas why the QA warning occurs?</p>



<a name="267646738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20QA%20Invariant%20warning%20on%20claim.careTeam.sequence/near/267646738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20QA.20Invariant.20warning.20on.20claim.2EcareTeam.2Esequence.html#267646738">(Jan 11 2022 at 21:21)</a>:</h4>
<p>Presuming that you're declaring this at the base of Claim, what you'll get is two collections = the full set of careTeam.sequences and the full set of item.careTeamSequence values.  If the two collections aren't identical, the warning will fire.</p>



<a name="267646775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20QA%20Invariant%20warning%20on%20claim.careTeam.sequence/near/267646775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20QA.20Invariant.20warning.20on.20claim.2EcareTeam.2Esequence.html#267646775">(Jan 11 2022 at 21:21)</a>:</h4>
<p>What are you trying to actually enforce?  That the item.careTeamSequence is one of the defined careTeam.sequence values?</p>



<a name="267646890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20QA%20Invariant%20warning%20on%20claim.careTeam.sequence/near/267646890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20QA.20Invariant.20warning.20on.20claim.2EcareTeam.2Esequence.html#267646890">(Jan 11 2022 at 21:22)</a>:</h4>
<p>If so, then your context should be in item.careTeamSequence and it should be <code>%resource.careTeam[sequence=$this].exists()</code> - I think :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
