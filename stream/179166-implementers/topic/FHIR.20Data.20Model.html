---
layout: page
title: "FHIR Chat  · FHIR Data Model · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html">FHIR Data Model</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="164991611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/164991611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Berda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#164991611">(May 06 2019 at 15:32)</a>:</h4>
<p>Hi All,<br>
I am new with HL7-FHIR data transmission standards, but I have been reading the documents and posts over the last few weeks on the FHIR website.  Our project team is using FHIR standards to ingest healthcare data into our system.   My interest is to understand at a high-level the data architecture that FHIR supports so that we may have an accurate depiction for storage.  From Kevin Mayfield post, he provided a link to a FHIR (STU3) model at <a href="https://www.openhealthhub.org/t/exploring-fhir-model-database/1987" target="_blank" title="https://www.openhealthhub.org/t/exploring-fhir-model-database/1987">https://www.openhealthhub.org/t/exploring-fhir-model-database/1987</a>  with a relational database model using HAPI RESTful server.  Working with a system engineer, we run the server in RedHat 7 Operating System and when we try to compose the yml file we were getting those errors, as indicated below.  We need the yml file, which executes.  <br>
The file continues to throw errors; ERROR: yaml.parser.ParserError: while parsing a block mapping<br>
in "./docker-compose.yml", line 10, column 4<br>
expected &lt;block end&gt;, but found '&lt;block mapping start&gt;'<br>
in "./docker-compose.yml", line 16, column 5<br>
Your help is much appreciated.<br>
Regards, <br>
Marian</p>



<a name="165007009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165007009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165007009">(May 06 2019 at 18:37)</a>:</h4>
<p><span class="user-mention" data-user-id="194909">@Kevin Mayfield</span> ?  Also, you might raise the question on the <a class="stream" data-stream-id="179289" href="/#narrow/stream/179289-storage-for-FHIR">#storage for FHIR</a> stream</p>



<a name="165008312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165008312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165008312">(May 06 2019 at 18:52)</a>:</h4>
<p>Did you use the docker-compose.min.yml? </p>
<p>I can't see anything obviously wrong with the yml file. It sounds like it's missing some spaces in the file.</p>



<a name="165008784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165008784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165008784">(May 06 2019 at 18:58)</a>:</h4>
<p>p.s. that is an interpretation of the FHIR model in RDBMS form. Not all of the resources were implemented and some optimisations were implemented (e.g. some one to many CodeableConcepts were turned to 1..1 as we were only expecting to support SNOMED) but it does give the gist of the model.</p>



<a name="165008903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165008903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165008903">(May 06 2019 at 18:59)</a>:</h4>
<p>p.s. the model isn't 100% accurate, some optimisations were done and some resources haven't been implemented (it was expected to evolve alongside the UK model)</p>



<a name="165011774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165011774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Berda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165011774">(May 06 2019 at 19:34)</a>:</h4>
<p>Thanks so much, Kevin..   We double checked again and confirmed nothing is missing.   We also used another yml file, compose it and it works.  Is it possible to send along your yml file directly.   <a href="http://10.97.21.204:8000/wp-admin/install.php" target="_blank" title="http://10.97.21.204:8000/wp-admin/install.php">http://10.97.21.204:8000/wp-admin/install.php</a><br>
version: '3'<br>
services:<br>
   db:<br>
     image: mysql:5.7<br>
     volumes:<br>
       - db_data:/var/lib/mysql<br>
     restart: always<br>
     environment:<br>
       MYSQL_ROOT_PASSWORD: somewordpress<br>
       MYSQL_DATABASE: wordpress<br>
       MYSQL_USER: wordpress<br>
       MYSQL_PASSWORD: wordpress</p>
<p>wordpress:<br>
     depends_on:<br>
       - db<br>
     image: wordpress:latest<br>
     ports:<br>
       - "8000:80"<br>
     restart: always<br>
     environment:<br>
       WORDPRESS_DB_HOST: db:3306<br>
       WORDPRESS_DB_USER: wordpress<br>
       WORDPRESS_DB_PASSWORD: wordpress<br>
volumes:<br>
    db_data: <br>
 We are so close.   Since I have limited knowledge of the structure, your data model, although not 100%, will give us a jump start to understand the structure.   Much appreciate your help.   Marian</p>



<a name="165077852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165077852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Berda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165077852">(May 07 2019 at 14:50)</a>:</h4>
<p>Getting closer...   This is the error now received with yml file now.  Any thoughts on how to resolve?</p>
<p>WARNING: The IMAGE_TAG variable is not set. Defaulting to a blank string.<br>
WARNING: The MYSQL_DB_USER variable is not set. Defaulting to a blank string.<br>
WARNING: The MYSQL_DB_PASSWORD variable is not set. Defaulting to a blank string.<br>
WARNING: The FHIR_SERVER_BASE_HOST variable is not set. Defaulting to a blank string.<br>
ccrisql is up-to-date<br>
Creating ccriserver ... error</p>



<a name="165080833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165080833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Berda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165080833">(May 07 2019 at 15:19)</a>:</h4>
<p>BTW:  We are running docker on Linux - Redhat 7</p>



<a name="165272331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165272331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Berda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165272331">(May 09 2019 at 17:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>   We are so close to view the FHIR (STU3) relational model.   Using Linux Redhat 7 server with docker installed.    If can have a session or guidiance to resolve this issue, much appreciate.   So close...<br>
 This is what i did just now... <br>
version: '3'<br>
services:<br>
   db:<br>
     image: mysql:5.7<br>
     volumes:<br>
       - db_data:/var/lib/mysql<br>
     restart: always<br>
     environment:<br>
       MYSQL_ROOT_PASSWORD: somewordpress<br>
       MYSQL_DATABASE: wordpress<br>
       MYSQL_USER: wordpress<br>
       MYSQL_PASSWORD: wordpress<br>
<br>
   wordpress:<br>
     depends_on:<br>
       - db<br>
     image: wordpress:latest<br>
     ports:<br>
       - "8000:80"<br>
     restart: always<br>
     environment:<br>
       WORDPRESS_DB_HOST: db:3306<br>
       WORDPRESS_DB_USER: wordpress<br>
       WORDPRESS_DB_PASSWORD: wordpress<br>
volumes:<br>
    db_data:</p>



<a name="165275224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165275224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165275224">(May 09 2019 at 18:06)</a>:</h4>
<p>Ok - and what problems are you running into?</p>



<a name="165279608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165279608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165279608">(May 09 2019 at 18:56)</a>:</h4>
<p>The link to the docker-compose is this <a href="https://github.com/nhsconnect/careconnect-reference-implementation/blob/master/docker-compose.min.yml" target="_blank" title="https://github.com/nhsconnect/careconnect-reference-implementation/blob/master/docker-compose.min.yml">https://github.com/nhsconnect/careconnect-reference-implementation/blob/master/docker-compose.min.yml</a></p>
<p>if you're not setting the environment variables you will need to change the variables ${MYSQL_DB_USER} with real values. <br>
This is a link to default values we used <a href="https://github.com/nhsconnect/careconnect-reference-implementation/blob/master/.env" target="_blank" title="https://github.com/nhsconnect/careconnect-reference-implementation/blob/master/.env">https://github.com/nhsconnect/careconnect-reference-implementation/blob/master/.env</a></p>
<p>so the entry in the docker-compose like this:</p>
<p>environment:<br>
     - POSTGRES_DB=careconnect<br>
     - POSTGRES_USER=${MYSQL_DB_USER}<br>
     - POSTGRES_PASSWORD=${MYSQL_DB_PASSWORD}</p>
<p>would become </p>
<p>environment:<br>
     - POSTGRES_DB=careconnect<br>
     - POSTGRES_USER=fhirjpa<br>
     - POSTGRES_PASSWORD=fhirjpa</p>



<a name="165284735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165284735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Berda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165284735">(May 09 2019 at 20:08)</a>:</h4>
<p>Thank you for your response and guidance through the errors.  It still returns an error that may stem from IP address error.  <br>
Below is the error.</p>
<p>WARNING: The IMAGE_TAG variable is not set. Defaulting to a blank string.<br>
WARNING: The MYSQL_DB_USER variable is not set. Defaulting to a blank string.<br>
WARNING: The MYSQL_DB_PASSWORD variable is not set. Defaulting to a blank string.<br>
WARNING: The FHIR_SERVER_BASE_HOST variable is not set. Defaulting to a blank string.<br>
ccrisql is up-to-date<br>
Creating ccriserver ... error</p>
<p>ERROR: for ccriserver  Cannot create container for service ccriserver: bad format for add-host: ":127.0.0.1"</p>
<p>ERROR: for ccriserver  Cannot create container for service ccriserver: bad format for add-host: ":127.0.0.1"<br>
ERROR: Encountered errors while bringing up the project.</p>



<a name="165551310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165551310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Berda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165551310">(May 13 2019 at 17:48)</a>:</h4>
<p>@Kevin Mayfield| @niciola  @Lloyd McKenzie   We have experienced some many issues just to view the FHIR (STU3) relational model.   Although I realize that it is not with your file per se, but the attempt to use docker to access the file.   Note:  <a href="https://forums.docker.com/t/docker-for-windows-image-operating-system-linux-cannot-be-used-on-this-platform/28936" target="_blank" title="https://forums.docker.com/t/docker-for-windows-image-operating-system-linux-cannot-be-used-on-this-platform/28936">https://forums.docker.com/t/docker-for-windows-image-operating-system-linux-cannot-be-used-on-this-platform/28936</a>, the latest...   Is there another way to get to view the diagram?</p>



<a name="165555583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165555583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165555583">(May 13 2019 at 18:33)</a>:</h4>
<p>Someone successfully ran a diagram 1.5 to 2 years ago - I think on STU 2.  I did a brief search here but wasn't able to find the post.  In any event, it was pretty much unreadable because so many resources point to each other.  Every Reference(Any) and every place you can have an extension will point to all other resources.  Even if you eliminate those, pretty much everything points to Patient, Encounter, Practitioner, PractitionerRole, Device and Organization and lots that point to many other things.  The result is that a diagram showing all of FHIR doesn't really buy you much beyond confirming "yup, that's a lot of relationships...".  FHIR is not designed to be a persistence model so diagramability of the whole structure is not much of a consideration.  It can certainly be used for persistence - see <a class="stream" data-stream-id="179289" href="/#narrow/stream/179289-storage-for-FHIR">#storage for FHIR</a>, but useful diagrams are going to be hard to come by.</p>



<a name="165560682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165560682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165560682">(May 13 2019 at 19:24)</a>:</h4>
<p>I did used to maintain a diagram back in the early days - 0.01 kid of early - but it rapidly turned into spaghetti. The only useful way is a visual browser. There's one in clinfhir</p>



<a name="165605825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165605825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165605825">(May 14 2019 at 09:15)</a>:</h4>
<p>Simplifier shows you diagrams on demand (if you're a beta tester) - works with any resources, so core / profiles / extensions etc</p>
<p><a href="/user_uploads/10155/Y1vju9VHDFvkvp1VnpnoSQr-/Selection_002.png" target="_blank" title="Selection_002.png">Selection_002.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/Y1vju9VHDFvkvp1VnpnoSQr-/Selection_002.png" target="_blank" title="Selection_002.png"><img src="/user_uploads/10155/Y1vju9VHDFvkvp1VnpnoSQr-/Selection_002.png"></a></div>



<a name="165605837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Data%20Model/near/165605837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Data.20Model.html#165605837">(May 14 2019 at 09:15)</a>:</h4>
<p>Diagrams for core resources are kind of huge</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
