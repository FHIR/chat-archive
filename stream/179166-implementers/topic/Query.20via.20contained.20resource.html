---
layout: page
title: "FHIR Chat  · Query via contained resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20via.20contained.20resource.html">Query via contained resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154016171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20via%20contained%20resource/near/154016171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20via.20contained.20resource.html#154016171">(Nov 07 2018 at 13:31)</a>:</h4>
<p>I have an Observation resource that has an assessment score. It contains other Observation that hold assessment sub-score (that go to make up the container score). These contained sub-score Observations point out to (by using related.target) actual Observations that are used to create the sub-scores (so for example a pulse rate of 80 bpm might translate to a sub-score of 1, which goes to make up an overall score). Is there a query such that I can return a Bundle of the container Observation, its contained Observation (this is easy as they are the same Observation), as well as the Observations that each contained sub-score has as its related.target? <br>
If there is a query construct, are there any FHIR test servers that would support the query?<br>
Or is it a case of querying for the container Observation, and then querying for the contained related.target links one-by-one?</p>



<a name="154016173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20via%20contained%20resource/near/154016173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20via.20contained.20resource.html#154016173">(Nov 07 2018 at 13:37)</a>:</h4>
<p>Typically the sub-scores wouldn't be "contained" - they'd be components.  For example, with an APGAR, the overall score would be in Observation.value and the various sub-scores (color, cry, etc.) would be sent as components.  The derivation relationships from other Observations would be at the overall Observation level rather than per component - though if you deemed it necessary, you could add extensions that would differentiate which derivedFrom observations were relevant to each component.   That would make the query slightly simpler as you could simply say _include=Observation:derived-from.  With your structure, you'd need to do _include:iterate=Observation:derived-from.  That'll recurse through all of the derivedFrom relationships of all returned resources.</p>



<a name="154016176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20via%20contained%20resource/near/154016176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20via.20contained.20resource.html#154016176">(Nov 07 2018 at 13:55)</a>:</h4>
<p>I went down the contained route, following the Glasgow Coma Scale example <a href="http://hl7.org/fhir/stu3/observation-example-glasgow.xml.html" target="_blank" title="http://hl7.org/fhir/stu3/observation-example-glasgow.xml.html">http://hl7.org/fhir/stu3/observation-example-glasgow.xml.html</a>. It seems to offer of advantages such as keeping the related.target links with the sub-scores neatly, without the need for extensions to the Observation resource.<br>
IF I keep this structure, I guess that the retrieval of the actual Observations will have to be done as a separate query (get the main Observation with the contained Observations, then for each contained Observation get the actual Observation).</p>



<a name="154016538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20via%20contained%20resource/near/154016538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20via.20contained.20resource.html#154016538">(Nov 08 2018 at 01:24)</a>:</h4>
<p>I would have thought that _include should be able to chase those down and return them</p>



<a name="154016539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20via%20contained%20resource/near/154016539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20via.20contained.20resource.html#154016539">(Nov 08 2018 at 01:25)</a>:</h4>
<p>certainly graphQL or graph definition is able to</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
