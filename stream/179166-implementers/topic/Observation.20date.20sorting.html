---
layout: page
title: "FHIR Chat  · Observation date sorting · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html">Observation date sorting</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153850965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153850965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rowan Foster <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153850965">(Sep 28 2016 at 03:16)</a>:</h4>
<p>Hi,</p>
<p>I was looking at implementing sorting by 'date' in Observation, but it is not clear to me from the spec how that is supposed to work. The date Search Parameter maps to Observation.effective[x]. Which can be a single date, a period (where both start and end are optional) or not specified at all.</p>
<p>How should I sort a period?<br>
How should I deal with resources where no 'effective' is provided?</p>
<p>One option is to sort by the first non-null of  effectiveDateTime, effectivePeriod.start, effectivePeriod.end, lastUpdated, however I'm not sure if using lastUpdated is an appropriate way of dealing with a potentially null effective?</p>



<a name="153850969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153850969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153850969">(Sep 28 2016 at 03:26)</a>:</h4>
<p>Can you raise a tracker item for this?  We need to specify rules for this.  My guess is we'd sort by the first encountered value in the range (to be consistent with searching on elements that can repeat).  So the low boundary for ascending searches and the high boundary for descending searches</p>



<a name="153850970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153850970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rowan Foster <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153850970">(Sep 28 2016 at 03:27)</a>:</h4>
<p>Ok, will do</p>



<a name="153850984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153850984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153850984">(Sep 28 2016 at 04:11)</a>:</h4>
<p>I think we do specify all the rules for this under date earching</p>



<a name="153851013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153851013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rowan Foster <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153851013">(Sep 28 2016 at 07:42)</a>:</h4>
<p>Do you mean this part from <a href="http://hl7.org/fhir/2016Sep/search.html#sort" target="_blank" title="http://hl7.org/fhir/2016Sep/search.html#sort">_sort</a> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>?</p>
<blockquote>
<p>A search parameter can refer to an element that repeats, and therefore there can be multiple values for a given search parameter for a single resource. In this case, the sort is based on the item in the set of multiple parameters that comes earliest in the specified sort order when ordering the returned resources.</p>
</blockquote>
<p>It refers to repeating items, but I guess the same concept could be applied to periods as well. Although that doesn't cover what to do for resources where the item being sorted on doesn't exist. For sorting with a dates, should no value mean the dawn of time?</p>



<a name="153851111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153851111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153851111">(Sep 28 2016 at 20:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I don't see anything about sorting by date or quantity ranges</p>



<a name="153851176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153851176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153851176">(Sep 29 2016 at 03:07)</a>:</h4>
<p>well, that's what :missing is for </p>



<a name="153851177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153851177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153851177">(Sep 29 2016 at 03:07)</a>:</h4>
<p>no, we don't say anything about sorting, that's true</p>



<a name="153851330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20date%20sorting/near/153851330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rowan Foster <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20date.20sorting.html#153851330">(Sep 29 2016 at 19:40)</a>:</h4>
<p>Raised tracker item in gforge<br>
<a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12205" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12205">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12205</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
