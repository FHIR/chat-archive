---
layout: page
title: "FHIR Chat  · Reference Search - Observation Encounter period start/end · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20Search.20-.20Observation.20Encounter.20period.20start.2Fend.html">Reference Search - Observation Encounter period start/end</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153955008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20Search%20-%20Observation%20Encounter%20period%20start/end/near/153955008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Koch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20Search.20-.20Observation.20Encounter.20period.20start.2Fend.html#153955008">(Apr 30 2018 at 14:38)</a>:</h4>
<p>Hi all,</p>
<p>I'm looking for some guidance on constructing a RESTFul URL to search for <code>Observations</code> based on a number of criteria, namely a reference to the <code>Encounter</code> resource (<code>period.start</code> and <code>period.end</code>) through the <code>context</code> attribute.</p>
<p>For example, I believe the following is considered valid as a search based on <code>Encounter.status</code> :</p>
<p><code>Observation?context:Encounter.status=finished</code></p>
<p>However, I am having trouble figuring out the correct way to structure a query wherein I want to filter the results based on the context (Encounter) as well as the date period of said Encounter:</p>
<p><code>Observation?context:Encounter.period.start=2006-06-27T00:00:00-06:00</code></p>
<p>I've tried the above on the <a href="https://sandbox.hspconsortium.org" target="_blank" title="https://sandbox.hspconsortium.org">https://sandbox.hspconsortium.org</a> sandbox and it always comes back as an invalid parameter chain. I'm sure it's because I've structured it incorrectly. Any help is greatly appreciated!</p>



<a name="153955025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20Search%20-%20Observation%20Encounter%20period%20start/end/near/153955025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20Search.20-.20Observation.20Encounter.20period.20start.2Fend.html#153955025">(Apr 30 2018 at 15:23)</a>:</h4>
<p>You can't search by paths, you can only use defined (or custom) search parameters.  There are no search parameters for start or end on Encounter, just a search for 'date' which will match on any date that falls between start and end.  So what you want is something like this: Observation?context:Encounter.status=finished&amp;context:Encounter.date=le2006-06-30&amp;context:Encounter.date=ge2006-06-20</p>
<p>Note that the only reason this works is because Observation is only allowed a maximum of one context because chaining filters are independent of each other.</p>



<a name="153955046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20Search%20-%20Observation%20Encounter%20period%20start/end/near/153955046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Koch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20Search.20-.20Observation.20Encounter.20period.20start.2Fend.html#153955046">(Apr 30 2018 at 17:19)</a>:</h4>
<blockquote>
<p>You can't search by paths, you can only use defined (or custom) search parameters.  There are no search parameters for start or end on Encounter, just a search for 'date' which will match on any date that falls between start and end.  So what you want is something like this: Observation?context:Encounter.status=finished&amp;context:Encounter.date=le2006-06-30&amp;context:Encounter.date=ge2006-06-20</p>
<p>Note that the only reason this works is because Observation is only allowed a maximum of one context because chaining filters are independent of each other.</p>
</blockquote>
<p>Interesting, so the date parameter on Encounter translates to the period start/end dates?</p>



<a name="153955059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20Search%20-%20Observation%20Encounter%20period%20start/end/near/153955059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20Search.20-.20Observation.20Encounter.20period.20start.2Fend.html#153955059">(Apr 30 2018 at 18:27)</a>:</h4>
<p>When you search on a 'date' parameter that's mapped to a Period, it matches on any resource whose period overlaps with the period represented by the search value.  (Because technically all date and dateTime values are themselves intervals, whether it's a whole day down to just being a whole second.</p>



<a name="153955080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20Search%20-%20Observation%20Encounter%20period%20start/end/near/153955080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Koch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20Search.20-.20Observation.20Encounter.20period.20start.2Fend.html#153955080">(Apr 30 2018 at 20:17)</a>:</h4>
<p>I see. The only part that confuses me is that period is not mentioned anywhere in your example GET call - it appears that it implicitly refers to it instead of explicitly.</p>



<a name="153955083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20Search%20-%20Observation%20Encounter%20period%20start/end/near/153955083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20Search.20-.20Observation.20Encounter.20period.20start.2Fend.html#153955083">(Apr 30 2018 at 20:30)</a>:</h4>
<p>The Encounter 'date' search parameter refers to Encounter.period</p>



<a name="153955084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20Search%20-%20Observation%20Encounter%20period%20start/end/near/153955084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20Search.20-.20Observation.20Encounter.20period.20start.2Fend.html#153955084">(Apr 30 2018 at 20:30)</a>:</h4>
<p>(so that's your linkage)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
