---
layout: page
title: "FHIR Chat  · How to represent the source systems in a restful response? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html">How to represent the source systems in a restful response?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153945960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20represent%20the%20source%20systems%20in%20a%20restful%20response%3F/near/153945960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johan Eltes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html#153945960">(Mar 18 2018 at 17:08)</a>:</h4>
<p>We (Sweden) has an architecture that depends on the ability for a query endpoint (query existing data) to report the source system origin of each clinical data/record of the response. Each connected EHR system has a nationally provisioned identifier. The data of an EHR may be (locally, regionally) replicated into a regional data hub that acts as the server to which the national intermediary forwards requests to get the requested responses. Each record of the response should contain the identifier of the originating system (EHR) instance. We struggle on how to map that to FHIR. Any ideas are appreciated! Our current case is a restful GET on the Observation resource.</p>



<a name="153945972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20represent%20the%20source%20systems%20in%20a%20restful%20response%3F/near/153945972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html#153945972">(Mar 18 2018 at 17:43)</a>:</h4>
<p>In R4, we're introducing Resource.source, however it's a string.  This may be a situation where a country-specific extension would be appropriate.  (The alternative is to use Provenance.)</p>



<a name="153946057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20represent%20the%20source%20systems%20in%20a%20restful%20response%3F/near/153946057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html#153946057">(Mar 18 2018 at 20:16)</a>:</h4>
<p>tehcnically, it's a uri, and it's very much in scope for using it like this</p>



<a name="153946120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20represent%20the%20source%20systems%20in%20a%20restful%20response%3F/near/153946120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johan Eltes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html#153946120">(Mar 19 2018 at 07:13)</a>:</h4>
<p>Thanks! I would prefer an II type but a string/URI would do. We could synthesize a "protocol" to represent the coding system.  Regarding Provenance - to my understanding- there is no reference from Observation to Provenance? Maybe indirectly via basedOn. But there is - in our case - no necessity that the source system of the basedOn resource is the same as the source system of the Observation.</p>



<a name="153946121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20represent%20the%20source%20systems%20in%20a%20restful%20response%3F/near/153946121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johan Eltes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html#153946121">(Mar 19 2018 at 07:23)</a>:</h4>
<p>I had a chat with <span class="user-mention" data-user-id="191375">@Alexander Henket</span> (Nictiz) the other day to synchronize our requirements. Sweden (national reference architecture/HIE) and Netherlands (Spine) share the same architecture for aggregating responses at a national API end point, sourced from multiple local end-points. In order to evaulate the quality of an aggregated response (query existing EHR data), the ultimate client will need a kind of "aggregation report" that - for each consulted source system (as known by the record locator)  - states wether data retrieval was successful or not. In our current architecture of SOAP-based end points, Sweden uses a custom response soap header ("aggregation report") that is injected by the aggregating node. Are there any thoughts on introducing concepts related to the use of (aggregating) intermediaries into FHIR?</p>



<a name="153946125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20represent%20the%20source%20systems%20in%20a%20restful%20response%3F/near/153946125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html#153946125">(Mar 19 2018 at 08:15)</a>:</h4>
<p>There is indeed no reference from Observation to Provenance. The reference goes the other way.<br>
Any reference to Provenance from Observation would need to be an extension.</p>



<a name="153946126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20represent%20the%20source%20systems%20in%20a%20restful%20response%3F/near/153946126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html#153946126">(Mar 19 2018 at 08:20)</a>:</h4>
<p>see this: <a href="https://chat.fhir.org/#narrow/stream/implementers/subject/Facade.20for.20multiple.20backends" target="_blank" title="https://chat.fhir.org/#narrow/stream/implementers/subject/Facade.20for.20multiple.20backends">https://chat.fhir.org/#narrow/stream/implementers/subject/Facade.20for.20multiple.20backends</a></p>



<a name="153946135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20represent%20the%20source%20systems%20in%20a%20restful%20response%3F/near/153946135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johan Eltes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20represent.20the.20source.20systems.20in.20a.20restful.20response.3F.html#153946135">(Mar 19 2018 at 09:16)</a>:</h4>
<p>Thanks. Not sure though how Provenance-&gt;Observation (target) reference could be used to resolve the source system of the Observation contained in a system that is loosely coupled to the client? The client would do Observation/GET to retrieve a list of observation from an aggregating node/forwarding intermediary. The client does not by then know the origin of the observations. The only source of an observations Provenance would be the source system of the Observation. Without knowing the source system of an observation, the client client system will not be able to query the Provenance of the Observation? I guess the only option is to retrieve the provenance as part of the original request for observations?</p>
<blockquote>
<p>There is indeed no reference from Observation to Provenance. The reference goes the other way.<br>
Any reference to Provenance from Observation would need to be an extension.</p>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
