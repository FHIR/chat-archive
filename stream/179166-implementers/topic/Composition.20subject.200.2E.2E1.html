---
layout: page
title: "FHIR Chat  · Composition subject 0..1 · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20subject.200.2E.2E1.html">Composition subject 0..1</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="186679055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition%20subject%200..1/near/186679055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katarina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20subject.200.2E.2E1.html#186679055">(Jan 27 2020 at 13:01)</a>:</h4>
<p>Hi, I created a composition profile in stu3. I want the subject to be optional in this profile. <br>
By definition in stu3 subject is 1..1. In forge it is not possible to change the cardinality from 1..1 to 0..1 (is greyed out). <br>
But when I set the cardinality in the xml (see example) and post it to vonk I don't get any errors. <br>
Can I do this? I think, it is not a recommended/allowed way, but why does it work?<br>
I have Vonk.Server/3.1.1.</p>
<p>&lt;StructureDefinition xmlns="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
&lt;id value="example123" /&gt;<br>
&lt;url value="http://example.org/fhir/StructureDefinition/MyComposition"/&gt;<br>
&lt;name value="MyComposition"/&gt;<br>
&lt;status value="draft"/&gt;<br>
&lt;fhirVersion value="3.0.1"/&gt;<br>
 &lt;mapping&gt;<br>
&lt;identity value="rim"/&gt;<br>
&lt;uri value="http://hl7.org/v3"/&gt;<br>
&lt;name value="RIM Mapping"/&gt;<br>
&lt;/mapping&gt;<br>
 &lt;mapping&gt;<br>
&lt;identity value="cda"/&gt;<br>
&lt;uri value="http://hl7.org/v3/cda"/&gt;<br>
&lt;name value="CDA (R2)"/&gt;<br>
&lt;/mapping&gt;<br>
 &lt;mapping&gt;<br>
&lt;identity value="w5"/&gt;<br>
&lt;uri value="http://hl7.org/fhir/w5"/&gt;<br>
&lt;name value="W5 Mapping"/&gt;<br>
&lt;/mapping&gt;<br>
&lt;kind value="resource"/&gt;<br>
&lt;abstract value="false"/&gt;<br>
&lt;type value="Composition"/&gt;<br>
&lt;baseDefinition value="http://hl7.org/fhir/StructureDefinition/Composition"/&gt;<br>
&lt;derivation value="constraint"/&gt;<br>
 &lt;differential&gt;<br>
 &lt;element id="Composition.subject"&gt;<br>
&lt;path value="Composition.subject"/&gt;<br>
 &lt;type&gt;<br>
&lt;code value="Reference"/&gt;<br>
&lt;targetProfile value="http://example.org/fhir/StructureDefinition/MyReference"/&gt;<br>
&lt;/type&gt;<br>
&lt;min value="0" /&gt;<br>
&lt;max value="1" /&gt;<br>
&lt;/element&gt;<br>
&lt;/differential&gt;<br>
&lt;/StructureDefinition&gt;</p>



<a name="186698042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition%20subject%200..1/near/186698042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20subject.200.2E.2E1.html#186698042">(Jan 27 2020 at 16:24)</a>:</h4>
<p>It shouldn't work - it should raise an error.  Profiles can't relax constraints that are present in the base resource.</p>



<a name="186762067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition%20subject%200..1/near/186762067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20subject.200.2E.2E1.html#186762067">(Jan 28 2020 at 08:34)</a>:</h4>
<p><span class="user-mention" data-user-id="221154">@Katarina</span> Thank you for mentioning this, it indeed looks like an error.</p>



<a name="186762259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition%20subject%200..1/near/186762259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20subject.200.2E.2E1.html#186762259">(Jan 28 2020 at 08:37)</a>:</h4>
<p>It is in fact already known as an issue on the .NET FHIR API: <a href="https://github.com/FirelyTeam/fhir-net-api/issues/856" target="_blank" title="https://github.com/FirelyTeam/fhir-net-api/issues/856">#856</a>, that is of course used by Vonk.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
