---
layout: page
title: "FHIR Chat  · custom CompartmentDefinitions and authorization · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html">custom CompartmentDefinitions and authorization</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160655900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/160655900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#160655900">(Mar 13 2019 at 11:46)</a>:</h4>
<p>How come the CompartmentDefinition.code is not extensible? If compartmentDefinitions are meant to be of use in some authorization use cases, and eg. the part that grants access to a certain set of resources goes through eg. a CareTeam, it's sort hard to do currently.</p>



<a name="160672082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/160672082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#160672082">(Mar 13 2019 at 14:51)</a>:</h4>
<p>At the moment, because compartment definitions drive code so much, we've said that only HL7 can define and change them.  That doesn't mean we couldn't revisit that decision though.</p>



<a name="160722060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/160722060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#160722060">(Mar 13 2019 at 19:56)</a>:</h4>
<p>That would still be the case if the set is extensible.</p>



<a name="163083390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163083390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163083390">(Apr 11 2019 at 09:14)</a>:</h4>
<p>I think a GraphDefinition is more capable of expressing authorization rules than a CompartmentDefinition. Anyone else's thoughts on that?</p>



<a name="163093586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163093586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163093586">(Apr 11 2019 at 12:17)</a>:</h4>
<p>Realistically: Security and Privacy will leverage anything they can when it comes to rules writing and rules enforcing. This is why there is no singular binding of a security model to FHIR.</p>



<a name="163093812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163093812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163093812">(Apr 11 2019 at 12:21)</a>:</h4>
<p>Compartment in terms of REST is related to Compartment in terms of Security; but they are not the same thing. As I said above, security is happy to leverage the REST (CompartmentDefinition) compartment mechanism. However Security-labels include the concept of compartment as a tag. Local domains will identify compartments, and put that tag on all the data that is to be considered within that compartment. This concept of compartment as a tag is the Security domain concept of Compartment. This concept of compartment is what you will see in a government system, like military.  These security compartment tags are completely dynamic, and universally supported in the FHIR specification.</p>



<a name="163093924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163093924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163093924">(Apr 11 2019 at 12:23)</a>:</h4>
<p>On GraphDefinition, I would agree this is also a good tool for Privacy and Security. I would love to see someone propose this as a model for writing the rules of a Privacy-Consent.  The nice part of this is that the graph definition is managed independent of the data, and thus is more flexible to changes in policy. <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> do you have an example?</p>



<a name="163094004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163094004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163094004">(Apr 11 2019 at 12:24)</a>:</h4>
<p>No, I haven't - I have not left the theoretical phase yet.</p>



<a name="163094033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163094033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163094033">(Apr 11 2019 at 12:25)</a>:</h4>
<p>I was interested in community thoughts on this because it would mean that custom CompartmentDefinitions (that <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> requested) are not that neccessary.</p>



<a name="163094179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163094179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163094179">(Apr 11 2019 at 12:27)</a>:</h4>
<p>Compartments in the REST domain are far less dynamic, much more like FHIR has today.</p>



<a name="163103734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163103734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163103734">(Apr 11 2019 at 14:20)</a>:</h4>
<p>When I was talking about Compartment from a security perspective, I was referring to the RESTful compartments.  I.e. a practitioner might have access to data in one patient's Compartment, but not another.  Or a Practiioner might always have access to data that's in their Compartment.  This use of Compartment is more common than using it as a query mechanism</p>



<a name="163225842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163225842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163225842">(Apr 12 2019 at 20:52)</a>:</h4>
<p>also, this use is implicit not explicit</p>



<a name="163225873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163225873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163225873">(Apr 12 2019 at 20:52)</a>:</h4>
<p>Compartments are very challenging when they are based on indirect references. I don't see how we'd make a CareTeam compartment work</p>



<a name="163983874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/163983874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#163983874">(Apr 23 2019 at 12:24)</a>:</h4>
<p>Right - having thought about it, Careteams is probably not a good fit. As I see it, compartments more or less works as a set of restrictions for an entity (machine or person) that in some unspecified way can act as a user to the system. In that perspective, a Careteam is not part of that definition as it more or less consists of a group of entities</p>



<a name="164029137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20CompartmentDefinitions%20and%20authorization/near/164029137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20CompartmentDefinitions.20and.20authorization.html#164029137">(Apr 23 2019 at 20:57)</a>:</h4>
<p>Here how we do custom compartments - <a href="https://docs.aidbox.app/tutorials/compartments" target="_blank" title="https://docs.aidbox.app/tutorials/compartments">https://docs.aidbox.app/tutorials/compartments</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
