---
layout: page
title: "FHIR Chat  · How to map DSTU2 to STU3/R4 if it didn&#x27;t exist? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html">How to map DSTU2 to STU3/R4 if it didn&#x27;t exist?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="263911635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/263911635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#263911635">(Dec 06 2021 at 19:55)</a>:</h4>
<p>What is the guidance on how to map a field that didn't exist in DSTU2 to STU3 or R4 that is now a required property with a required ValueSet?<br>
I have a specific example in mind, but I suppose this is a general question that come about across any two FHIR versions.</p>
<p>In DSTU2 CarePlan there is no .intent property but in STU3 (and R4) this is now a required property (1..1) and uses an FHIR Required ValueSet (CarePlanIntent)?    The FML from DSTU2 to STU3 (where this prop was introduced) doesn't have any help or FML to describe what do do in this case.   What should the .intent value be set to if a DSTU2 resource was converted to STU3 (or R4) --- 'plan'?</p>



<a name="263911976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/263911976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#263911976">(Dec 06 2021 at 19:56)</a>:</h4>
<p>the answer is that it depends on the context - you have to figure out from the context of use what the correct value should be</p>



<a name="264053785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264053785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264053785">(Dec 07 2021 at 18:56)</a>:</h4>
<p>OK, I'm trying to figure out "what context" you mean?   Do you mean the use case around the CarePlan or something in the DSTU2 resource (reference to Encounter?) that helps determine that 'context'?    For an automated conversion process, the only thing it has available is the DSTU2 FHIR resource instance.  (I suppose, there could be a profile associated with it that could help.). </p>
<p>I guess this shows how problematic it is when a new required property is added in a subsequent FHIR version that doesn't have a "default or recommended value".</p>



<a name="264054764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264054764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264054764">(Dec 07 2021 at 19:02)</a>:</h4>
<p>the source of the data being converted</p>



<a name="264054863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264054863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264054863">(Dec 07 2021 at 19:02)</a>:</h4>
<p>if a committee does add a new required property, that means you have to figure out what the value should be based on information not found in the source resource</p>



<a name="264055310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264055310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264055310">(Dec 07 2021 at 19:05)</a>:</h4>
<p>OK, that's a non-computable thing then.  It can't be done by an automated conversion process without some "external input".   I guess the question is, how did the committee get to the meaning of the new property and make it required, that might help answer my (and other's) question.</p>



<a name="264055965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264055965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264055965">(Dec 07 2021 at 19:10)</a>:</h4>
<p>it always depends on the element</p>



<a name="264057338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264057338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264057338">(Dec 07 2021 at 19:20)</a>:</h4>
<p>OK, but whenever a committee decides to add a new elementX, they must have a use case for adding this new element and even more precise reasoning why it becomes a required element and with a (fixed) Required ValueSet.   I guess for someone who was not intimately involved in committee discussions (like most of the FHIR user community) this is not something easily discovered.   I guess I could go search committee ballot and discussions about this to discover this reasoning but that is "above and beyond" what most users would be expected to do.</p>
<p>Do you know of other examples of a new, required element being added with a (fixed) required ValueSet?   Hopefully this is something that doesn't happen very often because it is 'painful' for implementers.</p>
<p>[I guess this also shows up in the "Functional status for this map" and  "R(x) Validation Errors" section on the bottom of the auto-generated version-map pages.</p>



<a name="264058303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264058303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264058303">(Dec 07 2021 at 19:27)</a>:</h4>
<p>Or perhaps you put conformance as a goal and recognize that historical data may never meet new requirements. The only thing you can do is record the data going forward. <br>
You could also hope for an "unknown" value I suppose.</p>



<a name="264082749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264082749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264082749">(Dec 07 2021 at 22:26)</a>:</h4>
<p><span class="user-mention" data-user-id="335936">@Daniel Venton</span>  - yes, I like the idea of an 'unknown' value, but I suppose the committee wouldn't like that if the use case is really to constraint the value in the Required ValueSet.  (if it were only an Extensible ValueSet then it wouldn't be as much of a problem)</p>



<a name="264084950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264084950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264084950">(Dec 07 2021 at 22:48)</a>:</h4>
<p>sometimes that has been the case - the committee thinks that you should explicitly say that you don't know. Really, you should create a task asking the committee that owns the resource to at least provide some  documentation about what to do if you don't know the value</p>



<a name="264190467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264190467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264190467">(Dec 08 2021 at 17:33)</a>:</h4>
<p>OK, but I can't find where to post this?   There used to be a mechanism for posting 'change requests'; I haven't done this for a while, probably since the change to Jira.  I thought the FHIR Zulip channel had an 'always available' link to submit 'change requests'?</p>
<p>At any rate, I was able to find out that CarePlan seems to be owned by the PatientCare committee and I've visited their Confluence page but can't seem to find a place to post this question or as a Jira ticket.  (sorry if this is an FAQ).<br>
<a href="https://confluence.hl7.org/display/PC/Care+Plan+Projects">https://confluence.hl7.org/display/PC/Care+Plan+Projects</a></p>



<a name="264199007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264199007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264199007">(Dec 08 2021 at 18:29)</a>:</h4>
<p>You can create a Jira ticket and assign it to the specific workgroup. The most easy-to-remember mechanism is to start at the current build, and click on the "Propose a change" link in the footer. The direct link is <a href="http://hl7.org/fhir-issues">http://hl7.org/fhir-issues</a> and that will take you Jira, where you can use the "create" button to create your issue (if you are logged in).</p>
<p>Note that the field to specify the workgroup is on the Advanced tab.</p>



<a name="264210547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20map%20DSTU2%20to%20STU3/R4%20if%20it%20didn%27t%20exist%3F/near/264210547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20map.20DSTU2.20to.20STU3.2FR4.20if.20it.20didn&#x27;t.20exist.3F.html#264210547">(Dec 08 2021 at 19:51)</a>:</h4>
<p>Added Jira ticket: <a href="http://jira.hl7.org/browse/FHIR-34430">FHIR-34430</a> for this CarePlan.intent problem.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
