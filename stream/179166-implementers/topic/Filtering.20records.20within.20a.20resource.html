---
layout: page
title: "FHIR Chat  · Filtering records within a resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html">Filtering records within a resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="257083410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257083410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Dinsmore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257083410">(Oct 11 2021 at 15:53)</a>:</h4>
<p>We need to filter the records within a FHIR resource based on whether an EHR application is active or inactive.  Is it more appropriate to use a custom operation or a _list to accomplish this need?</p>



<a name="257097367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257097367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257097367">(Oct 11 2021 at 17:54)</a>:</h4>
<p>Can you explain what you mean by "records within a FHIR resource"?  Typically each resource is a single record.  What's the relationship of the records to the EHR application?  How are you representing the application?</p>



<a name="257115769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257115769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Dinsmore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257115769">(Oct 11 2021 at 20:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> we use the Organization endpoint to list facilities within an HIS.  Each facility represents a single record/resource.  Each facility has applications that can be activated or inactivated.  We want to exclude all Organization resources that do not have a specific application activated.</p>



<a name="257116622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257116622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257116622">(Oct 11 2021 at 21:05)</a>:</h4>
<p>Ok, and are you representing applications as Device instances?  When you say "specific application" are you referring to a particular instance (i.e. multiple organizations running the same instance) or do you mean application 'type'?</p>



<a name="257118313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257118313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Dinsmore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257118313">(Oct 11 2021 at 21:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> the applications are not represented in the FHIR bundle.  The filtering would be done at a database layer without needing to use any data within the FHIR bundle.  Each organization can toggle on and off the same list of applications (so multiple organizations would not run the same instance).</p>



<a name="257118980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257118980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257118980">(Oct 11 2021 at 21:29)</a>:</h4>
<p>How do you handle @Search returns Organization/X, but then organization x turns off the application. Does the @Read operation return a 404, the record exists but not active? 200 Return the row anyway? etc.</p>



<a name="257119889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257119889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257119889">(Oct 11 2021 at 21:40)</a>:</h4>
<p>If it's outside FHIR, then you can do whatever you like - so I think I'm missing part of the problem...</p>



<a name="257203579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257203579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Dinsmore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257203579">(Oct 12 2021 at 13:36)</a>:</h4>
<p><span class="user-mention" data-user-id="335936">@Daniel Venton</span> toggling off and on the application would work the same as any other Boolean search parameter.  </p>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> if we need to include a custom extension in the FHIR to notate active applications we can.</p>
<p>We are only using FHIR requests to generate the list of Organization resources.</p>
<p>We are trying to avoid needing to create a custom API to generate a list of Organization id's to then search by.  </p>
<p>I hope this clears things up.</p>



<a name="257205609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257205609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257205609">(Oct 12 2021 at 13:48)</a>:</h4>
<p>I think we're getting closer to the problem definition. "You want to Search for Organization Resources where a linked Application property (active) is true"?<br>
What type of resource is Application? How are these application resources linked to the organization resource?</p>



<a name="257215391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20records%20within%20a%20resource/near/257215391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20records.20within.20a.20resource.html#257215391">(Oct 12 2021 at 14:49)</a>:</h4>
<p>If you want to throw a custom extension on Organization and define a custom SearchParameter on that extension to allow you to filter on it.  (Though you need to get the server to support that custom SearchParameter.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
