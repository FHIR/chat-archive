---
layout: page
title: "FHIR Chat  · Resolving a reference from a bundle inside another bundle · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resolving.20a.20reference.20from.20a.20bundle.20inside.20another.20bundle.html">Resolving a reference from a bundle inside another bundle</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205138978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resolving%20a%20reference%20from%20a%20bundle%20inside%20another%20bundle/near/205138978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank McKinney <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resolving.20a.20reference.20from.20a.20bundle.20inside.20another.20bundle.html#205138978">(Jul 27 2020 at 16:32)</a>:</h4>
<p>I'm working on a use case where it might be useful to include multiple searchset bundles within a response message. The searches would all relate to one patient, so resources within the searchset bundles will contain references to that same patient. </p>
<p>I'd like to include the Patient resource just once, within the "outside" message bundle, to be referenced by resources within the "nested" searchset bundles. The structure would be something like: </p>
<p>Bundle (type: message)</p>
<ul>
<li>Patient/1  (the patient for whom multiple searches have be performed)</li>
<li>Bundle (searchset)<br>
      -  entry: Observation (containing a reference to Patient/1)<br>
...</li>
</ul>
<p>My question is: <strong> Does the searchset Observation's reference to Patient/1  legitimately resolve to the resource in the outer bundle.</strong></p>
<p>It wasn't clear to me in the <a href="http://build.fhir.org/bundle.html#references">resolving references in Bundles</a> section whether references could resolve to a containing bundle. <br>
Thanks!</p>



<a name="205141212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resolving%20a%20reference%20from%20a%20bundle%20inside%20another%20bundle/near/205141212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resolving.20a.20reference.20from.20a.20bundle.20inside.20another.20bundle.html#205141212">(Jul 27 2020 at 16:51)</a>:</h4>
<p>There's no support for resolution across Bundles.  However, in a search-set, there's no expectation for resolution within a Bundle except for items that are marked as 'includes' (which are expected to be pointed to by something else in the Bundle with a pathway to one of the matching resources).  It would be fine to have a batch of queries, one of which just asked for Patient and others asking for various other information.  The linkages should be resolvable once you import/process all of the search-set Bundles because the full URLs should allow de-referencing.</p>



<a name="205142555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resolving%20a%20reference%20from%20a%20bundle%20inside%20another%20bundle/near/205142555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank McKinney <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resolving.20a.20reference.20from.20a.20bundle.20inside.20another.20bundle.html#205142555">(Jul 27 2020 at 17:02)</a>:</h4>
<p>Thanks Lloyd for the clarification. Just what I needed to understand</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
