---
layout: page
title: "FHIR Chat  · Subscription W3C SSE · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html">Subscription W3C SSE</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153868779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153868779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Jonigkeit <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153868779">(Jan 23 2017 at 12:05)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> in the current build of FHIR the server is responsible for initiating communication regarding Subscriptions see <a href="http://build.fhir.org/subscription.html#12.23.6.1" target="_blank" title="http://build.fhir.org/subscription.html#12.23.6.1">http://build.fhir.org/subscription.html#12.23.6.1</a>. This can be impossbile in many network topologies and require jump hosts. IMO the server also becomes stateful with regards to the client/endpoint.<br>
I suggest looking at Server Sent Events as it overcomes most of these problems. (<a href="https://www.w3.org/TR/2011/WD-eventsource-20110208/" target="_blank" title="https://www.w3.org/TR/2011/WD-eventsource-20110208/">https://www.w3.org/TR/2011/WD-eventsource-20110208/</a>)</p>



<a name="153868780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153868780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153868780">(Jan 23 2017 at 12:35)</a>:</h4>
<p>Also, if one is buying all the way into the HTTP REST principles, web sockets doesn't seem all that clean as it is not based on HTTP and the communication channel changes from an HTTP endpoint to a Websockets endpoint. Websockets seems like a great fit for some event driven architecture but not so much REST</p>



<a name="153868789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153868789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153868789">(Jan 23 2017 at 14:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> - have you done any SignalR-prototype with FHIR yet?</p>



<a name="153868799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153868799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153868799">(Jan 23 2017 at 16:11)</a>:</h4>
<p>Just a heads up that Grahame's on vacation with minimal internet access for the next week or so, so he may be slower to respond than usual.</p>



<a name="153868846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153868846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153868846">(Jan 23 2017 at 23:18)</a>:</h4>
<p>Well, <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> your opinion is just as valued in this discussion :) - any input?</p>



<a name="153868850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153868850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153868850">(Jan 24 2017 at 00:57)</a>:</h4>
<p>Believe me, if I had an opinion, I wouldn't have hesitated to share it :)</p>



<a name="153868917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153868917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153868917">(Jan 24 2017 at 08:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> - there is a pretty good description on <a href="https://jersey.java.net/documentation/latest/sse.html#d0e11463" target="_blank" title="https://jersey.java.net/documentation/latest/sse.html#d0e11463">https://jersey.java.net/documentation/latest/sse.html#d0e11463</a> between the different types of eventing mechanisms. That might trigger an opinion of yours ... ;)</p>



<a name="153869087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153869087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153869087">(Jan 25 2017 at 15:03)</a>:</h4>
<p>No, I have never played with signalR....</p>



<a name="153869092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153869092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153869092">(Jan 25 2017 at 15:19)</a>:</h4>
<p>I can see it supports SSE.  What I wonder about is the cost attached to keeping open all these connections for a long time. That might not fit some usecases but not all, so SSE would be an additional choice for a subscription protocol. </p>



<a name="153869096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153869096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153869096">(Jan 25 2017 at 15:22)</a>:</h4>
<p>(and "just" as a side note, is SSE still not supported under IE nor Edge?)</p>



<a name="153869209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153869209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153869209">(Jan 26 2017 at 08:57)</a>:</h4>
<p>In my experience it is easier to have the server shipping updates out to clients on existing connections initiated by the client instead of having the server to initiate the connection. The latter usually requires multiple firewall issues, whereas the former requires fever.  It is correct that the server is required to keep the connections alive - those connections can however be distributed across servers given the proper architecture (a scalable one that is, which aligns with REST principles). (and you are right about the browser stuff - IE and Edge seems to be non-supporters of this, but I wouldn't let those browsers dictate this design).</p>



<a name="153869350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153869350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153869350">(Jan 27 2017 at 12:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191539">@Torben M. Hagensen</span> - any take on this?</p>



<a name="153869480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153869480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Torben M. Hagensen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153869480">(Jan 30 2017 at 14:34)</a>:</h4>
<p>We have only had the need for pushing data to clients on mobile devices where we use the push frameworks for Android and IOS.</p>



<a name="153869482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153869482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153869482">(Jan 30 2017 at 14:37)</a>:</h4>
<p>Sure! I can certainly see the usecase of client-initiated subscriptions....  I am just getting my head around it and wonder whether there is experience about the cost of keeping all those connections open if you happen to be in a situation where clients connect for days, weeks or months...  </p>



<a name="153869572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153869572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153869572">(Jan 31 2017 at 09:15)</a>:</h4>
<p>-</p>



<a name="153870154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153870154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153870154">(Feb 06 2017 at 04:00)</a>:</h4>
<p>SSE is not on the list because no one asked us for this. There is a profusion of candidates for this, and we need to be sparing in what we add to the list. I haven't heard any specific reason that SSE is better than websockets?</p>



<a name="153870391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153870391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153870391">(Feb 06 2017 at 22:28)</a>:</h4>
<p>I won't argue that SSE is generally better than websockets. I would say it has other qualities than websockets (just like rest-hooks, email/sms and so on - email, really?). There is an abundance of discussions and analyses on the sentence "SSE vs  websockets" which probably explains is better than me (ie. <a href="http://streamdata.io/blog/server-sent-events/" target="_blank" title="http://streamdata.io/blog/server-sent-events/">http://streamdata.io/blog/server-sent-events/</a> - theres a nice image on <a href="http://stackoverflow.com/questions/11077857/what-are-long-polling-websockets-server-sent-events-sse-and-comet" target="_blank" title="http://stackoverflow.com/questions/11077857/what-are-long-polling-websockets-server-sent-events-sse-and-comet">http://stackoverflow.com/questions/11077857/what-are-long-polling-websockets-server-sent-events-sse-and-comet</a> aswell). For something called 'subscription' (ie. changes to something outlined in the criteria/(predicate)) SSE sounds like a great fit for an event driven mechanism on a RESTful architecture.</p>



<a name="153875348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20W3C%20SSE/near/153875348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20W3C.20SSE.html#153875348">(Mar 07 2017 at 22:13)</a>:</h4>
<p>Allow me to draw the attention to my very rough example implementation of SSE and FHIR combined on <a href="https://github.com/jkiddo/hapi-fhir/tree/master/example-projects/hapi-fhir-jaxrs-sse" target="_blank" title="https://github.com/jkiddo/hapi-fhir/tree/master/example-projects/hapi-fhir-jaxrs-sse">https://github.com/jkiddo/hapi-fhir/tree/master/example-projects/hapi-fhir-jaxrs-sse</a>. It does not use the Subscription(and criteria) resource (yet) - but it illustrates how it can work (which it does) :-)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
