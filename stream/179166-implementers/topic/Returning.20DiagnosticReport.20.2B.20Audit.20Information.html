---
layout: page
title: "FHIR Chat  · Returning DiagnosticReport + Audit Information · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20DiagnosticReport.20.2B.20Audit.20Information.html">Returning DiagnosticReport + Audit Information</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153856945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20DiagnosticReport%20%2B%20Audit%20Information/near/153856945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Grooby <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20DiagnosticReport.20.2B.20Audit.20Information.html#153856945">(Nov 15 2016 at 04:16)</a>:</h4>
<p>We are looking at being able to return a DiagnosticReport resource but we also need to return some additional information:</p>
<ul>
<li>The diagnostic file information - this we can handle by just not returning the data in the Attachment</li>
<li>When the file was downloaded and by whom - this might be an auditting function but we want to return this too. This will consist of 0..n records containing date/time + Name (string)</li>
</ul>
<p>One consideration would be to create a BUNDLE with these in it. We also need to return an array/List of both of these as part of search criteria based on date criteria.</p>
<p>Is this the most appropriate way of returning this, or is there a better way - we are returning a file as evidence to a third party and need to track what other people from their organisation may have downloaded it previously via the software (not the FHIR interface)</p>



<a name="153856950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20DiagnosticReport%20%2B%20Audit%20Information/near/153856950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20DiagnosticReport.20.2B.20Audit.20Information.html#153856950">(Nov 15 2016 at 06:59)</a>:</h4>
<p>Well, AuditEvent is the resource for the list of who viewed it and when. </p>



<a name="153856951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20DiagnosticReport%20%2B%20Audit%20Information/near/153856951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20DiagnosticReport.20.2B.20Audit.20Information.html#153856951">(Nov 15 2016 at 07:00)</a>:</h4>
<p>but it's not clear what you mean when you say 'return'</p>



<a name="153856971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20DiagnosticReport%20%2B%20Audit%20Information/near/153856971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20DiagnosticReport.20.2B.20Audit.20Information.html#153856971">(Nov 15 2016 at 13:07)</a>:</h4>
<p>It seems you might be describing a use of AuditEvent. You could certainly bundle AuditEvent resources the same way you would bundle anything else. AuditEvent is there to record any event, so viewing, importing, exporting, as well as other audit relevant things like login/logout/configure/startup/shutdown. <br>
You might also want to look at Provenance; as it is intended to explain where data came from. It thus is more closely tied to the RESTful Create and Update (AuditEvent often will duplicate these events for audit purposes vs provenance purposes).</p>



<a name="153856972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20DiagnosticReport%20%2B%20Audit%20Information/near/153856972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20DiagnosticReport.20.2B.20Audit.20Information.html#153856972">(Nov 15 2016 at 13:12)</a>:</h4>
<p>I am not understanding your first bullet on diagnostic file not containing something. There is meta tag that should be used when you don't give the full content of a resource  - SUBSETTED. This tag helps downstream receivers understand they don't have the full truth. <a href="http://build.fhir.org/v3/SecurityIntegrityObservationValue/cs.html#SUBSETTED" target="_blank" title="http://build.fhir.org/v3/SecurityIntegrityObservationValue/cs.html#SUBSETTED">http://build.fhir.org/v3/SecurityIntegrityObservationValue/cs.html#SUBSETTED</a></p>



<a name="153857024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20DiagnosticReport%20%2B%20Audit%20Information/near/153857024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neil Grooby <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20DiagnosticReport.20.2B.20Audit.20Information.html#153857024">(Nov 15 2016 at 22:12)</a>:</h4>
<p>Thanks John and Grahame.<br>
We have a historical API which we are moving to FHIR where we will call the FHIR API version of the primative for new callers.<br>
For historical backward compatibility reasons we will also callthe same FHIR API version and create the old API datacontracts to allow existing customers to use their existing solutions until they migrate to the FHIR equivalent.<br>
For the above we have an API which gets a list of finalised DiagnosticReports within a search range  - this includes the filesize, so Attachment has this ability. The data of Attachment can be non-present allowing us to pass back the metadata we require. We are comfortable that DiagnosticReport does the majority of the work for the API.<br>
Using a Bundle with AuditEvent and DiagnosticReport would be perfect - we can return a List of the Bundle where needed</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
