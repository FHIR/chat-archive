---
layout: page
title: "FHIR Chat  · best approach to programmatically generate snapshot? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html">best approach to programmatically generate snapshot?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="211786705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211786705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211786705">(Sep 30 2020 at 16:31)</a>:</h4>
<p>Any suggestion on what the best approach would be to generate a snapshot for a profile that has a complex hierarchy? i.e. has a baseDefinition of X, which has a baseDefinition of Y, which has a baseDefinition of Z?</p>



<a name="211786796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211786796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211786796">(Sep 30 2020 at 16:32)</a>:</h4>
<p>Hoping there's a solution where I can pass a bundle of all associated base definitions to something and have it generate snapshots for each</p>



<a name="211817864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211817864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211817864">(Sep 30 2020 at 20:45)</a>:</h4>
<p>doesn't the IG publisher do so? I mean if you fit all your profiles within the same IG, shouldn't that then be an option?</p>



<a name="211817938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211817938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211817938">(Sep 30 2020 at 20:45)</a>:</h4>
<p>then afterwards have a look at the code in the igpub</p>



<a name="211818785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211818785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211818785">(Sep 30 2020 at 20:51)</a>:</h4>
<p>Snapshot generation is very complex and (as far as I understand) fraught with edge cases, complexities, and unwritten rules.  As <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> suggests, I'd highly recommend trying to leverage existing tooling if possible.  In addition to the IG Publisher, I believe Firely tools also support snapshot generation (although I'm not sure if it is open source or not).</p>



<a name="211855260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211855260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211855260">(Oct 01 2020 at 00:07)</a>:</h4>
<p>right. all the hard stuff is moved to there. I don't think that I've packaged up a simple way to do this, but the logic is all in the java code</p>



<a name="211872092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211872092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211872092">(Oct 01 2020 at 06:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> if you are working with the java core classes the functionality is exposed with the <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">java validator</a> , you can use the -snapshot parameter. if you are working with hapi-fhir, see example code here <a href="https://hapifhir.io/hapi-fhir/docs/validation/examples.html">https://hapifhir.io/hapi-fhir/docs/validation/examples.html</a>. You would need to feed the base structuredefinitions first.</p>



<a name="211875728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211875728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211875728">(Oct 01 2020 at 07:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> will be sitting like this <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span> :<br>
<a href="/user_uploads/10155/FPBkY6vXBPeXAZ4Db-4rOiyI/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/FPBkY6vXBPeXAZ4Db-4rOiyI/image.png" title="image.png"><img src="/user_uploads/10155/FPBkY6vXBPeXAZ4Db-4rOiyI/image.png"></a></div>



<a name="211917917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211917917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211917917">(Oct 01 2020 at 14:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> Indeed, as <span class="user-mention" data-user-id="191469">@Chris Moesel</span> suggests Torinox (soon to be Firely Terminal) can do this quite easily: <a href="https://simplifier.net/docs/torinox/SnapshotGeneration">https://simplifier.net/docs/torinox/SnapshotGeneration</a>. Or you could upload to your project in Simplifier and download including snapshot. Not open source, but all free.<br>
But not sure if that fits in the workflow you have in mind.</p>



<a name="211921594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211921594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211921594">(Oct 01 2020 at 14:47)</a>:</h4>
<p>and torinox can be wrapped in docker if you don't like installs: <a href="https://github.com/jkiddo/torinox-in-docker">https://github.com/jkiddo/torinox-in-docker</a></p>



<a name="211979773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211979773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211979773">(Oct 01 2020 at 21:44)</a>:</h4>
<p>appreciate all the feedback... unfortunately, I don't think very many of these solutions fit very nicely with a javascript/node app</p>



<a name="211979876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211979876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211979876">(Oct 01 2020 at 21:45)</a>:</h4>
<p>I can't invoke java code directly... I'd have to execute the <code>java</code> command with a jar.<br>
The best I can think of is to use $snapshot in the REST API to generate the snapshot</p>



<a name="211979937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211979937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211979937">(Oct 01 2020 at 21:46)</a>:</h4>
<p>but that will depend on the support for the FHIR server's $snapshot</p>



<a name="211979971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/best%20approach%20to%20programmatically%20generate%20snapshot%3F/near/211979971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/best.20approach.20to.20programmatically.20generate.20snapshot.3F.html#211979971">(Oct 01 2020 at 21:46)</a>:</h4>
<p>at best, all of the profiles will have to be loaded on the FHIR server where $snapshot is called</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
