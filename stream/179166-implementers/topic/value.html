---
layout: page
title: "FHIR Chat  · value · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html">value</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153854950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value/near/153854950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alvaro Riquelme Godoy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html#153854950">(Nov 01 2016 at 00:43)</a>:</h4>
<p>Hi everyone! I'm currently playing with Observation.class and i try to get ValueQuantity to receive value parameters at number or string, but i can't. I'm working in JAVA with Eclipse software. <br>
I tried to perform observation.getValue().toString() and i got rare numbers and letters (ie: ca.uhn.fhir.model.dstu2.composite.QuantityDt@144ada6e)<br>
Thanks! </p>



<a name="153854951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value/near/153854951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rowan Foster <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html#153854951">(Nov 01 2016 at 00:55)</a>:</h4>
<p>You need to check what type of value is contained in the Observation and use the appropriate getter (or check the type returned by <code>getValue()</code>)</p>
<div class="codehilite"><pre>if(observation.hasValueQuantity()) {
   QuantityDt quantity = observation.getValueQuantity();
   // TODO do stuff with quantity
} else if(observation.hasValueStringType()) {
   //...
</pre></div>



<a name="153854957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value/near/153854957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alvaro Riquelme Godoy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html#153854957">(Nov 01 2016 at 01:46)</a>:</h4>
<p>We tried using this, but the three methods mentioned are not recognized by our environment. We're working with a bundle of the resource, if it's any help. <br>
We alse checked the observation.class file, and we didn't find this methods either.<br>
Thank you for the help!</p>



<a name="153854959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value/near/153854959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rowan Foster <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html#153854959">(Nov 01 2016 at 02:17)</a>:</h4>
<p>What version of HAPI are you using?</p>
<p>You could just check the type as I mentioned eg</p>
<div class="codehilite"><pre>Type value = observation.getValue();
if(value instanceof QuantityDt) {
    QuantityDt valueAsQuantity = (QuantityDt)value;
    // TODO do stuff with valueAsQuantity
}
</pre></div>



<a name="153855111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value/near/153855111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcela Aguirre Jerez <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html#153855111">(Nov 02 2016 at 19:18)</a>:</h4>
<p>Hi, I'm working with Alvaro, we're using HAPI dstu2 1.4. And we checked the type of observation.getValue() is IDatatype. So we couldn't run the codes that you've sent. Thanks again for the help. If you think that it has to do with the HAPI version, which one do you suggest?</p>



<a name="153855607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value/near/153855607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html#153855607">(Nov 05 2016 at 02:50)</a>:</h4>
<p>Hi Marcela,</p>
<p>The code above that Rowan posted should work, although it has one minor correction:</p>
<div class="codehilite"><pre><span class="n">IDatatype</span> <span class="n">value</span> <span class="o">=</span> <span class="n">observation</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
<span class="k">if</span><span class="o">(</span><span class="n">value</span> <span class="k">instanceof</span> <span class="n">QuantityDt</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">QuantityDt</span> <span class="n">valueAsQuantity</span> <span class="o">=</span> <span class="o">(</span><span class="n">QuantityDt</span><span class="o">)</span><span class="n">value</span><span class="o">;</span>
    <span class="c1">// TODO do stuff with valueAsQuantity</span>
<span class="o">}</span>
</pre></div>


<p>Basically the field Observation.value has multiple allowed types per the FHIR spec, so you need to test which one is actually there via instanceof.</p>



<a name="153855608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value/near/153855608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html#153855608">(Nov 05 2016 at 02:51)</a>:</h4>
<p>Meant to tag you <span class="user-mention" data-user-id="192076">@Marcela Aguirre Jerez</span> </p>



<a name="153855621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value/near/153855621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcela Aguirre Jerez <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.html#153855621">(Nov 05 2016 at 15:40)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191319">@James Agnew</span> !!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
