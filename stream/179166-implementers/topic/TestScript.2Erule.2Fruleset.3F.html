---
layout: page
title: "FHIR Chat  · TestScript.rule/ruleset? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html">TestScript.rule/ruleset?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153933788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153933788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153933788">(Jan 30 2018 at 19:52)</a>:</h4>
<p>I don't understand how TestScript.rule/ruleset is supposed to work. Which type of resource TestScript.rule(ruleset).resource should be pointing to?</p>



<a name="153933818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153933818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153933818">(Jan 30 2018 at 20:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191370">@Richard Ettema</span></p>



<a name="153934220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934220">(Jan 31 2018 at 16:18)</a>:</h4>
<p>It doesn't link to a resource. It links to an external rule (as a function, program, code, whatever) that can be used in an assertion. This is the magical escape hatch when TestScript assertions as defined do not have enough functionality to test the scenario in question.</p>



<a name="153934235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934235">(Jan 31 2018 at 17:05)</a>:</h4>
<p>Ah, I see. I was hoping it would allow me to reuse block of asserts somehow (I guess, technically it does allow that, by using custom convention).</p>



<a name="153934545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934545">(Feb 01 2018 at 15:06)</a>:</h4>
<p>Yes.  The rule and ruleset elements are defined to let the test engine implement an external rules engine.  In the case of Touchstone we use this to provide the ability to define Groovy, XSLT or Schematron based asserts.  Our online documentation describes this in detail in our Test Authoring Guide here <a href="https://touchstone.aegis.net/touchstone/testAuthoring" target="_blank" title="https://touchstone.aegis.net/touchstone/testAuthoring">https://touchstone.aegis.net/touchstone/testAuthoring</a>.</p>



<a name="153934551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bas van den Heuvel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934551">(Feb 01 2018 at 15:13)</a>:</h4>
<p>How would you specify a set of actions that are expected  in in a certain order? Is this the purpose of the ExampleScenario resource?</p>



<a name="153934559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934559">(Feb 01 2018 at 15:19)</a>:</h4>
<p>The TestScript tests and operations are executed in sequential order.  Overall, 'setup' then 'test(s)' then 'teardown'.</p>



<a name="153934561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934561">(Feb 01 2018 at 15:23)</a>:</h4>
<p>The ExampleScenario resource is draft and (very) recently added.  I don't even see a Resource Proposal for it.  So, not sure what the intent is (yet).</p>



<a name="153934592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934592">(Feb 01 2018 at 15:43)</a>:</h4>
<p>The ExampleScenario is to help provide documentation in an implementation guide to highlight what a particular workflow might look like and what instances (and versions of them) would be involved.  It's a very different usage from TestScript.</p>



<a name="153934612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bas van den Heuvel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934612">(Feb 01 2018 at 15:51)</a>:</h4>
<p>So if one would want to specify an order of events on a FHIR repo in way that can be used in regression testing, how would you approach this? <br>
An example scenario would be trigger some event, $apply a plan definition. interact with the CarePlan, update the CDR based on the results of the interaction... -</p>



<a name="153934624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934624">(Feb 01 2018 at 15:56)</a>:</h4>
<p>Example scenario isn't intended to trigger anything - it's intended as documentation only</p>



<a name="153934628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934628">(Feb 01 2018 at 15:56)</a>:</h4>
<p>It's for inclusion in an implementation guide as an explanation of "here's what a real-world usage situation might look like"</p>



<a name="153934675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934675">(Feb 01 2018 at 17:03)</a>:</h4>
<p>Sounds like there should be a relationship to TestScript; something like being able to generate a TestScript from an ExampleScenario.  Just a thought.</p>



<a name="153934686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934686">(Feb 01 2018 at 17:22)</a>:</h4>
<p>I'm not sure that would be terribly useful.  The behaviors defined in the example scenario aren't "thow shalt" items.  They're just "in this case, stuff worked out this way".</p>



<a name="153934751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934751">(Feb 01 2018 at 19:53)</a>:</h4>
<p>That link to authoring guide was incredibly helpful!</p>
<p>One thought I have is that, I think, there is a functional gap between external rules and completely "standard" TestScripts. Would be helpful to have a way to reuse simple assertions (like "check that response is ok + plus few other checks, like resource type") without resorting to external rules engine. Something really simple as having a block of assertions inside rule/ruleset definition + some semantics adjustment, like being able to reference ruleset/rule parameters in assertions as variables.</p>
<p>That would improve tests interoperability.</p>



<a name="153934756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/TestScript.rule/ruleset%3F/near/153934756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/TestScript.2Erule.2Fruleset.3F.html#153934756">(Feb 01 2018 at 20:04)</a>:</h4>
<p>There is an existing gforge tracker to address this which is currently in a "Consider for Future Use" condition - <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9197&amp;start=25" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9197&amp;start=25">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9197&amp;start=25</a>.<br>
I hope to get time to work on this in the near future.  Not sure if I'll get it in in time for R4 ballot.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
