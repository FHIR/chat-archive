---
layout: page
title: "FHIR Chat  · AuditEvent · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html">AuditEvent</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153844290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153844290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153844290">(Aug 18 2016 at 12:59)</a>:</h4>
<p>Hi there!<br>
I have two questions about making a profile on the AuditEvent resource. The use case entitles that every action within applications that contain patient information needs to be logged. The two questions:</p>
<p>1. There is a need to capture the ‘role’ of the participant, which contains in this case a concatenated value of an ID, position and organization. Is it possible to use the AuditEvent.participant.role element for this? If I look at, for example, the extensible valueset beloning to this element I get the idea that this element is meant for something else. The element, however, would cover our need. </p>
<p>2. For the AuditEvent.object we want to capture the patient, the accessed information and some metadata properties of the information that is accessed (or example the lastmodified date). What would be the best way to model the metadata of the accessed information in our profile?</p>
<p>Thanks in advance for any suggestions/ideas!</p>



<a name="153844329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153844329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153844329">(Aug 18 2016 at 18:52)</a>:</h4>
<p>#1 - why a concatenation of these things? but position  would be the nearest in intent to role. </p>
<p>#2 - I think the intent is that these things go in entity.detail. but that looks less appropriate than using extensions, really. name = value pair - you might as well use an extension</p>



<a name="153844349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153844349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153844349">(Aug 18 2016 at 19:51)</a>:</h4>
<p>Ardon,</p>



<a name="153844350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153844350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153844350">(Aug 18 2016 at 19:54)</a>:</h4>
<p>#1 - yes, this can go in agent.role; it is extensible because we have an infinite set of roles. You can concatenate those values to show the relationship, or you could use the fact that your conconcatenation is a form of code.  with the organization is the sysem that issued the 'position' as the value. I don't understand why you would repeat the ID, unless you don't mean the user-ID, but some role-ID?</p>



<a name="153844351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153844351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153844351">(Aug 18 2016 at 19:57)</a>:</h4>
<p>#2 - you would record one AuditEvent.entity that just describes the patient. Likely just an AuditEvent.entity.reference pointing at the Patient resource. You would have another AuditEvent.entity for the data. If you point at the versioned data (AuditEvent.entity.reference pointing to version specific); then you don't need to duplicate the lastmodified (or any other metadata about the data). This would be my recommendation.</p>



<a name="153844428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153844428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153844428">(Aug 19 2016 at 09:50)</a>:</h4>
<p>Thanks for your input.<br>
#1 is clear to me now, we will use agent.role.<br>
#2 We have indeed one AuditEvent.entity for the patient with a reference to a Patient Recourse. Also another entity for the data, however we won’t be able to point to versioned resource of the accessed data. <br>
We would like to use entity.detail but this seems inappropriate with its base64Binary value element. Wouldn’t it be an improvement to have a value[x] in the entity.detail? </p>



<a name="153844433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153844433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153844433">(Aug 19 2016 at 10:55)</a>:</h4>
<p>that's entity.detail should just be an Extension - that's just a name = value[x] pair</p>



<a name="153844520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153844520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153844520">(Aug 20 2016 at 16:40)</a>:</h4>
<p>Ardon, so you say you can't use version specific data resource references, so you want to duplicate that which would be in a version specific data resource in the audit? This seems like a bad design. If you need version specific data resources, then you should have them. Trying to use audit as an auxiliary database of metadata is very inefficient. You would need to duplicate this metadata thousands of times over, for every access/use/disclosure.   Do you use Provenance resources? Can you point at a version specific Provenance resource that points at the non-versioned data resource?</p>



<a name="153866353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153866353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153866353">(Jan 11 2017 at 01:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  I'm reviewing my implementation (again) of the population of the AuditEvent resources and noted that the object.type coding seems to have an odd set of values, I would have expected it to have included the resource types in that coded set (yes I could add them as it is extensible).<br>
<a href="http://hl7.org/fhir/auditevent-definitions.html#AuditEvent.object.type" target="_blank" title="http://hl7.org/fhir/auditevent-definitions.html#AuditEvent.object.type">http://hl7.org/fhir/auditevent-definitions.html#AuditEvent.object.type</a></p>



<a name="153866368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153866368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153866368">(Jan 11 2017 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> It is defined to pull in the resource types. Not sure why it isn't. I might need some <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> help.  <a href="http://build.fhir.org/valueset-object-type.html" target="_blank" title="http://build.fhir.org/valueset-object-type.html">http://build.fhir.org/valueset-object-type.html</a> </p>



<a name="153866381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153866381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153866381">(Jan 11 2017 at 18:38)</a>:</h4>
<p>That list comes from atna. I always thought it was crap.</p>



<a name="153866386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153866386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153866386">(Jan 11 2017 at 19:48)</a>:</h4>
<p>Grahame that is not the question... The question is that the valueset should also include all of the FHIR Resource types. But it appears not to include them...</p>



<a name="153866387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153866387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153866387">(Jan 11 2017 at 19:51)</a>:</h4>
<p>well, we can make it do so. editorially, we would have to :<br>
- grab the generated code system and value set resources and copy them into the source directory<br>
- change the binding to reference the value set resource directly <br>
- add the resource type value set to an include in the value set</p>



<a name="153868802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153868802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153868802">(Jan 23 2017 at 16:20)</a>:</h4>
<p>+1 for using the FHIR Resource types.  That's roughly how we record events with our current HIPAA Audit Logger, and we'll happily adjust things to use the AuditEvent resource and suitable value sets.</p>



<a name="153868810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/153868810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#153868810">(Jan 23 2017 at 17:06)</a>:</h4>
<p>This is now logged as <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12677" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12677">GF#12677</a></p>



<a name="191679106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191679106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191679106">(Mar 24 2020 at 22:07)</a>:</h4>
<p>Hi All,</p>
<p>I've couple of queries regarding AuditEvent:</p>
<ol>
<li>I can see a dedicated element 'AuditEvent.entity.query' for query. what about read? what is the suggested way to store they 'id' for a read operation? put it in 'AuditEvent.entity.detail'? Any particular reason why 'AuditEvent.entity.query' doesn't have a 'string' option as well?</li>
<li>What is the best place to record 'x-correlation-id' or similar type of interaction id? We would like to trace all internal events (orchestration) for a particular transaction but at this moment didn't find any such place in AuditEvent resource</li>
</ol>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>, <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  any suggestion?</p>



<a name="191684863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191684863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191684863">(Mar 24 2020 at 23:19)</a>:</h4>
<p>I'm going to leave the response for this one to John :)</p>



<a name="191685502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191685502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191685502">(Mar 24 2020 at 23:26)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I'll wait for <span class="user-mention" data-user-id="191404">@John Moehrke</span>  :)</p>



<a name="191736373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191736373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191736373">(Mar 25 2020 at 12:24)</a>:</h4>
<p>We have a bit of explanation <a href="http://build.fhir.org/auditevent.html#6.4.4.4" title="http://build.fhir.org/auditevent.html#6.4.4.4">http://build.fhir.org/auditevent.html#6.4.4.4</a></p>



<a name="191736729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191736729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191736729">(Mar 25 2020 at 12:28)</a>:</h4>
<ol>
<li>The id would go into an entity .what element. Have as many .entity. The example saves more than the id, but I think the id is sufficient as the audit analysis can always lookup by id.    An augmentation of this is to add another .entity with the patient identity, if you know it. This enables privacy use-cases  <a href="http://build.fhir.org/auditevent.html#patient" title="http://build.fhir.org/auditevent.html#patient">http://build.fhir.org/auditevent.html#patient</a></li>
</ol>



<a name="191737021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191737021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191737021">(Mar 25 2020 at 12:31)</a>:</h4>
<p>The entity.query requires you to base64 encode, so as to protect the query parameters. Prevents query parameter abuse as a vector to attack the database. If they are always base64 encoded then one can't send in fragments of json or xml and cause database overruns. Consistency is important</p>



<a name="191737288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191737288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191737288">(Mar 25 2020 at 12:34)</a>:</h4>
<ol start="2">
<li>Seems x-coorelation-id would be another .entity.</li>
</ol>



<a name="191737311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191737311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191737311">(Mar 25 2020 at 12:34)</a>:</h4>
<p>Please submit a CP with recommendation and example</p>



<a name="191804596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191804596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191804596">(Mar 25 2020 at 20:09)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191404">@John Moehrke</span> , this helps a lot. I'll provide a CP with detailing the scenario</p>



<a name="191809038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191809038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191809038">(Mar 25 2020 at 20:49)</a>:</h4>
<p>one more thing <span class="user-mention" data-user-id="191404">@John Moehrke</span> , in case of conditional create/update/delete, I guess </p>
<ol>
<li>The query string will go to the 'query' element </li>
<li>The 'what' shall not be populated for any of these cases </li>
<li>The payload will go inside the 'detail' as base 64 for cond create and update</li>
</ol>
<p>Is this a correct assumption?</p>



<a name="191812792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191812792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191812792">(Mar 25 2020 at 21:22)</a>:</h4>
<p>queries are just record of the query with success/failure. The results are not recorded, as it is considered reproducable and to record it is to put sensitive information in the audit log for no good reason</p>



<a name="191812822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191812822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191812822">(Mar 25 2020 at 21:22)</a>:</h4>
<p>or did I misunderstand your question?</p>



<a name="191813996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191813996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191813996">(Mar 25 2020 at 21:34)</a>:</h4>
<p>Sorry <span class="user-mention" data-user-id="191404">@John Moehrke</span> , I would have provided a few more details about my quesiton. </p>
<p>The situation here is that we have received a conditional update API request (PUT [base]/[type]?[search parameters]) from an external party.  We want to create an Audit for that. To capture the details as received in the request, this is what my plan is:</p>
<ol>
<li>Use the AuditEvent's 'query' element to record the query as received in API query string ([search parameters]). Unless the guideline is to capture only '_query' value in 'query' element. </li>
<li>Use the entity.details to capture the payload received as base 64 bin.</li>
<li>I still need to figure-out where to store the request headers</li>
</ol>
<p>is my approach correct here?</p>



<a name="191873982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191873982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191873982">(Mar 26 2020 at 12:06)</a>:</h4>
<p>Thanks. that was not clear to me originally. Yes this would be situation we have not yet talked about. It is best to model these with someone who is working on the issue, as you are.  Hence why we don't have an example, so good to get an example from you.  I think that you should record this as a UPDATE restful operation, but you should include an .entity with the query parameter. I would recommend against capturing the details, as we try hard to not duplicate sensitive information in the audit log.</p>



<a name="191971559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/191971559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#191971559">(Mar 27 2020 at 02:36)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191404">@John Moehrke</span> I'll provide an example..</p>
<p>Regarding capturing the details in Base 64. I was trying a model where Audit is kept totally in a separate database and works as single source of truth for every single transaction, kind of an event source but not really the event source.. But I see your point..</p>



<a name="192007834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/192007834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#192007834">(Mar 27 2020 at 12:05)</a>:</h4>
<p>that functionality is best supported by a technology specific solution. like a jorunaling database.</p>



<a name="194910722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194910722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194910722">(Apr 22 2020 at 10:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/179166-implementers/topic/AuditEvent/near/191737021" title="#narrow/stream/179166-implementers/topic/AuditEvent/near/191737021">said</a>:</p>
<blockquote>
<p>The entity.query requires you to base64 encode, so as to protect the query parameters. Prevents query parameter abuse as a vector to attack the database. If they are always base64 encoded then one can't send in fragments of json or xml and cause database overruns. Consistency is important</p>
</blockquote>
<p>I don't quite follow - query parameters are base64 encoded because of what? Do you consider the parameters in plain text to be a security issue?</p>



<a name="194928565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194928565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194928565">(Apr 22 2020 at 13:19)</a>:</h4>
<p>so that they can survive being converted between FHIR XML, FHIR JSON, FHIR Turtle, FHIR JSON-LD, DICOM XML, etc.</p>



<a name="194928691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194928691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194928691">(Apr 22 2020 at 13:20)</a>:</h4>
<p>it is just a safe way to do that. Do you have an alternative? This model has worked for 20 years in the companion standard ATNA/RFC/DICOM</p>



<a name="194928705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194928705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194928705">(Apr 22 2020 at 13:20)</a>:</h4>
<p>I can't see that is an argument</p>



<a name="194928723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194928723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194928723">(Apr 22 2020 at 13:20)</a>:</h4>
<p>why not convert all strings to base64 then?</p>



<a name="194928831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194928831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194928831">(Apr 22 2020 at 13:21)</a>:</h4>
<p>why is this single string such a security risk while all the others are not?</p>



<a name="194929052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194929052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194929052">(Apr 22 2020 at 13:22)</a>:</h4>
<p>this is not primarily as a security risk, this is primarily as an encoding risk. The query parameters accross all possible query languages (AuditEvent is used for things other than FHIR) are not constrained enough to guarantee an ecoding problem</p>



<a name="194929149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194929149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194929149">(Apr 22 2020 at 13:23)</a>:</h4>
<p>please recognize that AuditEvent is intended to record ALL kinds of audit events, not just FHIR events. Thus it must have a general use way of recording a QUERY regardless of query language</p>



<a name="194930090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194930090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194930090">(Apr 22 2020 at 13:30)</a>:</h4>
<p>should this fact be emphasized in the AuditEvent explanation of why query is execute and why query base64 encodes?  This does seem to be the thing that I need to bring forward often, and that oftenness is usually a good clue to a CP need.</p>



<a name="194930863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194930863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194930863">(Apr 22 2020 at 13:35)</a>:</h4>
<p>Well .. shouldn't the FHIR standard first and foremost make sense in FHIR itself - meaning that query should have been a string - or secondly a multiple type value - either string or base64?</p>



<a name="194931059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194931059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194931059">(Apr 22 2020 at 13:37)</a>:</h4>
<p>I cannot understand why this sort of use (base64) couldn't be handled in an extension or so</p>



<a name="194931085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194931085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194931085">(Apr 22 2020 at 13:37)</a>:</h4>
<p>it seems like a pretty exotic choice</p>



<a name="194933267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194933267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194933267">(Apr 22 2020 at 13:51)</a>:</h4>
<p>That is an interesting proposal. I would need others to weigh in on if that makes sense in all cases. I can't claim to know enough to guarantee that anything someone puts on a query or search could safely be placed into a string element.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="194933777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194933777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194933777">(Apr 22 2020 at 13:54)</a>:</h4>
<p>And, it does still  have the security problem...  Given that AuditEvent is also there to record failed queries/search, so that investigation can be accomplished. Where an attacker could send in a query with carefully crafted parameters, such that they KNOW it will not succeed as a query, but they then know that string is encoded into an AuditEvent and processed... thus producing future bad behavior. It is true that base64encoding is a simple and effective way to encode everything consistently thus preserving all evidence as it was used.</p>



<a name="194933915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194933915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194933915">(Apr 22 2020 at 13:55)</a>:</h4>
<p>Again - that argument goes for all strings</p>



<a name="194933934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194933934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194933934">(Apr 22 2020 at 13:55)</a>:</h4>
<p>Thus I could see using a string for successful FHIR queries, but would still require failed queries to be recorded base64 encoded.</p>



<a name="194934024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194934024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194934024">(Apr 22 2020 at 13:56)</a>:</h4>
<p>why? - its still a string</p>



<a name="194934061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194934061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194934061">(Apr 22 2020 at 13:56)</a>:</h4>
<p>whether or not the query goes wrong</p>



<a name="194934155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194934155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194934155">(Apr 22 2020 at 13:57)</a>:</h4>
<p>so you are saying that the normal string escaping mechanics should be sufficient for all of these concerns?</p>



<a name="194934356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194934356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194934356">(Apr 22 2020 at 13:58)</a>:</h4>
<p>I'm saying that you could put garbage data in all the string fields out there</p>



<a name="194934388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194934388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194934388">(Apr 22 2020 at 13:58)</a>:</h4>
<p>and they are not base 64 encoded</p>



<a name="194935168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935168">(Apr 22 2020 at 14:03)</a>:</h4>
<p>I am trying to be convinced.</p>



<a name="194935348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935348">(Apr 22 2020 at 14:04)</a>:</h4>
<p>well the arguments regarding security does not hold - you said so yourself</p>



<a name="194935457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935457">(Apr 22 2020 at 14:05)</a>:</h4>
<p>and if that was the argument, well doesn't that settle it?</p>



<a name="194935466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935466">(Apr 22 2020 at 14:05)</a>:</h4>
<p>no I didn't. I said it was not primary</p>



<a name="194935568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935568">(Apr 22 2020 at 14:06)</a>:</h4>
<p>ok - bring on the other arguments</p>



<a name="194935615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935615">(Apr 22 2020 at 14:06)</a>:</h4>
<p>I already have. bring on the solution.</p>



<a name="194935647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935647">(Apr 22 2020 at 14:06)</a>:</h4>
<p>use strings</p>



<a name="194935707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935707">(Apr 22 2020 at 14:07)</a>:</h4>
<p>you don't need the envelope of base64 encoding it</p>



<a name="194935989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194935989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194935989">(Apr 22 2020 at 14:09)</a>:</h4>
<p>it brings no value as I see it</p>



<a name="194936261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194936261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194936261">(Apr 22 2020 at 14:10)</a>:</h4>
<p>I have explained the value.</p>



<a name="194937251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194937251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194937251">(Apr 22 2020 at 14:17)</a>:</h4>
<p>you mean the part where it is easier to convert between formats?</p>



<a name="194945621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194945621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194945621">(Apr 22 2020 at 15:11)</a>:</h4>
<p>Lets try a different approach. Can you express what problems you are encountering because of base64 encoding that would not appear with string? I ask this as there was an issue brought up that it was not clear which queries included as their context (parameters or output) the Patient id, thus the problem was that a query for all audit events involving patient X was unsuccesful. Thus we identified that in other cases of this common information model (audit event) there is a requirement that when the Patient id is known, that it is included as an .entity. Thus the overall use-case is satisfied without breaking the model.</p>



<a name="194945968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194945968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194945968">(Apr 22 2020 at 15:12)</a>:</h4>
<p>said another way... what is the problem, vs what is your solution to an unstated problem.</p>



<a name="194976498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194976498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194976498">(Apr 22 2020 at 19:01)</a>:</h4>
<p>I would go with "keeping it simple" -&gt; use a plain string. If it is encoded due to interoperability with other standards, my suggestion would be to put it in a standardized extension or so instead. I can imagine that there are all other kinds of standards, legislation and restrictions in many areas that put limitations on a lot of various data types. If you were to embrace all that there would probably be no operational standard in the other end.</p>



<a name="194976920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194976920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194976920">(Apr 22 2020 at 19:04)</a>:</h4>
<p>The 'problem' is that the datatype 'string' seems sufficient to encapsulate what is needed by FHIR, IMHO. If base64 is needed due to needs from others standards / legacy reasons I would suggest to have that stated more clearly in the spec.</p>



<a name="194978287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194978287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194978287">(Apr 22 2020 at 19:16)</a>:</h4>
<p>well, in general I agree with <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> - you cannot ignore encoding issues with any wire format, so it cannot be necessary to base64 encode things to make the wire format safe. And security issues innate to the data apply anyway, after you've base64 decided the content. </p>
<p>Where base64 might be required is if the query is binary not text</p>



<a name="194978518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194978518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194978518">(Apr 22 2020 at 19:18)</a>:</h4>
<p>that is an angle that I have not considered - a binary query ...</p>



<a name="194978551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194978551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194978551">(Apr 22 2020 at 19:18)</a>:</h4>
<p>that is a query I would like to see</p>



<a name="194978825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194978825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194978825">(Apr 22 2020 at 19:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> you have any example of that?</p>



<a name="194980325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194980325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194980325">(Apr 22 2020 at 19:32)</a>:</h4>
<p>we don't do any of that in FHIR</p>



<a name="194981255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194981255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194981255">(Apr 22 2020 at 19:39)</a>:</h4>
<p>Right - but since you mentioned it - I would still like to see an example use /use case</p>



<a name="194981352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194981352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194981352">(Apr 22 2020 at 19:39)</a>:</h4>
<p>dicom query? I'm guessing here... have to go digging through my dicom implementation to be sure</p>



<a name="194981388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194981388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194981388">(Apr 22 2020 at 19:39)</a>:</h4>
<p>LDAP query for sure, but I don't know that's in scope</p>



<a name="194987222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194987222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194987222">(Apr 22 2020 at 20:28)</a>:</h4>
<p>those are good factors. As I indicated above, I am not against having a query[x] that allows for the AuditEvent recorder to determine that the query they have is a string vs binary. However, this doesn't really simplify the consumption of AuditEvent as the recipient must be able to decode both string and binary. Even in a pure FHIR environment the recipient must recognize that it is possible that a AuditEvent recorder might have decided to use the binary encoding. So I think all we would accomplish is the appearance of more easy to use, while actually making it harder to use.</p>



<a name="194987325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194987325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194987325">(Apr 22 2020 at 20:29)</a>:</h4>
<p>there are many technical solutions --- what is the problem we are trying to solve? The only problem that has been expressed is that it doesn't fit the picture.</p>



<a name="194987753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194987753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194987753">(Apr 22 2020 at 20:32)</a>:</h4>
<p>note, I am not as negative on this as I appear... but don't want to change without good and clear benefit gained.</p>



<a name="194992336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/194992336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#194992336">(Apr 22 2020 at 21:15)</a>:</h4>
<blockquote>
<p>what is the problem we are trying to solve?</p>
</blockquote>
<p>having a clean model, would be my answer. Having chosen one datatype in the past does not necessarily make it the right choice. - and, if something doesn't fit the picture, aren't we then obliged to fix it? If the model is easier to understand and interpret by changing the datatype or allowing it to be either binary or not - shouldn't we then do it?</p>



<a name="195010906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195010906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195010906">(Apr 23 2020 at 01:34)</a>:</h4>
<p>If a query might be expressed as actual binary executable, that'd be a good reason to use base64encoded.  If you're going to send something as a string, it ought to meet the semantics of string - i.e. be intended to be human-readable.  If we think we'll need to convey queries from arbitrary standards that don't fit that semantic, then base64encoded as a choice is fine.  But encoding issues should not be an issue - even if round-tripping.  If they are, the solution is to fix the problem, not introduce base64encoded anywhere such issues might exist.</p>



<a name="195027989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195027989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195027989">(Apr 23 2020 at 07:52)</a>:</h4>
<p>So to sum up: Should I create a CP?</p>



<a name="195030238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195030238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195030238">(Apr 23 2020 at 08:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="195056524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195056524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195056524">(Apr 23 2020 at 13:00)</a>:</h4>
<p>So we need to support binary, but it is true that we could better support when a query is known to be a string. So it seems that a query[x] of String and binary might be useful. What I think we must then do is come up with very clear rules on when String can/should be used, or clear rules on when Binary can/should/shall be used. I am understanding that all forms of FHIR query/search can be represented in String safely; right?  If so, that is a nice deterministic rule that is well elaborated in a FHIR spec.</p>



<a name="195071574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195071574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195071574">(Apr 23 2020 at 14:46)</a>:</h4>
<p>I think the base criteria is whether the query value is something that's intended to be directly viewed/written by a human</p>



<a name="195071624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195071624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195071624">(Apr 23 2020 at 14:46)</a>:</h4>
<p>(The same as we would for attachment)</p>



<a name="195071722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195071722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195071722">(Apr 23 2020 at 14:47)</a>:</h4>
<p>Also, do we want base64binary or do we actually want Attachment?  The latter would let you specify a mime type so you'd have a clue what to do with the binary content...</p>



<a name="195103178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195103178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195103178">(Apr 23 2020 at 18:47)</a>:</h4>
<blockquote>
<p>very clear rules on when Binary can/should/shall be used.</p>
</blockquote>
<p>Ain't the rule that if the query contains binary content, it must be base64 encoded?</p>



<a name="195103409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195103409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195103409">(Apr 23 2020 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> </p>
<blockquote>
<p>intended to be directly viewed/written by a human.</p>
</blockquote>
<p>that is too vague. Even queries in FHIR expressed in either the URL or in the body of HTTP post is not intended for humans. It is intended for machines</p>



<a name="195103696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195103696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195103696">(Apr 23 2020 at 18:50)</a>:</h4>
<p>HTTP is not intended for human processing. Its intended for machine processing. Somewhat understandable by humans, yes</p>



<a name="195118846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195118846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195118846">(Apr 23 2020 at 20:59)</a>:</h4>
<p>My point was that if your query is XML or JSON, it would be appropriate to use Attachment for those rather than string.</p>



<a name="195118952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195118952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195118952">(Apr 23 2020 at 21:00)</a>:</h4>
<p>eg. search using HTTP POST?</p>



<a name="195122150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195122150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195122150">(Apr 23 2020 at 21:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="195130967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195130967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195130967">(Apr 23 2020 at 23:17)</a>:</h4>
<p>Could be.  Or some non-FHIR mechanism that uses a technical syntax that has some sort of mime type</p>



<a name="195199602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195199602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195199602">(Apr 24 2020 at 14:55)</a>:</h4>
<p>I think attachment is overkill.  and I would not expect most query languages to have registerd a mimetype</p>



<a name="195199704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195199704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195199704">(Apr 24 2020 at 14:55)</a>:</h4>
<p>are all uses of string datatype intended for human consumption? That doesn't  feel right</p>



<a name="195200620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195200620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195200620">(Apr 24 2020 at 15:02)</a>:</h4>
<p>Search using post would preserve the WHOLE post body in the AuditEvent.entity.query as base64binary.... This likely is not explained well enough so likely could get CR to explain it, and provide an example... I guess I could take the search example and create an auditEvent example off of it... Sound like a good idea?</p>



<a name="195201096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195201096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195201096">(Apr 24 2020 at 15:04)</a>:</h4>
<p>That doesn't mean that it couldn't be using a string datatype rather than base64 binary... right?</p>



<a name="195201493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195201493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195201493">(Apr 24 2020 at 15:07)</a>:</h4>
<p>so we are back to the proposal which is to update AuditEvent.entity.query to a query[x] of type string or base64binary....  with explanation that string should be used when it is known to be a string, with FHIR query and search as examples.   The reader should understand that binary might have been used with strings as the recorder might not have been sure their query was string compatible.</p>



<a name="195201537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195201537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195201537">(Apr 24 2020 at 15:07)</a>:</h4>
<p>does string work with all FHIR query and search?</p>



<a name="195203453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195203453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195203453">(Apr 24 2020 at 15:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/179166-implementers/topic/AuditEvent/near/195200620" title="#narrow/stream/179166-implementers/topic/AuditEvent/near/195200620">said</a>:</p>
<blockquote>
<p>Search using post would preserve the WHOLE post body in the AuditEvent.entity.query as base64binary.... This likely is not explained well enough so likely could get CR to explain it, and provide an example... I guess I could take the search example and create an auditEvent example off of it... Sound like a good idea?</p>
</blockquote>
<p>I created <a href="http://jira.hl7.org/browse/FHIR-26093" title="http://jira.hl7.org/browse/FHIR-26093">J#26093</a> for this post search example</p>



<a name="195333995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195333995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195333995">(Apr 26 2020 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  The <a href="https://jira.hl7.org/browse/FHIR-26093" title="https://jira.hl7.org/browse/FHIR-26093">https://jira.hl7.org/browse/FHIR-26093</a> points some Da Vinci related stuff. Was that intended?</p>



<a name="195334121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195334121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195334121">(Apr 26 2020 at 13:10)</a>:</h4>
<p>If FHIR queries issued as GET can be in thee string then FHIR queries issued as POST should also be in the string as the searches are equivalent AFAIK. The use of base64 should be isolated to binary cases, IMHO</p>



<a name="195334200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195334200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195334200">(Apr 26 2020 at 13:13)</a>:</h4>
<blockquote>
<p>does string work with all FHIR query and search?</p>
</blockquote>
<p>Well, since it must be representable within an URL, I would expect so.</p>



<a name="195334205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195334205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195334205">(Apr 26 2020 at 13:13)</a>:</h4>
<p><a href="/user_uploads/10155/pyW0TRnR79_2kMy9ur7aZz9Z/image.png" title="image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/pyW0TRnR79_2kMy9ur7aZz9Z/image.png" title="image.png"><img src="/user_uploads/10155/pyW0TRnR79_2kMy9ur7aZz9Z/image.png"></a></div>



<a name="195334231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195334231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195334231">(Apr 26 2020 at 13:13)</a>:</h4>
<p>From <a href="https://www.hl7.org/fhir/http.html#search" title="https://www.hl7.org/fhir/http.html#search">https://www.hl7.org/fhir/http.html#search</a></p>



<a name="195401883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195401883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195401883">(Apr 27 2020 at 11:11)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-26938" title="http://jira.hl7.org/browse/FHIR-26938">J#26938</a></p>



<a name="195402187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195402187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195402187">(Apr 27 2020 at 11:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179166-implementers/topic/AuditEvent/near/195334121" title="#narrow/stream/179166-implementers/topic/AuditEvent/near/195334121">said</a>:</p>
<blockquote>
<p>If FHIR queries issued as GET can be in thee string then FHIR queries issued as POST should also be in the string as the searches are equivalent AFAIK. The use of base64 should be isolated to binary cases, IMHO</p>
</blockquote>
<p>You have somewhat convinced me... the main problem I have is that a consuming application must know how to deal with both string and binary encoded query. Thus adding string does not help consuming apps. So what does adding a string option help? I am not clear on what the benefit is, and I am clear that there is a negative impact on the apps that consume/use the AuditEvent.</p>



<a name="195405342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvent/near/195405342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvent.html#195405342">(Apr 27 2020 at 11:48)</a>:</h4>
<p>Well that depends on your approach and how you count. First of all, if you restrict the use of base64 to queries that contain binary elements, then that part would not be rendered anyway - hence, clients can ignore this (besides clients that are really dedicated to that exact use case of rendering binary data). Second, if that first assumption is made, then query strings are directly visible without having to decode the content as it is represented in a normal string. Third, if its a normal string it is more easily made available for searches in the future. Fourth, do you expect the vast majority of clients to be looking for binary encoded content - because I don't. As <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  says: you can hide complexity, but you cannot make it go away. Currently, you are hiding it, by base64 encoding all of the queries.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
