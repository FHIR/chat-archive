---
layout: page
title: "FHIR Chat  · Self referencing complex extension · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html">Self referencing complex extension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153815166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Self%20referencing%20complex%20extension/near/153815166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonny Rylands <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html#153815166">(Mar 11 2016 at 12:36)</a>:</h4>
<p>Is it possible for a complex extension to reference itself?  For example an extension with two elements of 'name' and 'value' where 'value' could be a CodeableConcept or could be the whole extension?  (I realise this is a poor example but wondered whether it was possible.)</p>



<a name="153815167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Self%20referencing%20complex%20extension/near/153815167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html#153815167">(Mar 11 2016 at 12:39)</a>:</h4>
<p>Extensions can contain extensions. Nothing says the extension can't contain itself, and in fact you could create the StructureDefinition for an Extension that does that. So yes, it is possible.</p>



<a name="153815168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Self%20referencing%20complex%20extension/near/153815168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonny Rylands <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html#153815168">(Mar 11 2016 at 12:41)</a>:</h4>
<p>How do you do that?  Do you constraint one of the value[x] elements to be of type Reference, referencing the extensions URI?</p>



<a name="153815169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Self%20referencing%20complex%20extension/near/153815169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html#153815169">(Mar 11 2016 at 12:45)</a>:</h4>
<p>No, but I haven't done this... you could either have an element in your StructureDefinition with the path <code>Extension.extension.url</code> that is mapped to your extension URI... or you could use a "primitive extension" -- so the path would be <code>Extension.valueCodeableConcept.extension</code> I think... I haven't played too much with primitive extensions though, because I hate that they even exist.</p>



<a name="153815170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Self%20referencing%20complex%20extension/near/153815170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html#153815170">(Mar 11 2016 at 12:48)</a>:</h4>
<p>By the way, if you have comments about how complex extensions work, you may want to add your thoughts to the "<a href="https://chat.fhir.org/#narrow/stream/implementers/subject/Representing.20Extensions" target="_blank" title="https://chat.fhir.org/#narrow/stream/implementers/subject/Representing.20Extensions">Representing Extensions</a>" topic</p>



<a name="153815171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Self%20referencing%20complex%20extension/near/153815171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonny Rylands <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html#153815171">(Mar 11 2016 at 12:57)</a>:</h4>
<p>OK, thanks - I will have a read through this thread later and see if I can contribute.</p>



<a name="153815371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Self%20referencing%20complex%20extension/near/153815371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html#153815371">(Mar 14 2016 at 09:30)</a>:</h4>
<p>Johnny, I think you want to use the extension as the actual value, not as an extension on the value?  Extensions on extensions are always done as extensions on the Extension.value.  You could use Extension.valueExtension, though <a href="http://hl7.org/fhir/datatypes.html#open" target="_blank" title="http://hl7.org/fhir/datatypes.html#open">http://hl7.org/fhir/datatypes.html#open</a> suggests this is not (yet) allowed. Extension.extension is used to represent nested complex extensions, so that's probably not what you're looking for.</p>



<a name="153815394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Self%20referencing%20complex%20extension/near/153815394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonny Rylands <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Self.20referencing.20complex.20extension.html#153815394">(Mar 14 2016 at 12:22)</a>:</h4>
<p>Ewout - thanks.  I think need to re-run though my example, Extension.extension may do the job.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
