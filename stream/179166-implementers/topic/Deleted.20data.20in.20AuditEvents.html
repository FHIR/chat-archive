---
layout: page
title: "FHIR Chat  · Deleted data in AuditEvents · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html">Deleted data in AuditEvents</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="224890036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224890036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Jahns <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224890036">(Feb 02 2021 at 15:52)</a>:</h4>
<p>Hello,</p>
<p>I am having trouble with how to represent a deleted element in an AuditEvent.</p>
<p>Currently, I am populating <br>
entity.detail.type = {name of element modified}<br>
entity.detail.value = {value it was modified to}</p>
<p>However, both entity.detail.type and entity.detail.value are cardinality 1..1 ,<br>
so I can't leave entity.detail.value blank to communicate a delete.</p>
<p>Is there a better way to structure this so that deletes can be communicated?</p>
<p>I would like to keep this info in the entity BackboneElement so that I can point to the relevant Resource, and since I'd like to specify which element was deleted, just populating action="Delete" on the AuditEvent seems incorrect.</p>



<a name="224900323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224900323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224900323">(Feb 02 2021 at 16:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span></p>



<a name="224901955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224901955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224901955">(Feb 02 2021 at 17:05)</a>:</h4>
<p>I happen to be writing an IG on basic auditEvent profiles for REST.. i am not yet to Delete... but will get there.</p>



<a name="224902019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224902019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224902019">(Feb 02 2021 at 17:05)</a>:</h4>
<p>The notional concept is that you just put the former resource id into the .entity.what</p>



<a name="224912749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224912749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Jahns <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224912749">(Feb 02 2021 at 18:17)</a>:</h4>
<p>My problem is that it's not an entire resource that's deleted, but rather just some element/field of it. So there is still a valid Resource ID but some of its data has been removed; I'm not sure where I can best put the name of this element. (at any rate, an IG for this sounds helpful!)</p>



<a name="224922819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224922819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224922819">(Feb 02 2021 at 19:26)</a>:</h4>
<p>Removing some information from a resource is just an update.</p>



<a name="224926152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224926152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Jahns <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224926152">(Feb 02 2021 at 19:50)</a>:</h4>
<p>Right; does that mean I can't provide the details of this update however? Ideally I'd like to specify the element that was changed. For example, "User X has deleted the value of Observation.note" or similar. Using AuditEvent.entity.detail works for most updates, but not for updates that don't have a value.</p>



<a name="224932691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224932691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224932691">(Feb 02 2021 at 20:35)</a>:</h4>
<p>As lloyd mentions. that is an Update. The AuditEvent (and Provenance) is there to indicate that an update happened. Where it is important for the before and after to be known, the solution recommended in FHIR core is to use a versioning FHIR service implementation. In that case the version specific id is recorded for the old resource. Thus you can always compare that version with the version that followed it. Replicating these differences within the AuditEvent or Provenance is not the intent of the model.</p>



<a name="224936833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224936833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Jahns <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224936833">(Feb 02 2021 at 21:08)</a>:</h4>
<p>Okay, that makes sense; thanks for the explanation!</p>



<a name="224939697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Deleted%20data%20in%20AuditEvents/near/224939697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Deleted.20data.20in.20AuditEvents.html#224939697">(Feb 02 2021 at 21:31)</a>:</h4>
<p><span class="user-mention" data-user-id="364028">@James Jahns</span> I have taken a first crack at an IG for AuditEvents for REST. I only have Create, Read, Update, and Delete done.  I will now work no Query. I welcome comments. I do have some open questions to myself, so adding others questions would be good.<br>
<a href="http://build.fhir.org/ig/JohnMoehrke/BasicAudit/branches/main/index.html">http://build.fhir.org/ig/JohnMoehrke/BasicAudit/branches/main/index.html</a></p>
<p>This is not a formal project, I wanted to exercise the concept before proposing it as formal. It is based on the intention noted on the AuditEvent core page, but it does deviate a bit.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
