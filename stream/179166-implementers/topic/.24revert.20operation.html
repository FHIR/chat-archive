---
layout: page
title: "FHIR Chat  · $revert operation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html">$revert operation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227409711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227409711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227409711">(Feb 23 2021 at 10:37)</a>:</h4>
<p>Has anyone considered an $revert function or something similar? <br>
Something for reverting this resource to its previous version (considering the applicable rules)? <br>
I don't think it is a very safe thing to do, but wanted to know what is out there.</p>



<a name="227439993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227439993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227439993">(Feb 23 2021 at 14:40)</a>:</h4>
<p>Why would you need an operation?  Just do a PUT with the content from the old version?</p>



<a name="227446411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227446411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227446411">(Feb 23 2021 at 15:16)</a>:</h4>
<p>I assume to revert the version id too, but that does seem dangerous</p>



<a name="227446843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227446843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227446843">(Feb 23 2021 at 15:18)</a>:</h4>
<p>I wanted to do this as purely a convenience operation, where PUT type/id/_history/vid$revert is equivalent to retrieving the version and sending it as a new update, subject to the same rules as a normal PUT. Haven't gotten around to it though.</p>



<a name="227447501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227447501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227447501">(Feb 23 2021 at 15:22)</a>:</h4>
<p>lastUpdated can't be reverted - that would definitely not be safe.  Reverting the version id <em>could</em> be ok I guess?  If someone had not queried since the original, then it'd be fine to do an update from that point.  However, a 'history' query would then show the same version id more than once - and <em>that</em> would be problematic.  What's the use-case?</p>



<a name="227448236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227448236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227448236">(Feb 23 2021 at 15:27)</a>:</h4>
<blockquote>
<p>However, a 'history' query would then show the same version id more than once</p>
</blockquote>
<p>That is my first impression that revert a version id is NOT a good idea.</p>



<a name="227463535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227463535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227463535">(Feb 23 2021 at 16:51)</a>:</h4>
<p>I wrote up some speculative ideas about API operations to modify the history, and one is that if you could DELETE individual resource versions it would be possible to bring back an old version to be current simply by deleting every later version. It would not be a good idea to have an operation that created a second history entry with the same lastUpdated or version ID.</p>
<p>But that isn't a direction we're actually pursuing.</p>



<a name="227463975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227463975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227463975">(Feb 23 2021 at 16:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197072">Paul Church</span> <a href="#narrow/stream/179166-implementers/topic/.24revert.20operation/near/227446843">said</a>:</p>
<blockquote>
<p>I wanted to do this as purely a convenience operation, where PUT type/id/_history/vid$revert is equivalent to retrieving the version and sending it as a new update, subject to the same rules as a normal PUT. Haven't gotten around to it though.</p>
</blockquote>
<p>Yes, that is what I was asked. I don't think we should rever version ID, because then you cannot unrevert.</p>



<a name="227467592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24revert%20operation/near/227467592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24revert.20operation.html#227467592">(Feb 23 2021 at 17:15)</a>:</h4>
<p>Use case is "doctor made a mistake and they just want to undo the thing they just updated."<br>
The rationale is "our current standard can do something like that, we don't want to lose that functionality"</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
