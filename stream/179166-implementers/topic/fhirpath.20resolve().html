---
layout: page
title: "FHIR Chat  · fhirpath resolve() · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html">fhirpath resolve()</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153918422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918422">(Nov 09 2017 at 06:26)</a>:</h4>
<p>I'm looking at the FHIRpath function <code>resolve()</code>see <a href="http://build.fhir.org/profiling.html#discriminator" target="_blank" title="http://build.fhir.org/profiling.html#discriminator">http://build.fhir.org/profiling.html#discriminator</a> and <a href="http://hl7.org/fhirpath/#additional-functions" target="_blank" title="http://hl7.org/fhirpath/#additional-functions">http://hl7.org/fhirpath/#additional-functions</a><br>
Is <code>resolve()</code> safe to use when slicing a reference?<br>
I want to slice <code>Consent.except</code> on <code>data.reference.resolve(BodySite.code)</code><br>
Is that syntax even right?</p>



<a name="153918649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918649">(Nov 09 2017 at 22:01)</a>:</h4>
<p>no resolve() doesn't take a parameter. What are you trying to do?</p>



<a name="153918650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918650">(Nov 09 2017 at 22:01)</a>:</h4>
<p>but in principle, yes, you can slice this way</p>



<a name="153918683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918683">(Nov 09 2017 at 23:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
I want to record two types of information in an organ donor Consent resource: 1-whether the patient consents to any donations at all, and 2-for each of a list of organs, whether the patient consents to donation of that particular organ. (Depending upon the business owner, we might be able to get rid of case 1 as it is derivable from case 2, but maybe not.)<br>
I'm exploring using slices of <code>Consent.except</code> for this. Options include:<br>
slicing on <code>Consent.except.data.reference.reference</code> and using two profiles of BodySite.<br>
slicing on <code>Consent.except.data.reference.reference---BodySite.code.coding</code>and using different invariants for each of the two slices.</p>
<p>Where can I find guidance on or an example of using resolve()? - to get the syntax right.</p>



<a name="153918763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918763">(Nov 10 2017 at 06:01)</a>:</h4>
<p>shouldn't you just use code for the body part?</p>



<a name="153918764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918764">(Nov 10 2017 at 06:01)</a>:</h4>
<p>data.reference.resolve().code otherwise</p>



<a name="153918766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918766">(Nov 10 2017 at 06:16)</a>:</h4>
<p>Thanks.<br>
I'd like to use <code>code</code>, but its definition makes it seem different to codes used in other resources.</p>
<p>Its definition of "If this code is found in an instance, then the exception applies." makes me think that code is a tag used to identify data of interest. I can't see how that is relevant to consent to donate an organ.</p>
<p>I must create an issue on that to see whether it can be changed in STU4.</p>
<p>I could use an extension. That might be the best option.</p>



<a name="153918767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918767">(Nov 10 2017 at 06:17)</a>:</h4>
<p>well, you're working against the instantiated scope of the resource. I'd use code... if the code is found in the instance of the body site, then the exception applies</p>



<a name="153918768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918768">(Nov 10 2017 at 06:17)</a>:</h4>
<p>so it comes to the same thing</p>



<a name="153918769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918769">(Nov 10 2017 at 06:18)</a>:</h4>
<p>Please explain more.</p>



<a name="153918770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918770">(Nov 10 2017 at 06:19)</a>:</h4>
<p>what you're saying: use a body site with a code, and then slicing on it.... that's the same as putting code on the exception itself, since it's just referring to the code in the data (the body site) anyway</p>



<a name="153918771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918771">(Nov 10 2017 at 06:20)</a>:</h4>
<p>the real wrongness is that you're not consenting to share the body site resource, you're consenting to share the body part itself. So I don't see how code is more wrong than a body site resource</p>



<a name="153918773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918773">(Nov 10 2017 at 06:24)</a>:</h4>
<p>Is your suggestion to record the organ in <code>except.data(asBodySite).code</code> but slice on <code>except.code</code>?</p>



<a name="153918774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918774">(Nov 10 2017 at 06:24)</a>:</h4>
<p>I agree that I seem to have gone down a rabbit hole.</p>



<a name="153918775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhirpath%20resolve%28%29/near/153918775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhirpath.20resolve().html#153918775">(Nov 10 2017 at 06:25)</a>:</h4>
<p>I think I might need to add an extension to except to hold what the consent is actually about.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
