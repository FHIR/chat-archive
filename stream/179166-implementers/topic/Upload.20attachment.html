---
layout: page
title: "FHIR Chat  · Upload attachment · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Upload.20attachment.html">Upload attachment</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215448004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Upload%20attachment/near/215448004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Albert <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Upload.20attachment.html#215448004">(Nov 03 2020 at 12:45)</a>:</h4>
<p>We have developed an application that stores it's data in the HAPI FHIR server. Right now, for development and testing purposes, we are storing images right in the 'data' field of an Attachment resource that is referenced by a Media resource. I read that the data field could also hold a link to the raw data of the attachment (the image in this case). How would the upload process be realized for the images? Is there already an API that stores the files in the filesystem and creates a link that can be stored in the resource?</p>



<a name="215451886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Upload%20attachment/near/215451886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Upload.20attachment.html#215451886">(Nov 03 2020 at 13:23)</a>:</h4>
<p>Large object datatype supported by your db.</p>



<a name="215452367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Upload%20attachment/near/215452367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Upload.20attachment.html#215452367">(Nov 03 2020 at 13:28)</a>:</h4>
<p>Store the image data (base64) and the containing resource instance in such a field?</p>



<a name="215456198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Upload%20attachment/near/215456198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Upload.20attachment.html#215456198">(Nov 03 2020 at 14:00)</a>:</h4>
<p>Put your object in a FHIR Binary resource, and point at that Binary using .attachment.url</p>



<a name="215456277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Upload%20attachment/near/215456277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Upload.20attachment.html#215456277">(Nov 03 2020 at 14:00)</a>:</h4>
<p>note, you should move away from Media and toward use of DocumentReference as Media is being retired in preference for DocumentReference.</p>



<a name="215481612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Upload%20attachment/near/215481612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Albert <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Upload.20attachment.html#215481612">(Nov 03 2020 at 17:00)</a>:</h4>
<p>So .. if I store the image data inline (as base64) or as FHIR Binary would the backend store that efficient in the file system or would I slow down my database because it has to handle large amounts of data? We have a usecase where lots of images will be stored and in near future videos should also be stored. Is a FHIR Binary the way to do that?</p>



<a name="215501067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Upload%20attachment/near/215501067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Upload.20attachment.html#215501067">(Nov 03 2020 at 19:41)</a>:</h4>
<p>FHIR Binary stores and usually transmits the data as 'raw' - i.e. not base64 encoded.  (And can be transmitted compressed if your HTTP request asks for it that way.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
