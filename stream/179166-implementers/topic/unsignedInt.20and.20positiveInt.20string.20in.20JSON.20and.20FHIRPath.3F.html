---
layout: page
title: "FHIR Chat  · unsignedInt and positiveInt string in JSON and FHIRPath? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html">unsignedInt and positiveInt string in JSON and FHIRPath?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="210544182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210544182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210544182">(Sep 18 2020 at 16:30)</a>:</h4>
<p>Why are the primitive data types unsignedInt and positiveInt are represented as string rather than number in JSON? In addition to that, why is the FHIRPath type of both values specified as <code>http://hl7.org/fhirpath/System.String</code> in the v4.0.1 StructureDefinitions when <a href="https://www.hl7.org/fhir/fhirpath.html">https://www.hl7.org/fhir/fhirpath.html</a> says that FHIR.integer, FHIR.unsignedInt, FHIR.positiveInt should map to  System.Integer. Mostly the value type FHIR primitive types already matches the conversion table. Except for FHIR.date, but let's stay at the integers here.</p>
<p>How do other implementers represent  unsignedInt and positiveInt in memory? Would it be any problem to just use a 32-bit signed integer here?</p>



<a name="210544441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210544441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210544441">(Sep 18 2020 at 16:33)</a>:</h4>
<p>In the spec, it says that unsignedInt and positiveInt are represented as JSON number:</p>
<p>unsignedInt Any non-negative integer in the range 0..2,147,483,647  xs:nonNegativeInteger   JSON number<br>
positiveInt Any positive integer in the range 1..2,147,483,647  xs:positiveInteger  JSON number</p>



<a name="210544935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210544935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210544935">(Sep 18 2020 at 16:37)</a>:</h4>
<p>Alexander: according the the <a href="http://hl7.org/fhir/datatypes.html">datatypes</a> page, the JSON serialization is as a number.  The regex is provided for validation purposes.</p>
<p>I'll note that in R5, there is now a 64-bit integer, which needs to be serialized as a string in JSON because a <code>number</code> will not guarantee precision.</p>
<p>In C#, I use <code>uint</code> for unsigned and positive.  In JS/TS I use <code>number</code>.</p>



<a name="210545090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210545090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210545090">(Sep 18 2020 at 16:38)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> Ah you are right. At this point, JSON number is given. But here <a href="https://www.hl7.org/fhir/json.html#primitive">https://www.hl7.org/fhir/json.html#primitive</a> only integer and decimal are given and the <a href="https://www.hl7.org/fhir/datatypes.html#attachment">https://www.hl7.org/fhir/datatypes.html#attachment</a> example has the unsingedInt also as string.</p>



<a name="210546523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210546523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210546523">(Sep 18 2020 at 16:51)</a>:</h4>
<p>In <a href="http://jira.hl7.org/browse/FHIR-26937">FHIR#26937</a> it also sounds like unsignedInt and positiveInt should be represented as strings like integer64. Looks like this should be clarified. </p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span> <span class="p">:</span> <span class="s2">&quot;positiveInt.value&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path&quot;</span> <span class="p">:</span> <span class="s2">&quot;positiveInt.value&quot;</span><span class="p">,</span>
  <span class="nt">&quot;representation&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;xmlAttr&quot;</span> <span class="p">],</span>
  <span class="nt">&quot;short&quot;</span> <span class="p">:</span> <span class="s2">&quot;Primitive value for positiveInt&quot;</span><span class="p">,</span>
  <span class="nt">&quot;definition&quot;</span> <span class="p">:</span> <span class="s2">&quot;Primitive value for positiveInt&quot;</span><span class="p">,</span>
  <span class="nt">&quot;min&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;max&quot;</span> <span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
    <span class="nt">&quot;extension&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
      <span class="nt">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type&quot;</span><span class="p">,</span>
      <span class="nt">&quot;valueUrl&quot;</span> <span class="p">:</span> <span class="s2">&quot;positiveInt&quot;</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/regex&quot;</span><span class="p">,</span>
      <span class="nt">&quot;valueString&quot;</span> <span class="p">:</span> <span class="s2">&quot;[1-9][0-9]*&quot;</span>
    <span class="p">}</span> <span class="p">],</span>
    <span class="nt">&quot;code&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhirpath/System.String&quot;</span>
  <span class="p">}</span> <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>


<p>Also here, I would replace System.String with System.Integer.</p>



<a name="210549027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210549027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210549027">(Sep 18 2020 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="210549171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210549171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210549171">(Sep 18 2020 at 17:14)</a>:</h4>
<p>Ahh, I see the confusion.  I believe <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> was asking that all three be specifically listed, not to imply that they are serialized as strings.<br>
The issue was started around "integer64" and the other types were tacked on aftwards.<br>
Edit: If I remember correctly</p>



<a name="210571902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210571902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210571902">(Sep 18 2020 at 20:31)</a>:</h4>
<blockquote>
<p>I would replace System.String with System.Integer.</p>
</blockquote>
<p>yes. Can you please make a task for this</p>



<a name="210667588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/unsignedInt%20and%20positiveInt%20string%20in%20JSON%20and%20FHIRPath%3F/near/210667588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/unsignedInt.20and.20positiveInt.20string.20in.20JSON.20and.20FHIRPath.3F.html#210667588">(Sep 20 2020 at 13:41)</a>:</h4>
<p>Done it: <a href="https://jira.hl7.org/browse/FHIR-28586">https://jira.hl7.org/browse/FHIR-28586</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
