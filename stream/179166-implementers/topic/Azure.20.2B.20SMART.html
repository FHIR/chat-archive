---
layout: page
title: "FHIR Chat  · Azure + SMART · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html">Azure + SMART</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="186388461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Azure%20%2B%20SMART/near/186388461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduardo Ferreira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html#186388461">(Jan 23 2020 at 13:37)</a>:</h4>
<p>Hello, I am currently trying out Azure API for FHIR together with SMART on FHIR's JS client.</p>
<p>I am struggling a bit with getting the right launch context back from the server after authenticating with my Microsoft Account. Does this require any special authentication setup? Do I need to play with the OpenID settings? </p>
<p>Also, how will Azure map a user (e-mail address) to a patient (Patient/ID) in order to limit access to resources? Does the patient ID have to match the username/email or can the the Azure admin do the mapping manually when registering a new user?</p>
<p>Your help is very appreciated.</p>



<a name="186429203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Azure%20%2B%20SMART/near/186429203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html#186429203">(Jan 23 2020 at 20:01)</a>:</h4>
<p><span class="user-mention" data-user-id="195775">@Michael Hansen</span></p>



<a name="186455757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Azure%20%2B%20SMART/near/186455757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Hansen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html#186455757">(Jan 24 2020 at 01:43)</a>:</h4>
<p>We have some limited support for the in EHR flow but we do not attempt to map token to specific FHIR resource, nor do we respect or enforce SMART scopes. If you want to play with the SMART on FHIR proxy, here are the docs: <a href="https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy" target="_blank" title="https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy">https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy</a></p>
<p>Support for SMART on FHIR in an independent FHIR server with a stand-alone identity provider is not easy in general, since the identity provider is not aware of the FHIR data.</p>



<a name="186485246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Azure%20%2B%20SMART/near/186485246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduardo Ferreira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html#186485246">(Jan 24 2020 at 12:06)</a>:</h4>
<blockquote>
<p>We have some limited support for the in EHR flow but we do not attempt to map token to specific FHIR resource, nor do we respect or enforce SMART scopes. If you want to play with the SMART on FHIR proxy, here are the docs: <a href="https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy" target="_blank" title="https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy">https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy</a></p>
<p>Support for SMART on FHIR in an independent FHIR server with a stand-alone identity provider is not easy in general, since the identity provider is not aware of the FHIR data.</p>
</blockquote>
<p>Thanks Michael, I have the proxy setup according to the tutorials and below is the token response I get, which does not contain the "patient" key of course. When passing the "launch: '...'" key as a FHIR.oauth2.authorize argument then I get the "patient" key back and all works perfectly fine.</p>
<p>If token/resource mapping is not encouraged, would the only way to identify a patient be passing the "launch" argument as shown in the example documented?</p>
<p><a href="/user_uploads/10155/s68lU0L4UVgzZuBAEhf3J0fi/Screenshot-2020-01-24-at-12.47.35.png" target="_blank" title="Screenshot-2020-01-24-at-12.47.35.png">Screenshot-2020-01-24-at-12.47.35.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/s68lU0L4UVgzZuBAEhf3J0fi/Screenshot-2020-01-24-at-12.47.35.png" target="_blank" title="Screenshot-2020-01-24-at-12.47.35.png"><img src="/user_uploads/10155/s68lU0L4UVgzZuBAEhf3J0fi/Screenshot-2020-01-24-at-12.47.35.png"></a></div>



<a name="187106589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Azure%20%2B%20SMART/near/187106589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christophe Mattler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html#187106589">(Jan 31 2020 at 17:56)</a>:</h4>
<p>Hi, <br>
I don't know if this is related, but we're trying to implement SMART on FHIR on top of Active Directory Federation Service, and we haven't found how to implement the context parameters (eg patient). We send them in the launch parameter, but we don't know how to make AD FS interpret it and send the context back in the response.</p>



<a name="187130285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Azure%20%2B%20SMART/near/187130285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html#187130285">(Jan 31 2020 at 22:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="187130837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Azure%20%2B%20SMART/near/187130837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html#187130837">(Jan 31 2020 at 22:40)</a>:</h4>
<p><span class="user-mention" data-user-id="195775">@Michael Hansen</span></p>



<a name="187131252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Azure%20%2B%20SMART/near/187131252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Hansen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Azure.20.2B.20SMART.html#187131252">(Jan 31 2020 at 22:46)</a>:</h4>
<p>We have a (rudimentary) Azure AD  proxy for SMART:<br>
<a href="https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy" target="_blank" title="https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy">https://docs.microsoft.com/en-us/azure/healthcare-apis/use-smart-on-fhir-proxy</a><br>
It only supports in-ehr flow and coverage is limited.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
