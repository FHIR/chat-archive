---
layout: page
title: "FHIR Chat  · X-Provenance in HAPI · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/X-Provenance.20in.20HAPI.html">X-Provenance in HAPI</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="177033759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/X-Provenance%20in%20HAPI/near/177033759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias Cervin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/X-Provenance.20in.20HAPI.html#177033759">(Oct 01 2019 at 08:26)</a>:</h4>
<p>Hello fellow fhirstarters (excuse the ecitement, first post in this forum/chat/thing)!</p>
<p>I'm part of the team here at The Swedish E-health Agency implementing FHIR on a new system we're building. One of the things we're building now is the X-Provenance function, in HAPI. So I wanted to share some ideas and would love to hear your thoughts on this!</p>
<p>What would you say about having a Interceptor (pre-provider) that puts relevant custom-header into RequestDetails.userData and then in the provider extract this and attach it to the resource before going further down into ejb/mapping? Another suggestion have been to put HttpServletRequest into the relevant Provider-methods and then check there if X-Provenance exists, but I think I prefer going for an interceptor!</p>



<a name="177038748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/X-Provenance%20in%20HAPI/near/177038748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/X-Provenance.20in.20HAPI.html#177038748">(Oct 01 2019 at 09:40)</a>:</h4>
<p>This sounds to me like a great use case for an interceptor.</p>



<a name="177051819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/X-Provenance%20in%20HAPI/near/177051819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias Cervin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/X-Provenance.20in.20HAPI.html#177051819">(Oct 01 2019 at 12:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> thanks for input! Turned out pretty neat using incomingRequestPreHandled()! Even though ActionRequestDetails is deprecated?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
