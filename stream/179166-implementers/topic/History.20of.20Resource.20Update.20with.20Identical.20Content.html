---
layout: page
title: "FHIR Chat  · History of Resource Update with Identical Content · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/History.20of.20Resource.20Update.20with.20Identical.20Content.html">History of Resource Update with Identical Content</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="196603980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/History%20of%20Resource%20Update%20with%20Identical%20Content/near/196603980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/History.20of.20Resource.20Update.20with.20Identical.20Content.html#196603980">(May 06 2020 at 08:46)</a>:</h4>
<p>Should an update of a resource, were nothing is changed, create a new history entry? In Blaze, I skip all updates which do not change the resource and just return the existing version. However the Touchstone test /FHIR4-0-1-Basic/A-C/ConceptMap/Client Assigned Id/ConceptMap-client-id-json expects a new version of the resource after an update with identical content.</p>
<p>My motivation for not creating a new history entry is the following: If I have an ETL process which transfers resources from another store into my store, it doesn't need to keep track of what changed. The ETL process can simply update all resources it knowns, even if nothing changed. In my FHIR server such updates would not create additional database entries and so are essential no-ops, costing no additional storage.</p>



<a name="196604483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/History%20of%20Resource%20Update%20with%20Identical%20Content/near/196604483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/History.20of.20Resource.20Update.20with.20Identical.20Content.html#196604483">(May 06 2020 at 08:52)</a>:</h4>
<p>Does the update change the metadata e.g. lastUpdated?</p>



<a name="196607420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/History%20of%20Resource%20Update%20with%20Identical%20Content/near/196607420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/History.20of.20Resource.20Update.20with.20Identical.20Content.html#196607420">(May 06 2020 at 09:18)</a>:</h4>
<p>The lastUpdated metadata is created by the server. So the client can't set it. In my case there is no new lastUpdated because I create no new history entry. I know that is a disadvantage, because the fact that someone "updated" a resource recently is lost.</p>



<a name="196649910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/History%20of%20Resource%20Update%20with%20Identical%20Content/near/196649910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/History.20of.20Resource.20Update.20with.20Identical.20Content.html#196649910">(May 06 2020 at 15:18)</a>:</h4>
<p>The server has a choice.  It can change the eTag and the lastUpdated or it can leave them the same</p>



<a name="196649938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/History%20of%20Resource%20Update%20with%20Identical%20Content/near/196649938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/History.20of.20Resource.20Update.20with.20Identical.20Content.html#196649938">(May 06 2020 at 15:18)</a>:</h4>
<p>It SHOULD NOT reject the update</p>



<a name="196651425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/History%20of%20Resource%20Update%20with%20Identical%20Content/near/196651425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/History.20of.20Resource.20Update.20with.20Identical.20Content.html#196651425">(May 06 2020 at 15:27)</a>:</h4>
<p>I think it should create a new history entry, in general. For the specific ETL case it makes sense that you don't need a new entry but if a clinical system thought it was important to tell us that the current state of the world was X, we should record that even if the previous state of the world happened to be X as well.</p>



<a name="196670263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/History%20of%20Resource%20Update%20with%20Identical%20Content/near/196670263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/History.20of.20Resource.20Update.20with.20Identical.20Content.html#196670263">(May 06 2020 at 17:37)</a>:</h4>
<p><span class="user-mention" data-user-id="197072">@Paul Church</span> At the end, I think you are right. I will remove that optimization after I have a clear view of a better ETL process. Will check whether conditional update can help here.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
