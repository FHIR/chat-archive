---
layout: page
title: "FHIR Chat  · Search expression · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html">Search expression</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153820969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820969">(Apr 12 2016 at 03:33)</a>:</h4>
<p>so one thing we've discussed often here is that there's no way to implement a server without hand-coding the search routines. </p>



<a name="153820970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820970">(Apr 12 2016 at 03:34)</a>:</h4>
<p>we've been working towards automating them for a long time, and I'm now trying to move my server to actually do this</p>



<a name="153820971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820971">(Apr 12 2016 at 03:34)</a>:</h4>
<p>but it's hard work - the index declarations aren't quite strong enough to automate, so I'm having to do a lot of work as I go. </p>



<a name="153820972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820972">(Apr 12 2016 at 03:35)</a>:</h4>
<p>here's a case I'm not sure how to resolve:</p>



<a name="153820974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820974">(Apr 12 2016 at 03:35)</a>:</h4>
<p>onset   | date  "Date related onsets (dateTime and Period)" Condition.onset[x]<br>
onset-info  | string    "Other onsets (boolean, age, range, string)"    Condition.onset[x]</p>



<a name="153820975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820975">(Apr 12 2016 at 03:35)</a>:</h4>
<p>these 2 expressions have the same path, but they are documented as being different...</p>



<a name="153820976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820976">(Apr 12 2016 at 03:41)</a>:</h4>
<p>actually, there's only one way to resolve those, to write explicitly correct expressions</p>



<a name="153820986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820986">(Apr 12 2016 at 04:45)</a>:</h4>
<p>Then there are search parameters that can't be automatically generated, like the near geo ones in location, I think I had a special case which handled the soundex style ones</p>



<a name="153820987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820987">(Apr 12 2016 at 04:46)</a>:</h4>
<p>they have a type on them </p>



<a name="153820988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820988">(Apr 12 2016 at 04:47)</a>:</h4>
<p>I'm cross-comparing my hand-written routines with the generated ones </p>



<a name="153820989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820989">(Apr 12 2016 at 04:47)</a>:</h4>
<p>it's educational</p>



<a name="153820990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820990">(Apr 12 2016 at 04:52)</a>:</h4>
<p>The soundex ones, yes, not the geo ones. (can't think of any other examples though)</p>



<a name="153820999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153820999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153820999">(Apr 12 2016 at 06:33)</a>:</h4>
<p>more about this: list.comment was changed to list.note :Annotation, with a search parmeter note, mapped to List.note. I think it should point to List.note.text</p>



<a name="153821003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821003">(Apr 12 2016 at 08:11)</a>:</h4>
<p>Some what on this topic, are the xpath expressions as provided for the search-parameters for each resource going to remain as xpath, or now that we have FluentPath will they become FluentPaths? <br>
So for instance we have search paths expressed like this:  <code>XPath = "f:Patient/f:telecom[system/@value='email']"</code>, will they remain into the future or will they become <code>FluentPaths = Patient.telecom.Where(system='email')</code></p>
<p>I ask because I was parseing them, xpath,  to ceate my database indexes, is that work now lost?</p>



<a name="153821019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821019">(Apr 12 2016 at 09:43)</a>:</h4>
<p>The fluentpath expressions are also included in the generated code.</p>



<a name="153821020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821020">(Apr 12 2016 at 09:43)</a>:</h4>
<p>(and in the .net model classes too)</p>



<a name="153821021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821021">(Apr 12 2016 at 09:43)</a>:</h4>
<p>and the xpath is currently in there too</p>



<a name="153821022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821022">(Apr 12 2016 at 09:44)</a>:</h4>
<p>Wil the xpath remain?</p>



<a name="153821023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821023">(Apr 12 2016 at 09:45)</a>:</h4>
<p>I'm still working with DSTU 2 .Net API so don't see the fluentpaths as yet. Need to update</p>



<a name="153821043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821043">(Apr 12 2016 at 10:08)</a>:</h4>
<p>They are already in the DSTU2 version, I know as I'm using them.</p>



<a name="153821045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821045">(Apr 12 2016 at 10:11)</a>:</h4>
<p>In:<br>
Model.ModelInfo.SearchParameters[0].XPath<br>
Model.ModelInfo.SearchParameters[0].Expression</p>



<a name="153821047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821047">(Apr 12 2016 at 10:15)</a>:</h4>
<p>Thanks Brian, yes I have those and they are what I am using as well. My question is will these remain in time or will the standard move away from these and towards a FluentPath expression style. Will the xpath and Expression properties be replaced by a new property named FluentPath</p>



<a name="153821048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821048">(Apr 12 2016 at 10:18)</a>:</h4>
<p>Cool, no intention I know about to remove them at this point.</p>



<a name="153821049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821049">(Apr 12 2016 at 10:19)</a>:</h4>
<p>Ok, thanks for your helps</p>



<a name="153821050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821050">(Apr 12 2016 at 10:19)</a>:</h4>
<p>or help, lol</p>



<a name="153821051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821051">(Apr 12 2016 at 10:19)</a>:</h4>
<p>Also note that I'm working on getting the .net fluentpath evaluator running off the model classes rather than requiring parsing out into another form. But don't have a timeline on it at the moment.</p>



<a name="153821052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821052">(Apr 12 2016 at 10:20)</a>:</h4>
<p>We are however using it for validating QuestionnaireResponse resourcces in its current form.</p>



<a name="153821054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821054">(Apr 12 2016 at 10:22)</a>:</h4>
<p>Since this is a discussion on search indexing (I think) jsut an FYI,<br>
We currently have a mix of SQLXML parsing the resources in sqlserver triggers on insert/update, and some custom code.<br>
We do however plan to move over to using the fluentpath extraction once my model based fluentpath is complete</p>



<a name="153821055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821055">(Apr 12 2016 at 10:24)</a>:</h4>
<p>Thanks for your advice post the NEHTA connectathon, since then I have done as you suggested and now build my database structure of the .net api with templates, much better. Working on trying to do the same for the add &amp; update routines. Would love to do the same for most of the search but that might be harder </p>



<a name="153821263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821263">(Apr 12 2016 at 15:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> May be worth challenging the List search parameter note.  It's hard to imagine that falling within the 80%.</p>



<a name="153821288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821288">(Apr 12 2016 at 19:15)</a>:</h4>
<p>Angus - at some stage I'll be investigating generating the xpath from the fluentpath. but are you really using the xpath? how? you said you're using .net api, so you don't have xslt2 support....</p>



<a name="153821300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821300">(Apr 12 2016 at 19:54)</a>:</h4>
<p>Do our current search param xpaths rely on xpath 2.0?</p>



<a name="153821305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821305">(Apr 12 2016 at 20:02)</a>:</h4>
<p>umm no, I think none of them do. I got confused there</p>



<a name="153821328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821328">(Apr 12 2016 at 21:29)</a>:</h4>
<p>My server is using the xpath for much of the index generation, but is done inside sqlserver, and yes, the current expressions don't have any 2.0 specific bits (thankfully)</p>



<a name="153821406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153821406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153821406">(Apr 13 2016 at 05:42)</a>:</h4>
<p>I'm doing something simular to Brian. Using the search parameter's xpath properties, for example this <code>XPath = "f:Patient/f:telecom[system/@value='phone']"</code> to then navigate the .net API via it's Introspection classes to create my database index structure. I'm not using XPath as in navigating XML, i'm manualy parsing the string provided as a searchparameter path</p>



<a name="153822891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153822891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153822891">(Apr 23 2016 at 13:59)</a>:</h4>
<p>I want to search MedicationOrder with status active or completed. Is this correct? MedicationOrder?status=active|completed</p>



<a name="153822900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20expression/near/153822900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20expression.html#153822900">(Apr 24 2016 at 03:35)</a>:</h4>
<p>MedicationOrder?status=active,completed<br>
<a href="http://hl7.org/fhir/search.html#escaping" target="_blank" title="http://hl7.org/fhir/search.html#escaping">http://hl7.org/fhir/search.html#escaping</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
