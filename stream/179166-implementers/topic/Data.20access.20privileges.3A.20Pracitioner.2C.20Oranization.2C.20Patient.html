---
layout: page
title: "FHIR Chat  · Data access privileges: Pracitioner, Oranization, Patient · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html">Data access privileges: Pracitioner, Oranization, Patient</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="259586855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259586855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Resendez <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259586855">(Oct 29 2021 at 21:43)</a>:</h4>
<p>There are different business cases that come up quite a bit:    "Conduct a patient search, but only where patients are managed by an organization I am affiliated with".  "What organizations am I affiliated with"</p>
<p>_Context_ "I" am a _Practitioner_ / _user_</p>
<p>In trying to solve for cases such as these, I have a few questions / thoughts and am interested in opinions and recommendations.</p>
<p>What's the correct way to find out what organizations a practitioner is associated with?  It seems like PractitionerRole might be the best option?</p>
<p>From there I was thinking <code>Patient?name=foo&amp;managingOrganization=...</code> would be _okay_</p>
<p>It seems like the ergonomics of a custom query parameter would simplify things quite a bit..</p>
<p><code>Patient?name=foo&amp;userCanAccessTheOrganization=true</code></p>
<p>I'm always torn here (custom parameters) because it feels like trail blazing.  It saves an additional request and I'm not even sure PractitionerRole is really the best way to obtain what I'm after.</p>
<p>Just how frowned upon are custom parameters such as these?  Does something already exist which is better suited to my needs?  Thanks in advance!</p>



<a name="259704143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259704143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259704143">(Oct 30 2021 at 02:09)</a>:</h4>
<p>The short answer is "what are you allowed to see?" is often driven by complex business rules, so a one-size-fits-all solution is unlikely.  </p>
<p>In more detail: yes, PractitionerRole is the way to capture formal association with an Organization - though keep in mind that Organizations have relationships - there might be ancestor organizations and descendant organizations.</p>
<p>Patient association with organizations is harder.  Patient.managingOrganization is "what organization maintains this patient record", not necessarily "what organization is responsible for caring for this patient".  As an example, if the Patient is managed by a central registry, there might be lots of organizations that provide care to the patient but don't 'manage' that record. </p>
<p>Other ways to represent relationships to patients: does the practitioner have any involvement in encounters or orders for them?  Are they part of a CareTeam associated with the patient?  Is there a capitation Contract tying them to the Patient?</p>
<p>Also, a lot of systems won't filter access based on search parameter, they'll pre-filter what you're allowed to see independent of the FHIR interface entirely.</p>



<a name="259746207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259746207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Resendez <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259746207">(Oct 30 2021 at 19:02)</a>:</h4>
<p>Yeah, policy-based data access restrictions I, too, see as something that should just be enforced at a per-request basis. Putting extra requirements on a requester seems kind of silly, but that's kind of where I am currently since the api is used by many contexts and I must not break any of them. Will have to do some soul-searching to figure out how to transition toward built-in filtering for user access to data. I am leaning toward starting with a custom search parameter and transitioning the behavior altogether based on some scope in the user token</p>
<p>Some system-access contexts will still need this kind of info, so wanting to make sure I'm not way out in left field thinking that practitioner-role would be an okay source for the data that is incidentally behind some of our business policies historically.  I try to think in terms of "is this where another system (other than my own) would store this kind of relationship?".</p>



<a name="259833265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259833265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259833265">(Nov 01 2021 at 07:15)</a>:</h4>
<p>We have the Permission resource which is intended to convey the "who can read which data for what purpose".</p>



<a name="259833332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259833332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259833332">(Nov 01 2021 at 07:16)</a>:</h4>
<p>I think the query by an authorized client would look exactly like the one by an unauthorized client. It's the server that decides whether that query is actually going to be executed.</p>



<a name="259864608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259864608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Lohmeier <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259864608">(Nov 01 2021 at 13:41)</a>:</h4>
<p>Sorry, I'm not seeing the Permission resource in FHIR r4.0.1, r4.6.0 or <a href="http://build.fhir.org">build.fhir.org</a>. Can someone provide a link.</p>



<a name="259867112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259867112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259867112">(Nov 01 2021 at 14:03)</a>:</h4>
<p>Permission is a draft resource that is in discussion for these kind of use-cases, but for which we know much more needs to be done. It is <a href="http://build.fhir.org/permission">http://build.fhir.org/permission</a></p>



<a name="259892696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259892696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259892696">(Nov 01 2021 at 17:18)</a>:</h4>
<p>We (Epic) have been running into this a lot too.  We might be bringing something to the SMART spec to include something like a "user login department"(Location) in the context (with a launch/location scope that lets the app ask the EHR to figure it out).  For some cases, PractitionerRole/Organization aren't really practical.  Using a SMART context approach means that the server  can basically figure out the context and let the app know, rather than exposing the entire PractitionerRole/Organization structure to the app and making them dig through it.</p>



<a name="259927050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259927050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Lohmeier <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259927050">(Nov 01 2021 at 21:59)</a>:</h4>
<p>We're looking at various options to power authz row level security as well to implement in our fork of AWS FHIR Works. Granted our scalability and reliability requirements are very high and have driven us to specific solutions. We'd love to hear more of what people are doing here because it's a beast of a problem that I think any mature FHIR solution will have to address.</p>
<p>The leading contender we're looking at is to leverage Open Policy Agent by synchronizing the Patient, Organization, Location, Practitioner and PractionerRole and building a custom ACL table to override with explicit point to point approvals and denials. Then create dynamic policies that get evaluated in real time on each request that leverage the synchronized FHIR resources and ACL table in OPA. Generally speaking, the solution is standard fare authz in an API powered by a policy engine.</p>
<p>The 2nd leading option we're considering is using one of the zanzibaresque ACL solutions, like spicedb, coming out lately in the open source space. This would be similar to wiring in a policy engine into each request but the operating model would be geared around an infinitely scalable ACL table as opposed to dynamic policies. It's not as clear as a picture how we'd go from FHIR resources and relationships to ACLs systematically.</p>
<p>We're still early in our analysis and have only vetted and prototyped a couple of the options we've identified which resulted in only throwing out options (looking at you keycloak...) but it'd be great to hear what others have done here.</p>



<a name="259958312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259958312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259958312">(Nov 02 2021 at 06:44)</a>:</h4>
<p>We're currently using FHIR security labels to support our role-based resource-level authz implementation.</p>



<a name="259958358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Data%20access%20privileges%3A%20Pracitioner%2C%20Oranization%2C%20Patient/near/259958358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Data.20access.20privileges.3A.20Pracitioner.2C.20Oranization.2C.20Patient.html#259958358">(Nov 02 2021 at 06:45)</a>:</h4>
<p>(but our use case is probably relatively simple)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
