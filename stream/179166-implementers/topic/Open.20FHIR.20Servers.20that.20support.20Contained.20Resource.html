---
layout: page
title: "FHIR Chat  · Open FHIR Servers that support Contained Resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html">Open FHIR Servers that support Contained Resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="255306465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255306465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255306465">(Sep 28 2021 at 21:55)</a>:</h4>
<p>I have played with a few sandboxes (Logicahealth, smart sandbox) that – although accept FHIR resources that have contained-resources but ignored the reference and return the resource __without__ the contained resource.</p>
<p>Any open sandbox that supports contained resource?</p>



<a name="255306633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255306633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255306633">(Sep 28 2021 at 21:57)</a>:</h4>
<p>Wait, are you saying that these sandboxes <em>strip</em> contained resources from a resource when invoking the <code>create</code> operation?</p>



<a name="255332010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255332010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255332010">(Sep 29 2021 at 02:31)</a>:</h4>
<p>That's generally not desired behavior...</p>



<a name="255347327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255347327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255347327">(Sep 29 2021 at 06:10)</a>:</h4>
<p><a href="http://test.fhir.org">test.fhir.org</a> does, but it doesn't have a sandbox arrangement</p>



<a name="255350121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255350121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255350121">(Sep 29 2021 at 06:46)</a>:</h4>
<p>Okay, I tested some resources with contained.. it works on logica and smart sandboxes</p>
<p>However,<br>
Creating a <code>QuestionnaireResponse</code> that contains its <code>Questionnaire</code> is createed but fails to retain the contained <code>Questionnaire</code>. The same resource works just fine on <a href="http://test.fhir.org">test.fhir.org</a>. (returns the Contained Resource).  Both logica and smart sandboxes are backed by HAPI.</p>
<p>update: also working on <a href="http://hapi.fhir.org/baseR4/">http://hapi.fhir.org/baseR4/</a></p>
<div class="codehilite"><pre><span></span><code>{
   &quot;questionnaire&quot;:&quot;#51EF8C9A-2C9D-4F9A-A70A-D7431341A067&quot;,
   &quot;subject&quot;:{
      &quot;reference&quot;:&quot;Patient\/8d1f86a8-3284-43bd-b45e-5931948c97e4&quot;
   },
   &quot;identifier&quot;:{
      &quot;system&quot;:&quot;http:\/\/loinc.org&quot;,
      &quot;value&quot;:&quot;64206-6&quot;
   },
   &quot;contained&quot;:[
      {
         &quot;status&quot;:&quot;draft&quot;,
         &quot;subjectType&quot;:[
            &quot;Patient&quot;,
            &quot;Person&quot;
         ],
         &quot;code&quot;:[
            {
               &quot;system&quot;:&quot;http:\/\/loinc.org&quot;,
               &quot;code&quot;:&quot;64206-6&quot;,
               &quot;display&quot;:&quot;Have you had any treatment for high blood pressure (hypertension) in the past 10 years?&quot;
            }
         ],
         &quot;identifier&quot;:[
            {
               &quot;system&quot;:&quot;http:\/\/loinc.org&quot;,
               &quot;value&quot;:&quot;64206-6&quot;
            }
         ],
         &quot;title&quot;:&quot;On Hypertensive Medication&quot;,
         &quot;id&quot;:&quot;51EF8C9A-2C9D-4F9A-A70A-D7431341A067&quot;,
         &quot;version&quot;:&quot;1.0&quot;,
         &quot;date&quot;:&quot;2020-11&quot;,
         &quot;resourceType&quot;:&quot;Questionnaire&quot;,
         &quot;name&quot;:&quot;On Hypertensive Medication&quot;,
         &quot;item&quot;:[
            {
               &quot;type&quot;:&quot;boolean&quot;,
               &quot;text&quot;:&quot;Are you currently taking any medications for hypertension?&quot;,
               &quot;required&quot;:true,
               &quot;linkId&quot;:&quot;1&quot;,
               &quot;code&quot;:[
                  {
                     &quot;display&quot;:&quot;Have you had any treatment for high blood pressure (hypertension) in the past 10 years?&quot;,
                     &quot;system&quot;:&quot;http:\/\/loinc.org&quot;,
                     &quot;code&quot;:&quot;64206-6&quot;
                  }
               ]
            }
         ]
      }
   ],
   &quot;authored&quot;:&quot;2021-09-29T06:29:33.8823Z&quot;,
   &quot;status&quot;:&quot;completed&quot;,
   &quot;resourceType&quot;:&quot;QuestionnaireResponse&quot;,
   &quot;item&quot;:[
      {
         &quot;text&quot;:&quot;Are you currently taking any medications for hypertension?&quot;,
         &quot;answer&quot;:[
            {
               &quot;valueBoolean&quot;:true
            }
         ],
         &quot;linkId&quot;:&quot;1&quot;
      }
   ]
}
</code></pre></div>



<a name="255396789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255396789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255396789">(Sep 29 2021 at 13:18)</a>:</h4>
<p>To clarify, are you saying this behavior is specific to contained Questionnaires? (You mentioned "I tested some resources with contained.. it works on logica and smart sandboxes" above.)</p>



<a name="255397565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255397565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255397565">(Sep 29 2021 at 13:23)</a>:</h4>
<p><a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-storage/ca/uhn/fhir/jpa/api/config/DaoConfig.html">https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-storage/ca/uhn/fhir/jpa/api/config/DaoConfig.html</a> doesn't appear to mention settings specific to contained behavior, but I may be missing something. (<span class="user-mention" data-user-id="191319">@James Agnew</span>, is there a setting that would tell HAPI to strip contained Questionnaires from submitted QuestionnaireResponses?)</p>



<a name="255422524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255422524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255422524">(Sep 29 2021 at 15:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> <a href="#narrow/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource/near/255396789">said</a>:</p>
<blockquote>
<p>To clarify, are you saying this behavior is specific to contained Questionnaires? (You mentioned "I tested some resources with contained.. it works on logica and smart sandboxes" above.)</p>
</blockquote>
<p>Yes, appears to only be specific to contained Questionnaires within QuestionnaireResponse.  <br>
When QR contains and references a Patient resource--&gt; works as expected, returns QR contained with patient. But not questionnaire. </p>
<p>Here's the response:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;QuestionnaireResponse&quot;,
  &quot;id&quot;: &quot;1084&quot;,
  &quot;meta&quot;: {
    &quot;versionId&quot;: &quot;1&quot;,
    &quot;lastUpdated&quot;: &quot;2021-09-29T15:45:58.265+00:00&quot;
  },
  &quot;contained&quot;: [ {
    &quot;resourceType&quot;: &quot;Patient&quot;,
    &quot;id&quot;: &quot;patsub&quot;,
    &quot;identifier&quot;: [ {
      &quot;system&quot;: &quot;http://cancer.questionnaire.org/systems/id/patientnr&quot;,
      &quot;value&quot;: &quot;A34442332&quot;
    }, {
      &quot;type&quot;: {
        &quot;text&quot;: &quot;Dutch BSN&quot;
      },
      &quot;system&quot;: &quot;urn:oid:2.16.840.1.113883.2.4.6.3&quot;,
      &quot;value&quot;: &quot;188912345&quot;
    } ],
    &quot;gender&quot;: &quot;male&quot;,
    &quot;birthDate&quot;: &quot;1972-11-30&quot;
  } ],
  &quot;questionnaire&quot;: &quot;http://fhir.acme.org/Questionnaire/123|#51EF8C9A-2C9D-4F9A-A70A-D7431341A067&quot;,
  &quot;status&quot;: &quot;completed&quot;,
  &quot;subject&quot;: {
    &quot;reference&quot;: &quot;#patsub&quot;
  },
  &quot;authored&quot;: &quot;2021-09-29T06:29:33.8823Z&quot;,
  &quot;item&quot;: [ {
    &quot;linkId&quot;: &quot;1&quot;,
    &quot;text&quot;: &quot;Are you currently taking any medications for hypertension?&quot;,
    &quot;answer&quot;: [ {
      &quot;valueBoolean&quot;: true
    } ]
  } ]
}
</code></pre></div>



<a name="255423404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255423404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255423404">(Sep 29 2021 at 15:52)</a>:</h4>
<p>Tried also experimenting with the canonical reference!</p>



<a name="255434488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255434488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255434488">(Sep 29 2021 at 16:58)</a>:</h4>
<p>When I PUT or POST a QR with a contained Q to the UHN HAPI R4 Server,  the contained Q is still there when I fetch it?</p>



<a name="255447336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Open%20FHIR%20Servers%20that%20support%20Contained%20Resource/near/255447336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Open.20FHIR.20Servers.20that.20support.20Contained.20Resource.html#255447336">(Sep 29 2021 at 18:15)</a>:</h4>
<p>Yep! just checked, <a href="http://hapi.fhir.org/baseR4">hapi.fhir.org/baseR4</a> definitely works. I guess it was just <a href="http://r4.smarthealthit.org">r4.smarthealthit.org</a> and sandbox.logicahealth.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
