---
layout: page
title: "FHIR Chat  · Account Resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html">Account Resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="164059287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164059287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mounika <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164059287">(Apr 24 2019 at 07:08)</a>:</h4>
<p>Hi all,<br>
Account resource which is in R3 has Account.balance element. But, in R4 Account.balance was removed. I am unable to find which elemet replaces Account.balance. Can anyone suggest me.<br>
Thanks in advance.</p>



<a name="164062282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164062282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Phillip Liu <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164062282">(Apr 24 2019 at 08:12)</a>:</h4>
<blockquote>
<p>Hi all,<br>
Account resource which is in R3 has Account.balance element. But, in R4 Account.balance was removed. I am unable to find which elemet replaces Account.balance. Can anyone suggest me.<br>
Thanks in advance.</p>
</blockquote>
<p>According to this page: <a href="http://hl7.org/fhir/diff.html" target="_blank" title="http://hl7.org/fhir/diff.html">http://hl7.org/fhir/diff.html</a>, I don't think there's any replacement.</p>



<a name="164064332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164064332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mounika <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164064332">(Apr 24 2019 at 08:54)</a>:</h4>
<p><span class="user-mention" data-user-id="219312">@Phillip Liu</span>  which element we need to use for Account.balance in R4?</p>



<a name="164085012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164085012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164085012">(Apr 24 2019 at 14:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> ?</p>



<a name="164085021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164085021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164085021">(Apr 24 2019 at 14:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span></p>



<a name="164124541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164124541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164124541">(Apr 24 2019 at 22:13)</a>:</h4>
<p>The discussion around this was that balance was more likely to be an operation or something similar as the balance is very transient.</p>



<a name="164124611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164124611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164124611">(Apr 24 2019 at 22:14)</a>:</h4>
<p>But I believe there will be discussion in Montreal on this issue</p>



<a name="164124648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164124648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164124648">(Apr 24 2019 at 22:15)</a>:</h4>
<p>And it's effect on the history of the resource itself.</p>



<a name="164166415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164166415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164166415">(Apr 25 2019 at 12:44)</a>:</h4>
<p>We concluded that the balance of an Account is hard to maintain. If you wanted to have a reliable balance on the Account, you'd have to make sure, that it's being recalculated every time a ChargeItem is added, updated or deleted.<br>
It makes much more sense, to calculate the balance only when it is needed, e.g. for the generation of a Claim or an Invoice. You can store the result of your calculations in Invoice.totalNet or Invoice.totalGros</p>



<a name="164168063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164168063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164168063">(Apr 25 2019 at 13:07)</a>:</h4>
<p>I will log a tracker about this. If a system is always going to calculate the balance why couldn't that just be an attribute of the resource instead of requiring some operation?</p>



<a name="164173785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164173785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164173785">(Apr 25 2019 at 14:14)</a>:</h4>
<p>You can only update one resource at a time.  If you post a new ChargeItem, the Account.balance would be out-of-date as soon as the ChargeItem is posted until the Account gets updated</p>



<a name="164175002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164175002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164175002">(Apr 25 2019 at 14:28)</a>:</h4>
<p>The system implementing account can chose to update the resource/database tables immediately using database triggers.</p>



<a name="164175102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164175102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164175102">(Apr 25 2019 at 14:28)</a>:</h4>
<p>The field should still live on the resource even if you would impose the use of an operation to force the field to be populated.</p>



<a name="164175311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164175311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164175311">(Apr 25 2019 at 14:30)</a>:</h4>
<p>Let's play this out: An API consumer sends an operation to request the balance. WHat do you expect the response of the that operation to be? An extension, a string, operation outcome? I would expect the response to be an account with the field populated.</p>



<a name="164175511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164175511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164175511">(Apr 25 2019 at 14:32)</a>:</h4>
<p>FHIR needs to allow for systems where the only updates possible are via REST.</p>



<a name="164175557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164175557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164175557">(Apr 25 2019 at 14:33)</a>:</h4>
<p>The response to a "calculate balance" operation would be a Parameters resource containing a Money</p>



<a name="164175893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164175893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164175893">(Apr 25 2019 at 14:37)</a>:</h4>
<p>Can you clarify that statement? Updates only possible via REST are not realistic, but I may not understand the statement. Can you elaborate?</p>



<a name="164176435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164176435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164176435">(Apr 25 2019 at 14:43)</a>:</h4>
<p>In FHIR, we try to ensure that the interface <em>can</em> function such that all updates happen through the RESTful API.  If that's not possible, then we've broken something.  That doesn't mean that you have to operate that way, only that it's <em>possible</em> to operate that way.</p>



<a name="164177218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164177218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164177218">(Apr 25 2019 at 14:52)</a>:</h4>
<p>Is the concern that in theory you cannot directly update the balance on account?</p>



<a name="164177645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164177645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164177645">(Apr 25 2019 at 14:56)</a>:</h4>
<p>The concern is that the balance is intrinsicly tied to updates to other resources.  We try very hard in FHIR to ensure that making an update to one resource never requires a simultaneous update to another resource to keep things "consistent".  (That's also the reason why relationships only exist in one direction.)</p>



<a name="164178013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164178013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164178013">(Apr 25 2019 at 15:00)</a>:</h4>
<p>The relationship requirement has put us in the exact position you describe. Encounter/appoint have a issues like that for us. Some of that is due the nature of our EHR implementation. Example would be an appoint update via an API call automatically cancels the encounters associated.</p>



<a name="164178065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164178065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164178065">(Apr 25 2019 at 15:00)</a>:</h4>
<p>Due the way the relationship is handled in FHIR. We require the API consumer to make 3 calls to complete the workflow of scheduling. Create appointment, create encounter, and update appointment with the encounter just written.</p>



<a name="164189582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/164189582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#164189582">(Apr 25 2019 at 17:09)</a>:</h4>
<p>I logged: <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20972&amp;start=0" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20972&amp;start=0">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20972&amp;start=0</a> to discuss in person.</p>



<a name="217061882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/217061882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shannon Locklear <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#217061882">(Nov 17 2020 at 20:59)</a>:</h4>
<p>Hello! I am a first-time poster so please forgive me if I haven't found the correct space. </p>
<p>We're struggling to make a decision on how to provide balance and a 3rd party integrator has indicated that other vendors give them an extension on the Account Resource for the balance. Has any further discussion happened on this topic that isn't captured here?</p>



<a name="217062683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Account%20Resource/near/217062683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Account.20Resource.html#217062683">(Nov 17 2020 at 21:06)</a>:</h4>
<p>Welcome :)</p>
<p>The main reason that Account doesn't have a balance is that every time a new transaction gets posted, the balance would change, and in a RESTful design, you don't want to force updating one resource to automatically force a change to another.  The most natural way to get the 'current balance' would be an operation, though it doesn't look like a standard one has been defined.  You could certainly submit a change request for that.  An extension is also possible, but in general, you don't want people to change the balance on an account by updating the Account.</p>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> for any other context?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
