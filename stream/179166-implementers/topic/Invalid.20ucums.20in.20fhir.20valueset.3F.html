---
layout: page
title: "FHIR Chat  · Invalid ucums in fhir valueset? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html">Invalid ucums in fhir valueset?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153990402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153990402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Devin Craft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153990402">(Aug 23 2018 at 14:14)</a>:</h4>
<p>Hi all,<br>
The unit mmol/kg[H20] in <a href="https://www.hl7.org/fhir/valueset-ucum-units.html" target="_blank" title="https://www.hl7.org/fhir/valueset-ucum-units.html">https://www.hl7.org/fhir/valueset-ucum-units.html</a> fails to validate on NLM's UCUM parser <a href="https://ucum.nlm.nih.gov/ucum-lhc/demo.html" target="_blank" title="https://ucum.nlm.nih.gov/ucum-lhc/demo.html">https://ucum.nlm.nih.gov/ucum-lhc/demo.html</a>. Is the parser wrong, or is the unit actually invalid?</p>



<a name="153990405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153990405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Devin Craft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153990405">(Aug 23 2018 at 14:18)</a>:</h4>
<p>I only know enough about UCUM to be dangerous, but the only place [H2O] appears in the ucum spec is next to a length unit (i.e. m[H2O]).</p>



<a name="153990421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153990421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153990421">(Aug 23 2018 at 14:42)</a>:</h4>
<p>I think I agree, that's invalid, because it's actually <code>H20</code>, not <code>H2O</code></p>



<a name="153990422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153990422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153990422">(Aug 23 2018 at 14:43)</a>:</h4>
<p>The unit _should_ be <code>mmol/kg[H2O]</code></p>



<a name="153990423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153990423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Devin Craft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153990423">(Aug 23 2018 at 14:46)</a>:</h4>
<blockquote>
<p>The unit _should_ be <code>mmol/kg[H2O]</code></p>
</blockquote>
<p>That unit does not validate either. Note, the typo exists in the FHIR valueset as well, so that probably needs to be fixed. <br>
The ucum spec specifies: "For example 1 m H2O is written as “m[H2O]” in The Unified Code for Units of Measure because the suffix H2O changes the meaning of the unit atom for meter (length) to a unit of pressure."</p>



<a name="153990426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153990426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Devin Craft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153990426">(Aug 23 2018 at 14:54)</a>:</h4>
<p>My thought is that mmol/kg[H2O] is invalid because the [H2O] is not modifying the meaning of kg. Instead, it should be expressed as mmol/kg{H2O}. Actually, it probably should just be expressed as mmol/kg because the thing that is being measured should be captured elsewhere.</p>



<a name="153990430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153990430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153990430">(Aug 23 2018 at 15:08)</a>:</h4>
<p>Looks right to me, H2O is an annotation in case of "per kilogram water", so should be in curly braces.<br>
I suggest to file a tracker item.</p>



<a name="153990431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153990431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Devin Craft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153990431">(Aug 23 2018 at 15:09)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191436">@Stefan Lang</span> . Will do.<br>
Tracker item: <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17719" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17719">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17719</a></p>



<a name="153992957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153992957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Devin Craft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153992957">(Sep 04 2018 at 13:10)</a>:</h4>
<p>To anyone interested, I ran the entire valueset through the NLM's batch validator on the site mentioned above and found 9 total invalid ucum expressions. I've logged another tracker item <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17791" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17791">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17791</a>.</p>



<a name="153993223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/153993223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#153993223">(Sep 04 2018 at 21:53)</a>:</h4>
<p>thanks. I'll look at this in a few weeks time - my run into baltimore is full</p>



<a name="154023586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/154023586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#154023586">(Dec 06 2018 at 21:45)</a>:</h4>
<p>mmol/kg{H2O}</p>



<a name="186320167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/186320167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Glory Kim <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#186320167">(Jan 22 2020 at 19:15)</a>:</h4>
<p>The valuset ucum common (<a href="http://hl7.org/fhir/valueset-ucum-common.html" target="_blank" title="http://hl7.org/fhir/valueset-ucum-common.html">http://hl7.org/fhir/valueset-ucum-common.html</a>) have multiple repeating values. For example, there are two occurrences of <code>/[LPF]</code> one which stands for the 'per low power field' and the second which represents 'per LPF'. Additionally, there are two occurrences of [beth'U] both of which stand for Bethesda unit<br>
Are there any future plans to clean the ucum common valuset?</p>



<a name="186464652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20ucums%20in%20fhir%20valueset%3F/near/186464652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20ucums.20in.20fhir.20valueset.3F.html#186464652">(Jan 24 2020 at 05:29)</a>:</h4>
<p>sure . do you want to create task to fix it?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
