---
layout: page
title: "FHIR Chat  · Search CareTeam by participants with period · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20CareTeam.20by.20participants.20with.20period.html">Search CareTeam by participants with period</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="267397393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20CareTeam%20by%20participants%20with%20period/near/267397393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Donn Relacion <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20CareTeam.20by.20participants.20with.20period.html#267397393">(Jan 10 2022 at 05:29)</a>:</h4>
<p>Hi. We're developing an application where practitioners can be invited the join a CareTeam and they can choose to accept the invitation or not.</p>
<p>In our preliminary design, we thought of always adding the practitioner as a participant, regardless of if they accept the invitation or not, and use the period component to indicate if the invitation had been accepted. If the practitioner declines, we remove them from the CareTeam.participant list.</p>
<p>However, we also have a requirement where when the practitioner lists Patients, the practitioner should only see patients where they have accepted the CareTeam invitation. We are using the search query <code>Patient?_has:CarePlan:subject:care-team.participant=Practitioner/{practitioner.Id}</code>. I've tried to create a custom SearchParameter that checks if the period component of the participant exists:</p>
<div class="codehilite"><pre><span></span><code>active-participant:
  &quot;expression&quot;: &quot;CareTeam.participant.where(period).member&quot;
</code></pre></div>

<p>The custom search parameter worked when testing on a microsoft fhir-server implementation.<br>
The search query used was  <code>Patient?_has:CarePlan:subject:care-team.active-participant=Practitioner/{practitioner.Id}</code>.</p>
<p>My question is if this is proper usage of the SearchParameter expression? From what I see in the existing SearchParameters, none of them use a where expression similar to what I used, it's either <code>where(resolve() is Resource)</code> or <code>where(field='xxx')</code></p>



<a name="267454227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20CareTeam%20by%20participants%20with%20period/near/267454227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20CareTeam.20by.20participants.20with.20period.html#267454227">(Jan 10 2022 at 15:38)</a>:</h4>
<p>There's no restriction against going as weird and wild as you like with your expression.  However, whether a given server will be able to just consume the SearchParameter automatically without needing to write custom code will vary.  The simpler the expression, the more likely it'll just "work" out of the box.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
