---
layout: page
title: "FHIR Chat  · Low bandwith serialisation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html">Low bandwith serialisation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153814153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814153">(Mar 07 2016 at 09:34)</a>:</h4>
<p>Is there currently anywork going on with regards to looking at more efficient serialisation options for FHIR? For systems with high transaction throughput there is a current perception that the current XML/JSON ITS is a little on the heavy side.</p>



<a name="153814155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814155">(Mar 07 2016 at 09:34)</a>:</h4>
<p>there's been some occasional talk about it, but nothing is currently active. </p>



<a name="153814156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814156">(Mar 07 2016 at 09:35)</a>:</h4>
<p>what about it is on the heavy side? </p>



<a name="153814157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814157">(Mar 07 2016 at 09:35)</a>:</h4>
<p>however, there's no silver bullet. Each option where people vary manifests as a choice that must appear in the instance</p>



<a name="153814165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814165">(Mar 07 2016 at 09:45)</a>:</h4>
<p>Predominatly its message size that is causing concern. We have system that currently have very high transaction rates and we are looking to expose some FHIR end points - we would expect in due course to hit equally high transaction rates on them as well. The size of message has impact on server memory, cpu, bandwidth, storage etc </p>



<a name="153814167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814167">(Mar 07 2016 at 09:49)</a>:</h4>
<p>well, there's a tension between a general purpose interop format and a high volume transaction system. </p>



<a name="153814168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814168">(Mar 07 2016 at 09:50)</a>:</h4>
<p>FHIR resources tend to be less granular than many bespoke restful interfaces, so I think that the difference isn't as big as people think</p>



<a name="153814169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814169">(Mar 07 2016 at 09:50)</a>:</h4>
<p>still, there is room for a more dense form - but we have been thinking of making it extremely dense indeed</p>



<a name="153814170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814170">(Mar 07 2016 at 09:52)</a>:</h4>
<p>at the cost of making it exquisitely fragile with regard to change. Is that really a good deal in the 1st world? </p>



<a name="153814171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814171">(Mar 07 2016 at 09:52)</a>:</h4>
<p>however, that's the equation you have to deal with</p>



<a name="153814172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814172">(Mar 07 2016 at 09:53)</a>:</h4>
<p>Yes - one of our suppliers has has proposed a very dense alternative - comprising predominantly of abbreviated element names, and collapsing child elements</p>



<a name="153814173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814173">(Mar 07 2016 at 09:53)</a>:</h4>
<p>abbreviated element names will really make that much difference? </p>



<a name="153814174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814174">(Mar 07 2016 at 09:55)</a>:</h4>
<p>potentially some, but we need to quantify how this would achieve in real world scenarios.</p>



<a name="153814175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814175">(Mar 07 2016 at 09:57)</a>:</h4>
<p>Do you mean message size as in Message paradigm or the REST <br>
payload size?</p>



<a name="153814176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814176">(Mar 07 2016 at 10:21)</a>:</h4>
<p>I'm seeing the FHIR equivalents to V3 messages to be significantly smaller. The next reduction I think would need to come from element names and system values.</p>



<a name="153814177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814177">(Mar 07 2016 at 10:23)</a>:</h4>
<p><span class="user-mention" data-user-email="eric@w3.org">@Eric Prud'hommeaux</span>: I think Richard means the number of bytes exchanged.</p>



<a name="153814179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814179">(Mar 07 2016 at 12:42)</a>:</h4>
<p>I've thought about using Google Protocol Buffers to serialize FHIR messages into tiny packages in situations where there is significantly large message throughput... but I don't really have a need to do that right now. Plus, I figured it would be frowned upon.</p>



<a name="153814180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814180">(Mar 07 2016 at 12:45)</a>:</h4>
<p>Sorry yes, I should be more precise - My issue is around the number of bytes exchanged. Messaging vs. REST is not really the issue.</p>



<a name="153814181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814181">(Mar 07 2016 at 14:07)</a>:</h4>
<p>We have a use case in which we need to squeeze a medication plan into a 2D barcode. Here's what we came up with:<a href="http://wiki.hl7.de/index.php?title=IG:Ultrakurzformat_Patientenbezogener_Medikationsplan" target="_blank" title="http://wiki.hl7.de/index.php?title=IG:Ultrakurzformat_Patientenbezogener_Medikationsplan">http://wiki.hl7.de/index.php?title=IG:Ultrakurzformat_Patientenbezogener_Medikationsplan</a></p>



<a name="153814182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814182">(Mar 07 2016 at 14:08)</a>:</h4>
<p>Please ignore the German yadda yadda. Just look at tha code examples comparing actual fhir code with the collapsed format</p>



<a name="153814183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814183">(Mar 07 2016 at 14:10)</a>:</h4>
<p>At least in our scenario, that is sufficient shrinkage. However, in order to be able to inflate/deflate without losing information, the resources have to validate against profiles that are very restrictive</p>



<a name="153814184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814184">(Mar 07 2016 at 14:11)</a>:</h4>
<p>E.g. Some values are fixed in the profile and thus omitted in the short format.</p>



<a name="153814200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814200">(Mar 07 2016 at 17:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span>  From what I understand of the document this is very much along the lines of what we have been discussing here in England.  Is this document a proposal for Germany? Is it being implemented.</p>



<a name="153814206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814206">(Mar 07 2016 at 17:58)</a>:</h4>
<p>Yes, it's a proposal for Germany. "Is it going o be implemented?" Well, hopefully yes. At least, proving that there's a WAY to squeeze a FHIR Medication Plan into a Barcode, we have been able to make FHIR a candidate for the nationwide mandatory implementation of the medication plan! </p>



<a name="153814208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814208">(Mar 07 2016 at 18:14)</a>:</h4>
<p>If you have a real use case for small payloads, formats like protcol buffers (or the many alternatives) seem like a good fit. I'd be surprised if simply shortening element names in json or XML has a big effect after gzip compression.</p>



<a name="153814209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814209">(Mar 07 2016 at 18:19)</a>:</h4>
<p>That's part of what we hope to explore in a future Proof of Concept exercise . I think GZIP would only give bandwidth benefit. @Simone is this going to be adopted as a German localisation of FHIR?</p>



<a name="153814257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814257">(Mar 07 2016 at 21:18)</a>:</h4>
<p>Just looking specifically at &lt;P g="Michaela"/&gt; <br>
This format can't handle multiple given names. </p>



<a name="153814258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814258">(Mar 07 2016 at 21:19)</a>:</h4>
<p>no. that's the point; you define in your profile what is possible, and then eliminate every redundant syntax </p>



<a name="153814259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814259">(Mar 07 2016 at 21:19)</a>:</h4>
<p>we called this 'profiled fhir' - it's written up in <a href="http://hl7-fhir.github.io/profiling.html" target="_blank" title="http://hl7-fhir.github.io/profiling.html">http://hl7-fhir.github.io/profiling.html</a> but commented out</p>



<a name="153814268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814268">(Mar 07 2016 at 21:24)</a>:</h4>
<p>ok, thanks.</p>



<a name="153814300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814300">(Mar 08 2016 at 01:01)</a>:</h4>
<p>I don't think that's allowed is it? - ie 'defaulting' a value from the profile (at least in the general case)</p>



<a name="153814303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814303">(Mar 08 2016 at 01:09)</a>:</h4>
<p>not generally. but it is if you're doing 'propfiled FHIR', though I see that the write up of that completely disappeared. Perhaps a topic for Montreal</p>



<a name="153814336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814336">(Mar 08 2016 at 07:22)</a>:</h4>
<p>+1 on that Grahame - I'd like to be in a position where I can have more informed conversations with suppliers in this areas. </p>



<a name="153814338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814338">(Mar 08 2016 at 10:33)</a>:</h4>
<p>I'd just like to throw in IoT / connected devices. In mobile health devices the message/payload size is not only an issue of bandwidth but also of battery drain.</p>



<a name="153814340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814340">(Mar 08 2016 at 11:45)</a>:</h4>
<p><span class="user-mention" data-user-email="grahame@healthintersections.com.au">@Grahame Grieve</span>: I'm getting an internal error 500 on your web server.</p>



<a name="153814341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814341">(Mar 08 2016 at 11:46)</a>:</h4>
<p>(deleted)</p>



<a name="153814342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814342">(Mar 08 2016 at 11:46)</a>:</h4>
<p>what URL?</p>



<a name="153814343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814343">(Mar 08 2016 at 11:46)</a>:</h4>
<p><a href="http://www.healthintersections.com.au/" target="_blank" title="http://www.healthintersections.com.au/">http://www.healthintersections.com.au/</a></p>



<a name="153814344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814344">(Mar 08 2016 at 11:47)</a>:</h4>
<p>oh. </p>



<a name="153814345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814345">(Mar 08 2016 at 11:47)</a>:</h4>
<p>cpanel hosted. I'll pass that along to the host</p>



<a name="153814460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814460">(Mar 08 2016 at 17:54)</a>:</h4>
<p>Can I confirm my understanding of the current state of play - when I think of 'profiled FHIR' I think of how profiles are currently applied in that they don't support defaults and don't change the wire syntax...</p>



<a name="153814475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814475">(Mar 08 2016 at 18:59)</a>:</h4>
<p>profiles currently do not change the wire format. We've always been aware that you could use them to do so, and previously used the name 'profiled fhir' to describe doing so</p>



<a name="153814479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814479">(Mar 08 2016 at 19:01)</a>:</h4>
<p>hmmm. confusing terminology I think...</p>



<a name="153814622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Careless <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814622">(Mar 09 2016 at 19:08)</a>:</h4>
<p>But in essence the use of an 'ultra-short format' profile as described in the German link above would fit with accepted standards, if well defined and agreed of course, can offer the 'minimal textual form' of the information we may look to exchange within a high-transaction rate / limited bandwidth environment ?</p>



<a name="153814624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814624">(Mar 09 2016 at 19:10)</a>:</h4>
<p>If we were talking about ultra-low bandwidth, then a profile would define what elements were in vs. out  and all such elements (extension or core) would be identified positionally or with a simple sequence byte or something.</p>



<a name="153814625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814625">(Mar 09 2016 at 19:11)</a>:</h4>
<p>It would be extremely non-human friendly...</p>



<a name="153814626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Careless <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814626">(Mar 09 2016 at 19:14)</a>:</h4>
<p>I totally agree on the friendliness for plain-text reading by humans  </p>



<a name="153814628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814628">(Mar 09 2016 at 19:44)</a>:</h4>
<p>The rationale behind the German short format is to minimize required storage for usage with QR codes or chip cards (the German insurance cards have only a few KB of data storage for all applications), while still using well formed XML to keep it smooth for implementers in terms of data validation.</p>



<a name="153814629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814629">(Mar 09 2016 at 19:50)</a>:</h4>
<p>There is some proprietary format out there that has a strange delimiter based format and the "ultra short format" is an alternative draft to avoid that proprietary thing</p>



<a name="153814631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814631">(Mar 09 2016 at 19:51)</a>:</h4>
<p>Concerning human-friendliness: I don't think this is of any importance in a low bandwidth / low capacity scenario</p>



<a name="153814737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814737">(Mar 10 2016 at 10:31)</a>:</h4>
<p>I agree that human readability should not be a concern here. ...as long as one can bijectively transform back and forth from "proper" FHIR to lbs.</p>



<a name="153814738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814738">(Mar 10 2016 at 10:35)</a>:</h4>
<p>I think this would be an alternate serialization, an ITS, rather than a profile., and that the profile should be separate from the serialization: xml, reduced-xml (the short name form),json, reduced-json, etc.</p>



<a name="153814739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814739">(Mar 10 2016 at 10:37)</a>:</h4>
<p>the link with profile is that it's only when you have a useful profile that you can usefully reduce the wire format</p>



<a name="153814746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814746">(Mar 10 2016 at 12:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> Since the ultra short format as proposed follows a kind of "convention over configuration" paradigm, transformation from that format to proper FHIR would require injecting information about the convention used (e.g. there would be no information about any code system in the short format)</p>



<a name="153814750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153814750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153814750">(Mar 10 2016 at 13:00)</a>:</h4>
<p><span class="user-mention" data-user-email="grahame@healthintersections.com.au">@Grahame Grieve</span>: Agreed. And if it is defaulting and it is a non-formulaic approach then that may move away from an ITS to a custom wire format tightly, maybe solely, attached to a profile.</p>



<a name="153821160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821160">(Apr 12 2016 at 11:57)</a>:</h4>
<p>my current considerations about the USF Mapping:<br>
- buildingprofiles  for the resources which should be mapped<br>
- Elements which sould be mapped will contain an XPATH String in mapping.map with it's Destination in the UltraShortFormat<br>
- to get the Long Form from USF you just have to map each element to the corresponding XPATH from the profile</p>



<a name="153821163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821163">(Apr 12 2016 at 11:59)</a>:</h4>
<p>the only downside if you just use XPATH Strings is that you are restricted in what you can do. String Concationation to merge different Elements into one Element or Attribute wouldn't be possible </p>



<a name="153821167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821167">(Apr 12 2016 at 12:02)</a>:</h4>
<p>if we would use XSLT instead of pure XPath concatinations and other fancy stuff would be possible</p>



<a name="153821168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821168">(Apr 12 2016 at 12:05)</a>:</h4>
<p>Quoting Martijns idea:</p>
<p>Martijn: The thought I had yesterday (from the top of my head, so not researched) was this:<br>
- we have to store in resource instance in as little bytes as possible.<br>
- besides regular compression, there is stuff that we (the reader of the qr-code) knows. And we can reference that instead.</p>
<p>Martijn: for example: a resource always matches some profile, which can be found online</p>
<p>Martijn: We could reference each field in that profile by index. This index will probably fit in one byte. (less than 256 possible fields)</p>
<p>Martijn: Since the order in FHIR is mandatory.</p>
<p>Martijn: So Patient.humanName would be: 10.</p>



<a name="153821169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821169">(Apr 12 2016 at 12:06)</a>:</h4>
<p>Martijn: For known data types you can think of a default format. Or use sub indexing.</p>
<p>Martijn: So Patient.humanName.family would be 2 bytes: (10)(3)</p>



<a name="153821170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821170">(Apr 12 2016 at 12:07)</a>:</h4>
<p>Simone Heckmann: ...using the mapping mechanism to assign index to fields...?</p>
<p>Simone Heckmann: Sort of like this:<br>
<a href="/user_uploads/10155/OdGnbJ-7r5v4R3_YsRt1wP6W/pasted_image.png" target="_blank" title="/user_uploads/10155/OdGnbJ-7r5v4R3_YsRt1wP6W/pasted_image.png">pasted image</a> </p>
<p>Simone Heckmann: "USF" meaning "ultra short format" :)</p>
<p>Simone Heckmann: The implications of a field NOT having an associated index would be that this field is either not supported in the USF or hase a fixed value that can be added back by default when translating from USF to full FHIR. Does that make sense?</p>
<p>Simone Heckmann: We'd have to add the information somewhere in the Barcode, what profile the USF is based on...</p>
<div class="message_inline_image"><a href="/user_uploads/10155/OdGnbJ-7r5v4R3_YsRt1wP6W/pasted_image.png" target="_blank" title="/user_uploads/10155/OdGnbJ-7r5v4R3_YsRt1wP6W/pasted_image.png"><img src="/user_uploads/10155/OdGnbJ-7r5v4R3_YsRt1wP6W/pasted_image.png"></a></div>



<a name="153821172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821172">(Apr 12 2016 at 12:07)</a>:</h4>
<p>Simone Heckmann 1:44 PM  <br>
"Patient.humanName.family would be 2 bytes: (10)(3)"<br>
...that would mean that we'd have to profile every complex datatype to add the mappings to indices. Then the IG Property "Profiles that apply globally" would need to redirect all complex types to the profiled types...<br>
Feasible or messy?</p>



<a name="153821173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821173">(Apr 12 2016 at 12:11)</a>:</h4>
<p>with xslt transformations we would possibly run into problems in terms of bijection so i would prefer a plain XPATH approach</p>



<a name="153821174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821174">(Apr 12 2016 at 12:12)</a>:</h4>
<p>merging data fields would lead to bijection problems anyway</p>



<a name="153821176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821176">(Apr 12 2016 at 12:13)</a>:</h4>
<p>i personally prefer the proposal of HL7 Germany in the USF Format. It is still human readable (kind of) still XML -&gt; you can validate it against a schema</p>



<a name="153821179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821179">(Apr 12 2016 at 12:16)</a>:</h4>
<p>and you still can use the mappings if the resource or profile changes. If we would just count the data fields every minimal change of a resource structure leads to a complete remapping</p>



<a name="153821180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821180">(Apr 12 2016 at 12:20)</a>:</h4>
<p>Considering that especially in our QR scenario, size is crucial,  i think that the byte addressing could shrink the USF considerably more than the "short XML" approach...</p>



<a name="153821184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821184">(Apr 12 2016 at 12:30)</a>:</h4>
<p>I am just trying to wrap my head around what that means in terms of implementation. Assuming we have an instance of Patient like </p>
<div class="codehilite"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;Patient</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;name&gt;</span>
        <span class="nt">&lt;use</span> <span class="na">value =</span> <span class="s">&quot;official&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;family</span> <span class="na">value =</span> <span class="s">&quot;Heckmann&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;given</span> <span class="na">value =</span> <span class="s">&quot;Simone&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/name&gt;</span>    
<span class="nt">&lt;/Patient&gt;</span>
</pre></div>


<p>and a profile that maps <br>
name -&gt; 11 (being the eleveth field of Patient counting in all inherited fields )<br>
use-&gt;fixed to "official"<br>
family-&gt;1103 (family being the third field of the complex type Human Name)<br>
given-&gt;1104 (given being the fourth field of the complex type Human Name)</p>
<p>What would the USF look like?<br>
1103Heckmann1104Simone</p>
<p>How'd we parse that?</p>



<a name="153821187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821187">(Apr 12 2016 at 12:32)</a>:</h4>
<p>i think you would have to have a seperator for elementN°|Data</p>



<a name="153821188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821188">(Apr 12 2016 at 12:32)</a>:</h4>
<p>otherwise it would be hard to differenciate in between element number and numeric values</p>



<a name="153821189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821189">(Apr 12 2016 at 12:33)</a>:</h4>
<p>maybe "|"V ;) V2 here we come ;)</p>



<a name="153821191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821191">(Apr 12 2016 at 12:35)</a>:</h4>
<p>1103Heckmann1104Simone in the shortened XML -&gt; <br>
&lt;p g="Simone" f="Heckmann"/&gt;</p>



<a name="153821193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821193">(Apr 12 2016 at 12:37)</a>:</h4>
<p>it would be interesting to compare the ziped size of both approaches, if i have some free time @conhit i'll give it a go</p>



<a name="153821194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821194">(Apr 12 2016 at 12:38)</a>:</h4>
<p>In any case we'd have to have the USF indicating the underlying profile, which would be 0203 (meta.profile) by my counting for every resource. So that would be the first thing to look for when decompressing a USF</p>



<a name="153821196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821196">(Apr 12 2016 at 12:40)</a>:</h4>
<p>the profile definitly  must be part of a usf resource</p>



<a name="153821198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821198">(Apr 12 2016 at 12:43)</a>:</h4>
<p>I still wonder how messy all of this gets when we count in repeatable/optional field and all the implications of having hierarchical structures like a document bundle (which is essentially what the Medication plan is)...</p>



<a name="153821199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821199">(Apr 12 2016 at 12:44)</a>:</h4>
<p>i just was thinking about the same problem. in particular repeatable fields would be a huge problem</p>



<a name="153821202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821202">(Apr 12 2016 at 12:48)</a>:</h4>
<p>Unless the Profile uses slices to assign unique indices / shorthands to every slice and thereby also restrict the number of repetitions (which probably makes sense for a USF...)  If we estimate that a QR can hold a maximum of 15 medications it would make sense for the profile to allow only a maximum of 15 slices and validation failing if someone tried to squeeze more data than possible into it.</p>



<a name="153821204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821204">(Apr 12 2016 at 12:56)</a>:</h4>
<p>An index of course would refer to the index in the profile (or base resource). So repetitive elements would have the same index. </p>



<a name="153821205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821205">(Apr 12 2016 at 12:56)</a>:</h4>
<p>And Patrick is of course right, that regardless of format, you will need a separator.</p>



<a name="153821207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821207">(Apr 12 2016 at 12:57)</a>:</h4>
<p>(binary or not)</p>



<a name="153821209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821209">(Apr 12 2016 at 12:58)</a>:</h4>
<p>The other suggestion I had yesterday, is that instead of a profile reference like a url, or canonical url, you could use a 2  or maybe 4 byte index number that can be found on some registry.</p>



<a name="153821213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821213">(Apr 12 2016 at 13:01)</a>:</h4>
<p>So, let's say you have a Patient with only a name. <br>
(4 bytes: profile reference id to Patient base profile)<br>
(1 byte: value 0, field start code)<br>
(1 byte: value: 10, index of of <a href="http://Patient.name" target="_blank" title="http://Patient.name">Patient.name</a> in the base profile)<br>
(12 bytes: value: f:John,l:Doe) </p>



<a name="153821214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821214">(Apr 12 2016 at 13:02)</a>:</h4>
<p>(or something like that)</p>



<a name="153821264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821264">(Apr 12 2016 at 16:05)</a>:</h4>
<p>If you want to be even tighter, you can do something like this: Algorithmically flatten the model so that you have no nesting of anything except repeating elements.  For example, if you limit <a href="http://Patient.name" target="_blank" title="http://Patient.name">Patient.name</a> to only 1 repetition and support only family and given, then you would treat Patient as having birthdate, gender, name.family and name.given as "root" level elements.  Then in the first bytes (after profile identification), identify which optional elements in the instance are present using bit level flags.  Represent everything as binary, using the leading byte to identify the length of variable-length elements like strings &amp; date-times.  When you hit repeating elements, the first byte indicates the number of repetitions and the first few bytes in each repetition again indicates which optional elements are present.  Doing this would mean the data would be binary (non-human readable), but it would be as tight as it's possible to be.  You can then encode the binary as necessary to flow over SMS, bar-codes or other low-bandwidth situations.  Depending on the amount of data repetition your expecting to occur in numeric and string data, you might be able to benefit from compressing the instance too.</p>



<a name="153821290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821290">(Apr 12 2016 at 19:22)</a>:</h4>
<p>the imaging formats have well established binary encoding formats, but for this use, I'd use ASN.1 BER. So the process would be:<br>
- profile the resource<br>
- assign the field ids in the profile (so they persist)<br>
- write a converter that converts the profile to an ASN.1 syntax<br>
- use ASN.1 BER for the exchange of the instances <br>
- (optional) write a converter that inter converts instances from the ASN1. syntax to the normal FHIR format based on the profile</p>



<a name="153821314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821314">(Apr 12 2016 at 20:41)</a>:</h4>
<p>Seems we should evaluate this against the compression built into http/2</p>



<a name="153821317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821317">(Apr 12 2016 at 21:09)</a>:</h4>
<p>sure, but not that a lot of the use of this form will be over http</p>



<a name="153821322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821322">(Apr 12 2016 at 21:19)</a>:</h4>
<p>compression only wont help for the imagined usecases (QR Code, SMS, etc). You have to have a procedure where you get rid of information which is already defined in a profile</p>



<a name="153821325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821325">(Apr 12 2016 at 21:24)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> for bringing up ASN1, seems to be a good idea if you just focus on size. Maybe ASN.1.PER could lead to even smaller files.<br>
Simone and i will start profiling a medication plan usecase on friday. </p>



<a name="153821326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821326">(Apr 12 2016 at 21:26)</a>:</h4>
<p>A comparisson of sizes  between compressed resources, shortened XML, ASN.1 BER and PER will be interesting</p>



<a name="153821330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821330">(Apr 12 2016 at 21:32)</a>:</h4>
<p>Just a note that I pushed supprt onto our server overnight to support the gzip/deflate stuff and for the content I was testing with, 600k =&gt; 43k (xml) which is pretty good.</p>



<a name="153821331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821331">(Apr 12 2016 at 21:33)</a>:</h4>
<p>Have the other reference servers got this already built in?</p>



<a name="153821332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821332">(Apr 12 2016 at 21:34)</a>:</h4>
<p>yeah I have gzip support </p>



<a name="153821333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821333">(Apr 12 2016 at 21:35)</a>:</h4>
<p>Do you support that on processing the request also?</p>



<a name="153821338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821338">(Apr 12 2016 at 21:50)</a>:</h4>
<p>yeah I think I do </p>



<a name="153821339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821339">(Apr 12 2016 at 21:51)</a>:</h4>
<p>it's pretty transparent for me </p>



<a name="153821418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821418">(Apr 13 2016 at 08:23)</a>:</h4>
<p>Grahame Grieve 9:22 PM  <br>
- assign the field ids in the profile (so they persist)</p>
<p>Is anyone opposed to the idea of using StructureDefinition.mapping for this?</p>



<a name="153821420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821420">(Apr 13 2016 at 08:34)</a>:</h4>
<p>+ ElementDefinition.mapping. For XML flattening&amp; shrinking i would put the Xpath in mapping.map. For ASN.1 mapping.map would contain the ASN.1 Datatype</p>



<a name="153821444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821444">(Apr 13 2016 at 12:03)</a>:</h4>
<p>The gzip compression you have experimented with is what has been put into http/2; it is not only for images. It also uses the same dynamically built lookup table for all http sessions within the http/2 tunnel. So over many interactions with a FHIR server, you would find compression better than you are seeing with your gzip experiment. So much so that it even compresses out the http protocol overhead (and duplicate oauth credentials) too.</p>



<a name="153821445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821445">(Apr 13 2016 at 12:05)</a>:</h4>
<p>this automatic compression was designed by people who are infrastructure experts, not healthcare data-modeling experts... re-inventing the wheel is not productive. You will end up at something generally round with a central pivot.</p>



<a name="153821446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821446">(Apr 13 2016 at 12:06)</a>:</h4>
<p>this isn't about HTTP, its about serialise FHIR Resources for Barcodes, RFID, SMS Transmissions etc</p>



<a name="153821452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821452">(Apr 13 2016 at 12:09)</a>:</h4>
<p>so you want to make a fixed (pre-coordinated) compression lookup table?</p>



<a name="153821453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Low%20bandwith%20serialisation/near/153821453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Low.20bandwith.20serialisation.html#153821453">(Apr 13 2016 at 12:12)</a>:</h4>
<p>not just compression. Compression would be losless (like FLAC). We want to get rid of elements which are already defined in a profile, e.g. code systems so it would be a "lossy" compression (mp3, kind of....)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
