---
layout: page
title: "FHIR Chat  · code with ValueSet binding · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html">code with ValueSet binding</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="250763576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250763576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katarina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250763576">(Aug 26 2021 at 12:29)</a>:</h4>
<p>Hi,<br>
I want to define an observation profile where the status codes are restricted. <br>
I defined an own valueset containing only three codes from the codesystem (final,amended, corrected). This valueset I binded on the status element in the observation profile. This looks like this:</p>
<div class="codehilite"><pre><span></span><code>    &lt;element id=&quot;Observation.status&quot;&gt;
        &lt;path value=&quot;Observation.status&quot; /&gt;
        &lt;mustSupport value=&quot;true&quot; /&gt;
        &lt;binding&gt;
            &lt;strength value=&quot;required&quot; /&gt;
            &lt;description value=&quot;Status des Erregernachweis&quot; /&gt;
            &lt;valueSet value=&quot;https://example.de/fhir/ValueSet/pathogenDetectionStatus&quot; /&gt;
        &lt;/binding&gt;
    &lt;/element&gt;
</code></pre></div>

<p>When I validate an example where status is set to an invalid code (  &lt;status value="unknown" /&gt; ) I get no error.<br>
It seems the valueset binding is ignored.<br>
What did I wrong?</p>
<p>Kind regards, <br>
Katarina</p>



<a name="250763737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250763737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250763737">(Aug 26 2021 at 12:30)</a>:</h4>
<p>Can you post the example? Which validator do you use?</p>



<a name="250765633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250765633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katarina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250765633">(Aug 26 2021 at 12:47)</a>:</h4>
<p>&lt;Observation xmlns="<a href="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
  &lt;meta&gt;<br>
    &lt;profile value="<a href="https://example.de/fhir/StructureDefinition/PathogenDetectionCVDP">https://example.de/fhir/StructureDefinition/PathogenDetectionCVDP</a>" /&gt;<br>
  &lt;/meta&gt;<br>
  &lt;status value="unknown" /&gt;<br>
...<br>
&lt;/Observation&gt;</p>
<p>With HAPI-Server I get no error.</p>
<p>In Simplifier I get at least this error: <br>
Code 'unknown' from system '' does not exist in valueset '<a href="https://example.de/fhir/ValueSet/pathogenDetectionStatus">https://example.de/fhir/ValueSet/pathogenDetectionStatus</a>'</p>



<a name="250766158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250766158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250766158">(Aug 26 2021 at 12:51)</a>:</h4>
<p>Thanks. <br>
My first guess was that <code>profile</code> was missing, but that's not the problem. <br>
My second guess would be that the HAPI Server doesn't know your profile. Might that be the case? Simplifier knows your profile if you work in the same project or set your dependencies correctly.</p>



<a name="250767841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250767841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katarina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250767841">(Aug 26 2021 at 13:02)</a>:</h4>
<p>Thank you. I uploaded my profile to HAPI Server. But you might be correct that HAPI does not validate correctly. I don't know how to find out.</p>



<a name="250768079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250768079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250768079">(Aug 26 2021 at 13:04)</a>:</h4>
<p>probably you could raise the issue again in <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a>, there are the experts.<br>
Else: <span class="user-mention" data-user-id="191451">@Patrick Werner</span>: do you have an idea?</p>



<a name="250769925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250769925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katarina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250769925">(Aug 26 2021 at 13:16)</a>:</h4>
<p>I will do this. Thank you.</p>



<a name="250776691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250776691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250776691">(Aug 26 2021 at 14:02)</a>:</h4>
<p>The public hapi server is not aware of your profile, therefore it can't validate against it.</p>



<a name="250776871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250776871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250776871">(Aug 26 2021 at 14:04)</a>:</h4>
<p>couldn't find your profile on the server: <br>
<code>http://hapi.fhir.org/baseR4/StructureDefinition?url=https%3A%2F%2Fexample.de%2Ffhir%2FStructureDefinition%2FPathogenDetectionCVDP</code></p>



<a name="250776873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/code%20with%20ValueSet%20binding/near/250776873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/code.20with.20ValueSet.20binding.html#250776873">(Aug 26 2021 at 14:04)</a>:</h4>
<p>`</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
