---
layout: page
title: "FHIR Chat  · Extending Choices · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html">Extending Choices</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153893134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893134">(Jun 09 2017 at 16:22)</a>:</h4>
<p>When creating a profile, the base resource might contain a property representing the right basic idea, but not the right representation.  For example, a profile on Goal might want to support declaring a start period or start age.  The “start[x]” property applies, but the choice doesn’t allow for Period or Age (unlike some other date choice properties in FHIR).  As I understand it, there are two possible ways to address this:</p>
<ul>
<li>Create a “startPeriod” extension with context “Goal”.  This doesn’t seem like the right approach, in that it spreads the representation of start across the resource and isn’t formally tied to “start[x]”.  A consumer that does not understand the extension would interpret an instance containing the extension as having no start, when in fact that is not the case.</li>
<li>Create an extension with context “start[x]”.  According to the spec, this means the extension can be applied to any of the existing choices.  The problem here is that the Period or Age isn’t really an extension of a datetime or CodeableConcept – it is its own thing.  It really should be a sibling to those options, not an extension of one of them. (For the same reason, making the context one of the specific options doesn’t make sense either). &lt;br/&gt;</li>
</ul>
<p>Is it possible to extend “start[x]” in such a way that the extension is an additional option in the choice – rather than an extension of an existing option in the choice?  Semantically, I believe there is a difference between the two.</p>



<a name="153893168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893168">(Jun 09 2017 at 22:28)</a>:</h4>
<p>no there's no support for doing that, I'm afraid. You'll have to do an extension of one kind of other. And you could create a task on thi</p>



<a name="153893178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893178">(Jun 10 2017 at 01:34)</a>:</h4>
<p>task to extend the choices? or a task to add choices to the element?</p>



<a name="153893181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893181">(Jun 10 2017 at 02:01)</a>:</h4>
<p>to fix Goal</p>



<a name="153893190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893190">(Jun 10 2017 at 05:05)</a>:</h4>
<p>Adding choices to the element would break parsers and schema, so that's pretty much a non-starter for people to do on their own - though it is something for us think about in terms of forward/backward compatibility rules.   You could put an extension inside startDateTime that specifies the period or you could create a parallel extension.  It might be useful to give guidance to people on which approach is better.  I think a parallel extension is less likely to be confusing to implementers</p>



<a name="153893252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893252">(Jun 12 2017 at 12:14)</a>:</h4>
<p>The ability to add choices to [x] is important. There is also a very similar need to add one or more data type choices to non-[x] attributes and turn them into [x] elements. An example is where body site is specified in the spec to be given by a code, but a code alone is insufficient -- for example, the case where the body site is defined by a distance and direction from a landmark. In that case,  body site would be a choice of a code or a reference. (I know that's not an [x] example, so maybe it is poorly chosen)</p>



<a name="153893274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893274">(Jun 12 2017 at 15:40)</a>:</h4>
<p>Turning non-choices into choices would be a breaking change as it would require renaming existing elements.  That's something we absolutely cannot do once things go normative.  Adding additional options to an existing choice doesn't change the path to old data, so that's more of a possibility.</p>



<a name="153893307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893307">(Jun 13 2017 at 02:31)</a>:</h4>
<p>are we talking version or extension here? </p>



<a name="153893380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893380">(Jun 13 2017 at 14:43)</a>:</h4>
<p>We're talking about taking a core element and converting it into a choice</p>



<a name="153893597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893597">(Jun 13 2017 at 22:30)</a>:</h4>
<p>in a subsequent version? </p>



<a name="153893644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893644">(Jun 14 2017 at 00:19)</a>:</h4>
<p>Right</p>



<a name="153893645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893645">(Jun 14 2017 at 00:19)</a>:</h4>
<p>Once normative, that change would be prohibited because it would require renaming the path to the existing element.</p>



<a name="153893653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893653">(Jun 14 2017 at 00:50)</a>:</h4>
<p>I thought you were talking about that. but I thought the original question was around extensibility </p>



<a name="153893763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20Choices/near/153893763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20Choices.html#153893763">(Jun 14 2017 at 15:14)</a>:</h4>
<p>Yeah, that's what I thought, some mechanism to accomplish this through extensibility.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
