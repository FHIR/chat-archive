---
layout: page
title: "FHIR Chat  · Testscript for clients · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html">Testscript for clients</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="196874889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/196874889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#196874889">(May 08 2020 at 09:37)</a>:</h4>
<p>Can we use TestScript to say to a system</p>
<ol>
<li>send your CapStatement</li>
<li>create a valid patient with last name Smets (we're not going to tell you how that resource looks like because that's  cheating)</li>
<li>here's an allergy - btw, send us a screenshot of how it looks like on your end<br>
?</li>
</ol>



<a name="196902065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/196902065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#196902065">(May 08 2020 at 14:29)</a>:</h4>
<p>you can in cucumber</p>



<a name="196906055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/196906055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#196906055">(May 08 2020 at 15:01)</a>:</h4>
<p>Is there an example TestScript with some scripting in it?</p>



<a name="197108036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197108036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197108036">(May 11 2020 at 07:17)</a>:</h4>
<p>Any idea about this? <br>
I want to see if I can use testscript to support testing of clients. I know i can use scripting for the clients, what I'm looking for is how this plays with the TestScript resource</p>



<a name="197193569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197193569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197193569">(May 11 2020 at 19:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191370">@Richard Ettema</span> ?</p>



<a name="197194573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197194573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197194573">(May 11 2020 at 19:41)</a>:</h4>
<p>For the actual requests you expect from the client you can use the same operation/assert structure as for server testing and to test the request for things like validation of the Patient POST you can just use assert.direction to specify request asserts.</p>
<p>As for not giving the tester a proper patient resource, in Touchstone you could just define a invalid patient as the source fixture and describe in the operation.description what you actually want the testers to do. </p>
<p>As for sending the screenshot, I don't believe that there is any way to do that besides again just adding description text for the testers to follow.</p>



<a name="197205352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197205352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197205352">(May 11 2020 at 21:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="237342">ryan moehrke</span> <a href="#narrow/stream/179166-implementers/topic/Testscript.20for.20clients/near/197194573">said</a>:</p>
<blockquote>
<p>For the actual requests you expect from the client you can use the same operation/assert structure as for server testing and to test the request for things like validation of the Patient POST you can just use assert.direction to specify request asserts.</p>
</blockquote>
<p>How would this look like in a TestScript for a client?</p>



<a name="197205525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197205525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197205525">(May 11 2020 at 21:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="237342">ryan moehrke</span> <a href="#narrow/stream/179166-implementers/topic/Testscript.20for.20clients/near/197194573">said</a>:</p>
<blockquote>
<p>As for not giving the tester a proper patient resource, in Touchstone you could just define a invalid patient as the source fixture and describe in the operation.description what you actually want the testers to do. </p>
</blockquote>
<p>I prefer not to give an invalid resource (what is an "invalid patient"?) but just tell the client "last name should be Smet. Do your thing". I don't want to instruct the client that this should be in name.family.</p>



<a name="197205587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197205587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197205587">(May 11 2020 at 21:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="237342">ryan moehrke</span> <a href="#narrow/stream/179166-implementers/topic/Testscript.20for.20clients/near/197194573">said</a>:</p>
<blockquote>
<p>As for sending the screenshot, I don't believe that there is any way to do that besides again just adding description text for the testers to follow.</p>
</blockquote>
<p>Ok, but description text  seems short - what I would want is a way to say "ah, here is a script"</p>



<a name="197206481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197206481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197206481">(May 11 2020 at 21:23)</a>:</h4>
<p>The reason why I said to give an invalid Patient is because you wanted to not tell the tester how the client is set up and if I remember correctly Touchstone (the testing platform I have experience in) requires a sourceId for create operations, and if there is a sourceId fixture testers can see it. <br>
So if you want to not give the tester a valid Patient resource to work off of then you must have an invalid patient (which could literally just be the string "Patient with last name Smets")</p>



<a name="197206592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197206592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197206592">(May 11 2020 at 21:24)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Ok, but description text  seems short - what I would want is a way to say &quot;ah, here is a script&quot;
</code></pre></div>


<p>What are you looking to display? I don't believe there is any character limit on String and I'm not sure what "ah, here is a script" is trying to convey..</p>



<a name="197206616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197206616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197206616">(May 11 2020 at 21:24)</a>:</h4>
<p>I'd hope there is something in between string and a valid resource.</p>



<a name="197206692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197206692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197206692">(May 11 2020 at 21:25)</a>:</h4>
<p>I would like to tell the client "here is where you will find the script for you to run in this step"</p>



<a name="197206864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/197206864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#197206864">(May 11 2020 at 21:27)</a>:</h4>
<p>that doesn't seem in scope for anything in the testscript, because if they're reading any part of the test script then they shouldn't have to be pointed to said test script.. That sounds more like something you'd put on a Confluence site</p>



<a name="207137146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/207137146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#207137146">(Aug 17 2020 at 12:33)</a>:</h4>
<p>Back to this, <br>
for 3. I will see if I can need to add an extension to say "in this step, take a screenshot".<br>
for 2. I will think of something. I don't want to maintain confluence pages with my test data<br>
for 1. I still have no idea</p>



<a name="207152542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/207152542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#207152542">(Aug 17 2020 at 14:47)</a>:</h4>
<p>For 1, I would think some kind of extension is required unless it is a requirement of the client in your context to send its capability statement in a specific RESTful FHIR-conformant way.  There is no /metadata equivalent for clients that I'm aware of, so you'd have to define it.  And then you could use TestScript to test it.  That wouldn't make sense to do unless the server is expected to do something with that information though (I can think of some contexts where it would matter, but for most it wouldn't).</p>



<a name="207152847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/207152847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#207152847">(Aug 17 2020 at 14:50)</a>:</h4>
<p>For 2, could you use <code>test.action.assert.expression</code> for the specific value, and maybe <code>validateProfileId</code> to ensure the rest of the resource is valid?</p>



<a name="207161831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/207161831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#207161831">(Aug 17 2020 at 16:01)</a>:</h4>
<p>Now knowing that you don't actually want a test runner to be able to interpret and automate the testscript,<br>
I don't see any reason why for 2 you couldn't just use a descriptive txt file loaded into a fixture as your sourceId for the Patient create operation; then the testers could see and read it without any 'cheating' of how it looks like<br>
3 does feel like a situation where you would need an extension, but depending on where/when in the execution you want the user to screenshot you may be able to use an extended code on operation.type to mean that the operation with that 'screenshot' code is not a restful operation but rather a test step for the user (and you could have them POST the screenshot as a DocumentReference.content etc. if you wanted to store it elsewhere)<br>
1 could be something similar to the operation.type 'screenshot' code where you define a post of the client capability statement to whatever validation you are using, bypassing the target fhir system completely. </p>
<p>I don't know any system that could interpret those codes properly today, but if these are test steps you need to do I see no reason why they shouldn't be operation codes. </p>
<p>But yes, as Rob noted you could still use asserts to validate 1 and 2 regardless of how you ask the tester to send it, and if you choose to have them POST the screenshot as well you could do some minimal assertion on that as well.</p>



<a name="207163984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/207163984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#207163984">(Aug 17 2020 at 16:18)</a>:</h4>
<p>for 2 I can use test.action.assert.description or an extension of it. <br>
.expression is a fhirpath which is yucky for the end users</p>



<a name="207164329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Testscript%20for%20clients/near/207164329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Testscript.20for.20clients.html#207164329">(Aug 17 2020 at 16:22)</a>:</h4>
<p>for posting the screenshot I expect a Binary is sufficient</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
