---
layout: page
title: "FHIR Chat  · Compartment Search URL · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html">Compartment Search URL</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153961814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961814">(May 16 2018 at 12:18)</a>:</h4>
<p>In this section <a href="https://www.hl7.org/fhir/http.html#vsearch" target="_blank" title="https://www.hl7.org/fhir/http.html#vsearch">https://www.hl7.org/fhir/http.html#vsearch</a><br>
The two URL patterns are defined for compartment based search which is following</p>
<p>1. GET [base]/[Compartment]/[id]/{*?[parameters]{&amp;_format=[mime-type]}}<br>
2. GET [base]/[Compartment]/[id]/[type]{?[parameters]{&amp;_format=[mime-type]}}</p>
<p>I am confused about this "[id]/{*" part of the first URL pattern. </p>
<p>Questions:<br>
Q1. What I understood about asterisk * that there would be multiple parameters. correct me if I am wrong? I am curious because it is the only place where the asterisk * is appearing in the URL pattern in search sections of spec.</p>
<p>Q2. If I am right at Q1 then why not simply "[id]{?[parameters]" as "parameters" is written, which is also referring to multiple parameters?</p>
<p>Q3. Why there is an extra forward slash "/" after "[id]" why not like this "[id]{?[parameters]"</p>



<a name="153961819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961819">(May 16 2018 at 12:24)</a>:</h4>
<p>Typo. Should be: <br>
1. GET [base]/[Compartment]/[id]/*{?[parameters]{&amp;_format=[mime-type]}}<br>
2. GET [base]/[Compartment]/[id]/[type]{?[parameters]{&amp;_format=[mime-type]}}</p>
<p>can you make a task to fix?</p>



<a name="153961820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961820">(May 16 2018 at 12:24)</a>:</h4>
<p>'*' is special in this place - it means 'resources of all types '</p>



<a name="153961829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961829">(May 16 2018 at 12:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
Ok alright. I can make a task to fix it. but I don't know where to make the task. kindly tell me I'll make it.</p>
<p>What about the extra "/" after "[id]" is it also a typo mistake? because there is no need to have "/" before query strings?</p>



<a name="153961837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961837">(May 16 2018 at 12:37)</a>:</h4>
<p>Is the '<em>' meant to be in the url literally? I ask because in a normal search system wide search is not denoted with a '</em>'.<br>
And the extra / at the end of the path distinguishes it from a regular read of [Compartment]/[id]. Compare:<br>
- [base]/Patient/123?_format=json -&gt; will return just the latest version of Patient 123, in json<br>
- [base]/Patient/123/?_format=json -&gt; will return all resources in the compartment of Patient 123, in json</p>



<a name="153961838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961838">(May 16 2018 at 12:38)</a>:</h4>
<p>no the last URL is not correct</p>



<a name="153961839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961839">(May 16 2018 at 12:39)</a>:</h4>
<p>And the correct way is?</p>



<a name="153961842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961842">(May 16 2018 at 12:41)</a>:</h4>
<ul>
<li>[base]/Patient/123/*?_format=json -&gt; will return all resources in the compartment of Patient 123, in json</li>
</ul>



<a name="153961844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961844">(May 16 2018 at 12:42)</a>:</h4>
<p>Aha. The reason being that /? is illegal in URL?</p>



<a name="153961846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961846">(May 16 2018 at 12:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> /? it is not illegal but it is not a good practice, as far as practice is concerned check this <a href="http://wiki.marketruler.com/What_is_the_correct_syntax_for_query_strings%3F" target="_blank" title="http://wiki.marketruler.com/What_is_the_correct_syntax_for_query_strings%3F">http://wiki.marketruler.com/What_is_the_correct_syntax_for_query_strings%3F</a></p>
<p>because after / you go deeper in URL path conventionally. So if you are writing /?querystring1=someValue then you are not telling the last directory of the path on which the query strings has to be apply. But it works for the path before the last /.</p>



<a name="153961849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961849">(May 16 2018 at 12:45)</a>:</h4>
<p>Thanks, will correct that in Vonk</p>



<a name="153961852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961852">(May 16 2018 at 12:48)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193100">@Muhammad Abubakar</span>, thank you for catching this!<br>
You can submit a FHIR change request on gForge:<br>
<a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemBrowse&amp;tracker_id=677" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemBrowse&amp;tracker_id=677">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemBrowse&amp;tracker_id=677</a></p>



<a name="153961862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961862">(May 16 2018 at 13:03)</a>:</h4>
<p>Now I'm aware of the * it would have been nicely consistent to use it also for normal system wide search - even though it is not neccessary for a proper formatted url in that case. But it's too late for that I'm afraid.</p>



<a name="153961863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961863">(May 16 2018 at 13:03)</a>:</h4>
<p>Oh, and a link to gforge is in the footer of every page of the specification: "propose a change"</p>



<a name="153961869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961869">(May 16 2018 at 13:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> I got the gforge link. It would be nice to have "propose a change" also on header because many pages are too long and one would merely reach footer every time.</p>



<a name="153961870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153961870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153961870">(May 16 2018 at 13:08)</a>:</h4>
<p>You are doing a nice job of reading through to the end though :-)</p>



<a name="153963055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153963055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153963055">(May 17 2018 at 09:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> I have submitted the application for an account with the email <a href="mailto:leo9223@gmail.com" title="mailto:leo9223@gmail.com">leo9223@gmail.com</a>. But didn't get approved yet.</p>



<a name="153963059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153963059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153963059">(May 17 2018 at 09:07)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193100">@Muhammad Abubakar</span>, many FHIR community members are currently attending the WGM in Cologne, so they probably didn't have time to manage new applications. The meeting ends today, so you'll probably get approved soon.<br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> maybe you can approve Muhammad's gForge membership request?</p>



<a name="153963064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153963064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153963064">(May 17 2018 at 09:09)</a>:</h4>
<p>Done.  Asking here suggests you know enough about HL7 you're unlikely to be a spammer :)</p>



<a name="153963074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153963074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153963074">(May 17 2018 at 09:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> As you said the URL in Vonk is [base]/Patient/123/?_format=json for returning resources in the compartment, you just have to add * between these /? two characters in your routes to comply with FHIR routing as <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> said. I don't think so it will be a big surgery.</p>



<a name="153963077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153963077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153963077">(May 17 2018 at 09:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Thanks.</p>



<a name="153963098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153963098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153963098">(May 17 2018 at 09:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> here is the tracker. <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17223&amp;start=10825" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17223&amp;start=10825">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17223&amp;start=10825</a></p>



<a name="153994752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153994752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153994752">(Sep 08 2018 at 11:53)</a>:</h4>
<p>It is still not corrected in the spec <a href="https://www.hl7.org/fhir/http.html#vsearch" target="_blank" title="https://www.hl7.org/fhir/http.html#vsearch">https://www.hl7.org/fhir/http.html#vsearch</a></p>



<a name="153994760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compartment%20Search%20URL/near/153994760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compartment.20Search.20URL.html#153994760">(Sep 08 2018 at 15:32)</a>:</h4>
<p>It will never be fixed in the R3 version of the specification.  Check for the fix in the draft of R4 at <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">http://build.fhir.org</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
