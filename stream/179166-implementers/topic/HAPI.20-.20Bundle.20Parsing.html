---
layout: page
title: "FHIR Chat  · HAPI - Bundle Parsing · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html">HAPI - Bundle Parsing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153990629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990629">(Aug 23 2018 at 23:05)</a>:</h4>
<p>I am trying to code an app using Java. I tried reading the HAPI docs and found reference to the Bundle class (which I receive data for) - <a href="http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Bundle.html" target="_blank" title="http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Bundle.html">http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Bundle.html</a>.</p>
<p>However, I am unable to find any strong documentation about how to consume data received... </p>
<p>Any inputs will be appreciated.</p>



<a name="153990631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990631">(Aug 23 2018 at 23:12)</a>:</h4>
<p>what do you mean 'consume data'? what do you want to with the bundle? typically, it will be something like:</p>
<div class="codehilite"><pre><span></span> <span class="k">for</span> <span class="o">(</span><span class="n">BundleEntryComponent</span> <span class="n">be</span> <span class="o">:</span> <span class="n">bnd</span><span class="o">.</span><span class="na">getEntry</span><span class="o">())</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">be</span><span class="o">.</span><span class="na">hasResource</span><span class="o">())</span>
       <span class="n">doSomething</span><span class="o">(</span><span class="n">be</span><span class="o">.</span><span class="na">getResource</span><span class="o">())</span>
 <span class="o">}</span>
</pre></div>



<a name="153990636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990636">(Aug 23 2018 at 23:36)</a>:</h4>
<p>Consume data would mean I want to save the patient claim information being received in this Bundle.</p>



<a name="153990638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990638">(Aug 23 2018 at 23:42)</a>:</h4>
<p><a href="https://pastebin.com/m1v5d3Xx" target="_blank" title="https://pastebin.com/m1v5d3Xx">https://pastebin.com/m1v5d3Xx</a><br>
This contains the sample data. So, I am trying to read info about the claims and save them.... Like the amounts/ service start-end date etc. I am kind of lost on how to read through this using HAPI</p>



<a name="153990639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990639">(Aug 23 2018 at 23:42)</a>:</h4>
<p>Hope this makes my query a little clear</p>



<a name="153990641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990641">(Aug 23 2018 at 23:48)</a>:</h4>
<p>well, did my sample code help? if not, please ask a more specific question</p>



<a name="153990644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990644">(Aug 23 2018 at 23:52)</a>:</h4>
<p>yes, it returned me something to this effect "org.hl7.fhir.dstu3.model.ExplanationOfBenefit@6379eb"</p>



<a name="153990645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990645">(Aug 23 2018 at 23:53)</a>:</h4>
<p>I am still trying to learn Java overall. <br>
This is what I am using:<br>
            for (BundleEntryComponent be : bundle.getEntry()) {<br>
                if (be.hasResource())<br>
//                 System.out.println("Resource Found!");<br>
                    System.out.println(be.getResource());<br>
//              be.getNamedProperty("billablePeriod");<br>
//              be.getChildByName("BillablePeriod");<br>
             }</p>



<a name="153990647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990647">(Aug 23 2018 at 23:55)</a>:</h4>
<p>As an example, <br>
If  you check the pastebin, I am trying to retrieve info from lines 286-287-288 (ServicePeriod - start and end)</p>



<a name="153990648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990648">(Aug 23 2018 at 23:57)</a>:</h4>
<p>sounds like you need some general java tutorials about polymorphism</p>



<a name="153990649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990649">(Aug 23 2018 at 23:57)</a>:</h4>
<div class="codehilite"><pre><span></span>            if (be.hasResource())
</pre></div>


<p>//                 System.out.println("Resource Found!");<br>
                    System.out.println(be.getNamedProperty("servicedPeriod"));</p>



<a name="153990650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990650">(Aug 23 2018 at 23:57)</a>:</h4>
<p>So, this is returning "null"</p>



<a name="153990652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990652">(Aug 23 2018 at 23:59)</a>:</h4>
<blockquote>
<p>sounds like you need some general java tutorials about polymorphism</p>
</blockquote>
<p>Yup, thats true. I am not denying that.</p>



<a name="153990653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990653">(Aug 24 2018 at 00:00)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">BundleEntryComponent</span> <span class="nx">be</span> <span class="o">:</span> <span class="nx">bnd</span><span class="p">.</span><span class="nx">getEntry</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">be</span><span class="p">.</span><span class="nx">hasResource</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">be</span><span class="p">.</span><span class="nx">getResource</span><span class="p">()</span> <span class="k">instanceof</span> <span class="nx">ExplanationOfBenefit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">ExplanationOfBenefit</span> <span class="nx">eob</span> <span class="o">=</span> <span class="p">(</span><span class="nx">ExplanationOfBenefit</span><span class="p">)</span> <span class="nx">be</span><span class="p">.</span><span class="nx">getResource</span><span class="p">();</span>
      <span class="nx">System</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">println</span><span class="p">(</span><span class="nx">eob</span><span class="p">.</span><span class="nx">getBillablePeriod</span><span class="p">().</span><span class="nx">start</span><span class="p">());</span>
    <span class="p">}</span>
 <span class="p">}</span>
</pre></div>



<a name="153990655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990655">(Aug 24 2018 at 00:09)</a>:</h4>
<blockquote>
<div class="codehilite"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">BundleEntryComponent</span> <span class="nx">be</span> <span class="o">:</span> <span class="nx">bnd</span><span class="p">.</span><span class="nx">getEntry</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">be</span><span class="p">.</span><span class="nx">hasResource</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">be</span><span class="p">.</span><span class="nx">getResource</span><span class="p">()</span> <span class="k">instanceof</span> <span class="nx">ExplanationOfBenefit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">ExplanationOfBenefit</span> <span class="nx">eob</span> <span class="o">=</span> <span class="p">(</span><span class="nx">ExplanationOfBenefit</span><span class="p">)</span> <span class="nx">be</span><span class="p">.</span><span class="nx">getResource</span><span class="p">();</span>
      <span class="nx">System</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">println</span><span class="p">(</span><span class="nx">eob</span><span class="p">.</span><span class="nx">getBillablePeriod</span><span class="p">().</span><span class="nx">start</span><span class="p">());</span>
    <span class="p">}</span>
 <span class="p">}</span>
</pre></div>


</blockquote>
<p>Wow, tweaking this, worked (getStart() is the method) ! I think I am seeing where this is going... <br>
Thank you so much. Now I need to explore ExplainationOfBenefit methods!</p>



<a name="153990656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990656">(Aug 24 2018 at 00:12)</a>:</h4>
<p>I am sure going to come back later with more questions (hopefully more intelligent ones) <span class="emoji emoji-1f602" title="joy">:joy:</span></p>



<a name="153990657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990657">(Aug 24 2018 at 00:13)</a>:</h4>
<p>your questions are not unusual for a person who is used to dynamically typed languages running into polymorphism in a strictly typed language for the first time. So I guess that's the case</p>



<a name="153990658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990658">(Aug 24 2018 at 00:15)</a>:</h4>
<blockquote>
<p>your questions are not unusual for a person who is used to dynamically typed languages running into polymorphism in a strictly typed language for the first time. So I guess that's the case</p>
</blockquote>
<p>Yeh, tbh, I usually code using "code generators" like Pentahoe. So, my knowledge for core java is limited, but building up slowly.</p>



<a name="153990660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990660">(Aug 24 2018 at 00:17)</a>:</h4>
<p>also, there are lots of custom data points provided in my sample data (CMS provided) So, I hope I am able to pick them easily.</p>



<a name="153990661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990661">(Aug 24 2018 at 00:17)</a>:</h4>
<p>but this is a good start.</p>



<a name="153990662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990662">(Aug 24 2018 at 00:17)</a>:</h4>
<p>Thank you once again!</p>



<a name="153990833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990833">(Aug 24 2018 at 19:32)</a>:</h4>
<p>I am trying to find the providers within an EOB bundle. </p>
<div class="codehilite"><pre><span></span>                  // Care Team Component
                  for ( CareTeamComponent ctc : eob.getCareTeam()) {
                      if(ctc.hasProvider()) {
                          System.out.println(&quot;Provider Found&quot;);
                          System.out.println(&quot;Provider: &quot; + ctc.getProvider());
                      }
                      else {
                          System.out.println(&quot;Provider NOT Found&quot;);
                      }
                  }
</pre></div>


<p>But this is simply returning : Provider: org.hl7.fhir.dstu3.model.Reference@4b61d0c6<br>
What is this and How can I retrieve the values? Thanks</p>



<a name="153990834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990834">(Aug 24 2018 at 19:43)</a>:</h4>
<p>Did you take a look on HAPI javadoc? <a href="http://hapifhir.io/apidocs-dstu3/index.html" target="_blank" title="http://hapifhir.io/apidocs-dstu3/index.html">http://hapifhir.io/apidocs-dstu3/index.html</a></p>



<a name="153990842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990842">(Aug 24 2018 at 20:29)</a>:</h4>
<blockquote>
<p>Did you take a look on HAPI javadoc? <a href="http://hapifhir.io/apidocs-dstu3/index.html" target="_blank" title="http://hapifhir.io/apidocs-dstu3/index.html">http://hapifhir.io/apidocs-dstu3/index.html</a></p>
</blockquote>
<p>yea, I did. But, I feel I am still learning this framework.</p>



<a name="153990843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990843">(Aug 24 2018 at 20:31)</a>:</h4>
<p>At first can be a little difficult... just need to practice. And on the HAPI you can found many examples. What is the resource and value that you want to extract?</p>



<a name="153990844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990844">(Aug 24 2018 at 20:35)</a>:</h4>
<div class="codehilite"><pre><span></span>                &quot;provider&quot;: {
                    &quot;identifier&quot;: {
                        &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,
                        &quot;value&quot;: &quot;999999999999&quot;
                    }
                },
                &quot;responsible&quot;: true,
                &quot;role&quot;: {
                    &quot;coding&quot;: [
                        {
                            &quot;system&quot;: &quot;http://hl7.org/fhir/claimcareteamrole&quot;,
                            &quot;code&quot;: &quot;primary&quot;
                        }
                    ]
                },
</pre></div>


<p>Trying to fetch the Responsible Provider NPI/ Primary Provider.</p>



<a name="153990848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990848">(Aug 24 2018 at 20:43)</a>:</h4>
<p>So you want the "999999999"? And what is the resource name?</p>



<a name="153990881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990881">(Aug 25 2018 at 00:21)</a>:</h4>
<p>ExplanationOfBenefits resource </p>
<blockquote>
<p>So you want the "999999999"? And what is the resource name?</p>
</blockquote>



<a name="153990885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990885">(Aug 25 2018 at 11:33)</a>:</h4>
<p>After search on FHIR spec site for that specific resource (<a href="https://www.hl7.org/fhir/explanationofbenefit.html" target="_blank" title="https://www.hl7.org/fhir/explanationofbenefit.html">https://www.hl7.org/fhir/explanationofbenefit.html</a>) i can see that for <em>provider</em> or <em>careTeam-&gt;provider</em> the expected child should be <em>reference</em> and not the resource it self.<br>
Should be something like   "careTeam": [<br>
    {<br>
      "sequence": 1,<br>
      "provider": {<br>
        "reference": "Practitioner/example"<br>
      }<br>
    }<br>
  ],<br>
see the FHIR example provided: <a href="https://www.hl7.org/fhir/explanationofbenefit-example.json.html" target="_blank" title="https://www.hl7.org/fhir/explanationofbenefit-example.json.html">https://www.hl7.org/fhir/explanationofbenefit-example.json.html</a></p>



<a name="153990990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153990990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153990990">(Aug 27 2018 at 12:49)</a>:</h4>
<blockquote>
<p>After search on FHIR spec site for that specific resource (<a href="https://www.hl7.org/fhir/explanationofbenefit.html" target="_blank" title="https://www.hl7.org/fhir/explanationofbenefit.html">https://www.hl7.org/fhir/explanationofbenefit.html</a>) i can see that for <em>provider</em> or <em>careTeam-&gt;provider</em> the expected child should be <em>reference</em> and not the resource it self.<br>
Should be something like   "careTeam": [<br>
    {<br>
      "sequence": 1,<br>
      "provider": {<br>
        "reference": "Practitioner/example"<br>
      }<br>
    }<br>
  ],<br>
see the FHIR example provided: <a href="https://www.hl7.org/fhir/explanationofbenefit-example.json.html" target="_blank" title="https://www.hl7.org/fhir/explanationofbenefit-example.json.html">https://www.hl7.org/fhir/explanationofbenefit-example.json.html</a></p>
</blockquote>
<p>I think I spoke too fast.</p>
<p>Here is a sample of the Bundle Resource which I am trying to get data from:</p>
<p><a href="https://pastebin.com/m1v5d3Xx" target="_blank" title="https://pastebin.com/m1v5d3Xx">https://pastebin.com/m1v5d3Xx</a></p>
<p>Any suggestions appreciated. Thank you.</p>



<a name="153991018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153991018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153991018">(Aug 27 2018 at 14:33)</a>:</h4>
<p>Use this:</p>
<div class="codehilite"><pre><span></span>// Care Team Component
                  for ( CareTeamComponent ctc : eob.getCareTeam()) {
                      if(ctc.hasProvider()) {
                          System.out.println(&quot;Provider Found&quot;);
                          System.out.println(&quot;Provider: &quot; + ctc.getProvider().getIdentifier().getValue());
                      }
                      else {
                          System.out.println(&quot;Provider NOT Found&quot;);
                      }
                  }
</pre></div>


<p><strong>.getIdentifier().getValue()</strong></p>



<a name="153991026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153991026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153991026">(Aug 27 2018 at 15:35)</a>:</h4>
<p>Ohh, so near. Thank you so much. </p>
<p>Can I ask something here? For my learning... <br>
When I did a getProvider(), I did not find any info on how to get the Identifier/ value.. <br>
<a href="http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/ExplanationOfBenefit.CareTeamComponent.html#getProvider--" target="_blank" title="http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/ExplanationOfBenefit.CareTeamComponent.html#getProvider--">http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/ExplanationOfBenefit.CareTeamComponent.html#getProvider--</a></p>
<p>Now, is there anyplace else I need to look to find out that there are 2 other methods which I need to call? </p>
<p>This change what you made, I to pull several other values, and I am simply trying to understand.</p>
<p>But, thanks! This code change worked!</p>



<a name="153991028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153991028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153991028">(Aug 27 2018 at 16:01)</a>:</h4>
<p>The <em>getProvider()</em> return a <em>Reference</em> model (<a href="http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Reference.html" target="_blank" title="http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Reference.html">http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Reference.html</a>). If you check the <em>Reference</em> model you will see all the available methods, example <em>getIdentifier()</em> which return a <em>Identifier</em> model (<a href="http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Identifier.html" target="_blank" title="http://hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Identifier.html">hapifhir.io/apidocs-dstu3/org/hl7/fhir/dstu3/model/Identifier.html</a>), and inside <em>Identifier</em> you have the method <em>getValue()</em> or any other method.</p>



<a name="153993259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993259">(Sep 04 2018 at 23:07)</a>:</h4>
<p>One of the major places I am stuck with the hapi, is getting the values within extensions.</p>
<p>If you see the below example, this is a Bundle of type ExplainationOfBenefit. Within that, there is a "contained" entry. Within contained, there are "extension". I could not find any method on how to read the extension information within the contained... Specifically the "valueCoding" section properties (system/ code/ display). </p>
<p>Any help is appreciated.</p>
<p>Sample:</p>
<div class="codehilite"><pre><span></span>{
  &quot;total&quot;: 32,
  &quot;entry&quot;: [
    {
      &quot;resource&quot;: {
        &quot;status&quot;: &quot;active&quot;,
        &quot;id&quot;: &quot;carrier-21856079985&quot;,
        &quot;contained&quot;: [
          {
            &quot;status&quot;: &quot;completed&quot;,
            &quot;requester&quot;: {
              &quot;agent&quot;: {
                &quot;identifier&quot;: {
                  &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,
                  &quot;value&quot;: &quot;999999999999&quot;
                }
              }
            },
            &quot;recipient&quot;: [
              {
                &quot;identifier&quot;: {
                  &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,
                  &quot;value&quot;: &quot;999999999999&quot;
                }
              }
            ],
            &quot;subject&quot;: {
              &quot;reference&quot;: &quot;Patient/20140000008325&quot;
            },
            &quot;id&quot;: &quot;1&quot;,
            &quot;resourceType&quot;: &quot;ReferralRequest&quot;
          }
        ],
        &quot;careTeam&quot;: [
          {
            &quot;provider&quot;: {
              &quot;identifier&quot;: {
                &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,
                &quot;value&quot;: &quot;999999999999&quot;
              }
            },
            &quot;qualification&quot;: {
              &quot;coding&quot;: [
                {
                  &quot;system&quot;: &quot;https://bluebutton.cms.gov/resources/variables/prvdr_spclty&quot;,
                  &quot;code&quot;: &quot;999&quot;
                }
              ]
            },
            &quot;sequence&quot;: 2,
            &quot;responsible&quot;: true,
            &quot;extension&quot;: [
              {
                &quot;valueCoding&quot;: {
                  &quot;system&quot;: &quot;https://bluebutton.cms.gov/resources/variables/carr_line_prvdr_type_cd&quot;,
                  &quot;code&quot;: &quot;1&quot;
                },
                &quot;url&quot;: &quot;https://bluebutton.cms.gov/resources/variables/carr_line_prvdr_type_cd&quot;
              },
              {
                &quot;valueCoding&quot;: {
                  &quot;system&quot;: &quot;https://bluebutton.cms.gov/resources/variables/prtcptng_ind_cd&quot;,
                  &quot;code&quot;: &quot;1&quot;,
                  &quot;display&quot;: &quot;Participating&quot;
                },
                &quot;url&quot;: &quot;https://bluebutton.cms.gov/resources/variables/prtcptng_ind_cd&quot;
              }
            ],
            &quot;role&quot;: {
              &quot;coding&quot;: [
                {
                  &quot;system&quot;: &quot;http://hl7.org/fhir/claimcareteamrole&quot;,
                  &quot;code&quot;: &quot;primary&quot;,
                  &quot;display&quot;: &quot;Primary provider&quot;
                }
              ]
            }
          }
        ],
        &quot;resourceType&quot;: &quot;ExplanationOfBenefit&quot;
      },
      &quot;fullUrl&quot;: &quot;https://sandbox.bluebutton.cms.gov/v1/fhir/ExplanationOfBenefit/carrier-21856079985&quot;
    }
  ],
  &quot;type&quot;: &quot;searchset&quot;,
  &quot;resourceType&quot;: &quot;Bundle&quot;,
  &quot;id&quot;: &quot;f68aeb94-ae6a-4003-881c-240526667b00&quot;
}
</pre></div>



<a name="153993266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993266">(Sep 04 2018 at 23:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> ?</p>



<a name="153993346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993346">(Sep 05 2018 at 07:24)</a>:</h4>
<p>after getting the contained resource you can use the getExtensions() and similar Methods. Documented here: <a href="http://hapifhir.io/doc_extensions.html" target="_blank" title="http://hapifhir.io/doc_extensions.html">http://hapifhir.io/doc_extensions.html</a><br>
It is similar for R4.</p>



<a name="153993379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993379">(Sep 05 2018 at 11:28)</a>:</h4>
<p>Thank you. But I end up with reference to the extension while looping in. To fetch valueCoding array, what is the method to use? Thanks</p>
<blockquote>
<p>after getting the contained resource you can use the getExtensions() and similar Methods. Documented here: <a href="http://hapifhir.io/doc_extensions.html" target="_blank" title="http://hapifhir.io/doc_extensions.html">http://hapifhir.io/doc_extensions.html</a><br>
It is similar for R4.</p>
</blockquote>



<a name="153993386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993386">(Sep 05 2018 at 12:28)</a>:</h4>
<blockquote>
<p>after getting the contained resource you can use the getExtensions() and similar Methods. Documented here: <a href="http://hapifhir.io/doc_extensions.html" target="_blank" title="http://hapifhir.io/doc_extensions.html">http://hapifhir.io/doc_extensions.html</a><br>
It is similar for R4.</p>
</blockquote>
<p>This is what I have:</p>
<div class="codehilite"><pre><span></span>                          List&lt;Extension&gt; resourceExts = eob_ctc.getExtension();
                          System.out.println(&quot;Size: &quot; + resourceExts.size()); // returns correct size
                          for (Extension re : resourceExts) {
                              System.out.println(&quot;My Ext Info: &quot; + re.getValue());
// Not sure how to get the valueCoding...
                          }

the Forloop shows:
My Ext Info: org.hl7.fhir.dstu3.model.Coding@3270d194
My Ext Info: org.hl7.fhir.dstu3.model.Coding@14cd1699
My Ext Info: org.hl7.fhir.dstu3.model.Coding@34123d65
My Ext Info: org.hl7.fhir.dstu3.model.Coding@78691363
My Ext Info: org.hl7.fhir.dstu3.model.Coding@639c2c1d
My Ext Info: org.hl7.fhir.dstu3.model.Coding@618b19ad
My Ext Info: org.hl7.fhir.dstu3.model.Coding@6b2ea799
My Ext Info: org.hl7.fhir.dstu3.model.Coding@13c9d689
</pre></div>


<p>Not sure if I am doing this correctly. <br>
Any help is appreciated.</p>



<a name="153993392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993392">(Sep 05 2018 at 12:54)</a>:</h4>
<p>Now, inside the for loop, the "re" is a "Coding" model type... so in HAPI dcumentation just find the Coding model and use the methods getSystem(),  getDisplay() , getCode(), etc to get the String value.<br>
<code>re.getSystem() / re.getDisplay() / re.getCode()</code></p>



<a name="153993402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993402">(Sep 05 2018 at 13:19)</a>:</h4>
<blockquote>
<p>Now, inside the for loop, the "re" is a "Coding" model type... so in HAPI dcumentation just find the Coding model and use the methods getSystem(),  getDisplay() , getCode(), etc to get the String value.<br>
<code>re.getSystem() / re.getDisplay() / re.getCode()</code></p>
</blockquote>
<p>Yes, Thats correct. However, I am a little unsure on the syntax to convert this Extension to Coding model.</p>
<p>Is this correct?</p>
<div class="codehilite"><pre><span></span>                          List&lt;Extension&gt; resourceExts = eob_ctc.getExtension();
                          System.out.println(&quot;Size: &quot; + resourceExts.size());
                          for (Extension re : resourceExts) {
                              System.out.println(&quot;My Ext Display: &quot; + re.getValue().castToCoding(re).getDisplay().toString());
                          }
</pre></div>



<a name="153993414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993414">(Sep 05 2018 at 13:34)</a>:</h4>
<p>But if you just put <code>re.getDisplay()</code> what is showing to you?</p>



<a name="153993421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993421">(Sep 05 2018 at 13:42)</a>:</h4>
<blockquote>
<p>But if you just put <code>re.getDisplay()</code> what is showing to you?</p>
</blockquote>
<p>The method getDisplay() is undefined for the type Extension. So, I was trying to cast it to Coding earlier. But, not working...</p>



<a name="153993445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Neiva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993445">(Sep 05 2018 at 13:56)</a>:</h4>
<p>castToCoding() works?</p>



<a name="153993446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993446">(Sep 05 2018 at 13:57)</a>:</h4>
<blockquote>
<p>castToCoding() works?</p>
</blockquote>
<p>no, did not. <br>
I see this: </p>
<div class="codehilite"><pre><span></span>System.out.println(&quot;My Ext Display: &quot; + re.getValue().castToCoding(re).getDisplay().toString());
&gt;&gt;&gt;
org.hl7.fhir.exceptions.FHIRException: Unable to convert a org.hl7.fhir.dstu3.model.Extension to a Coding
</pre></div>



<a name="153993461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993461">(Sep 05 2018 at 14:10)</a>:</h4>
<div class="codehilite"><pre><span></span>re.getValue().castToCoding(re.getValue)
</pre></div>


<p>works. You could also do: </p>
<div class="codehilite"><pre><span></span>(Coding) re.getValue()
</pre></div>



<a name="153993483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20-%20Bundle%20Parsing/near/153993483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calvin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20-.20Bundle.20Parsing.html#153993483">(Sep 05 2018 at 14:53)</a>:</h4>
<p>re.getValue().castToCoding(re.getValue) </p>
<div class="codehilite"><pre><span></span>works. You could also do:
</pre></div>


<p>(Coding) re.getValue()</p>
<div class="codehilite"><pre><span></span>
</pre></div>


<p>Ahh, I see . This works, Excellent! Thank you.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
