---
layout: page
title: "FHIR Chat  · Reference.profile extension · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.2Eprofile.20extension.html">Reference.profile extension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="265800888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference.profile%20extension/near/265800888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.2Eprofile.20extension.html#265800888">(Dec 22 2021 at 12:51)</a>:</h4>
<p>There are a number of situations where we have mapped multiple concepts to one 'generic' element in FHIR, e.g. <code>MedicationStatement.derivedFrom</code> or <code>MedicationRequest.basedOn</code>. When converting back from FHIR it is hard to tell which concept the reference belongs to if the Resource type is not discriminative enough. Especially if you cant resolve the reference, which in our Medication use cases is quite a lot because we use Reference.identifiers since things live on multiple different servers.</p>
<p>So we thought of extending the Reference datatype with a targetProfile extension. Quite similar to the <code>Reference.type</code> or the <code>Element.type.targetProfile</code> elements. </p>
<p>What do you think of this approach and could such an extension be upgraded to an HL7 FHIR core extension?</p>



<a name="265851490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference.profile%20extension/near/265851490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.2Eprofile.20extension.html#265851490">(Dec 22 2021 at 20:53)</a>:</h4>
<p>Profiles don't convey meaning.  If you want meaning, add an extension that conveys the meaning.</p>



<a name="265892703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference.profile%20extension/near/265892703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.2Eprofile.20extension.html#265892703">(Dec 23 2021 at 08:11)</a>:</h4>
<p>Mm, I am not so sure about that. So Reference.type doesn't convey meaning either? </p>
<p>We have multiple profiles on MedicationRequest, every profile specializes the MedicationRequest and comes with it's own meaning on top of the resource type of FHIR.</p>
<p>This will provide one generic extension/method that can be reused in quite some situations. That would be better/nicer for our implementers than having specific extensions? Moreover, if you don't support the extension you will still have valid FHIR and are compatible with other use cases.</p>



<a name="265893222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference.profile%20extension/near/265893222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.2Eprofile.20extension.html#265893222">(Dec 23 2021 at 08:20)</a>:</h4>
<p>It's perfectly ok to have separate extensions for each and every 'specialization' you may have, or to add one extension with your own code (as to what specialization this is). <br>
But don't derive this from a profile, which may or may not be listed, may or may not be valid anymore, may or may not have been stripped by any data processor. Profiles are not an indication of any semantics. They're in a different 'dimension' than the data itself.</p>



<a name="265944800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference.profile%20extension/near/265944800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.2Eprofile.20extension.html#265944800">(Dec 23 2021 at 19:16)</a>:</h4>
<p>Reference.type indicates what the target resource is.  Its purpose is to help the receiver know where in their system to search for data with a matching <code>.identifier</code>.  If you're in a situation where you need to further sub-divide to understand where to search (e.g. vitals, lab data, assessments, etc. being in different tables), you might have an extension for 'category'.  Profile simply tells you what set of validation rules an instance happens to comply with.  Removing a profile declaration never removes any meaning from the instance.</p>



<a name="266008770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference.profile%20extension/near/266008770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.2Eprofile.20extension.html#266008770">(Dec 24 2021 at 15:25)</a>:</h4>
<p>Thank you both for the clear explanation. I do can follow the logic and agree. We will think of using an extension that may hold a semantic (category) code to pinpoint the precise reference. It is not necessary about searching, but more about being able to convert FHIR data back into another datamodel.</p>



<a name="266010094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference.profile%20extension/near/266010094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.2Eprofile.20extension.html#266010094">(Dec 24 2021 at 15:50)</a>:</h4>
<p><span class="user-mention" data-user-id="192301">@Ardon Toonstra</span> is this about adding extra meaning or is it about traceability? If the latter then another possibility is to have this info external to the resource in a Provenance, that points back.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
