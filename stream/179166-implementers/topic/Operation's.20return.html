---
layout: page
title: "FHIR Chat  · Operation&#x27;s return · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html">Operation&#x27;s return</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153954901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153954901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153954901">(Apr 29 2018 at 19:21)</a>:</h4>
<p>Can an FHIR operation returns both Resource and OperationOutcome?</p>



<a name="153954902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153954902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153954902">(Apr 29 2018 at 19:35)</a>:</h4>
<p>You can't return both.  If you want both, set the Prefer header to <code>return=OperationOutcome</code>, then query for the version created by the operation based on the Location header.</p>



<a name="153954951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153954951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153954951">(Apr 30 2018 at 10:19)</a>:</h4>
<p>Could you not just have two "OUT" parameters for the operation?</p>



<a name="153954956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153954956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153954956">(Apr 30 2018 at 10:34)</a>:</h4>
<p>well, that depends on whether Yunwei means an 'operation' in the general sense - what the spec calls 'interactions', or if he means a $operation.</p>



<a name="153954957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153954957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153954957">(Apr 30 2018 at 10:35)</a>:</h4>
<p>Lloyd answered the first, you answered the second</p>



<a name="153954958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153954958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153954958">(Apr 30 2018 at 10:35)</a>:</h4>
<p>:-)</p>



<a name="153955066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153955066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153955066">(Apr 30 2018 at 19:19)</a>:</h4>
<p>I mean the spec defined $ operation. such as ValueSet.$expand returns ValueSet resource. Can I return both OperationOutcome and ValueSet?</p>



<a name="153955072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153955072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153955072">(Apr 30 2018 at 20:02)</a>:</h4>
<p><a href="http://build.fhir.org/operations.html#response" target="_blank" title="http://build.fhir.org/operations.html#response">build.fhir.org/operations.html#response</a> : If there is only one out parameter, which is a Resource with the parameter name "return" then the parameter format is not used, and the response is simply the resource itself</p>



<a name="153955073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153955073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153955073">(Apr 30 2018 at 20:04)</a>:</h4>
<p>so answer is: unless that sentence applies, you can add an operation outcome. If this sentence does - and it does for $expand - then returning a parameters resource with the expansion <em>and</em> an operation outcome will be legal but I bet none of the clients would handle it.  Mine won't (though I'll update it at some stage0</p>



<a name="153955561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Operation%27s%20return/near/153955561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Operation&#x27;s.20return.html#153955561">(May 03 2018 at 00:22)</a>:</h4>
<p>The returning a "resource with the expansion <strong>and</strong> an operation outcome" was a thought that I had at one point for dealing with identifying when the server returns a limited expansion (typically because returning the full expansion would be too costly), but with $expand having only the 'return' parameter it wasn't really an option - at least one that clients would be able to deal with, as Grahame says.  But it is interesting that we don't consider it to be "illegal" to do so, and maybe it's something that would have some utility and we could consider in the future (for "limited expansions" and similar situations).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
