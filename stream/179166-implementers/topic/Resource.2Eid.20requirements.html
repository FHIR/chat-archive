---
layout: page
title: "FHIR Chat  · Resource.id requirements · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html">Resource.id requirements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173898625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173898625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173898625">(Aug 22 2019 at 16:39)</a>:</h4>
<p><a href="http://Resource.id" target="_blank" title="http://Resource.id">Resource.id</a> says as comment "The only time that a resource does not have an id is when it is being submitted to the server using a create operation."</p>
<p>Also the <a href="http://resource.id" target="_blank" title="http://resource.id">resource.id</a> is expected to serve as endpoint [base]/[type]/[id]</p>
<p>In our usual setup the FHIR is but a facade for something else which seldom to never allows for using any <a href="http://resource.id" target="_blank" title="http://resource.id">resource.id</a> as endpoint. Behind most of our FHIR servers will be V3 messaging based systems for example.</p>
<p>Hence, again in our usual setup, we do not generate any <a href="http://resource.id" target="_blank" title="http://resource.id">resource.id</a> and always contain or bundle any referenced data. This avoids the idea that any such resource would be accessible based on that id.</p>
<p>This seems to contradict the intention of the <a href="http://Resource.id" target="_blank" title="http://Resource.id">Resource.id</a> comment in the spec. How do you handle being a FHIR server that only allows query based access if not like we do? Or is our method allowable and is the comment to be interpreted less strict?</p>



<a name="173899473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173899473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173899473">(Aug 22 2019 at 16:49)</a>:</h4>
<p>I'd expect that returning resources without ids would break many clients - even if they do not use them to do direct GETs they would try to map or store them etc.</p>



<a name="173901695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173901695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173901695">(Aug 22 2019 at 17:14)</a>:</h4>
<p>Allowing "search" but not "read" would be quite odd.  It's not strictly prohibited though.  However, you would certainly expect to always be able to search by id if search is supported.  If you don't have ids, you can't really expose a RESTful interface at all.  If you want to use FHIR as a facade, figuring out how to produce consistent ids is your base point of entry.</p>



<a name="173914772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173914772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173914772">(Aug 22 2019 at 19:42)</a>:</h4>
<p>I don't understand this bit:</p>



<a name="173914792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173914792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173914792">(Aug 22 2019 at 19:42)</a>:</h4>
<blockquote>
<p>we do not generate any <a href="http://resource.id" target="_blank" title="http://resource.id">resource.id</a> and always contain or bundle any referenced data</p>
</blockquote>
<p>Those require a id</p>



<a name="173945809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173945809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173945809">(Aug 23 2019 at 06:29)</a>:</h4>
<p>In Bundle we rely on the fullUrl which is an ad hoc uuid/oid. No need for <a href="http://resource.id" target="_blank" title="http://resource.id">resource.id</a>. To date we have not had to contain  anything. Indeed an id of some sort would be required, but it would be ad hoc too.</p>



<a name="173946119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173946119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173946119">(Aug 23 2019 at 06:35)</a>:</h4>
<p>well, ok. I read the rules again and that works. Well, you could make a task to clarify the blunt statement that is only true on the restful interface</p>



<a name="173946255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173946255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173946255">(Aug 23 2019 at 06:39)</a>:</h4>
<blockquote>
<p>If you don't have ids, you can't really expose a RESTful interface at all. If you want to use FHIR as a facade, figuring out how to produce consistent ids is your base point of entry.</p>
</blockquote>
<p>That is a clear statement. As it stands I'm a specifier, not an implementer, except for corner cases where we provide mappings. <a href="http://Resource.id" target="_blank" title="http://Resource.id">Resource.id</a> as requirement could really be a killer for V3 facades that map as they are queried, without having any persistent storage itself. V3 has identifiers, not ids. Query by identifier is supported. Query by id has no meaning in that world, unless I simply copy the identifier onto the id, which may or may not be possible because of the length and character constraints of <a href="http://Resource.id" target="_blank" title="http://Resource.id">Resource.id</a>.</p>



<a name="173946419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173946419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173946419">(Aug 23 2019 at 06:43)</a>:</h4>
<blockquote>
<p>Well, you could make a task to clarify the blunt statement that is only true on the restful interface</p>
</blockquote>
<p>That might be a way forward. The situation is that all systems use the API spec in http.html which bears RESTful API in its title. Not every system can support <a href="http://Resource.id" target="_blank" title="http://Resource.id">Resource.id</a> though, which limits the RESTfulness, I agree. But could they be compliant nonetheless?</p>



<a name="173946785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173946785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173946785">(Aug 23 2019 at 06:50)</a>:</h4>
<p>not using the RESTful interface - that depends on <a href="http://Resource.id" target="_blank" title="http://Resource.id">Resource.id</a>. But when you get to messaging etc, then, sure.... there's other ways to organise things</p>



<a name="173948271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173948271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173948271">(Aug 23 2019 at 07:25)</a>:</h4>
<blockquote>
<p>not using the RESTful interface</p>
</blockquote>
<p>We use everything in the http.html spec for search and create. We allow read, we do not require it. In practice we see that systems cannot handle ids for any or for some objects. Hence searching for ?_id=... will probably not yield anything</p>



<a name="173948336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173948336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173948336">(Aug 23 2019 at 07:26)</a>:</h4>
<p>Added <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23741" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23741">GF#23741</a></p>



<a name="173974024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Resource.id%20requirements/near/173974024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Resource.2Eid.20requirements.html#173974024">(Aug 23 2019 at 14:41)</a>:</h4>
<p>This likely shows up in many FHIR API onto other systems. I suspect for example that IHE-MHD implementations with XDS or XCA backends do this very thing. I was careful in MHD to not forbid this kind of facade. Mostly because the Consuming application is 99% of the time going to just use Query and never use Read. To force support for Read of an Id just for religion (REST) is not helpful if it doesn't solve a problem. This is not to say that REST is bad, just that there are some API uses that have more compelling story around Create and Query only.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
