---
layout: page
title: "FHIR Chat  · Search result Resource Types · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html">Search result Resource Types</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="186720838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20Resource%20Types/near/186720838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html#186720838">(Jan 27 2020 at 20:15)</a>:</h4>
<p>Hi all,</p>
<p>Quick sanity check.<br>
When we perform a Search of  "GET [base]/[type]?name=value&amp;...{&amp;_format=[mime-type]}}" (<a href="https://www.hl7.org/fhir/search.html#Introduction" target="_blank" title="https://www.hl7.org/fhir/search.html#Introduction">https://www.hl7.org/fhir/search.html#Introduction</a>), are the Search results (bundle.entry) in the SearchSet bundle limited to resources of type "[type]"?</p>
<p>I know there are exceptions allowed for OperationOutcome, and use of _include/_revinclude. Aside from these two exceptions, could a search on "GET [base]/PractitionerRole?family=Jones" return a Bundle containing bundle.entries of PractitionerRole + Practitioner + Location resources? (not contained, each resource in its own bundle.entry).</p>
<p>I'm pretty sure this is not conformant, but I also do not see any explicit rules limiting the SearchSet bundle restricting it to resources of type "[type]", though it is quite implicit by the language on the http.html and search.html pages.</p>



<a name="186732144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20Resource%20Types/near/186732144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html#186732144">(Jan 27 2020 at 22:17)</a>:</h4>
<p>It's totally fine for search results to contain resources other than the searched type.  Each entry in the search result will have a search.mode that categorizes the entry as one of three things: result, include or outcome.  All of the 'result' entries would need to have a type of PractitionerRole in your example.  All of the Practitioner and Location resources would have a mode of 'include' (assuming that you used the necessary _include or _revinclude parameters in your search).  If there were warnings about the execution of the query, those would be in an OperationOutcome flagged with a mode of 'outcome'.</p>



<a name="186732163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20Resource%20Types/near/186732163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html#186732163">(Jan 27 2020 at 22:17)</a>:</h4>
<p>If you think further clarification would be helpful, feel free to submit a change request.</p>



<a name="186733222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20Resource%20Types/near/186733222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html#186733222">(Jan 27 2020 at 22:31)</a>:</h4>
<p>Thanks Lloyd, that was my understanding. Without the necessary _include or _revinclude parameters, only PractitionerRole resources should be returned as Bundle.entries, correct? Just wanted to make sure I wasn't overlooking any undocumented features.</p>



<a name="186741175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20Resource%20Types/near/186741175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html#186741175">(Jan 28 2020 at 00:26)</a>:</h4>
<p>In theory, a server can change what query it executes.  Normally this involves removing parameters it doesn't understand, but occasionally it might add an extra parameter (like a sort).  Adding unrequested _include or _revinclude seems odd behavior, but we haven't said it's prohibited.</p>



<a name="186741836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20Resource%20Types/near/186741836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html#186741836">(Jan 28 2020 at 00:36)</a>:</h4>
<p>Interesting. So a server may decide that the Search request would be more useful with additional supplemental resources within the SearchSet bundle, and serve it up with Bundle.entry.search.mode="include", even if _include and _revinclude were not part of the search parameters. Are there plans to restrict this type of behaviour, or is FHIR planning to leave the specification as is?</p>



<a name="186742563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20Resource%20Types/near/186742563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html#186742563">(Jan 28 2020 at 00:49)</a>:</h4>
<p>I don't think we'd want to prohibit that in the base spec, but it might be something useful for IGs to say something about</p>



<a name="186748208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20Resource%20Types/near/186748208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20Resource.20Types.html#186748208">(Jan 28 2020 at 02:42)</a>:</h4>
<p>One example that might be semi-reasonable is providing Provenance instances unrequested with data if the queried data is being returned from multiple sources and the source believes that difference is important - though of course merely pushing data out of the hose doesn't mean receiving systems can/will drink it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
