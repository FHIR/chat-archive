---
layout: page
title: "FHIR Chat  · symmetric relationships Specimen&lt;-&gt;ProcedureRequest · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html">symmetric relationships Specimen&lt;-&gt;ProcedureRequest</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153903721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/symmetric%20relationships%20Specimen%3C-%3EProcedureRequest/near/153903721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Patterson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html#153903721">(Aug 25 2017 at 12:27)</a>:</h4>
<p>From 2.3.0 Resource references "The corresponding reverse relationship from the target to the source exists in a logical sense, but is not represented explicitly in the target resource.".. What happens when the logical reverse relationship <em>could</em> be represented in the target resource?</p>
<p>So in a specific example - if I create a new Specimen resource with a 'request' reference to an existing ProcedureRequest. Then I fetch the ProcedureRequest - should there be a link back to the Specimen now as a reference from the 'specimen' field? This seems to be unlike say the case of where there is a 'subject' relation to a patient. Obviously there is no slot pointing back to the ProcedureRequest from Patient. But what do we do when there is? </p>
<p>Is this something an implementation could do but wouldn't be expected? Explicitly forbidden?</p>



<a name="153903742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/symmetric%20relationships%20Specimen%3C-%3EProcedureRequest/near/153903742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html#153903742">(Aug 25 2017 at 15:19)</a>:</h4>
<p>nothing is forbidden. you can always use an extension. but do you really need to do that? we avoid circular reasons where we can for obvious reaosns</p>



<a name="153903769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/symmetric%20relationships%20Specimen%3C-%3EProcedureRequest/near/153903769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Patterson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html#153903769">(Aug 25 2017 at 23:39)</a>:</h4>
<p>Yes, I wouldn't put in an extension to deliberately create a circular relationship. But in the case of Specimen&lt;-&gt;ProcedureRequest the circularity already exists (unless I've misunderstood the modelling). Specimen has a reference back to the ProcedureRequest, and ProcedureRequest has a list of Specimens. I guess I'm asking to what extent the server would be expected to ensure sanity here. If I add a specimen reference into the ProcedureRequest - but the referenced Specimen points to a unrelated/different ProcedureRequest - is anything in the spec about how I should behave. Allow? Reject the added Specimen? Correct the back link?</p>



<a name="153903773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/symmetric%20relationships%20Specimen%3C-%3EProcedureRequest/near/153903773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html#153903773">(Aug 26 2017 at 03:15)</a>:</h4>
<p>The specimen on ProcedureRequest is used when you want to say "please do this test on these existing specimens".  The pointer to ProcedureRequest on Specimen is "this specimen was taken to satisfy this order".  You should never have a circular situation.</p>



<a name="153903774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/symmetric%20relationships%20Specimen%3C-%3EProcedureRequest/near/153903774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Patterson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html#153903774">(Aug 26 2017 at 04:57)</a>:</h4>
<p>Thanks Lloyd. As the specimens exist and have been processed - <em>before</em> our test (our test is more computation than actual physical testing) - I think the 2nd form is what we will need to use.</p>



<a name="153903775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/symmetric%20relationships%20Specimen%3C-%3EProcedureRequest/near/153903775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html#153903775">(Aug 26 2017 at 14:12)</a>:</h4>
<p>So ProcedureRequest points to pre-existing specimen.</p>



<a name="153903862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/symmetric%20relationships%20Specimen%3C-%3EProcedureRequest/near/153903862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html#153903862">(Aug 28 2017 at 15:50)</a>:</h4>
<p>In Fact ProcedureRequest and Specimen request are structures so that one can point to the other depending on the workflow.  </p>
<ul>
<li>
<p><a href="http://build.fhir.org/specimen-definitions.html#Specimen.request" target="_blank" title="http://build.fhir.org/specimen-definitions.html#Specimen.request">http://build.fhir.org/specimen-definitions.html#Specimen.request</a></p>
</li>
<li>
<p><a href="http://build.fhir.org/procedurerequest-definitions.html#ProcedureRequest.specimen" target="_blank" title="http://build.fhir.org/procedurerequest-definitions.html#ProcedureRequest.specimen">http://build.fhir.org/procedurerequest-definitions.html#ProcedureRequest.specimen</a></p>
</li>
</ul>
<p>We explain the different workflow in the comments.  If you feel this is inadequate feel free to submit a tracker with a suggested update to the guidance.</p>



<a name="153903902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/symmetric%20relationships%20Specimen%3C-%3EProcedureRequest/near/153903902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Patterson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/symmetric.20relationships.20Specimen.3C-.3EProcedureRequest.html#153903902">(Aug 28 2017 at 22:55)</a>:</h4>
<p>Thanks Eric. I think we're a bit of a weird edge case at the moment, so both can somewhat apply to our workflow. If I can come up with any language clarifications I will put in a tracker.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
