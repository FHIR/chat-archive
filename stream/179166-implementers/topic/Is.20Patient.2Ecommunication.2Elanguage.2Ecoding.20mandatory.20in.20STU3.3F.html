---
layout: page
title: "FHIR Chat  · Is Patient.communication.language.coding mandatory in STU3? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html">Is Patient.communication.language.coding mandatory in STU3?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="187970677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/187970677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amy Li <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#187970677">(Feb 12 2020 at 00:19)</a>:</h4>
<p>Our language is free-text from various source systems.  So we do not want to map to any particular language code in the Patient resource.  Instead we put it in the language.text as such,<br>
                &lt;language&gt;<br>
                    &lt;text value="French" /&gt;<br>
                &lt;/language&gt;<br>
When I validated my Patient resource in the validator, I got an error,<br>
Error @ Patient.contained[2].communication[1].language (line 236, col27) : No code provided, and a code must be provided from the value set <a href="http://hl7.org/fhir/ValueSet/all-languages" target="_blank" title="http://hl7.org/fhir/ValueSet/all-languages">http://hl7.org/fhir/ValueSet/all-languages</a> (max value set <a href="http://hl7.org/fhir/ValueSet/languages" target="_blank" title="http://hl7.org/fhir/ValueSet/languages">http://hl7.org/fhir/ValueSet/languages</a>).</p>
<p>This error seems to imply coding is mandatory with or without text.  The FHIR specification indicates coding and text are optional.<br>
Can someone please confirm if coding is required regardless of the presence of text or if it's a bug in the validator?</p>
<p>Thanks</p>



<a name="187971121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/187971121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#187971121">(Feb 12 2020 at 00:26)</a>:</h4>
<p>Resource.language has a data type of <code>code</code>, not <code>CodeableConcept</code>.  'text' is only allowed in the latter.  Resource.language must be a code from bcp:47 - in your case it should be <code>&lt;language value="fr"/&gt;</code></p>



<a name="187971124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/187971124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#187971124">(Feb 12 2020 at 00:26)</a>:</h4>
<p>without seeing your resource, it will be hard to debug.  The error path shows that it's looking at a contained resource?  That seems to me like its not validating Patient.communication.language which is a CodeableConcept, but the language element of your contained resource which is a code?</p>



<a name="187971267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/187971267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#187971267">(Feb 12 2020 at 00:28)</a>:</h4>
<p>Sorry, misread.  Patient.communication.language does allow for CodeableConcept.  However, it has a 'required' binding to AllLanguages - which means you <em>must</em> have a code from that value set.  Bare text isn't allowed.</p>



<a name="187971907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/187971907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#187971907">(Feb 12 2020 at 00:39)</a>:</h4>
<blockquote>
<p>Sorry, misread.  Patient.communication.language does allow for CodeableConcept.  However, it has a 'required' binding to AllLanguages - which means you <em>must</em> have a code from that value set.  Bare text isn't allowed.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> we should raise this in MnM because I suspect it is rather hard for spec readers to understand that the phrase "but limited to" is specifying a maximum value set which thus imposes a Required binding on the data element.  I couldn't find any discussion of the maxValueSet extension anywhere in the spec.</p>



<a name="187972421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/187972421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#187972421">(Feb 12 2020 at 00:48)</a>:</h4>
<p>Agree</p>



<a name="187984091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/187984091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#187984091">(Feb 12 2020 at 06:03)</a>:</h4>
<p>done #26028</p>



<a name="188245166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/188245166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amy Li <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#188245166">(Feb 14 2020 at 20:49)</a>:</h4>
<p>Thank you, Jean and Lloyd for the clarification.</p>



<a name="188254287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20Patient.communication.language.coding%20mandatory%20in%20STU3%3F/near/188254287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amy Li <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20Patient.2Ecommunication.2Elanguage.2Ecoding.20mandatory.20in.20STU3.3F.html#188254287">(Feb 14 2020 at 22:40)</a>:</h4>
<p>In the STU3 spec for Patient.communication.language (<a href="http://hl7.org/fhir/STU3/patient-definitions.html#Patient.communication.language" target="_blank" title="http://hl7.org/fhir/STU3/patient-definitions.html#Patient.communication.language">http://hl7.org/fhir/STU3/patient-definitions.html#Patient.communication.language</a>), there is this comment , <br>
"The structure aa-BB with this exact casing is one the most widely used notations for locale. However not all systems actually code this but instead have it as free text. Hence CodeableConcept instead of code as the data type."  <br>
Based on this comment, we thought using Patient.communication.language.text would be sufficient.  Now my problem is to deal with data from source systems that don't code the languages.  Is there any suggestion on how I could support plain language names that are not coded?</p>
<p>Thanks,</p>
<p>Amy</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
