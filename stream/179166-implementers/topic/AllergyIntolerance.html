---
layout: page
title: "FHIR Chat  · AllergyIntolerance · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html">AllergyIntolerance</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153835280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835280">(Jun 28 2016 at 00:47)</a>:</h4>
<p>Question from some colleagues:</p>
<p>The FHIR AllergyIntolerance resource has a criticality element at the base resource level (AllergyIntolerance.criticality), and severity elements for each contained reaction (AllergyIntolerance.reaction.severity). These two elements are bound to different (required) value sets.</p>
<p>The HL7v2 messaging spec defines the AL1-4 segment for an Allergy level severity.</p>
<p>How can we work around the problem of mapping a FHIR resource with multiple reaction level severities into an HL7v2 message and vice versa?</p>
<p>And what is the correct mapping between a severity and a criticality, as the two seem to be quite distinct?</p>



<a name="153835329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835329">(Jun 28 2016 at 01:50)</a>:</h4>
<p>I'm not sure you can convert severity to criticality in an automated way because it depends on the semantic of the reaction.  High severity of a non-significant reaction might be low criticality, while moderate severity of a potentially life-threatening reaction would be high criticality</p>



<a name="153835332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835332">(Jun 28 2016 at 02:04)</a>:</h4>
<p>this made me pause</p>



<a name="153835333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835333">(Jun 28 2016 at 02:05)</a>:</h4>
<p>by "criticality" I guess FHIR means "risk to health on re-exposure"</p>



<a name="153835335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835335">(Jun 28 2016 at 02:06)</a>:</h4>
<p>so if you get a rash reaction to a drug with mild urticaria then this would be critical because re-exposure could cause anaphylaxis...</p>



<a name="153835336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835336">(Jun 28 2016 at 02:07)</a>:</h4>
<p>it's not up to us to make that decision. </p>



<a name="153835337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835337">(Jun 28 2016 at 02:08)</a>:</h4>
<p>whereas a reaction of "severe constipation after oxycode" (one of my mornings patients) would not be "critical" at all... as this is a common and expected reaction...</p>



<a name="153835338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835338">(Jun 28 2016 at 02:09)</a>:</h4>
<p>is there a definition for the HL7v2 "severity" field?</p>



<a name="153835339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835339">(Jun 28 2016 at 02:11)</a>:</h4>
<p>because regardless of the distinction (which is a good distinction) between reaction severity and allergy criticality, it would seem to me that the most useful thing would be to map the v7 severity to fhir criticality (or thats how it seems to me on superficial examination)</p>



<a name="153835356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835356">(Jun 28 2016 at 02:23)</a>:</h4>
<p>Agree that's what you should do, but it has to be an local mapping because the v2 definitions are very loose</p>



<a name="153835529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Avner Matan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835529">(Jun 28 2016 at 21:15)</a>:</h4>
<p><strong>FHIR's definition of criticality (AllergyIntolerance.criticality):</strong> Estimate of the potential clinical harm, or seriousness, of the reaction to the identified Substance.<br>
<strong>FHIR's definition of severity (defined per reaction, not per allergy - AllergyIntolerance.reaction.severity):</strong> Clinical assessment of the severity of the reaction event as a whole, potentially considering multiple different manifestations.</p>
<p><strong>HL7v2 definition of severity (AL1^4):</strong> This field indicates the general severity of the allergy.<br>
This definition is problematic to say the least, as you can't define a term using the same term....</p>
<p>However, the main problem is that these two concepts don't seem to match, as FHIR does not currently define a severity for the allergy as whole (e.g, how severe the actual allergy is, regardless of its criticality).</p>



<a name="153835530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835530">(Jun 28 2016 at 21:38)</a>:</h4>
<p>Right.  FHIR isn't designed to maximize compatibility with v2 (or v3 or CDA or OpenEHR or any of the other multitude of systems implementers might be converting from.  Some conversions will be straight-forward.  Others will be tricky or non-automatable.  If you can't come up with a way to safely populate "criticality", then omit it.  (And if you wish, add an extension to convey the v2 concept you do have.)</p>



<a name="153835545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835545">(Jun 28 2016 at 22:33)</a>:</h4>
<p>personally I cant see a meaningful distinction between FHIR criticality and HL7V2 severity - allergy is always a like a land-mine </p>



<a name="153835546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153835546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153835546">(Jun 28 2016 at 22:34)</a>:</h4>
<p>and these statements are markers for clinicians about what is predicted to happen if you expose the patient to this substance</p>



<a name="153840989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153840989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153840989">(Jul 26 2016 at 01:28)</a>:</h4>
<p>I just noticed that <code>AllergyIntolerance.substance</code> has disappeared from the resource definition.  This would appear to be an error, but if not, what's the reason/justification?</p>



<a name="153840991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153840991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153840991">(Jul 26 2016 at 01:29)</a>:</h4>
<p>it was renamed to .code</p>



<a name="153840993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153840993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153840993">(Jul 26 2016 at 01:38)</a>:</h4>
<p>Oh! Why? Is that because we're thinking of allowing more than just substances, e.g. SNOMED code for "Allergy to ..."?</p>



<a name="153840994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153840994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153840994">(Jul 26 2016 at 01:46)</a>:</h4>
<p>Is it so that negation can be bound up in the code?  Have the clinical safety ramifications of that been documented somewhere?</p>



<a name="153840995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153840995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153840995">(Jul 26 2016 at 02:04)</a>:</h4>
<p>yes negation can be bound up in the code </p>



<a name="153840996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153840996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153840996">(Jul 26 2016 at 02:04)</a>:</h4>
<p>I'm not sure about the documentation, but it's pretty obvious</p>



<a name="153841003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153841003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153841003">(Jul 26 2016 at 03:02)</a>:</h4>
<p>The clinical safety ramifications of hiding negation in a code are obvious?</p>



<a name="153841004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153841004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153841004">(Jul 26 2016 at 03:04)</a>:</h4>
<p>Anyway, the change is useful I think.  One thing we've been wrestling with is the tension between modelling AllergyIntolerance &gt; Substance and using (or not using!) SNOMED codes meaning "Allergic to <code>&lt;Substance&gt;</code>".  This allows recognition of both.</p>



<a name="153841005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153841005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153841005">(Jul 26 2016 at 03:09)</a>:</h4>
<p>Yes, <span class="user-mention" data-user-id="191366">@Stephen Royce</span>, that was exactly the intent.  It allows (and documents) the use of all of the available pre-coordinated SNOMED CT (and other) codes for allergies.  The resource documentation has been updated to reflect that - but possibly still needs some further updates.</p>



<a name="153841006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153841006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153841006">(Jul 26 2016 at 03:10)</a>:</h4>
<p><img alt=":thumbsup:" class="emoji" src="static/third/gemoji/images/emoji/thumbsup.png" title=":thumbsup:"> </p>



<a name="153841008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153841008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153841008">(Jul 26 2016 at 03:14)</a>:</h4>
<p>Regarding negation, there are certainly potential issues with it being "bound up" in 'code'.  But there are also issues with the alternatives that have been proposed and considered, as well.  The SNOMED CT "no known allergy" subhierarchy codes are at least a pretty well defined and limited (only 7 at present) set. </p>



<a name="153841009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153841009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153841009">(Jul 26 2016 at 03:17)</a>:</h4>
<p>Bound up in the code is certainly far better than carrying a sibling element stating "not".  However, we found in our work that a completely separate class of clinical exclusions is better still.  FHIR seems to have shied away from that as a whole, though, so you're not left with a lot of choice, I suppose.</p>



<a name="153841010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153841010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153841010">(Jul 26 2016 at 03:34)</a>:</h4>
<p>Right.  We considered a completely separate 'AllergyIntoleranceExclusion' resource, but so far decided not to go with that, as there is pretty strong sentiment toward having all of the allergy data accessible in one place.  </p>



<a name="153896701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153896701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153896701">(Jul 12 2017 at 05:17)</a>:</h4>
<p>hello everyone, <br>
what's the diff among<br>
AllergyIntolerance.onset[x],AllergyIntolerance.reaction.oncet,AllergyIntolerance.lastOccurence. </p>
<ul>
<li>when to use what? actually all of them are optional but if we want to capture one of them which is most imp?</li>
<li>and here given <br>
 AllergyIntolerance.onset[x]--&gt;<br>
onsetDateTime,onsetAge,onsetPeriod,onsetRange,onsetString where as<br>
AllergyIntolerance.reaction.oncet--&gt;dateTime only</li>
</ul>



<a name="153896702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153896702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153896702">(Jul 12 2017 at 05:21)</a>:</h4>
<p>AllergyIntolerance.onset[x] is when the allergy first appeared in the patient.  That might be a specific date (or just a year), a period (sometime beween 1980 and 1985), an age (5 years), an age range (between 5 and 10 years).<br>
AllergyIntolerance.reaction deals with specific occurrence of the reaction - there might be multiple reactions - each having its own onset.  So far, there's been no broadly indicated need to capture reaction onset dates with the same imprecision we capture the start of the allergy as a whole.  AllergyIntolerance.lastOccurence would be the date of the last reaction - and it might be present even if no reaction details are present.</p>



<a name="153896819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AllergyIntolerance/near/153896819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AllergyIntolerance.html#153896819">(Jul 13 2017 at 09:22)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
