---
layout: page
title: "FHIR Chat  · Use a subset when codesystem is set to required · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html">Use a subset when codesystem is set to required</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153965105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153965105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anders Almås <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153965105">(May 28 2018 at 10:42)</a>:</h4>
<p>Is it allowed to create a value set and take a subset of codes, when it says in the specification that the codesystem is required? I am looking at the AllergyIntolerance - resource and the element "verificationStatus". I only need 2 of the 4 values in the code system.</p>



<a name="153965114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153965114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153965114">(May 28 2018 at 12:52)</a>:</h4>
<p>Seems fair to constrain within the set.</p>



<a name="153965115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153965115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153965115">(May 28 2018 at 12:52)</a>:</h4>
<p>required    : To be conformant, the concept in this element SHALL be from the specified value set</p>



<a name="153965116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153965116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153965116">(May 28 2018 at 12:53)</a>:</h4>
<p>it doesn't say that systems SHALL support all of the concepts.</p>



<a name="153965117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153965117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153965117">(May 28 2018 at 12:53)</a>:</h4>
<p>I don't know if there is any recommendation otherwise.</p>



<a name="153965125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153965125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153965125">(May 28 2018 at 18:32)</a>:</h4>
<p>yes</p>



<a name="153965132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153965132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Carter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153965132">(May 28 2018 at 21:13)</a>:</h4>
<blockquote>
<p>Is it allowed to create a value set and take a subset of codes, when it says in the specification that the codesystem is required? I am looking at the AllergyIntolerance - resource and the element "verificationStatus". I only need 2 of the 4 values in the code system.</p>
</blockquote>
<p>If your system will ever receive data from others, you should  be able to process all of the  codes.</p>



<a name="153965134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153965134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153965134">(May 28 2018 at 21:36)</a>:</h4>
<p>agree with John but that's advice, not a requirement to be conformant to the specification</p>



<a name="153967168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153967168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153967168">(Jun 05 2018 at 20:44)</a>:</h4>
<p>I only half agree with <span class="user-mention" data-user-id="195045">@John Carter</span>'s point.  If you read a resource from a server, you should be able to understand or at least gracefully handle any legitimate value it returns.  On other other hand, if you create a resource on a server, you should be prepared to have it reject some values for any number of reasons.</p>



<a name="153967169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153967169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153967169">(Jun 05 2018 at 20:45)</a>:</h4>
<p>The server's internal enum might predate the advent of the verificationStatus value set, so there's no relevant concept in their database for some values in that set.</p>



<a name="153967170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153967170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153967170">(Jun 05 2018 at 20:46)</a>:</h4>
<p>Or there are business rules about what values a client is allowed to set.  These might even be conditional.</p>



<a name="153967189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153967189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Carter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153967189">(Jun 05 2018 at 21:19)</a>:</h4>
<blockquote>
<p>I only half agree with <span class="user-mention" data-user-id="195045">@John Carter</span>'s point.  If you read a resource from a server, you should be able to understand or at least gracefully handle any legitimate value it returns.  On other other hand, if you create a resource on a server, you should be prepared to have it reject some values for any number of reasons.</p>
</blockquote>
<p>I'm fully in agreement with your point, <span class="user-mention" data-user-id="191936">@Michael Donnelly</span> . I was only considering the first case, that the server should process all the codes in the value set when it reads resources from elsewhere. But you are certainly correct  for the other sense of "receive..." that servers can set their own more restrictive rules for the resources created on them.</p>



<a name="153967850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20a%20subset%20when%20codesystem%20is%20set%20to%20required/near/153967850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20a.20subset.20when.20codesystem.20is.20set.20to.20required.html#153967850">(Jun 07 2018 at 14:58)</a>:</h4>
<p>Well, at least for national or domain specific profiles it's fair to say "these codes don't happen here" and if they do, the resource is not valid within the scope of this profile.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
