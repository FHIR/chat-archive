---
layout: page
title: "FHIR Chat  · Creating a master profile set · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html">Creating a master profile set</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153882113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153882113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153882113">(Apr 12 2017 at 17:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> with the impending release of the Forge tool for STU3.0 we are looking to move from our current method of authoring using spreadsheets, to using Forge.<br>
However we want to create a "master" set of profiles, with derived profiles for each. Spefically our use case is:<br>
1) Create a "Master" cancer set of profiles<br>
2) For each cancer type use (a subset of) derived profiles AND/OR limit valuesets for each master profile<br>
How would this work with Forge?<br>
Is it feasible to make a change to the master profile and have it automatically propogate to all the children?<br>
Would references between profiles update?</p>



<a name="153882115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153882115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153882115">(Apr 12 2017 at 17:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span>  I know you have quite a bit of experience with this for the vital signs profiles. Do you have any suggestions?</p>



<a name="153882118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153882118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153882118">(Apr 12 2017 at 17:43)</a>:</h4>
<p>yes if the profile is based upon another</p>



<a name="153882119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153882119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153882119">(Apr 12 2017 at 17:44)</a>:</h4>
<p>by automatic I mean you have to rerun the build for the changes to take place</p>



<a name="153882120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153882120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153882120">(Apr 12 2017 at 17:50)</a>:</h4>
<p>Do you have to go into each derived profile and make the changes? For example if I have:<br>
Master profiles: Tumor size (profile on Observation) references Cancer instance (profile on condition)<br>
and I want to create cancer specific instances:<br>
Breast cancer profiles: Tumor size BRCA reference BRCA instance<br>
Kidney cancer profiles: Tumor size KDNC references KDNC instance<br>
Would I have to go into each derived profile and update the references?<br>
What if I change the Cancer Instance to instead be a profile on some other resource, would this propogate through?</p>



<a name="153884539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884539">(Apr 12 2017 at 19:54)</a>:</h4>
<p>I think what you mean is a dependency list that is defined in the defintions files and described <a href="http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation" target="_blank" title="http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation">here</a></p>



<a name="153884540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884540">(Apr 12 2017 at 19:54)</a>:</h4>
<p>specifically this part:</p>



<a name="153884541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884541">(Apr 12 2017 at 19:54)</a>:</h4>
<p>"dependencyList": [<br>
     // a list of other implementation guides that this guide depends on<br>
     // e.g. uses profiles, value sets, code systems etc<br>
     // zero or more of this object:<br>
     {<br>
        "name" : "[name of the IG, for logging, and Jekyll variable name for location]",<br>
        "location" : "[http address where the IG lives]",<br>
        "source" : "[folder to get the definitions from if running ahead of publication at location (relative)]"<br>
     }<br>
   ],</p>



<a name="153884542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884542">(Apr 12 2017 at 19:56)</a>:</h4>
<p>so anything that is changed there will propagate through the child profiles.</p>



<a name="153884554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884554">(Apr 12 2017 at 20:56)</a>:</h4>
<p>That makes sense. However I still don't understand how the references will be updated without requiring the author to go in and manage them individually.<br>
Even with this approach, if the master has observation REF condition, then as far as I understand it the author would have to make sure that in the breast cancer IG there is a Observation-BRCA REF Condition-BRCA and for Kidney cancer Observation-KDNC REF Condition-KDNC<br>
Is this correct?</p>



<a name="153884574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884574">(Apr 12 2017 at 23:52)</a>:</h4>
<p>I am a little lost in what you are trying to do. ...</p>
<ul>
<li>"In the breast cancer IG there is a Observation-BRCA REF Condition-BRCA "  if the breast cancer IG defines those two profiles then any changes to those profiles are managed in that IG. </li>
<li>IF  the "observation REF condition" is a profile that the breast cancer IG depends upon,  Then many changes to the observation REF condition" would not require updates to the breast cancer IG  because they would simply update the underlying profile.</li>
<li>But if you change for example a cardinality or added an invariant, it may create a conflict in a dependent profile and so that would require a change.    </li>
<li>To keep the dependencyList up to date you  would need reference the location of the latest version (CI) of the parent IG or update the source file  (defniitions.json.zip) with the  latest version of the guide.  So there may be updates to the files needed as well.</li>
</ul>



<a name="153884609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884609">(Apr 13 2017 at 09:12)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="193151">@Sadiq Saleh</span>, Forge supports derived profiles for a while. All features in the current DSTU2 release will also be available in the upcoming STU3 release. This implies that you can create a base profile and a set of more specialized profiles that are derived from it. Derived profiles implicitly inherit constraints from the base profile (and may override them). If you change the base profile, you'd have to re-generate the snapshots of the derived profiles in order to pick up the changes. Off course, if the profiles are already in production you'd have to take care not to introduce breaking changes.</p>



<a name="153884686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884686">(Apr 13 2017 at 15:09)</a>:</h4>
<p>Thank you for your responses. From them I have understood what I need to do.<br>
For my use case I will need a generic profile on the Observation resource that will point to Condition, and then create derived profiles on this resource for each individual Observation. Thus when creating an IG for a particular cancer type, I would just need to update the main Observation and this would propogate to all the children.<br>
For the Forge/IG builder, I have been trying to identify a quick way to append a prefix/suffix to all profile names/IDs of the profiles in the IG. Or would I still need to go to each profile individually and do this?</p>



<a name="153884693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884693">(Apr 13 2017 at 15:17)</a>:</h4>
<p>Try a search and replace by folde +-  a little regex.  That is what I  would do.</p>



<a name="153884702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884702">(Apr 13 2017 at 15:45)</a>:</h4>
<p>That is a good suggestion. Thank you</p>



<a name="153884708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884708">(Apr 13 2017 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="193151">@Sadiq Saleh</span> Note that if your plan to author a master "template" profile from which you create specific profiles by creating fresh copies, then you're ok. However if you create and publish profiles derived from a master base profile (i.e. for a specific cancer type), then you can no longer introduce breaking changes into the master base profile after publication, as this would break the contract.</p>



<a name="153884709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884709">(Apr 13 2017 at 15:58)</a>:</h4>
<p>Derived profiles have an external reference to the associated base profile. So if you publish the derived profile, then you must also publish the base profile and therefore you can no longer introduce breaking changes to both.</p>



<a name="153884711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884711">(Apr 13 2017 at 16:06)</a>:</h4>
<p>Sorry I am unfamiliar what you mean by "breaking the contract". Would this mean that the derived profiles will no longer be conformant to the master profile?<br>
Can I create a derived profile from another IG? I am familiar with how you can do this with spreadsheets but not as familiar with the Forge tool in this regard.</p>



<a name="153884712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884712">(Apr 13 2017 at 16:09)</a>:</h4>
<p>What Michel means is if you change the master it may break the derived profile - for example. reduce the cardinality of an element in the master profile- and then the derived profile may be broken since it for example slices on that element.</p>



<a name="153884713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884713">(Apr 13 2017 at 16:12)</a>:</h4>
<p>Okay, got it. Thanks for all your input once again. It has been very insightful.</p>



<a name="153884759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153884759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153884759">(Apr 14 2017 at 08:47)</a>:</h4>
<p>Exactly, thank you <span class="user-mention" data-user-id="191401">@Eric Haas</span> for clarifying.</p>



<a name="153889204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Creating%20a%20master%20profile%20set/near/153889204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Creating.20a.20master.20profile.20set.html#153889204">(May 11 2017 at 08:47)</a>:</h4>
<p><span class="user-mention" data-user-id="193151">@Sadiq Saleh</span> I don't quite understand this question, but I  hope we will be working together on cancer treatment profiles. What have you done so far? Would you be able to share your progress with the new Oncology group?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
