---
layout: page
title: "FHIR Chat  · Observation Attachment · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html">Observation Attachment</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176558081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/176558081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lauri Karppinen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#176558081">(Sep 25 2019 at 12:17)</a>:</h4>
<p>I just recently noticed that Attachment has been removed from observation.value in v4. I have been referencing from observation to binary resource from observation as valueAttachment. Is there some other way to do that?</p>



<a name="176558564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/176558564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#176558564">(Sep 25 2019 at 12:24)</a>:</h4>
<p>Not really sure, but maybe "derivedFrom" attribute can achieve what you are looking for</p>



<a name="176570338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/176570338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#176570338">(Sep 25 2019 at 14:34)</a>:</h4>
<p><span class="user-mention" data-user-id="196057">@Lauri Karppinen</span> You can use derivedFrom and reference to a Media resource</p>



<a name="176574063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/176574063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reinhard Egelkraut <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#176574063">(Sep 25 2019 at 15:09)</a>:</h4>
<p><span class="user-mention" data-user-id="196057">@Lauri Karppinen</span>  there was a lot of discussion going on during the last couple of months concerning Observation.valueAttachment, Media, DocumentReference etc (see also <a href="https://confluence.hl7.org/pages/viewpage.action?pageId=40735720" target="_blank" title="https://confluence.hl7.org/pages/viewpage.action?pageId=40735720">https://confluence.hl7.org/pages/viewpage.action?pageId=40735720</a>).</p>
<p>The current solution is, that Observation.valueAttachment will be brought back in R5 and as extension in R4, see also the motion from the last WGM in Atlanta: <a href="https://confluence.hl7.org/pages/viewpage.action?pageId=66916658#OOWGMMeetingMinutes:September16-20-Q2.1" target="_blank" title="https://confluence.hl7.org/pages/viewpage.action?pageId=66916658#OOWGMMeetingMinutes:September16-20-Q2.1">https://confluence.hl7.org/pages/viewpage.action?pageId=66916658#OOWGMMeetingMinutes:September16-20-Q2.1</a><br>
Furthermore the resource media will potentially be removed in R5, due to overlapping structure with the data type Attachment. If you take a look at the current version on <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a> you already can see the upcoming changes.</p>



<a name="176578386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/176578386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#176578386">(Sep 25 2019 at 15:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191890">@Reinhard Egelkraut</span>  is correct.  he must have been in  Atlanta  :-).  You could use Media in R4 but Media has been deprecated and merged with DocumentReference  and valueAttachment returning in R5.   If the observation value is really  some other result value from a binary file then use derived from. ( for example  'X' detected and here is the the proof in this image ).  Otherwise I would recommend using a valueAttachment extension.  We voted on and approved adding  a standard extension  for valueAttachment to R4 for compatibility moving forward.</p>



<a name="176723710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/176723710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lauri Karppinen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#176723710">(Sep 27 2019 at 07:13)</a>:</h4>
<p>Thanks for the answers. Should I already be able to find valueAttachment extension approved somewhere? I tried simplifier to find it but with no luck.</p>



<a name="176762414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/176762414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#176762414">(Sep 27 2019 at 16:37)</a>:</h4>
<p>Not available yet the tracker was just approved. I will apply it soon. And then  would use this method to create the extension...... the extension would be <code>http://hl7.org/fhir/5.0/StructureDefinition/extension-Observation.valueAttachment</code></p>



<a name="178768790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/178768790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kathy Pickering <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#178768790">(Oct 22 2019 at 15:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span>  Is this how you would expect the extension to be returned?</p>
<p>resource": {<br>
    "resourceType": "Observation",<br>
    "id": "117276868",<br>
    "extension": [<br>
         {  <br>
             "url": "<a href="http://hl7.org/fhir/5.0/StructureDefinition/extension-Observation.valueAttachment" target="_blank" title="http://hl7.org/fhir/5.0/StructureDefinition/extension-Observation.valueAttachment">http://hl7.org/fhir/5.0/StructureDefinition/extension-Observation.valueAttachment</a>",     <br>
              "valueAttachment": {<br>
                   "data": "SomeBase64data"<br>
                   "contentType": "application/xhtml"<br>
              }<br>
         }<br>
    ],<br>
    ... <br>
   "dataAbsentReason": {<br>
      "coding": [<br>
          {<br>
               "system": "<a href="http://terminology.hl7.org/CodeSystem/data-absent-reason" target="_blank" title="http://terminology.hl7.org/CodeSystem/data-absent-reason">http://terminology.hl7.org/CodeSystem/data-absent-reason</a>",<br>
               "code": "not-permitted",<br>
               "display": "Not Permitted"<br>
          }<br>
       ],<br>
      "text": "Not Permitted"<br>
   }</p>



<a name="178793331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20Attachment/near/178793331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20Attachment.html#178793331">(Oct 22 2019 at 20:00)</a>:</h4>
<p>The extension yes.  I would not have a dataAbsentReason (DAR) since the value is there as an extension.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
