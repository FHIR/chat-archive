---
layout: page
title: "FHIR Chat  · Hashed identifier · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html">Hashed identifier</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238756405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238756405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niek van Galen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238756405">(May 14 2021 at 12:09)</a>:</h4>
<p>In the Dutch realm, senders sometimes do not want (or are not allowed) to include a persons national identification number (BSN in Dutch, like the US SSN). Organizations like quality registries however, do require a unique identifier to be sent. Often hashed identifiers are used. What would be the recommended way of representing a hashed identifier in FHIR? </p>
<p>I would expect using the .type element makes sense, but the referenced <a href="https://www.hl7.org/fhir/stu3/valueset-identifier-type.html">ValueSet</a> does not contain a code that matches anything like "hashed identifier". This ValueSet is however extensible so I could just add my own, but I am looking for a more international approach.</p>



<a name="238756723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238756723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238756723">(May 14 2021 at 12:12)</a>:</h4>
<p>is there a reason to decorate these with a type? Seems to me the intent of these pseudo identifiers are as a placeholder to fulfil a requirement that an identifier exists. To indicate that it is a hashed identifier is to invite brute force attack. What downstream actor needs to know it was a hashed real identifer vs just knowing it is a globally unique id?</p>



<a name="238756970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238756970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niek van Galen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238756970">(May 14 2021 at 12:14)</a>:</h4>
<p>Good point <span class="user-mention" data-user-id="191404">@John Moehrke</span>. The receiver of the data wants to know what is a real identifier (bsn) and what is not (hashed), because a <em>check digit</em> is performed on the real identifiers to confirm validity of the number.</p>



<a name="238757230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238757230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238757230">(May 14 2021 at 12:16)</a>:</h4>
<p>that is easy... those identifiers that it can recognize are what they are claiming to be... those that it can't recognize is something it is not intended to recognize.</p>



<a name="238757273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238757273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238757273">(May 14 2021 at 12:17)</a>:</h4>
<p>imagine a USA SSN being dropped in there... it would not be useful or recognized.... but it would be carried just the same.</p>



<a name="238757417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238757417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238757417">(May 14 2021 at 12:18)</a>:</h4>
<p>and to carry on with that USA SSN example... it is useless for it to be taged so that it could be understood as it is a number of no use in the Dutch environment..   much like the pseudo-identifier created from the hash.</p>



<a name="238758314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238758314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niek van Galen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238758314">(May 14 2021 at 12:26)</a>:</h4>
<p>I see your point, which does raise another question. When including a Dutch BSN conform the <a href="https://simplifier.net/nictizstu3-zib2017/nl-core-patient">nl-core-patient</a> profile the .system element has a fixed value. In that way, receiving systems know that it's a BSN. I would expect that one would have to use a different .system value (maybe even "hospital specific") for a hashed BSN/identifier?</p>



<a name="238758661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238758661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238758661">(May 14 2021 at 12:29)</a>:</h4>
<p>I would expect the same: an identifier with .system "BSN" SHALL have a value that actually is a BSN. A hashed thing therefor SHALL NOT have a "BSN" system.</p>



<a name="238758809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238758809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238758809">(May 14 2021 at 12:30)</a>:</h4>
<p>The main requirement here is likely that upon sending the same person/patient, you have the same identifier, regardless of what that identifier is.</p>



<a name="238758925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238758925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238758925">(May 14 2021 at 12:32)</a>:</h4>
<p>You have conflicting requirements then, sounds like. Cannot put BSN in, Must put BSN in so we can do patient matching. Which requirements group has force of law? That's who I'd go with.</p>



<a name="238759318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238759318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niek van Galen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238759318">(May 14 2021 at 12:35)</a>:</h4>
<p><span class="user-mention" data-user-id="335936">@Daniel Venton</span> The receiver is entitled to process BSN by Dutch regulations, however can not enforce that. Senders are encouraged to include a real BSN but are not always willing to because of their organization policy.</p>



<a name="238760571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238760571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238760571">(May 14 2021 at 12:46)</a>:</h4>
<p>If the organization doesn't want to send the BSN and the consumer can't force you to send the BSN but can force you to send a unique identifier. Send any ole unique identifier you have laying around. Patient ID. MRN. Why even hash BSN unless BSN is the only unique value you have? With other unique items you get to set the system value to yourself. One problem with hashing the BSN, I suspect, the BSN is probably a relatively simple number say 9-digit numeric. If your hash formula was ever "discovered" then creating a rainbow table of all possible hashes would be easy. Then you decide to prevent rainbow attack, you salt the value. If you salt the value then you have to track which salt you used with each BSN so you can use the same salt again tomorrow. </p>
<p>Seems simplest just to send a different unique value, perhaps hospital/facility assigned, and be done with it.</p>



<a name="238772392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hashed%20identifier/near/238772392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hashed.20identifier.html#238772392">(May 14 2021 at 14:08)</a>:</h4>
<p>This seems potentially dangerous - if the receiving systems will sometimes receive the hashed and sometimes the unhashed identifiers for the same patient and they can match on either, does that imply they  are storing both identifiers? If that was the case then anyone who stole the data would have the crosswalk between the two identifiers.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
