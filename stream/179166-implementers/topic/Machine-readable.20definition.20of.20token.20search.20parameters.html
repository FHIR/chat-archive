---
layout: page
title: "FHIR Chat  · Machine-readable definition of token search parameters · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Machine-readable.20definition.20of.20token.20search.20parameters.html">Machine-readable definition of token search parameters</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173673182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Machine-readable%20definition%20of%20token%20search%20parameters/near/173673182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Machine-readable.20definition.20of.20token.20search.20parameters.html#173673182">(Aug 20 2019 at 16:32)</a>:</h4>
<p>While working on the search parameters that use ContactPoint, it occurred to me that the table in the <a href="http://hl7.org/implement/standards/fhir/search.html#token" target="_blank" title="http://hl7.org/implement/standards/fhir/search.html#token">token search definition</a> defining the URI/Code fields for various data types would be nice to have as a machine-readable definition.</p>
<p>It's not obvious from the structure definitions or search parameters that sometimes the code field is called "code" or "value", and back in DSTU2/STU3 the URI field might be "system" or "use" (really glad to see ContactPoint.use as a token system removed in R4). It also makes it difficult to create a framework for users to define custom token search parameters as they can't express how the token should work.</p>
<p>Perhaps the SearchParameter for a token could contain one expression/xpath for the URI and one for the code? If the URI expression is not present then it's an exact match on the code with no pipe character allowed in the query. This is a bit cumbersome because tokens are on data types that are used in many places, but I don't see a convenient way to annotate the data type itself.</p>



<a name="173676988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Machine-readable%20definition%20of%20token%20search%20parameters/near/173676988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Machine-readable.20definition.20of.20token.20search.20parameters.html#173676988">(Aug 20 2019 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span></p>



<a name="173698312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Machine-readable%20definition%20of%20token%20search%20parameters/near/173698312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Machine-readable.20definition.20of.20token.20search.20parameters.html#173698312">(Aug 20 2019 at 21:37)</a>:</h4>
<p>I do not understand this; the name of the element on which the search parameter is based is explicit in the expression</p>



<a name="173698821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Machine-readable%20definition%20of%20token%20search%20parameters/near/173698821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Machine-readable.20definition.20of.20token.20search.20parameters.html#173698821">(Aug 20 2019 at 21:45)</a>:</h4>
<p>The explicit element is an instance of a data type - the opaque part is inside the data type. I know telecom is a token search on "Patient.telecom" from the expression.</p>
<p>The knowledge that it is a token search with a URI of telecom.use (in STU3) and a code of telecom.value and a doesn't have .text or .display value - that information is only in the search spec.</p>



<a name="173825316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Machine-readable%20definition%20of%20token%20search%20parameters/near/173825316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Machine-readable.20definition.20of.20token.20search.20parameters.html#173825316">(Aug 21 2019 at 19:33)</a>:</h4>
<p>that's true. I guess I hardcoded that since there's also modifiers and qualifiers and stuff to prepare for. We can't fill out all the implications of that in a table</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
