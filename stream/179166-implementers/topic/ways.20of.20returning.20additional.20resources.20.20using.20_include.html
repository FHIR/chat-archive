---
layout: page
title: "FHIR Chat  · ways of returning additional resources  using _include · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html">ways of returning additional resources  using _include</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221736237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ways%20of%20returning%20additional%20resources%20%20using%20_include/near/221736237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vijay Chandra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html#221736237">(Jan 06 2021 at 05:50)</a>:</h4>
<p>I am exploring the ways to return additional resources in a search result bundle when parameter '_include' is used in the search query.</p>
<p>HAPI documentation states the below---</p>
<hr>
<p>FHIR allows clients to request that specific linked resources be included as contained resources, which means that they will be "embedded" in a special container called "contained" within the parent resource.</p>
<hr>
<p>Also in the documentation on resource references its mentioned as below---</p>
<hr>
<p>Handling Includes (_include) in a Bundle<br>
Your server code may also wish to add additional resource to a bundle being returned (e.g. because of an _include directive in the client's request).</p>
<hr>
<p>Want to know if returning the additional resources as "contained" resources to searched parent resource is correct way to do.</p>



<a name="221738201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ways%20of%20returning%20additional%20resources%20%20using%20_include/near/221738201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html#221738201">(Jan 06 2021 at 06:35)</a>:</h4>
<p>it's certainly not something described in the specification, and our strong recommendation is that you should never use contained resources unless you have no choice</p>



<a name="221786966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ways%20of%20returning%20additional%20resources%20%20using%20_include/near/221786966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html#221786966">(Jan 06 2021 at 16:18)</a>:</h4>
<p>If 'contained' is used, it's used because the data source doesn't treat the resource as stand-alone.  I.e. it's never independently retrievable and is always provided only within that specific containing resource.  There's also an expectation (though not a requirement) that the data consumer will store the data the same way.  Contained is <em>not</em> a handy packaging mechanism for transport.  If your objective is to package multiple resources as part of a single mechanism, the solution is Bundle.</p>



<a name="221806247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ways%20of%20returning%20additional%20resources%20%20using%20_include/near/221806247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html#221806247">(Jan 06 2021 at 18:50)</a>:</h4>
<p>I think the main point here is that the following is incorrect:</p>
<blockquote>
<p>FHIR allows clients to request that specific linked resources be included as contained resources, which means that they will be "embedded" in a special container called "contained" within the parent resource.</p>
</blockquote>
<p>And by incorrect, I mean that a compliant FHIR server <strong>shall not</strong> allow "clients to request that specific linked resources be included as contained resources". My guess is that the above is left-over from a much earlier version of HAPI...</p>



<a name="221851580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ways%20of%20returning%20additional%20resources%20%20using%20_include/near/221851580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html#221851580">(Jan 07 2021 at 02:56)</a>:</h4>
<p>I don't know that it's strictly non-compliant, but it's certainly extremely bad practice.</p>



<a name="221851585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ways%20of%20returning%20additional%20resources%20%20using%20_include/near/221851585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html#221851585">(Jan 07 2021 at 02:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> ?</p>



<a name="221945547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ways%20of%20returning%20additional%20resources%20%20using%20_include/near/221945547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html#221945547">(Jan 07 2021 at 14:12)</a>:</h4>
<p>That documentation is definitely incorrect. Looks like a copy and paste mistake, or possibly just something carried over from an earlier time as Vassil suggests.</p>
<p><span class="user-mention" data-user-id="376538">@Vijay Chandra</span> HAPI's <code>_include</code> functionality works as the FHIR spec describes - it allows additional resources to be included in the returned bundle if the search target links to them, and has nothing to do with what FHIR calls "contained resources".</p>



<a name="222063538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ways%20of%20returning%20additional%20resources%20%20using%20_include/near/222063538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vijay Chandra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ways.20of.20returning.20additional.20resources.20.20using.20_include.html#222063538">(Jan 08 2021 at 11:51)</a>:</h4>
<p>Thanks all for the responses and clarifying the point.  Thanks, Vijay</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
