---
layout: page
title: "FHIR Chat  · _history entry.request for  non-REST interactions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_history.20entry.2Erequest.20for.20.20non-REST.20interactions.html">_history entry.request for  non-REST interactions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216638855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_history%20entry.request%20for%20%20non-REST%20interactions/near/216638855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Jahns <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_history.20entry.2Erequest.20for.20.20non-REST.20interactions.html#216638855">(Nov 13 2020 at 16:48)</a>:</h4>
<p>Hello,</p>
<p>I am a little confused about implementing _history for historical data that was changed from an outside system - i.e., not from a RESTful interface.</p>
<p>The history specifications at <a href="https://www.hl7.org/fhir/http.html#history">https://www.hl7.org/fhir/http.html#history</a> specify:</p>
<div class="codehilite"><pre><span></span><code>Each entry SHALL minimally contain at least one of: a resource which holds the resource as it is at the conclusion of the interaction, or a request with entry.request.method
</code></pre></div>
<p>Which seems to imply that the entry.request is optional if a resource is provided. However, the bundle specifications state clearly that the request element is non-optional for _history:</p>
<div class="codehilite"><pre><span></span><code>bdl-3   Rule    (base)  entry.request mandatory for batch/transaction/history, otherwise prohibited entry.all(request.exists() = (%resource.type = &#39;batch&#39; or %resource.type = &#39;transaction&#39; or %resource.type = &#39;history&#39;))
</code></pre></div>
<p>My confusion is that Bundle.entry.request is clearly focused towards RESTful interactions. For non-RESTful history data, what is the intended value for entry.request.method and entry.request.url ? In particular, I am concerned with resources that we do not support Updates / Creates upon through FHIR, but that can be updated / created via other non-HTTP systems.</p>



<a name="216640758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_history%20entry.request%20for%20%20non-REST%20interactions/near/216640758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_history.20entry.2Erequest.20for.20.20non-REST.20interactions.html#216640758">(Nov 13 2020 at 17:02)</a>:</h4>
<p>It doesn't matter how the data comes in, the underlying system should still know whether a particular history entry represents a create, update or delete, which is all you're exposing</p>



<a name="216643350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_history%20entry.request%20for%20%20non-REST%20interactions/near/216643350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_history.20entry.2Erequest.20for.20.20non-REST.20interactions.html#216643350">(Nov 13 2020 at 17:21)</a>:</h4>
<p>I think the question is around things like <code>Bundle.entry.request.method</code> which is a required binding to HTTP verbs and <code>Bundle.entry.request.url</code>.  If the change did not occur via a REST call, does the server need to figure out what the equivalent call would have been and populate it there?  I believe the expectation is yes.</p>
<p>It probably would have been nice to bind the method to a FHIR Interaction instead, but I don't think a change like that is realistic on a normative resource.</p>



<a name="216643789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_history%20entry.request%20for%20%20non-REST%20interactions/near/216643789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_history.20entry.2Erequest.20for.20.20non-REST.20interactions.html#216643789">(Nov 13 2020 at 17:24)</a>:</h4>
<p>Right.  The question is essentially "was this an update (PUT) or create (POST)"</p>



<a name="216644197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_history%20entry.request%20for%20%20non-REST%20interactions/near/216644197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_history.20entry.2Erequest.20for.20.20non-REST.20interactions.html#216644197">(Nov 13 2020 at 17:27)</a>:</h4>
<p>I assume if a server allows create on update, then it's ok to note a <code>PUT</code> for a create, right?</p>



<a name="216644382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_history%20entry.request%20for%20%20non-REST%20interactions/near/216644382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_history.20entry.2Erequest.20for.20.20non-REST.20interactions.html#216644382">(Nov 13 2020 at 17:28)</a>:</h4>
<p>I guess it's also worth noting that the URL doesn't have to actually work, correct?  E.g., just because the equivalent would be a <code>POST</code> to <code>/Patient</code>, it doesn't mean the server actually has to accept that call.</p>



<a name="216651188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_history%20entry.request%20for%20%20non-REST%20interactions/near/216651188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Jahns <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_history.20entry.2Erequest.20for.20.20non-REST.20interactions.html#216651188">(Nov 13 2020 at 18:20)</a>:</h4>
<p>Great, those were the parts I was unsure about - thanks for clarifying!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
