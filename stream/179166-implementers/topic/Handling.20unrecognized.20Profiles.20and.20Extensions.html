---
layout: page
title: "FHIR Chat  · Handling unrecognized Profiles and Extensions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20unrecognized.20Profiles.20and.20Extensions.html">Handling unrecognized Profiles and Extensions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227650136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20unrecognized%20Profiles%20and%20Extensions/near/227650136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20unrecognized.20Profiles.20and.20Extensions.html#227650136">(Feb 24 2021 at 18:41)</a>:</h4>
<p>The FHIR documentation is pretty clear on handling unrecognized (non-modifier) extensions <a href="https://www.hl7.org/fhir/extensibility.html#Summary2">https://www.hl7.org/fhir/extensibility.html#Summary2</a> "When reading elements, read and process the extensions you know and use, and ignore other extensions except for modifier extensions"</p>
<p>Is there any similar guidance on handling unknown/unrecognized Profile URIs?</p>
<p>Based on HL7 FHIR Validator's behaviour, it  handles unknown Profile URIs as Warnings, and unknown Extensions are Informational.</p>
<p>Compared with HAPi's implementation that handles unknown Profile URIs as Errors: <a href="#narrow/stream/179167-hapi/topic/5.2E1.2E0.20FhirInstanceValidator.20not.20allowing.20unknown.20profiles">https://chat.fhir.org/#narrow/stream/179167-hapi/topic/5.2E1.2E0.20FhirInstanceValidator.20not.20allowing.20unknown.20profiles</a> .  I'm not sure how HAPI handles unkown Extensions, but I think they may be throwing errors as well.</p>



<a name="227681634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20unrecognized%20Profiles%20and%20Extensions/near/227681634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20unrecognized.20Profiles.20and.20Extensions.html#227681634">(Feb 24 2021 at 22:04)</a>:</h4>
<p>since profile references never change the meaning of the content of the resource, you should automatically ignore them when processing the meaning of the resource</p>



<a name="227697911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20unrecognized%20Profiles%20and%20Extensions/near/227697911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20unrecognized.20Profiles.20and.20Extensions.html#227697911">(Feb 25 2021 at 00:11)</a>:</h4>
<p>You should ignore the ones you recognize when processing meaning too :)  (Except insofar as you <br>
a) presume the declaration is correct - while they must be correct for the instance to be valid, "trust but verify" is often the best policy<br>
b) you're just looking at the profile declaration as a short-cut to know what constraints hold for the data and the real meaning is coming from those constraints)</p>



<a name="234719682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20unrecognized%20Profiles%20and%20Extensions/near/234719682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20unrecognized.20Profiles.20and.20Extensions.html#234719682">(Apr 15 2021 at 17:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I am having trouble following those guidance ^ as I just upgraded from 4.1 to 5.3 and I am getting bunch of errors </p>
<div class="codehilite"><pre><span></span><code>Error: HTTP 422 : Unknown extension http://hl7.org/fhir/StructureDefinition/us-core-race
</code></pre></div>
<p>obviously in our first implementation using HAPI 4.1 we did not create any profile but had an extension SearchParameter</p>
<p>But my question is <strong>How do you get past these errors</strong> as I cannot even access any data from 5.3 FHIR server bcoz of these errors. Please see this <strong>test/staging</strong> fhir server <a href="http://52.91.59.1:8080/fhir/Patient?_format=json&amp;_pretty=true">http://52.91.59.1:8080/fhir/Patient?_format=json&amp;_pretty=true</a></p>



<a name="234751271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20unrecognized%20Profiles%20and%20Extensions/near/234751271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20unrecognized.20Profiles.20and.20Extensions.html#234751271">(Apr 15 2021 at 20:57)</a>:</h4>
<p>Hmm.  When validating within the HL7 space, having an HL7-namespaced extension that's unrecognized is definitely something that should be treated as an error.  However, when using the HL7 validator in an independent production space, it should probably just be a warning.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, do you agree?</p>
<p>In the meantime, if you ensure your validator has the US Core IG loaded, you shouldn't get the error anymore (and it'll properly validate those extensions as well as any US Core profile declarations).</p>



<a name="234751521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20unrecognized%20Profiles%20and%20Extensions/near/234751521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20unrecognized.20Profiles.20and.20Extensions.html#234751521">(Apr 15 2021 at 20:59)</a>:</h4>
<p>this is a question for the  @hapi stream; it's entirely about how the validator is configured inside HAPI</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
