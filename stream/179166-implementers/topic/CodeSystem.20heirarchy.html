---
layout: page
title: "FHIR Chat  · CodeSystem heirarchy · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html">CodeSystem heirarchy</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="158085428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158085428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158085428">(Feb 12 2019 at 02:34)</a>:</h4>
<p>Hello, When a CodeSystem resource defines a heirarchy tree (with relationship extensions), are only the leaf nodes considered valid "codes"?</p>



<a name="158088870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158088870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158088870">(Feb 12 2019 at 03:50)</a>:</h4>
<p>It's not a question of validity - more a case of whether users should be able to select 'abstract' codes used for navigational purposes. The <code>ValueSet.expansion.contains.abstract</code> element allows such codes to be marked accordingly.</p>



<a name="158090265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158090265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158090265">(Feb 12 2019 at 04:22)</a>:</h4>
<p>They are all valid codes.  Some (even leaf codes) may be marked as abstract, but that doesn't still doesn't mean they aren't selectable (eg if you're doing analytics you probably <em>do</em> want to select them to craft a query).</p>



<a name="158138878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158138878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158138878">(Feb 12 2019 at 18:14)</a>:</h4>
<p>even abstract codes can be specified in the json? e.g., here: <a href="https://www.hl7.org/fhir/v3/RouteOfAdministration/cs.html" target="_blank" title="https://www.hl7.org/fhir/v3/RouteOfAdministration/cs.html">https://www.hl7.org/fhir/v3/RouteOfAdministration/cs.html</a>, both "_Chew" and "CHEW" are codes that that need to be considered distinct and valid?</p>



<a name="158374338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158374338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158374338">(Feb 12 2019 at 18:18)</a>:</h4>
<p>to be clear here, by "valid" I mean "can be expected to show up in a code field in a resource"</p>



<a name="158382169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158382169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158382169">(Feb 12 2019 at 19:55)</a>:</h4>
<p>What you can expect to show up in a resource depends on what the value set is bound to.  Based on the intention of the code system, profiles <em>shouldn't</em> allow "_Chew" as a code inside a prescription or dispense record.  However, it might be totally valid to appear inside a resource representing a decision support rule.</p>



<a name="158387349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158387349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158387349">(Feb 12 2019 at 21:05)</a>:</h4>
<p>the valueset expansion seems to include both: <a href="https://www.hl7.org/fhir/v3/RouteOfAdministration/vs.html" target="_blank" title="https://www.hl7.org/fhir/v3/RouteOfAdministration/vs.html">https://www.hl7.org/fhir/v3/RouteOfAdministration/vs.html</a></p>



<a name="158390101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158390101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158390101">(Feb 12 2019 at 21:41)</a>:</h4>
<p>Right.  v3 value sets weren't designed to exclude "abstract" codes because in v3 that happened automatically.  What's needed in FHIR is different value sets for the clinical vs. definitional use-cases.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, have we given any thought to generating additional value sets for the v3 value sets that filter out the abstract codes?</p>



<a name="158391263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158391263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158391263">(Feb 12 2019 at 21:56)</a>:</h4>
<p>mostly unrelated question but at least in the same arena:  I'm super confused about the relationship between the valuesets, valuesets-v2 and valuesets-v3.  For instance, how is it that a v2 valueset can contain references to a v3 codesystem? <a href="https://www.hl7.org/fhir/v2/0005/index.html" target="_blank" title="https://www.hl7.org/fhir/v2/0005/index.html">https://www.hl7.org/fhir/v2/0005/index.html</a></p>



<a name="158392211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158392211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158392211">(Feb 12 2019 at 22:08)</a>:</h4>
<p>HL7 is moving to a shared terminology world.  We've increasingly been having v2, CDA and FHIR point to each other's terminologies.  In FHIR R4, the URLs actually change so that they all come from the same canonical URL (<a href="http://terminologies.hl7.org" target="_blank" title="http://terminologies.hl7.org">http://terminologies.hl7.org</a>)</p>



<a name="158392318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158392318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158392318">(Feb 12 2019 at 22:09)</a>:</h4>
<p>sorry if this is a dumb question, and feel free to point me to literature if there is such, but does that mean in "v3" is not a replacement of "v2", but just supplemental?  and if so, how does it work retroactively so that v2 can have elements from v3?</p>



<a name="158393033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158393033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158393033">(Feb 12 2019 at 22:18)</a>:</h4>
<p>v2, v3, CDA and FHIR are all completely distinct standards families (though CDA and v3 share a lot).</p>



<a name="158393121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158393121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158393121">(Feb 12 2019 at 22:19)</a>:</h4>
<p>v2 is the oldest (over 30 years).  v3 is now approaching 20 years old and CDA is about 16 or 17 years old.  FHIR is the newest.  All families are still 'active' (though v3 isn't very) and have new versions.  We're trying to move to a place where the same terminologies can be used regardless of which standard you're using.</p>



<a name="158394647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158394647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158394647">(Feb 12 2019 at 22:41)</a>:</h4>
<p>gotcha.  Thanks for responses.  Sorry if I'm being repetitive and missing the point here, but I want to hone in a bit more on the "v3 codesystem in v2" thing.  <a href="https://www.hl7.org/fhir/v2/0005/index.html" target="_blank" title="https://www.hl7.org/fhir/v2/0005/index.html">https://www.hl7.org/fhir/v2/0005/index.html</a> is a "v2" valueset, but the codes are from a "v3" Codesystem.  If they're completely distinct families, why is there this crossover?   is that an anomaly?  is "v2" -&gt; "hl7v2" ?  is "FHIR" the "Bundle-valuesets.json" without a "v"  in the downloaded spec?</p>



<a name="158394709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158394709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158394709">(Feb 12 2019 at 22:42)</a>:</h4>
<p>again, if there's something written down somewhere that I should read instead of pestering you, feel free to 302 me there</p>



<a name="158413502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158413502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158413502">(Feb 13 2019 at 05:09)</a>:</h4>
<p>When the world began, v2 and v3 were completely separate from each other.  They created and maintained their own code systems for everything.  However, in the last 5 or so years, there's been increasing pressure to increase the consistency between them so that when taking v2 data and putting it into a CDA document (CDA is v3-based) or vice versa, you don't have to convert codes.  As well, when FHIR came on the scene, we indicated an intention to leverage existing v2 and v3 code systems whenever possible rather than inventing our own.  (Of course all 3 standards use external code systems like LOINC, SNOMED, etc.)  In the last couple of years, the organization has decided to move to a single integrated terminology maintenance process, so that the codes and valuesets from v2, v3 and FHIR will (largely) be maintained in a single repository and maintained by a single process.  We're not quite there yet, but hope to be by the end of the year.</p>
<p>There will still be certain differences for historical reasons, but where feasible, you'll see increased alignment across the three standards - which will hopefully make life easier for implementers that often end up sharing information using more than one of them.</p>



<a name="158431088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CodeSystem%20heirarchy/near/158431088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CodeSystem.20heirarchy.html#158431088">(Feb 13 2019 at 11:01)</a>:</h4>
<p>I don't think we've devoted any attention to having abstract=true and abstract=false versions of the v3 value sets. I think that would be a discussion on the terminology stream</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
