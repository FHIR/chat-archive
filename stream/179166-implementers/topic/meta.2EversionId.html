---
layout: page
title: "FHIR Chat  · meta.versionId · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html">meta.versionId</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153878877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878877">(Mar 21 2017 at 19:20)</a>:</h4>
<p>Is it appropriate to put the schema version in <code>meta.versionId</code>, or is that only for versioned history of a specific history?  Where is the expected place to store in a resource that it's schema version <code>1.6.0</code>, for example?  </p>



<a name="153878887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878887">(Mar 21 2017 at 19:30)</a>:</h4>
<p>The meta is intended to track the history of a specific resource. EG: I created MedicationStatement/abc, then updated it, then updated it again. the meta.versionId on MedicationStatement/abc must be different for each of those instances</p>



<a name="153878889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878889">(Mar 21 2017 at 19:32)</a>:</h4>
<p>ie: meta.versionId = "0", next meta.versionId="1", final meta.versionId="2" (though they can be any type of version, alphanumeric etc, and don't need to be an incrementation like this)</p>



<a name="153878890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878890">(Mar 21 2017 at 19:32)</a>:</h4>
<p>As FHIR is right now, if the conformance on a server states version 1.6.0, the resources exposed would be assumed to be of that version. I don't think we have anything defined in core to indicate what a specific resource's FHIR version is</p>



<a name="153878900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878900">(Mar 21 2017 at 20:19)</a>:</h4>
<p>+1 <span class="user-mention" data-user-id="191356">@Jenni Syed</span>. FHIR doesn't have a standard approach to label instance data in this way (it's certainly something that's been discussed).</p>



<a name="153878901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878901">(Mar 21 2017 at 20:22)</a>:</h4>
<p>Hmmm.  Thank you for the clarification, Jenni.  Seems like we're going to need to have an internal extension then.  We're reaching the point where we have two or three or more different apps pointing at a single database using FHIR as our database schema.  So, we're considering intra-app interoperability, with the database as a wire persistence cache.  Need to start managing schema migrations.   I'll probably go with <code>meta.fhirVersion</code> then.  (Unless there are any other recommendations.)</p>



<a name="153878912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878912">(Mar 21 2017 at 20:34)</a>:</h4>
<p>You might wish to have a look at resource tags: <a href="http://build.fhir.org/resource.html#profile-tags" target="_blank" title="http://build.fhir.org/resource.html#profile-tags">http://build.fhir.org/resource.html#profile-tags</a></p>



<a name="153878916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878916">(Mar 21 2017 at 20:48)</a>:</h4>
<p>different apps are supposed to suppot different versions?</p>



<a name="153878917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878917">(Mar 21 2017 at 20:48)</a>:</h4>
<p>like on the fly?</p>



<a name="153878937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878937">(Mar 21 2017 at 21:28)</a>:</h4>
<p>We have a really fast turn-around time of getting an app up-and-running in about 6 to 12 weeks.   So we have a number of deployments which have been writing down <code>v1.0.2</code> Patients, Practitioners, Questionnaires, and other resources for the past year.  But now we have the Interface Engine, Practitioner Directory, and Clinical Decision Support apps going online; but they're on <code>v1.6.0</code>.  </p>
<p>Put another way, we're trying to point a <code>fhir-1.0.2</code> app and a <code>fhir-1.6.0</code> app at the same database.  Trying to figure out the details of how to do that, and not completely bork things.</p>



<a name="153878948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878948">(Mar 21 2017 at 21:42)</a>:</h4>
<p>well, if it was me.... you're going to need a translation layer somewhere. the changes between r2 and r3 are deeper than just 'changing the format a little'</p>



<a name="153878949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878949">(Mar 21 2017 at 21:42)</a>:</h4>
<p>queries are different... so right now, you'd need to either (a) do different endpoints or (b) use some kind of header or url parameter </p>



<a name="153878969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153878969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153878969">(Mar 21 2017 at 23:04)</a>:</h4>
<p>oooh, now that's an interesting idea.  Use the <code>meta.fhirVersion</code> to build up a virtualized url, and have the database driver use the same translation layer that the REST endpoints do for r2 and r3 endpoints.  Isomorphic code reuse.  Excellent.  That's exactly what I was looking for.  Thank you!</p>



<a name="153879047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879047">(Mar 22 2017 at 10:55)</a>:</h4>
<p>Do you mean the CapabilityStatement.fhirVersion associated with the receiving endpoint?</p>



<a name="153879178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879178">(Mar 22 2017 at 16:26)</a>:</h4>
<p>No, I'm (now) talking about an extension to <code>Meta</code> or <code>DomainResource</code> that provides a lightweight capability field on a per-record level.  It's for database schema migrations and scenarios involving apps with different CapabilityStatements accessing the same JSON database.</p>



<a name="153879184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879184">(Mar 22 2017 at 16:33)</a>:</h4>
<p>Why use an extension when you could use a tag?</p>



<a name="153879186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879186">(Mar 22 2017 at 16:40)</a>:</h4>
<p>Well....  extensions are easy, it would keep things semantically consistent, and performance. Doing a quick check that <code>CapabilityStatements.fhirVersion</code> is equal to <code>Meta.fhirVersion</code> will be a lot more performant than looping through tags...  particularly if the collection has millions or billions of records that have been created by from apps with different CapabilityStatements.  Also, I'm not sure if I can put an index on the tags, since they're within an array.  Might be able to; but I'll need to research it.</p>



<a name="153879487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879487">(Mar 23 2017 at 11:16)</a>:</h4>
<p>To achieve consistence and efficiency then I suggest you propose that meta.fhirVersion be an element. I see other  uses including systems which process multiple versions.</p>



<a name="153879518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879518">(Mar 23 2017 at 15:06)</a>:</h4>
<p>We absolutely *don't* want instances declaring what version they are in general practice.  While this is necessary in some environments during the STU2 phase, it's counter to our objective of having a versionless specification in the normative phase.</p>



<a name="153879749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879749">(Mar 24 2017 at 15:09)</a>:</h4>
<p>Given that even after normative new resources will flow through the STU process, wouldn't it be a good idea to have a defined place/tag/extension to hold the version rather than encouraging people to make up their own?</p>



<a name="153879753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879753">(Mar 24 2017 at 15:29)</a>:</h4>
<p>If new resources flow in that you don't support, you'd treat them in the same manner as you'd handle resources you receive now that you don't support - no need to have a version to do that.</p>



<a name="153879773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879773">(Mar 26 2017 at 07:07)</a>:</h4>
<p>I don't think the issue is resources which people don't support but rather resources that people do support which are undergoing change.</p>



<a name="153879776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/meta.versionId/near/153879776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/meta.2EversionId.html#153879776">(Mar 26 2017 at 15:55)</a>:</h4>
<p>But once things are normative, the only changes permitted are backwards-compatible ones.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
