---
layout: page
title: "FHIR Chat  · search based on value in QuestionnaireResponse field · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html">search based on value in QuestionnaireResponse field</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="247526258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/247526258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Razvan Sfat <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#247526258">(Jul 28 2021 at 22:42)</a>:</h4>
<p>hello,<br>
i have a hapi server with some Questionnaires and QuestionnaireResponses. <br>
how can i find all the QuestionnaireResponses based on the value of Questionnaire field in the QuestionnaireResponse ?</p>
<p>thank you</p>



<a name="247529328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/247529328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#247529328">(Jul 28 2021 at 23:22)</a>:</h4>
<p>Should just be a question of using the 'questionnaire' search parameter and specifying the URL of the questionnaire.  Is that not working?</p>



<a name="247529957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/247529957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Razvan Sfat <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#247529957">(Jul 28 2021 at 23:32)</a>:</h4>
<p>thank you for response.</p>
<p>i dont think it works.<br>
this is the url for the search:<br>
<a href="http://localhost:8080/fhir/QuestionnaireResponse?questionnaire=5003&amp;_include=QuestionnaireResponse:questionnaire&amp;_pretty=true">http://localhost:8080/fhir/QuestionnaireResponse?questionnaire=5003&amp;_include=QuestionnaireResponse:questionnaire&amp;_pretty=true</a><br>
and the result:<br>
{<br>
  "resourceType": "Bundle",<br>
  "id": "9747b239-8304-4327-b035-d7a3473f4cae",<br>
  "meta": {<br>
    "lastUpdated": "2021-07-29T01:37:09.318+03:00"<br>
  },<br>
  "type": "searchset",<br>
  "total": 0,<br>
  "link": [ {<br>
    "relation": "self",<br>
    "url": "<a href="http://localhost:8080/fhir/QuestionnaireResponse?_include=QuestionnaireResponse%3Aquestionnaire&amp;_pretty=true&amp;questionnaire=5003">http://localhost:8080/fhir/QuestionnaireResponse?_include=QuestionnaireResponse%3Aquestionnaire&amp;_pretty=true&amp;questionnaire=5003</a>"<br>
  } ]<br>
}</p>
<p>response code is 200</p>
<p>maybe i have not explained too clear. <br>
let's say that i have 10 QuestionnaireResponse records.<br>
from this 10 i want only that ones that have in the field questionnaire the id of a specific Questionnaire</p>
<p>example of  QuestionnaireResponse record:<br>
{<br>
  "resourceType": "QuestionnaireResponse",<br>
  "id": "5053",<br>
  "meta": {<br>
    "versionId": "1",<br>
    "lastUpdated": "2021-07-28T19:50:30.627+03:00",<br>
    "source": "#bAjZh5nPLT5Yrfle"<br>
  },<br>
  "questionnaire": "5002",<br>
  "item": [ {<br>
    "linkId": "1",<br>
    "text": "intrebare_1",<br>
    "answer": [ {<br>
      "valueString": "raspuns"<br>
    } ]<br>
  }</p>



<a name="247530064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/247530064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#247530064">(Jul 28 2021 at 23:34)</a>:</h4>
<p>You can't say "questionnaire=5003" because questionnaire needs to be the canonical URL of the Questionnaire.  <span class="user-mention" data-user-id="191319">@James Agnew</span>, does HAPI support _include on canonical references yet?</p>



<a name="247530493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/247530493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Razvan Sfat <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#247530493">(Jul 28 2021 at 23:42)</a>:</h4>
<p>i will say it support _include.<br>
on the test server on the hapi website i have this url:<br>
<a href="http://hapi.fhir.org/baseR4/QuestionnaireResponse?questionnaire=https://protocol-service.icanbwell.com/Questionnaire/medstar-squeeze\|1.1.0&amp;_include=*&amp;_pretty=true">http://hapi.fhir.org/baseR4/QuestionnaireResponse?questionnaire=https://protocol-service.icanbwell.com/Questionnaire/medstar-squeeze\|1.1.0&amp;_include=*&amp;_pretty=true</a><br>
but the result is the same:<br>
{<br>
  "resourceType": "Bundle",<br>
  "id": "72a2ebe9-b5d2-43c5-8b38-8dff57869781",<br>
  "meta": {<br>
    "lastUpdated": "2021-07-28T23:38:05.859+00:00"<br>
  },<br>
  "type": "searchset",<br>
  "total": 0,<br>
  "link": [ {<br>
    "relation": "self",<br>
    "url": "<a href="http://hapi.fhir.org/baseR4/QuestionnaireResponse?_include=*&amp;_pretty=true&amp;questionnaire=https%3A%2F%2Fprotocol-service.icanbwell.com%2FQuestionnaire%2Fmedstar-squeeze%5C%7C1.1.0">http://hapi.fhir.org/baseR4/QuestionnaireResponse?_include=*&amp;_pretty=true&amp;questionnaire=https%3A%2F%2Fprotocol-service.icanbwell.com%2FQuestionnaire%2Fmedstar-squeeze%5C%7C1.1.0</a>"<br>
  } ]<br>
}</p>
<p>but first i should change de value of questionnaire field from the id of question to the url</p>



<a name="247592647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/247592647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#247592647">(Jul 29 2021 at 14:40)</a>:</h4>
<p>It did not work for me as while back either,  I thought I lodged an issue.</p>



<a name="247601336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/247601336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#247601336">(Jul 29 2021 at 15:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field/near/247592647">said</a>:</p>
<blockquote>
<p>I thought I lodged an issue.</p>
</blockquote>
<p>Oooh, "lodging an issue." That's when you submit it, and it gets stuck in roadmap purgatory forever. It's not until you escalate to the CTO that the issue gets dis-lodged. <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="247606164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/247606164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#247606164">(Jul 29 2021 at 16:21)</a>:</h4>
<p>It is open source: <a href="https://github.com/hapifhir/hapi-fhir/">https://github.com/hapifhir/hapi-fhir/</a></p>



<a name="266171037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/266171037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Razvan Sfat <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#266171037">(Dec 27 2021 at 13:04)</a>:</h4>
<p>Hello, <br>
Did anyone manage to search for QuestionnaireResponses after the id of the Questionnaire?</p>
<p>Thank you.</p>



<a name="266651464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20based%20on%20value%20in%20QuestionnaireResponse%20field/near/266651464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field.html#266651464">(Jan 03 2022 at 04:49)</a>:</h4>
<p>QuestionnaireResponses point to the Questionnaire by the Questionnaire.url, not the <a href="http://Questionnaire.id">Questionnaire.id</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
