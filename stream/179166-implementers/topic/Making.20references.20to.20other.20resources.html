---
layout: page
title: "FHIR Chat  · Making references to other resources · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html">Making references to other resources</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153870980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153870980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Broadbent <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153870980">(Feb 10 2017 at 14:23)</a>:</h4>
<p>I just have a quick question for how to go about making references between resources.  So as an example, I have a Questionnaire (Q) resource, and a QuestionnaireResponse (QR) which contains a reference to Q.  </p>
<p>In my case I'm using hapi, which as far as I can tell doesn't allow you to upload resources which already have an id attached to them.  My question then is, how do I make my resources portable?  For example if I export Q and QR from a particular hapi instance, and reimport them into another, Q will be given a completely different id, so I'll have to edit QR to reference this new Id.</p>



<a name="153871037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153871037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153871037">(Feb 10 2017 at 20:56)</a>:</h4>
<p>If you send them both as a transaction, the expectation is the server will maintain the link.  If you send them one at a time, you'll have to make the update.</p>



<a name="153871060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153871060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153871060">(Feb 10 2017 at 22:51)</a>:</h4>
<p>see <a href="http://build.fhir.org/managing.html" target="_blank" title="http://build.fhir.org/managing.html">http://build.fhir.org/managing.html</a></p>



<a name="153872398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153872398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Broadbent <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153872398">(Feb 17 2017 at 13:12)</a>:</h4>
<p>Thanks, is there a standardised way of doing this?  The issue that I have is; the data we store is quite free form (we host a platform where people can essentially upload anything).  I've managed to structure it in such a way that all data we accept fits within the resources defined by fhir, but it can come in at any time in any order.</p>
<p>For example; We have a  Patient and an Observation resource, where the observation references the patient.  They may be imported in the same batch, but they may also be imported in different batches in any order.</p>
<p>I'm thinking that I'll have to upload the Observation with some sort of place holder reference to a logical ID for the Patient, and then run a process which looks for unresolved references and updates them where necessary.  Is there already a mechanism or a standard practice in place for doing this?</p>



<a name="153872401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153872401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153872401">(Feb 17 2017 at 13:22)</a>:</h4>
<p>If you look at <code>Reference</code>, you can use an <code>identifier</code> which is a logical ID. Assuming you know to give the appropriate <code>Patient</code> that same logical identifier (or they already have it), then you could go back and post-process them to "fix" the references to be literal/relative URLs. Nothing stops you from doing that.</p>



<a name="153872402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153872402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Broadbent <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153872402">(Feb 17 2017 at 13:25)</a>:</h4>
<p>Great thanks</p>



<a name="153872447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153872447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153872447">(Feb 17 2017 at 17:59)</a>:</h4>
<p>in my server, I create a dangling index entry if I have an unresolved link. Then, when I create a new resource, I look for the dangling entries and fix up the target reference if there are any</p>



<a name="153872452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153872452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sandeep Giri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153872452">(Feb 17 2017 at 18:29)</a>:</h4>
<p>Should one enforce format consistency when storing Reference values in their data model? </p>
<p>For example, Reference.reference attribute can be either an relative reference (e.g. "Patient/034AB16") or an absolute URL (e.g. " <a href="http://myfhirserver.com/Patient/034AB16" target="_blank" title="http://myfhirserver.com/Patient/034AB16">http://myfhirserver.com/Patient/034AB16</a>"). If we allow for both representation, then let's say we store a Patient reference as "Patient/034AB16" and when an application searches for a patient reference by the absolute value "<a href="http://myfhirserver.com/Patient/034AB16" target="_blank" title="http://myfhirserver.com/Patient/034AB16">http://myfhirserver.com/Patient/034AB16</a>", it will not find the desired result since the 2 string literal values are different.  </p>
<p>Now, we could fix this by either converting each relative reference to full absolute reference during each match, or we can enforce a rule that says all Reference.reference values must be absolute URL's. Just wondering if anyone else has run into (or thought about) this issue from a search implementation perspective and has any insights/feedback to share. Thanks. </p>



<a name="153872454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153872454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153872454">(Feb 17 2017 at 18:33)</a>:</h4>
<p>search parameter type is 'reference' not 'string', so matches are based on the semantics of referencing, not string literals. your system should know what is and isn't a match</p>



<a name="153872946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153872946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Broadbent <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153872946">(Feb 21 2017 at 13:42)</a>:</h4>
<p>Is there a way to perform paging for uploading a transaction?  I'm trying to take advantage of the referential integrity of transactions when POSTing new resources, however I have several GBs of interdependent resources, which is to large to fit in the body of a message. </p>



<a name="153872969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Making%20references%20to%20other%20resources/near/153872969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Making.20references.20to.20other.20resources.html#153872969">(Feb 21 2017 at 17:42)</a>:</h4>
<p>Not right now.  And given that REST is supposed to be stateless, it wouldn't be an easy thing to make fit.  Your best option is to define a couple of operations - one to let you upload content for a nominal "transaction" and a second to allow invocation of the transaction.  (You could potentially also use FHIR messages to do the same thing, but the additional overhead would only be justified if you needed routing or something else messaging offers that operations don't.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
