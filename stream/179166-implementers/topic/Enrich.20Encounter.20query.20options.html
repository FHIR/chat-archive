---
layout: page
title: "FHIR Chat  · Enrich Encounter query options · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html">Enrich Encounter query options</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203920556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Enrich%20Encounter%20query%20options/near/203920556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Markku Nikkanen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html#203920556">(Jul 15 2020 at 06:28)</a>:</h4>
<p>Hello,</p>
<p>it seem that in Java and REST it is not possible to match queries against Encounter.participant.individual.type. How one can enrich Encounter query possibilities? Is it possible in Java to extend default search options?</p>
<div class="codehilite"><pre><span></span><code>Encounter.participant.individual.type

participant&quot;: [
   {
     &quot;individual&quot;: {
       &quot;reference&quot;: &quot;Practitioner/4&quot;,
       &quot;type&quot;: &quot;role-xxx&quot;
     }
   }
 ]
</code></pre></div>


<p>I do not find such search option:</p>
<p><a href="http://build.fhir.org/encounter.html#search">http://build.fhir.org/encounter.html#search</a></p>
<p>Following are most closest:</p>
<div class="codehilite"><pre><span></span><code>participant-type    token   Encounter.participant.type
practitioner    reference   Encounter.participant.individual.where(resolve() is Practitioner)
(Practitioner)
</code></pre></div>



<a name="203951035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Enrich%20Encounter%20query%20options/near/203951035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html#203951035">(Jul 15 2020 at 12:56)</a>:</h4>
<p>I think you mean Encounter.participant.type:</p>
<div class="codehilite"><pre><span></span><code><span class="err">participant</span><span class="s2">&quot;: [</span>
<span class="s2">   {</span>
<span class="s2">     &quot;</span><span class="err">type</span><span class="s2">&quot;: [</span>
<span class="s2">         &quot;</span><span class="err">role-xxx</span><span class="s2">&quot;</span>
<span class="s2">      ]</span>
<span class="s2">     &quot;</span><span class="err">individual</span><span class="s2">&quot;: {</span>
<span class="s2">         &quot;</span><span class="err">reference</span><span class="s2">&quot;: &quot;</span><span class="err">Practitioner/</span><span class="mi">4</span><span class="err">&quot;</span>
     <span class="err">}</span>
   <span class="err">}</span>
 <span class="err">]</span>
</code></pre></div>



<a name="204047107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Enrich%20Encounter%20query%20options/near/204047107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Markku Nikkanen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html#204047107">(Jul 16 2020 at 05:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options/near/203951035">said</a>:</p>
<blockquote>
<p>I think you mean Encounter.participant.type.</p>
</blockquote>
<p>Nope, I mean Encounter.participant.individual.type. That is custom attribute I have added.</p>



<a name="204047132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Enrich%20Encounter%20query%20options/near/204047132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html#204047132">(Jul 16 2020 at 05:36)</a>:</h4>
<p>You can't add custom attributes - at least not and be conformant</p>



<a name="204047149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Enrich%20Encounter%20query%20options/near/204047149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html#204047149">(Jul 16 2020 at 05:37)</a>:</h4>
<p>(And certainly not expect the Java reference implementation to work...)</p>



<a name="204047708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Enrich%20Encounter%20query%20options/near/204047708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Markku Nikkanen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html#204047708">(Jul 16 2020 at 05:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options/near/204047132">said</a>:</p>
<blockquote>
<p>You can't add custom attributes - at least not and be conformant</p>
</blockquote>
<p>See how Encounter JSON object  is constructed in frontend that is eventually posted to HAPI FHIR:</p>
<div class="codehilite"><pre><span></span><code>participant.push({
                individual: {
                    reference: `Practitioner/${this.practitionerFhirId}`,
                    type: Roles.PHYSICIAN
                },
</code></pre></div>



<a name="204056618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Enrich%20Encounter%20query%20options/near/204056618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Markku Nikkanen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html#204056618">(Jul 16 2020 at 08:14)</a>:</h4>
<p>This is not important anymore. I did move role under participant.type.</p>
<div class="codehilite"><pre><span></span><code>  &quot;participant&quot;: [
    {
      &quot;type&quot;: [
        {
          &quot;coding&quot;: [
            {
              &quot;system&quot;: &quot;http://something.com/fhir/ValueSet/encounter-participant-type&quot;,
              &quot;code&quot;: &quot;PHYSICIAN&quot;
            }
          ]
        }
      ],
      &quot;individual&quot;: {
        &quot;reference&quot;: &quot;Practitioner/4&quot;
      }
    }
  ],
</code></pre></div>


<p>Now, I can query Encounters by Practitioner role.<br>
<a href="http://localhost:8080/fhir/Encounter?participant-type=http://something.com/fhir/ValueSet/encounter-participant-type|PHYSICIAN">http://localhost:8080/fhir/Encounter?participant-type=http://something.com/fhir/ValueSet/encounter-participant-type|PHYSICIAN</a></p>



<a name="204084070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Enrich%20Encounter%20query%20options/near/204084070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options.html#204084070">(Jul 16 2020 at 13:36)</a>:</h4>
<p>(deleted)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
