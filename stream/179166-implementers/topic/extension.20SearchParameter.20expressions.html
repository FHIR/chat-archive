---
layout: page
title: "FHIR Chat  · extension SearchParameter expressions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html">extension SearchParameter expressions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="197612439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612439">(May 14 2020 at 20:21)</a>:</h4>
<p>This came up on the PlanNet track today:  if you have an extension and you'd like the value to be searchable, which of these is the right expression?<br>
<code>Type.extension.where(url='extensionUrl')</code> or<br>
<code>Type.extension.where(url='extensionUrl').value</code></p>



<a name="197612555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612555">(May 14 2020 at 20:22)</a>:</h4>
<p>second</p>



<a name="197612589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612589">(May 14 2020 at 20:22)</a>:</h4>
<p>our server was expecting the latter, but what we found in IGs (and even base spec) is the former</p>



<a name="197612620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612620">(May 14 2020 at 20:22)</a>:</h4>
<p>where in the base spec and IGs?</p>



<a name="197612648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612648">(May 14 2020 at 20:23)</a>:</h4>
<p><a href="https://www.hl7.org/fhir/patient-profiles.html#search">https://www.hl7.org/fhir/patient-profiles.html#search</a> mothersMaidenName</p>



<a name="197612664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612664">(May 14 2020 at 20:23)</a>:</h4>
<p>oh wait</p>



<a name="197612666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612666">(May 14 2020 at 20:23)</a>:</h4>
<p>i mayube read that wrong</p>



<a name="197612674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612674">(May 14 2020 at 20:23)</a>:</h4>
<p>here is the one that we ACTAULLY hit</p>



<a name="197612687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612687">(May 14 2020 at 20:23)</a>:</h4>
<p><code>Practitioner.qualification.extension.where(url='http://hl7.org/fhir/uv/vhdir/StructureDefinition/practitioner-qualification').extension.where(url='whereValid')</code></p>



<a name="197612725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612725">(May 14 2020 at 20:23)</a>:</h4>
<p>i tried to find a simpler one for clarity</p>



<a name="197612819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612819">(May 14 2020 at 20:24)</a>:</h4>
<p>I actually like that mothersMaidenName one...it uses the fhirpath <code>extension</code> function</p>



<a name="197612911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612911">(May 14 2020 at 20:25)</a>:</h4>
<p>yes that's a little more concise. Same meaning though</p>



<a name="197612970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197612970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197612970">(May 14 2020 at 20:25)</a>:</h4>
<p>ok, so either one would resolve to the Extension and not the Extension.value, right?</p>



<a name="197613071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197613071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197613071">(May 14 2020 at 20:26)</a>:</h4>
<p>whereas we'd expect it to get all the way to the value</p>



<a name="197613075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197613075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197613075">(May 14 2020 at 20:26)</a>:</h4>
<p>yes. We don't really discuss this, except for here:</p>



<a name="197613107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197613107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197613107">(May 14 2020 at 20:26)</a>:</h4>
<p><a href="http://hl7.org/fhir/searchparameter.html#srch">http://hl7.org/fhir/searchparameter.html#srch</a></p>



<a name="197613121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197613121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197613121">(May 14 2020 at 20:26)</a>:</h4>
<p>which doesn't help.</p>



<a name="197613137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197613137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197613137">(May 14 2020 at 20:26)</a>:</h4>
<p>but I'd say, based on the examples, that you'll have to be able to cope with either</p>



<a name="197613146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197613146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197613146">(May 14 2020 at 20:26)</a>:</h4>
<p>i have now patched our server with custom logic that says "if the expression leads to an Extension and that Extension has a child named value, then index the value instead"</p>



<a name="197613399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197613399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197613399">(May 14 2020 at 20:28)</a>:</h4>
<p>worth opening a jira item for clarification?  or maybe we're the only ones that tripped on this?</p>



<a name="197613466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197613466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197613466">(May 14 2020 at 20:29)</a>:</h4>
<p>definitely worth clarifying.</p>



<a name="197618458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/197618458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#197618458">(May 14 2020 at 21:09)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-27134">FHIR#27134</a></p>



<a name="206491372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extension%20SearchParameter%20expressions/near/206491372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extension.20SearchParameter.20expressions.html#206491372">(Aug 10 2020 at 17:53)</a>:</h4>
<p>Just to revive this topic, we have also run into this in the Google implementation and we're planning to hack it to accept both with or without <code>.value</code> so we can accept the existing examples. +1 to implementers tripping over this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
