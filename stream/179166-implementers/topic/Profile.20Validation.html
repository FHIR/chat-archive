---
layout: page
title: "FHIR Chat  · Profile Validation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html">Profile Validation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153858141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Lloyd <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858141">(Nov 22 2016 at 15:44)</a>:</h4>
<p>Does anyone happen to have a very simple example of a profile &amp; a resource please? I am trying to get the validation to work but constantly get non-informative messages "Unexpected failure while validating resource". I just want to make sure that the random profiles we have created are/are not the problem (and not a problem with HAPI et al.).</p>



<a name="153858142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Lloyd <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858142">(Nov 22 2016 at 15:47)</a>:</h4>
<p>Also, Have tried to use the validator jar both from the command line &amp; in java with both our profiles(custom StructureDefinition) &amp; some random ones from various public servers but to no avail.  .. validate (xml) null ptr exception</p>



<a name="153858143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858143">(Nov 22 2016 at 15:49)</a>:</h4>
<p>Is your XML valid? My guess is you have a problem there. Try validating against the schema before using any StructureDefinition  specific validators...</p>



<a name="153858144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Lloyd <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858144">(Nov 22 2016 at 15:58)</a>:</h4>
<p>Can I ask what you tend to use for XML validation please? I have used the NotePad++ XMLTools plugin and they state there is a problem with the StructureDefinion.xsd file. Element '&lt;w3 url&gt;' complexType: ExtensionContext does already exist. The Visual Studio one was also displaying some problems with the xsd file when I test it yesterday (can find out what they were again if required).</p>



<a name="153858145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858145">(Nov 22 2016 at 16:06)</a>:</h4>
<p>FWIW I use XMLSpy to schema check.   (I have used the notepad ++ which worked great for a while but now errors and I can't debug.)   I also routinely run the jar from the command line without issues.    Another way is to upload (POST) a resource to a reference server they validate and will error with a message.  I'm most comfortable using the healthintersection server and something like Fiddler or Postman for doing this. </p>



<a name="153858147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Lloyd <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858147">(Nov 22 2016 at 16:21)</a>:</h4>
<p>Thanks Gents, I'll give XMLSpy a try and see what comes up. The problem with healthintersection et. al. that I'm seeing is that all I get back is "Unexpected failure while validating resource" which doesn't really help.</p>



<a name="153858152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Lloyd <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858152">(Nov 22 2016 at 16:55)</a>:</h4>
<p>XMLSpy did in fact identify some issues with our profile when compared to the scheme, however we're still getting the same error so will have to try finding a simple example to see what we've missed in our ignorance. Cheers. </p>



<a name="153858166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858166">(Nov 22 2016 at 20:06)</a>:</h4>
<p>Another way is to use eclipse with the Web Tools Platform <a href="http://help.eclipse.org/neon/index.jsp?topic=%2Forg.eclipse.wst.xmleditor.doc.user%2Ftopics%2Ftwxvalid.html" target="_blank" title="http://help.eclipse.org/neon/index.jsp?topic=%2Forg.eclipse.wst.xmleditor.doc.user%2Ftopics%2Ftwxvalid.html">http://help.eclipse.org/neon/index.jsp?topic=%2Forg.eclipse.wst.xmleditor.doc.user%2Ftopics%2Ftwxvalid.html</a>. You have to adjust the path to the schema (.xsd) in the xml file like:</p>
<p>&lt;StructureDefinition xmlns="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" target="_blank" title="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>"<br>
    xsi:schemaLocation="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a> ../../schemas/fhir-all.xsd"&gt;</p>
<p>If that gives no errors the next step is to apply the schematrons to the xml, I personally prefer to use then the validator directly. If you don't mind posting your StructureDefinition and version your running it against (DSTU2 or current build) I can redo the check here.</p>



<a name="153858185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153858185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153858185">(Nov 23 2016 at 05:32)</a>:</h4>
<p>my apologies that validation isn't working well at the moment. The spec is rolling over so quickly as the milestone approaches that I can't always keep everything working</p>



<a name="153885994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153885994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153885994">(Apr 25 2017 at 18:03)</a>:</h4>
<p>Just started trying out the profile validation in HAPI (using HL7OrgDSTU2) and noticed a couple of issues<br>
1. Even though I provide a complete expansion of a valueset (using IValidationSupport.expandValueSet), the default ValueSetExpanderFactory implementation limits to 500 codes. This returns a ETooCostly with a ValueSetChecker which triggers the costly expansion again. Using HAPI's FHIRContext based validator, there is no way to explicitly set a different ValueSetExpanderFactory (its possible using the RI's InstanceValidator class)<br>
The IValidationSupport interface should ideally provide both options of expanding a valueset(ValueSet/$expand) and validating a code against a valueset (ValueSet/$validate-code). Users can choose which interface they want to implement<br>
2. The default ValueSetExpanderSimple does not handle multiple filters for compose.include or compose.exclude. Quoting the comment "// need to and them, and this isn't done yet. But this shouldn't arise in non loinc and snomed value sets" <br>
However, Encounter-reason is an example with multiple include filters and there may be others as well.<br>
3. RI's InstanceValidator routinely gives messages such as "Binding for path /f:Encounter/f:reason/f:coding has no source, so can't be checked". In this case, its trying the validate the Coding field within the CodeableConcept. The CodeableConcept has a valueset binding but the Coding does not. I dont really think that it makes sense to validate the Coding within CodeableConcept and should just be validating the CodeableConcept as a whole (which it seems to do anyway). </p>



<a name="153886020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886020">(Apr 25 2017 at 21:09)</a>:</h4>
<p>1. <span class="user-mention" data-user-id="191319">@James Agnew</span> I don't know why it's using expand? I don't think it's from my code?<br>
2. Encounter Reason has multiple includes, not multiple filters on a single include. Are you actually having a problem with this?<br>
3. I'll haev to fix that</p>



<a name="153886066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886066">(Apr 26 2017 at 04:16)</a>:</h4>
<p>More issues with DSTU2 profile validation and this one is with RI's Validator itself.<br>
I had created a Patient resource claiming to conform to DAF but with a wrong code for us-core-race according to its valueset binding. (system: <a href="http://hl7.org/fhir/v3/Race" target="_blank" title="http://hl7.org/fhir/v3/Race">http://hl7.org/fhir/v3/Race</a>, code: 1010-8 is not part of the required valueset binding for us-core-race (<a href="http://hl7.org/fhir/dstu2/daf/valueset-daf-race.html" target="_blank" title="http://hl7.org/fhir/dstu2/daf/valueset-daf-race.html">http://hl7.org/fhir/dstu2/daf/valueset-daf-race.html</a>)<br>
I assumed the valueset validation to fail given the wrong code in use but nothing of that sort happened. The output is identical whether using HAPI or RI and the RI output is given below.</p>
<div class="codehilite"><pre><span></span>java -jar org.hl7.fhir.validator.jar daf1.json -defn validation-min.xml.zip -profile http://hl7.org/fhir/StructureDefinition/daf-patient
  .. load definitions from validation-min.xml.zip
  .. connect to terminology server http://fhir2.healthintersections.com.au/open
  .. load profile http://hl7.org/fhir/StructureDefinition/daf-patient
  .. load daf1.json
  .. validate (json)
Validating daf1.json: 2 messages
ERROR @  Element &#39;.identifier&#39;: minimum required = 1, but only found 0 (src = InstanceValidator)
ERROR @  Element &#39;.identifier&#39;: minimum required = 1, but only found 0 (src = InstanceValidator)
 ...failure
</pre></div>



<a name="153886067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886067">(Apr 26 2017 at 04:17)</a>:</h4>
<p>The wrong resource in question</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;Patient&quot;,
  &quot;meta&quot;: {
    &quot;profile&quot;: [
      &quot;http://hl7.org/fhir/StructureDefinition/daf-patient&quot;
    ]
  },
  &quot;extension&quot;: [
    {
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/us-core-race&quot;,
      &quot;valueCodeableConcept&quot;: {
        &quot;coding&quot;: [
          {
            &quot;system&quot;: &quot;http://hl7.org/fhir/v3/Race&quot;,
            &quot;code&quot;: &quot;1010-8&quot;
          }
        ]
      }
    }
  ],
  &quot;name&quot;: [
    {
      &quot;family&quot;: [
        &quot;Chiguren&quot;
      ],
      &quot;given&quot;: [
        &quot;John&quot;
      ]
    }
  ]
}
</pre></div>



<a name="153886069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886069">(Apr 26 2017 at 04:19)</a>:</h4>
<p>The validator.zip and the validation-min.xml.zip are both from DSTU2 <br>
<a href="http://hl7.org/fhir/dstu2/validation-min.xml.zip" target="_blank" title="http://hl7.org/fhir/dstu2/validation-min.xml.zip">http://hl7.org/fhir/dstu2/validation-min.xml.zip</a><br>
<a href="http://hl7.org/fhir/dstu2/validator.zip" target="_blank" title="http://hl7.org/fhir/dstu2/validator.zip">http://hl7.org/fhir/dstu2/validator.zip</a></p>



<a name="153886070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886070">(Apr 26 2017 at 04:24)</a>:</h4>
<p>I am sure that I am missing something as I dont believe that such a basic use case fails in the RI. Any help is really appreciated.</p>



<a name="153886216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886216">(Apr 26 2017 at 18:00)</a>:</h4>
<p>Never mind, I got my answer. There is no implementation to check the validity of the extension content in DSTU2. (InstanceValidator.java:389, no code after the helpful comment :-) )<br>
Its there in STU3 and now I have to maintain my own copy of DSTU2's InstanceValidator with this and other changes.</p>



<a name="153886238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886238">(Apr 26 2017 at 23:44)</a>:</h4>
<p>You can (and should) use the most recent CI build validator whether you're validating STU 2, STU 3 or "current" resources.</p>



<a name="153886263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886263">(Apr 27 2017 at 03:30)</a>:</h4>
<p>May be I misunderstood you, but even the latest DSTU2 validator at <a href="https://github.com/hl7-fhir/fhir-svn/blob/master/implementations/java/org.hl7.fhir.validation/src/org/hl7/fhir/dstu2/validation/InstanceValidator.java#L620" target="_blank" title="https://github.com/hl7-fhir/fhir-svn/blob/master/implementations/java/org.hl7.fhir.validation/src/org/hl7/fhir/dstu2/validation/InstanceValidator.java#L620">https://github.com/hl7-fhir/fhir-svn/blob/master/implementations/java/org.hl7.fhir.validation/src/org/hl7/fhir/dstu2/validation/InstanceValidator.java#L620</a> doesnt have the validation of extension content. Should I check some other place instead? Thanks</p>



<a name="153886264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886264">(Apr 27 2017 at 03:58)</a>:</h4>
<p>The current validator jar is at <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a>.  The current code is at <a href="http://gforge.hl7.org/svn/fhir/trunk/build" target="_blank" title="http://gforge.hl7.org/svn/fhir/trunk/build">http://gforge.hl7.org/svn/fhir/trunk/build</a>.  Not sure what's hosted at github . . .</p>



<a name="153886510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886510">(May 01 2017 at 03:35)</a>:</h4>
<p>the code you are referring to is orphaned and on the way out. The current validator can validate R2 resources and you should use that </p>



<a name="153886595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886595">(May 01 2017 at 21:03)</a>:</h4>
<p>I had downloaded the validator from <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">http://build.fhir.org</a> but that only seems to support validation from FHIR 1.4.0. I am looking to validate DSTU2 resources conforming to 1.0.2</p>



<a name="153886628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886628">(May 01 2017 at 23:00)</a>:</h4>
<p>I tried it as well and was not able to validate dstu2 instance using the latest validator.  ( the DSTU2 validator works though)  here is my error:...</p>



<a name="153886629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886629">(May 01 2017 at 23:01)</a>:</h4>
<p>Erics-Air-2:Argo-DSTU2 ehaas$ bash <a href="http://validate2.sh" target="_blank" title="http://validate2.sh">validate2.sh</a><br>
=========================================================================<br>
======= Validate Argo-DQ(DSTU2) IG! Mon May 1 22:58:55 UTC 2017 =========<br>
=========================================================================<br>
Type the file name of the resource that you want to check:<br>
23.xml<br>
validating /Users/ehaas/Documents/FHIR/Argo-DSTU2/examples/23.xml...<br>
  .. load FHIR from /Users/ehaas/Downloads/validation.xml.zip<br>
  .. connect to tx server @ <a href="http://fhir2.healthintersections.com.au" target="_blank" title="http://fhir2.healthintersections.com.au">http://fhir2.healthintersections.com.au</a><br>
Exception in thread "main" org.hl7.fhir.exceptions.FHIRFormatError: Error parsing extension-definitions.xml:Unknown Content display @  START_TAG seen ...t was discovered"/&gt;\n        &lt;display value="discovery date time"/&gt;... @16:47<br>
    at org.hl7.fhir.r4.context.SimpleWorkerContext.loadFromFile(SimpleWorkerContext.java:176)<br>
    at org.hl7.fhir.r4.context.SimpleWorkerContext.loadDefinitionItem(SimpleWorkerContext.java:149)<br>
    at org.hl7.fhir.r4.context.SimpleWorkerContext.fromDefinitions(SimpleWorkerContext.java:142)<br>
    at org.hl7.fhir.r4.validation.ValidationEngine.loadDefinitions(ValidationEngine.java:176)<br>
    at org.hl7.fhir.r4.validation.ValidationEngine.&lt;init&gt;(ValidationEngine.java:170)<br>
    at org.hl7.fhir.r4.validation.Validator.main(Validator.java:232)<br>
Caused by: org.hl7.fhir.exceptions.FHIRFormatError: Unknown Content display @  START_TAG seen ...t was discovered"/&gt;\n        &lt;display value="discovery date ti</p>



<a name="153886631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153886631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153886631">(May 01 2017 at 23:08)</a>:</h4>
<p>I got this error when I was using DSTU2 definitions with the latest validator. I had been trying numerous combinations of DSTU2/STU3/Current definitions and different versions of Terminology services (<a href="http://tx.fhir.org/r2" target="_blank" title="http://tx.fhir.org/r2">http://tx.fhir.org/r2</a> or <a href="http://tx.fhir.org/r3" target="_blank" title="http://tx.fhir.org/r3">http://tx.fhir.org/r3</a>) and nothing works for validating DSTU2 resources</p>



<a name="153887099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153887099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153887099">(May 04 2017 at 15:21)</a>:</h4>
<p>Where's the source code for the 'official' validator found at <a href="https://www.hl7.org/fhir/downloads.html" target="_blank" title="https://www.hl7.org/fhir/downloads.html">https://www.hl7.org/fhir/downloads.html</a>? </p>



<a name="153887100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153887100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153887100">(May 04 2017 at 15:22)</a>:</h4>
<p>is it publicly available or do I have to decompile it?</p>



<a name="153887103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153887103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153887103">(May 04 2017 at 15:26)</a>:</h4>
<p>it's in the fhir svn</p>



<a name="153887104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153887104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153887104">(May 04 2017 at 15:26)</a>:</h4>
<p>use the current build</p>



<a name="153887105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153887105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153887105">(May 04 2017 at 15:29)</a>:</h4>
<p>svn ... dat shit's ol'skool ;)</p>



<a name="153887117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153887117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153887117">(May 04 2017 at 16:10)</a>:</h4>
<p>found it. thx</p>



<a name="153889924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153889924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153889924">(May 15 2017 at 16:53)</a>:</h4>
<p>The recent commit (on May 1) into RI from Grahame Grieve fixes many of the issues with validating DSTU2 resources.  Thanks a lot. <br>
<span class="user-mention" data-user-id="191319">@James Agnew</span> will these changes make it into HAPI soon?</p>



<a name="153890004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153890004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153890004">(May 16 2017 at 06:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Even with the latest validator, invariant checking is not working for DSTU2 resources. For example, the below resource should have failed the constraint on Patient.contact but it doesnt report any errors.</p>
<div class="codehilite"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Patient xmlns=&quot;http://hl7.org/fhir&quot;&gt;
  &lt;identifier&gt;
    &lt;system value=&quot;http://acme.org/mrns&quot;/&gt;
    &lt;value value=&quot;3274832784&quot;/&gt;
  &lt;/identifier&gt;
  &lt;name&gt;
    &lt;family value=&quot;Cousin&quot;/&gt;
    &lt;given value=&quot;Peter&quot;/&gt;
  &lt;/name&gt;
  &lt;contact&gt;
    &lt;relationship&gt;
      &lt;coding&gt;
        &lt;system value=&quot;http://hl7.org/fhir/patient-contact-relationship&quot;/&gt;
        &lt;code value=&quot;friend&quot;/&gt;
      &lt;/coding&gt;
    &lt;/relationship&gt;
  &lt;/contact&gt;
&lt;/Patient&gt;
</pre></div>



<a name="153903380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pranitha Sruthi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903380">(Aug 23 2017 at 10:40)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  when I am trying to validate a profile on <a href="http://test.fhir.org/r3" target="_blank" title="http://test.fhir.org/r3">http://test.fhir.org/r3</a>, some errors are getting displayed as in the screenshot below.<a href="/user_uploads/10155/0gGsDLSgDTVMKTnEgVe7fQCr/validation-error.PNG" target="_blank" title="validation-error.PNG">validation-error.PNG</a>  How can I fix the errors? Thank you</p>
<div class="message_inline_image"><a href="/user_uploads/10155/0gGsDLSgDTVMKTnEgVe7fQCr/validation-error.PNG" target="_blank" title="validation-error.PNG"><img src="/user_uploads/10155/0gGsDLSgDTVMKTnEgVe7fQCr/validation-error.PNG"></a></div>



<a name="153903402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903402">(Aug 23 2017 at 13:28)</a>:</h4>
<p>hmm. slice errors - probably my server is the problem; it's a bit behind the java validator which is the gold standard</p>



<a name="153903479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mounika <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903479">(Aug 24 2017 at 05:34)</a>:</h4>
<p>Hi all, I am creating a new profile based on my requirements. So how do we know newly created profile is valid or not. Can anyone tell me. Thank you.</p>



<a name="153903485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903485">(Aug 24 2017 at 06:43)</a>:</h4>
<p>if the IG publisher doesn't give you any errors, then you don't have any errors we know how to detect</p>



<a name="153903486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903486">(Aug 24 2017 at 07:11)</a>:</h4>
<p>(deleted)</p>



<a name="153903493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mounika <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903493">(Aug 24 2017 at 10:15)</a>:</h4>
<p><a href="https://www.hl7.org/fhir/validation.html" target="_blank" title="https://www.hl7.org/fhir/validation.html">https://www.hl7.org/fhir/validation.html</a>  In this documation given how to validate the examples But not given How to validate the profiles. Can't we validate the profile before ig publishing?</p>



<a name="153903495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903495">(Aug 24 2017 at 10:28)</a>:</h4>
<p>(deleted)</p>



<a name="153903527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Haseeb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903527">(Aug 24 2017 at 11:30)</a>:</h4>
<p>Hi,<br>
I have created a profile MyPatient and have created an extension in MyPatient called clinicalTrial. This is one of the Extensions that come with the Patient profile. When I try to validate MyPaitent Profile using Simplifier I get following errors: <br>
1. Element must not be empty<br>
Location: StructureDefinition.meta[0]<br>
2. Instance failed constraint sdf-20 "No slicing on the root element"<br>
Location: StructureDefinition.differential[0]<br>
3. Instance failed constraint sdf-14 "All element definitions must have an id"<br>
Location: StructureDefinition</p>
<p>Can someone please point me to a solution for this.  Thanks for your help.</p>



<a name="153903533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903533">(Aug 24 2017 at 11:37)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194144">@Haseeb</span>, these warnings are caused by separate issues:<br>
1) Unclear; does the profile specify any constraints on the .meta element?<br>
2) sdf-20 - the fhirpath expression in the core spec is incorrect, I've recently submitted a tracker issue to gForge about this.<br>
3) Forge forgets to generate an element id for the extension slicing entry. This will be fixed in the next release.</p>



<a name="153903543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Haseeb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903543">(Aug 24 2017 at 11:49)</a>:</h4>
<p>Hi @<strong>Michel</strong>  Thanks for your quick response.<br>
For the first error message, from looking at the Profile, Location meta[0] is 'extension'. I did not change anything except adding the extension in the base Patient resource. I did not explicitly change the metadata.<br>
For second and third error message, what would you suggest for the workaround. I did notice that no element id is generated but the field is not editable in Forge.<br>
Thanks for your help.</p>



<a name="153903545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903545">(Aug 24 2017 at 12:00)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194144">@Haseeb</span>, you can safely ignore warning (2), as this needs to be fixed in the spec.<br>
You currently cannot fix the missing element id from within Forge (but you could fix it manually). I've already fixed the issue in the internal development branch, the fix will be included in the next release.</p>



<a name="153903546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903546">(Aug 24 2017 at 12:00)</a>:</h4>
<p>Not sure about the first warning, but it is probably related to the other ones.</p>



<a name="153903607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903607">(Aug 24 2017 at 18:14)</a>:</h4>
<p>for validating  profiles validate against StructureDefinition.... Is that what you are asking?  you can do that prior to ig publishing.    a profile is the same as an example - an instance of a resource.  in this case StructureDefinition</p>



<a name="153903671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Haseeb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903671">(Aug 25 2017 at 09:14)</a>:</h4>
<p>Hi @<strong>Michel</strong> Thanks for looking into these issues. I fixed the element id manually and then validated the profile using the Java validator i.e. org.hl7.fhir.validator.jar I got only one error which is the slicing issue and which you said I can safely ignore:<br>
<em>FAILURE</em> validating C:\Users\haseeb\Documents\StructureDefinitions\MyPatient.structuredefinition.xml:  error:1 warn:0 info:0<br>
  Error @ StructureDefinition.differential (line 17, col17) : No slicing on the root element [element.first().slicing.empty()]</p>
<p>Now that when I publish my profile on Simplifier and also to my vonk FHIR server on my machine and try to POST a patient json including the extension in it I get 400 Bad Request error:<br>
  "issue": [<br>
        {<br>
            "severity": "fatal",<br>
            "code": "exception",<br>
            "details": {<br>
                "coding": [<br>
                    {<br>
                        "system": "<a href="http://hl7.org/fhir/dotnet-api-operation-outcome" target="_blank" title="http://hl7.org/fhir/dotnet-api-operation-outcome">http://hl7.org/fhir/dotnet-api-operation-outcome</a>",<br>
                        "code": "5003"<br>
                    }<br>
                ],<br>
                "text": "Resource to create could not be parsed."<br>
            }<br>
        },<br>
        {<br>
            "code": "not-supported",<br>
            "details": {<br>
                "coding": [<br>
                    {<br>
                        "code": "not handled"<br>
                    }<br>
                ],<br>
                "text": "/Patient"<br>
            },<br>
            "diagnostics": ""<br>
        }</p>
<p>I did also publish the profile on <a href="https://sb-fhir-stu3.smarthealthit.org/smartstu3/open" target="_blank" title="https://sb-fhir-stu3.smarthealthit.org/smartstu3/open">https://sb-fhir-stu3.smarthealthit.org/smartstu3/open</a> and POSTed a patient json including the clinicalTrial extension, the Patient gets created but the server conveniently ignore the extension.  I have spent some time investigating why its not accepting the updated Patient but I have no way of confirming whether my approach is wrong or there is issue with the created profile.</p>
<p>Thanks for your help.<br>
Haseeb</p>



<a name="153903680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903680">(Aug 25 2017 at 10:46)</a>:</h4>
<p>You can get rid of the error in your profile with this workaround in Forge:</p>
<ul>
<li>in the options menu, select the "show common resource elements"</li>
<li>in your profile, edit the 'id' element by adding a space to the description</li>
<li>save the profile, it will now validate correctly</li>
</ul>
<p>The issue you're having with posting a patient to the server seems to be with wrong data. Can you check if your syntax is correct and you're sending a valid Patient?</p>



<a name="153903698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Haseeb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903698">(Aug 25 2017 at 11:04)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191347">@Mirjam Baltus</span> I am going to make the changes and let you know how I get on.</p>



<a name="153903713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903713">(Aug 25 2017 at 11:51)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194144">@Haseeb</span>, the incorrect invariant sdf-20 currently complains if the <em>first</em> element in the differential has a sliceName. I've already submitted a tracker issue to gForge about this.<br>
As a workaround for the current FHIR release, to prevent the validation message, make sure that the first actual constraint in your profile is on an element without a sliceName. For example, add a dummy comment to the root element. This should prevent sdf-20 from being triggered.</p>



<a name="153903741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Haseeb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903741">(Aug 25 2017 at 15:17)</a>:</h4>
<p>Hi @<strong>Mirjam</strong> and @<strong>Michel</strong>, Thanks for your help. I have been able to get my profile with Extension validated and then created a patient using this profile in my vonk instance. I'll be creating a good few profiles to map our workflow in coming days but its a big relief to be able to get it working. Thanks again :)</p>



<a name="153903743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903743">(Aug 25 2017 at 15:23)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194144">@Haseeb</span>, you're welcome! I'm happy to see that you're up and running.</p>



<a name="153903798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pranitha Sruthi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903798">(Aug 28 2017 at 04:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  then how can I validate a profile?</p>



<a name="153903854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153903854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153903854">(Aug 28 2017 at 15:15)</a>:</h4>
<p>First, read through this whole thread.  If you have further questions, ask them about specifics already discussed here.</p>



<a name="153909108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153909108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153909108">(Sep 19 2017 at 19:07)</a>:</h4>
<p>Stupid Question: Are there any xpath to fhirpath expression conversions available? We are currently using the R4 validator to validate DSTU2 resources and its working fine except for the invariant validation. We would like to get validation of invariants working.</p>



<a name="153909122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153909122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153909122">(Sep 19 2017 at 20:51)</a>:</h4>
<p>the validator should evaluate the xpaths in that circumstance</p>



<a name="153909780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153909780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153909780">(Sep 21 2017 at 19:49)</a>:</h4>
<p>It doesn't seem to do that, there is a check to see if the constraint has expression and only validates if it has an expression in InstanceValidator#checkInvariants</p>



<a name="153912837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153912837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153912837">(Oct 06 2017 at 13:17)</a>:</h4>
<p>any chance that the validator tool could be hosted on github and not just as a mirror ... - it would make it easier to make contributions that way and report bugs</p>



<a name="153912864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153912864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153912864">(Oct 06 2017 at 18:06)</a>:</h4>
<p>"not just as a mirror"?</p>



<a name="153913012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913012">(Oct 09 2017 at 07:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> are you saying that you'll look into pr's done on github? If that's the case, that is awesome</p>



<a name="153913056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913056">(Oct 09 2017 at 09:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> Ewout also publishes a stand-alone .NET profile validation tool on github:<br>
<a href="https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo" target="_blank" title="https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo">https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo</a></p>



<a name="153913057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913057">(Oct 09 2017 at 09:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> - is it still maintained?</p>



<a name="153913058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913058">(Oct 09 2017 at 09:04)</a>:</h4>
<p>Sure! Just make sure to fetch the latest .NET API library packages from NuGet.</p>



<a name="153913059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913059">(Oct 09 2017 at 09:05)</a>:</h4>
<p>+1</p>



<a name="153913060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913060">(Oct 09 2017 at 09:05)</a>:</h4>
<p>And of course, Ewout actively maintains the .NET validator.</p>



<a name="153913069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913069">(Oct 09 2017 at 09:21)</a>:</h4>
<p><a href="https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo" target="_blank" title="https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo">https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo</a> seems like there are couple of missing imports</p>



<a name="153913072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913072">(Oct 09 2017 at 09:24)</a>:</h4>
<p>Which branch? I think you should try develop-stu3.</p>



<a name="153913074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913074">(Oct 09 2017 at 09:24)</a>:</h4>
<p>my bad ... I did the master</p>



<a name="153913075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913075">(Oct 09 2017 at 09:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> I didn't say anything yet - I was just asking what you meant</p>



<a name="153913077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913077">(Oct 09 2017 at 09:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I was asking if the svn repo on git is mainly for reading and writing, or only for reading.</p>



<a name="153913078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913078">(Oct 09 2017 at 09:50)</a>:</h4>
<p>it's only to support git based tooling. so read only</p>



<a name="153913089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913089">(Oct 09 2017 at 11:36)</a>:</h4>
<p>FYI - trying out 3 different resource validators yields 3 different results. Example can be found at <a href="https://simplifier.net/eSundhed2017Hackatho/Observation-example/~json#json" target="_blank" title="https://simplifier.net/eSundhed2017Hackatho/Observation-example/~json#json">https://simplifier.net/eSundhed2017Hackatho/Observation-example/~json#json</a></p>
<p>Using the validator hosted on Simplifier validates against the uploaded profiles (which is nice) hosted at simplfier and reports: <strong>no issues</strong></p>
<p>Using the official fhir validator (<a href="http://build.fhir.org/validator.zip" target="_blank" title="http://build.fhir.org/validator.zip">http://build.fhir.org/validator.zip</a>) yields two warnings: <strong>(Unable to find definition for discriminator code.coding.code) and two info's (due to lack of slicing validation)</strong></p>
<p>Using the HAPI validator yields one error: <strong>(obs-7: If code is the same as a component code then the value element associated with the code SHALL NOT be present)</strong></p>
<ul>
<li>no one said writing validators is an easy task <img alt=":simple_smile:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f642.png" title=":simple_smile:"></li>
</ul>



<a name="153913095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913095">(Oct 09 2017 at 12:18)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191427">@Jens Villadsen</span>, did you analyze the different outputs to determine which of the conflicting warning messages are (in)correct?</p>



<a name="153913110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913110">(Oct 09 2017 at 13:03)</a>:</h4>
<p>The .NET tool here here ( <a href="http://clarotech.co.uk/Products/TinderBox" target="_blank" title="http://clarotech.co.uk/Products/TinderBox">http://clarotech.co.uk/Products/TinderBox</a> ) might be of use - this validates Bundles. There is a another tool that will be added to the site later this week that validates standalone resources. Both of these tools get their validation processes from the .NET Validator</p>



<a name="153913120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913120">(Oct 09 2017 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191362">@Richard Kavanagh</span> not really possible to try it out. Seems like the link is dead <a href="http://clarotech.co.uk/apps/TinderBoxSTU3/publish.htm" target="_blank" title="http://clarotech.co.uk/apps/TinderBoxSTU3/publish.htm">http://clarotech.co.uk/apps/TinderBoxSTU3/publish.htm</a></p>



<a name="153913126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913126">(Oct 09 2017 at 14:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191362">@Richard Kavanagh</span> <a href="/user_uploads/10155/VPb94VKfd1gYmd3UUuo8MSPm/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/VPb94VKfd1gYmd3UUuo8MSPm/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/VPb94VKfd1gYmd3UUuo8MSPm/pasted_image.png"></a></div>



<a name="153913128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913128">(Oct 09 2017 at 14:01)</a>:</h4>
<p>Apologies - looks like the latest version has not been posted to the server. Will get that fixed shortly.</p>



<a name="153913157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913157">(Oct 09 2017 at 14:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> - 2 questions regarding the logic of the validator that ships with hapi:<br>
1) The errorcode when validating this <a href="https://simplifier.net/eSundhed2017Hackatho/Observation-example" target="_blank" title="https://simplifier.net/eSundhed2017Hackatho/Observation-example">example</a><br>
<em>Message=obs-7: If code is the same as a component code then the value element associated with the code SHALL NOT be present</em><br>
I can't see that the code is the same as the component code. How come they are interpreted as the same?</p>
<p>2) This is probably more targeted at the standard, but <em>then the value element associated with the code</em> - which code does it relate to? The Observation.code or the Observation.component.code?</p>



<a name="153913162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913162">(Oct 09 2017 at 14:48)</a>:</h4>
<p>2) good question! I assumed that obs-7 is targeting Observation.code, but I agree that the description could be improved.</p>



<a name="153913183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913183">(Oct 09 2017 at 21:38)</a>:</h4>
<p>For info the download at <a href="http://clarotech.co.uk/apps/TinderBoxSTU3" target="_blank" title="http://clarotech.co.uk/apps/TinderBoxSTU3">http://clarotech.co.uk/apps/TinderBoxSTU3</a> should now be working</p>



<a name="153913184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913184">(Oct 09 2017 at 21:38)</a>:</h4>
<p>It doesn't</p>



<a name="153913185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913185">(Oct 09 2017 at 21:40)</a>:</h4>
<p>I'll get there in the end. Follow the download link from here... <a href="http://clarotech.co.uk/Products/TinderBox" target="_blank" title="http://clarotech.co.uk/Products/TinderBox">http://clarotech.co.uk/Products/TinderBox</a></p>



<a name="153913186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913186">(Oct 09 2017 at 21:42)</a>:</h4>
<p>This link works: <a href="http://clarotech.co.uk/apps/TinderBox%20v2.1.2%20STU3.zip" target="_blank" title="http://clarotech.co.uk/apps/TinderBox%20v2.1.2%20STU3.zip">http://clarotech.co.uk/apps/TinderBox%20v2.1.2%20STU3.zip</a></p>



<a name="153913187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913187">(Oct 09 2017 at 21:43)</a>:</h4>
<p>But curl never lies: <br>
curl <a href="http://clarotech.co.uk/apps/TinderBoxSTU3" target="_blank" title="http://clarotech.co.uk/apps/TinderBoxSTU3">http://clarotech.co.uk/apps/TinderBoxSTU3</a> | grep "Error"<br>
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current<br>
                                 Dload  Upload   Total   Spent    Left  Speed<br>
100  1024    0  1024    0     0   2293      0 --:--:-- --:--:-- --:--:--  2290    &lt;title&gt;ClaroTech - Error&lt;/title&gt;<br>
100  8252    0  8252    0     0  13353      0 --:--:-- --:--:-- --:--:-- 13352</p>



<a name="153913188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913188">(Oct 09 2017 at 21:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191362">@Richard Kavanagh</span> hate to say it but Tinderbox seems to contain some bugs</p>



<a name="153913190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913190">(Oct 09 2017 at 21:47)</a>:</h4>
<p>That's clearly possible  - what did you find?</p>



<a name="153913191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913191">(Oct 09 2017 at 21:48)</a>:</h4>
<p>it crashed</p>



<a name="153913192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913192">(Oct 09 2017 at 21:48)</a>:</h4>
<p>twice</p>



<a name="153913193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913193">(Oct 09 2017 at 21:49)</a>:</h4>
<p>Ouch! - Can you share the file you were attempting to open?</p>



<a name="153913194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913194">(Oct 09 2017 at 21:49)</a>:</h4>
<p>Didn't get that far</p>



<a name="153913195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913195">(Oct 09 2017 at 21:50)</a>:</h4>
<p>go to settings, press browse and then press cancel</p>



<a name="153913196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913196">(Oct 09 2017 at 21:52)</a>:</h4>
<p>Yep _ I can recreate that...</p>



<a name="153913198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913198">(Oct 09 2017 at 21:54)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> - 2 questions regarding the logic of the validator that ships with hapi:<br>
1) The errorcode when validating this <a href="https://simplifier.net/eSundhed2017Hackatho/Observation-example" target="_blank" title="https://simplifier.net/eSundhed2017Hackatho/Observation-example">example</a><br>
<em>Message=obs-7: If code is the same as a component code then the value element associated with the code SHALL NOT be present</em><br>
I can't see that the code is the same as the component code. How come they are interpreted as the same?</p>
<p>2) This is probably more targeted at the standard, but <em>then the value element associated with the code</em> - which code does it relate to? The Observation.code or the Observation.component.code?</p>
</blockquote>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Would you agree that the sentence in 2) could/should be less ambiguous stated</p>



<a name="153913199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913199">(Oct 09 2017 at 22:22)</a>:</h4>
<blockquote>
<p>Hi <span class="user-mention" data-user-id="191427">@Jens Villadsen</span>, did you analyze the different outputs to determine which of the conflicting warning messages are (in)correct?</p>
</blockquote>
<p><a href="https://github.com/jamesagnew/hapi-fhir/issues/654" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/654">https://github.com/jamesagnew/hapi-fhir/issues/654</a> - meaning that HAPI has a known issue</p>



<a name="153913200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913200">(Oct 09 2017 at 22:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span></p>



<a name="153913202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913202">(Oct 09 2017 at 22:31)</a>:</h4>
<p>and <span class="user-mention" data-user-id="191336">@Michel Rutten</span> , the simplifier validator does <strong>not</strong> catch obs-7. If you state the <em>same</em> code in Observation.code as in Observation.component.code, where <em>same</em> means that both codes have the same coding (including coding.system and coding.code) - I guess that is what is meant by <em>same</em></p>



<a name="153913229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913229">(Oct 10 2017 at 08:13)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191427">@Jens Villadsen</span>, thank you for reporting, I've submitted the issue to Ewout'sFHIR  API repository on github:<br>
<a href="https://github.com/ewoutkramer/fhir-net-api/issues/435" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api/issues/435">https://github.com/ewoutkramer/fhir-net-api/issues/435</a></p>



<a name="153913257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153913257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153913257">(Oct 10 2017 at 11:07)</a>:</h4>
<p>sure</p>



<a name="153914021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914021">(Oct 16 2017 at 07:59)</a>:</h4>
<p>Obs-7 uses "!=", where equivalence in the Fhirpath spec is defined to be "For complex types, equality requires all child properties to be equal, recursively." So, you are in fact comparing Obs.code to everything in the combined collection of Obs.component.code (since component may repeat) - making Obs.code != Obs.component.code almost a tautology - and obs-7 will probably almost always be true.</p>



<a name="153914136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914136">(Oct 16 2017 at 18:25)</a>:</h4>
<p>What is the fix - the intent is to not have identical code-value pairs in the root and in component.</p>



<a name="153914143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914143">(Oct 16 2017 at 18:44)</a>:</h4>
<p>I think we need to use the "in" operation.  Something like   Obs.code.in(Obs.component.code).not().  The reason I am cautious to say this is "the" solution, is that the "in" operation uses "equality" semantics - which means the Codeableconcepts needs to be exactly the same in both, which is probably not what we want.  Rather ANY of the codes in Obs.code, so maybe even:</p>
<p>Obs.code.coding.any($this in Obs.component.code.coding).not()</p>



<a name="153914202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914202">(Oct 16 2017 at 22:20)</a>:</h4>
<p>In CQL, membership operators use "equivalent" (<code>~</code>) semantics, rather than "equality" semantics. And we also just relaxed "equivalent" for Codes to compare only code and version, and equivalent for Concept is defined as the intersection of codes is not empty.</p>



<a name="153914204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914204">(Oct 16 2017 at 22:22)</a>:</h4>
<p>So that would be <code>Obs.component.code.where($this ~ Obs.code).empty()</code></p>



<a name="153914219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914219">(Oct 16 2017 at 23:01)</a>:</h4>
<p>I hope you mean code and system</p>



<a name="153914221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> venkateswarlu <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914221">(Oct 16 2017 at 23:03)</a>:</h4>
<p>just implemeting rest full webservices</p>



<a name="153914351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914351">(Oct 17 2017 at 07:34)</a>:</h4>
<blockquote>
<p>In CQL, membership operators use "equivalent" (<code>~</code>) semantics, rather than "equality" semantics. And we also just relaxed "equivalent" for Codes to compare only code and version, and equivalent for Concept is defined as the intersection of codes is not empty.</p>
</blockquote>
<p>So, the language-dependent appendices of the FHIRPath spec should start talking about what equivalence and equality means for specific types?</p>
<p>For the short term - obs-7 would already benefit from what you have done above I guess, which still means even display needs to correspond for this rule to fire...but it's better than what we have now...</p>



<a name="153914441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914441">(Oct 17 2017 at 15:11)</a>:</h4>
<p>Since none of the above seem to work as intended  what about this:</p>
<p><code>Observation.component.code.where( (coding.code = Observation.code.coding.code) and (coding.system = Observation.code.coding.system)).empty()</code></p>
<p>code = A<br>
c.code = A<br>
empty = false</p>
<p>code = A<br>
c.code = B<br>
empty = true</p>
<p>code = A<br>
c.code = empty<br>
empty = true</p>



<a name="153914472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914472">(Oct 17 2017 at 17:18)</a>:</h4>
<p>I just updated the xpath for this invariant  as well:</p>
<p><code>not(exists(f:*[starts-with(local-name(.), 'value')]) and exists(for $coding in f:code/f:coding return f:component/f:code/f:coding[f:code/@value=$coding/f:code/@value and f:system/@value=$coding/f:system/@value]))</code></p>



<a name="153914473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914473">(Oct 17 2017 at 17:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191375">@Alexander Henket</span>  and <span class="user-mention" data-user-id="191918">@Sarah Gaunt</span>   you both  posted Gforges on it so take look at it when you get a chance.</p>



<a name="153914575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914575">(Oct 18 2017 at 07:48)</a>:</h4>
<p>Checked it and all seems in order to me. Taste wise I'd probably stay away from too many and/or and put the final X and Y bit in separate predicates but if it works it works. Thanks!</p>



<a name="153914576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914576">(Oct 18 2017 at 07:51)</a>:</h4>
<p>O and that's a general thing for most invariants in FHIR: the exists() function is not required for testing presence of node(). When you say not(node()) it is exactly the same as not(exists(node())). You just use more characters to say it.</p>



<a name="153914675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914675">(Oct 18 2017 at 17:05)</a>:</h4>
<p>OK thanks for the tips:  updated to...</p>
<p><code>not(f:*[starts-with(local-name(.), 'value')] and (for $coding in f:code/f:coding return f:component/f:code/f:coding[f:code/@value=$coding/f:code/@value] [f:system/@value=$coding/f:system/@value]))</code></p>



<a name="153914711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914711">(Oct 18 2017 at 17:32)</a>:</h4>
<blockquote>
<p>So, the language-dependent appendices of the FHIRPath spec should start talking about what equivalence and equality means for specific types?</p>
</blockquote>
<p>I would prefer to see consistent semantics at the base level (FHIRPath), but I understand if that can't be completely aligned. I would suggest that equivalent in FHIRPath for Coding and CodeableConcept be similarly relaxed.</p>



<a name="153914714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914714">(Oct 18 2017 at 17:33)</a>:</h4>
<p>And yes, I meant code, system, and version for code equivalence.</p>



<a name="153914717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914717">(Oct 18 2017 at 17:34)</a>:</h4>
<p>We relaxed it to just code and system, so that the same code would compare equivalent across versions.</p>



<a name="153914818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914818">(Oct 19 2017 at 08:07)</a>:</h4>
<p><span class="user-mention" data-user-email="bryn@databaseconsultinggroup.com" data-user-id="53">@Bryn Rhodes</span>, I agree - just double checking ;-)</p>



<a name="153914819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914819">(Oct 19 2017 at 08:08)</a>:</h4>
<blockquote>
<p>Checked it and all seems in order to me. Taste wise I'd probably stay away from too many and/or and put the final X and Y bit in separate predicates but if it works it works. Thanks!</p>
</blockquote>
<p>If I understand it correctly, there is now a tracker item to follow up on this?</p>



<a name="153914885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914885">(Oct 19 2017 at 17:01)</a>:</h4>
<p>that tracker for the xpath was applied.  need one for the fhirpath - but am waiting for the correct or updated expression. do we wait for the new fhirpath equivlence or create a fhirpath using the existing syntax</p>



<a name="153914911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914911">(Oct 19 2017 at 19:18)</a>:</h4>
<p>I've added a tracker for this: <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14065" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14065">GF#14065</a>.</p>



<a name="153914914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153914914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153914914">(Oct 19 2017 at 19:22)</a>:</h4>
<p>Until that FHIRPath change is applied, the expression you provided above <span class="user-mention" data-user-id="191401">@Eric Haas</span> should work.</p>



<a name="153915244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153915244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153915244">(Oct 22 2017 at 20:21)</a>:</h4>
<p>agree it should not be version dependent. That would be consistent with vocab guidance about use of version</p>



<a name="153915260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153915260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153915260">(Oct 22 2017 at 23:49)</a>:</h4>
<p>I tried to apply the fhirpath above only to discover I  can't use <code>component.code.where( (coding.code = Observation.code.coding.code)</code>   realized the context node is component and I can't traverse up the tree in fhirpath.  So am stuck <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14073" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14073">GF#14073</a></p>



<a name="153916788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153916788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153916788">(Oct 30 2017 at 16:31)</a>:</h4>
<p>You can with %resource...</p>



<a name="153916792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153916792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153916792">(Oct 30 2017 at 17:17)</a>:</h4>
<p>ty ....<a href="/user_uploads/10155/4W-Ta_QdIJYhICKsnjlMKFv7/johnny-carson.jpg" target="_blank" title="johnny-carson.jpg">johnny-carson.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/4W-Ta_QdIJYhICKsnjlMKFv7/johnny-carson.jpg" target="_blank" title="johnny-carson.jpg"><img src="/user_uploads/10155/4W-Ta_QdIJYhICKsnjlMKFv7/johnny-carson.jpg"></a></div>



<a name="153918812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153918812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153918812">(Nov 10 2017 at 08:35)</a>:</h4>
<p>%resource goes to the top of the component passed in right?<br>
How does this work when its a bundle with it inside?</p>



<a name="153922657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pranitha Sruthi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922657">(Dec 02 2017 at 07:26)</a>:</h4>
<p>Hi all, please help me fix an exception while validating a profile on command prompt. <a href="/user_uploads/10155/1aHLYaqM98vwUvxH8TH3J0-p/forgeexception.PNG" target="_blank" title="forgeexception.PNG">forgeexception.PNG</a>  Thank you</p>
<div class="message_inline_image"><a href="/user_uploads/10155/1aHLYaqM98vwUvxH8TH3J0-p/forgeexception.PNG" target="_blank" title="forgeexception.PNG"><img src="/user_uploads/10155/1aHLYaqM98vwUvxH8TH3J0-p/forgeexception.PNG"></a></div>



<a name="153922665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922665">(Dec 02 2017 at 14:46)</a>:</h4>
<p>Seems like a firewall issue or some other network difficulty.  The file it's complaining about definitely exists at that URL address</p>



<a name="153922740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pranitha Sruthi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922740">(Dec 04 2017 at 05:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  How can I fix it?</p>



<a name="153922741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922741">(Dec 04 2017 at 05:15)</a>:</h4>
<p>Try running it from a different network environment?  Try browsing to the file it's complaining it can't access within the same network environment just using a browser</p>



<a name="153922742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pranitha Sruthi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922742">(Dec 04 2017 at 06:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I did not understand. Can you  elaborate?</p>



<a name="153922751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Clarissa Fernandes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922751">(Dec 04 2017 at 10:22)</a>:</h4>
<p>Hi I was trying to implement custom structure definition but it is always return true.<br>
Posted the Question <a href="https://groups.google.com/forum/#!topic/hapi-fhir/P-iTqA69mMw" target="_blank" title="https://groups.google.com/forum/#!topic/hapi-fhir/P-iTqA69mMw">https://groups.google.com/forum/#!topic/hapi-fhir/P-iTqA69mMw</a><br>
Can anyone help?</p>



<a name="153922771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922771">(Dec 04 2017 at 14:11)</a>:</h4>
<p><span class="user-mention" data-user-id="193568">@Pranitha Sruthi</span> What happens when you type "<a href="http://build.fhir.org/validator.pack" target="_blank" title="http://build.fhir.org/validator.pack">http://build.fhir.org/validator.pack</a>" into your browser?</p>



<a name="153922772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922772">(Dec 04 2017 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="194442">@Clarissa Fernandes</span> First, patternString doesn't do regex pattern matching.  I'm not actually sure it'll do anything at all right now - pattern is usually used with complex structures.  How does the validator know that your profile applies to your instance?</p>



<a name="153922796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Clarissa Fernandes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922796">(Dec 04 2017 at 16:30)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="194442">@Clarissa Fernandes</span> First, patternString doesn't do regex pattern matching.  I'm not actually sure it'll do anything at all right now - pattern is usually used with complex structures.  How does the validator know that your profile applies to your instance?</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I was trying to use the examples in the hapi-fhir. But there does not seems to be any sample data and profiles.<br>
Could you let me know how i could do custom validation?</p>



<a name="153922807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922807">(Dec 04 2017 at 17:15)</a>:</h4>
<p>HAPI questions are probably best raised on the HAPI thread.  I'm not sure how you make the HAPI validator aware of a new profile or assert that the profile should be enforced.  You could try declaring the profile in the instance.</p>



<a name="153922894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pranitha Sruthi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922894">(Dec 05 2017 at 05:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  The validator.pack is getting downloaded. I have downloaded it again and tried to validate a profile but facing the same problem.</p>



<a name="153922902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922902">(Dec 05 2017 at 06:15)</a>:</h4>
<p>Are you using the most recent validator from <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a></p>



<a name="153922922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profile%20Validation/near/153922922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pranitha Sruthi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profile.20Validation.html#153922922">(Dec 05 2017 at 08:52)</a>:</h4>
<p>I have used the validator from the new version of <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a> and got it fixed. Thank you</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
