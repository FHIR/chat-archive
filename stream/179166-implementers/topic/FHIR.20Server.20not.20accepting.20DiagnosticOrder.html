---
layout: page
title: "FHIR Chat  · FHIR Server not accepting DiagnosticOrder · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html">FHIR Server not accepting DiagnosticOrder</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153824899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Server%20not%20accepting%20DiagnosticOrder/near/153824899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nakamura <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html#153824899">(May 06 2016 at 23:35)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ,</p>
<p>I posted the attached <em>DAF-Diagnostic-Order-Example.xml</em> to <a href="http://fhir3.healthintersections.com.au/open" target="_blank" title="http://fhir3.healthintersections.com.au/open">http://fhir3.healthintersections.com.au/open</a>, and receive the errors below.  </p>
<p>I was able to successfully post this sample a couple of weeks ago.</p>
<p>Please advise on how to proceed.</p>
<hr>
<p>&lt;issue&gt;<br>
        &lt;severity value="information"/&gt;<br>
        &lt;code value="structure"/&gt;<br>
        &lt;details&gt;<br>
            &lt;text value="Unable to determine type of target resource"/&gt;<br>
        &lt;/details&gt;<br>
        &lt;expression value="DiagnosticOrder.supportingInformation // line 0 col 0)"/&gt;<br>
    &lt;/issue&gt;<br>
    &lt;issue&gt;<br>
        &lt;severity value="error"/&gt;<br>
        &lt;code value="invariant"/&gt;<br>
        &lt;details&gt;<br>
            &lt;text value="SHALL have a local reference if the resource is provided inline (url: fasting; ids: ) () reference.startsWith('#').not() or (reference.substring(1).trace('url') in %resource.contained.id.trace('ids'))"/&gt;<br>
        &lt;/details&gt;<br>
        &lt;expression value="DiagnosticOrder.supportingInformation"/&gt;<br>
    &lt;/issue&gt;<br>
    &lt;issue&gt;<br>
        &lt;severity value="information"/&gt;<br>
        &lt;code value="code-invalid"/&gt;<br>
        &lt;details&gt;<br>
            &lt;text value="None of the codes provided are in the value set <a href="http://hl7.org/fhir/ValueSet/diagnostic-requests" target="_blank" title="http://hl7.org/fhir/ValueSet/diagnostic-requests">http://hl7.org/fhir/ValueSet/diagnostic-requests</a> (<a href="http://hl7.org/fhir/ValueSet/diagnostic-requests" target="_blank" title="http://hl7.org/fhir/ValueSet/diagnostic-requests">http://hl7.org/fhir/ValueSet/diagnostic-requests</a>, and a code is recommended to come from this value set"/&gt;<br>
        &lt;/details&gt;<br>
        &lt;expression value="DiagnosticOrder.item.code // line 0 col 0)"/&gt;<br>
    &lt;/issue&gt;</p>
<hr>
<p>Thank you</p>



<a name="153824900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Server%20not%20accepting%20DiagnosticOrder/near/153824900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html#153824900">(May 06 2016 at 23:49)</a>:</h4>
<p>I don't see an attachment.  Can you just post the "supportingInformation" element from your instance?</p>



<a name="153824901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Server%20not%20accepting%20DiagnosticOrder/near/153824901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nakamura <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html#153824901">(May 07 2016 at 00:06)</a>:</h4>
<p>Hi Lloyd,</p>
<p>Sure thing.</p>
<p>&lt;DiagnosticOrder xmlns="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
    &lt;identifier&gt;<br>
        &lt;type&gt;<br>
            &lt;coding&gt;<br>
                &lt;system value="http://hl7.org/fhir/identifier-type"/&gt;<br>
                &lt;code value="PLAC"/&gt;<br>
            &lt;/coding&gt;<br>
            &lt;text value="Placer"/&gt;<br>
        &lt;/type&gt;<br>
        &lt;system value="http://hl7.org/fhir/StructureDefinition/daf-diagnosticOrder"/&gt;<br>
        &lt;value value="1"/&gt;<br>
    &lt;/identifier&gt;<br>
    &lt;status value="received"/&gt;<br>
    &lt;priority value="routine"/&gt;<br>
    &lt;subject&gt;<br>
        &lt;reference value="http://fhir3.healthintersections.com.au/open/Patient/f8780165-de9a-4363-bf84-745731379b/_history/1"/&gt;<br>
        &lt;display value="Henry Jones"/&gt;<br>
    &lt;/subject&gt;<br>
    &lt;encounter&gt;<br>
        &lt;reference value="Encounter/example"/&gt;<br>
    &lt;/encounter&gt;<br>
    &lt;orderer&gt;<br>
        &lt;reference value="http://fhir3.healthintersections.com.au/open/Practitioner/f013f46b-a18c-4271-98f3-a6b58deafc/_history/1"/&gt;<br>
        &lt;display value="Adam Everyman, MD"/&gt;<br>
    &lt;/orderer&gt;<br>
    &lt;reason&gt;<br>
        &lt;coding&gt;<br>
            &lt;system value="http://hl7.org/fhir/sid/icd-9"/&gt;<br>
            &lt;code value="V173"/&gt;<br>
            &lt;display value="Fam hx-ischem heart dis"/&gt;<br>
        &lt;/coding&gt;<br>
    &lt;/reason&gt;<br>
    &lt;supportingInformation&gt;<br>
        &lt;reference value="#fasting"/&gt;<br>
    &lt;/supportingInformation&gt;<br>
    &lt;event&gt;<br>
        &lt;status value="requested"/&gt;<br>
        &lt;dateTime value="2016-05-02T16:16:00-07:00"/&gt;<br>
        &lt;actor&gt;<br>
            &lt;reference value="http://fhir3.healthintersections.com.au/open/Practitioner/f013f46b-a18c-4271-98f3-a6b58deafc/_history/1"/&gt;<br>
            &lt;display value="Adam Everyman, MD"/&gt;<br>
        &lt;/actor&gt;<br>
    &lt;/event&gt;<br>
    &lt;item&gt;<br>
        &lt;code&gt;<br>
            &lt;coding&gt;<br>
                &lt;system value="http://acme.org/tests"/&gt;<br>
                &lt;code value="LIPID"/&gt;<br>
            &lt;/coding&gt;<br>
            &lt;text value="Lipid Panel"/&gt;<br>
        &lt;/code&gt;<br>
        &lt;specimen&gt;<br>
            &lt;reference value="Specimen/101"/&gt;<br>
        &lt;/specimen&gt;<br>
    &lt;/item&gt;<br>
    &lt;note&gt;<br>
        &lt;text value="patient is afraid of needles"/&gt;<br>
    &lt;/note&gt;<br>
&lt;/DiagnosticOrder&gt;</p>
<p>I have also now attached the sample xml.</p>
<p><a href="/user_uploads/10155/9P1esTEpAxUnwDjwAXM4ivED/daf-diagnostic-order-example.xml" target="_blank" title="/user_uploads/10155/9P1esTEpAxUnwDjwAXM4ivED/daf-diagnostic-order-example.xml">daf-diagnostic-order-example.xml</a> </p>



<a name="153824902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Server%20not%20accepting%20DiagnosticOrder/near/153824902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html#153824902">(May 07 2016 at 00:22)</a>:</h4>
<p>Ok.  So your reference refers to a contained resource with an id of "fasting", but no such contained resource is present</p>



<a name="153824903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Server%20not%20accepting%20DiagnosticOrder/near/153824903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html#153824903">(May 07 2016 at 00:23)</a>:</h4>
<p>Thus the warning saying the reference can't be resolved and the error saying you've got a local reference, but the thing being referenced doesn't exist.</p>



<a name="153824906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Server%20not%20accepting%20DiagnosticOrder/near/153824906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nakamura <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html#153824906">(May 07 2016 at 01:36)</a>:</h4>
<p>Thank you Lloyd,</p>
<p>I will try to comment out that resource and repost.</p>



<a name="153824907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Server%20not%20accepting%20DiagnosticOrder/near/153824907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html#153824907">(May 07 2016 at 01:48)</a>:</h4>
<p>You'll need to either comment out the "supportingInformation" element or you'll need to add a contained resource that it points to or you'll need to change the reference to not be to a contained resource.</p>



<a name="153824957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Server%20not%20accepting%20DiagnosticOrder/near/153824957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nakamura <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Server.20not.20accepting.20DiagnosticOrder.html#153824957">(May 07 2016 at 12:31)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> </p>
<p>Yes, thank you - that's exactly what I did - comment out the "supportingInformation" element, and the diagnostic order posted to the FHIR server without error.   </p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
