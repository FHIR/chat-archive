---
layout: page
title: "FHIR Chat  · [search] _include / _revinclude AND chaining · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.5Bsearch.5D.20_include.20.2F.20_revinclude.20AND.20chaining.html">[search] _include / _revinclude AND chaining</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153896501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%5Bsearch%5D%20_include%20/%20_revinclude%20AND%20chaining/near/153896501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.5Bsearch.5D.20_include.20.2F.20_revinclude.20AND.20chaining.html#153896501">(Jul 10 2017 at 19:05)</a>:</h4>
<p>Hey</p>
<p>According to documentation, (<a href="https://www.hl7.org/fhir/search.html#revinclude" target="_blank" title="https://www.hl7.org/fhir/search.html#revinclude">https://www.hl7.org/fhir/search.html#revinclude</a>), it is possible to search for a resource with criteria and include linked resource.<br>
I wonder if it is allowed to add criteria on the linked resources.</p>
<p>Eg: <a href="http://fhirtest.uhn.ca/baseDstu3/Encounter?date=gt2016-01-01&amp;date=lt2016-01-03&amp;_revinclude=Observation:context&amp;_include=Encounter:patient" target="_blank" title="http://fhirtest.uhn.ca/baseDstu3/Encounter?date=gt2016-01-01&amp;date=lt2016-01-03&amp;_revinclude=Observation:context&amp;_include=Encounter:patient">http://fhirtest.uhn.ca/baseDstu3/Encounter?date=gt2016-01-01&amp;date=lt2016-01-03&amp;_revinclude=Observation:context&amp;_include=Encounter:patient</a> search for every linked Observations. What if I would like only the linked observation having code in [55284-4,8480-6] ? Would the syntax ..._revinclude=Observation:context:code=55284-4,8480-6.... permitted ?</p>
<p>How could I do differently, in only one query ? </p>
<p>Thanks</p>



<a name="153896537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%5Bsearch%5D%20_include%20/%20_revinclude%20AND%20chaining/near/153896537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.5Bsearch.5D.20_include.20.2F.20_revinclude.20AND.20chaining.html#153896537">(Jul 10 2017 at 21:36)</a>:</h4>
<p>Look at <a href="http://hl7.org/fhir/search.html#has" target="_blank" title="http://hl7.org/fhir/search.html#has">http://hl7.org/fhir/search.html#has</a></p>



<a name="153896552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%5Bsearch%5D%20_include%20/%20_revinclude%20AND%20chaining/near/153896552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.5Bsearch.5D.20_include.20.2F.20_revinclude.20AND.20chaining.html#153896552">(Jul 10 2017 at 22:11)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> </p>
<p>Thanks for you answer. <code>[base]/Patient?_has:Observation:patient:code=29463-7</code> allows me to get Patients having an observation coded 29463-7. <br>
Instead, I am looking for getting a bundle with both Patient, Observation resource, but only the subset of Observation having  code=29463-7.</p>
<p><code>Patient?_revinclude=Observation:subject</code> gives me the patient and all its Observations. I need a subset of all its Observation, say code=29463-7. The problem is I cannot do a second filtering like: <code>Patient?_revinclude=Observation:subject:code=29463-7</code></p>
<p>How do push predicate on both resources ?</p>



<a name="153896559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%5Bsearch%5D%20_include%20/%20_revinclude%20AND%20chaining/near/153896559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.5Bsearch.5D.20_include.20.2F.20_revinclude.20AND.20chaining.html#153896559">(Jul 10 2017 at 22:33)</a>:</h4>
<p>To do something like that, you'd be forced to _query - which isn't supported by very many servers.  Or you'll end up doing two queries.</p>



<a name="153896671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%5Bsearch%5D%20_include%20/%20_revinclude%20AND%20chaining/near/153896671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.5Bsearch.5D.20_include.20.2F.20_revinclude.20AND.20chaining.html#153896671">(Jul 11 2017 at 22:50)</a>:</h4>
<p>or do the query the other way around, go from the Observations if that's what you really want, and include the Patient</p>



<a name="153896920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%5Bsearch%5D%20_include%20/%20_revinclude%20AND%20chaining/near/153896920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.5Bsearch.5D.20_include.20.2F.20_revinclude.20AND.20chaining.html#153896920">(Jul 14 2017 at 09:07)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> for the suggestion. However problem still remain if I want to add a Condition resource, and want to filter on Condition, Observation by code.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
