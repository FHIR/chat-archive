---
layout: page
title: "FHIR Chat  · search on several resource types? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html">search on several resource types?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153906108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906108">(Sep 11 2017 at 15:27)</a>:</h4>
<p>Hi. Can i search for (example) "patients or staff whose ID is 007" ? Or do I have to issue different GETs? <br>
In other words, the cardinality of [type] in a GET, is it 1..1 ?</p>



<a name="153906115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906115">(Sep 11 2017 at 16:02)</a>:</h4>
<p>There are ways.. but they would be very specific to a full-featured FHIR server. Why do you not want to use a  simple solution, that just requires two search? So I am asking for clarification on the desire that is behind your question so as to point at the best solution.</p>



<a name="153906116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906116">(Sep 11 2017 at 16:12)</a>:</h4>
<p>see here:</p>



<a name="153906117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906117">(Sep 11 2017 at 16:12)</a>:</h4>
<p><a href="http://hl7.org/fhir/searchparameter-registry.html" target="_blank" title="http://hl7.org/fhir/searchparameter-registry.html">http://hl7.org/fhir/searchparameter-registry.html</a></p>



<a name="153906118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906118">(Sep 11 2017 at 16:12)</a>:</h4>
<p>identifier is not common across Patient, RelatedPerson, and Practitioner, but it should be.</p>



<a name="153906123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906123">(Sep 11 2017 at 16:18)</a>:</h4>
<p>Ok so if i take the Type out to search any resource, is this the right query? <br>
<a href="http://test.fhir.org/r3?identifier=444222222" target="_blank" title="http://test.fhir.org/r3?identifier=444222222">http://test.fhir.org/r3?identifier=444222222</a></p>



<a name="153906125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906125">(Sep 11 2017 at 16:19)</a>:</h4>
<p>that should give me all the resources that have one identifier whose value is 444222222. I'm getting lots of other stuff.</p>



<a name="153906126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906126">(Sep 11 2017 at 16:20)</a>:</h4>
<p>really you need this:</p>
<div class="codehilite"><pre><span></span>http://test.fhir.org/r3?_type=Patient,RelatedPerson,Practitioner&amp;identifier=44422222222
</pre></div>



<a name="153906128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906128">(Sep 11 2017 at 16:21)</a>:</h4>
<p>Wonder how many servers support this...I'd be surprised if many/any other that Grahame's</p>



<a name="153906129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906129">(Sep 11 2017 at 16:21)</a>:</h4>
<p>well, right now, none will - even mine.</p>



<a name="153906130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906130">(Sep 11 2017 at 16:22)</a>:</h4>
<p>but cross research search absolutely is an important thing, and may servers will support it</p>



<a name="153906131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906131">(Sep 11 2017 at 16:23)</a>:</h4>
<p>language from the spec:  All resource types: GET [base]?parameter(s) (parameters common to all types only)</p>



<a name="153906132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906132">(Sep 11 2017 at 16:23)</a>:</h4>
<p>In other words, the spec actually forbids this...</p>



<a name="153906133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906133">(Sep 11 2017 at 16:23)</a>:</h4>
<p>Use case is simple, possibly misplaced: I just scanned a barcode. Who is this?</p>



<a name="153906134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906134">(Sep 11 2017 at 16:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> : In this case, the only parameters that can be used are those defined for both Condition and Observation (using SearchParameter.base - see Cross-resource Search Parameters), or the parameters defined for all resources.</p>



<a name="153906136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906136">(Sep 11 2017 at 16:25)</a>:</h4>
<p>On Vonk we actually only check whether the parameter by the same name and searchparametertype is supported across the requested resourcetypes, and then accept it.<br>
Try http://vonk.furore.com?_type=Patient,RelatedPerson,Practitioner&amp;identifier=jElTRIDQrgnesGVo</p>



<a name="153906137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906137">(Sep 11 2017 at 16:25)</a>:</h4>
<p>or other use case: I just scanned a barcode. What is this?</p>



<a name="153906138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906138">(Sep 11 2017 at 16:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> So you use the _type list to interrogate SearchParameter?</p>



<a name="153906139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906139">(Sep 11 2017 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> can't find that language?</p>



<a name="153906140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906140">(Sep 11 2017 at 16:28)</a>:</h4>
<p>Found the language I referenced in the list here:  <a href="http://build.fhir.org/search.html#2.21.1.2" target="_blank" title="http://build.fhir.org/search.html#2.21.1.2">http://build.fhir.org/search.html#2.21.1.2</a></p>



<a name="153906141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906141">(Sep 11 2017 at 16:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> Yes. And I just found an exception if no _type is provided at all :-)</p>



<a name="153906143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906143">(Sep 11 2017 at 16:30)</a>:</h4>
<p>That's clever...maybe should be standard/required: if _type is provided, then all other parameters SHALL be common to all types listed</p>



<a name="153906144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906144">(Sep 11 2017 at 16:30)</a>:</h4>
<p>you would also need to manually handle query of multiple FHIR servers. so querying multiple resources is just one spread</p>



<a name="153906145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906145">(Sep 11 2017 at 16:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span>  the top of the page shows the common parameters incl _type</p>



<a name="153906146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906146">(Sep 11 2017 at 16:31)</a>:</h4>
<p>it's actually like this:</p>
<ul>
<li>if you include _type, then all parameters must be explicitly identified as common to the listed resources, or common to all resources</li>
<li>if you don't include type, all parameters must be for all resources</li>
</ul>



<a name="153906149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906149">(Sep 11 2017 at 16:33)</a>:</h4>
<p>I second - I already implemented it that way...</p>



<a name="153906150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906150">(Sep 11 2017 at 16:34)</a>:</h4>
<p>Yes, sounds great. Language needs to change.</p>



<a name="153906152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906152">(Sep 11 2017 at 16:35)</a>:</h4>
<p>Thank you all!</p>



<a name="153906155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906155">(Sep 11 2017 at 16:37)</a>:</h4>
<p>someone want to create a task?</p>



<a name="153906157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906157">(Sep 11 2017 at 16:38)</a>:</h4>
<p>will do</p>



<a name="153906159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906159">(Sep 11 2017 at 16:38)</a>:</h4>
<p>thx</p>



<a name="153906160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906160">(Sep 11 2017 at 16:43)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13836" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13836">GF#13836</a></p>



<a name="153906162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906162">(Sep 11 2017 at 16:43)</a>:</h4>
<p>Back to <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> If you are setting operational requirements, then this is one that would need to be mandated.  Although this will provide an optimal way, you must have a fallback (robust design) when the server you have doesn't support this.   Right?</p>



<a name="153906169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906169">(Sep 11 2017 at 16:48)</a>:</h4>
<p>for the changes in documentation: if I search for <br>
_type=X,Y,Z;&amp;attribute=VAL<br>
and if type Z does not have "attribute", then the search will <br>
a)fail <br>
b)only return resources of type X and Y<br>
?</p>



<a name="153906171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906171">(Sep 11 2017 at 16:49)</a>:</h4>
<p>Fail</p>



<a name="153906172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906172">(Sep 11 2017 at 16:50)</a>:</h4>
<p>Otherwise you'll silently not get resources you explicitly requested</p>



<a name="153906173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906173">(Sep 11 2017 at 16:51)</a>:</h4>
<p>Actually, search is allowed to ignore parameters it cannot support, so at least in Vonk you'll get all parameters of the types X,Y and Z. And an operationoutcome stating that 'attribute' is not supported across all types.</p>



<a name="153906174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906174">(Sep 11 2017 at 16:51)</a>:</h4>
<p>That does limit some use cases where you have 2+ parameters with some of them applying to some mix of resources.  But, I'm not sure that's common/wise enough to outweigh the potential for silent error</p>



<a name="153906175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906175">(Sep 11 2017 at 16:51)</a>:</h4>
<p>Vonk will give results + OperationOutcome?</p>



<a name="153906176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906176">(Sep 11 2017 at 16:51)</a>:</h4>
<p>or just OperationOutcome</p>



<a name="153906177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906177">(Sep 11 2017 at 16:51)</a>:</h4>
<p>i requested but they don't meet my query criteria. So I would not find any problem with returning types X and Y</p>



<a name="153906178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906178">(Sep 11 2017 at 16:51)</a>:</h4>
<p>Both, OO as last item in the bundle</p>



<a name="153906179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906179">(Sep 11 2017 at 16:52)</a>:</h4>
<p>Sounds risky to me.</p>



<a name="153906182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906182">(Sep 11 2017 at 16:53)</a>:</h4>
<p>this triggers a question just for discussion: is it possible to do logical ORs in a GET search?<br>
name=smith or age=90</p>



<a name="153906183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906183">(Sep 11 2017 at 16:53)</a>:</h4>
<p>note that the client can have it's say about this in the preference header</p>



<a name="153906184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906184">(Sep 11 2017 at 16:53)</a>:</h4>
<p>only via _query</p>



<a name="153906186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906186">(Sep 11 2017 at 16:54)</a>:</h4>
<p>ok.</p>



<a name="153906187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906187">(Sep 11 2017 at 16:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> good point. I'm still not there, but I would rather rely on this being core behaviour</p>



<a name="153906190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906190">(Sep 11 2017 at 16:55)</a>:</h4>
<p>"In general, servers SHOULD ignore unknown or unsupported parameters for the following reasons", that's why Vonk does it this way. Support for the preference header is not implemented yet though.</p>



<a name="153906195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906195">(Sep 11 2017 at 16:57)</a>:</h4>
<p>Yes, but that would imply you just didn't include the partially support parameter, NOT that you selectively applied it</p>



<a name="153906197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906197">(Sep 11 2017 at 16:57)</a>:</h4>
<p>not only via _query. See <a href="http://hl7.org/fhir/search.html#errors" target="_blank" title="http://hl7.org/fhir/search.html#errors">http://hl7.org/fhir/search.html#errors</a></p>



<a name="153906198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906198">(Sep 11 2017 at 16:58)</a>:</h4>
<p>Indeed, I don't apply it selectively, it's all or none</p>



<a name="153906199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906199">(Sep 11 2017 at 16:59)</a>:</h4>
<p>So for <code>[base]?_type=Patient,Practitioner,Encounter&amp;name=Knaap</code>, what would you return?</p>



<a name="153906202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906202">(Sep 11 2017 at 16:59)</a>:</h4>
<p>error on my server</p>



<a name="153906203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906203">(Sep 11 2017 at 16:59)</a>:</h4>
<p>at least, that's what I would expect, and would think of anything else as a bug</p>



<a name="153906209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906209">(Sep 11 2017 at 17:00)</a>:</h4>
<p>Vonk seems cool with it?"</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;5db83841-88e6-46c1-bcc6-93396faacc51&quot;</span><span class="p">,</span>
    <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;versionId&quot;</span><span class="p">:</span> <span class="s2">&quot;5a1703ea-cec8-4f03-8ee2-c1fe80604764&quot;</span><span class="p">,</span>
        <span class="nt">&quot;lastUpdated&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-09-11T17:00:18.615+00:00&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;searchset&quot;</span><span class="p">,</span>
    <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;link&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;relation&quot;</span><span class="p">:</span> <span class="s2">&quot;self&quot;</span><span class="p">,</span>
            <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://vonk.furore.com/?_type=Patient,Practitioner,Encounter&amp;name=Knaap&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>



<a name="153906220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906220">(Sep 11 2017 at 17:02)</a>:</h4>
<p>James doesn't like it.</p>



<a name="153906222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906222">(Sep 11 2017 at 17:03)</a>:</h4>
<p>Grahame actually:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;5b398bf4-eb6e-4cc5-b589-633750b723&quot;</span><span class="p">,</span>
    <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;lastUpdated&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-09-11T17:02:37Z&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;searchset&quot;</span><span class="p">,</span>
    <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">358</span><span class="p">,</span>
    <span class="nt">&quot;link&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;relation&quot;</span><span class="p">:</span> <span class="s2">&quot;self&quot;</span><span class="p">,</span>
            <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://test.fhir.org/r3/?_format=application/fhir+json&amp;search-id=3fb0c0f3-fa9a-44f9-b365-554bc63b4f&amp;&amp;_type=Patient%2CPractitioner%2CEncounter&amp;name=Knaap&amp;_sort=_id&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;relation&quot;</span><span class="p">:</span> <span class="s2">&quot;first&quot;</span><span class="p">,</span>
            <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://test.fhir.org/r3/?_format=application/fhir+json&amp;search-id=3fb0c0f3-fa9a-44f9-b365-554bc63b4f&amp;&amp;_type=Patient%2CPractitioner%2CEncounter&amp;name=Knaap&amp;_sort=_id&amp;search-offset=0&amp;_count=50&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;relation&quot;</span><span class="p">:</span> <span class="s2">&quot;next&quot;</span><span class="p">,</span>
            <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://test.fhir.org/r3/?_format=application/fhir+json&amp;search-id=3fb0c0f3-fa9a-44f9-b365-554bc63b4f&amp;&amp;_type=Patient%2CPractitioner%2CEncounter&amp;name=Knaap&amp;_sort=_id&amp;search-offset=50&amp;_count=50&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;relation&quot;</span><span class="p">:</span> <span class="s2">&quot;last&quot;</span><span class="p">,</span>
            <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://test.fhir.org/r3/?_format=application/fhir+json&amp;search-id=3fb0c0f3-fa9a-44f9-b365-554bc63b4f&amp;&amp;_type=Patient%2CPractitioner%2CEncounter&amp;name=Knaap&amp;_sort=_id&amp;search-offset=350&amp;_count=50&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;entry&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;fullUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;http://test.fhir.org/r3/Practitioner/1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>

<span class="err">...</span>
</pre></div>



<a name="153906224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906224">(Sep 11 2017 at 17:03)</a>:</h4>
<p>pfft. I will try and get to it</p>



<a name="153906228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906228">(Sep 11 2017 at 17:05)</a>:</h4>
<p>I really love working with this group. Best developer community out there.</p>



<a name="153906232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906232">(Sep 11 2017 at 17:06)</a>:</h4>
<p>I should at least return myself ;-)<br>
But frankly, since name is not valid for Encounter, I would have expected it to be reported as not supported. What did you expect?</p>



<a name="153906234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906234">(Sep 11 2017 at 17:06)</a>:</h4>
<p>Discussion came up that is somewhat related, but very different... that is when the user uses parameters that would be forbidden given their Security/Privacy authorizations. Should these be silent removals (like unknown parameters)? Or should this be a failure?</p>



<a name="153906237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906237">(Sep 11 2017 at 17:06)</a>:</h4>
<p>failure</p>



<a name="153906239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906239">(Sep 11 2017 at 17:06)</a>:</h4>
<p>I expected an error for malformed search request (since Encounter doesn't have name)</p>



<a name="153906241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906241">(Sep 11 2017 at 17:07)</a>:</h4>
<p>I intend to just point it out.. and tell the implementers that they need to look to policy... thus clients must be ready for both</p>



<a name="153906243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906243">(Sep 11 2017 at 17:07)</a>:</h4>
<p>the idea of ignoring unknown parameters is driven by the many reasons for having extra parameters be added for http stack reasons</p>



<a name="153906245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906245">(Sep 11 2017 at 17:07)</a>:</h4>
<p>otherwise, errors should be reported</p>



<a name="153906246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906246">(Sep 11 2017 at 17:07)</a>:</h4>
<p>Specifically, the parameter is not invalid.. it is just not allowed by that user.</p>



<a name="153906247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906247">(Sep 11 2017 at 17:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> I'd expect a forbidden failure</p>



<a name="153906249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906249">(Sep 11 2017 at 17:08)</a>:</h4>
<p>I don't think (correct if I'm wrong) its a security risk to expose capability rights failures</p>



<a name="153906253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906253">(Sep 11 2017 at 17:09)</a>:</h4>
<p>Yes, it is a risk... but it is a low impact risk. Hence why I want to just point out the risk, and thus deployment environments can choose how important that is. Most will choose to expose it as a failure, because the user is already authorized to do something, so they are not outright hacker.</p>



<a name="153906255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906255">(Sep 11 2017 at 17:11)</a>:</h4>
<p>Checked the code: the all-or-none is not actually how it is implemented: if at least one of the types has that searchparameter, it will apply it. Any type that does not have it will return no results, since it won't have any entry for that searchparameter. I should probably change it to return an error on that parameter.</p>



<a name="153906256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906256">(Sep 11 2017 at 17:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> Is there a standard way of expressing users can/cannot use certain search parameters? Or do you mean that in general sense - when there is such a restricting in any form?</p>



<a name="153906264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906264">(Sep 11 2017 at 17:31)</a>:</h4>
<p>My personal assumption would be that a search for SearchParameter would return only those I'm authorized to use. But that's certainly not (and won't be?) in the spec.</p>



<a name="153906285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906285">(Sep 11 2017 at 18:14)</a>:</h4>
<p>There are MANY ways of expressing security and/or privacy policy. That is not the focus of the issue. The focus of the issue is what  server should do when a security/privacy policy must be enforced that forbids an otherwise valid search parameter. -- One example is when one uses the SMART scope for Patient, and yet the patient includes a patient search parameter on a value other than their own identifier.</p>



<a name="153906286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906286">(Sep 11 2017 at 18:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> There have been discussions on if a retrieve of the server CapabilityStatement should return a customized CapabilityStatement, customized to the rights that user has. Thus it would not include capabilities that the user would not be allowed to use. I don't know what the result of those discussiions have been</p>



<a name="153906297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906297">(Sep 11 2017 at 19:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> very interested in that discussion as well</p>



<a name="153906300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906300">(Sep 11 2017 at 19:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> One more thing to consider - the possibility that a single named query parameter could have different types across resource (may be Token on one and string on another).  Is there a reasonable thing to do with this?</p>



<a name="153906301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Scrimshire <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906301">(Sep 11 2017 at 19:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> Filtering the CapabilityStatement is something we have done with the CMS BlueButton API. We only show the Resources and Functions that the patient has access to.</p>



<a name="153906318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906318">(Sep 11 2017 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="192609">@Mark Scrimshire</span> Do you have a link to how this works?</p>



<a name="153906335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153906335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Scrimshire <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153906335">(Sep 11 2017 at 19:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> currently working on updating to add OAuth Extension but python/django code is here: <a href="https://github.com/TransparentHealth/hhs_oauth_server/blob/master/apps/fhir/bluebutton/views/home.py" target="_blank" title="https://github.com/TransparentHealth/hhs_oauth_server/blob/master/apps/fhir/bluebutton/views/home.py">https://github.com/TransparentHealth/hhs_oauth_server/blob/master/apps/fhir/bluebutton/views/home.py</a> - we have a SupportedResourceType Table that identifies the resources and actions that are available to the end user (beneficiary/Patient).</p>



<a name="153907055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153907055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153907055">(Sep 12 2017 at 18:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> : We check for that. If the're not all of the same searchparametertype, we discard it.</p>



<a name="153908090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908090">(Sep 14 2017 at 10:16)</a>:</h4>
<p>Revisiting this for products: I am looking for some harmonization between devices and  medications - and any other resources we expect people to come up with like nutritionProduct, or donationOrgan, ...</p>



<a name="153908091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908091">(Sep 14 2017 at 10:18)</a>:</h4>
<p>i'd want to be able to search for:<br>
1. Gime whatever-this-is, from the code i just scanned.<br>
2. Gimme all the things here that are expiring within a month.<br>
According to this discussion, this is not possible because the attributes are not consistent so the search would fail, right?</p>



<a name="153908096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908096">(Sep 14 2017 at 11:00)</a>:</h4>
<p>medication has code, device doesn't. <br>
and expirationDate is not at the same level (not sure that matters)</p>



<a name="153908163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908163">(Sep 14 2017 at 16:27)</a>:</h4>
<p>Correct. If you want that you indeed have to harmonize the searchparameter(s) for this across the resourcetypes involved. I encourage them being in the spec, but as servers are getting the ability to process custom search parameters, you can try to make it work on one of them first.</p>



<a name="153908181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908181">(Sep 14 2017 at 16:40)</a>:</h4>
<p>Good. Well, not good, but another argument for doing something about that Kind/instance we spoke in Madrid, and align between Medication, Device, and BiologicallyDerivedProduct. (IMO all of these should be specialization of a base resource called "product".</p>



<a name="153908187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908187">(Sep 14 2017 at 16:42)</a>:</h4>
<p>pinging <span class="user-mention" data-user-id="191401">@Eric Haas</span> :  As just mentioned: One reason to harmonize "instance" across devices - to support searches like the 2 examples above( 1. Get characteristics of an item and 2. Get Expired Items) across different resources.</p>



<a name="153908194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908194">(Sep 14 2017 at 16:44)</a>:</h4>
<p>and pinging <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> although he is ahead of this curve.</p>



<a name="153908335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908335">(Sep 14 2017 at 18:43)</a>:</h4>
<p>We try to avoid deep specialization hierarchies.  I can't imagine us having a base resource of Product, though we could have a "pattern" resources might map to.  Certainly getting query parameters that are shared across all of those resources would be a good thing</p>



<a name="153908554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908554">(Sep 14 2017 at 22:03)</a>:</h4>
<p>I would question whether a pattern is needed consider only 3-4 resources across 2 working groups.  Should be easy to be consistent on pattern without the additional overhead of creating and maintaining a Product logical model.    I think the search params should be common among the resources that is low hanging fruit</p>



<a name="153908642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153908642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153908642">(Sep 14 2017 at 23:41)</a>:</h4>
<p>Is there really a need to do a query for "anything expiring in the next month"? How many systems track multiple kinds of resources that can expire, and would want to deal with them all in one list? I recognize that "expiring in the next month" is an example, but my question would apply more widely.</p>



<a name="153912581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20on%20several%20resource%20types%3F/near/153912581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20on.20several.20resource.20types.3F.html#153912581">(Oct 05 2017 at 10:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> Did you ever get an answer to your question about barcodes?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
