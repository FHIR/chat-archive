---
layout: page
title: "FHIR Chat  · Provenance for resource vs. content of resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html">Provenance for resource vs. content of resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="248943918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/248943918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#248943918">(Aug 10 2021 at 06:12)</a>:</h4>
<p>We are looking at creating Provenance instances for DocumentReference resources.  Suppose I have a PDF of a doctor's letter written by Dr. Doe in 2019. In 2021, the user Alex Doenot now uploads this PDF to a FHIR system, wrapped in a DocumentReference. We now have two levels of provenance information: (1) that for the PDF i.e. the actual  core data ("authored by Dr. Doe in 2019"), and (2) that for the FHIR resource ("created by Alex Doenot in 2021"). </p>
<p>My question is: Given that one can only point to the DocumentReference resource, how can one use Provenance to transmit provenance information about the contained PDF ("provenance (1)")? I suppose one could split the contained PDF off into a Binary resource, provide that with a separate Provenance, and then point to it from a DocumentReference (if one can actually get the PDF, that is).  But I am wondering if there is a solution that avoids this overhead and allows associating provenance of both type (1) &amp; (2) directly with the DocRef resource.</p>



<a name="248976561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/248976561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#248976561">(Aug 10 2021 at 13:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span></p>



<a name="248977573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/248977573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#248977573">(Aug 10 2021 at 13:20)</a>:</h4>
<p>As you indicate, the easiest and most straight forward is to have to document in a Binary. In this way the DocumentReference can point at the Binary as can your Provenance.</p>



<a name="248977945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/248977945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#248977945">(Aug 10 2021 at 13:23)</a>:</h4>
<p>The other configuration, where document is encoded into the <a href="http://DocumentReference.content.attachment.data">DocumentReference.content.attachment.data</a>, is not yet supported in FHIR. There is an approved CR by FHIR-I that promises to give us a way to point at an element within a target resource. There is not enough details in the approved CR for me to predict how this will work. Provided this happens sometime in R5, you would be able to have a Provenance that points specifically at the .data element.</p>



<a name="248989561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/248989561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#248989561">(Aug 10 2021 at 14:50)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191404">@John Moehrke</span>! - being able to point to an element seems like a useful development.</p>



<a name="249012176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249012176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249012176">(Aug 10 2021 at 17:48)</a>:</h4>
<p><span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> I believe it is this <a href="https://jira.hl7.org/browse/FHIR-23076">https://jira.hl7.org/browse/FHIR-23076</a> and this <a href="https://jira.hl7.org/browse/FHIR-21284">https://jira.hl7.org/browse/FHIR-21284</a>. I am also waiting on these for a project</p>



<a name="249218862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249218862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249218862">(Aug 12 2021 at 10:40)</a>:</h4>
<p>A follow-up on this: Parallel to the question of resource vs. content, there is also the question of what it means to be the author or such a resource. Specifically, in the scenario above Alex Doenot creates a resource. What, in that case, is then the appropriate <code>agent.type</code>? It looks like it could be "author" from <a href="http://terminology.hl7.org/CodeSystem/provenance-participant-type">http://terminology.hl7.org/CodeSystem/provenance-participant-type</a> . The definition is: </p>
<blockquote>
<p>A party that originates the resource and therefore has responsibility for the information given in the resource and ownership of this resource</p>
</blockquote>
<p>That sort of half-way matches: Alex originated the resource and has the ownership (e.g. can completely delete it from our system). But can Alex be said to be "responsible for the information given in the resource"? That, again, seems to sound like it's about the <em>content</em>, i.e. the doctor's letter. In other word, using this code might cause people to think Alex wrote the doctor's letter.</p>
<p>What do you think? Are there any alternatives? (I didn't see anything obvious in the value set).</p>



<a name="249223992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249223992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tú Nguyễn M. <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249223992">(Aug 12 2021 at 11:47)</a>:</h4>
<p>How to send request questionnaire response json with retrofit<br>
<a href="/user_uploads/10155/3CHlIcvVfPSau7hvJrkxj00-/image.png">image.png</a> <a href="/user_uploads/10155/VJoTi3NtVwhumt06VxcVq5WL/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/3CHlIcvVfPSau7hvJrkxj00-/image.png" title="image.png"><img src="/user_uploads/10155/3CHlIcvVfPSau7hvJrkxj00-/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/10155/VJoTi3NtVwhumt06VxcVq5WL/image.png" title="image.png"><img src="/user_uploads/10155/VJoTi3NtVwhumt06VxcVq5WL/image.png"></a></div>



<a name="249225414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249225414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249225414">(Aug 12 2021 at 12:02)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="431749">@Tú Nguyễn M.</span>, to post a new unrelated question, please open a separate discussion thread (use the button "New topic" at the bottom of the screen. This discussion thread is about topic in the headline ("Provenance for resource vs. content of resource").</p>



<a name="249226006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249226006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249226006">(Aug 12 2021 at 12:08)</a>:</h4>
<p>I think that the DocumentReference resource is metadata about the document. Thus applying the author agent of the document to the DocumentReference does not seem wrong to me. Especially since most of the elements in the DocumentReference are direct copies of elements from the document content, especially if the document content is a FHIR-Document or a CDA document.</p>



<a name="249226111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249226111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tú Nguyễn M. <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249226111">(Aug 12 2021 at 12:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="194703">Morten Ernebjerg</span> <a href="#narrow/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource/near/249225414">said</a>:</p>
<blockquote>
<p>Hi <span class="user-mention silent" data-user-id="431749">Tú Nguyễn M.</span>, to post a new unrelated question, please open a separate discussion thread (use the button "New topic" at the bottom of the screen. This discussion thread is about topic in the headline ("Provenance for resource vs. content of resource").</p>
</blockquote>
<p>sr. I will fix the topic</p>



<a name="249226429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249226429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249226429">(Aug 12 2021 at 12:13)</a>:</h4>
<p>I would NOT expect a Provenance on a DocumentReference to be about the author of the content. I would expect it to be about the event and agents that caused the DocumentReference to exist. The most interesting part might be WHO pushed the button to create the DocumentReferenence. It is not uncommon for a document to be authored for some purpose, and later a DocumentReference is created to publish that content for external partners to see.</p>



<a name="249226546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249226546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249226546">(Aug 12 2021 at 12:14)</a>:</h4>
<p>When the author is both causing the document to exist, and publishing it using a DocumentReference, then it would be true that there would be a Provenance on the DocumentReference that indicated authorship of the DocumentReference.</p>



<a name="249226719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249226719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249226719">(Aug 12 2021 at 12:16)</a>:</h4>
<p>In IHE terms, this is likely more closely what the SubmissionSet, which is a manifest of Document Entries, documents, and folders; in the activity of publishing them to the Registry. Sometimes one-for-one, but possibly one SubmissionSet holds many documents by many authors.</p>



<a name="249227734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249227734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249227734">(Aug 12 2021 at 12:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource/near/249226006">said</a>:</p>
<blockquote>
<p>I think that the DocumentReference resource is metadata about the document. Thus applying the author agent of the document to the DocumentReference does not seem wrong to me. </p>
</blockquote>
<p>Just to make sure I'm understanding you right: When you say "the author of the document" in the above, who do you mean? Is it Dr. Doe who originally created the PDF file (and wrote the letter in it), or is it Alex Doenot who wrapped this PDF in a DocumentResource and stored it? I am contemplating capturing Alex as as an agent of type "author" for the DocRef, not Dr. Doe. (If I understand you last comment right, Alex is indeed the appropriate agent, just wanted to make sure)</p>



<a name="249228455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249228455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249228455">(Aug 12 2021 at 12:35)</a>:</h4>
<p>right. sorry that I lost track of the details of your scenario.</p>



<a name="249229227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249229227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249229227">(Aug 12 2021 at 12:42)</a>:</h4>
<p>So do I sometimes <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>. So it is indeed appropriate to mark Alex as an author in <code>Provenance.agent.type</code>?</p>



<a name="249230836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249230836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249230836">(Aug 12 2021 at 12:59)</a>:</h4>
<p>yes, alex would seem to me to clearly be the author of the DocumentReference.</p>



<a name="249231164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20for%20resource%20vs.%20content%20of%20resource/near/249231164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20for.20resource.20vs.2E.20content.20of.20resource.html#249231164">(Aug 12 2021 at 13:01)</a>:</h4>
<p>Great, thanks again <span class="user-mention" data-user-id="191404">@John Moehrke</span> !</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
