---
layout: page
title: "FHIR Chat  · Versioning of extensions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html">Versioning of extensions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153873134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873134">(Feb 23 2017 at 14:16)</a>:</h4>
<p>What the standard practice for versioning extensions should be? Should versions of extensions be incremented along with the profiles that refer them? Or should they be versioned independently? <br>
Currently we are adding version info to the StructureDefinition files for extensions manually, but I was not sure how to deal with this.<br>
Thanks for any feedback.</p>



<a name="153873138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873138">(Feb 23 2017 at 14:40)</a>:</h4>
<p>The IGPublisher now has an option that lets you version *everything* in the IG to a specific business version - so extensions, profiles, value sets, capability statements, etc.   That's significantly less maintenance effort and may be easier for your implementers to wrap their heads around too.</p>



<a name="153873155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873155">(Feb 23 2017 at 16:39)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> . We discussed this internally and were debating about whether versions should be incremented for all the fragements of the IG simultaneously. <br>
In our view the only challenge with this is that when exchanging an updated IG with another party, it would help to know which fragments have changed and which are the same as this would allow them to know what needs to be updated on their end to comply with the new IG.</p>



<a name="153873159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873159">(Feb 23 2017 at 17:17)</a>:</h4>
<p>Business versions don't necessarily change just because an artifact has been updated, so even if the version is the same, that doesn't mean a comparison isn't necessary</p>



<a name="153873166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873166">(Feb 23 2017 at 18:24)</a>:</h4>
<p>Could you clarify on that statement? What would prompt a business version to change that is unrelated to changes in the underlying artifacts? Just so I am sure I understand properly.</p>



<a name="153873168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873168">(Feb 23 2017 at 19:03)</a>:</h4>
<p>Multiple changes could happen before a business version changes.  And you could release a new business version even if the artifact hasn't changed.  E.g. Publishing the 2015 version of a code system which happens to be identical to the 2016 version of the code system.</p>



<a name="153873170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873170">(Feb 23 2017 at 19:49)</a>:</h4>
<p>So from what I understand, the reasoning is that with a business version increment, the receiving system can not assume that any of the artifacts are the same and thus is required to verify the integrity of each artifact individually?<br>
This is the understanding that we came to as well, which was why we thought to version each artifact individually to take some of the burden away from the receiving system: i.e. for the receiving system, if the version of the artifact is the same you can assume no changes. If there is a versoin change you should identify the discrepancies.</p>



<a name="153873171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873171">(Feb 23 2017 at 19:53)</a>:</h4>
<p>Well, if the business version is the same and the artifact is marked as "active" then there shouldn't be any substantive changes, but right now that's a "should", not a "shall"</p>



<a name="153873181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873181">(Feb 23 2017 at 22:37)</a>:</h4>
<p>Ah I see. So therefore if I go from version 1 to 2 of a business version, all resources should be marked as "draft" status to be changeable, and it is only when everything is maked as "active" that the IG is considered a complete version and frozen. Is this correct?</p>



<a name="153873185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/153873185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#153873185">(Feb 23 2017 at 23:13)</a>:</h4>
<p>Right.  If you're using version control, the typical process would be you'd have an IG in version control and once you're ready to take it from "draft" to "active", you'd create a branch for that version and then make the change to "active" on that branch.  The mainline could continue to evolve until you're ready to do your next IG release and you could make technical corrections or other tweaks to the "released" IG version by updating the branch if need-be.</p>



<a name="271908695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/271908695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Ryan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#271908695">(Feb 15 2022 at 00:14)</a>:</h4>
<p>Hi - I'm using FSH to create a codesystem. I explicitly set the version with * ^version = "2.7".<br>
When I run sushi, the fsh-gnerated json has the correct version.<br>
However when I run the IG Publisher, the xml and json it generates revert to the version specified in sushiConfig.yaml</p>
<p>-- here is my FSH file</p>
<p>CodeSystem: Hpi_address_use<br>
Id: Hpi_address_use_2_0<br>
Title: "OrgFac Address Use"<br>
Description: "A coded type for organisation/facility address purpose (qualifier)."</p>
<ul>
<li>^meta.profile = "<a href="http://hl7.org/fhir/StructureDefinition/shareablecodesystem">http://hl7.org/fhir/StructureDefinition/shareablecodesystem</a>"</li>
<li>^url = "<a href="https://standards.digital.health.nz/ns/hpi-address-use">https://standards.digital.health.nz/ns/hpi-address-use</a>"</li>
<li>^version = "2.7"</li>
<li>^status = #active</li>
<li>^experimental = false</li>
<li>^date = "2020-04-20T00:00:00+13:00"</li>
<li>^publisher = "New Zealand Ministry of Health"</li>
<li>^purpose = "A coded type for organisation/facility address purpose (qualifier)."</li>
<li>^caseSensitive = false</li>
<li>^versionNeeded = true</li>
<li>^content = #complete</li>
<li>^count = 3</li>
<li>#legal "Legal Address" "An address of the legal registered office (active)."</li>
<li>#work "Work Address" "An office address. First choice for business related contacts during business hours."</li>
<li>#old "This address is no longer in use (or was never correct but retained for records)."</li>
</ul>



<a name="271909653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/271909653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#271909653">(Feb 15 2022 at 00:25)</a>:</h4>
<p>There is an IG parameter "apply-version" that is supposedly <em>usually</em> helpful, but gets in the way from time to time. See <a href="https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters">https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters</a>. You'll want to specify it as false or use the new default-version parameter in your sushi-config.yaml.</p>



<a name="272042261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/272042261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Ryan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#272042261">(Feb 15 2022 at 21:40)</a>:</h4>
<p>thanks</p>
<ul>
<li>do I need to create a custom template to apply these parameters?</li>
</ul>



<a name="272056871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/272056871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Ryan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#272056871">(Feb 16 2022 at 00:08)</a>:</h4>
<p>I tried putting the parameter in sushi-config.yaml:</p>
<div class="codehilite"><pre><span></span><code>parameters:
.
.
.
  apply-version: false
</code></pre></div>
<p>but it had no impact-<br>
I needed to edit the generated file <br>
<code>fsh-generated\resources\ImplementationGuide&lt;xxx&gt;.json</code><br>
and that had the desired effect</p>



<a name="272057104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/272057104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#272057104">(Feb 16 2022 at 00:10)</a>:</h4>
<p><span class="user-mention" data-user-id="474688">@Patrick Ryan</span> -- if you put parameters into the <code>sushi-config.yaml</code> file, they should be properly reflected in the <code>fsh-generate\resources\ImplementationGuide&lt;xxx&gt;.json</code> file.  If they're not, then it sounds like the formatting in <code>sushi-config.yaml</code> is probably not quite right.</p>



<a name="272059674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Versioning%20of%20extensions/near/272059674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Ryan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Versioning.20of.20extensions.html#272059674">(Feb 16 2022 at 00:40)</a>:</h4>
<p>thanks - yes I was missing an indent</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
