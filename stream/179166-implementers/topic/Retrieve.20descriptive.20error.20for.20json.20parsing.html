---
layout: page
title: "FHIR Chat  · Retrieve descriptive error for json parsing · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20descriptive.20error.20for.20json.20parsing.html">Retrieve descriptive error for json parsing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154672296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20descriptive%20error%20for%20json%20parsing/near/154672296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leonardo Webb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20descriptive.20error.20for.20json.20parsing.html#154672296">(Jan 08 2019 at 20:00)</a>:</h4>
<p>Hi there,</p>
<p>I am trying to parse a JSON object using the .net core FHIR library. I am able to parse correctly made FHIR objects, but I have one file that is unable to be parsed. This is fine, however it is quite large and I am not sure where the problem actually is. Whenever I try to parse it, the <code>FhirJsonParser</code> object that I am using only throws out this message: <code>Input string was not in a correct format.</code>, and the stack trace is not particularly informative either (only complaining about being unable to parse a number, however, no location in the JSON specifies this). How can I get the line number/location that is an issue? </p>
<p>Thanks</p>



<a name="154679450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20descriptive%20error%20for%20json%20parsing/near/154679450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20descriptive.20error.20for.20json.20parsing.html#154679450">(Jan 08 2019 at 21:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> ?</p>



<a name="154680172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20descriptive%20error%20for%20json%20parsing/near/154680172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leonardo Webb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20descriptive.20error.20for.20json.20parsing.html#154680172">(Jan 08 2019 at 21:51)</a>:</h4>
<p>Just to add on since I have done some searching...</p>
<p>Effectively I am trying to capture the same output that the HAPI-FHIR CLI tool does, which is that it returns a list of validation errors, running this <code>./hapi-fhir-cli validate -v dstu3 -n fhir.json</code>, for example, gives me a list of all of the invalid attributes in the JSON. I found an older GitHub issue that seems to be similar to what I am trying to do, but I'm not sure if it is still relevant: <a href="https://github.com/ewoutkramer/fhir-net-api/issues/151" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api/issues/151">https://github.com/ewoutkramer/fhir-net-api/issues/151</a> (that is, do I still need to convert my JSON to XML and then validate against that?). Reading through the code I don't see analogues to the Java classes (ex, <code>SingleValidationMessage</code>), although I may be poking in the wrong places...</p>



<a name="156708881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20descriptive%20error%20for%20json%20parsing/near/156708881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20descriptive.20error.20for.20json.20parsing.html#156708881">(Jan 23 2019 at 17:44)</a>:</h4>
<blockquote>
<p>Hi there,</p>
<p>I am trying to parse a JSON object using the .net core FHIR library. I am able to parse correctly made FHIR objects, but I have one file that is unable to be parsed.</p>
</blockquote>
<p>Hi Leonardo, the Format exception should contain a location, and the parsing errors are actually pretty extensive and precise, so I have no idea what's going on.  Could you send me the file containing the error?</p>
<p>As for the validation you are showing in hapi, this is done by the validator, not the parser.  The validator is part of the API, you can find an example of how to use it here: <a href="https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo" target="_blank" title="https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo">https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
