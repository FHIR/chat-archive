---
layout: page
title: "FHIR Chat  · choice[x] field sized · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html">choice[x] field sized</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183405930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183405930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183405930">(Dec 13 2019 at 22:07)</a>:</h4>
<p>What do we think about the size of fields like <a href="http://hl7.org/fhir/devicemetricobservation.html" target="_blank" title="http://hl7.org/fhir/devicemetricobservation.html">http://hl7.org/fhir/devicemetricobservation.html</a> effectiveDateTime, where<br>
effective[x] has min size 0,<br>
effective[x]:effectiveDateTime has min size 1<br>
(and no other types are allowed)</p>
<p>it sort of seems to me like those should agree that the field must be populated.  Does that seem reasonable?</p>



<a name="183409835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183409835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183409835">(Dec 13 2019 at 23:02)</a>:</h4>
<p>yes. in fact, that would no longer build like that</p>



<a name="183409996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183409996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183409996">(Dec 13 2019 at 23:05)</a>:</h4>
<p>no. I lie. but it won't from now on</p>



<a name="183410001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183410001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183410001">(Dec 13 2019 at 23:05)</a>:</h4>
<p>well, at least, after my next release</p>



<a name="183411448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183411448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183411448">(Dec 13 2019 at 23:29)</a>:</h4>
<p>Cool.  Another one:<br>
Seems like <a href="http://hl7.org/fhir/extension-composition-section-subject.html" target="_blank" title="http://hl7.org/fhir/extension-composition-section-subject.html">http://hl7.org/fhir/extension-composition-section-subject.html</a> is rendering the content as 0..1 even though Extension.value[x] is 1..1</p>



<a name="183411502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183411502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183411502">(Dec 13 2019 at 23:30)</a>:</h4>
<p>(true of all extensions, that's just an example)</p>



<a name="183516294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183516294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183516294">(Dec 16 2019 at 03:08)</a>:</h4>
<p>I think that's correct</p>



<a name="183559544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183559544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183559544">(Dec 16 2019 at 15:31)</a>:</h4>
<p>hmm why wouldn't it render as 1..1 in the snapshot/differential if the extension value is 1..1?</p>



<a name="183561075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183561075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183561075">(Dec 16 2019 at 15:45)</a>:</h4>
<p>What value being 1..1 says is that "if the extension is present, it must have a value".  It's <em>not</em> saying "the extension must exist".  That would be expressed by the cardinality of the extension, not the cardinality of extension.value.</p>



<a name="183564116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183564116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183564116">(Dec 16 2019 at 16:15)</a>:</h4>
<p>hmm, to be clear, I'm talking about <a href="http://hl7.org/fhir/extension-composition-section-subject.html" target="_blank" title="http://hl7.org/fhir/extension-composition-section-subject.html">http://hl7.org/fhir/extension-composition-section-subject.html</a></p>



<a name="183564256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183564256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183564256">(Dec 16 2019 at 16:17)</a>:</h4>
<p>so you're saying that the 0..1 on the definition of the extension indicates there means that there are between 0 and 1 instances of that extension?  on what?  isn't that something that would be expressed by a profile?</p>



<a name="183567943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183567943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183567943">(Dec 16 2019 at 16:53)</a>:</h4>
<p>0..1 on the element that <em>references</em> the extension would define the extension as optional.  If you make the definition of the extension 1..1, then that says that "if a profile references this extension, they have to make it mandatory (min=1)".</p>



<a name="183568168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183568168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183568168">(Dec 16 2019 at 16:55)</a>:</h4>
<p>hmm.  Ok,just to be 100% clear, which of those categories is the 0..1 here <a href="http://hl7.org/fhir/extension-composition-section-subject.html" target="_blank" title="http://hl7.org/fhir/extension-composition-section-subject.html">http://hl7.org/fhir/extension-composition-section-subject.html</a>?</p>



<a name="183568260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183568260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183568260">(Dec 16 2019 at 16:56)</a>:</h4>
<p>that says, "A profile can include this extension without it being mandatory"?</p>



<a name="183570031"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183570031" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183570031">(Dec 16 2019 at 17:13)</a>:</h4>
<p>Right.  If the base definition of the extension is 0..1, then it can be included without it being mandatory.  However, a profile can tighten up its reference and choose to make it mandatory in that particular location for that particular profile if it wishes.</p>



<a name="183571199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183571199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183571199">(Dec 16 2019 at 17:26)</a>:</h4>
<p>Ok, fair enough.  Feels a bit odd to place a universal restriction on use of an extension, instead of leaving it up to the individual profile to define usage, but thanks for explaining.</p>



<a name="183571445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183571445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183571445">(Dec 16 2019 at 17:29)</a>:</h4>
<p>It's more common to constrain the upper cardinality - to indicate whether an extension is allowed to repeat or not.  Constraining the minimum cardinality across all contexts is unusual.  Essentially it's saying "if you're going to use this, it must always be present", and that's not something that is often true.</p>



<a name="183571501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183571501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183571501">(Dec 16 2019 at 17:29)</a>:</h4>
<p>ah that makes sense</p>



<a name="183582874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183582874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183582874">(Dec 16 2019 at 19:40)</a>:</h4>
<p>in fact, I don't think I've seen minimum = 1 on an extension</p>



<a name="183582900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183582900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183582900">(Dec 16 2019 at 19:40)</a>:</h4>
<p>but repeating or not... that's common</p>



<a name="183595708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/choice%5Bx%5D%20field%20sized/near/183595708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/choice.5Bx.5D.20field.20sized.html#183595708">(Dec 16 2019 at 22:00)</a>:</h4>
<p>I have a couple of times where I thought it was legit, but I can't remember the use-cases off the top of my head.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
