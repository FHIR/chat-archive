---
layout: page
title: "FHIR Chat  · Database model · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html">Database model</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153964456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> William Tran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964456">(May 23 2018 at 20:06)</a>:</h4>
<p>Hi, </p>
<p>I'm being charged with implementing FHIR as the claims and clinical data model for my company. As I understand it, FIHR only specifies the REST API, but not the underlying database model. </p>
<p>I've come across FHIRBase, but it seems to simply take the JSON data object and store it in a "resource" field. Have anyone come across a more "relational" database model that I could use as a starting point? Does something like PCORnet fit the bill here, or do I need something different?</p>
<ul>
<li>William</li>
</ul>



<a name="153964457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964457">(May 23 2018 at 20:11)</a>:</h4>
<p>You might want to take a look at <a href="http://standardhealthrecord.org/" target="_blank" title="http://standardhealthrecord.org/">http://standardhealthrecord.org/</a> as well</p>



<a name="153964458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tyler Fricks <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964458">(May 23 2018 at 20:12)</a>:</h4>
<p><span class="user-mention" data-user-id="195957">@William Tran</span>  I am just starting FHIR implementation too. My recommendation is MongoDB, although that probably isn't helpful for you as it is far from relational. It's just that Mongo handles JSON files very well, even queries are in JSON format. It keeps things consistent and it's what we are using.</p>



<a name="153964459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964459">(May 23 2018 at 20:17)</a>:</h4>
<p>there's a mix of approaches. You might find this useful:</p>



<a name="153964460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964460">(May 23 2018 at 20:17)</a>:</h4>
<p><a href="http://www.healthintersections.com.au/?p=2776" target="_blank" title="http://www.healthintersections.com.au/?p=2776">http://www.healthintersections.com.au/?p=2776</a></p>



<a name="153964461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> William Tran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964461">(May 23 2018 at 20:21)</a>:</h4>
<p><span class="user-mention" data-user-id="196265">@Tyler Fricks</span> nice to hear that; I've thought of MongoDB too but am a little worried about data integrity. Did you take advantage of MongoDB's schema validation or did you delegate that to the API layer?</p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> and <span class="user-mention" data-user-id="191782">@Brian Kaney</span> , thanks a lot for the resources :)</p>



<a name="153964467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tyler Fricks <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964467">(May 23 2018 at 20:57)</a>:</h4>
<p><span class="user-mention" data-user-id="195957">@William Tran</span> We have not done it yet, but we will use the built in validation. I have used Mongo before for other projects and the validation is top notch. </p>
<p>Of course there is some validation before it gets to Mongo as well...</p>



<a name="153964584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964584">(May 24 2018 at 12:15)</a>:</h4>
<p>This is based on a relational model (geared towards UK and not all resources) : <a href="https://github.com/nhsconnect/careconnect-reference-implementation" target="_blank" title="https://github.com/nhsconnect/careconnect-reference-implementation">https://github.com/nhsconnect/careconnect-reference-implementation</a></p>



<a name="153964585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153964585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153964585">(May 24 2018 at 12:16)</a>:</h4>
<p>it uses HAPI. Instructions available here: <a href="https://nhsconnect.github.io/CareConnectAPI/build_ri_overview.html" target="_blank" title="https://nhsconnect.github.io/CareConnectAPI/build_ri_overview.html">https://nhsconnect.github.io/CareConnectAPI/build_ri_overview.html</a></p>



<a name="153970896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153970896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153970896">(Jun 20 2018 at 23:07)</a>:</h4>
<p>May also find this useful in your server design, has a list of the issues data storage styles have:<br>
<a href="https://www.slideshare.net/BrianPostlethwaite1/fhir-server-design-review" target="_blank" title="https://www.slideshare.net/BrianPostlethwaite1/fhir-server-design-review">https://www.slideshare.net/BrianPostlethwaite1/fhir-server-design-review</a></p>



<a name="153971284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153971284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153971284">(Jun 22 2018 at 19:17)</a>:</h4>
<p>We built a Go-based FHIR server using MongoDB (see: <a href="https://github.com/intervention-engine/fhir" target="_blank" title="https://github.com/intervention-engine/fhir">https://github.com/intervention-engine/fhir</a>).  MongoDB worked great for CRUD and simple searches.  But... we ran into issues implementing things liked chained search, reverse chained search, has, etc.  We had to drop into MongoDB's aggregation pipeline to do these, and that significantly impacted performance once we got into very large numbers of records (and it made paging quite difficult as well).  In the end, if we were to do it again today, we probably would not use MongoDB.</p>



<a name="153971285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153971285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153971285">(Jun 22 2018 at 19:20)</a>:</h4>
<p>More recently, we have begun to experiment using PG's JSON capabilities (see: <a href="https://github.com/synthetichealth/candle" target="_blank" title="https://github.com/synthetichealth/candle">https://github.com/synthetichealth/candle</a>).  This is just a proof-of-concept and doesn't do nearly as much as our MongoDB-based server, but so far has shown promise.  <span class="user-mention" data-user-id="191434">@Andy Gregorowicz</span> gave a short talk on this at the recent Dev Days.  We can probably point you to the slides once they are posted.</p>



<a name="153971286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/153971286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#153971286">(Jun 22 2018 at 19:23)</a>:</h4>
<p>I should also note that MongoDB prevented us from properly supporting atom transactions as well -- although I hear that Mongo 4.0 will support multi-document transactions.</p>



<a name="154019769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/154019769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Antonio De los Cobos <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#154019769">(Nov 20 2018 at 12:25)</a>:</h4>
<p>Anybody has any documentation about FHIR database model?. thank you</p>



<a name="154019790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/154019790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#154019790">(Nov 20 2018 at 13:51)</a>:</h4>
<p>Hi Juan, there is no single FHIR database model - many vendors will have an existing model that they map to FHIR, and most of the new FHIR-only servers use a database in which the FHIR data is stored as a binary blob, with the searcheable fields split off in separate columns (or a joined search table).</p>
<p>That said, there could be a "best practice" for mapping resources to RDBMS tables - I think I heard someone talking about creating such a document - but I don't recall who.</p>



<a name="154019792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/154019792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#154019792">(Nov 20 2018 at 13:57)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="197472">@Juan Antonio De los Cobos</span>, FYI there is an active discussion going on about mapping FHIR to SQL within the analytics on FHIR stream, e.g.:<br>
<a href="#narrow/stream/73-analytics-on.20FHIR/subject/Connectathon.20track" title="#narrow/stream/73-analytics-on.20FHIR/subject/Connectathon.20track">https://chat.fhir.org/#narrow/stream/73-analytics-on.20FHIR/subject/Connectathon.20track</a><br>
Also see <span class="user-mention" data-user-id="193657">@Ryan Brush</span>'s Github repo:<br>
<a href="https://github.com/rbrush/sql-on-fhir" target="_blank" title="https://github.com/rbrush/sql-on-fhir">https://github.com/rbrush/sql-on-fhir</a></p>



<a name="154019800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/154019800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#154019800">(Nov 20 2018 at 14:43)</a>:</h4>
<p>Now I remember <span class="emoji emoji-1f600" title="grinning">:grinning:</span></p>



<a name="154019814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/154019814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Antonio De los Cobos <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#154019814">(Nov 20 2018 at 15:21)</a>:</h4>
<p>oh, thank you <span class="user-mention" data-user-id="191336">@Michel Rutten</span></p>



<a name="154019815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/154019815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Antonio De los Cobos <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#154019815">(Nov 20 2018 at 15:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> you remember?, could you tell me?, thanks</p>



<a name="154019829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/154019829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#154019829">(Nov 20 2018 at 16:41)</a>:</h4>
<p>Well, I forgot the sql-on-fhir stuff from Ryan. Michel was right.</p>



<a name="157614658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/157614658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Antonio De los Cobos <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#157614658">(Feb 05 2019 at 15:31)</a>:</h4>
<p>Thank you Michel, <span class="user-mention" data-user-id="193657">@Ryan Brush</span> could you help me. I understood that i can create queries using sql, but the question is. How can i connect to my resources local server to execute these sentences to obtain the results??</p>



<a name="157671183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/157671183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#157671183">(Feb 06 2019 at 07:29)</a>:</h4>
<p>sql-on-fhir moved to fhir organization</p>
<p>Here is some related posts - <a href="https://medium.com/fhirbase-dojo" target="_blank" title="https://medium.com/fhirbase-dojo">https://medium.com/fhirbase-dojo</a></p>



<a name="157671322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/157671322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#157671322">(Feb 06 2019 at 07:32)</a>:</h4>
<p>sql on fhir  based on nested structure like json/or struct/ composite type. Our attempt to implement flat relational model failed because of about 2K tables was generated, joins are slow and many other reasons. If you want to save just a couple of resources - maybe you can go this way.</p>



<a name="157671339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/157671339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#157671339">(Feb 06 2019 at 07:33)</a>:</h4>
<p>You are welcome to our dedicated stream - <a href="#narrow/stream/179219-analytics-on.20FHIR" title="#narrow/stream/179219-analytics-on.20FHIR">https://chat.fhir.org/#narrow/stream/179219-analytics-on.20FHIR</a> - to discuss your concerns.</p>



<a name="157671490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/157671490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#157671490">(Feb 06 2019 at 07:37)</a>:</h4>
<p><span class="user-mention" data-user-id="193657">@Ryan Brush</span> is mostly interested in analytic on FHIR, when fhirbase is designed to be a database for your FHIR server :)</p>



<a name="157673575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/157673575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#157673575">(Feb 06 2019 at 08:26)</a>:</h4>
<p>Re models. This isn't a 100% match to the FHIR (STU3) model, but close. <a href="https://www.openhealthhub.org/t/exploring-fhir-model-database/1987" target="_blank" title="https://www.openhealthhub.org/t/exploring-fhir-model-database/1987">https://www.openhealthhub.org/t/exploring-fhir-model-database/1987</a><br>
It is a relational database model using HAPI RESTful server.</p>



<a name="157678852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/157678852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#157678852">(Feb 06 2019 at 10:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> as I see from diagrams, this schema makes a lot of assumptions and narrow FHIR resources, i.e. it's lossy. For example Observation.code.coding is a collection, but in Observation table, you have only one column for that. No extensions support</p>



<a name="157807211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Database%20model/near/157807211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Database.20model.html#157807211">(Feb 07 2019 at 19:50)</a>:</h4>
<p>Yes, that was done on purpose. It is designed mimic a traditional PAS/EPR SQL model, so it tends to match constraints they would have. <br>
We have another system which stores the full resources but it's NoSQL/Mongo and it's not easy to show relationships between resources.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
