---
layout: page
title: "FHIR Chat  · Reverse Chaining · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html">Reverse Chaining</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="258738703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20Chaining/near/258738703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chidamber Kumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html#258738703">(Oct 22 2021 at 16:46)</a>:</h4>
<p>Hello<br>
I've a question on the example given under the section of reverse chaining.</p>
<p>GET [base]/Patient?_has:Observation:patient:_has:AuditEvent:entity:user=MyUserId</p>
<p>If my understanding is correct about reverse chaining, 'user' should be a search parameter for the Resource 'Audit'. I don't see any such search parameter defined for 'Audit'.</p>
<p>Any insights?</p>
<p>Thanks</p>



<a name="258739615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20Chaining/near/258739615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html#258739615">(Oct 22 2021 at 16:52)</a>:</h4>
<p>You're correct! This is an error stemming from the fact that the example you cited is not validated automatically. The word <code>user</code> should probably be <code>agent</code>. I'll submit a Jira ticket.</p>



<a name="258739738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20Chaining/near/258739738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html#258739738">(Oct 22 2021 at 16:53)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-34162">FHIR-34162</a></p>



<a name="258746963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20Chaining/near/258746963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chidamber Kumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html#258746963">(Oct 22 2021 at 17:44)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191315">@Josh Mandel</span> for taking that as an action.</p>



<a name="269122355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20Chaining/near/269122355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohsen Jafari <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html#269122355">(Jan 24 2022 at 15:31)</a>:</h4>
<p>Regarding the Reverse Chaining, I cannot understand how multiple _has work. For example, [base]/Patient?_has:Observation:patient:code=123&amp;_has:Observation:patient:code=456. In the documentation it says that each _has parameter is processed independently of other _has parameters, but I cannot understand the meaning of independently here. Would you please help me in this matter?</p>



<a name="269123784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20Chaining/near/269123784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html#269123784">(Jan 24 2022 at 15:41)</a>:</h4>
<p>A better example would be to find patients where (has an Observation with code 123) AND (has an Observation with status "final"). But those could be two different Observations because each "has" is treated independently (or separately).</p>
<p>It is not possible to use _has to find patients where (has an Observation with (code 123 AND status "final")).</p>



<a name="269125729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20Chaining/near/269125729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html#269125729">(Jan 24 2022 at 15:54)</a>:</h4>
<p>You could gather the observations you care about, collect a set of Patient id values from them then read each of those patients.</p>



<a name="269149257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20Chaining/near/269149257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20Chaining.html#269149257">(Jan 24 2022 at 18:34)</a>:</h4>
<p>Paul is correct that this can't be done using 2 different _has parameters, there are other ways of doing this in one single search, e.g. using _include: GET [base]/Observation?code=123&amp;status=final&amp;_include=Observation: patient (ok, that'd also return the actual observations), or configuring [if one has the option of doing so] the server to support a new composite type search parameter for Observations, a composite search parameter for the tuple (code, status).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
