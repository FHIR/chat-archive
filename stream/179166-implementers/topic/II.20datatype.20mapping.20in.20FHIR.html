---
layout: page
title: "FHIR Chat  · II datatype mapping in FHIR · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html">II datatype mapping in FHIR</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="233736584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/233736584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tushar Nair <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#233736584">(Apr 08 2021 at 21:52)</a>:</h4>
<p>In the FHIR spec -datatypes-mapping section it's mentioned that :<br>
If the II has only a root and no extension, the FHIR Identifier will have a system of 'urn:ietf:rfc:3986' and the II.root will appear in Identifier.value<br>
If the II has both a root and an extension, the II.root will be mapped to a URI - either a human-friendly URL or URN or (less preferred) an OID expressed as a urn, and the II.extension will be sent in Identifier.value<br>
When extension is absent and root is a UUID, its shown as follows: <br>
&lt;system value="urn:ietf:rfc:3986" /&gt;<br>
    &lt;value value="urn:uuid:a76d9bbf-f293-4fb7-ad4c-2851cac77162" /&gt;<br>
When extension is absent and root is an OID, then it is supposed to be presented as follows:<br>
&lt;system value="urn:ietf:rfc:3986" /&gt;<br>
    &lt;value value="urn:oid:0.1.2.3.4.5" /&gt;</p>
<p>This is fine but as the root can be anything -an OID or UUID or maybe a string(not a regular thing). At runtime, how does a system recognize this and map accordingly. Maybe there is a simple answer to it and I am not aware, if so please bear with me. Thank you in advance.</p>



<a name="233742372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/233742372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#233742372">(Apr 08 2021 at 22:47)</a>:</h4>
<p>This is the definition of UID - the datatype of II.root:</p>
<blockquote>
<p>The allowable formats and values and procedures of this data type are strictly controlled by HL7. At this time, user-assigned identifiers may be certain character representations of ISO Object Identifiers (OID) and DCE Universally Unique Identifiers (UUID). HL7 also reserves the right to assign other forms of UIDs (RUID), such as mnemonic identifiers for code systems.</p>
</blockquote>
<p>I think it is clear that only an OID or a UUID can be in the root.</p>



<a name="233742714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/233742714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tushar Nair <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#233742714">(Apr 08 2021 at 22:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> thank you. However, it's still tricky to distinguish between OID or UUID at runtime for the system. Is there any guidance around that? Thanks.</p>



<a name="233744105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/233744105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#233744105">(Apr 08 2021 at 23:05)</a>:</h4>
<p>How is that tricky? digits separated by dots versus hex with possible dash separators ?</p>



<a name="233850117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/233850117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#233850117">(Apr 09 2021 at 16:13)</a>:</h4>
<p>The V3 datatypes core schema has this for OID:</p>
<div class="codehilite" data-code-language="XML"><pre><span></span><code>    <span class="nt">&lt;xs:restriction</span> <span class="na">base=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;xs:pattern</span> <span class="na">value=</span><span class="s">"[0-2](\.(0|[1-9][0-9]*))*"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/xs:restriction&gt;</span>
</code></pre></div>
<p>and for UUID</p>
<div class="codehilite" data-code-language="XML"><pre><span></span><code>  <span class="nt">&lt;xs:restriction</span> <span class="na">base=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;xs:pattern</span> <span class="na">value=</span><span class="s">"[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/xs:restriction&gt;</span>
</code></pre></div>



<a name="233853012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/233853012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#233853012">(Apr 09 2021 at 16:31)</a>:</h4>
<p>In short - search for "contains('.')" vs "contains('-')"</p>



<a name="246150506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/246150506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#246150506">(Jul 15 2021 at 20:25)</a>:</h4>
<p>This is tantalizing: "HL7 also reserves the right to assign other forms of UIDs " Has there been any suggestion of adding http to that list? Rather than requiring everyone to figure out how to, in a coordinated fashion, assign OIDs to every URI in every FHIR spec?</p>



<a name="246235496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/246235496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#246235496">(Jul 16 2021 at 15:03)</a>:</h4>
<p>We don't want to use OIDs in FHIR at all in any place we can avoid them.  OIDs suck for developers, testers, and anyone else who actually has to look at real instances.</p>



<a name="246238357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/246238357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#246238357">(Jul 16 2021 at 15:28)</a>:</h4>
<p>i think Jay was asking if we could change the V3 UID to allow URIs.</p>



<a name="246246635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/II%20datatype%20mapping%20in%20FHIR/near/246246635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/II.20datatype.20mapping.20in.20FHIR.html#246246635">(Jul 16 2021 at 16:31)</a>:</h4>
<p>Ah.  I don't think there's any appetite for revising v3 data types at all (either from a new version of the standard perspective or from an implementation perspective).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
