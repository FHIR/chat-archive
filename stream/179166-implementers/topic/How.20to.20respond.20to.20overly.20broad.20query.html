---
layout: page
title: "FHIR Chat  · How to respond to overly broad query · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20respond.20to.20overly.20broad.20query.html">How to respond to overly broad query</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153858169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20respond%20to%20overly%20broad%20query/near/153858169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jorge de la Garza <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20respond.20to.20overly.20broad.20query.html#153858169">(Nov 22 2016 at 20:58)</a>:</h4>
<p>How should a server respond to a query that selects too many resources?  We have paging implemented, so we will only actually return 20 or so resources at a time, but even with paging it hardly seems appropriate to respond to a query that selects 100K results, for example.</p>
<p>I have a feeling the answer will be, "That's up to you as a server", in which case we would probably just return 1,000 or so results (paged, of course).  Is there some way we can reflect to the client that this search has been truncated?  An OperationOutcome, perhaps?  What would the code be?</p>



<a name="153858172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20respond%20to%20overly%20broad%20query/near/153858172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20respond.20to.20overly.20broad.20query.html#153858172">(Nov 22 2016 at 23:54)</a>:</h4>
<p>If you think they're asking for too much, you can return an OperationOutcome with the <a href="https://www.hl7.org/fhir/valueset-issue-type.html" target="_blank" title="https://www.hl7.org/fhir/valueset-issue-type.html">too-costly</a> code</p>



<a name="153858173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20respond%20to%20overly%20broad%20query/near/153858173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20respond.20to.20overly.20broad.20query.html#153858173">(Nov 22 2016 at 23:55)</a>:</h4>
<p>That wouldn't exactly be a truncated search though, that would be a refusal to search</p>



<a name="153858187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20respond%20to%20overly%20broad%20query/near/153858187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20respond.20to.20overly.20broad.20query.html#153858187">(Nov 23 2016 at 05:33)</a>:</h4>
<p>you can send a too-costly after a set of results. A client could only understand that as 'too costly to continue' </p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
