---
layout: page
title: "FHIR Chat  · Dosage timing question · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html">Dosage timing question</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191606482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191606482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marten Smits <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191606482">(Mar 24 2020 at 13:11)</a>:</h4>
<p>Hi I'm trying to model the following dosageInstruction: <em>Once every 8 weeks, take 2 times a day 500mg</em>. But it seems I'm missing a "frequencyUnit"  element or something. For now I'm getting this:</p>
<div class="codehilite"><pre><span></span> &lt;dosageInstruction&gt;
    &lt;timing&gt;
      &lt;repeat&gt;
        &lt;frequency value=&quot;2&quot;/&gt;
        &lt;period value=&quot;8&quot;/&gt;
        &lt;periodUnit value=&quot;wk&quot;/&gt;
      &lt;/repeat&gt;
    &lt;/timing&gt;
    &lt;doseQuantity&gt;
      &lt;value value=&quot;500&quot;/&gt;
      &lt;unit value=&quot;mg&quot;/&gt;
      &lt;system value=&quot;http://unitofmeasure.org&quot;/&gt;
      &lt;code value=&quot;mg&quot;/&gt;
    &lt;/doseQuantity&gt;
  &lt;/dosageInstruction&gt;
</pre></div>


<p>I would like to specify the 2 times a day part, instead of just "2". Is there a way to do that? An option I'm missing in timing?</p>



<a name="191608473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191608473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191608473">(Mar 24 2020 at 13:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191759">@Melva Peters</span></p>



<a name="191622751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191622751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191622751">(Mar 24 2020 at 15:04)</a>:</h4>
<p>I don't think you can do that because you have two different frequencies - the "once every 8 weeks" part and then the "two times a day" part.  I'm assuming that you take it twice on one day and then wait eight weeks?  The best that I can come up with is saying to take it twice a day for one day and then have a 2nd dosage instruction with the same timing but 8 weeks later.  If this is supposed to be an ongoing thing, then that won't work, so you'll have to fall back to text.</p>



<a name="191623406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191623406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191623406">(Mar 24 2020 at 15:08)</a>:</h4>
<p>Or an extension</p>



<a name="191623433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191623433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191623433">(Mar 24 2020 at 15:08)</a>:</h4>
<p>true</p>



<a name="191628961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191628961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191628961">(Mar 24 2020 at 15:40)</a>:</h4>
<p>would that be a standard extension?<br>
Like the transition in v2 (I think around v2.3 or so) where we made the TQ1 segment which enabled much bigger variety.</p>



<a name="191629056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191629056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191629056">(Mar 24 2020 at 15:41)</a>:</h4>
<p>the ability to have a timing within a timing (which is what this needs)?  I'm not sure that's quite standard.</p>



<a name="191630515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191630515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191630515">(Mar 24 2020 at 15:50)</a>:</h4>
<p>yes, to have timings grouped by timings</p>



<a name="191631419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/191631419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marten Smits <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#191631419">(Mar 24 2020 at 15:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192166">Jean Duteau</span> <a href="#narrow/stream/179166-implementers/topic/Dosage.20timing.20question/near/191622751" title="#narrow/stream/179166-implementers/topic/Dosage.20timing.20question/near/191622751">said</a>:</p>
<blockquote>
<p>I don't think you can do that because you have two different frequencies - the "once every 8 weeks" part and then the "two times a day" part.  I'm assuming that you take it twice on one day and then wait eight weeks?  The best that I can come up with is saying to take it twice a day for one day and then have a 2nd dosage instruction with the same timing but 8 weeks later.  If this is supposed to be an ongoing thing, then that won't work, so you'll have to fall back to text.</p>
</blockquote>
<p>Thank you Jean, that is all I needed to hear. Falling back on text was my preference as well in this case. Thank you for confirming this can't be done structurally in standard FHIR for now.</p>



<a name="273458675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/273458675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#273458675">(Feb 28 2022 at 08:37)</a>:</h4>
<p>I've got the same problem: the frequency needs to be specified twice instead of once and the two frequencies are combined with a logical AND. For example "5 times a day monthly" means once a month, take this 5 times during the day. We need this for DSS so portraying it just as text won't work.</p>
<p>Will be making a modifierExtension for this - thinking on the best format. <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> maybe you have an idea from your v2 work?</p>



<a name="273459801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/273459801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#273459801">(Feb 28 2022 at 08:49)</a>:</h4>
<p>perhaps something including this?  <a href="https://hl7-definition.caristix.com/v2/HL7v2.6/Tables/0472">https://hl7-definition.caristix.com/v2/HL7v2.6/Tables/0472</a></p>



<a name="273459911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/273459911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#273459911">(Feb 28 2022 at 08:51)</a>:</h4>
<p>I think FHIR dosage should cover complex dosage instructions but perhaps this is seen as a a European thing so I did not pursue further.</p>



<a name="273462013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Dosage%20timing%20question/near/273462013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Dosage.20timing.20question.html#273462013">(Feb 28 2022 at 09:11)</a>:</h4>
<p>I don't see that kind of setup meshing with <code>Timing</code> all too well.</p>
<p>Thinking of adding a <code>frequencyUnit</code> modifier extension, so given the original example -</p>
<div class="codehilite" data-code-language="XML"><pre><span></span><code>    <span class="nt">&lt;timing&gt;</span>
      <span class="nt">&lt;repeat&gt;</span>
        <span class="nt">&lt;frequency</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;frequencyUnit</span> <span class="na">value=</span><span class="s">"d"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;period</span> <span class="na">value=</span><span class="s">"8"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;periodUnit</span> <span class="na">value=</span><span class="s">"wk"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/repeat&gt;</span>
    <span class="nt">&lt;/timing&gt;</span>
</code></pre></div>
<p>Would mean "twice a day, once in 8 weeks" or "once every 8 weeks, take 2 times". </p>
<p>It's still frequency per period, frequency does not apply evenly over the whole period anymore - just over the frequencyUnit and the two are a logical AND.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
