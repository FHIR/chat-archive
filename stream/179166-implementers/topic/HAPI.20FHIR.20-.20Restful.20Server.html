---
layout: page
title: "FHIR Chat  · HAPI FHIR - Restful Server · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Restful.20Server.html">HAPI FHIR - Restful Server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153917699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Restful%20Server/near/153917699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Restful.20Server.html#153917699">(Nov 05 2017 at 23:58)</a>:</h4>
<p>Hi,</p>
<p>I am following the tutorial to create a restful server - <a href="http://hapifhir.io/doc_rest_server.html" target="_blank" title="http://hapifhir.io/doc_rest_server.html">http://hapifhir.io/doc_rest_server.html</a><br>
Upon deployment, and access the Patient via /fhir/Patient/12345, I receive the following error:</p>
<p>Can anyone help shed some light on a possible resolution?</p>
<p>ca.uhn.fhir.context.ConfigurationException: Method uses the wrong Id datatype (IdDt / IdType) for the given context FHIR version: public org.hl7.fhir.instance.model.Patient resource.providers.RestfulPatientResourceProvider.getResourceById(ca.uhn.fhir.model.primitive.IdDt)<br>
    ca.uhn.fhir.rest.param.ParameterUtil.findIdParameterIndex(ParameterUtil.java:175)<br>
    ca.uhn.fhir.rest.server.method.ReadMethodBinding.&lt;init&gt;(ReadMethodBinding.java:60)<br>
    ca.uhn.fhir.rest.server.method.BaseMethodBinding.bindMethod(BaseMethodBinding.java:475)<br>
    ca.uhn.fhir.rest.server.RestfulServer.findResourceMethods(RestfulServer.java:291)<br>
    ca.uhn.fhir.rest.server.RestfulServer.findResourceMethods(RestfulServer.java:280)<br>
    ca.uhn.fhir.rest.server.RestfulServer.registerProviders(RestfulServer.java:1325)<br>
    ca.uhn.fhir.rest.server.RestfulServer.init(RestfulServer.java:955)<br>
    javax.servlet.GenericServlet.init(GenericServlet.java:158)<br>
    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:506)<br>
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)<br>
    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)<br>
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)<br>
    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)<br>
    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)<br>
    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)<br>
    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)<br>
    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)<br>
    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)<br>
    java.lang.Thread.run(Thread.java:748)</p>
<p>Thanks,</p>
<p>Joel</p>



<a name="153917701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Restful%20Server/near/153917701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christopher Schuler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Restful.20Server.html#153917701">(Nov 06 2017 at 01:32)</a>:</h4>
<p>I think the issue is with using org.hl7.fhir.instance.model.Patient. The snippets in that tutorial should really show the imports... That example uses ca.uhn.fhir.model.dstu2.resource.Patient. Here is the link to the source <a href="https://github.com/jamesagnew/hapi-fhir/blob/364c18e06e03437f0ac478105891c8be440721b7/examples/src/main/java/example/RestfulPatientResourceProvider.java" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/blob/364c18e06e03437f0ac478105891c8be440721b7/examples/src/main/java/example/RestfulPatientResourceProvider.java">https://github.com/jamesagnew/hapi-fhir/blob/364c18e06e03437f0ac478105891c8be440721b7/examples/src/main/java/example/RestfulPatientResourceProvider.java</a>.<br>
Hope that helps.</p>



<a name="153917704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Restful%20Server/near/153917704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Restful.20Server.html#153917704">(Nov 06 2017 at 02:33)</a>:</h4>
<blockquote>
<p>I think the issue is with using org.hl7.fhir.instance.model.Patient. The snippets in that tutorial should really show the imports... That example uses ca.uhn.fhir.model.dstu2.resource.Patient. Here is the link to the source <a href="https://github.com/jamesagnew/hapi-fhir/blob/364c18e06e03437f0ac478105891c8be440721b7/examples/src/main/java/example/RestfulPatientResourceProvider.java" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/blob/364c18e06e03437f0ac478105891c8be440721b7/examples/src/main/java/example/RestfulPatientResourceProvider.java">https://github.com/jamesagnew/hapi-fhir/blob/364c18e06e03437f0ac478105891c8be440721b7/examples/src/main/java/example/RestfulPatientResourceProvider.java</a>.<br>
Hope that helps.</p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="191897">@Christopher Schuler</span>  but what if I wanted to have restful server based on FHIR 3.0.1. I also had the DSTU 2.0 Patient imports and it gave me the same issue. I also set the context in the server setFhirContext(FhirContext.forDstu3()); Any other ideas?</p>



<a name="153917780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Restful%20Server/near/153917780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Restful.20Server.html#153917780">(Nov 06 2017 at 13:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191897">@Christopher Schuler</span> , you were right. I had the wrong stu2 import for patient. It works now.  the read() works but the search() isn't getting invoked.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
