---
layout: page
title: "FHIR Chat  · FHIR Validator Error: Duplicate Resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html">FHIR Validator Error: Duplicate Resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="179976430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/179976430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#179976430">(Nov 05 2019 at 20:54)</a>:</h4>
<p>Using FHIR validator tool version 4.0.31-SNAPSHOT, I get the following error when running validation on a FHIR example that worked on an earlier validator tool version back from mid-August.  The output is the following:  <br>
<code>(base) mayt-PC Tue Nov 05 15:45:40 fhirValidator $ java -jar org.hl7.fhir.validator.jar Patient-example-usr4.json -ig hl7.fhir.us.core
FHIR Validation tool Version 4.0.31-SNAPSHOT - Built 2019-11-05T15:35:39.648+11:00 - Git a0ece162e77c
Detected Java version: 12.0.2 from /Library/Java/JavaVirtualMachines/adoptopenjdk-12.jdk/Contents/Home on x86_64 (64bit). 4096MB available
Arguments: Patient-example-usr4.json -ig hl7.fhir.us.core
Directories: Current = /Users/mayt/mltApps/fhirValidator, Package Cache = /Users/mayt/.fhir/packages
  .. connect to tx server @ http://tx.fhir.org
  .. definitions from hl7.fhir.core#current
Error loading ImplementationGuide-fhir.json: Duplicate Resource http://hl7.org/fhir/ImplementationGuide/fhir
Exception in thread "main" org.hl7.fhir.exceptions.FHIRException: Error loading ImplementationGuide-fhir.json: Duplicate Resource http://hl7.org/fhir/ImplementationGuide/fhir
    at org.hl7.fhir.r5.context.SimpleWorkerContext.fromDefinitions(SimpleWorkerContext.java:203)
    at org.hl7.fhir.r5.validation.ValidationEngine.loadDefinitions(ValidationEngine.java:409)
    at org.hl7.fhir.r5.validation.ValidationEngine.loadInitialDefinitions(ValidationEngine.java:356)
    at org.hl7.fhir.r5.validation.ValidationEngine.&lt;init&gt;(ValidationEngine.java:388)
    at org.hl7.fhir.r5.validation.Validator.main(Validator.java:489)
Caused by: org.hl7.fhir.exceptions.DefinitionException: Duplicate Resource http://hl7.org/fhir/ImplementationGuide/fhir
    at org.hl7.fhir.r5.context.BaseWorkerContext.cacheResource(BaseWorkerContext.java:188)
    at org.hl7.fhir.r5.context.SimpleWorkerContext.loadFromFileJson(SimpleWorkerContext.java:271)
    at org.hl7.fhir.r5.context.SimpleWorkerContext.loadDefinitionItem(SimpleWorkerContext.java:212)
    at org.hl7.fhir.r5.context.SimpleWorkerContext.fromDefinitions(SimpleWorkerContext.java:200)
    ... 4 more</code></p>
<p>Any ideas on what to try?</p>



<a name="179976933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/179976933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#179976933">(Nov 05 2019 at 20:59)</a>:</h4>
<p>it's on my list to resolve</p>



<a name="179977062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/179977062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#179977062">(Nov 05 2019 at 21:00)</a>:</h4>
<p>but you need to specify the version - use the parameter <code>-version 4.0</code></p>



<a name="180133880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180133880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180133880">(Nov 07 2019 at 13:56)</a>:</h4>
<p>I was also having a similar issue trying to validate a resource with known issues.  I previously was able to get validation results back on it, but with the most recent snapshot I'm getting:</p>
<p><code>Exception in thread "main" java.lang.Error: Not done yet - resolve http://hl7.org/fhir/StructureDefinition/us-core-race</code></p>
<p>When trying: <code>java -jar org.hl7.fhir.validator.jar patient.json -ig hl7.fhir.us.core -version 4.0</code></p>
<p>When I remove the <code>us-core-race</code> extension I get a similar <code>Not done yet</code> error on another extension.</p>
<p>Apologies if you were already aware, but I figured I'd bring it up in case it's helpful.</p>



<a name="180144135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180144135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180144135">(Nov 07 2019 at 15:41)</a>:</h4>
<p>Are you using the most recent validator - as found here: <a href="https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar" target="_blank" title="https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar">https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar</a>?</p>



<a name="180160263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180160263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180160263">(Nov 07 2019 at 18:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> - I worked on this issue with <span class="user-mention" data-user-id="197651">@Reece Adamson</span> - upon further troubleshooting, it seems like there is some issue regarding error handling.  We worked with a FHIR instance that had some errors in it (e.g.: incorrect representation of a complex extension (e.g.: like the race example above), incorrect URLs to coding systems) and each time, the "Not done yet..." type of unhandled exception followed by stack trace appears.  As I fixed each error of that severity, it would kick off the same unhandled exception with the next error...all the way until only informational and warning-level errors remained.</p>



<a name="180160893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180160893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180160893">(Nov 07 2019 at 18:38)</a>:</h4>
<p>The version of the FHIR validator used: <code>FHIR Validation tool Version 4.0.31-SNAPSHOT - Built 2019-11-05T15:35:39.648+11:00 - Git a0ece162e77c</code></p>



<a name="180177820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180177820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180177820">(Nov 07 2019 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="180177840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180177840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180177840">(Nov 07 2019 at 21:28)</a>:</h4>
<p>it's on my list</p>



<a name="180199285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180199285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180199285">(Nov 08 2019 at 03:20)</a>:</h4>
<p>I can't reproduce this?</p>



<a name="180251282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180251282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180251282">(Nov 08 2019 at 17:18)</a>:</h4>
<p><a href="/user_uploads/10155/St4orbeFOgs3ADuQnEFFn8oq/patient.json" target="_blank" title="patient.json">patient.json</a> here is the example I used.</p>
<p>Just redownloaded and tried again with the same result.</p>
<p>Validator version: <code>FHIR Validation tool Version 4.0.31-SNAPSHOT - Built 2019-11-05T15:35:39.648+11:00 - Git a0ece162e77c</code></p>



<a name="180252852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180252852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180252852">(Nov 08 2019 at 17:35)</a>:</h4>
<p><a href="/user_uploads/10155/9ljx8PUcAY9q2tVchPANFWzc/resource.json" target="_blank" title="resource.json">resource.json</a> <span class="user-mention" data-user-id="191647">@Michael O'Keefe</span> and I made another very simple example here that shows the issue.  This resource should be valid as far as I can see though.</p>
<p><code>"system": "http://hl7.org/fhir/v2/0203"</code> seems to be the culprit in this example as without it the validation proceeded.</p>



<a name="180333713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180333713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180333713">(Nov 09 2019 at 21:56)</a>:</h4>
<p>fixed next release. btw, the source of a lot of this is that you are validating on the wrong version - the instance is not an r4 instance (r2?) (no excuse for the validator failing, of course)</p>



<a name="180522202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180522202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180522202">(Nov 12 2019 at 14:37)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, I'll give it a go with the new release!</p>



<a name="180624073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20Error%3A%20Duplicate%20Resource/near/180624073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20Error.3A.20Duplicate.20Resource.html#180624073">(Nov 13 2019 at 13:17)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> !  Looks like this latest validator release <code>4.0.36-SNAPSHOT</code> fixed my immediate issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
