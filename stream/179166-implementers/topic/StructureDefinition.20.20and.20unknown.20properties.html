---
layout: page
title: "FHIR Chat  · StructureDefinition  and unknown properties · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html">StructureDefinition  and unknown properties</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230610460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/230610460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pash <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#230610460">(Mar 16 2021 at 23:34)</a>:</h4>
<p>Is it possible to validate the resource with StructureDefinition specifying ONLY the fields I want to validate and don't care about non-specified properties? Ex: I want only to validate Patient.identifier &gt; 0. <br>
Using my custom definition without BaseDefinition leads to errors like "Encountered unknown child elements 'id','meta','extension','name','telecom','gender','birthDate','address','maritalStatus','communication' for definition 'Patient' (at Patient)". I want to avoid such errors and do just partial profile validation. Please advice.</p>



<a name="230614778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/230614778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#230614778">(Mar 17 2021 at 00:30)</a>:</h4>
<p>I'm confused.<br>
The definition of Patient imports all of DomainResource. But all of those elements are optional. A Patient whose only element is Patient.identifier is valid.</p>



<a name="230614786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/230614786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#230614786">(Mar 17 2021 at 00:30)</a>:</h4>
<p>&lt;Patient xmlns="<a href="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
    &lt;identifier&gt;<br>
        &lt;system value="http://ns.electronichealth.net.au/id/hi/ihi/1.0"/&gt;<br>
        &lt;value value="8003608833357361"/&gt;<br>
    &lt;/identifier&gt;<br>
&lt;/Patient&gt;</p>



<a name="230615450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/230615450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#230615450">(Mar 17 2021 at 00:39)</a>:</h4>
<p>A minimal StructureDefinition to validate this is<br>
&lt;StructureDefinition xmlns="<a href="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
    &lt;url value="http://example.org/fhir/StructureDefinition/MyPatient"/&gt;<br>
    &lt;name value="MyPatient"/&gt;<br>
    &lt;status value="draft"/&gt;<br>
    &lt;fhirVersion value="4.0.1"/&gt;<br>
    &lt;kind value="resource"/&gt;<br>
    &lt;abstract value="false"/&gt;<br>
    &lt;type value="Patient"/&gt;<br>
    &lt;baseDefinition value="http://hl7.org/fhir/StructureDefinition/Patient"/&gt;<br>
    &lt;derivation value="constraint"/&gt;<br>
    &lt;differential&gt;<br>
        &lt;element id="Patient.identifier"&gt;<br>
            &lt;path value="Patient.identifier"/&gt;<br>
            &lt;min value="1"/&gt;<br>
        &lt;/element&gt;<br>
    &lt;/differential&gt;<br>
&lt;/StructureDefinition&gt;</p>



<a name="230659924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/230659924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pash <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#230659924">(Mar 17 2021 at 09:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191682">@Richard Townley-O'Neill</span>  yes, but I am not using core profiles, only my "partial" profile. Where the only Differential Element is Identifier, the same if you delete "baseDefinition" from your example. So when I am validating full Patient resource there are errors about unknown fields. Don't want to validate using full core profiles because of performance and uselessness in my case.</p>



<a name="230699173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/230699173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#230699173">(Mar 17 2021 at 14:29)</a>:</h4>
<p>First, you should always check modifier elements (e.g. Patient.active, Patient.deceased[x], modifierExtension, etc.) because those could cause the meaning of your instance to be non-computable.  Second, right now, the Java validator doesn't have an option to only validate certain elements.  You could submit a Git issue against it asking for that enhancement.  I believe the .NET validator is in the same boat.  Third, skipping elements is only one way of boosting performance.  I'd recommend profiling your validation experience and see where most of the time is.  Cutting down on calls to the terminology server (e.g. by ensuring all of your terminologies are pre-expanded and having a terminology service of n/a) is a big one.</p>



<a name="230702891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/230702891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pash <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#230702891">(Mar 17 2021 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I am using .Net lib, and even without requests to the external terminology servers it takes up to 1 second to validate my big bundle with the official core profiles (cold start is even worse), and also it is some fast internal "Attribute" validation which is not profile validation but at least something. Here I am asking - is it even valid to check only fields I want by the FHIR specification. Probably I am missing something in my profile, and it is possible to use the Patient profile above with some tweaks.</p>



<a name="230715415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/230715415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#230715415">(Mar 17 2021 at 16:00)</a>:</h4>
<p>There's no requirement to validate at all.  The only FHIR requirement is that all data you <em>expose</em> must be completely valid.  Typically, the easiest way to ensure that what you expose is valid is to ensure that everything you take in is valid.  It's completely legitimate to only validate those elements your system is going to pay attention to (though you should always pay attention to modifier elements).  But I don't believe the .NET validator has a capability to perform that sort of filtering as of yet.</p>



<a name="233629791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/233629791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#233629791">(Apr 08 2021 at 10:11)</a>:</h4>
<p>Hello all, </p>
<p>Can anyone please share structure definition examples with minValue and maxValue ?<br>
These fields are choice of datatype, so could not find the exact key name for this fields .</p>



<a name="233630212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/233630212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#233630212">(Apr 08 2021 at 10:15)</a>:</h4>
<p>Can we create our own profiles based on our functionality ?</p>



<a name="233673524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/233673524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#233673524">(Apr 08 2021 at 15:22)</a>:</h4>
<p>Don't have any examples near to hand, but the instances would look like this:<br>
<code>&lt;minValueDate value="2021-04-08"/&gt;</code><br>
or<br>
<code>"minValueDate": "2021-04-08",</code></p>
<p>You're certainly free to (and encouraged to) define your own profiles to document your own functionality in a standardized way.</p>



<a name="233770298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/233770298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#233770298">(Apr 09 2021 at 05:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Thank you very much for your reply</p>



<a name="233774751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/233774751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#233774751">(Apr 09 2021 at 06:40)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> </p>
<p>How to declare default value and validate data type(Codeableconcept) elements in structure definition .? <br>
This example is created by me . may be its not the real case but Like this  i may get the data for other data types.</p>
<p>Example: Patient.communication[0].language.coding[0].code they given "-" in resource request. <br>
I want to update default value "en-us" for this field .<br>
 Shall i give  direct path (Eg: Patient..communication[0].language.coding[0].code) in structure definition ?</p>



<a name="233830811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/233830811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#233830811">(Apr 09 2021 at 14:32)</a>:</h4>
<p>Can anyone please guide me how to implement meaningWhenMissing and defaultValue ?</p>
<p>In FHIR  document they mentioned like below<br>
default value and meaningWhenMissing are mutually exclusive defaultValue.empty() or meaningWhenMissing.empty()</p>
<p>Whether i can allow empty value for field and then apply default value (But fhir schema not allowing null or empty values in resource data) . How defaultValue and meaningWhenMissing  mutually exclusive ?</p>
<p>meaningWhenMissing is markdown datatype how i validate based on this ?</p>



<a name="233852048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/233852048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#233852048">(Apr 09 2021 at 16:25)</a>:</h4>
<p>FHIR doesn't have default values.  I.e. there's no "value" you can infer when an element is missing.  Where meaningIfMissing is specified, that tells how to interpret instances where the element is omitted.  It's prohibited to define meaningIfMissing in a profile - because profiles can't ever inject meaning into an instance.</p>



<a name="236318507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/236318507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#236318507">(Apr 27 2021 at 11:16)</a>:</h4>
<p>Hello all,</p>
<p>I am using <a href="http://hl7.org/fhir/validation.html#jar">http://hl7.org/fhir/validation.html#jar</a> JAR validator for stucture definition validation.<br>
If i add any additional validation property in Elements such as minValueDate,  minValueInteger , The validator not validating the resource data .</p>
<p>Can any one please help - Is my key is correct or am i missing something ?</p>



<a name="236318733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/236318733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#236318733">(Apr 27 2021 at 11:18)</a>:</h4>
<p>What is the usecase of "<strong>pattern</strong>" in structure definition ?</p>



<a name="236341863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/236341863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#236341863">(Apr 27 2021 at 14:02)</a>:</h4>
<p>Pattern is primarily used for slicing - it allows you to specify a limited amount of information to match on while still leaving other elements unconstrained.  Can you provide an example of a profile declaring mins that isn't working?</p>



<a name="236347267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/236347267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#236347267">(Apr 27 2021 at 14:32)</a>:</h4>
<p>{<br>
        "id": "Patient.birthDate",<br>
        "path": "Patient.birthDate",<br>
        "short": "The date of birth for the individual",<br>
        "definition": "The date of birth for the individual.",<br>
        "comment": "At least an estimated year should be provided as a guess if the real DOB is unknown  There is a standard extension \"patient-birthTime\" available that should be used where Time is required (such as in maternity/infant care systems).",<br>
        "requirements": "Age of the individual drives many clinical processes.",<br>
        "min": 0,<br>
        "max": "1",<br>
        "minValueDate": "1900-01-01",<br>
        "base": {<br>
          "path": "Patient.birthDate",<br>
          "min": 0,<br>
          "max": "1"<br>
        },<br>
        "type": [<br>
          {<br>
            "code": "date"<br>
          }<br>
        ],<br>
        "constraint": [<br>
          {<br>
            "key": "ele-1",<br>
            "severity": "error",<br>
            "human": "All FHIR elements must have a @value or children",<br>
            "expression": "exists() or (children().count() &gt; id.count())",<br>
            "xpath": "@value|f:*|h:div",<br>
            "source": "<a href="http://hl7.org/fhir/StructureDefinition/Element">http://hl7.org/fhir/StructureDefinition/Element</a>"<br>
          }<br>
        ],<br>
        "mustSupport": true,<br>
        "isModifier": false,<br>
        "isSummary": true,<br>
        "mapping": [<br>
          {<br>
            "identity": "v2",<br>
            "map": "PID-7"<br>
          },<br>
          {<br>
            "identity": "rim",<br>
            "map": "player[classCode=PSN|ANM and determinerCode=INSTANCE]/birthTime"<br>
          },<br>
          {<br>
            "identity": "cda",<br>
            "map": ".patient.birthTime"<br>
          },<br>
          {<br>
            "identity": "loinc",<br>
            "map": "21112-8"<br>
          },<br>
          {<br>
            "identity": "argonaut-dq-dstu2",<br>
            "map": "Patient.birthDate"<br>
          }<br>
        ]<br>
      },</p>



<a name="236347325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/236347325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#236347325">(Apr 27 2021 at 14:32)</a>:</h4>
<p>I have tested using above element <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="236366996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/236366996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#236366996">(Apr 27 2021 at 16:18)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="236410397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefinition%20%20and%20unknown%20properties/near/236410397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefinition.20.20and.20unknown.20properties.html#236410397">(Apr 27 2021 at 21:12)</a>:</h4>
<p>it turns out I've overlooked that. can you provide a profile and test instance?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
