---
layout: page
title: "FHIR Chat  · Image Annotations · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html">Image Annotations</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153967595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/153967595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#153967595">(Jun 06 2018 at 21:51)</a>:</h4>
<p><a href="https://stackoverflow.com/questions/50727179/fhir-imagingstudy-annotation" target="_blank" title="https://stackoverflow.com/questions/50727179/fhir-imagingstudy-annotation">https://stackoverflow.com/questions/50727179/fhir-imagingstudy-annotation</a> - <span class="user-mention" data-user-id="191960">@Brad Genereaux</span> <span class="user-mention" data-user-id="191380">@Elliot Silver</span></p>



<a name="153967596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/153967596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#153967596">(Jun 06 2018 at 21:52)</a>:</h4>
<p>The answer currently there is mine. Lloyd alerted me. Is there anything you want me to add?</p>



<a name="153967597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/153967597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#153967597">(Jun 06 2018 at 21:52)</a>:</h4>
<p>lol I hadn't read that far - sorry</p>



<a name="153967598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/153967598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#153967598">(Jun 06 2018 at 21:52)</a>:</h4>
<p>Np.</p>



<a name="153967600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/153967600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#153967600">(Jun 06 2018 at 21:53)</a>:</h4>
<p>Don't know whether this is something that would arise with media</p>



<a name="153967601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/153967601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#153967601">(Jun 06 2018 at 21:57)</a>:</h4>
<p>We had a short discussion at the WGM about linking Media and ImagingStudy via Provenance, and will come back to it on an upcoming call. It’s not the same use case but there’s probably some overlap. More details would help.</p>



<a name="183290834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183290834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183290834">(Dec 12 2019 at 19:08)</a>:</h4>
<p>Hello, ACR is interested in linking physical annotations to observations, thus providing a concrete link to the markup made on an image and the observation itself.  For example a bi-ruler on a liver noted as a lesion with the observed characteristics, could be linked with the derived from and imaging study in observation, but to list the actual annotation itself, such as in DICOM TID1500 AIM does not seem currently possible.  This is important when lesions with different characteristics are close to each other, as well as to properly annotate and report results from machines.  We are looking to post a sample for review and wondering if there is anyone else who has looked at this in the past?</p>



<a name="183291369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183291369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183291369">(Dec 12 2019 at 19:13)</a>:</h4>
<p>A sample of what we have been looking to post in the SIIM FHIR server is here:<br>
<a href="https://github.com/ACRCode/dsi-standards-examples/blob/master/CDE%20%2B%20AIM/FHIRpneumothorax.json" target="_blank" title="https://github.com/ACRCode/dsi-standards-examples/blob/master/CDE%20%2B%20AIM/FHIRpneumothorax.json">https://github.com/ACRCode/dsi-standards-examples/blob/master/CDE%20%2B%20AIM/FHIRpneumothorax.json</a></p>



<a name="183292408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183292408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183292408">(Dec 12 2019 at 19:24)</a>:</h4>
<p>Current Imaging Integration leadership <span class="user-mention" data-user-id="197037">@Jonathan Whitby</span> and Chris Lindop should be able to provide the latest details, but I would use an extension. There are plans to bring back a method to reference specific instances and frames, but I don't think that's granular enough for what you want. You're talking about an observation being "derived from" a specific finding in a DICOM SR. If you are using v4, I would define an extension to that lets you identify the specific SR series/instance, and finding within the instance. This extension could be applied to any ImagingStudy reference (hence, why you don't need to include the SR's study in the extension).</p>



<a name="183292587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183292587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183292587">(Dec 12 2019 at 19:26)</a>:</h4>
<p>that example is very non-conformant, which makes it hard to figure out which bit you are asking about</p>



<a name="183292747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183292747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183292747">(Dec 12 2019 at 19:28)</a>:</h4>
<p>how much sophistication do you want for identifying a region? rectangular? or full polygon?</p>



<a name="183292752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183292752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183292752">(Dec 12 2019 at 19:28)</a>:</h4>
<p>Thank you Elliot, not just the DICOM SR, or GSPS which I have seen in a previous string, but if 2 lines were drawn on the same image instance, a way to discern, which line was drawn for two potentially different observations, for example 2 lesions on a mammogram, where 1 was recommended for biospy as a BI-RADS 4B and one was to be followed as BI-RADS 3</p>



<a name="183292797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183292797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183292797">(Dec 12 2019 at 19:28)</a>:</h4>
<p>I'm not thrilled with the approach you've taken creating an ImagingStudy with only the endpoint and the single instance information, but I realize we (the working group) didn't give you much choice--I think this is was an error on our part. Please submit a Jira ticket so that the work group is sure to consider your use case. I would prefer to see an ImagingStudy resource with information about all instances, and then an extension on the reference to that resource, calling out the specific content you're interested in.</p>



<a name="183292999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183292999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183292999">(Dec 12 2019 at 19:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , Brian is trying to tie a finding or annotation in a DICOM instance to an Observation created from that finding. The question is how, from FHIR, to reference something within a DICOM instance.</p>



<a name="183293015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183293015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183293015">(Dec 12 2019 at 19:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I want to say that a line 5.7mm was drawn on the image because I am calling that a lesion, and then reference the 5.7mm annotation line</p>



<a name="183293091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183293091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183293091">(Dec 12 2019 at 19:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span>  Sorry to ask, but I am new here and where can I input the JIRA ticket</p>



<a name="183293133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183293133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183293133">(Dec 12 2019 at 19:32)</a>:</h4>
<p>what's 'a line 5.7mm'? that doesn' t sound very identifying to me</p>



<a name="183293251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183293251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183293251">(Dec 12 2019 at 19:33)</a>:</h4>
<p>I can't recall if individual annotations within a GSPS get UIDs, but if so, you could use that. If you are talking about burned-in markings, yeech, well, I suppose some sort of coordinates would be the best you could do.</p>



<a name="183293348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183293348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183293348">(Dec 12 2019 at 19:34)</a>:</h4>
<p><span class="user-mention" data-user-id="253949">@Brian Bialecki</span> <a href="https://jira.hl7.org" target="_blank" title="https://jira.hl7.org">https://jira.hl7.org</a></p>



<a name="183293883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183293883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183293883">(Dec 12 2019 at 19:41)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191380">@Elliot Silver</span>  for the Jira link.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  the 5.7 mm line is an example.  Lets say I wanted to tell you in my example I found a Pneumothorax, and the one of the items I should be observing was pleural separation, so I measured that on an image and reported it as an observation.  I want to be able to tell you the exact image I derived that observation from and exactly the end points of the line I drew to determine it.The thought is that this provides a clear link when annotating a dataset and allows for the observer to be external and the radiologist to agree or disagree with the use of provanence and versioning</p>



<a name="183294011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294011">(Dec 12 2019 at 19:42)</a>:</h4>
<p>You might be able to identify the line in a GSPS using its Tracking UID or Graphic Instance ID. I'd need to delve deeper.</p>



<a name="183294258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294258">(Dec 12 2019 at 19:45)</a>:</h4>
<p>what's a GSPS?</p>



<a name="183294273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294273">(Dec 12 2019 at 19:45)</a>:</h4>
<p>Also, take a look at Provenance. This is the general mechanism for "where did this info come from". The "derived-from" attribute in Observation has a narrower scope. Provenance won't have a way to reach into a DICOM instance--you'll still need that extension--but it will allow you to record more details about the derivation (when, where, etc.)</p>



<a name="183294389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294389">(Dec 12 2019 at 19:46)</a>:</h4>
<p>I know that in both my own implementation of this, and in CDA, we defined a region of interest on the image, and then we referenced that from the narrative. The region of interest had an id, and also identified an area of the image by rectangle. I'm not sure what 'a line' is</p>



<a name="183294400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294400">(Dec 12 2019 at 19:47)</a>:</h4>
<p>GSPS: Grey Scale Presentation State. A DICOM instance that has direction on how to display other instances (images) including annotations (text and graphics), brightness/contrast, zoom, etc.</p>



<a name="183294457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294457">(Dec 12 2019 at 19:47)</a>:</h4>
<p>so the core question is, this time, how do you refer to an object inside a  DICOM instance as the source for an observation?</p>



<a name="183294548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294548">(Dec 12 2019 at 19:48)</a>:</h4>
<p>Yes, This is true, but if I draw two arks on the same image or in the same study, they would be contained in the same GSPS and I could not link the individual mark to a specific observation</p>



<a name="183294740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294740">(Dec 12 2019 at 19:50)</a>:</h4>
<p>The core is, just as AIM in DICOM was added to provide context to the mark itself, how in FHIR do I link an observation to the mark/annotation on a specific image, or ROI within a study, not just point to a GSPS, but the specific area</p>



<a name="183294971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183294971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183294971">(Dec 12 2019 at 19:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- yes. <span class="user-mention" data-user-id="253949">@Brian Bialecki</span> How would we do it if this was all DICOM? I think the identifiers I mention above are what's used. Whatever identifiers we use in DICOM (or AIM -- the Annotation and Image Markup standard) to identify the markings, we should be able to record those in FHIR. And, for now, solving the issue on the FHIR-side would mean creating an appropriate extension.</p>



<a name="183295116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183295116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183295116">(Dec 12 2019 at 19:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191960">@Brad Genereaux</span> <span class="user-mention" data-user-id="202389">@Kevin O'Donnell</span> <span class="user-mention" data-user-id="194137">@Teri Sippel Schmidt</span> Thoughts?</p>



<a name="183295233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183295233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183295233">(Dec 12 2019 at 19:55)</a>:</h4>
<p>AIM is the way in DICOM and I took this information from TID1500 and discussions with Daniel Rubin.  The example, and yes, I unfortunately know it is not the best, but I was hoping to show what I was attempting to accomplish as an example to begin a discussion</p>



<a name="183295701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183295701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183295701">(Dec 12 2019 at 19:59)</a>:</h4>
<blockquote>
<p>if I draw two arks on the same image or in the same study, they would be contained in the same GSPS and I could not link the individual mark to a specific observation</p>
</blockquote>
<p>Do they get identifiers within the GSPS?</p>



<a name="183295710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183295710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183295710">(Dec 12 2019 at 19:59)</a>:</h4>
<p>Is GSPS or AIM common enough now to exclude other methods (e.g., burn-ins, overlays (60xx,3000), Graphic Annotation Module, etc.)?</p>



<a name="183297756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183297756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183297756">(Dec 12 2019 at 20:19)</a>:</h4>
<p>AIM has recently been added to DICOM TID 1500 and this was a buzz at this year's RSNA.  This does address the example of maultiple marks in the same GSPS.  I think that currently Key Images and GSPS can be handled if they are 1-1, but this is not the case, and I am looking to get a more concrete way to link annotations and observations, which would hopefully encompass all these methods.</p>



<a name="183301284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183301284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183301284">(Dec 12 2019 at 20:57)</a>:</h4>
<p>That's what I get for not going this year.  That said, a 4-day Thanksgiving holiday was incredible.</p>
<p>Catching up, TID 1500 appears to map AIM into DICOM SR (which is yet another format from what we've been discussing).  2019e-3.21 specifies the mapping is only for one direction, so presumably the idea is that PACS systems can ingest AIM documents and convert them into DICOM for use.</p>
<p>But I feel like we've lost sight of the question (which Grahame nailed earlier)..</p>
<p>Generically, how do you link something inside a DICOM instance to an Observation?  In particular, <code>Observation.derivedFrom</code> can goes to <code>ImagingStudy</code>, not a specific instance and not a specific tag/UID within an instance.  Is that the question (leaving aside that AIM is one of many annotation formats in use today)?</p>
<p>Or is this a more specific request about handling image annotations (and findings per the original message in the thread) in particular?</p>



<a name="183302734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183302734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183302734">(Dec 12 2019 at 21:10)</a>:</h4>
<p>I am looking to link something like a ruler measurement, which is a line defined by two endpoints in DICOM on a specific image instance to the observation it was made in reference to.  So If I see a non-spiculated mass in the right breast on the CC view that is 5.8mm in diameter.  I want to link the to the line itself.</p>



<a name="183302981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183302981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183302981">(Dec 12 2019 at 21:13)</a>:</h4>
<p>well, <span class="user-mention" data-user-id="191380">@Elliot Silver</span> is right that it's going to be an extension. its not obvious, though, how you actually refer to the content, if the annotations aren't identified internally?</p>



<a name="183303503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183303503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183303503">(Dec 12 2019 at 21:19)</a>:</h4>
<p>From what I am reading, they have internal IDs</p>



<a name="183303525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183303525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183303525">(Dec 12 2019 at 21:19)</a>:</h4>
<p>and they object has an OID? so urn:oid:[oid]#id ?</p>



<a name="183303531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183303531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183303531">(Dec 12 2019 at 21:19)</a>:</h4>
<p>If the annotations within the instance don't have individual identifiers (I think they do, but am not sure), then you can come up with a way of identifying them yourself, for example, by their position in the graphical element sequence. It's not pretty, but since DICOM requires a new instance UID if you modify the clinical information in the instance, like reordering the elements in a sequence, you should be safe.</p>



<a name="183304165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183304165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183304165">(Dec 12 2019 at 21:27)</a>:</h4>
<p>Vassil, yeah, that's my reading too. I just want to confirm my understanding.<br>
Graham, no need for the #id, I think it would just be an identifying OID for the marking. Actually, you'd probably want to use the DICOM UID identifier scheme, rather than a plain OID, and have a type that said whether it was text or graphics or a region of interest or... (I believe each are listed within a separate part of the annotation instance, so knowing where to look would be helpful.)<br>
Gino, I suspect that while GSPS isn't universal and is somewhat young still (15 years?), it is a reasonable restriction to put on a solution looking to use FHIR. I also suspect that the use case is AI related. Nothing wrong with pulling vendors kicking and screaming into the 21st century, now that we're 20 years in.</p>



<a name="183304557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183304557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183304557">(Dec 12 2019 at 21:31)</a>:</h4>
<blockquote>
<p>I think it would just be an identifying OID for the marking</p>
</blockquote>
<p>but you have to know which object to look inside of? or is it reasonable to expect inner UIDs to be indexed?</p>



<a name="183306871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183306871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183306871">(Dec 12 2019 at 21:55)</a>:</h4>
<p>Yes, you'd have to communicate the DICOM SOP instance (i.e, the GSPS "file") UID that the marking was in. I had assumed there would be a separate element in the extension to communicate that. No, I don't think you can look up the marking UID anywhere either external to the file, or internal to it.</p>



<a name="183307097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183307097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183307097">(Dec 12 2019 at 21:57)</a>:</h4>
<p>Bigger-picture FHIR modeling question here: we know how to <em>write</em> a reference to an element within a resource, like <code>Questionnaire/123/#some-id</code>. But we don't actually have a way to profile the use of this (like, defining a profile with a Reference to an element within a resource (or a particular type of backbone element within a particular type of resource). Like, to say in a profile "This slot should be a reference to an <code>Item</code> backbone element within a specific Questionnaire. Has this come up before?</p>



<a name="183309129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183309129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183309129">(Dec 12 2019 at 22:22)</a>:</h4>
<p>yes you can do that.</p>



<a name="183309843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183309843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183309843">(Dec 12 2019 at 22:31)</a>:</h4>
<p>How?</p>



<a name="183310113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183310113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183310113">(Dec 12 2019 at 22:35)</a>:</h4>
<p><a href="http://hl7.org/fhir/extension-elementdefinition-profile-element.html" target="_blank" title="http://hl7.org/fhir/extension-elementdefinition-profile-element.html">http://hl7.org/fhir/extension-elementdefinition-profile-element.html</a></p>



<a name="183310383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183310383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183310383">(Dec 12 2019 at 22:38)</a>:</h4>
<p>Elliot, yes I think GSPS is reasonable - but GSPS isn't AIM.</p>
<p>GSPS objects contain information about the state of the image view (e.g., window/level) and pixel data which can be used as overlays.  The pixel data is not separated into unique annotations within an instance.  They are essentially burn-ins that aren't burned in.</p>
<p>Edit: Overlays can be graphics objects (e.g., a line, etc.), but both types are supported and I cannot speak to the prevalence of either method.  That said, they do not have UIDs that I can find (only a label in 0070,0080).</p>
<p>Edit: GAM is in GSPS (had to look up since it was driving me crazy).  This is for things like annotating a displayed MPR - which aren't tied to a single instance.  I have no idea how that would get linked in (series level?)</p>



<a name="183577091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183577091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183577091">(Dec 16 2019 at 18:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191380">@Elliot Silver</span> I see there is a draft of ImagingReference that is posted as item 17183 in gforge, and I was wondering if I could take a look at this and try and fit it into the ACR use case</p>



<a name="183583199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183583199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183583199">(Dec 16 2019 at 19:43)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-17183" target="_blank" title="http://jira.hl7.org/browse/FHIR-17183">GF#17183</a></p>



<a name="183583356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183583356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183583356">(Dec 16 2019 at 19:45)</a>:</h4>
<p>that doesn't seem to actually be going anywhere. you're welcome to assume that it's going to be part of R5 but it's pretty old... <span class="user-mention" data-user-id="191380">@Elliot Silver</span> what's the plan here?</p>



<a name="183584104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183584104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183584104">(Dec 16 2019 at 19:53)</a>:</h4>
<p>I was on a call with WG20 today and it pears this has some traction again</p>



<a name="183596302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/183596302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#183596302">(Dec 16 2019 at 22:07)</a>:</h4>
<p>It did stall out for a bit. When I last looked it was something they were planning to get into R5, but I'm not sure how quickly its getting there. Last I looked it needed a resource proposal. If <span class="user-mention" data-user-id="253949">@Brian Bialecki</span>  was on the call today, you've probably got the best info.</p>



<a name="186286526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186286526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186286526">(Jan 22 2020 at 13:35)</a>:</h4>
<p>Based on DICOM WG 20 ImagingReference, I created the ImagingReference resource which can be found here: <a href="https://github.com/ACRCode/dsi-standards-examples/tree/master/CDE%20%2B%20AIM" target="_blank" title="https://github.com/ACRCode/dsi-standards-examples/tree/master/CDE%20%2B%20AIM">https://github.com/ACRCode/dsi-standards-examples/tree/master/CDE%20%2B%20AIM</a>  We are attempting to place this on the public SIIM FHIR server to get feedback on this along with examples that have been cretaed.  Although the server accepts it as a StructureDefinition and we can see it, when we try and upload resources using it we get the following error:  "Unknown resource type 'ImagingReference' - Server knows how to handle: [Appo..."  Is there somewhere this also needs to be referenced to be listed?</p>



<a name="186296523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186296523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186296523">(Jan 22 2020 at 15:26)</a>:</h4>
<p>I have been looking around, do you think I would need to add a Domain Resource definition to get ImagingReference to be available<br>
<a href="http://hl7.org/fhir/domainresource.html" target="_blank" title="http://hl7.org/fhir/domainresource.html">http://hl7.org/fhir/domainresource.html</a></p>



<a name="186307572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186307572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186307572">(Jan 22 2020 at 17:06)</a>:</h4>
<p>Imaging reference is not a FHIR resource so the server is right.</p>



<a name="186307681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186307681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186307681">(Jan 22 2020 at 17:07)</a>:</h4>
<p>If you want to get feedback : Do you want to publish the specification or the implementation? The specification would come first and this is for the imaging committee to approve and put in the build (you can run the build locally as you are working on it)</p>



<a name="186307791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186307791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186307791">(Jan 22 2020 at 17:08)</a>:</h4>
<p>Before that - what is an ImagingReference? What is the use you have for it?</p>



<a name="186307982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186307982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186307982">(Jan 22 2020 at 17:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>  we realize that is is not a resource, but we are trying to add it so that we can solicit feedback to some work we are doing as we work on adding this as part of the next ballot period<br>
ImagingReference is used so that you can point to a specific image and markup(annotation) in reference to an observation</p>



<a name="186308148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186308148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186308148">(Jan 22 2020 at 17:12)</a>:</h4>
<p>We have defined the StructureDefinition as a resource and it is accepted but we do not know how then to get the server to use it, and thought maybe we needed the addition of domain resource to make that happen</p>



<a name="186308569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186308569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186308569">(Jan 22 2020 at 17:16)</a>:</h4>
<p>Some test servers will support custom resources but most don't.  You'll have to reach out to the maintainer of the server</p>



<a name="186309624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186309624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186309624">(Jan 22 2020 at 17:28)</a>:</h4>
<p>Just a question, if they do, which the maintainer says they do, to get it on the list of known resources, do we need to create a DomainResource definition as well as the StructureDefinition?</p>



<a name="186314120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186314120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186314120">(Jan 22 2020 at 18:18)</a>:</h4>
<p>DomainResource is an abstract type - you can't create an instance of it.  I'd expect servers to require a StructureDefinition defining the resource and potentially some SearchParameters</p>



<a name="186314217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186314217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186314217">(Jan 22 2020 at 18:19)</a>:</h4>
<p>If I'm not mistaken, the documentation for the server should include the instructions on how to add custom resources</p>



<a name="186314862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186314862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186314862">(Jan 22 2020 at 18:25)</a>:</h4>
<p>There is a resourceProposal but we have not yet prototyped it as a FMM 0 resource. Given this proposal, it seems that II might be ready to give me the details so that I can prototype this as an FMM 0 resource.   Right <span class="user-mention" data-user-id="191960">@Brad Genereaux</span> ?</p>



<a name="186400174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186400174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186400174">(Jan 23 2020 at 15:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191960">@Brad Genereaux</span> <span class="user-mention" data-user-id="191404">@John Moehrke</span> I have started to protype this with DICOM WG20.  Johnathan Whitby was going to use what I have on Github as a start, which is why we are looking ot post it on the SIIM server as well, which it is located here:<br>
<a href="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImagingReference" target="_blank" title="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImagingReference">http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImagingReference</a></p>



<a name="186400569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186400569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186400569">(Jan 23 2020 at 15:38)</a>:</h4>
<p>We also updated observation to add this to basedOn<br>
        "base": {<br>
          "path": "Observation.basedOn",<br>
          "min": 0,<br>
          "max": "*"<br>
        },<br>
        "type": [<br>
          {<br>
            "code": "Reference",<br>
            "targetProfile": [<br>
              "<a href="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/CarePlan" target="_blank" title="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/CarePlan">http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/CarePlan</a>",<br>
              "<a href="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/DeviceRequest" target="_blank" title="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/DeviceRequest">http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/DeviceRequest</a>",<br>
              "<a href="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImmunizationRecommendation" target="_blank" title="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImmunizationRecommendation">http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImmunizationRecommendation</a>",<br>
              "<a href="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/MedicationRequest" target="_blank" title="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/MedicationRequest">http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/MedicationRequest</a>",<br>
              "<a href="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/NutritionOrder" target="_blank" title="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/NutritionOrder">http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/NutritionOrder</a>",<br>
              "<a href="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ServiceRequest" target="_blank" title="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ServiceRequest">http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ServiceRequest</a>",<br>
              "<a href="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImagingReference" target="_blank" title="http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImagingReference">http://hackathon.siim.org/fhir-overview/fhir/StructureDefinition/ImagingReference</a>"<br>
            ]<br>
          }<br>
        ],</p>



<a name="186698454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/186698454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brad Genereaux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#186698454">(Jan 27 2020 at 16:28)</a>:</h4>
<p>tagging <span class="user-mention" data-user-id="197037">@Jonathan Whitby</span>  (should also tag Chris Lindop) - yes - this relates to the proposed resource that we batted about back in 2018 - the ImageReference. (in answer to <span class="user-mention" data-user-id="191404">@John Moehrke</span> question)</p>



<a name="190295687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/190295687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martin Bellehumeur (Visage Imaging) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#190295687">(Mar 11 2020 at 15:38)</a>:</h4>
<p><span class="user-mention" data-user-id="253949">@Brian Bialecki</span>   I’m working on a PACS application that generates FHIR observation resources that are consumed by a DiagnosticReport resource app.   I’m interested in testing implementation of the ImagingReference resource.   If you have additional examples created, I would appreciate checking them out.</p>



<a name="190300651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/190300651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bialecki <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#190300651">(Mar 11 2020 at 16:17)</a>:</h4>
<p>After work with II and the DICOM WGs it was decided to pursue this as an extension of DocumentReference.  I have placed the imagingContext extension on the SIIM public FHIR server and have been able to get an example resource  to properly parse.  I plan to now create the full circle of AIM/DICOM SR and FHIR Diagnostic Report to show these all together and mapped.</p>



<a name="214661116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/214661116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brad Genereaux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#214661116">(Oct 27 2020 at 04:45)</a>:</h4>
<p>Hello - sorry for reviving an old thread, but I think this topic is the closest to a question I'm thinking through. </p>
<p>I'm thinking about annotations, and specifically, on 3D representations outside of DICOM (represented in NIFTI, think of it as a three dimensional matrix file format). I could have both a NIFTI 3D representation of an imaging study, as well as a 3D representation of a mask (0 = not an area of interest, 1 = area of interest). If I represent these as FHIR objects - presumably Media - is there any obvious way to relate them? (basedOn doesn't seem to work unless I extend Media).</p>



<a name="214664418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/214664418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#214664418">(Oct 27 2020 at 06:19)</a>:</h4>
<p>Hi Brad :)</p>



<a name="214664543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/214664543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#214664543">(Oct 27 2020 at 06:22)</a>:</h4>
<p>I think it makes sense, but I defer to colleagues more into imaging for a better answer. Just adding one possibly related topic: In some procedures we also capture other media (waveforms) and it is important not only to relate them, but also to "synchronize" them. For example in wavelenghts, we say that the zone of interest starts at 1'02" in one channel but in the other channel (which was recording earlier), the same event starts at 2"54'.</p>



<a name="214664561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/214664561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#214664561">(Oct 27 2020 at 06:23)</a>:</h4>
<p>I don't know if you need only to link the media, or to establish the common points - any offset for alignment.</p>



<a name="214696427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/214696427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#214696427">(Oct 27 2020 at 13:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span></p>



<a name="214721783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Image%20Annotations/near/214721783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Image.20Annotations.html#214721783">(Oct 27 2020 at 16:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191960">@Brad Genereaux</span>, are  you looking at R4 or is this a more abstract question? Media is gone from R5. </p>
<p>In R5, my answer would be to put each representation in an Observation (specifically, Observation.valueAttachment) and link them with Observation.derivedFrom. I remember we had a way to put content in a DocumentReference, and point the Observation to that, but I can't recall the details of that right now.</p>
<p>In R4, I don't see an obvious way to do this. (How did we miss "derivedFrom" in Media?) I  think there is an extension to add an attachment as an Observation value, but can't find it immediately.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
