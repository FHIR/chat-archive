---
layout: page
title: "FHIR Chat  · update StructureDefinition · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html">update StructureDefinition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216272284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216272284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Werner De Mulder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216272284">(Nov 10 2020 at 20:49)</a>:</h4>
<p>I want to update a structureDefinition on VONK using postman. I'm using a PUT command  <a href="http://localhost:4080/administration/StructureDefinition">http://localhost:4080/administration/StructureDefinition</a><br>
In the body content I placedthe updated structuredefinition. This is not accepted by VONK. The argument StructureDefinition seems not to be supported. What is not correct in the applied syntax?</p>



<a name="216273083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216273083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216273083">(Nov 10 2020 at 20:56)</a>:</h4>
<p>What error are you getting?</p>



<a name="216273405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216273405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Werner De Mulder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216273405">(Nov 10 2020 at 20:58)</a>:</h4>
<p>{<br>
    "resourceType": "OperationOutcome",<br>
    "id": "3d7e126b-6322-44e6-bbe4-ce9857704b44",<br>
    "meta": {<br>
        "versionId": "5f98a3a7-b3f5-43f3-a7d8-39f723f510bf",<br>
        "lastUpdated": "2020-11-10T20:42:31.096+00:00"<br>
    },<br>
    "issue": [<br>
        {<br>
            "severity": "warning",<br>
            "code": "not-supported",<br>
            "details": {<br>
                "coding": [<br>
                    {<br>
                        "system": "<a href="http://hl7.org/fhir/dotnet-api-operation-outcome">http://hl7.org/fhir/dotnet-api-operation-outcome</a>",<br>
                        "code": "5003"<br>
                    }<br>
                ],<br>
                "text": "Argument is not supported"<br>
            },<br>
            "diagnostics": "/StructureDefinition"<br>
        }<br>
    ]<br>
}</p>



<a name="216273865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216273865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216273865">(Nov 10 2020 at 21:02)</a>:</h4>
<p>What URL are you PUTing to?</p>



<a name="216274208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216274208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Werner De Mulder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216274208">(Nov 10 2020 at 21:05)</a>:</h4>
<p>PUT <a href="http://localhost:4080/administration/StructureDefinition">http://localhost:4080/administration/StructureDefinition</a></p>



<a name="216274269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216274269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Werner De Mulder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216274269">(Nov 10 2020 at 21:05)</a>:</h4>
<p>body content contains structuredefinition. I didn't apply the Content-Type</p>



<a name="216274463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216274463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216274463">(Nov 10 2020 at 21:07)</a>:</h4>
<p>Most servers expect Content-Type to be declared</p>



<a name="216274631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216274631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Werner De Mulder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216274631">(Nov 10 2020 at 21:08)</a>:</h4>
<p>When I add Content-Type, I receive a message that the argument is not supported</p>



<a name="216274820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216274820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216274820">(Nov 10 2020 at 21:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191363">@Vadim Peretokin</span></p>



<a name="216291976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216291976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216291976">(Nov 11 2020 at 00:03)</a>:</h4>
<p>are you using the right application/fhir+json or application/fhir+xml content-type headers? because everything else looks right according to their docs <a href="https://docs.fire.ly/vonk/features/conformanceresources.html#example">https://docs.fire.ly/vonk/features/conformanceresources.html#example</a></p>



<a name="216317028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216317028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Werner De Mulder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216317028">(Nov 11 2020 at 08:13)</a>:</h4>
<p>Yes seems to be fine. Something is not correct. If I perform a database reset using POST HTTP://127.0.0.1:4080/administration/reset I get a status code 200 which means that it is ok. If I search afterwards for structuredefinitions in my database, still some structuredefinitions are in (GET <a href="http://127.0.0.1:4080/administration/StructureDefinition?Content-Type=application/fhir+json">http://127.0.0.1:4080/administration/StructureDefinition?Content-Type=application/fhir+json</a>). How to delete a structuredefintion? <br>
DELETE <a href="http://127.0.0.1:4080/administration/StructureDefinition">http://127.0.0.1:4080/administration/StructureDefinition</a> doesn't work here.</p>



<a name="216330106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216330106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216330106">(Nov 11 2020 at 10:46)</a>:</h4>
<p>It should be <code>DELETE http://127.0.0.1:4080/administration/StructureDefinition/&lt;resource ID&gt;</code></p>



<a name="216330200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216330200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216330200">(Nov 11 2020 at 10:47)</a>:</h4>
<p><span class="user-mention" data-user-id="317840">@Werner De Mulder</span> you need to do a <code>POST</code> if you aren't specifying an ID. See <a href="https://www.hl7.org/fhir/http.html#create">https://www.hl7.org/fhir/http.html#create</a></p>



<a name="216331437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216331437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc Sandberg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216331437">(Nov 11 2020 at 11:01)</a>:</h4>
<p>When using the PUT the url should contain parameters to specify which StructureDefinition should be updated; adding the url from your new StructureDefinition might help; try PUT <code>http://127.0.0.1:4080/administration/StructureDefinition?url=</code> with the specified url after this.</p>



<a name="216359663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216359663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216359663">(Nov 11 2020 at 15:26)</a>:</h4>
<p>wait why is your "Content-Type=application/fhir+json" in your url parameters? it should be a header right?</p>



<a name="216376833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216376833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Werner De Mulder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216376833">(Nov 11 2020 at 17:47)</a>:</h4>
<p>Thank you all for your input.<br>
Still one question about the reset parameter. I should assume that when using POST http://&lt;vonk-endpoint&gt;/administration/reset all the content is cleared, even the structuredefintions. This is not the case. In appsettings.json, I commented out the security element. </p>
<p>//"Security": {<br>
      //"AllowedNetworks": [ "127.0.0.1", "::1", "10.51.244.67" ], // i.e.: ["127.0.0.1", "::1" (ipv6 localhost), "10.1.50.0/24", "10.5.3.0/24", "31.161.91.98"]<br>
      //"OperationsToBeSecured": [ "reindex", "reset", "preload", "importResources" ] <br>
    //}<br>
  }</p>
<p>I receive no error, return code 200, but my structuredefinitions are still in.</p>



<a name="216442082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/update%20StructureDefinition/near/216442082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc Sandberg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/update.20StructureDefinition.html#216442082">(Nov 12 2020 at 08:54)</a>:</h4>
<p>I haven't used Vonk, but based on <a href="https://docs.fire.ly/vonk/features/resetdb.html">https://docs.fire.ly/vonk/features/resetdb.html</a> I would assume that this POST should have worked (especially since you received a 200 response code). Maybe you could try the documented alternative. It could also be helpful to check the logs for an error that could have occurred after the 200 response. Since I'm no Vonk user I don't know if the response will be send before the operation is complete (since large databases could take a while), or just wait until it's all done.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
