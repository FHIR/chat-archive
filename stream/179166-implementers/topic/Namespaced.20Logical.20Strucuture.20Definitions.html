---
layout: page
title: "FHIR Chat  · Namespaced Logical Strucuture Definitions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html">Namespaced Logical Strucuture Definitions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153852168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852168">(Oct 06 2016 at 18:17)</a>:</h4>
<p>StructureDefinition now allows for the "logical" kind in order to support arbitrary logical models defined using StructureDefinition.</p>
<p>What is the best way to namespace a logical model in a StructureDefinition (in order to prevent naming collisions)?  Is it valid to put the namespace into the "id" itself (e.g., "org.example.Foo")?  I've done this, but one result is that in the snapshot/differential, all the paths must be prefixed by the "id", so now you end up with paths like "org.example.Foo.bar".  Since dot (".") is used to separate path elements, is it a problem to have "." in the "id", which puts it in the "base" part of the path?  Or might using "." in the id cause problems for code generators?</p>
<p>I could also just make the "id" be "Foo" and use "url" (and possibly an alternate "identifier") to specify a more fully qualified name, but that would allow this "Foo" to clash with any other "Foo" logical models in the same system (even if they have different namespaces).</p>
<p>Is there a recommended approach?</p>



<a name="153852174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852174">(Oct 06 2016 at 18:44)</a>:</h4>
<p>we would expect that you'd just put the namespace in the URL</p>



<a name="153852181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852181">(Oct 06 2016 at 19:19)</a>:</h4>
<p>If a system wanted to use FHIR infrastructure to support a RESTful API for the logical models, then wouldn't it define the endpoints as <a href="http://path/to/base/${id}" target="_blank" title="http://path/to/base/${id}">http://path/to/base/${id}</a> -- in which case, models with the same id would clash?  Or are instances of logical models never expected to be exchanged over the wire (despite the fact that StructureDefinition has serialization/deserialization semantics built in)?</p>



<a name="153852183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852183">(Oct 06 2016 at 19:23)</a>:</h4>
<p>it's useful that there is serialization built in, and I've used that in several places (Logical model for CDA, for instance). But there's no support for using Logical Models with the RESTful API</p>



<a name="153852184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852184">(Oct 06 2016 at 19:24)</a>:</h4>
<p>OK.  Thanks for your help, Grahame!</p>



<a name="153852185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852185">(Oct 06 2016 at 19:24)</a>:</h4>
<p>there's an ongoing discussion about that, but it's not going very far very fast. however in all the discussions we've had, we've assumed that there will be additional control over the naming if you want to use it in this context</p>



<a name="153852186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852186">(Oct 06 2016 at 19:25)</a>:</h4>
<p><a href="http://wiki.hl7.org/index.php?title=FHIR_Custom_Resources" target="_blank" title="http://wiki.hl7.org/index.php?title=FHIR_Custom_Resources">http://wiki.hl7.org/index.php?title=FHIR_Custom_Resources</a></p>



<a name="153852187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852187">(Oct 06 2016 at 19:25)</a>:</h4>
<p>Alright.  But in your view, trying to put a namespace in the "id" (dot-separated) is probably a bad idea -- and we should avoid it?</p>



<a name="153852188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852188">(Oct 06 2016 at 19:26)</a>:</h4>
<p>yes, indeed, it is problematic</p>



<a name="153852189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852189">(Oct 06 2016 at 19:28)</a>:</h4>
<p>OK.  Just reading through that wiki link you sent, I found this:</p>
<blockquote>
<p>In addition, all custom resource names will include at least one character '-' or '.', while official resources defined in the FHIR specification will never include the characters '-' or '.' in their name.</p>
</blockquote>
<p>and this:</p>
<blockquote>
<p>Applicants may apply for a custom name, or for a prefix that they can use with any custom resource that they define.</p>
</blockquote>



<a name="153852190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852190">(Oct 06 2016 at 19:29)</a>:</h4>
<p>That kind of sounds like the approach I was going toward.  But it sounds like that's still very much in flux -- so it would be premature to adopt it or to assume it is safe.</p>



<a name="153852191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852191">(Oct 06 2016 at 19:29)</a>:</h4>
<p>indeed, you've identified something that would be problematic if we ever tried to operationalise that document. </p>



<a name="153852192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852192">(Oct 06 2016 at 19:30)</a>:</h4>
<p>OK.  Thanks again.  This has really been helpful.  We'll plan to use a simple name and use the url to indicate the namespace.</p>



<a name="153852193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852193">(Oct 06 2016 at 19:30)</a>:</h4>
<p>yes, it was something I was pushing about a year ago, but it was extremely controversial for some members of the community, and no one was sufficiently interested in actually making use of it in practice</p>



<a name="153852194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852194">(Oct 06 2016 at 19:31)</a>:</h4>
<p>Ha.  OK.  Well, I'm glad that just the general concept of logical models made it through.  That will be of use to us, even without a well-defined strategy for exchange.</p>



<a name="153852222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852222">(Oct 07 2016 at 01:22)</a>:</h4>
<p>We a;ready doing this in Aus and we do want our logical models to be available via the ReSTful API so we make sure we avoid collisions by using different model names, e.g. "AdverseReaction" instead of "AllergyIntolerance", and using a prefix, in our case "dh-".</p>



<a name="153852226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852226">(Oct 07 2016 at 01:28)</a>:</h4>
<p>what do you mean 'available in the RESTful API'?</p>



<a name="153852245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852245">(Oct 07 2016 at 03:06)</a>:</h4>
<p>I mean that we will stand up a FHIR server at which you can query [base]/StructureDefinition/dh-AdverseReaction and get the StructureDefinition resource for the logical adverse reaction model in the same way you would get the StructureDefinition resource for AllergyIntolerance at [base]/StructureDefinition/AllergyIntolerance.</p>



<a name="153852246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852246">(Oct 07 2016 at 03:11)</a>:</h4>
<p>that's a quite different thing that what Chris meant</p>



<a name="153852248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852248">(Oct 07 2016 at 03:36)</a>:</h4>
<p>How is that different from "If a system wanted to use FHIR infrastructure to support a RESTful API for the logical models, then wouldn't it define the endpoints as <a href="http://path/to/base/${id}" target="_blank" title="http://path/to/base/${id}">http://path/to/base/${id}</a> ..."?</p>



<a name="153852261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852261">(Oct 07 2016 at 05:48)</a>:</h4>
<p>the difference between GET [base]/StructureDefinition/dh-AdverseReaction and Get [base]/dh-AdverseReaction/[id]</p>



<a name="153852348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852348">(Oct 07 2016 at 20:28)</a>:</h4>
<p>Right-- I was talking about exchanging data that adhered to the logical definition, whereas it sounds like Stephen is talking about downloading the definition itself.  That said, the same risk of naming collisions exists in both cases.</p>



<a name="153852349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852349">(Oct 07 2016 at 20:32)</a>:</h4>
<p>I don't see why there's a risk in the second case</p>



<a name="153852354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852354">(Oct 07 2016 at 20:59)</a>:</h4>
<p>With the "dh-" prefix, the risk is certainly smaller.  But, in general, here's the risk in each case (as I see it):</p>
<ul>
<li><code>GET [base]/StructureDefinition/Foo</code>: if the system wanted to support another logical model called "Foo", but with a different namespace, then this call wouldn't know which "Foo" StructureDefinition to return.</li>
<li><code>Get [base]/Foo/[id]</code>: while the id would keep the full URL from clashing, the endpoint <code>[base]/Foo/</code> is ambiguous in regards to what type of thing it talks about.  Even if the backend could support resolving to the right thing, it would be terrible from a RESTful point-of-view.</li>
</ul>



<a name="153852359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Namespaced%20Logical%20Strucuture%20Definitions/near/153852359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Namespaced.20Logical.20Strucuture.20Definitions.html#153852359">(Oct 07 2016 at 21:44)</a>:</h4>
<p>in the first case, there can only be one Foo. No ambiguity there. I'm not going to think about the second</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
