---
layout: page
title: "FHIR Chat  · Search on reference search parm using logical ID only · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20on.20reference.20search.20parm.20using.20logical.20ID.20only.html">Search on reference search parm using logical ID only</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="225623547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20on%20reference%20search%20parm%20using%20logical%20ID%20only/near/225623547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Schroeder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20on.20reference.20search.20parm.20using.20logical.20ID.20only.html#225623547">(Feb 08 2021 at 23:12)</a>:</h4>
<p>Question on reference searches using only logical ID, relating to this passage in the spec at <a href="https://www.hl7.org/fhir/search.html#reference">https://www.hl7.org/fhir/search.html#reference</a>:</p>
<p>"Some references may point to more than one type of resource; e.g. subject: Reference(Patient|Group|Device|..). In these cases, multiple resources may have the same logical identifier. Servers SHOULD reject a search where the logical id refers to more than one matching resource across different types. In order to allow the client to perform a search in these situations the type is specified explicitly..."</p>
<p>Given a search query of 'Observation?subject=123', should the request:<br>
   a) be rejected before even attempting the search, given that subject has multiple target types<br>
   b) be executed, and an error returned only if Observations are returned containing references to multiple resource types (i.e. 'Patient/123', 'Group/123', etc)<br>
   c) be executed and Observation results returned successfully regardless of resource type matched on</p>



<a name="225623823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20on%20reference%20search%20parm%20using%20logical%20ID%20only/near/225623823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20on.20reference.20search.20parm.20using.20logical.20ID.20only.html#225623823">(Feb 08 2021 at 23:15)</a>:</h4>
<p>Our server does (a)</p>



<a name="225731353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20on%20reference%20search%20parm%20using%20logical%20ID%20only/near/225731353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20on.20reference.20search.20parm.20using.20logical.20ID.20only.html#225731353">(Feb 09 2021 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="312298">@Mike Schroeder</span> and I spent a long time yesterday trying to understand what that particular text was saying (and more importantly why).  Any other thoughts/interpretations on this one?</p>



<a name="225733511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20on%20reference%20search%20parm%20using%20logical%20ID%20only/near/225733511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20on.20reference.20search.20parm.20using.20logical.20ID.20only.html#225733511">(Feb 09 2021 at 18:20)</a>:</h4>
<p>My interpretation was b) but I didn't feel that it was clear. I think our implementation still does c) and we haven't fixed it yet.</p>
<p>As a meta point I don't see the value of allowing this search syntax (subject=123) at all. It implies that there are resources of different types with the same ID (probably not the best practice), the client somehow only knows the ID of what they're looking for, and the client can't be bothered to write subject=Patient/123,Group/123. This seems like it would be better served with an identifier reference and searching subject:identifier=123.</p>



<a name="225745265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20on%20reference%20search%20parm%20using%20logical%20ID%20only/near/225745265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20on.20reference.20search.20parm.20using.20logical.20ID.20only.html#225745265">(Feb 09 2021 at 19:39)</a>:</h4>
<p>thanks Paul, i think I share that sentiment.  our implementation also does (c) currently and we were debating whether to make it do (a) or (b) instead.  (a) seems the simplest for servers to implement, but to us the language used there seems to imply (b) was what the spec authors had in mind.  but since those spec authors are on this channel, I suggested we ask here to find out...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
