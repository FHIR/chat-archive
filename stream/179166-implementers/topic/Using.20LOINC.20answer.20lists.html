---
layout: page
title: "FHIR Chat  · Using LOINC answer lists · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html">Using LOINC answer lists</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153864287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20LOINC%20answer%20lists/near/153864287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Wand <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html#153864287">(Dec 20 2016 at 15:16)</a>:</h4>
<p>I have some question about using LOINC answer lists as ValueSets (as documented in <a href="https://www.hl7.org/fhir/loinc.html#alist" target="_blank" title="https://www.hl7.org/fhir/loinc.html#alist">https://www.hl7.org/fhir/loinc.html#alist</a>):</p>
<p>1) It seems weird to be using bogus urls (i.e. urls that result in 404s from <a href="http://loinc.org" target="_blank" title="http://loinc.org">loinc.org</a>) as identifiers. If you weren't already aware of this convention, it would be pretty hard to figure out what was being referenced here.</p>
<p>2) Some implementations seem to regard these urls as invalid. (For example <a href="http://fhirtest.uhn.ca/" target="_blank" title="http://fhirtest.uhn.ca/">http://fhirtest.uhn.ca/</a> rejects these because it's expecting to see <code>ValueSet</code> in the url of a valid ValueSet)</p>



<a name="153864305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20LOINC%20answer%20lists/near/153864305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html#153864305">(Dec 20 2016 at 16:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191559">@Chris Wand</span> Ooh interesting.. Don't suppose you have an example you are trying to validate that you could send my way? That sounds like a good unit test in the making.</p>



<a name="153864324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20LOINC%20answer%20lists/near/153864324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Wand <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html#153864324">(Dec 20 2016 at 18:09)</a>:</h4>
<p>A simple version of what I was trying to validate would be:</p>
<div class="codehilite"><pre>{
  &quot;resourceType&quot;: &quot;Questionnaire&quot;,
  &quot;url&quot;: &quot;http://some.example.url&quot;,
  &quot;status&quot;: &quot;draft&quot;,
  &quot;subjectType&quot;: [
    &quot;Patient&quot;
  ],
  &quot;item&quot;: [
    {
      &quot;linkId&quot;: &quot;example-question&quot;,
      &quot;text&quot;: &quot;Is the sky blue?&quot;,
      &quot;type&quot;: &quot;choice&quot;,
      &quot;options&quot;: {
        &quot;reference&quot;: &quot;http://loinc.org/vs/LL3044-6&quot;
      }
    }
  ]
}
</pre></div>



<a name="153864325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20LOINC%20answer%20lists/near/153864325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Wand <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html#153864325">(Dec 20 2016 at 18:11)</a>:</h4>
<p>Also, <span class="user-mention" data-user-id="191319">@James Agnew</span> did you just change the behavior here? Looks like it's now adding information-level issues to the response, rather than failing validation. (Or it could be that I was just misreading the response page earlier and it was never failing validation)</p>



<a name="153864346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20LOINC%20answer%20lists/near/153864346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html#153864346">(Dec 20 2016 at 20:18)</a>:</h4>
<p>I updated the server to the latest validator yesterday, so yeah it's quite possible that behaviour has changed.</p>
<p>That said, looking at your example I don't think that is valid. That particular field questionnaire is a FHIR <code>reference</code> so it is expected to be resolvable. On the other hand the URL you listed is a canonical URL so it can only be used in places where a valueset <code>uri</code> is allowed (not a valueset <code>reference</code>)</p>
<p>Probably the only valid way to do what you're trying to do is to either find a resolvable URL which can be used to load that ValueSet, or create your own ValueSet and host it somewhere, then import the LOINC valueset into it.</p>
<p>Happy to be corrected if someone else here knows better than I do, but I think that's the correct answer here.</p>



<a name="153864350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20LOINC%20answer%20lists/near/153864350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html#153864350">(Dec 20 2016 at 20:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> in STU3, you're not right about canonical URLs anymore. They are allowed in references, though literal access most not resolve to a different resource than if you treated it as canonical </p>



<a name="153864351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20LOINC%20answer%20lists/near/153864351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html#153864351">(Dec 20 2016 at 20:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191559">@Chris Wand</span> LOINC are working on getting all these URLs supported, but it's work in progress.</p>



<a name="153864356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20LOINC%20answer%20lists/near/153864356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20LOINC.20answer.20lists.html#153864356">(Dec 20 2016 at 20:30)</a>:</h4>
<p>ahh i didn't know that change had gone through.</p>
<p>Time to update HAPI's validation code I guess.. :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
