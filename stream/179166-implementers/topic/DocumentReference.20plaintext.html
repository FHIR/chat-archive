---
layout: page
title: "FHIR Chat  · DocumentReference plaintext · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html">DocumentReference plaintext</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159014619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159014619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Orlando Osorio <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159014619">(Feb 20 2019 at 21:03)</a>:</h4>
<p>We are implementing clinical notes using a <code>DocumentReference</code> resource, encoding the text as base64 but we need them to be searchable by content. Storing them as base64 means we can't query them efficiently. We are considering extending <code>DocumentReference.content</code> but then <code>attachment</code> is required and we would have to keep them both. Is there another resource more suited to this problem or a better extension?</p>



<a name="159014919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159014919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159014919">(Feb 20 2019 at 21:06)</a>:</h4>
<p>there's no requirement that you store the same format as you have on the API. I store the content alongside the raw resource in an internal indexable format</p>



<a name="159015378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159015378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159015378">(Feb 20 2019 at 21:12)</a>:</h4>
<p>Not necessarily a good solution, but often systems will do a index of the content and place searchable words into either .description or .context.event ( Yes, all searchable words, not just clinical act codes.)  This does require that you can pre-process the document into a useful and reasonable set of searchable words.</p>



<a name="159015523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159015523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Orlando Osorio <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159015523">(Feb 20 2019 at 21:14)</a>:</h4>
<p>We are using Aidbox as a fhir server, it would have to be supported there, <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span></p>



<a name="159041833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159041833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159041833">(Feb 21 2019 at 05:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> do you inline attachment into document reference if it’s text?  What if it’s html or jpeg? How do you specify search by document content? I think, document with plain text is important corner case to think about - i.e. support explicitly by something like DocRef.content.value[x] ?!</p>



<a name="159041909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159041909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159041909">(Feb 21 2019 at 05:19)</a>:</h4>
<p>Or like <span class="user-mention" data-user-id="191404">@John Moehrke</span> said - something like DocRef.content.summary as text</p>



<a name="159044421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159044421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159044421">(Feb 21 2019 at 06:25)</a>:</h4>
<p>in my server <em>if</em> the content is attached (not by reference) I make a copy of it in another database table for indexing</p>



<a name="159046500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159046500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159046500">(Feb 21 2019 at 07:18)</a>:</h4>
<p>what is a search parameter to find docs with a specific text?</p>



<a name="159070161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159070161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159070161">(Feb 21 2019 at 14:12)</a>:</h4>
<p>hmm, could that be a query parameter on DocRef?  It would not need to be supported by everyone...</p>



<a name="159070329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159070329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159070329">(Feb 21 2019 at 14:14)</a>:</h4>
<p>as a query parameter it would not be worse than not having the query parameter... so if a server supported it, then it would reduce the number of entries returned...  Could start as simply text query parameter, with other query parameters of more power.  Or is there an example of a type of query parmeter elsewhere that is more powerful than string word search?</p>



<a name="159104831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159104831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159104831">(Feb 21 2019 at 21:12)</a>:</h4>
<p>there's already a query parameter, one of the generic ones</p>



<a name="159112098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159112098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159112098">(Feb 21 2019 at 22:45)</a>:</h4>
<p>ah. so one could use _text?</p>



<a name="159112208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159112208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159112208">(Feb 21 2019 at 22:46)</a>:</h4>
<p>so we could just add some clarification on the DocumentReference page that the _text and _content query parameter could/should not only search over the DocumentReference resource but also the attachment bits...</p>



<a name="159120583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159120583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159120583">(Feb 22 2019 at 01:22)</a>:</h4>
<p>yes that would be a good clariifcation</p>



<a name="159153639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/DocumentReference%20plaintext/near/159153639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/DocumentReference.20plaintext.html#159153639">(Feb 22 2019 at 12:43)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20417" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20417">GF#20417</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
