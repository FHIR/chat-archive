---
layout: page
title: "FHIR Chat  · Validation of Coding · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html">Validation of Coding</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153996903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153996903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephan Kristiansen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153996903">(Sep 14 2018 at 08:03)</a>:</h4>
<p>Hi. </p>
<p>Using fhir-net-api and have an issue regarding validation. For AllergyIntolerance we have reaction.manifestation which is a CodeableConcept. Currently we don't have access to a code, only the display value and system value. This causes the validation to break.</p>
<p>This is the output:<br>
&lt;reaction&gt;<br>
    &lt;manifestation&gt;<br>
        &lt;coding&gt;<br>
            &lt;system value="urn:oid:2.16.578.1.12.4.1.1.7497"/&gt;<br>
            &lt;display value="Anafylaktisk reaksjon"/&gt;<br>
        &lt;/coding&gt;<br>
    &lt;/manifestation&gt;<br>
&lt;/reaction&gt;</p>
<p>Looking at the BindingValidator (<a href="https://github.com/ewoutkramer/fhir-net-api/blob/04059d168a1e302d13cbb2edef809d26123df765/src/Hl7.Fhir.Specification/Validation/BindingValidator.cs" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api/blob/04059d168a1e302d13cbb2edef809d26123df765/src/Hl7.Fhir.Specification/Validation/BindingValidator.cs">https://github.com/ewoutkramer/fhir-net-api/blob/04059d168a1e302d13cbb2edef809d26123df765/src/Hl7.Fhir.Specification/Validation/BindingValidator.cs</a>) it seems code is mandatory. However, looking at <a href="https://www.hl7.org/fhir/datatypes.html#codesystem" target="_blank" title="https://www.hl7.org/fhir/datatypes.html#codesystem">https://www.hl7.org/fhir/datatypes.html#codesystem</a> the cardinality is 0..1.</p>
<p>Any thoughts on this? Is it a bug in the validator or are we interpreting the standard the wrong way?</p>
<p>Thanks,<br>
Stephan</p>



<a name="153996913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153996913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153996913">(Sep 14 2018 at 08:22)</a>:</h4>
<p>how can you have a display without a code?</p>



<a name="153996915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153996915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephan Kristiansen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153996915">(Sep 14 2018 at 08:28)</a>:</h4>
<p>i don't know. Maybe it's just a dropdown of values selected in the user interface? Not connected to a specific code it seems like. At least not available for us. Thats beside the point here, but appreciate the question.</p>



<a name="153996916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153996916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153996916">(Sep 14 2018 at 08:29)</a>:</h4>
<p>well, you cannot choose a display without choosing a code. The definition of display is 'the display specified for the code in the system'. No code =&gt; no display.</p>



<a name="153996917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153996917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153996917">(Sep 14 2018 at 08:29)</a>:</h4>
<p>if you just have a text, you should put it in CodeableConcept.text not Coding.display</p>



<a name="153996918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153996918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephan Kristiansen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153996918">(Sep 14 2018 at 08:32)</a>:</h4>
<p>Not really the definition IMO. It could be just a list of display values, with no code associated with it. The standard says 0..1 on code, so seems like it has been thought of. Maybe we have to think differently about where to put the textual description of the reaction.</p>



<a name="153996958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153996958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153996958">(Sep 14 2018 at 09:37)</a>:</h4>
<p>CodeableConcept.text</p>



<a name="153997015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153997015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153997015">(Sep 14 2018 at 14:41)</a>:</h4>
<p>What <em>is</em> the reason for code being 0..1 in Coding?  I think the validator is being more assertive than the specification here.  It shouldn't be.  I'd be fine with a best practice warning yelling about a display with no code, but I can't see anything that would make this non-conformant.</p>



<a name="153997016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153997016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153997016">(Sep 14 2018 at 14:42)</a>:</h4>
<p>There are absolutely systems that choose to store the displays and not the codes and treat them as codes.</p>



<a name="153997095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153997095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153997095">(Sep 15 2018 at 00:48)</a>:</h4>
<p>treat what as codes?</p>



<a name="153997854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20of%20Coding/near/153997854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20of.20Coding.html#153997854">(Sep 18 2018 at 23:53)</a>:</h4>
<p>The problem here is not conformance. Validation validates code. If a system treat displays as code, then that system should have a way to validate the  "code-like" display.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
