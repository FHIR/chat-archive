---
layout: page
title: "FHIR Chat  · OR queries across parameters? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html">OR queries across parameters?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153968075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153968075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Sute  <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153968075">(Jun 08 2018 at 17:02)</a>:</h4>
<p>The OR examples on the FHIR STU3 Search page show how to match on one or more values for a single parameter.  However, we're trying to do ORs across different parameters such as:</p>
<p><a href="http://.../fhir/baseDstu3/Patient?_id=218,_lastUpdated=gt2018-05-02" target="_blank" title="http://.../fhir/baseDstu3/Patient?_id=218,_lastUpdated=gt2018-05-02">http://.../fhir/baseDstu3/Patient?_id=218,_lastUpdated=gt2018-05-02</a></p>
<p>Is this supported in the FHIR search spec?  The HAPI Server is giving inconsistent query results based on the ordering of the querystring parameters and I'm not sure if it's a HAPI issue.</p>



<a name="153968085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153968085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153968085">(Jun 08 2018 at 18:07)</a>:</h4>
<p>That's not legal FHIR syntax.  If you want to do OR across search parameters you'll need to use _query or GraphQL, though neither are widely supported</p>



<a name="153968090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153968090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153968090">(Jun 08 2018 at 18:29)</a>:</h4>
<p>One other option would be to use _filter. Unfortunately, this is not that widely supported, too. <br>
You could use OR searches in the following way:<br>
[base]/Patient?_filter=_id eq  218 or _lastUpdated co 2018-05-02</p>



<a name="153968098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153968098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153968098">(Jun 08 2018 at 19:15)</a>:</h4>
<p>I'd actually meant to type _filter rather than _query :)</p>



<a name="153968103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153968103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Sute  <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153968103">(Jun 08 2018 at 19:35)</a>:</h4>
<p>Thanks Lloyd.  I'm curious if the syntax I showed might be something to consider in an upcoming spec to more easily express OR queries?  I would think that the use of the comma to specify multiple values for a single parameter to OR against would be conceptually straightforward to extend to multiple parameters instead?</p>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> - HAPI doesn't raise an error for the OR syntax above that Lloyd indicated was illegal.  Does HAPI attempt to parse OR queries across multiple parameters?  Thanks in advance!</p>



<a name="153968129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153968129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153968129">(Jun 08 2018 at 21:33)</a>:</h4>
<p>I suspect it would be a parsing challenge.  Also, we're trying to draw bounds over how complex we make RESTful query.  But you're welcome to submit a change request</p>



<a name="153968130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153968130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153968130">(Jun 08 2018 at 21:35)</a>:</h4>
<p>but you should not. _filter is the only rational way to do this syntax. The fact that is not widely supported is not related to syntax but to complexity. We should not create additional syntaxes for the complexity</p>



<a name="153968376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153968376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153968376">(Jun 11 2018 at 15:20)</a>:</h4>
<p>The classic RESTful way to do OR is to do multiple GET... you don't get one result, but you do get your OR result</p>



<a name="153969603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OR%20queries%20across%20parameters%3F/near/153969603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OR.20queries.20across.20parameters.3F.html#153969603">(Jun 14 2018 at 11:53)</a>:</h4>
<p>I think HAPI is correct not to report this as an error. You simple asked for a Patient having an _id of either '218' or '_lastUpdated=gt2018-05-02'. The latter will never yield a result though, since an _id is not allowed to have _ or = characters (see <a href="http://Patient?_id=218,_lastUpdated=gt2018-05-02" target="_blank" title="http://Patient?_id=218,_lastUpdated=gt2018-05-02">Resource Identity</a>)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
