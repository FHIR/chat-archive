---
layout: page
title: "FHIR Chat  · Quantity.value precision · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html">Quantity.value precision</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153837677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837677">(Jul 12 2016 at 17:36)</a>:</h4>
<p>Are servers required to preserve insignificant decimal digits (e.g. 185.00 or 65.0) in Quantity.value while storing observations or medications? Or is it acceptable to ignore insignificant decimals and make them as 185 or 65?<br>
The Quantity datatype has this statement but I am not able to clearly interpret it.<br>
"The value contains the numerical value of the quantity, including an implicit precision"</p>



<a name="153837693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837693">(Jul 12 2016 at 19:33)</a>:</h4>
<p>the FHIR specification never says that you must preserve precision. but your users will tell you that you must. </p>



<a name="153837694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837694">(Jul 12 2016 at 19:33)</a>:</h4>
<p>note this comment:</p>



<a name="153837695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837695">(Jul 12 2016 at 19:34)</a>:</h4>
<p>When using a JavaScript JSON.parse() implementation, note that JavaScript natively supports only one numeric datatype, which is a floating point number. This can cause loss of precision for FHIR numbers. In particular, trailing 0s after a decimal point will be lost e.g. 2.00 will be converted to 2. The FHIR decimal data type is defined such that precision, including trailing zeros, is preserved for presentation purposes, and this is widely regard as critical for correct presentation of clinical measurements. Implementations should consider using a custom parser and big number library (e.g. <a href="https://github.com/jtobey/javascript-bignum" target="_blank" title="https://github.com/jtobey/javascript-bignum">https://github.com/jtobey/javascript-bignum</a> ) to meet these requirements.</p>



<a name="153837696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837696">(Jul 12 2016 at 19:34)</a>:</h4>
<p>from <a href="http://hl7.org/fhir/json.html#primitive" target="_blank" title="http://hl7.org/fhir/json.html#primitive">http://hl7.org/fhir/json.html#primitive</a></p>



<a name="153837732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837732">(Jul 12 2016 at 22:11)</a>:</h4>
<p>I actually tested this against both yours (<a href="http://fhir3.healthintersections.com.au/open/Observation/1634dfbe-b003-473c-9bfa-e1e5978a4f" target="_blank" title="http://fhir3.healthintersections.com.au/open/Observation/1634dfbe-b003-473c-9bfa-e1e5978a4f">http://fhir3.healthintersections.com.au/open/Observation/1634dfbe-b003-473c-9bfa-e1e5978a4f</a>,  with 39.00 degrees celsius) as well as with HAPI (<a href="http://fhirtest.uhn.ca/baseDstu2/Observation/5234" target="_blank" title="http://fhirtest.uhn.ca/baseDstu2/Observation/5234">http://fhirtest.uhn.ca/baseDstu2/Observation/5234</a> with 29.00 resp/min). I observed that in both, the precision is not preserved.</p>



<a name="153837733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837733">(Jul 12 2016 at 22:13)</a>:</h4>
<p>The resource on the HAPI server seems to be preserving <code>29.00</code> to me. What are you expecting to be produced?</p>



<a name="153837736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837736">(Jul 12 2016 at 22:15)</a>:</h4>
<p>When I do a read at <a href="http://fhirtest.uhn.ca/baseDstu2/Observation/5234/_history/3" target="_blank" title="http://fhirtest.uhn.ca/baseDstu2/Observation/5234/_history/3">http://fhirtest.uhn.ca/baseDstu2/Observation/5234/_history/3</a>, I get back 29 not 29.00</p>



<a name="153837737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837737">(Jul 12 2016 at 22:16)</a>:</h4>
<p>Sorry I meant JSON not XML</p>



<a name="153837740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837740">(Jul 12 2016 at 22:17)</a>:</h4>
<p>Sorry my mistake, please ignore</p>



<a name="153837741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837741">(Jul 12 2016 at 22:17)</a>:</h4>
<p>Thats because of whatever Grahame has pointed out, bug with Postman..</p>



<a name="153837742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Quantity.value%20precision/near/153837742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anand Mohan Tumuluri <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Quantity.2Evalue.20precision.html#153837742">(Jul 12 2016 at 22:18)</a>:</h4>
<p>Even my server seems to return properly :-)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
