---
layout: page
title: "FHIR Chat  · ValueSetURL · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html">ValueSetURL</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153900129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jennifer Ellison <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900129">(Aug 02 2017 at 12:54)</a>:</h4>
<p>In FHIR DSTU2 ValueSets contained inline CodeSystems, however in FHIR STU3 ValueSets and CodeSystems have their own separate resource instances.  There doesn’t appear to be a clear way of differentiating which FHIR standard each conforms with.</p>
<p>In DSTU2 we used a resolvable ValueSet URL, much like the FHIR standard.  In the move to adopt STU3 if we use the same ValueSet URL we wouldn’t be able to differentiate which version of FHIR the ValueSet conforms to.</p>
<p>The FHIR standard has retrospectively applied DSTU2 to the resolvable URL, however the defining URL (canonical URL) for the ValueSet remains the same between versions. E.g. <a href="https://www.hl7.org/fhir/DSTU2/valueset-administrative-gender.html" target="_blank" title="https://www.hl7.org/fhir/DSTU2/valueset-administrative-gender.html">https://www.hl7.org/fhir/DSTU2/valueset-administrative-gender.html</a> and <a href="http://hl7.org/fhir/valueset-administrative-gender.html" target="_blank" title="http://hl7.org/fhir/valueset-administrative-gender.html">http://hl7.org/fhir/valueset-administrative-gender.html</a>. </p>
<p>Do you have any advice on how we should manage this?</p>



<a name="153900130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900130">(Aug 02 2017 at 13:09)</a>:</h4>
<p>Deleted</p>



<a name="153900131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900131">(Aug 02 2017 at 13:12)</a>:</h4>
<p>Deleted</p>



<a name="153900203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900203">(Aug 02 2017 at 20:56)</a>:</h4>
<p>the advice depends on context. I don't know how to offer any more useful advice unless you can describe your context more</p>



<a name="153900314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900314">(Aug 03 2017 at 07:35)</a>:</h4>
<p>Second try. <br>
<span class="user-mention" data-user-id="192396">@Jennifer Ellison</span> <br>
Is this an example of the issue: we have a dstu2 profile for Patient and the ValueSet for administrative gender points to  <a href="http://hl7.org/fhir/valueset-administrative-gender" target="_blank" title="http://hl7.org/fhir/valueset-administrative-gender">http://hl7.org/fhir/valueset-administrative-gender</a> which is a STU3 ValueSet, should this point to <a href="http://hl7.org/fhir/DSTU2/valueset-administrative-gender" target="_blank" title="http://hl7.org/fhir/DSTU2/valueset-administrative-gender">http://hl7.org/fhir/DSTU2/valueset-administrative-gender</a></p>
<p>In our profile renderer we change the link URL's to the correct version but display the canonical url.</p>



<a name="153900315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900315">(Aug 03 2017 at 07:38)</a>:</h4>
<p>i.e. The link to <a href="http://hl7.org/fhir/valueset-administrative-gender" target="_blank" title="http://hl7.org/fhir/valueset-administrative-gender">http://hl7.org/fhir/valueset-administrative-gender</a> (this is displayed in the profile) is <a href="http://hl7.org/fhir/DSTU2/valueset-administrative-gender.html" target="_blank" title="http://hl7.org/fhir/DSTU2/valueset-administrative-gender.html">http://hl7.org/fhir/DSTU2/valueset-administrative-gender.html</a> and this is the page you go to when you follow the links.</p>



<a name="153900318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jennifer Ellison <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900318">(Aug 03 2017 at 07:51)</a>:</h4>
<p>Yes, there are almost 2 problems that we have, one is that the ValueSet URLs in the XML for DSTU2 profiles now go to STU3 ValueSets.</p>
<p>However, the problem we are facing is in how we handle our own ValueSets going forward.  We host the ValueSets on a server and when we created the DSTU2 ValueSets, we made the ValueSet URL is the same as the resolvable URL, like the FHIR standard originally was.  But, as we move forward to recreate some of our profiles in STU3, if we recreate these ValueSets with the same ValueSet  URL in STU3, you cannot have the same resolvable URL as the structure of the ValueSet resource has changed and there doesn't appear to be a way to distinguish which version of FHIR they belong to.</p>
<p>The FHIR standard has handled this by retrospectively changing the resolvable URL for DSTU2 ValueSets.  The question is around what would be the best way for us to handle ValueSet URLs between versions of FHIR, as the FHIR standard states that "Ideally, the URL should also be the location of the master version of the value set" (<a href="http://hl7.org/fhir/valueset.html#4.8.3.1" target="_blank" title="http://hl7.org/fhir/valueset.html#4.8.3.1">http://hl7.org/fhir/valueset.html#4.8.3.1</a>)</p>



<a name="153900381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900381">(Aug 03 2017 at 15:11)</a>:</h4>
<p>The real challenge is that canonical URLs resolve to "current official" with no way to navigate to other versions (like the yellow box we have at the top of the page you get to when you use the canoncial URL for the spec itself).</p>



<a name="153900382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ValueSetURL/near/153900382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ValueSetURL.html#153900382">(Aug 03 2017 at 15:12)</a>:</h4>
<p>Doing that would mean a fair bit of work for each release.  (And even more work if we wanted to account for the times we rename things)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
