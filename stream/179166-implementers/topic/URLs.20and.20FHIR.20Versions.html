---
layout: page
title: "FHIR Chat  · URLs and FHIR Versions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html">URLs and FHIR Versions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189613557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189613557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189613557">(Mar 03 2020 at 17:14)</a>:</h4>
<p>Hi all, was working through parsing in different FHIR versions and had a question about URL resolution.  Specifically, since canonical URLs aren't versioned, how are people resolving them?  I did not see any hints on the <a href="http://hl7.org/fhir/versioning.html" target="_blank" title="http://hl7.org/fhir/versioning.html">Versioning Guidance</a> page.</p>
<p>So far, I have questions around two cases:</p>
<p>1) Extension URLs, for example <code>1179-objectclass</code>.  The URL points to a StructureDefinition in the current (R4) version: <a href="https://www.hl7.org/fhir/extension-11179-objectclass.html" target="_blank" title="https://www.hl7.org/fhir/extension-11179-objectclass.html">https://www.hl7.org/fhir/extension-11179-objectclass.html</a> , but if you want the DSTU2 version, you need to request <a href="https://www.hl7.org/fhir/DSTU2/extension-11179-objectclass.html" target="_blank" title="https://www.hl7.org/fhir/DSTU2/extension-11179-objectclass.html">https://www.hl7.org/fhir/DSTU2/extension-11179-objectclass.html</a> .</p>
<ul>
<li>Is the general process that you should always inject the version into the URL?  A DSTU2 server would have worked as expected when DSTU2 was 'current', but would have stopped working when STU3 was published.</li>
<li>I chose that particular example because it exists in many versions, and the definition is different between them - trying to parse the wrong version will either fail or cause some unexpected behaviors.</li>
</ul>
<p>2) Resource definition URLs, for example <code>Appointment</code>.  Looking at a conformance statement from a DSTU2 server, the URLs are styled <a href="http://hl7.org/fhir/profiles/Appointment" target="_blank" title="http://hl7.org/fhir/profiles/Appointment">http://hl7.org/fhir/profiles/Appointment</a> - which no longer resolve.  The current style is <a href="http://hl7.org/fhir/StructureDefinition/Appointment" target="_blank" title="http://hl7.org/fhir/StructureDefinition/Appointment">http://hl7.org/fhir/StructureDefinition/Appointment</a>.  So again, if you need the DSTU2 version the URL you want is: <a href="http://hl7.org/fhir/DSTU2/StructureDefinition/Appointment" target="_blank" title="http://hl7.org/fhir/DSTU2/StructureDefinition/Appointment">http://hl7.org/fhir/DSTU2/StructureDefinition/Appointment</a> .</p>
<ul>
<li>Are people just parsing and rebuilding those URLs to get the version they want?</li>
<li>If so, does this mean that at some point everyone resolving DSTU2 URLs needed to change their code?</li>
</ul>
<p>Any thoughts / experiences / advice is welcome, thanks!</p>



<a name="189618954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189618954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189618954">(Mar 03 2020 at 18:15)</a>:</h4>
<p>As a side-note, the <a href="http://hl7.org/fhir/versioning.html#mp-version" target="_blank" title="http://hl7.org/fhir/versioning.html#mp-version">Versioning Guidance</a> you linked to says to use version numbers rather than release strings, e.g. '1.0' and not 'DSTU2'.  So your URL example for Appointment would look like <a href="http://hl7.org/fhir/1.0/StructureDefinition/Appointment" target="_blank" title="http://hl7.org/fhir/1.0/StructureDefinition/Appointment">http://hl7.org/fhir/1.0/StructureDefinition/Appointment</a>.  The <a href="https://github.com/lhncbc/lforms" target="_blank" title="https://github.com/lhncbc/lforms">LHC-Forms</a> Questionnaire widget uses that format in meta.profile when generating Questionnaires.</p>



<a name="189619033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189619033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189619033">(Mar 03 2020 at 18:16)</a>:</h4>
<p>I was thinking that maybe the "right" way to resolve these URLs is by downloading FHIR core conformance packages or looking things up in a registry. The conformance packages work okay for HL7-published content, but not so much for "open world" extensions. There, regsitries are the only approach I'm familiar with. But when I browse <a href="https://simplifier.net/ui/search/index?canonical=http://hl7.org/fhir/structuredefinition/11179-permitted-value-conceptmap" target="_blank" title="https://simplifier.net/ui/search/index?canonical=http://hl7.org/fhir/structuredefinition/11179-permitted-value-conceptmap">https://simplifier.net/ui/search/index?canonical=http://hl7.org/fhir/structuredefinition/11179-permitted-value-conceptmap</a> I see dozens of copies of this extensions, all in different projects several of which look offical. Some match the published content, and some note exactly (for fields like <code>status</code> for example).</p>



<a name="189619840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189619840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189619840">(Mar 03 2020 at 18:25)</a>:</h4>
<p>Why / when would you want to resolve those as part of parsing? (and: other servers might have extension URL that do not resolve ... for example ours...)</p>



<a name="189620054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189620054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189620054">(Mar 03 2020 at 18:27)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="195344">@Paul Lynch</span> .  Interesting that the HL7 server doesn't respect that guidance.</p>



<a name="189621018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189621018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189621018">(Mar 03 2020 at 18:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> , I am working on some code generation software for OpenAPI.  One of the options for configuration starts from a CapabilityStatement.</p>
<p>For some items, the Josh process works (e.g., I have FHIR 4.0.2 downloaded and can look up the model for an <code>AllergyIntolerance</code>).  For 'official' extensions, this also works.  The system breaks down when there are external definition for anything, since I don't have a version reference to work from.  I figured it was easier to use the core specs as examples since they exhibit the same behavior.</p>
<p>I think a lot of my confusion is trying to addressed versioned resources without versioned URLs, and I am looking for how it is being handled 'in the wild'.</p>



<a name="189622709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189622709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189622709">(Mar 03 2020 at 18:57)</a>:</h4>
<p>In LHC-Forms, if someone does not provide a versioned URL in meta.profile, we try to guess the version based on the structure of the Questionnaire.  However, that guessing is not very good, and I think having a versioned URL in meta.profile should be considered necessary if you are going to send a resource to someone without the context of a FHIR server (which can tell you what version it is).</p>



<a name="189623182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189623182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189623182">(Mar 03 2020 at 19:02)</a>:</h4>
<p>So that latter point is about how to tell what profiles are relevant for a given resource; but the <span class="user-mention" data-user-id="222054">@Gino Canessa</span> questions are mainly about how to <em>algorithmically resolve</em> a definition URL (extension or profile) when the URL is known.</p>



<a name="189642083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189642083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189642083">(Mar 03 2020 at 22:36)</a>:</h4>
<p>the canonical URL is not necessarily a literal URL reference. Josh is right that you should get the right package and resolve through that.</p>



<a name="189642133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189642133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189642133">(Mar 03 2020 at 22:37)</a>:</h4>
<p>further, we have policy changes that mean that r2 is more broken than just in the versioning thing.</p>



<a name="189642238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189642238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189642238">(Mar 03 2020 at 22:38)</a>:</h4>
<p>there are redirects for versions - .e.g <a href="http://hl7.org/fhir/3.0/StructureDefinition/Appointment" target="_blank" title="http://hl7.org/fhir/3.0/StructureDefinition/Appointment">http://hl7.org/fhir/3.0/StructureDefinition/Appointment</a> should work, and the package hl7.fhir.xver.r4 includes structure definitions that have version specific URLs, though only the canonical itsellf</p>



<a name="189706969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189706969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189706969">(Mar 04 2020 at 16:17)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> and <span class="user-mention" data-user-id="195344">@Paul Lynch</span>.  To make sure I have this right:</p>
<ul>
<li>for official definitions: download the correct versioned package and find the definition by matching URL</li>
<li>for external definitions:<ul>
<li>hope the <code>CapabilityStatement</code> has a versioned URL that resolves to a definition</li>
<li>hope for a versioned URL in a resource <code>meta.profile</code></li>
<li>hope the server has a definition available for whatever you are looking for (e.g., a <code>StructureDefinition</code> for an Extension)</li>
</ul>
</li>
</ul>



<a name="189710609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189710609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189710609">(Mar 04 2020 at 16:52)</a>:</h4>
<p>(And, to add to the "external definitions" bullet list:</p>
<ul>
<li>Gather versioned sets of all the definitions you can find for "common" stuff like US Core, possibly leaning on registries to help, and resolve URLs based on those when possible</li>
</ul>
<p>)</p>



<a name="189726870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189726870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189726870">(Mar 04 2020 at 19:38)</a>:</h4>
<p>and the place to start is <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a></p>



<a name="189730337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189730337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189730337">(Mar 04 2020 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , I have been using <a href="http://hl7.org/fhir/&lt;releaseName&gt;/&lt;packageName&gt;.tgz" target="_blank" title="http://hl7.org/fhir/&lt;releaseName&gt;/&lt;packageName&gt;.tgz">http://hl7.org/fhir/&lt;releaseName&gt;/&lt;packageName&gt;.tgz</a> (e.g., <a href="http://hl7.org/fhir/R4/hl7.fhir.r4.core.tgz" target="_blank" title="http://hl7.org/fhir/R4/hl7.fhir.r4.core.tgz">http://hl7.org/fhir/R4/hl7.fhir.r4.core.tgz</a>) so far since the URLs are generic per release of FHIR.</p>
<p>In trying to get the downloads from the packages site, I wasn't able to find a URL that worked without the full version (e.g., 4.0.2).  Is there one I didn't discover?</p>



<a name="189730648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189730648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189730648">(Mar 04 2020 at 20:16)</a>:</h4>
<p>well, if you want to avoid knowing the full version in advance, you have to search for the versions available: <a href="http://packages.fhir.org/hl7.fhir.r4.core" target="_blank" title="http://packages.fhir.org/hl7.fhir.r4.core">http://packages.fhir.org/hl7.fhir.r4.core</a></p>



<a name="189730913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189730913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189730913">(Mar 04 2020 at 20:19)</a>:</h4>
<p>That's frustrating.  Will those other URLs continue to work, or will they disappear at some point?</p>



<a name="189731110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189731110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189731110">(Mar 04 2020 at 20:21)</a>:</h4>
<p>For reference, I am using the definitions at runtime.  I don't want a dependency on NPM, nor do I particularly want to package all of the versions of FHIR at build-time.</p>



<a name="189731302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189731302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189731302">(Mar 04 2020 at 20:23)</a>:</h4>
<p>The others will continue to work. It's probably easier and more reliable to hit the main website for the core packages if you only want the current ones</p>



<a name="189731404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/URLs%20and%20FHIR%20Versions/near/189731404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/URLs.20and.20FHIR.20Versions.html#189731404">(Mar 04 2020 at 20:24)</a>:</h4>
<p>Nice!  Thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
