---
layout: page
title: "FHIR Chat  · Reference and uri when referencing resources · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html">Reference and uri when referencing resources</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153935375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153935375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153935375">(Feb 05 2018 at 22:26)</a>:</h4>
<p>Today, FHIR-I agreed to re-open <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12902" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12902">GF#12902</a> which had agreed to replace all appearances of <code>uri</code> as a reference mechanism with a choice of <code>uri|Reference([appropriate resource type(s)])</code> based on late feedback from implementers who objected to the change.  Issues to figure out include:<br>
- Can a Reference include a canonical URL or only a server-specific URL?  (Current policy says "yes", but some implementers were surprised about that)<br>
- Can a Reference include a canonical URL with a "|[bus-version]" appended?  Current policy doesn't enable this, but some want it<br>
- If we just use uri and not Reference when pointing to other resources, how do we resolve the following issues:<br>
-- Control over what types of resources can be referenced (including the ability of profiles being able to constrain what can be referenced).  This includes the ability to make clear which "real" resources can be referenced (e.g. StructureDefinition, Questionnaire, PlanDefinition), but also the ability to allow/prohibit pointing to PDFs, word documents and any other non-FHIR artifacts that are also legal as a URI<br>
-- Support for traceability when a "contained" resource points to its parent or is pointed to by its parent via <code>uri</code> rather than <code>Reference</code>such that the invariant requiring that contained resources point to or be pointed to by their container can still be tested</p>
<p>The decision here will impact many resources - essentially all resources that point to infrastructure or other defininitional/knowledge resources (including Questionnaire, PlanDefinition, ValueSet, etc.)  We'll be taking this up on the FHIR-I call next Monday.  Feel free to join us or share your thoughts here.</p>



<a name="153935389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153935389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153935389">(Feb 05 2018 at 23:33)</a>:</h4>
<p>My thoughts:<br>
The outcome of this should allow us to do the following:<br>
- Ensure that the base resources make clear whether a URI can resolve to a non-FHIR artifact, a FHIR artifact or both.  If it can resolve to a FHIR artifact, it should be clear which artifact type(s) can be resolved to<br>
- It should be possible for profilers to constrain a reference such that it they can control which resource(s) the reference is allowed to point to and/or whether referencing a non-resource is permitted or required.  (Being able to constrain the mime-type of the target resource would be useful too.)<br>
- When referencing resources, profiles should be able to use the standard mechanism to indicate whether the reference can be contained, bundled and/or referenced and the validator needs to be able to enforce those references<br>
- References to definitional/infrastructure/knowledge resources need to be able to point to and from contained resources and the validator must support such references when confirming that the contained resource is properly referenced. <br>
- It needs to be clear when and where canonical references and canonical version references can be used (and ideally have profiling control of that too - e.g. "this must point to a version-specific questionnaire canonical URL"<br>
I expect these behaviors fall with in the 80% for most systems dealing with definitional/infrastructure/knowledge resources, but I'm open to arguments that they're not.  (In any event, I'd expect validators for the reference implementations and profile authoring tools we endorse to support them.)</p>



<a name="153935573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153935573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153935573">(Feb 06 2018 at 19:09)</a>:</h4>
<p>what about Reference.identifier? how does it factor into this?  I fear asking about Reference.display...</p>



<a name="153935574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153935574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153935574">(Feb 06 2018 at 19:17)</a>:</h4>
<p>It does suggest that if you want to point to a definitional artifact by business identifier rather than uri, that there'd be a need for Reference rather than uri as the data type.  And yes, the absense of Reference.display when you just have a uri is a bit problematic too.  It's hard to generate narrative if you don't have a display value to indicate what Questionnaire a response is for or what protocol an order is following or what value set an element is constrained to.</p>



<a name="153937823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937823">(Feb 15 2018 at 16:30)</a>:</h4>
<blockquote>
<ul>
<li>Can a Reference include a canonical URL or only a server-specific URL?  (Current policy says "yes", but some implementers were surprised about that)</li>
</ul>
</blockquote>
<p>I don't know whether "yes" means the first or the second option - but in my mind the references (with a small 'r') between conformance resources are done using "canonical urls", which aren't necessarily resolvable.  One of these is StructureDefinition.url, which definition reads:</p>
<p>"An absolute URI that is used to identify this structure definition when it is referenced in a specification, model, design or an instance. This SHALL be a URL, SHOULD be globally unique, and SHOULD be an address at which this structure definition is (or will be) published"</p>
<p>On the referencing side, we have for example ElementDefinition.type.profile, which definition says:<br>
"Identifies a profile structure or implementation Guide that SHALL hold for the datatype this element refers to. Can be a local reference - to a contained StructureDefinition, or a reference to another StructureDefinition or Implementation Guide by a canonical URL. "</p>
<p>These definitions represents the mind shift that has been going on in the core team: in DSTU1 these (canonical) urls were actual addresses, and we said back then that they MUST resolve.  This, however, is unmaintainable.  These StructureDefinitions (and other conformance resources) may move from repository to repository, the original organization may go out of business or merge with another organization, be renamed etc.  In every case, the canonical url may become unresolvable at a later moment. It therefore becomes more important to have a canonical url that represents a logical, more pertinent identifier than an actual physical location. The current definitions -as far as I interpret them- stress the fact that they are /identifiers/ in the first place, and references second.</p>
<p>This is adequately expressed in our models currently, since these references are now uri's.  Changing them to References expresses an intent that does not align with this mindset, as far as I can see.</p>
<p>If you read <a href="http://hl7.org/fhir/references.html#canonical" target="_blank" title="http://hl7.org/fhir/references.html#canonical">http://hl7.org/fhir/references.html#canonical</a>, this section /again/ stresses that resources may travel from location to location and that (to quote the section) "The canonical URL serves as a stable logical identifier".</p>
<blockquote>
<ul>
<li>Can a Reference include a canonical URL with a "|[bus-version]" appended?  Current policy doesn't enable this, but some want it</li>
</ul>
</blockquote>
<p>I think <a href="http://hl7.org/fhir/references.html#canonical" target="_blank" title="http://hl7.org/fhir/references.html#canonical">http://hl7.org/fhir/references.html#canonical</a> says this is true for our current "uri" coded canonical references. If (which I am not in facor of) we would change these to References, References would also need to accept the |[version] notation.</p>
<blockquote>
<ul>
<li>If we just use uri and not Reference when pointing to other resources, how do we resolve the following issues:<br>
-- Control over what types of resources can be referenced (including the ability of profiles being able to constrain what can be referenced).  This includes the ability to make clear which "real" resources can be referenced (e.g. StructureDefinition, Questionnaire, PlanDefinition), but also the ability to allow/prohibit pointing to PDFs, word documents and any other non-FHIR artifacts that are also legal as a URI</li>
</ul>
</blockquote>
<p>This sounds like a minor usecase to me personally, and I wonder whether this warrants the big change this GF tracker item is proposing.</p>
<blockquote>
<p>-- Support for traceability when a "contained" resource points to its parent or is pointed to by its parent via <code>uri</code> rather than <code>Reference</code>such that the invariant requiring that contained resources point to or be pointed to by their container can still be tested</p>
</blockquote>
<p>This is a good point, although I think we can alter the invariants to make this work "canonically" too. Not sure.</p>



<a name="153937825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937825">(Feb 15 2018 at 16:33)</a>:</h4>
<p>i think switching from uri to <code>uri|Reference([appropriate resource type(s)])</code>would be a great idea, we currently having a problem because of uri in Attachment and not be able to replace the temporary uri during a transaction: <a href="https://chat.fhir.org/#narrow/stream/implementers/subject/Reference.20file.20from.20Attachment/near/127232" target="_blank" title="https://chat.fhir.org/#narrow/stream/implementers/subject/Reference.20file.20from.20Attachment/near/127232">https://chat.fhir.org/#narrow/stream/implementers/subject/Reference.20file.20from.20Attachment/near/127232</a></p>



<a name="153937826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937826">(Feb 15 2018 at 16:34)</a>:</h4>
<p>Yes, good that you mention that point! But couldn't that be fixed by just doing that in Attachment?  That does not seem to be a canonical uri?</p>



<a name="153937829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937829">(Feb 15 2018 at 16:38)</a>:</h4>
<p>For our usecase, adding reference to Attachment would fix the the issue, correct. I just mentioned it as it is a related issue. The proposed switch would <strong>also</strong> solve our problem. We also would be happy with adding reference to Attachment.<br>
As we want to prevent redundant work, should we add a tracker item for our issue and link it to the reopened item?</p>



<a name="153937839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937839">(Feb 15 2018 at 17:30)</a>:</h4>
<p>True. Using _include to return the binary with the search results wouldn't work either!</p>



<a name="153937858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937858">(Feb 15 2018 at 18:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> Don't worry too much about the specific proposed change that was agreed to in <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12902" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12902">GF#12902</a>.  Instead focus on the use-cases.  There's a need to be able to control what type of artifacts are pointed to, do _include, _revinclude, identify whether the content is to be bundled/contained/referenced, identify profiles that will apply to references (and validate that those profiles hold), etc.  All of the requirements that we have for referencing regular resources <em>still apply</em> when we reference infrastructure resources.  What's different is that we want to be able to make references by canonical (and sometimes business-version-specific canonical) URLs.</p>



<a name="153937859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937859">(Feb 15 2018 at 18:07)</a>:</h4>
<p>One of the powers of FHIR is that StructureDefinition and ValueSet, etc. are resources that behave like any other resource.  We need to ensure that they <em>do</em> behave like any other resource.</p>



<a name="153937925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937925">(Feb 15 2018 at 20:51)</a>:</h4>
<p>on the subject of attachment: it's a different subject, but changing attachment to a reference won't help with _include. And the transaction thing - servers should be fixing attachment.uri in a transaction</p>



<a name="153937928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937928">(Feb 15 2018 at 20:52)</a>:</h4>
<p>as for canonical URLs: Reference is currently allowed to contain a canonical URL. <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> seems to think that it shouldn't but i don't know what grounds there are for that. Logically, at least, local registries are caches for canonical URLs. We don't make rules about caches, especially, no rule that you can't resolve any Reference(X) through a cache</p>



<a name="153937936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937936">(Feb 15 2018 at 21:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Do you agree that the behavior of references to knowledge resources/infrastructure resources should be able to do the same things as we do for other resources - _include, contain, profiling inclusion/validation of references, etc.?  (Obviously with the recognition that the use of canonical references and version-specific references adds extra capabilities/complexities that don't exist for other clinical/administrative resources.)</p>



<a name="153937940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937940">(Feb 15 2018 at 21:37)</a>:</h4>
<p>not sure. for instance, I would not expect _include to be very useful in a typical canonical reference context</p>



<a name="153937942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937942">(Feb 15 2018 at 21:38)</a>:</h4>
<p>Give me the Questionnaire along with the QuestionnaireResponse; Give me the ValueSets along with the StructureDefinition; Give me the ActivityDefinitions along with the PlanDefinition.</p>



<a name="153937944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937944">(Feb 15 2018 at 21:40)</a>:</h4>
<p>quite often they would not be on the same server</p>



<a name="153937946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937946">(Feb 15 2018 at 21:40)</a>:</h4>
<p>Maybe</p>



<a name="153937948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937948">(Feb 15 2018 at 21:41)</a>:</h4>
<p>The canonical definitions, perhaps not.  Local cached copies, quite often would be though.</p>



<a name="153937949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153937949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153937949">(Feb 15 2018 at 21:41)</a>:</h4>
<p>"The name of the search parameter which must be of type reference" .... but I suspect _include would work on canonical URLs on my server anyway</p>



<a name="153938184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938184">(Feb 16 2018 at 12:38)</a>:</h4>
<blockquote>
<p>as for canonical URLs: Reference is currently allowed to contain a canonical URL. <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> seems to think that it shouldn't but i don't know what grounds there are for that. Logically, at least, local registries are caches for canonical URLs. We don't make rules about caches, especially, no rule that you can't resolve any Reference(X) through a cache</p>
</blockquote>
<p>I was aware it could (we do this locally in batches), but these are turned into http references after processing. I do think it's surprising to our users that References would just contain identifying canonical urls, and not be physical references, that is true.</p>



<a name="153938185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938185">(Feb 16 2018 at 12:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> <span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191407">@Rick Geimer</span> <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> <span class="user-mention" data-user-id="191334">@Marten Smits</span> <span class="user-mention" data-user-id="191375">@Alexander Henket</span> <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> <span class="user-mention" data-user-id="192856">@Thomas Tveit Rosenlund</span> <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> <span class="user-mention" data-user-id="191450">@Simone Heckmann</span> <span class="user-mention" data-user-id="191404">@John Moehrke</span> <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> <span class="user-mention" data-user-id="191682">@Richard Townley-O'Neill</span> <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> <span class="user-mention" data-user-id="191336">@Michel Rutten</span>.  </p>
<p>You are invited to take a look at this normative change to StructureDefinition!</p>



<a name="153938229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938229">(Feb 16 2018 at 15:37)</a>:</h4>
<p>(And ValueSet and CodeSystem and PlanDefinition and most other knowledge and infrastructure resources - anything that points to something potentially by a canonical URL.)</p>



<a name="153938230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Spencer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938230">(Feb 16 2018 at 15:38)</a>:</h4>
<p>would it make sense for canonical URLs to go into Reference.identifier instead, with some kind of system meaning "this is a canonical URL"?</p>



<a name="153938234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938234">(Feb 16 2018 at 15:45)</a>:</h4>
<p>We could.  Or we could have a boolean for "isCannonical" or a variety of other solutions.  The key is having the ability to do with canonical references what we can do with regular references and the ability to differentiate between references to resources and references to other things.</p>



<a name="153938260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938260">(Feb 16 2018 at 18:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> what are we supposed to look at?</p>



<a name="153938271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938271">(Feb 16 2018 at 20:01)</a>:</h4>
<p>I'm not sure. there's <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12902" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12902">GF#12902</a>, and then there's my request for comment at <a href="https://onfhir.hl7.org/2017/12/21/fhir-r4-ballot-community-consultation/" target="_blank" title="https://onfhir.hl7.org/2017/12/21/fhir-r4-ballot-community-consultation/">https://onfhir.hl7.org/2017/12/21/fhir-r4-ballot-community-consultation/</a> and then there's Ewout's comments in this thread</p>



<a name="153938597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938597">(Feb 19 2018 at 15:22)</a>:</h4>
<blockquote>
<p>would it make sense for canonical URLs to go into Reference.identifier instead, with some kind of system meaning "this is a canonical URL"?</p>
</blockquote>
<p>We could, but that's only one part of the equation, but what to do about the references to these urls/identifiers? Should that be uri/Reference or [uri|reference]?</p>



<a name="153938602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938602">(Feb 19 2018 at 15:41)</a>:</h4>
<p>Im not sure what the proposed change is at this point. I do agree with all the various problem definitions...   Identifier vs URI vs URL ... so close, yet so far apart...</p>



<a name="153938708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938708">(Feb 19 2018 at 22:41)</a>:</h4>
<p>Reopening for consultation one last time:</p>



<a name="153938709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938709">(Feb 19 2018 at 22:42)</a>:</h4>
<p><a href="https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/" target="_blank" title="https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/">https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/</a></p>



<a name="153938818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938818">(Feb 20 2018 at 05:55)</a>:</h4>
<p>Are these right?</p>
<p>What canonical does can be done in a roundabout way using Reference.identifier.value with Reference.identifier.system="urn:ietf:rfc:3986"</p>
<p>What url does can be done in a round about way with Reference.reference. But Reference.reference lets you also specify aggregation, targetProfile, and _include, while url does not.</p>



<a name="153938826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938826">(Feb 20 2018 at 06:02)</a>:</h4>
<p>canonical: yes, but the rules around it are not there<br>
url: no, because Reference must point to a resource (or something that would be a resource). url doesn't have to</p>



<a name="153938828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938828">(Feb 20 2018 at 06:12)</a>:</h4>
<p>Ta</p>



<a name="153938948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938948">(Feb 20 2018 at 14:30)</a>:</h4>
<p>Sorry, late to the party, but what _is_ a canonical URL?</p>



<a name="153938950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938950">(Feb 20 2018 at 14:33)</a>:</h4>
<p>see detail in the article <a href="https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/" target="_blank" title="https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/">https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/</a></p>



<a name="153938952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938952">(Feb 20 2018 at 14:39)</a>:</h4>
<p>I like the proposed change. Canonical url's are very fundamental to FHIR, so it makes perfect sense to introduce a new datatype "canonical" to provide a clear and unambiguous definition of this special concept (vs. regular "uri"). Of course this breaking change will have some impact on existing logic, however it seems manageable and I think the benefits are worth it.</p>



<a name="153938956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938956">(Feb 20 2018 at 14:43)</a>:</h4>
<p>Ah got it, thanks <span class="user-mention" data-user-id="191404">@John Moehrke</span>  (I missed <a href="http://build.fhir.org/references.html#canonical" target="_blank" title="http://build.fhir.org/references.html#canonical">http://build.fhir.org/references.html#canonical</a>)</p>



<a name="153938977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938977">(Feb 20 2018 at 16:09)</a>:</h4>
<p>Glad we're addressing this - it's one of the few areas we just went rogue in our implementation to avoid the ambiguity.  Can someone clarify what's happening with the Reference type with this change?  For example, ElementDefinition.binding.valueSet[x] currently allows <code>valueSetReference</code>. Would this be eliminated in favor of <code>valueSetUri</code> and <code>valueSetCanonical</code>?</p>



<a name="153938978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938978">(Feb 20 2018 at 16:10)</a>:</h4>
<p>I thought the critical distinction before was Reference was a declaration of intent to resolve to a FHIR resource whereas uri was a free-for-all.</p>



<a name="153938979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938979">(Feb 20 2018 at 16:12)</a>:</h4>
<p>Also, how does this impact the parsability rules here: <a href="http://build.fhir.org/references.html#literal" target="_blank" title="http://build.fhir.org/references.html#literal">http://build.fhir.org/references.html#literal</a>  ??</p>



<a name="153938980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153938980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153938980">(Feb 20 2018 at 16:14)</a>:</h4>
<p>Do canonical's have to be in a FHIR normal form?</p>



<a name="153939007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939007">(Feb 20 2018 at 17:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> We have a full enumeration of all the changes for the infrastructure resources in the updated change proposal.  But yest, valueSetReference gets toasted in favor of valueSetCanonical.  And we'll still have valueSetUri.</p>



<a name="153939008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939008">(Feb 20 2018 at 17:34)</a>:</h4>
<p>Canonicals don't have to be in FHIR normal form.  E.g. "<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>" is the canonical for the LOINC CodeSystem.  And you could have "http://loinc.org|201801" (or whatever LOINC's version numbering system is - too lazy to look it up :))</p>



<a name="153939073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939073">(Feb 20 2018 at 20:02)</a>:</h4>
<p>Also, <span class="user-mention" data-user-id="191343">@Michael Lawley</span> has made a comment: <a href="https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/#comments" target="_blank" title="https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/#comments">https://onfhir.hl7.org/2018/02/19/community-consultation-urls-vs-references/#comments</a></p>



<a name="153939075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939075">(Feb 20 2018 at 20:02)</a>:</h4>
<p>FHIR-I must consider the comment...</p>



<a name="153939088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939088">(Feb 20 2018 at 20:12)</a>:</h4>
<p>A question: if an element with a type of "canonical" can point to multiple resources (e.g. Questionnaire, PlanDefinition or ActivityDefinition), is there a need to be able to communicate the "type" of resource being referenced, or should we just expect the recipient to search against all possible types.  If there is such a need, do we make this a complex structure or add an extension?  If a complex structure, do we make the type required?</p>



<a name="153939089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939089">(Feb 20 2018 at 20:12)</a>:</h4>
<p>(Note that canonical URLs can't be reliably parsed to extract the resource type.)</p>



<a name="153939090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939090">(Feb 20 2018 at 20:13)</a>:</h4>
<p>where does this arise?</p>



<a name="153939093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939093">(Feb 20 2018 at 20:15)</a>:</h4>
<p>Procedure.instantiates would be one place.  EventDefinition.type.profile would be another (StructureDefinition vs. ImplementationGuide)</p>



<a name="153939095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939095">(Feb 20 2018 at 20:17)</a>:</h4>
<p>I don't know about instantiates. EventDefinition.type.profile I can't imagine why you'd need to know which type without needing to resolve the content anyway</p>



<a name="153939097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939097">(Feb 20 2018 at 20:19)</a>:</h4>
<p>Yes, you'll need to resolve.  But to resolve, right now, you'll need to do a search of your caches for both StructureDefinition and ImplementationGuide</p>



<a name="153939100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939100">(Feb 20 2018 at 20:20)</a>:</h4>
<p>shouldn't- canonicals can never conflict between types. Just do all at once</p>



<a name="153939101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939101">(Feb 20 2018 at 20:21)</a>:</h4>
<p>That presumes you have a common cache across all types.  If you're doing it as a search where URL=[canonical], then you're going to have to search multiple endpoints.</p>



<a name="153939102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939102">(Feb 20 2018 at 20:21)</a>:</h4>
<p>I'm fine with us saying "that's ok".  I just wanted to make sure we discussed and agreed.</p>



<a name="153939103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939103">(Feb 20 2018 at 20:23)</a>:</h4>
<p>you can do </p>
<div class="codehilite"><pre><span></span>GET [base]?url=[canonical]&amp;_type=StructureDefinition,ImplementationGuide
</pre></div>



<a name="153939104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939104">(Feb 20 2018 at 20:28)</a>:</h4>
<p>If the server supports that, sure.</p>



<a name="153939105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939105">(Feb 20 2018 at 20:31)</a>:</h4>
<p>The set of possible resources is presumably much narrower than we have for Reference where there's a not-small number of places where we allow Reference(*).  I expect that <code>canonical</code> will likely be constrained to 3-4 resource types max.  And the vast majority are limited to only 1.  So it's legitimate for us to say that cross-resource searching is expected and acceptable.</p>



<a name="153939106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939106">(Feb 20 2018 at 20:32)</a>:</h4>
<p>so we should document that and otherwise say that if you think that it matters, there's always extensions</p>



<a name="153939108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939108">(Feb 20 2018 at 20:34)</a>:</h4>
<p>with regard to Michael's comments: After some thought, I could actually deal with the renaming personally; I'd just make an alias in the reference implementations and not worry about it otherwise.</p>



<a name="153939109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939109">(Feb 20 2018 at 20:34)</a>:</h4>
<p>but it's not scratching an itch that i have</p>



<a name="153939116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939116">(Feb 20 2018 at 20:50)</a>:</h4>
<p>So ValueSet.url has a type of uri - and that's actually what we want.  It doesn't <em>have</em> to resolve.  Where I believe that the new "url" type is expected to resolve.  At the same time, we still want to leave ValueSet.url named as it is because we want to encourage the use of urls</p>



<a name="153939123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939123">(Feb 20 2018 at 20:59)</a>:</h4>
<p>The fact that canonical urls don't have to reference FHIR resources, or live under [base]/[resourcetype] means, in my mind, that canonical urls can't be the target of a Reference. I see canonical urls as closer to a type of identifier (which might end up being resolvable), than as a type of reference.</p>



<a name="153939155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939155">(Feb 20 2018 at 22:42)</a>:</h4>
<p>A couple of questions. Firstly would the proposed new data types ('canonical' and 'url') be classified as Primitive Types or Complex Types? Secondly, in the list of proposed changes to element data types, I don't see any where the type is to be changed to 'url'  am I  missing something or are there other use cases for creating a 'url' data type?</p>



<a name="153939156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939156">(Feb 20 2018 at 22:46)</a>:</h4>
<p>primitives. Attachment.url will be changed to url. Bryn says there's some elements in the CDS resources that will be changed too</p>



<a name="153939160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939160">(Feb 20 2018 at 23:01)</a>:</h4>
<p>Why are some elements changing to canonical | uri? Are you expecting some of the referenced instances (they all look to be ValueSets) to not have canonical uris?</p>
<p>And again why are canonical uri not just identifiers?</p>



<a name="153939161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939161">(Feb 20 2018 at 23:06)</a>:</h4>
<p>a few things, the references are not only to ValueSet resources. Like the binding value sets</p>



<a name="153939162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939162">(Feb 20 2018 at 23:06)</a>:</h4>
<p>and same answer again ;-)</p>



<a name="153939168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939168">(Feb 20 2018 at 23:17)</a>:</h4>
<p>Adding 'url' as a (sub) type of the existing 'uri' data type makes sense to me. However, I have doubts as to whether 'canonical' sits at that level of abstraction - it's really a specific (sub) type of 'url' rather than an immediate sub-type of  'uri' - and I'm not sure if exposing it as a data type will result in better outcomes than declaring that a given 'url' data type shall contain a canonical representation.</p>



<a name="153939170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939170">(Feb 20 2018 at 23:20)</a>:</h4>
<p>canonicals do not have to be urls. they can be uris</p>



<a name="153939183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939183">(Feb 20 2018 at 23:26)</a>:</h4>
<p>And when they use the [canonical]|[version] syntax, they almost certainly won't resolve.</p>



<a name="153939199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939199">(Feb 20 2018 at 23:40)</a>:</h4>
<p>Well both the Community Consultation page and the section on versioning in the specification ultimately point to the term 'Canonical Url' - but, either way, I don't see how creating a primitive data type of 'canonical' will ensure that a unique reference is placed in any given element .</p>



<a name="153939200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939200">(Feb 20 2018 at 23:44)</a>:</h4>
<p>as opposed to some flag on the element definition? what would be different?</p>



<a name="153939205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939205">(Feb 21 2018 at 00:09)</a>:</h4>
<p>A flag on an element definition isn't a (very) late breaking change for implementations.</p>



<a name="153939219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939219">(Feb 21 2018 at 00:28)</a>:</h4>
<blockquote>
<p>a few things, the references are not only to ValueSet resources. Like the binding value sets</p>
</blockquote>
<p>Why aren't these ValueSet resources? Will the documentation be clear not to use uri if there is a ValueSet resource?</p>



<a name="153939220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939220">(Feb 21 2018 at 00:28)</a>:</h4>
<p>It's more about the behaviors for "Canonical" being very different from the behaviors for "uri" and "url".  With canonical, you can do _include, you can specify targetProfile and can set aggregationMode like you can for Reference.  With url you can't (though there's a separate discussion exploring allowing _include in a different way for url).</p>



<a name="153939221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939221">(Feb 21 2018 at 00:29)</a>:</h4>
<p>It's not a valueset resource if it's a web page - like we point to for the Mime type code system.</p>



<a name="153939223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939223">(Feb 21 2018 at 00:30)</a>:</h4>
<p>We certainly prefer real ValueSet instances.  But even in the core spec there are times when we can't because the content just isn't published in a way that allows computational representation in a maintainable/sustainable way.</p>



<a name="153939225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939225">(Feb 21 2018 at 00:31)</a>:</h4>
<p>saves us from boiling the ocean</p>



<a name="153939227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939227">(Feb 21 2018 at 00:34)</a>:</h4>
<p>OK, I shouldn't have focused on ValueSet. What I should have asked is, where do we need canonical | uri? The web page example given by Lloyd  works for canonical. I don't see a problem with the binding value sets having a canonical url. So, where is uri needed?</p>



<a name="153939228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939228">(Feb 21 2018 at 00:35)</a>:</h4>
<p>"The web page example given by Lloyd works for canonical" - uh, no it doesn't. it's not actually a value set</p>



<a name="153939230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939230">(Feb 21 2018 at 00:36)</a>:</h4>
<p>but all the places where we proposed canonical | uri are all value set references</p>



<a name="153939231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939231">(Feb 21 2018 at 00:37)</a>:</h4>
<p>Why isn't it a value set? What's an example of someplace that needs uri?</p>



<a name="153939232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939232">(Feb 21 2018 at 00:38)</a>:</h4>
<p>because it's a web page that describes a code system and a grammar for building valid codes. We won't have a value set for it</p>



<a name="153939234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939234">(Feb 21 2018 at 00:40)</a>:</h4>
<p><code>canonical</code> must resolve to a real resource.  <code>url</code> resolves to something that isn't a resource (PDF, web page, JPEG, MS-Word document... :))</p>



<a name="153939235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939235">(Feb 21 2018 at 00:41)</a>:</h4>
<p>canonical is like Reference, except with Reference you can do a direct GET.  With canonical you need to parse the string to split the URL and version and then do a search against candidate resource types in your local cache and if you don't find it, then do a query against the base URL with the version (if any)</p>



<a name="153939236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939236">(Feb 21 2018 at 00:41)</a>:</h4>
<p>Oh. That wasn't clear earlier.</p>
<p>So what canonical maps to is different than what, eg., ValueSet.url maps to?</p>



<a name="153939237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939237">(Feb 21 2018 at 00:42)</a>:</h4>
<p>canonical maps to ValueSet.url plus possibly ValueSet.version</p>



<a name="153939238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939238">(Feb 21 2018 at 00:42)</a>:</h4>
<p>OK, but ValueSet.url doesn't need to map to a ValueSet resource (although it's polite if it does).</p>



<a name="153939239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939239">(Feb 21 2018 at 00:42)</a>:</h4>
<p>So you search your local/cached set of value sets for a match.  If no luck, you try local registries and if still no luck you hit the ValueSet.url which should ideally resolve.</p>



<a name="153939240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939240">(Feb 21 2018 at 00:47)</a>:</h4>
<blockquote>
<p><code>canonical</code> must resolve to a real resource.  <code>url</code> resolves to something that isn't a resource (PDF, web page, JPEG, MS-Word document... :))</p>
<p>canonical is like Reference, except with Reference you can do a direct GET.  With canonical you need to parse the string to split the URL and version and then do a search against candidate resource types in your local cache and if you don't find it, then do a query against the base URL with the version (if any)</p>
<p>So you search your local/cached set of value sets for a match.  If no luck, you try local registries and if still no luck you hit the ValueSet.url which should ideally resolve.</p>
</blockquote>
<p>The first statement there doesn't match the following two. The first says that <code>canonical</code> must resolve; the later two says it may.</p>



<a name="153939241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939241">(Feb 21 2018 at 00:49)</a>:</h4>
<p>if it doesn't resolve to a resource, it's an error</p>



<a name="153939242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939242">(Feb 21 2018 at 00:49)</a>:</h4>
<p>where as with URL, if it doesn't... it might be a problem</p>



<a name="153939243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939243">(Feb 21 2018 at 00:50)</a>:</h4>
<p>or it might not be a resource.</p>



<a name="153939244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939244">(Feb 21 2018 at 00:54)</a>:</h4>
<p>So, I have a ValueSet.url. And whether I reference that in OperationDefinition.binding.valueSetUri or in OperationDefinition.binding.valueSetCanonical depends on whether the thing at that url is a ValueSet resource?</p>



<a name="153939245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939245">(Feb 21 2018 at 00:58)</a>:</h4>
<p>if you have a ValueSet.url, then you would use valueSetCanonical</p>



<a name="153939246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939246">(Feb 21 2018 at 00:58)</a>:</h4>
<p>DICOM is defining ValueSets for all their context groups, like CID 29 Aquisition Modalities. The ValueSet.url is set to the webpage of the DICOM spec where that context group is defined. Linked from that page is the ValueSet, along with the context group in other formats, e.g., IHE SVS. Can the ValueSet be referenced by canonical or by a uri element?</p>
<p>(see <a href="http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html" target="_blank" title="http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html">http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html</a>)</p>



<a name="153939248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939248">(Feb 21 2018 at 01:02)</a>:</h4>
<blockquote>
<p>canonical maps to ValueSet.url plus possibly ValueSet.version</p>
</blockquote>
<p>I believe that it was agreed in NOLA, that ValueSet.url should contain the 'single source of truth' for the ValueSet (current version unless a specific, and alternative, version is also passed in the request). It does not necessarily point to the instance of the Value Set on the server that 's the subject of the request (i.e. my server might contain some of the HL7 FHIR value sets, but the SSOT is an HL7/FHIR server).</p>



<a name="153939249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939249">(Feb 21 2018 at 01:03)</a>:</h4>
<p>in your case, Elliot, you would use canonical, since there's a valueset that exists with that url as it's ValueSet.url</p>



<a name="153939250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939250">(Feb 21 2018 at 01:04)</a>:</h4>
<p>But it doesn't resolve -- which you said is an error.</p>



<a name="153939253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939253">(Feb 21 2018 at 01:08)</a>:</h4>
<p>BTW: is ValueSet.url still going to be of data type uri ?</p>



<a name="153939254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939254">(Feb 21 2018 at 01:15)</a>:</h4>
<p>yes</p>



<a name="153939255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939255">(Feb 21 2018 at 01:16)</a>:</h4>
<p>I'm not sure what you mean 'doesn't resolve' - it resolves by a different path</p>



<a name="153939256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939256">(Feb 21 2018 at 01:19)</a>:</h4>
<p>So to use a canonical value, there must be an "official" resource defined, but it doesn't have to exist at the url listed in the canonical value?</p>



<a name="153939257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939257">(Feb 21 2018 at 01:23)</a>:</h4>
<p>yes</p>



<a name="153939466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939466">(Feb 21 2018 at 20:09)</a>:</h4>
<p>need to be explicit in the spec what 'resolve' means...</p>



<a name="153939507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939507">(Feb 21 2018 at 22:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191364">@Peter Jordan</span> Peter is correct about what I thought we decided on Valueset.url - this was the SOT "universal identifier" for the resource, and it may not "FHIR resolve = pass back the resource". Is this a change from that understanding? <span class="user-mention" data-user-id="191380">@Elliot Silver</span> example from DICOM does not "FHIR resolve" by my definition at all. The fact that some other url will FHIR resolve is immaterial to the the fact that the url in valueset.url provides useful information to the human reader. I must be very lost here...</p>



<a name="153939598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939598">(Feb 22 2018 at 06:14)</a>:</h4>
<p>I don't think we have changed anything. I'm not sure where the confusion comes from</p>



<a name="153939629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939629">(Feb 22 2018 at 09:49)</a>:</h4>
<blockquote>
<p>with regard to Michael's comments: After some thought, I could actually deal with the renaming personally; I'd just make an alias in the reference implementations and not worry about it otherwise.</p>
</blockquote>
<p>What the scale of the change - this is about changing names of elements to "uri" (instead or "url")?  Don't think we have many of those?</p>



<a name="153939630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939630">(Feb 22 2018 at 09:51)</a>:</h4>
<p>I'd change them to canonical not uri. I don't really like the change. But I could deal with it personally</p>



<a name="153939631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939631">(Feb 22 2018 at 09:56)</a>:</h4>
<p>Hi Robert, no, we don't change behaviour or this "universal identifier" - in fact Valueset.url and StructureDefinition.url etc are not touched by this change at all. So, you are not lost, nor do you have to change your understanding.</p>
<p>What we <em>have</em> done is made more explicit which elements in other resources are _referring_ to this Valueset.url and StructureDefinition.url.  Right now, in R3, you had to just know (and it was not always documented). We're now "flagging" each of the places where we refer to such a universal identifier (which we call canonical uri), so developers know they have to resolve it indirectly, not by going to a physical location (e.g. including the hostname etc.).</p>



<a name="153939724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939724">(Feb 22 2018 at 16:19)</a>:</h4>
<p>So the proposal would be to change "CodeSystem.url : type=uri" to "CodeSystem.canonical : type=uri"?</p>



<a name="153939726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939726">(Feb 22 2018 at 16:21)</a>:</h4>
<p>I could live with it too.  It adds precision at the cost of sylables and makes the spec a bit more high-brow.  Aesthetically, my leaning is to stick with url.  We should however make sure that the short description and full definition use the word "canonical".</p>



<a name="153939790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153939790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153939790">(Feb 22 2018 at 18:38)</a>:</h4>
<p>My leaning is also to stick with url and include "canonical" in the description/definition, but I wouldn't be opposed to changing to 'canonical'</p>



<a name="153940530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940530">(Feb 26 2018 at 05:38)</a>:</h4>
<p>did we say to change Coding.system to a canonical?</p>



<a name="153940531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940531">(Feb 26 2018 at 05:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> should the type of DataRequirement.profile change?</p>



<a name="153940532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940532">(Feb 26 2018 at 05:41)</a>:</h4>
<p>To canonical, I think yes.</p>



<a name="153940533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940533">(Feb 26 2018 at 05:41)</a>:</h4>
<p>k thx</p>



<a name="153940534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940534">(Feb 26 2018 at 05:41)</a>:</h4>
<p>I used uri because StructureDefinition did for baseDefinition</p>



<a name="153940535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940535">(Feb 26 2018 at 05:42)</a>:</h4>
<p>k.</p>



<a name="153940536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940536">(Feb 26 2018 at 05:42)</a>:</h4>
<p>It could maybe be a reference to a StructureDefinition though?</p>



<a name="153940537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940537">(Feb 26 2018 at 05:42)</a>:</h4>
<p>And valueSet[x] should have canonical added?</p>



<a name="153940538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940538">(Feb 26 2018 at 05:42)</a>:</h4>
<p>same question for Extension.url, Quantity.system, Identifier.system</p>



<a name="153940539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940539">(Feb 26 2018 at 05:42)</a>:</h4>
<p>Bryn- should RelatedArtifact.url change to url? or stay as uri?</p>



<a name="153940540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940540">(Feb 26 2018 at 05:43)</a>:</h4>
<p>Should be url, yes, it's intended to be a resolveable web address.</p>



<a name="153940541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940541">(Feb 26 2018 at 05:53)</a>:</h4>
<p>k thanks</p>



<a name="153940542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940542">(Feb 26 2018 at 06:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> I am changing EndPoint.address from uri to url</p>



<a name="153940543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940543">(Feb 26 2018 at 06:16)</a>:</h4>
<p>And that's ok for mailto:brian...</p>



<a name="153940544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940544">(Feb 26 2018 at 06:16)</a>:</h4>
<p>yes</p>



<a name="153940545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940545">(Feb 26 2018 at 06:16)</a>:</h4>
<p>Are direct addresses also ok with that? (as in the US Direct project)</p>



<a name="153940546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940546">(Feb 26 2018 at 06:17)</a>:</h4>
<p>yes</p>



<a name="153940547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940547">(Feb 26 2018 at 06:28)</a>:</h4>
<p>I am not changing extensions of type uri to either url or canonical, since that would change their representation</p>



<a name="153940553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940553">(Feb 26 2018 at 07:04)</a>:</h4>
<p>If Coding.system becomes a canonical, then we don't need the Coding.version extension any more.</p>



<a name="153940554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940554">(Feb 26 2018 at 07:05)</a>:</h4>
<p>Extension.url including a version gives me the heebie-jeebies...</p>



<a name="153940555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940555">(Feb 26 2018 at 07:06)</a>:</h4>
<p>Identifer.system doesn't have a resource to point at</p>



<a name="153940558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940558">(Feb 26 2018 at 08:28)</a>:</h4>
<p>ah yes, we don't want Coding.system to be a canonical uri</p>



<a name="153940608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940608">(Feb 26 2018 at 14:49)</a>:</h4>
<blockquote>
<p>did we say to change Coding.system to a canonical?</p>
</blockquote>
<p>We said no, but don't remember why.  Does this indeed have something to do with versioning as Lloyd just said?</p>



<a name="153940652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reference%20and%20uri%20when%20referencing%20resources/near/153940652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reference.20and.20uri.20when.20referencing.20resources.html#153940652">(Feb 26 2018 at 18:15)</a>:</h4>
<p>yes</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
