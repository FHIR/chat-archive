---
layout: page
title: "FHIR Chat  · Persistence Layer? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Persistence.20Layer.3F.html">Persistence Layer?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="222647596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Persistence%20Layer%3F/near/222647596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JA <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Persistence.20Layer.3F.html#222647596">(Jan 13 2021 at 21:23)</a>:</h4>
<p>My team is tasked with implementing <a href="https://build.fhir.org/ig/HL7/carin-bb/CapabilityStatement-c4bb.html">https://build.fhir.org/ig/HL7/carin-bb/CapabilityStatement-c4bb.html</a> for CMS interoperability ruling.<br>
The direction that we have taken is building a FHIR facade.<br>
We are assuming that we only need to support Read/Search operations outlined in this CapabilityStatement, and not so much Update/Delete operations.</p>
<p>Our organization <strong>does not have a persistence layer for our fhir data</strong>.  We expose our data internally via microservices.</p>
<p>Without a persistence layer, how would we support the "read" operation?<br>
Do facades really need a persistence layer?<br>
Should we attempt to migrate the data that we need into a single DB?</p>



<a name="222649130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Persistence%20Layer%3F/near/222649130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Persistence.20Layer.3F.html#222649130">(Jan 13 2021 at 21:35)</a>:</h4>
<p>You need stable ids associated to each FHIR resource you generate. This can be the internal ids of the 'microservices'</p>



<a name="222649805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Persistence%20Layer%3F/near/222649805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Persistence.20Layer.3F.html#222649805">(Jan 13 2021 at 21:41)</a>:</h4>
<p>Correct, you need to persist the additional FHIR specific data, at least as much is requested in the guide.</p>



<a name="222687114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Persistence%20Layer%3F/near/222687114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Persistence.20Layer.3F.html#222687114">(Jan 14 2021 at 07:44)</a>:</h4>
<p>We have to make a distinction between a requirement to support the read operation, and a requirement to support long-lived unique identifiers. If one supports the use of temporary ids only, then read as-such will work, but there won't be anything that one could read. From a formal perspective the system would support a read however.<br>
Microservices typically don't expose any things such as ids or primary keys. Given that this is a read-only facade, one could try and leverage business identifiers, and use a (hashed version of) these identifiers as your id. If the backend is well managed you wouldn't have any duplicates (records with the same business identifier). If patients have .identifier 123, and Patients are known (in Pdex) to have only 1 resource X, then the id of X can also be based on the patient.identifier. If not, one can used contained resources. One SHOULD attempt to support read in the spirit of how it was intended in FHIR, and use long-lived resource.ids. But if one can't, then one just has the strategy to assign temporary urn:uuids and therefore one renders the read operation (for those resources) quite useless.</p>



<a name="222723549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Persistence%20Layer%3F/near/222723549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Persistence.20Layer.3F.html#222723549">(Jan 14 2021 at 14:27)</a>:</h4>
<p>René is correct from a philosophical and core standards perspective, but as far as the CARIN  blue button implementation guide goes, Frank and Michele are correct: you need to support the searches and reads specified in the IG, and following links (via <code>read</code>) needs to work.</p>



<a name="222723693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Persistence%20Layer%3F/near/222723693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Persistence.20Layer.3F.html#222723693">(Jan 14 2021 at 14:27)</a>:</h4>
<p>(I'm not adding anything new to the conversation, but just explaining why you're hearing a couple of different perspectives and how they in fact do not contradict despite surface appearances.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
