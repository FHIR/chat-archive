---
layout: page
title: "FHIR Chat  · Returning Provenance with resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html">Returning Provenance with resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="231489581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231489581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calum Turner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231489581">(Mar 23 2021 at 15:27)</a>:</h4>
<p>Hello all, I am looking to understand how Provenance resources should be returned with the target resource. I would like to return related provenance when an instance history request is made (ie for immunizations), is that possible?  </p>
<p>I understand with Search you can use _revinclude does that exists for history? <br>
Thanks!</p>



<a name="231490532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231490532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231490532">(Mar 23 2021 at 15:32)</a>:</h4>
<p>We haven't defined support for _revinclude for the history operation.  You could submit a change request suggesting that we add it - for this specific use-case.</p>



<a name="231492183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231492183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calum Turner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231492183">(Mar 23 2021 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  so is the expected behaviour for a rest API that an application calls the history for an instance, then makes another call to search for related Provenances?</p>



<a name="231498059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231498059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231498059">(Mar 23 2021 at 16:14)</a>:</h4>
<p>At the moment, yes.</p>



<a name="231498440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231498440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Calum Turner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231498440">(Mar 23 2021 at 16:17)</a>:</h4>
<p>Thanks!</p>



<a name="231508570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231508570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Wright <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231508570">(Mar 23 2021 at 17:17)</a>:</h4>
<p>On a related note, we have observed that if your provenance target reference includes the instance version, most servers will not include the provenance  when searching the base resource and using _revinclude=Provenance:target.  In our specific use case we search by identifier and are only interested in the provenance for the current version of the base resource.  Our workaround is to have the provenance point to the base resource (without version info), use _revinclude=Provenance:target in our search, and then apply additional client logic to determine the provenance(s) relevant to the latest version of the resource.</p>



<a name="231512182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231512182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231512182">(Mar 23 2021 at 17:41)</a>:</h4>
<p>Brian, my understanding is that _revinclude will return all Provenance that point at the resource, regardless of if the <a href="http://Provenance.target">Provenance.target</a> was version specific or not. Is that what you are describing?</p>



<a name="231555946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231555946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Wright <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231555946">(Mar 23 2021 at 22:48)</a>:</h4>
<p>Although the US Core Provenance Target comments state that "Target references are usually version specific", and US Core states that retrieval of resources and associated provenance SHALL be supported using _revinclude=Provenance:target, in our testing, support for returning version specific provenance with _revinclude is not widely supported by servers.</p>



<a name="231644604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/231644604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#231644604">(Mar 24 2021 at 14:36)</a>:</h4>
<p>Oh that's interesting, I don't think we ever considered that in our implementation. That might be fixable.</p>



<a name="232023984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/232023984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Doug Pratt <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#232023984">(Mar 26 2021 at 20:02)</a>:</h4>
<p>Should Bundle.entry.search.mode for included Provenance resources due to "_revinclude" have the value "match"? The spec is not clear if "_revinclude" should be treated same as "_include" or not. Since the user is not really "searching" for Provenance in this case, is "match" is the appropriate choice?</p>



<a name="232024338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/232024338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#232024338">(Mar 26 2021 at 20:05)</a>:</h4>
<p>No, it should be 'include'</p>



<a name="232025194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/232025194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Doug Pratt <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#232025194">(Mar 26 2021 at 20:11)</a>:</h4>
<p>Thanks Michele. We weren't sure how to interpret .mode for revinclude.</p>



<a name="232028933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Returning%20Provenance%20with%20resource/near/232028933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Returning.20Provenance.20with.20resource.html#232028933">(Mar 26 2021 at 20:42)</a>:</h4>
<p>If you think clarification is needed in the spec, feel free to submit a change request</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
