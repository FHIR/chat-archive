---
layout: page
title: "FHIR Chat  · slice ordering · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html">slice ordering</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272180065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272180065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272180065">(Feb 16 2022 at 21:20)</a>:</h4>
<p>Can we enforce a specific order of slices? Something like: medications in a list shall be ordered by date of start ascending.</p>



<a name="272180120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272180120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272180120">(Feb 16 2022 at 21:21)</a>:</h4>
<p>or medication ingredients shall be sorted by role</p>



<a name="272180172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272180172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272180172">(Feb 16 2022 at 21:21)</a>:</h4>
<p>is that actually slicing? Or just an invariant?</p>



<a name="272180198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272180198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shamil Nizamov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272180198">(Feb 16 2022 at 21:21)</a>:</h4>
<p>If a final resource instance is represented in JSON then ordering is not guaranteed at all.</p>



<a name="272180326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272180326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272180326">(Feb 16 2022 at 21:23)</a>:</h4>
<p>If ordering by date is important to the client, why don't they sort the medications by date? If role is important, then shouldn't there be a type or category of ingredient you can group by?</p>



<a name="272183199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272183199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272183199">(Feb 16 2022 at 21:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192195">Shamil Nizamov</span> <a href="#narrow/stream/179166-implementers/topic/slice.20ordering/near/272180198">said</a>:</p>
<blockquote>
<p>If a final resource instance is represented in JSON then ordering is not guaranteed at all.</p>
</blockquote>
<p>Ordering of keys is not guaranteed, but I think <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> is talking about ordering of items in arrays, which is definitely supported in JSON.</p>



<a name="272183380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272183380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272183380">(Feb 16 2022 at 21:44)</a>:</h4>
<p>right, ordering of items in an array.</p>



<a name="272183639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272183639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272183639">(Feb 16 2022 at 21:47)</a>:</h4>
<p>Challenge at hand: I have data coming in and I need to ensure a given order of the repeatable elements.  While the functional analysts are seeing what order is that, once they do, I want to see if there is any mechanism in FHIR.</p>



<a name="272183702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272183702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272183702">(Feb 16 2022 at 21:47)</a>:</h4>
<p>These are repeatable elements and I don't have so far the need for slicing, unless slicing is the way to enforce a given sequence (which I don't see how it would be)</p>



<a name="272183819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272183819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272183819">(Feb 16 2022 at 21:48)</a>:</h4>
<p>taking medication.ingredient. I want to sort by role</p>



<a name="272188255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272188255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272188255">(Feb 16 2022 at 22:27)</a>:</h4>
<p>this is pretty difficult on two parts. The first is expressing an order predicate in FHIRPath. I suspect it's possible by playing around with the aggregate() function, but it's not immediately obvious. if it turns out that it's not possible, we could propose a more direct way (on <a class="stream" data-stream-id="179266" href="/#narrow/stream/179266-fhirpath">#fhirpath</a>)</p>
<p>The second and probably less tractable issue is the actual correct order for 'role' - typically the alphabetical order of codes is irrelevant and there's some deeper meaning.</p>



<a name="272190383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272190383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272190383">(Feb 16 2022 at 22:47)</a>:</h4>
<p>Note that enforcing order on elements where order doesn't have meaning is a very bad idea and will generally interfere with interoperability.  (And if order does have a defined meaning, then the sort is already defined, and you don't have to do it.)</p>



<a name="272190439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272190439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272190439">(Feb 16 2022 at 22:47)</a>:</h4>
<p>Only the core resource definition can define meaning to order - it can't be introduced by IGs or profiles.</p>



<a name="272193707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272193707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272193707">(Feb 16 2022 at 23:21)</a>:</h4>
<p>I know that ordering of arrays is supposed to be maintained but if you don't trust that is going to happen. you could add an ordering extension.  (as we did in our Questionnaire IG).</p>



<a name="272196469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272196469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272196469">(Feb 16 2022 at 23:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> I don't know why what would make any difference</p>



<a name="272197744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272197744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272197744">(Feb 17 2022 at 00:10)</a>:</h4>
<p>if the resource get decomposed and the recomposed between system that are FHIR facades it adds a redundant layer of cross checking.   At the time it seemed important to the folks on the call.</p>



<a name="272197799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272197799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272197799">(Feb 17 2022 at 00:10)</a>:</h4>
<p>well, ok. redundant is redundant...</p>



<a name="272204731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272204731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272204731">(Feb 17 2022 at 01:51)</a>:</h4>
<p>If you don't trust the system to maintain the order, why do you trust it to keep the extension?</p>



<a name="272268732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272268732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272268732">(Feb 17 2022 at 14:43)</a>:</h4>
<p>In general, you can never ever trust that the order of anything will be maintained forever exactly as you saw it/stored it unless somebody applies that ordering. If you aren't absolutely sure that the provider of the data ordered the list for you, then you'll have to do so. There are so many layers happening where somebody might not have cared about maintaining sequence it's just better for the processor to do a quick sort based on whatever attribute the processor wants to process them in. There are some lists in FHIR that have a sequence number because in those cases sequence is important and nobody can trust that physical sequence will be maintained forever and ever by everybody that touches it.</p>



<a name="272275801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272275801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272275801">(Feb 17 2022 at 15:28)</a>:</h4>
<p>If a FHIR system is conformant, it's required to retain the order of array elements - end stop.  If it doesn't, it will - at minimum - break any embedded signatures.  At worst, it's going to mis-order elements where order is significant.</p>
<p>Obviously systems can do non-conformant things, but that doesn't mean that adding extra layers is going to make things better.</p>



<a name="272277893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272277893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272277893">(Feb 17 2022 at 15:42)</a>:</h4>
<p>That's a fine requirement on a FHIR server. Does every JSON/XML serializer/deserializer have the same requirement? Does every other tool that might be used in the eco-system?</p>



<a name="272279280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272279280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272279280">(Feb 17 2022 at 15:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/slice.20ordering/near/272275801">said</a>:</p>
<blockquote>
<p>If a FHIR system is conformant, it's required to retain the order of array elements - end stop.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> -- I don't think that's true for every array element (or even most).  The spec actually says ordering does not need to be retained if the meaning of the order has not been defined (<a href="http://hl7.org/fhir/R4/conformance-rules.html#cardinality">here</a>):</p>
<blockquote>
<p>For elements that have cardinality &gt; 1, the order in which they appear may have meaning. Unless the element definition (either in this specification or the extension) defines a meaning to the order explicitly (using ElementDefinition.orderMeaning), the meaning of the order is not defined, and implementations are allowed to reorder the elements. Note that it is not possible to define a meaning for the order of the elements in a profile using a StructureDefinition.</p>
</blockquote>



<a name="272280099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272280099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272280099">(Feb 17 2022 at 15:56)</a>:</h4>
<p>Expecting an implementation to maintain the order of every array makes a lot of assumptions about how that implementation stores data.  For example, the <code>Encounter.reasonReference</code> array could be represented on a source system via a join table, a relationship to problems/procedures/etc on encounter, or a relationship to encounters on problems/procedures/etc.  Not every system is going to maintain an order on those relationships -- especially if there is no business (or clinical) reason to do so.</p>



<a name="272282081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272282081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272282081">(Feb 17 2022 at 16:09)</a>:</h4>
<p>If we allow implementations to re-order elements, then we can kiss any hope for digital signatures good-bye...  Wow, that wording has been there since STU2.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - how do we rationalize this statement and the need for signatures?</p>



<a name="272283671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272283671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272283671">(Feb 17 2022 at 16:20)</a>:</h4>
<p>Would a digital signature be considered part of the resource (and stored) or would a digital signature be added JIT as the resource is being serialized for transmission, validated at the consumer and then dropped.</p>



<a name="272287742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272287742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272287742">(Feb 17 2022 at 16:50)</a>:</h4>
<p>Where a signature is part of the resource (like Bundle) it should be stored within the resource.</p>



<a name="272289005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272289005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272289005">(Feb 17 2022 at 16:59)</a>:</h4>
<p>If you are storing the serialized copy of the resource, then you can store the signature as well. But if you are decomposing the resources and attempting to "recreate" the bundle then it's unlikely that you'll ever be able to get the bytes lined up exactly correct in order to match a signature.</p>



<a name="272294028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272294028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272294028">(Feb 17 2022 at 17:29)</a>:</h4>
<p>very dependent on the kind of digital signature. Fundamentally there are digital signatures that are (a) encapsulating, (b) encapsulated, and (c) external.</p>



<a name="272316237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272316237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272316237">(Feb 17 2022 at 20:10)</a>:</h4>
<p>well, obviously, a system that doesn't preserve order can't make a digital signature survive whatever it does that loses the digital signature. That's not new or surprising, but a system that's taking a resource apart and putting it in a database, and then it's not going to be concerned with that.</p>



<a name="272316538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272316538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272316538">(Feb 17 2022 at 20:12)</a>:</h4>
<p>Which essentially means that digital signatures can generally only survive passing through systems designed to handle them.  A digital signature that passes through an arbitrary set if intermediaries is likely to get trashed.</p>



<a name="272316690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272316690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272316690">(Feb 17 2022 at 20:14)</a>:</h4>
<p>I didn't realize we'd agreed to this as reality.  (It certainly makes FHIR conformance easier for systems that don't care about signatures, but it makes the use of signatures really tenuous.  And it sort of argues for a canonicalization algorithm that automatically sorts data where sort order is meaningless.</p>



<a name="272316727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272316727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272316727">(Feb 17 2022 at 20:14)</a>:</h4>
<p>Should we have a change request to a) call attention to this issue; and/or b) define such a canonicalization mechanism?</p>



<a name="272325113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272325113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272325113">(Feb 17 2022 at 21:29)</a>:</h4>
<blockquote>
<p>A digital signature that passes through an arbitrary set if intermediaries is likely to get trashed</p>
</blockquote>
<p>yup. That's a statement of truth. Which is why we pretty much don't see digital signatures used with RESTful APIs anywhere.</p>



<a name="272325153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272325153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272325153">(Feb 17 2022 at 21:29)</a>:</h4>
<p>not just with FHIR</p>



<a name="272325185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272325185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272325185">(Feb 17 2022 at 21:29)</a>:</h4>
<p>I thought it was pretty clear, actually</p>



<a name="272330194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272330194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272330194">(Feb 17 2022 at 21:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/slice.20ordering/near/272190383">said</a>:</p>
<blockquote>
<p>Note that enforcing order on elements where order doesn't have meaning is a very bad idea and will generally interfere with interoperability.  (And if order does have a defined meaning, then the sort is already defined, and you don't have to do it.)</p>
</blockquote>
<p>I will need to pass my entries through an algorithm and I want to do it in a specific sequence. Is there a way to see in FHIR whether that sequence is in place?</p>



<a name="272330299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272330299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272330299">(Feb 17 2022 at 22:00)</a>:</h4>
<p>For example, if order is alphabetical, i'd like to see that entry[1] is alphabetically after entry[0] and so on</p>



<a name="272339992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272339992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272339992">(Feb 17 2022 at 23:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - where do you think it's clearly stated now?</p>



<a name="272341552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272341552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272341552">(Feb 17 2022 at 23:56)</a>:</h4>
<p><a href="http://build.fhir.org/updates.html">http://build.fhir.org/updates.html</a> and and both format pages have an implementation note in the canonical section about the use of signatures outside document bundles, but that could be clearer. And the page about updates could talk about signatures</p>



<a name="272342877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272342877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272342877">(Feb 18 2022 at 00:11)</a>:</h4>
<p>I would think the signature page itself should indicate that there's no guarantee the signatures will be valid across persistence.  And also define canonicalization algorithms that force a sort order (to allow signatures).</p>



<a name="272348108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272348108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272348108">(Feb 18 2022 at 01:22)</a>:</h4>
<p>we have a signature page?</p>



<a name="272351381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272351381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272351381">(Feb 18 2022 at 02:10)</a>:</h4>
<p>We have a signature data type with a whole bunch of information about signatures.</p>



<a name="272353076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272353076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272353076">(Feb 18 2022 at 02:37)</a>:</h4>
<p>it has the same comment</p>



<a name="272410563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272410563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272410563">(Feb 18 2022 at 14:51)</a>:</h4>
<p>I don't see any comment that talks about the fact that persisting order isn't reliable and that therefore, regardless of reidentification, signatures can't be counted on.</p>



<a name="272455727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272455727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272455727">(Feb 18 2022 at 20:52)</a>:</h4>
<p>there are canonical for signatures.. but for multi value elements I don't think we have  a rule.</p>



<a name="272455898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272455898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272455898">(Feb 18 2022 at 20:54)</a>:</h4>
<p>There is a bunch of signature pages</p>
<ul>
<li>General discussion of Digital Signatures -- <a href="https://hl7.org/fhir/signatures.html">https://hl7.org/fhir/signatures.html</a></li>
<li>Signature Datatype -- <a href="https://hl7.org/fhir/datatypes.html#signature">https://hl7.org/fhir/datatypes.html#signature</a><ul>
<li>XML vs JSON signatures</li>
</ul>
</li>
<li>FAQ on signatures -- <a href="https://hl7.org/fhir/secpriv-module.html#signature">https://hl7.org/fhir/secpriv-module.html#signature</a></li>
</ul>



<a name="272456020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272456020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272456020">(Feb 18 2022 at 20:55)</a>:</h4>
<p>The Signature datatype does address the fact that the signature will be specific to a FHIR mime-type; thus the signer and the validator do need to agree to one of the FHIR mime-types... (Or both).</p>



<a name="272456190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272456190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272456190">(Feb 18 2022 at 20:56)</a>:</h4>
<p>but restating ... I don't think we have a solution for multi value elements... hmm</p>



<a name="272457106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/slice%20ordering/near/272457106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/slice.20ordering.html#272457106">(Feb 18 2022 at 21:03)</a>:</h4>
<p>All of these are reasons why I have cautioned EVERYONE against thinking signatures are easy. Signatures are only practical across a Binary. That Binary may have a Provenance linkage to a FHIR Document Bundle, or to the accessible Resources within; where that Provenance declares that it is proof that the Binary was received and that the signature on the Binary was checked. This can be done for anything, but my first point is that signatures of Binary are really the only practical use-case.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
