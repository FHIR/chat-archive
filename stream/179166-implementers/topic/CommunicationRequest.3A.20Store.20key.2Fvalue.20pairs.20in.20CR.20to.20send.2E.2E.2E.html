---
layout: page
title: "FHIR Chat  · CommunicationRequest: Store key/value pairs in CR to send... · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html">CommunicationRequest: Store key/value pairs in CR to send...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="187298757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187298757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Galban <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187298757">(Feb 03 2020 at 20:11)</a>:</h4>
<p>Hi,<br>
We are using the CommunicationRequest resource to request to send emails and we need to store key/value pairs for email template replacements.<br>
What is recommended in this case? Maybe an extension in "CommunicationRequest.payload"?</p>



<a name="187557795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187557795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Galban <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187557795">(Feb 06 2020 at 15:29)</a>:</h4>
<p>We have created dynamic templates in Sendgrid and we need to provide replacements.<br>
For example, we have the following dynamic template (html):</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello {{firstName}}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>


<p>and the data provided should contain:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="s2">&quot;Ben&quot;</span><span class="p">}</span>
</pre></div>


<p>For now, we have used Communication(Request) to send fax, sms, emails (without dynamic templates).</p>
<p>Is anyone using this resource to do the same?<br>
Are we making any mistakes with this solution?</p>



<a name="187652091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187652091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Galban <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187652091">(Feb 07 2020 at 16:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="187681396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187681396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187681396">(Feb 07 2020 at 21:21)</a>:</h4>
<p>extra key/value pairs is exactly what an extension is</p>



<a name="187925411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187925411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Galban <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187925411">(Feb 11 2020 at 16:06)</a>:</h4>
<p>OK. Our team proposes to create an extension (template) at the root of the resource. Our model is as follows:<br>
<a href="/user_uploads/10155/YBbeXIkJi9AsO8fZFNM3WaoT/pasted_image.png" target="_blank" title="pasted_image.png">model</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/YBbeXIkJi9AsO8fZFNM3WaoT/pasted_image.png" target="_blank" title="model"><img src="/user_uploads/10155/YBbeXIkJi9AsO8fZFNM3WaoT/pasted_image.png"></a></div><p>Could you give us a feedback about this? It will be good for us.<br>
Do you think we are going to have something similar in R5?<br>
Thank you very much <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> .</p>



<a name="187948060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187948060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187948060">(Feb 11 2020 at 19:56)</a>:</h4>
<p>This isn't how extensions work (because of json schema, more than anything else). You actually need to use extensions in the resource, though they can follow that logical structure</p>



<a name="187954653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187954653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Galban <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187954653">(Feb 11 2020 at 21:02)</a>:</h4>
<p>Yes, I understand what you mean. But we are using Aidbox and we can easily define first class extensions <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> .<br>
We would like to know  about the logical structure, field names, cardinalities and, if you think this is something to consider in R5 <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="187959183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187959183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187959183">(Feb 11 2020 at 21:44)</a>:</h4>
<p>I can't say anything about R5 in this regard. you could make a proposal and see what the committee says.</p>



<a name="187959225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CommunicationRequest%3A%20Store%20key/value%20pairs%20in%20CR%20to%20send.../near/187959225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CommunicationRequest.3A.20Store.20key.2Fvalue.20pairs.20in.20CR.20to.20send.2E.2E.2E.html#187959225">(Feb 11 2020 at 21:44)</a>:</h4>
<p>but you'd certainly need to explain in depth why this is something you added in the communication itself. A template sounds like a separate configuration item to me</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
