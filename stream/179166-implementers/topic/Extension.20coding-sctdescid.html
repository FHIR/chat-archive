---
layout: page
title: "FHIR Chat  · Extension coding-sctdescid · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extension.20coding-sctdescid.html">Extension coding-sctdescid</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="276639201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extension%20coding-sctdescid/near/276639201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Declan Kieran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extension.20coding-sctdescid.html#276639201">(Mar 25 2022 at 15:53)</a>:</h4>
<p>The definition of this includes an extension with a cardinality of 0..0.  Is that correct?  Does this mean that using an extension here is explicitly ruled out.  For example, it could be useful here to have an extension that included the display, such as</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hl7.org/fhir/StructureDefinition/coding-sctdescid"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"valueId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"152307010"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fhir.nhs.uk/StructureDefinition/Extension-CodingSCTDescDisplay"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allergy to penicillin (finding)"</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://snomed.info/sct"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91936005"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">"display"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allergy to penicillin"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="276764486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extension%20coding-sctdescid/near/276764486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extension.20coding-sctdescid.html#276764486">(Mar 27 2022 at 04:31)</a>:</h4>
<p>Where are you seeing the 0..0?</p>



<a name="276796310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extension%20coding-sctdescid/near/276796310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Declan Kieran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extension.20coding-sctdescid.html#276796310">(Mar 27 2022 at 16:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  </p>
<p><a href="http://hl7.org/fhir/R4/extension-coding-sctdescid.html">http://hl7.org/fhir/R4/extension-coding-sctdescid.html</a></p>
<p>For the path Extension.extension, it has a min and max of 0 in the definition.  It's also shown on the full structure tab.</p>



<a name="276808702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extension%20coding-sctdescid/near/276808702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extension.20coding-sctdescid.html#276808702">(Mar 27 2022 at 21:25)</a>:</h4>
<p>Right.  The extension isn't allowed to have an extension - because it has a value.  However, if you wanted, you could have extensions inside the value.</p>



<a name="276813159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extension%20coding-sctdescid/near/276813159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Declan Kieran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extension.20coding-sctdescid.html#276813159">(Mar 27 2022 at 23:15)</a>:</h4>
<p>Ah that makes sense, could also just as easily move the other extension out as another entry in the array, thanks!</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="w">  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"coding"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hl7.org/fhir/StructureDefinition/coding-sctdescid"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"valueId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"152307010"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fhir.nhs.uk/StructureDefinition/Extension-CodingSCTDescDisplay"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allergy to penicillin (finding)"</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://snomed.info/sct"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91936005"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"display"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allergy to penicillin"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Penicillin allergy"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="276854853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extension%20coding-sctdescid/near/276854853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Declan Kieran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extension.20coding-sctdescid.html#276854853">(Mar 28 2022 at 10:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> The root extension also has a cardinality of 0..1, so is the first snippet below also invalid?  Just wondering what the rationale was for limiting the cardinality of the extension (assuming this is correct), as putting a codableConcept in as the value here adds a couple of layers of extra structure here that doesn't seem to add anything useful (example in second snippet)</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="w">  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"coding"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hl7.org/fhir/StructureDefinition/coding-sctdescid"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"valueId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"152307010"</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fhir.nhs.uk/StructureDefinition/Extension-CodingSCTDescDisplay"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allergy to penicillin (finding)"</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://snomed.info/sct"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91936005"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"display"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allergy to penicillin"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Penicillin allergy"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="w">  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"coding"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hl7.org/fhir/StructureDefinition/coding-sctdescid"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"valueCodeableConcept"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="nt">"coding"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                  </span><span class="nt">"extension"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                    </span><span class="p">{</span><span class="w"></span>
<span class="w">                      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"descriptionId"</span><span class="p">,</span><span class="w"></span>
<span class="w">                      </span><span class="nt">"valueIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                        </span><span class="nt">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://snomed.info/sct"</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"152307010"</span><span class="w"></span>
<span class="w">                      </span><span class="p">}</span><span class="w"></span>
<span class="w">                    </span><span class="p">},</span><span class="w"></span>
<span class="w">                    </span><span class="p">{</span><span class="w"></span>
<span class="w">                      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"descriptionDisplay"</span><span class="p">,</span><span class="w"></span>
<span class="w">                      </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allergy to penicillin (finding)"</span><span class="w"></span>
<span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="w">                  </span><span class="p">]</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">              </span><span class="p">]</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://snomed.info/sct"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91936005"</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">"display"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allergy to penicillin"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Penicillin allergy"</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="276888524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extension%20coding-sctdescid/near/276888524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extension.20coding-sctdescid.html#276888524">(Mar 28 2022 at 15:15)</a>:</h4>
<p>Those look fine.  What's not allowed is something like this:</p>
<div class="codehilite"><pre><span></span><code>      &quot;extension&quot;: [
          {
             &quot;extension&quot;: [
                {
                  &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/foo&quot;,
                  &quot;valueString&quot;: &quot;whatever&quot;
                },
             ],
            &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/coding-sctdescid&quot;,
            &quot;valueId&quot;: &quot;152307010&quot;
          },
      ]
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
