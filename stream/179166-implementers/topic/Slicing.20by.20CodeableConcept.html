---
layout: page
title: "FHIR Chat  · Slicing by CodeableConcept · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html">Slicing by CodeableConcept</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153837215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837215">(Jul 11 2016 at 04:44)</a>:</h4>
<p>I want to slice Practitioner.identifier by Identifier.type - which is a CodeableConcept.  There's an extensible binding on it that requires codes from a specific code system, but translations are possible.  To make this work, I'd need to define a discriminator of "type" and then rather than specifying a fixed value for the type, I'd instead specify a "pattern" asserting that at least one of the codings needed to include a system and code with a specific value (but that I don't care what other codings are present, what order they're in, or whether "display", various extensions or other elements are present.</p>



<a name="153837216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837216">(Jul 11 2016 at 04:46)</a>:</h4>
<p>This is technically legal under the slicing methodology, but is presently discouraged and isn't supported in the tooling - in part because doing this on an unconstrained basis is hairy indeed to implement.  On the other hand, there are certain use-cases (like the one above) where it's clearly needed and relatively straight-forward to implement.  In discussing this with Grahame off-line, I proposed that we start incrementally adding specific types of patterns into tooling support, rather than trying to craft an overarching generic solution.  The question is: Do others have similar needs for slicing by CodeableConcept (e.g. Observation.code) and are there other patterns we should look to cover at the same time?</p>



<a name="153837277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837277">(Jul 11 2016 at 07:41)</a>:</h4>
<p>I'm yet to ponder the mechanics yet, <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> but CQL is built on the assumption that the CQL engine queries resources by [type], [code], [date range] and [patient]. (given I'm currently convince that CQL is the answer for most things then I'd say this is pretty core functionality) - I'd be curious to here how far <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> has gotten with this</p>



<a name="153837330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837330">(Jul 11 2016 at 15:36)</a>:</h4>
<p>Yes Lloyd, we had a similar requirement and I actualy think it's pretty common for slicing scenarios.</p>



<a name="153837331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837331">(Jul 11 2016 at 15:37)</a>:</h4>
<p>Absolutely. We're allowing pattern for slicing because of this scenario...there's no other reasonable way to handle this in an environment with alternate codings.</p>



<a name="153837332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837332">(Jul 11 2016 at 15:39)</a>:</h4>
<p>Only for CodeableConcept though...what other use of pattern makes sense?  Identifier we just fix system if needed (or pattern type as you mention).  Quantity same thing...  CodeableConcept is the only one with the "one of the children must match" logic, correct?</p>



<a name="153837739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837739">(Jul 12 2016 at 22:17)</a>:</h4>
<p>This the same situation i encountered when trying to profile Observation.code to allow for local code translation(s).  Why doesn't the solution of binding to a valueset work?   with ElementDefinition.slicing.rules =  open.  you can add whatever translations you want.  I don't see why you need pattern.  </p>



<a name="153837752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837752">(Jul 12 2016 at 22:30)</a>:</h4>
<p>a value set of one for each slice? </p>



<a name="153837765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20by%20CodeableConcept/near/153837765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20by.20CodeableConcept.html#153837765">(Jul 12 2016 at 23:54)</a>:</h4>
<p>Well it cover both code and system.  Also I think the pattern here is " I want at least this one Identifer.type defined and leave the translations up to the implementer.   the rest are just the the rest.    easier to think about obs.code where you have a LOINC wihich you require and maybe a local code</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
