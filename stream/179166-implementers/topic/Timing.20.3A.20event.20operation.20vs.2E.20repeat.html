---
layout: page
title: "FHIR Chat  · Timing : event operation vs. repeat · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html">Timing : event operation vs. repeat</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="257357026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257357026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olivier Boux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257357026">(Oct 13 2021 at 12:33)</a>:</h4>
<p>Timing : event operation vs. repeat</p>
<p>I'm not clear on how event vs repeat works.<br>
Exemple of timing:<br>
    "timing": {<br>
        "event": [<br>
            "2021-10-13T10:30:00Z"<br>
        ],<br>
        "repeat": {<br>
            "boundsPeriod": {<br>
                "start": "2021-10-13",<br>
                "end": "2021-10-20"<br>
            },<br>
            "frequency": 1,<br>
            "period": 1,<br>
            "periodUnit": "d",<br>
            "timeOfDay": [<br>
                "07:00:00",<br>
                "18:00:00"<br>
            ]<br>
        }<br>
    }</p>
<p>Does it means :</p>
<ul>
<li>
<p>the 2021-10-13T10:30:00Z dose is added to every day doses at 07:00 and 18:00<br>
  i.e. operation: event + repeat<br>
or</p>
</li>
<li>
<p>no dose is scheduled as there is no match between 2021-10-13T10:30:00Z and the times of day 07:00 or 18:00<br>
  i.e. operatioin event * repeat</p>
</li>
</ul>



<a name="257426739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257426739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257426739">(Oct 13 2021 at 19:52)</a>:</h4>
<p>I think it's invalid - if you say 'once a day', you can't specify two times of the data</p>



<a name="257683847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257683847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olivier Boux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257683847">(Oct 15 2021 at 11:38)</a>:</h4>
<p>Sorry, forget "frequency": 1<br>
as I want "repeat" to express "every day at 7h and 18h form 10/13/21 to 10/20/21".<br>
How do I understand its combination with "event": ["2021-10-13T10:30:00Z"] ?</p>



<a name="257685195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257685195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olivier Boux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257685195">(Oct 15 2021 at 11:52)</a>:</h4>
<p>(I delete the frequency element because the timeOfDay element is more accurate)</p>



<a name="257706096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257706096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257706096">(Oct 15 2021 at 14:25)</a>:</h4>
<p>I don't think you need 'event'.  You just need repeat.boundsRange, repeat.time</p>



<a name="257770969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257770969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olivier Boux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257770969">(Oct 15 2021 at 21:55)</a>:</h4>
<p>Yes, I think so.<br>
But my question is, what does it mean when I get this mix of event and repeat?</p>
<ul>
<li>Is it allowed or not?</li>
<li>If it is allowed, do I have to do the intersection of event and repeat (which gives the empty set) or do I have to do the union of event and repeat (which gives 17 time-stamped unit events)</li>
</ul>



<a name="257773836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257773836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257773836">(Oct 15 2021 at 22:19)</a>:</h4>
<p>My understanding is that if both are present, the events indicate the 'instantiation' of the repeat pattern.  If the two don't jive, then I think you've got an error.</p>



<a name="257774097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257774097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257774097">(Oct 15 2021 at 22:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="257777352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257777352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257777352">(Oct 15 2021 at 22:53)</a>:</h4>
<blockquote>
<p>When both event and a repeating specification are provided, the list of events should be understood as an interpretation of the information in the repeat structure</p>
</blockquote>



<a name="257778232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257778232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257778232">(Oct 15 2021 at 23:01)</a>:</h4>
<p>Right - but if the repeat structure says "do this twice a day for 10 days" and event lists 3 times on one day and nothing else, that's an error - correct?</p>



<a name="257778998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257778998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257778998">(Oct 15 2021 at 23:08)</a>:</h4>
<p>yes</p>



<a name="257832112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257832112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olivier Boux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257832112">(Oct 16 2021 at 13:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat/near/257777352">said</a>:</p>
<blockquote>
<blockquote>
<p>When both event and a repeating specification are provided, the list of events should be understood as an interpretation of the information in the repeat structure</p>
</blockquote>
</blockquote>
<p>1st lesson in computer science: learning to read. Sorry.</p>
<p>If, in practice, event and repeat are exclusive, wouldn't it be better to have an 11th rule (I suppose : event.empty() or repeat.emty()), like tim-10 (timeOfDay.empty() or when.empty())</p>



<a name="257841395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257841395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257841395">(Oct 16 2021 at 15:58)</a>:</h4>
<p>They're not exclusive - and there's value in having both.  Some systems start with the 'repeat' timing and then generate an 'event' timing to be used by downstream systems that aren't bright enough to figure out the event timing and/or to realize the repeat expectations in a manner that aligns with organizational practices/optimizes workflows.</p>



<a name="257978930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20%3A%20event%20operation%20vs.%20repeat/near/257978930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Olivier Boux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20.3A.20event.20operation.20vs.2E.20repeat.html#257978930">(Oct 18 2021 at 05:29)</a>:</h4>
<p>Ok, I didn't imagine this use case.<br>
Thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
