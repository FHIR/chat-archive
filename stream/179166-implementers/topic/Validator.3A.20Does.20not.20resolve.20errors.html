---
layout: page
title: "FHIR Chat  · Validator: Does not resolve errors · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html">Validator: Does not resolve errors</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205528371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205528371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scalfani <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205528371">(Jul 30 2020 at 20:27)</a>:</h4>
<p>Hello. I am trying to validate Capability Statements using the HL7 FHIR Validator version 5.0.17. When using the validator with the US Core Server Capability statement, (<a href="https://www.hl7.org/fhir/us/core/CapabilityStatement-us-core-server.json">https://www.hl7.org/fhir/us/core/CapabilityStatement-us-core-server.json</a>) I’m getting many errors involving <code>URL value “http://hl7.org/fhir/us/core/...” does not resolve.</code></p>
<p>Command used:</p>
<div class="codehilite"><pre><span></span><code>java -jar org.hl7.fhir.validator.jar -version <span class="m">4</span>.0.1 CapabilityStatement-us-core-server.json<span class="sb">`</span>
</code></pre></div>


<p>Output:</p>
<div class="codehilite"><pre><span></span><code>FHIR Validation tool Version <span class="m">5</span>.0.17 <span class="o">(</span>Git# a375f58c8288<span class="o">)</span>. Built <span class="m">2020</span>-07-30T04:40:26.642Z <span class="o">(</span><span class="m">15</span> hours old<span class="o">)</span>
Detected Java version: <span class="m">11</span>.0.8 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 <span class="o">(</span>64bit<span class="o">)</span>. 8192MB available
Arguments: -version <span class="m">4</span>.0.1 CapabilityStatement-us-core-server.json
Directories: <span class="nv">Current</span> <span class="o">=</span> /Users/rscalfani/Documents/OneDrive MITRE/validator, Package <span class="nv">Cache</span> <span class="o">=</span> /Users/rscalfani/.fhir/packages
 .. FHIR Version <span class="m">4</span>.0, definitions from hl7.fhir.r4.core#4.0.1
 .. connect to tx server @ http://tx.fhir.org
  <span class="o">(</span>v4.0.1<span class="o">)</span>
 .. validate <span class="o">[</span>CapabilityStatement-us-core-server.json<span class="o">]</span>
Terminology server: Check <span class="k">for</span> supported code systems <span class="k">for</span> urn:iso:std:iso:3166
*FAILURE* validating CapabilityStatement-us-core-server.json: error:100 warn:0 info:45
 Error @ CapabilityStatement.url <span class="o">(</span>line <span class="m">8</span>, col75<span class="o">)</span> : URL value <span class="s2">&quot;http://hl7.org/fhir/us/core/CapabilityStatement/us-core-server&quot;</span> does not resolve
 Error @ CapabilityStatement.implementationGuide<span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">(</span>line <span class="m">49</span>, col4<span class="o">)</span> : URL value <span class="s2">&quot;http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core-3.1.0&quot;</span> does not resolve
</code></pre></div>


<p>With many more additional errors of the same type following.<br>
I’ve seen this issue with other resources, but am using US Core as an example.<br>
I was unable to find any requirements in the FHIR spec that urls, including canonical urls, must resolve. I can understand why these would be warnings, but can someone explain why these are errors?<br>
Any help would be much appreciated!</p>



<a name="205530037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205530037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205530037">(Jul 30 2020 at 20:43)</a>:</h4>
<p>If you're going to validate content that references artifacts from an IG, you need to use the <code>-ig</code> parameter to indicate the ig (or igs) that are in scope.  Otherwise, the validator just looks at the core spec</p>



<a name="205531493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205531493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205531493">(Jul 30 2020 at 20:57)</a>:</h4>
<p>Should these really be errors though?</p>
<p>For example if I validate against the vonk CapabilityStatement at <code>http://vonk.fire.ly/r4/metadata</code>. I get</p>
<div class="codehilite"><pre><span></span><code>java -jar validator_cli.jar -version <span class="m">4</span>.0.1 metadata
FHIR Validation tool Version <span class="m">5</span>.0.17 <span class="o">(</span>Git# a375f58c8288<span class="o">)</span>. Built <span class="m">2020</span>-07-30T04:40:26.642Z <span class="o">(</span><span class="m">16</span> hours old<span class="o">)</span>
Detected Java version: <span class="m">14</span>.0.2 from /Library/Java/JavaVirtualMachines/adoptopenjdk-14.jdk/Contents/Home on x86_64 <span class="o">(</span>64bit<span class="o">)</span>. 4096MB available
Arguments: -version <span class="m">4</span>.0.1 metadata
Directories: <span class="nv">Current</span> <span class="o">=</span> /Users/radamson/Downloads, Package <span class="nv">Cache</span> <span class="o">=</span> /Users/radamson/.fhir/packages
  .. FHIR Version <span class="m">4</span>.0, definitions from hl7.fhir.r4.core#4.0.1
  .. connect to tx server @ http://tx.fhir.org
    <span class="o">(</span>v4.0.1<span class="o">)</span>
  .. validate <span class="o">[</span>metadata<span class="o">]</span>
   ..Detect format <span class="k">for</span> metadata
*FAILURE* validating metadata:  error:1 warn:1 info:0
  Error @ CapabilityStatement.rest<span class="o">[</span><span class="m">0</span><span class="o">]</span>.operation<span class="o">[</span><span class="m">0</span><span class="o">]</span>.definition <span class="o">(</span>line <span class="m">29864</span>, col88<span class="o">)</span> : URL value <span class="s2">&quot;http://hl7.org/fhir/OperationDefinition/CodeSystem-compose&quot;</span> does not resolve
  Warning @ CapabilityStatement <span class="o">(</span>line <span class="m">1</span>, col1<span class="o">)</span> : cpb-0: Name should be usable as an identifier <span class="k">for</span> the module by machine processing applications such as code generation <span class="o">[</span>name.matches<span class="o">(</span><span class="s1">&#39;[A-Z]([A-Za-z0-9_]){0,254}&#39;</span><span class="o">)]</span>
</code></pre></div>


<p>This OperationDefinition is actually defined in base FHIR (I can resolve it in my browser), but I imagine a CapabilityStatement could just as likely include OperationDefinitions which are not publicly available.</p>
<p>Is there language in the FHIR spec that backs up these being errors?  I'd imagine it being a warning, similar to an unknown CodeSystem, unless its actually mandatory for these to resolve.</p>



<a name="205545308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205545308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205545308">(Jul 30 2020 at 23:46)</a>:</h4>
<p>the java validator calls that an error if the target is in <a href="http://hl7.org/fhir">hl7.org/fhir</a>, since it knows all about that space</p>



<a name="205578074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205578074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205578074">(Jul 31 2020 at 10:43)</a>:</h4>
<p>I can understand that from an IG Publisher perspective, but when validating resource instances created by others than myself its not feasible to know which <code>-ig</code> parameters to use.</p>
<p>As <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> indicated for <span class="user-mention" data-user-id="326373">@Robert Scalfani</span>'s example, the validator doesn't know about <code>http://hl7.org/fhir/us/core/CapabilityStatement/us-core-server</code>, which is in <a href="http://hl7.org/fhir">hl7.org/fhir</a>, unless us core is loaded via the <code>-ig</code> parameter.  There may be an IG artifact that contains a definition for the offending URL in the vonk example as well, but realistically I'm not sure how I would know which to use.</p>
<p>In these cases I'm not sure whether the resource actually has errors or that the validator does not have the proper resources loaded via the <code>-ig</code> flag.</p>



<a name="205591398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205591398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205591398">(Jul 31 2020 at 13:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="205755531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205755531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205755531">(Aug 03 2020 at 02:47)</a>:</h4>
<p>Since <code>CapabilityStatement.url</code> is not required to resolve:</p>
<blockquote>
<p>This SHOULD be globally unique and SHOULD be a literal address at which at which an authoritative instance of this capability statement is (or will be) published.</p>
</blockquote>
<p>I would think this should not be reported as an error <em>of the resource being validated</em>, and at worst it is an error of the invocation of the validator itself (i.e., I could not resolve this because you didn't provide it to me, eg via a -ig parameter).</p>



<a name="205755582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205755582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205755582">(Aug 03 2020 at 02:48)</a>:</h4>
<p>what context is this in?</p>



<a name="205755855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205755855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205755855">(Aug 03 2020 at 02:56)</a>:</h4>
<p>The quote is from <a href="https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.url">https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.url</a><br>
and I'm looking at the Output from <span class="user-mention" data-user-id="326373">@Robert Scalfani</span> 's example at the start of the thread</p>



<a name="205865758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/205865758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#205865758">(Aug 04 2020 at 01:49)</a>:</h4>
<p>for now, I've changed the way we check canonical URLs; they are not a reference. I'll think about whether there's more checks I can do</p>



<a name="206262398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/206262398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scalfani <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#206262398">(Aug 07 2020 at 14:20)</a>:</h4>
<p>Hi Grahame, thanks for your response and help! It looks like this has been resolved for <code>CapabilityStatement.url </code>, but not <code>CapabilityStatement.implementationGuide</code> . I’m still getting the same issue</p>
<div class="codehilite"><pre><span></span><code>java -jar validator_cli.jar -version 4.0.1 uscoreexample.json
FHIR Validation tool Version 5.0.22 (Git# 5c4c5ce1c872). Built 2020-08-07T03:52:06.975Z (10 hours old)
Detected Java version: 11.0.8 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 (64bit). 8192MB available
Arguments: -version 4.0.1 uscoreexample.json
Directories: Current = /Users/rscalfani/Documents/CapabiltyStatement-mCODE-SearchRequirements/build/input/capabilities, Package Cache = /Users/rscalfani/.fhir/packages
  .. FHIR Version 4.0, definitions from hl7.fhir.r4.core#4.0.1
  .. connect to tx server @ http://tx.fhir.org
    (v4.0.1)
  .. validate [uscoreexample.json]
Terminology server: Check for supported code systems for urn:iso:std:iso:3166
*FAILURE* validating uscoreexample.json:  error:1 warn:0 info:45
  Error @ CapabilityStatement.implementationGuide[0] (line 49, col4) : URL value &quot;http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core-3.1.0&quot; does not resolve
</code></pre></div>


<p>Is there a reason why URLs for <code>CapabilityStatement.implementationGuide</code> are still causing failures?</p>



<a name="206312384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/206312384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#206312384">(Aug 07 2020 at 21:36)</a>:</h4>
<p>well, that's a reference rather than a definition, and it looks wrong to me</p>



<a name="206731844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/206731844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scalfani <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#206731844">(Aug 12 2020 at 18:24)</a>:</h4>
<p>Is it required that the reference <code>CapabilityStatement.implementationGuide</code> must resolve? I don't see this requirement that a canonical URL must resolve in the spec, could you point me to that requirement?</p>



<a name="206761087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%3A%20Does%20not%20resolve%20errors/near/206761087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.3A.20Does.20not.20resolve.20errors.html#206761087">(Aug 12 2020 at 22:39)</a>:</h4>
<p>the validator doesn't require it to resolve, but if you refer into the <a href="http://hl7.org/fhir">hl7.org/fhir</a> space, the validator requires the references to be correct</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
