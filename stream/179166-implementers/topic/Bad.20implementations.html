---
layout: page
title: "FHIR Chat  · Bad implementations · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html">Bad implementations</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="192750339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192750339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192750339">(Apr 03 2020 at 01:57)</a>:</h4>
<p>Reference do not resolve? Your problem! <a href="https://github.com/virencehealth/apiserver.virencehealth.com/issues/59" title="https://github.com/virencehealth/apiserver.virencehealth.com/issues/59">https://github.com/virencehealth/apiserver.virencehealth.com/issues/59</a></p>



<a name="192751392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192751392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192751392">(Apr 03 2020 at 02:20)</a>:</h4>
<p>well, technically, the specification says that references don't have to resolve. We've always taken it for granted, though (and said in the spec_, that a real healthcare system would ensure that they did in fact maintain referential integrity. </p>
<p>Can't help stupid...</p>
<p>Guess we can mention these guys when we're asked about this in tutorials</p>



<a name="192763594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192763594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192763594">(Apr 03 2020 at 06:49)</a>:</h4>
<p>In distributed environments it may be near impossible to maintain referential integrity, unless one requires (for all applications) that resources can never be deleted.. As such some guidance as to how one should deal with this erroneous situation would be helpful.</p>



<a name="192763699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192763699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192763699">(Apr 03 2020 at 06:51)</a>:</h4>
<p>I don't see how we can provide general guidance more than we do - that would be an IG thing</p>



<a name="192807272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192807272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192807272">(Apr 03 2020 at 13:58)</a>:</h4>
<p>The spec say 'Whether or not the reference is to a FHIR RESTful server, the reference SHALL point to a Resource as defined by this specification' - seems to me that it means they should resolve. Also: they should use Argonaut, that say that MedicationOrder must have a medication. Also also: a MedicationOrder without the medication does not make any sense - but they don't believe me, everything is fine</p>



<a name="192807878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192807878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192807878">(Apr 03 2020 at 14:02)</a>:</h4>
<p>What does it mean "Whether or not the reference is to a FHIR RESTful server"? Is it to cover contained resources, and resources in a Bundle? Or does it mean that you can put an identifier in there, that is not retrievable?</p>



<a name="192809069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192809069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Scholz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192809069">(Apr 03 2020 at 14:11)</a>:</h4>
<p>This specification uses the conformance verbs SHALL, SHOULD, and MAY as defined in RFC 2119. <strong>Unlike RFC 2119</strong>, however, <strong>this specification allows</strong> that different applications might not be able to interoperate because of how they use optional features.</p>
<p>That reads a bit like : "SHALL is an absolute must, unless you are not able to"</p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  did I get that right ?</p>



<a name="192810645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192810645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192810645">(Apr 03 2020 at 14:21)</a>:</h4>
<p><span class="user-mention" data-user-id="192685">@Vassil Peytchev</span> : that language is at <a href="http://hl7.org/fhir/DSTU2/references.html" title="http://hl7.org/fhir/DSTU2/references.html">http://hl7.org/fhir/DSTU2/references.html</a> - it mean that a reference can point to a static file somewhere for example, that must still be a valid FHIR resource</p>



<a name="192813038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192813038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192813038">(Apr 03 2020 at 14:37)</a>:</h4>
<p>But this is the 'Bad implementation<strong>s</strong>' (plural) topic, so here's something else<br>
...what should we put in this Bundle 'next' link? Why not a link to every entry in the bundle for example?</p>
<div class="codehilite"><pre><span></span>{
  &quot;type&quot;: &quot;searchset&quot;,
  &quot;entry&quot;: [
    {
      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/2b7f42c7-58a8-4f68-4c88-5d166729ad17&quot;,
      &quot;resource&quot;: {
        &quot;id&quot;: &quot;2b7f42c7-58a8-4f68-4c88-5d166729ad17&quot;,
          . . .
        &quot;resourceType&quot;: &quot;Condition&quot;
      },
      &quot;search&quot;: {
        &quot;mode&quot;: &quot;match&quot;
      }
    },
    {
      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/2d5fc10c-f4d3-463f-2196-c7a19a20cc43&quot;,
      &quot;resource&quot;: {
        &quot;id&quot;: &quot;2d5fc10c-f4d3-463f-2196-c7a19a20cc43&quot;,
          . . .
        &quot;resourceType&quot;: &quot;Condition&quot;
      },
      &quot;search&quot;: {
        &quot;mode&quot;: &quot;match&quot;
      }
    },
    {
      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/321c9f35-1053-4a0e-f6af-4fcd7f0b2c73&quot;,
      &quot;resource&quot;: {
        &quot;id&quot;: &quot;321c9f35-1053-4a0e-f6af-4fcd7f0b2c73&quot;,
          . . .
        &quot;resourceType&quot;: &quot;Condition&quot;
      },
      &quot;search&quot;: {
        &quot;mode&quot;: &quot;match&quot;
      }
    },
    {
      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/c7bd1ffb-9ca2-4900-83ae-fe5b6c0cd4b7&quot;,
      &quot;resource&quot;: {
        &quot;id&quot;: &quot;c7bd1ffb-9ca2-4900-83ae-fe5b6c0cd4b7&quot;,
          . . .
        &quot;resourceType&quot;: &quot;Condition&quot;
      },
      &quot;search&quot;: {
        &quot;mode&quot;: &quot;match&quot;
      }
    },
    {
      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/e5441aac-4cc2-456c-e7a0-c2585c0563b1&quot;,
      &quot;resource&quot;: {
        &quot;id&quot;: &quot;e5441aac-4cc2-456c-e7a0-c2585c0563b1&quot;,
          . . .
        &quot;resourceType&quot;: &quot;Condition&quot;
      },
      &quot;search&quot;: {
        &quot;mode&quot;: &quot;match&quot;
      }
    }
  ],
  &quot;link&quot;: [
    {
      &quot;relation&quot;: &quot;next&quot;,
      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/2b7f42c7-58a8-4f68-4c88-5d166729ad17&quot;
    },
    {
      &quot;relation&quot;: &quot;next&quot;,
      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/2d5fc10c-f4d3-463f-2196-c7a19a20cc43&quot;
    },
    {
      &quot;relation&quot;: &quot;next&quot;,
      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/321c9f35-1053-4a0e-f6af-4fcd7f0b2c73&quot;
    },
    {
      &quot;relation&quot;: &quot;next&quot;,
      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/c7bd1ffb-9ca2-4900-83ae-fe5b6c0cd4b7&quot;
    },
    {
      &quot;relation&quot;: &quot;next&quot;,
      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/e5441aac-4cc2-456c-e7a0-c2585c0563b1&quot;
    },
    {
      &quot;relation&quot;: &quot;self&quot;,
      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition?patient=I0-B20190530093628792&quot;
    }
  ],
  &quot;total&quot;: 5,
  &quot;resourceType&quot;: &quot;Bundle&quot;
}
</pre></div>



<a name="192851070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192851070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192851070">(Apr 03 2020 at 19:10)</a>:</h4>
<p>we've struggled with this language. What we're trying to say is that you can't point to something that isn't a FHIR resource - e.g. a PDF that describes something, in a Reference().</p>



<a name="192851087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192851087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192851087">(Apr 03 2020 at 19:10)</a>:</h4>
<p>we aren't trying to say that the link can't be broken</p>



<a name="192852458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192852458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192852458">(Apr 03 2020 at 19:22)</a>:</h4>
<p>Well, we're also saying the link isn't guaranteed to be resolvable - network issues, permission issues, site issues, etc. mean that there's never a guarantee of resolution</p>



<a name="192852981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192852981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192852981">(Apr 03 2020 at 19:27)</a>:</h4>
<p>So MedicationOrder pointing to Medication that do not exist are OK?</p>



<a name="192900242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192900242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192900242">(Apr 04 2020 at 10:05)</a>:</h4>
<p>It's definitely not OK .. but in the real world, s* happens.</p>



<a name="192908334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192908334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192908334">(Apr 04 2020 at 13:46)</a>:</h4>
<p>It's entirely possible that the items being referenced aren't under the control of the server doing the referencing, so enforcing referential integrity just isn't possible in all spaces.</p>



<a name="192928714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bad%20implementations/near/192928714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bad.20implementations.html#192928714">(Apr 04 2020 at 21:53)</a>:</h4>
<p>just passing through so you can ignore ;-0 but seems you are mashing together the idea of elegant error handling and specification expectations. If a reference is expecting a resolvable FHIR resource then it should be a SHALL and then you need to have error handling processes. Saying it SHOULD be a resource but allowing anything to happen is not the same thing. Assuming you thought about all that, I'd assume getting a resource is "nice to have" and you expect implementers to design systems where things other than a resource must be accepted and used. Right?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
