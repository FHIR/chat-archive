---
layout: page
title: "FHIR Chat  · SDC - Separate resources vs Extension vs contained · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html">SDC - Separate resources vs Extension vs contained</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221076194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221076194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221076194">(Dec 28 2020 at 17:26)</a>:</h4>
<p>I have a Questionnaire asking for "date of test" and "date of sepecimen collection". Normally this will map to Observation and to Specimen.<br>
Question: since my specimen is only needed for that attribute, should I:</p>
<ol>
<li>Force the creation of the 2 resources, Observation and Specimen</li>
<li>Just use a contained resource</li>
<li>Simply add an extension to my Observation, for "collection date"?</li>
</ol>
<p>My preference is 1, otherwise 2, else 3.  Thoughts?<br>
For 1. it's not clear how I'd automatically populate the relation Observation-Specimen.</p>



<a name="221076564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221076564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221076564">(Dec 28 2020 at 17:31)</a>:</h4>
<p>assuming some code (called "Importer") is consuming some external data and  translating into a FHIR Questionnaire, is the challenge populating the Obs and Specimen (which would apply to 1 and 2) or more extending Importer's capabilities to invent additional FHIR Resources?</p>



<a name="221077288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221077288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221077288">(Dec 28 2020 at 17:41)</a>:</h4>
<p>the conversion would be from a QuestionnaireResponse to the other 2 resources.</p>



<a name="221077527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221077527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221077527">(Dec 28 2020 at 17:44)</a>:</h4>
<p>question is more if there is any recommendation or best practice.</p>



<a name="221077531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221077531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221077531">(Dec 28 2020 at 17:44)</a>:</h4>
<p>I plan to use the approach defined in SDC which defines that resources can be updated or created (I'll get to that operation soon). <br>
But I do not recall any reference to creating 2 resources AND a relation between them.</p>



<a name="221077986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221077986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221077986">(Dec 28 2020 at 17:51)</a>:</h4>
<p>still trying to grok this (which I'll need to do for some NHS stuff), the challenge isn't in creating the Obs or the Specimen, but in creating them and populating the specimen property in the observation?</p>



<a name="221078878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221078878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221078878">(Dec 28 2020 at 18:02)</a>:</h4>
<p>yes, since those will be created at the same time, and I don't see if there is any provision for that</p>



<a name="221078935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221078935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221078935">(Dec 28 2020 at 18:03)</a>:</h4>
<p>I don't know if there is any (reference) implementation for this kind of operation<br>
<a href="https://build.fhir.org/ig/HL7/sdc/extraction.html#structuremap-based-extraction">https://build.fhir.org/ig/HL7/sdc/extraction.html#structuremap-based-extraction</a></p>



<a name="221082367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221082367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221082367">(Dec 28 2020 at 18:48)</a>:</h4>
<p>Whether you create two independent resources or one resource with a second contained resource stems from whether you have enough information for both resources to be useful independently.  If all you've got is a collected date, that doesn't sound like enough information for a stand-alone resource to me.  (If you're querying a server and getting back a bunch of specimens with no information other than collected date, they're going to be nigh impossible to differentiate or do anything useful with.)  On the other hand, if the QuestionnaireResponse had more information about the specimen such that, when populated, it would actually form a useful independent resource, then it should certainly be handled as an independent resource.</p>



<a name="221082919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221082919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221082919">(Dec 28 2020 at 18:55)</a>:</h4>
<p>I only need specimen collected date and place.</p>



<a name="221082989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221082989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221082989">(Dec 28 2020 at 18:56)</a>:</h4>
<p>(Requirements always change, but this one is not going far from here)</p>



<a name="221083514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221083514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221083514">(Dec 28 2020 at 19:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, I think you're advocating for <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>'s  choice #2. Does that mean he should invent a local name for the contained Specimen to populate the contained Observation's specimen property?</p>



<a name="221083664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221083664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221083664">(Dec 28 2020 at 19:05)</a>:</h4>
<p>Indeed, in this case I'll also need to populate <a href="http://specimen.id">specimen.id</a></p>



<a name="221084094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221084094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221084094">(Dec 28 2020 at 19:11)</a>:</h4>
<p>Right.  He'd use a contained resource and need to define a local id for it he can use to reference it within the observation (e.g. <code>#spec</code>)</p>



<a name="221086426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221086426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221086426">(Dec 28 2020 at 19:47)</a>:</h4>
<p>The collection place is an extension. So I'll have a contained resource with one attribute and one extension...</p>



<a name="221086522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221086522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221086522">(Dec 28 2020 at 19:48)</a>:</h4>
<p>I presume I'd need to be able to search on those. Will that cause suffering?</p>



<a name="221086812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221086812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221086812">(Dec 28 2020 at 19:53)</a>:</h4>
<p>You can search on specimen properties in the context of the Observation using chaining.  Searching directly on the contained Specimen is theoretically possible but not widely supported.</p>



<a name="221087761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221087761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221087761">(Dec 28 2020 at 20:08)</a>:</h4>
<p>Chaining applies only if it's not contained, correct?</p>



<a name="221087837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221087837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221087837">(Dec 28 2020 at 20:08)</a>:</h4>
<p>is there any implementation using the techniques described in SDC? <br>
I'm looking for examples of the mappings (would be really neat to see if there is an OperationDefinition out there)</p>



<a name="221089186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221089186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221089186">(Dec 28 2020 at 20:30)</a>:</h4>
<p>Chained search works whether it's contained or not.</p>



<a name="221089264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SDC%20-%20Separate%20resources%20vs%20Extension%20vs%20contained/near/221089264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SDC.20-.20Separate.20resources.20vs.20Extension.20vs.20contained.html#221089264">(Dec 28 2020 at 20:31)</a>:</h4>
<p>With SDC, you can't do contained for Observation-based extraction.  It would be straight-forward for map-based extraction.  I'm not sure if we'd have to add anything special for path-based extraction or not.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
