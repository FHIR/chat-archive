---
layout: page
title: "FHIR Chat  · Does Vonk 3.0.0 try to fetch things at canonical URLs · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Does.20Vonk.203.2E0.2E0.20try.20to.20fetch.20things.20at.20canonical.20URLs.html">Does Vonk 3.0.0 try to fetch things at canonical URLs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="179547637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Does%20Vonk%203.0.0%20try%20to%20fetch%20things%20at%20canonical%20URLs/near/179547637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Natasha Singh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Does.20Vonk.203.2E0.2E0.20try.20to.20fetch.20things.20at.20canonical.20URLs.html#179547637">(Oct 31 2019 at 16:16)</a>:</h4>
<p>Hello,</p>
<p>I was previously running with Vonk 3.0.0-beta2 where the following was not happening. After upgrading to 3.0.0 I'm seeing this issue. I POSTed two structure defs to the server (one is called Participant, one is an extension called ProbandStatus which Participant references). Then I tried POSTing a resource conforming to the Participant profile and got the following error message:</p>
<div class="codehilite"><pre><span></span>{&#39;id&#39;: &#39;b881defd-98df-48bb-80d5-2501f72f1569&#39;,
 &#39;issue&#39;: [{&#39;code&#39;: &#39;exception&#39;,
            &#39;details&#39;: {&#39;coding&#39;: [{&#39;code&#39;: &#39;5003&#39;,
                                    &#39;system&#39;: &#39;http://hl7.org/fhir/dotnet-api-operation-outcome&#39;}],
                        &#39;text&#39;: &#39;Internal logic failure: Cannot walk into &#39;
                                &#39;unknown StructureDefinition with canonical &#39;
                                &quot;&#39;http://fhirr4.kids-first.io/fhir/StructureDefinition/probandStatus&#39; &quot;
                                &#39;at &#39;
                                &quot;&#39;http://fhirr4.kids-first.io/fhir/StructureDefinition/Participant#Patient.extension&#39;&quot;},
            &#39;location&#39;: [&#39;Patient&#39;],
            &#39;severity&#39;: &#39;fatal&#39;}],
 &#39;meta&#39;: {&#39;lastUpdated&#39;: &#39;2019-10-31T15:18:18.548+00:00&#39;,
          &#39;versionId&#39;: &#39;5570f58c-0c5a-4653-91b1-0d45e16e4fdf&#39;},
 &#39;resourceType&#39;: &#39;OperationOutcome&#39;}
</pre></div>


<p>I'm wondering if the latest release of Vonk is trying to fetch the StructureDefinition from the canonical URL? It didn't seem to do this before..</p>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> <br>
<span class="user-mention" data-user-id="193551">@Marco Visser</span> </p>
<p>Thank you!</p>



<a name="179572541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Does%20Vonk%203.0.0%20try%20to%20fetch%20things%20at%20canonical%20URLs/near/179572541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Natasha Singh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Does.20Vonk.203.2E0.2E0.20try.20to.20fetch.20things.20at.20canonical.20URLs.html#179572541">(Oct 31 2019 at 20:24)</a>:</h4>
<p>I've done some more tinkering with Vonk 3.0.0 and it seems like its having issues resolving references to profiles in general. </p>
<p>For example, I have a profile for <code>us-core-patient</code> loaded in my server:<br>
<a href="/user_uploads/10155/PuOxu-lqFSWBenkYeD88NF8n/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/PuOxu-lqFSWBenkYeD88NF8n/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/PuOxu-lqFSWBenkYeD88NF8n/pasted_image.png"></a></div><p>But when I try to POST a patient resource that references this profile, it fails:<br>
<a href="/user_uploads/10155/W4wcvhRUpL2XfnAZHxBi5XYd/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/W4wcvhRUpL2XfnAZHxBi5XYd/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/W4wcvhRUpL2XfnAZHxBi5XYd/pasted_image.png"></a></div><p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span><br>
<span class="user-mention" data-user-id="193551">@Marco Visser</span></p>



<a name="179850218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Does%20Vonk%203.0.0%20try%20to%20fetch%20things%20at%20canonical%20URLs/near/179850218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abel Enthoven <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Does.20Vonk.203.2E0.2E0.20try.20to.20fetch.20things.20at.20canonical.20URLs.html#179850218">(Nov 04 2019 at 16:43)</a>:</h4>
<p>Hi Natasha,</p>
<p>I can confirm that this is indeed an issue that did not exist prior to Vonk 3.0.0. Thank you for reporting this! We are working on a solution and we are planning on including it in the next release, which is due before DevDays Europe (likely at the end of next week)</p>
<p>Kind regards,<br>
Abel Enthoven (Vonk Server Engineer)</p>



<a name="179965405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Does%20Vonk%203.0.0%20try%20to%20fetch%20things%20at%20canonical%20URLs/near/179965405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Natasha Singh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Does.20Vonk.203.2E0.2E0.20try.20to.20fetch.20things.20at.20canonical.20URLs.html#179965405">(Nov 05 2019 at 19:07)</a>:</h4>
<p>Good to know, thanks Abel! <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<a name="181043207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Does%20Vonk%203.0.0%20try%20to%20fetch%20things%20at%20canonical%20URLs/near/181043207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Does.20Vonk.203.2E0.2E0.20try.20to.20fetch.20things.20at.20canonical.20URLs.html#181043207">(Nov 18 2019 at 18:40)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="225054">@Natasha Singh</span> Today we released Vonk 3.1.0. Could you please re-test and see if the issue with the us-core profile has been fixed for you?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
