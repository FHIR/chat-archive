---
layout: page
title: "FHIR Chat  · Search to exclude multiple tokens · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html">Search to exclude multiple tokens</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="199539581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20to%20exclude%20multiple%20tokens/near/199539581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik Greif <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html#199539581">(Jun 02 2020 at 19:14)</a>:</h4>
<p>Using a composite token search ?code=one,two,three I can easily find all records that have one or more of these codes. But I noticed the composite search specification states "Modifiers are not used on composite parameters." I think this means I can't do ?code:not=one&amp;code:not=two to return the intersection of results without the code one and without the code two. Is that correct? If so, how are requirements like this handled?</p>



<a name="199540182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20to%20exclude%20multiple%20tokens/near/199540182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html#199540182">(Jun 02 2020 at 19:19)</a>:</h4>
<p>That's a normal token search with multiple value, you can use <code>:not</code> (provided that the server(s) you are interested in support it)</p>



<a name="199540659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20to%20exclude%20multiple%20tokens/near/199540659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik Greif <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html#199540659">(Jun 02 2020 at 19:23)</a>:</h4>
<p>I suppose maybe I'm confused by the naming of the section of the spec that defines this: <a href="https://hl7.org/fhir/search.html#combining">https://hl7.org/fhir/search.html#combining</a><br>
So using multiple params with &amp; is not actually considered composite? But , is? So I still couldn't, for example, say ?code:not=one,two in this case?</p>



<a name="199542238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20to%20exclude%20multiple%20tokens/near/199542238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html#199542238">(Jun 02 2020 at 19:36)</a>:</h4>
<p><code>&amp;</code> and <code>?</code> are just the standard url parameters separator - nothing specific to FHIR</p>



<a name="199542343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20to%20exclude%20multiple%20tokens/near/199542343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html#199542343">(Jun 02 2020 at 19:37)</a>:</h4>
<p>Composite search parameters are when you want to match two different things within the same element, and that uses <code>$</code></p>



<a name="199543083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20to%20exclude%20multiple%20tokens/near/199543083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik Greif <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html#199543083">(Jun 02 2020 at 19:44)</a>:</h4>
<p>Yeah for sure with &amp;, but the comma/OR syntax didn't seem to be defined anywhere else on the search page, so I assumed all of this was all considered part of "composite." Thank you for clarifying that only $ is, I'll bring this info back to my team.</p>



<a name="199543598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20to%20exclude%20multiple%20tokens/near/199543598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erik Greif <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html#199543598">(Jun 02 2020 at 19:49)</a>:</h4>
<p>On this topic, do you know of a spec page/section that defines how modifiers work with OR queries? I assume something like ?code:not=one,two (example) means (NOT one) OR (NOT two), to be completely consistent with how AND works. If it's actually NOT(one OR two) (which is actually same as ?code:not=one&amp;code:not=two) then I need to go back to the drawing board with a few things</p>



<a name="199551528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20to%20exclude%20multiple%20tokens/near/199551528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20to.20exclude.20multiple.20tokens.html#199551528">(Jun 02 2020 at 20:50)</a>:</h4>
<p><a href="http://hl7.org/fhir/search.html#token">http://hl7.org/fhir/search.html#token</a> defines <code>:not</code> as 'return all resources that do not have a matching item'.  So<code>code:not=one, two</code> is 'NOT ( one OR two)'</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
