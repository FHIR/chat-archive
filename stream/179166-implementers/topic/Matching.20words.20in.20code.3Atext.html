---
layout: page
title: "FHIR Chat  · Matching words in code:text · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html">Matching words in code:text</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="242375614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242375614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242375614">(Jun 11 2021 at 17:15)</a>:</h4>
<p>We would like to be able to match against individual words in code:text, so that a search on code:text=wei would match a display string, "Body weight".   <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> said today that they way :text is currently described for (for tokens), he thought the search would likely only match at the beginning of the display string, and that agrees with the current HAPI implementation.</p>
<p>This seems like a significant shortcoming, since someone trying to find codes for "weight" will be unlikely to think of typing "Body weight".  Could there be some mechanism for requesting matching at the beginning of words, if token :text's definition can't be changed?</p>
<p>Note:  I did create <a href="http://jira.hl7.org/browse/FHIR-32673">FHIR-32673</a> for this, but at Lloyd's suggestion I am posting here as well.</p>



<a name="242380703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242380703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242380703">(Jun 11 2021 at 17:55)</a>:</h4>
<p>the page is inconsistent on this matter. It's certainly not intended to left match only</p>



<a name="242381999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242381999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242381999">(Jun 11 2021 at 18:05)</a>:</h4>
<p>I am having the same problem.  Since token:text is string search, then I think one option is searching with <code>token:text:contains</code> <br>
For my project, I am considering to create an operation on token so it can search either code or text.</p>



<a name="242401239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242401239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242401239">(Jun 11 2021 at 20:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191506">Yunwei Wang</span> <a href="#narrow/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext/near/242381999">said</a>:</p>
<blockquote>
<p>so it can search either code or text.</p>
</blockquote>
<p>We would like to do that too, though that is a separate issue.</p>



<a name="242401594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242401594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242401594">(Jun 11 2021 at 20:53)</a>:</h4>
<p>The problem with :contains is that it finds stuff in the middle of word, which almost never what you want.  If you are searching for "eight", you don't want "weight".  You would end up with a fair amount of noise in the results, especially if you were autocompleting and searching as the user types.</p>



<a name="242415496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242415496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242415496">(Jun 11 2021 at 23:40)</a>:</h4>
<p>We decided to use text-based search which is search based on word instead sub-string. I cannot find many details about text-based search in FHIR spec.</p>



<a name="242416676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242416676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242416676">(Jun 12 2021 at 00:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191506">@Yunwei Wang</span>  How did you do that text-based searching (word matching) on code:text?  Do you have a custom FHIR server?  What syntax did you use in the query?</p>



<a name="242416867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242416867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242416867">(Jun 12 2021 at 00:11)</a>:</h4>
<p>FHIR has two search parameters <code>_content</code> and <code>_text</code> for text-based search on resource content and narrative respectively (see <a href="http://build.fhir.org/search#content">http://build.fhir.org/search#content</a>) But these two do not fit our use case which is text-based search on a selected element. <br>
We decide to use the same syntax, such as "lung AND cancer" on our customized search parameter (if we could figure out how to defined a search parameter for text-based search) or customized search operation</p>



<a name="242417032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Matching%20words%20in%20code%3Atext/near/242417032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Matching.20words.20in.20code.3Atext.html#242417032">(Jun 12 2021 at 00:15)</a>:</h4>
<p>Okay.  BTW, I just tested Observation?code:text:contains=.... on a HAPI FHIR server and it didn't work.  I think modifiers don't modify each other that way, but all modify the search parameter, and :contains is not a modifier for a token parameter.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
