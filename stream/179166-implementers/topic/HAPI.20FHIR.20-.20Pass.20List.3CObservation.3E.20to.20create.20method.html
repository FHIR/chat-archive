---
layout: page
title: "FHIR Chat  · HAPI FHIR - Pass List&lt;Observation&gt; to create method · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Pass.20List.3CObservation.3E.20to.20create.20method.html">HAPI FHIR - Pass List&lt;Observation&gt; to create method</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157272809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Pass%20List%3CObservation%3E%20to%20create%20method/near/157272809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Valeriy Shtanko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Pass.20List.3CObservation.3E.20to.20create.20method.html#157272809">(Jan 31 2019 at 13:54)</a>:</h4>
<p>Hi!<br>
I am new with HAPI FHIR and asking for help in my task.</p>
<p>I need to pass a list of Observation to the method in my Observation resource provider.<br>
When I have tried to do </p>
<p>@Create<br>
 public MethodOutcome createObservationResult(@ResourceParam List&lt;Observation&gt; results)    {<br>
           ...<br>
}</p>
<p>I have faced a multiple issues with, such as incorrect resource type, wrong json.<br>
Could you advise me a correct approach for that task?</p>
<p>Thank you</p>



<a name="157278354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Pass%20List%3CObservation%3E%20to%20create%20method/near/157278354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Pass.20List.3CObservation.3E.20to.20create.20method.html#157278354">(Jan 31 2019 at 15:10)</a>:</h4>
<p>You describe your issues in the past tense.  What issue are you facing <em>now</em>?  Also, you might want to raise this on the <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a> stream.</p>



<a name="157278957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Pass%20List%3CObservation%3E%20to%20create%20method/near/157278957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Valeriy Shtanko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Pass.20List.3CObservation.3E.20to.20create.20method.html#157278957">(Jan 31 2019 at 15:18)</a>:</h4>
<p>Thank you for your answer. Unfortunately, I still fight with that issues.</p>



<a name="157280575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Pass%20List%3CObservation%3E%20to%20create%20method/near/157280575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Pass.20List.3CObservation.3E.20to.20create.20method.html#157280575">(Jan 31 2019 at 15:41)</a>:</h4>
<p>The portion you've shown isn't going to help much with diagnosing your issue as we can't see the resource type or the JSON</p>



<a name="157345599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Pass%20List%3CObservation%3E%20to%20create%20method/near/157345599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Valeriy Shtanko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Pass.20List.3CObservation.3E.20to.20create.20method.html#157345599">(Feb 01 2019 at 11:10)</a>:</h4>
<p>Hi Lloyd<br>
Thank you for your answer.</p>
<p>Resource type is Observation and as I mentioned above I want to implement method, which accepts list of observations. When I return list of observation from another method HAPI puts it into bundle, so I expect  if I implement method </p>
<p>@Create<br>
public MethodOutcome createObservationResult(@ResourceParam List&lt;Observation&gt; results) {...}</p>
<p>and will send the JSON (with bundle as payload) I'll get list of observation inside method. <br>
The bundle JSON is</p>
<p>{<br>
    "resourceType": "Bundle",<br>
    "id": "cf288d1c-6828-4a63-a3c1-3d503a1e7759",<br>
    "meta": {<br>
        "lastUpdated": "2019-01-31T14:53:33.392+02:00"<br>
    },<br>
    "type": "message",<br>
    "total": 3,<br>
    "link": [<br>
        {<br>
            "relation": "self",<br>
            "url": "<a href="http://localhost:8089/fhir/Observation" target="_blank" title="http://localhost:8089/fhir/Observation">http://localhost:8089/fhir/Observation</a>"<br>
        }<br>
    ],<br>
    "entry": [<br>
        {<br>
            "fullUrl": "<a href="http://localhost:8089/fhir/Observation/333" target="_blank" title="http://localhost:8089/fhir/Observation/333">http://localhost:8089/fhir/Observation/333</a>",<br>
            "resource": {<br>
                "resourceType": "Observation",<br>
                "id": "333",<br>
                "basedOn": [<br>
                    {<br>
                        "reference": "referral-id"<br>
                    }<br>
                ],<br>
                "performer": [<br>
                    {<br>
                        "reference": "referral-id"<br>
                    }<br>
                ],<br>
                "component": [<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "name-of-analysis"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "aaa"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "result-of-analysis"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "bbb"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "unit-of-measurement"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "ccc"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "reference-interval"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "ddd"<br>
                    }<br>
                ]<br>
            }<br>
        },<br>
        {<br>
            "fullUrl": "<a href="http://localhost:8089/fhir/Observation/333" target="_blank" title="http://localhost:8089/fhir/Observation/333">http://localhost:8089/fhir/Observation/333</a>",<br>
            "resource": {<br>
                "resourceType": "Observation",<br>
                "id": "333",<br>
                "basedOn": [<br>
                    {<br>
                        "reference": "referral-id"<br>
                    }<br>
                ],<br>
                "performer": [<br>
                    {<br>
                        "reference": "referral-id"<br>
                    }<br>
                ],<br>
                "component": [<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "name-of-analysis"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "aaa"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "result-of-analysis"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "bbb"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "unit-of-measurement"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "ccc"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "reference-interval"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "ddd"<br>
                    }<br>
                ]<br>
            }<br>
        },<br>
        {<br>
            "fullUrl": "<a href="http://localhost:8089/fhir/Observation/333" target="_blank" title="http://localhost:8089/fhir/Observation/333">http://localhost:8089/fhir/Observation/333</a>",<br>
            "resource": {<br>
                "resourceType": "Observation",<br>
                "id": "333",<br>
                "basedOn": [<br>
                    {<br>
                        "reference": "referral-id"<br>
                    }<br>
                ],<br>
                "performer": [<br>
                    {<br>
                        "reference": "referral-id"<br>
                    }<br>
                ],<br>
                "component": [<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "name-of-analysis"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "aaa"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "result-of-analysis"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "bbb"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "unit-of-measurement"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "ccc"<br>
                    },<br>
                    {<br>
                        "code": {<br>
                            "coding": [<br>
                                {<br>
                                    "code": "reference-interval"<br>
                                }<br>
                            ]<br>
                        },<br>
                        "valueString": "ddd"<br>
                    }<br>
                ]<br>
            }<br>
        }<br>
    ]<br>
}</p>
<p>The endpoint is localhost:8089/fhir/Observation</p>
<p>I get the error "Failed to parse request body as JSON resource. Error was: Incorrect resource type found, expected "Observation" but found "Bundle""</p>



<a name="157361776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20FHIR%20-%20Pass%20List%3CObservation%3E%20to%20create%20method/near/157361776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20FHIR.20-.20Pass.20List.3CObservation.3E.20to.20create.20method.html#157361776">(Feb 01 2019 at 15:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
