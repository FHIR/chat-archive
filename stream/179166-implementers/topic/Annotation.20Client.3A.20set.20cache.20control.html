---
layout: page
title: "FHIR Chat  · Annotation Client: set cache control · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Annotation.20Client.3A.20set.20cache.20control.html">Annotation Client: set cache control</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="225277599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Annotation%20Client%3A%20set%20cache%20control/near/225277599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christophe Spielmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Annotation.20Client.3A.20set.20cache.20control.html#225277599">(Feb 05 2021 at 09:41)</a>:</h4>
<p>Hello,<br>
I am using the annotation client and I would like to set the cache-control as specified for the fluent client below</p>
<div class="codehilite"><pre><span></span><code>Bundle response = client
.search()
.forResource(Patient.class)
.returnBundle(Bundle.class)
.cacheControl(new CacheControlDirective().setNoCache(true)) // ← add a directive
.execute();
</code></pre></div>
<p>I am not able to find how to do it.</p>
<p>Moreover, it is not clear How I can force the HAPI server to NOT use the cache for all search requests.<br>
I have the following settings into <a href="http://hapi.properties">hapi.properties</a> but they do not seem to work :<br>
<em>reuse_cached_search_results_millis=-1</em><br>
I tried:  <em>dao_config.reuse_cached_results_timeout_millis=0</em></p>



<a name="225284479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Annotation%20Client%3A%20set%20cache%20control/near/225284479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christophe Spielmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Annotation.20Client.3A.20set.20cache.20control.html#225284479">(Feb 05 2021 at 10:57)</a>:</h4>
<p>for server setting: 'reuse_cached_results_timeout_millis=0' works</p>



<a name="225301042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Annotation%20Client%3A%20set%20cache%20control/near/225301042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Annotation.20Client.3A.20set.20cache.20control.html#225301042">(Feb 05 2021 at 13:59)</a>:</h4>
<p>You're better to ask this in the <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a> stream</p>



<a name="226514346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Annotation%20Client%3A%20set%20cache%20control/near/226514346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christophe Spielmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Annotation.20Client.3A.20set.20cache.20control.html#226514346">(Feb 16 2021 at 13:46)</a>:</h4>
<p>ok, thanks. sorry for the spam.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
