---
layout: page
title: "FHIR Chat  · sub-slices · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html">sub-slices</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153823626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823626">(Apr 29 2016 at 00:03)</a>:</h4>
<p>How would you go about creating a profile that defines a slice within a slice</p>



<a name="153823627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823627">(Apr 29 2016 at 00:04)</a>:</h4>
<p>For example, if I had two types of extensions on my resource, and each of those extensions could have two different extensions?<br>
(extreme example, I'm aware, but it's along the same lines of what I'm thinking about)</p>



<a name="153823628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823628">(Apr 29 2016 at 00:04)</a>:</h4>
<p>Re-slicing is described here: <a href="http://hl7-fhir.github.io/profiling.html#reslicing" target="_blank" title="http://hl7-fhir.github.io/profiling.html#reslicing">http://hl7-fhir.github.io/profiling.html#reslicing</a></p>



<a name="153823629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823629">(Apr 29 2016 at 00:05)</a>:</h4>
<p>Do you mean an extension within an extension (path="Patient.extension.extension") or slicing an extension?</p>



<a name="153823630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823630">(Apr 29 2016 at 00:06)</a>:</h4>
<p>an extension on an extension</p>



<a name="153823631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823631">(Apr 29 2016 at 00:07)</a>:</h4>
<p>If the "outer" extension have a value[x], then you would extend that (path="Patient.extension.value[x].extension")  If not, you have a complex extension (path="Patient.extension.extension").  I'm working on examples for all these now.</p>



<a name="153823632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823632">(Apr 29 2016 at 00:08)</a>:</h4>
<p>My drafts are here:  <a href="https://github.com/chrisgrenz/FHIR-Primer/wiki" target="_blank" title="https://github.com/chrisgrenz/FHIR-Primer/wiki">https://github.com/chrisgrenz/FHIR-Primer/wiki</a></p>



<a name="153823633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823633">(Apr 29 2016 at 00:08)</a>:</h4>
<p>Hopefully we'll have better examples within the spec shortly.</p>



<a name="153823634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823634">(Apr 29 2016 at 00:09)</a>:</h4>
<p>Disclaimer - these haven't been checked by anyone else yet!</p>



<a name="153823692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823692">(Apr 29 2016 at 04:09)</a>:</h4>
<p>I took a look at your github page. Looks like your complex extension example is very close to what I'm talking about. However, I'm wondering about an even more complex scenario where extensions are used, but there is a similar pattern on non-extension elements. In the scenario for extensions, separate profiles are used that describe each extension. But, what about a scenario where you have two slices (types) of Composition.section, and each slice/type of Composition.section can have a different Composition.section.content (for example). In this case, we aren't dealing with extensions, so they are not separate profiles. This hierarchy of requirements would have to be represented in a single profile. Any ideas?</p>



<a name="153823693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823693">(Apr 29 2016 at 04:13)</a>:</h4>
<p>If I were to represent this in print form, I might say:<br>
SHALL contain Composition<br>
--SHALL contain section, such that it   &lt;-- slice<br>
----SHOULD contain content, such that it &lt;-- sub-slice<br>
------SHALL contain ...<br>
----MAY contain content, such that it &lt;-- sub-slice<br>
--SHALL contain section, such that it &lt;-- slice<br>
----SHALL contain content, such that it &lt;-- sub-slice<br>
------SHALL contain ...</p>



<a name="153823694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823694">(Apr 29 2016 at 04:13)</a>:</h4>
<p>ugh... it removed my spacing</p>



<a name="153823695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823695">(Apr 29 2016 at 04:14)</a>:</h4>
<p>I think this is a realistic scenario when trying to represent C-CDA in FHIR profiles (as well as many other common implementation guide requirements)</p>



<a name="153823725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823725">(Apr 29 2016 at 08:29)</a>:</h4>
<p>Sean, it just sounds like nested slices to me, and is a simple use case. but perhaps I've missed something...</p>



<a name="153823726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823726">(Apr 29 2016 at 08:29)</a>:</h4>
<p>btw, if you want &lt;pre&gt; content, you can use 3 ` characters:</p>



<a name="153823727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823727">(Apr 29 2016 at 08:29)</a>:</h4>
<div class="codehilite"><pre>this was started by 3 `
</pre></div>



<a name="153823786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823786">(Apr 29 2016 at 13:24)</a>:</h4>
<p>cool. didn't realize you could do that</p>



<a name="153823787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823787">(Apr 29 2016 at 13:24)</a>:</h4>
<p>yes, nested slices sounds right to me</p>



<a name="153823788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823788">(Apr 29 2016 at 13:24)</a>:</h4>
<p>do we have examples?</p>



<a name="153823789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823789">(Apr 29 2016 at 13:24)</a>:</h4>
<p>must have missed them...</p>



<a name="153823791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823791">(Apr 29 2016 at 14:08)</a>:</h4>
<p>I haven't done any examples  because I didn't particularly think it was necessary, and also becuase they'd be very verbose</p>



<a name="153823792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823792">(Apr 29 2016 at 14:08)</a>:</h4>
<p>you could slice, say, Observation.component, and then within each slice, you could slice the reference range.</p>



<a name="153823794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823794">(Apr 29 2016 at 14:33)</a>:</h4>
<p>can you craft one example for me to following?</p>



<a name="153823795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823795">(Apr 29 2016 at 14:33)</a>:</h4>
<p>even pseudo-example?</p>



<a name="153823797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823797">(Apr 29 2016 at 14:47)</a>:</h4>
<p>Here's an example of an Encounter profile with a sliced type and a slicing within the first slice of coding:</p>



<a name="153823798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823798">(Apr 29 2016 at 14:47)</a>:</h4>
<div class="codehilite"><pre>&lt;differential&gt;
    &lt;element&gt;
        &lt;path value=&quot;Encounter.type&quot; /&gt;
        &lt;slicing&gt;
            &lt;discriminator value=&quot;text&quot; /&gt;
            &lt;rules value=&quot;open&quot; /&gt;
        &lt;/slicing&gt;
    &lt;/element&gt;
    &lt;element&gt;
        &lt;path value=&quot;Encounter.type.coding&quot; /&gt;
        &lt;name value=&quot;sliceTextA.coding&quot; /&gt;
        &lt;slicing&gt;
            &lt;discriminator value=&quot;system&quot; /&gt;
            &lt;rules value=&quot;open&quot; /&gt;
        &lt;/slicing&gt;
    &lt;/element&gt;
    &lt;element&gt;
        &lt;path value=&quot;Encounter.type.coding.system&quot; /&gt;
        &lt;name value=&quot;sliceTextA.LOINC.system&quot; /&gt;
        &lt;min value=&quot;1&quot; /&gt;
        &lt;fixedUri value=&quot;http://loinc.org&quot; /&gt;
    &lt;/element&gt;
    &lt;element&gt;
        &lt;path value=&quot;Encounter.type.coding.system&quot; /&gt;
        &lt;name value=&quot;sliceTextA.SNOMED.system&quot; /&gt;
        &lt;min value=&quot;1&quot; /&gt;
        &lt;fixedUri value=&quot;http://snomed.info/sct&quot; /&gt;
    &lt;/element&gt;
    &lt;element&gt;
        &lt;path value=&quot;Encounter.type.text&quot; /&gt;
        &lt;name value=&quot;sliceTextA.text&quot; /&gt;
        &lt;min value=&quot;1&quot; /&gt;
        &lt;fixedString value=&quot;TextA&quot; /&gt;
    &lt;/element&gt;
    &lt;element&gt;
        &lt;path value=&quot;Encounter.type.text&quot; /&gt;
        &lt;name value=&quot;sliceTextB.text&quot; /&gt;
        &lt;min value=&quot;1&quot; /&gt;
        &lt;fixedString value=&quot;TextB&quot; /&gt;
    &lt;/element&gt;
&lt;/differential&gt;
</pre></div>



<a name="153823800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823800">(Apr 29 2016 at 14:51)</a>:</h4>
<p>so is it a true statement that the name of the sub-slice is used to distinguish the parent slice that it belongs to?</p>



<a name="153823801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823801">(Apr 29 2016 at 14:51)</a>:</h4>
<p>ex: name = "parentSlice.childSlice"</p>



<a name="153823802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823802">(Apr 29 2016 at 14:51)</a>:</h4>
<p>That's how I interpret it...there's some discussion around that point I think</p>



<a name="153823803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823803">(Apr 29 2016 at 15:23)</a>:</h4>
<p>Also, some servers will choke on this differential because is doesn't provide all the implied paths (e.g. path:"Encounter.type.coding", name:"sliceTextA.LOINC")</p>



<a name="153823805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823805">(Apr 29 2016 at 15:33)</a>:</h4>
<p>There's no connection between the names of the slices and the names a nested element sliced inside a slice on that element</p>



<a name="153823806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823806">(Apr 29 2016 at 15:34)</a>:</h4>
<p>if you are re-slicing a slice in a derived profile, then there's rules. But nested slices are entirely separete</p>



<a name="153823807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823807">(Apr 29 2016 at 15:35)</a>:</h4>
<p>except that names are unique within a profile, so I slice a, and then I slice a(1).b.c and a(2).b.c, then the slices on c must all have different names, even though they are defined independently within each slice</p>



<a name="153823833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823833">(Apr 29 2016 at 17:39)</a>:</h4>
<p>so if there is no connection between the slice names, how could you know that slice a.b.c belongs to slice a(1).b</p>



<a name="153823852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823852">(Apr 29 2016 at 21:07)</a>:</h4>
<p>and yet another reason for <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9843&amp;start=0" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9843&amp;start=0">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9843&amp;start=0</a></p>



<a name="153823855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823855">(Apr 29 2016 at 21:15)</a>:</h4>
<p>Basically (I think) <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> is asserting that each element (at any nesting level) is sliced independently, and there's a cartesian product kind of combination that would then have to be limited by constraint.  If you slice Element A sliced into A1 and A2 and then slice A.B into B1 and B2 and then slice A.B.C into C1 and C2, you'd have 3^3 combinations (A.B.C, A.B.C1, A.B.C2, A.B1.C, A.B1.C1,...,A1.B.C, A1.B.C1,...,A2.B2.C2)</p>



<a name="153823856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823856">(Apr 29 2016 at 21:18)</a>:</h4>
<p>This is pretty untenable I think...</p>



<a name="153823857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823857">(Apr 29 2016 at 21:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> was this your understanding too?</p>



<a name="153823858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823858">(Apr 29 2016 at 21:24)</a>:</h4>
<p>Consider this scenario:<br>
In a profile (my-patient) I slice Patient.identifer by @profile into MRN and SSN.  The SSN Identifier profile includes an extension for issuingMethod.</p>
<p>In this scenario, how do I set something on issuingMethod.valueCodeableConcept.text? Use an element with:<br>
a) name: "SSN.issuingMethod.valueCodeableConcept.text"<br>
b) name: "issuingMethod.valueCodeableConcept.text" - is this legal? issuingMethod appears only in the type profile for SSN.</p>



<a name="153823859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823859">(Apr 29 2016 at 21:35)</a>:</h4>
<p>Effectively, without name:"sliceA.sliceB.C", slicing anything inside of an extension is ... hard?</p>



<a name="153823924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823924">(Apr 30 2016 at 02:50)</a>:</h4>
<p>I don't see why it's untenable</p>



<a name="153823925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823925">(Apr 30 2016 at 02:52)</a>:</h4>
<p>what is true is that the slice id is not in the path, so there' s a duality in the structure, in that something is implicit in the sturcture not explicit in the path (that's Chris's task). So I see how that's annoying but I don't see why that makes any genuine difference here - you slice the lower level like you slice anything else</p>



<a name="153823935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823935">(Apr 30 2016 at 06:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> I don't see the alternative.</p>



<a name="153823963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823963">(May 01 2016 at 01:27)</a>:</h4>
<p>The alternative is composing names as in my example (name:"SliceAName.SliceBName").</p>



<a name="153823965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823965">(May 01 2016 at 01:38)</a>:</h4>
<p>Maybe "untenable" is a bit strong...what it prevents is specialization of slices (such as my identifier example) where you might want to require an extension on one slice but not another.</p>



<a name="153823966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153823966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153823966">(May 01 2016 at 03:25)</a>:</h4>
<p>I think you're just commenting about the pathing issue, not the way things actually work</p>



<a name="153824082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824082">(May 01 2016 at 23:44)</a>:</h4>
<p>agree with <span class="user-mention" data-user-id="191351">@Chris Grenz</span>'s last comment. this is the exact scenario I'm talking about and I just don't see how to implement it</p>



<a name="153824083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824083">(May 01 2016 at 23:44)</a>:</h4>
<p>"where you might want to require something on one slice, but not another"</p>



<a name="153824084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824084">(May 01 2016 at 23:44)</a>:</h4>
<p>definitely need a concrete example of sub-slices</p>



<a name="153824085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824085">(May 01 2016 at 23:45)</a>:</h4>
<p>otherwise I'm going to have to implement it the best way I see, which is to use path'd names (ex: "SliceA.SliceB"), until I get a clear understanding of how to handle this</p>



<a name="153824086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824086">(May 01 2016 at 23:46)</a>:</h4>
<p>I'd also argue that the flattened hierarchy of elements on a profile is making this much more difficult than it needs to be</p>



<a name="153824087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824087">(May 01 2016 at 23:46)</a>:</h4>
<p>if ElementDefinition could contain "children:ElementDefinition", then I think we would save a great deal of implementation logic trying to figure out where things belong</p>



<a name="153824093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824093">(May 02 2016 at 02:27)</a>:</h4>
<p>well that last idea is definitely just moving the issue around </p>



<a name="153824094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824094">(May 02 2016 at 02:29)</a>:</h4>
<p>if I'm going to write an example, it needs to be a useful real world example. Where's an example of where you slice something inside a slice differently per slice? </p>



<a name="153824154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824154">(May 02 2016 at 14:38)</a>:</h4>
<p>Real world I've got:  slicing Patient.identifier by system and then requiring a particular extension in one slice but not another.</p>



<a name="153824155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824155">(May 02 2016 at 14:39)</a>:</h4>
<p>This is possible now only by slicing by @profile with type profiles for each identifier slice...</p>



<a name="153824156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824156">(May 02 2016 at 14:56)</a>:</h4>
<p>Yah. I'd agree with that real-world scenario.</p>



<a name="153824158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824158">(May 02 2016 at 14:58)</a>:</h4>
<p>Another could be having a patient with two slices for contact, where one slice has a sub-slice for address of X, and another slice has address of Y</p>



<a name="153824159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824159">(May 02 2016 at 15:01)</a>:</h4>
<p>another could be a MedicationAdministration that has two slices for dosage, where one dosage has a slice for site to be from X value set, and the other has a slice for site to be from Y value set</p>



<a name="153824172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824172">(May 02 2016 at 18:26)</a>:</h4>
<p>I'll work on them tonight</p>



<a name="153824360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824360">(May 03 2016 at 16:43)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , any update on this?</p>



<a name="153824361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824361">(May 03 2016 at 16:44)</a>:</h4>
<p>sorry, I didn't get to it - the character thing distracted me. I'll do it this afternoon.</p>



<a name="153824383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824383">(May 03 2016 at 20:06)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I look forward to seeing it (from the edge of my seat LOL)</p>



<a name="153824466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824466">(May 04 2016 at 14:17)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , any update on this? :)</p>



<a name="153824471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824471">(May 04 2016 at 14:37)</a>:</h4>
<p>sigh. just too mcuh going on....</p>



<a name="153824480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824480">(May 04 2016 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Give me a hint and I'll take a shot - you can just verify.</p>



<a name="153824657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153824657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153824657">(May 05 2016 at 14:40)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , can you give <span class="user-mention" data-user-id="191351">@Chris Grenz</span>  and I hint (as he says)? I'm going to have to implement a solution here, but would prefer to have at least a "generally correct" implementation, so that I don't have to completely re-write this logic later</p>



<a name="153825373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153825373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153825373">(May 07 2016 at 20:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> Here's my attempt following a discussion with <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> .  He'll have to verify when he gets a moment (HL7 working group meeting in progress this week).</p>
<p><a href="https://github.com/chrisgrenz/FHIR-Primer/wiki/Slice-within-Slice-DSTU2" target="_blank" title="https://github.com/chrisgrenz/FHIR-Primer/wiki/Slice-within-Slice-DSTU2">https://github.com/chrisgrenz/FHIR-Primer/wiki/Slice-within-Slice-DSTU2</a></p>



<a name="153884962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153884962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153884962">(Apr 18 2017 at 09:58)</a>:</h4>
<p>I need to slice my complex extension, ie reslice. <a href="https://www.hl7.org/fhir/profiling.html" target="_blank" title="https://www.hl7.org/fhir/profiling.html">https://www.hl7.org/fhir/profiling.html</a> says I should call my slices <code>originalSlice/newSlice</code> per <a href="https://www.hl7.org/fhir/profiling.html" target="_blank" title="https://www.hl7.org/fhir/profiling.html">https://www.hl7.org/fhir/profiling.html</a>:</p>
<blockquote>
<p>there's a need to reference both the name of the original slice from Profile B as well as to define a name for the slice defined within Profile C. This is done by separating the names using "/"</p>
</blockquote>
<p>But <code>eld-16</code> limits <code>sliceName</code> to exclude forward slashes: <code>^[a-zA-Z0-9\\-\\_]+$</code></p>
<p>Who is incorrect here, the profiling page or the constraint?</p>



<a name="153884964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153884964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153884964">(Apr 18 2017 at 10:16)</a>:</h4>
<p>I think that the profiling page is correct, reslice name separator is defined as a forward slash. So I guess the eld-16 invariant needs to be updated.</p>



<a name="153884997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153884997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153884997">(Apr 18 2017 at 15:39)</a>:</h4>
<p>Ouch.  Please submit a change request.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - is this something we need to get out in the technical correction?</p>



<a name="153885018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153885018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153885018">(Apr 18 2017 at 20:58)</a>:</h4>
<p>yes</p>



<a name="153885048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sub-slices/near/153885048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sub-slices.html#153885048">(Apr 19 2017 at 03:00)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13217" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13217">GF#13217</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
