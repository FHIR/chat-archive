---
layout: page
title: "FHIR Chat  · $everything with _type · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html">$everything with _type</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216362949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216362949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216362949">(Nov 11 2020 at 15:51)</a>:</h4>
<p><code>Patient/[id]/$everything?_type=Observation</code></p>
<p>Does it return the Patient resource and Observations, or just the Observations? The spec says _type defines the "resource types to include" which could potentially be read either way.</p>



<a name="216368592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216368592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216368592">(Nov 11 2020 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="216369357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216369357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216369357">(Nov 11 2020 at 16:43)</a>:</h4>
<p>(This operation is written by patient administration; <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> do you have a perspective on this?)</p>



<a name="216369543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216369543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216369543">(Nov 11 2020 at 16:45)</a>:</h4>
<p>When I read <a href="http://build.fhir.org/patient-operation-everything.html">http://build.fhir.org/patient-operation-everything.html</a>, "FHIR resource types to include" would seem to be a restriction, so asking for <code>_type=Observation</code> would give you Observations but not Patients. My interpretation may be colored by the <a href="http://build.fhir.org/ig/HL7/bulk-data/export/index.html">language in bulk export</a> where we say "The response SHALL be filtered to only include resources of the specified resource types(s)".</p>



<a name="216370487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216370487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216370487">(Nov 11 2020 at 16:52)</a>:</h4>
<p>I think this line should be clarified as well:</p>
<blockquote>
<ul>
<li>the server is responsible for determining what resources to return as included resources (rather than the client specifying which ones).</li>
</ul>
</blockquote>



<a name="216370964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216370964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216370964">(Nov 11 2020 at 16:56)</a>:</h4>
<p>Oh, I expect the ambiguity in that line results from a careful negotiation ;-)</p>



<a name="216384485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216384485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216384485">(Nov 11 2020 at 18:54)</a>:</h4>
<p>And was done before I got involved too.</p>



<a name="216415239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216415239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216415239">(Nov 12 2020 at 00:45)</a>:</h4>
<p>If thats the case, is <code>Patient/[id]/$everything?_type=Observation</code> just equivalent to a compartment search of just <code>Patient/[id]/Observation</code> or <code>Patient/[id]/*?_type=Observation</code>? I've so far thought the point of $everything was to include the Patient</p>



<a name="216415668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216415668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216415668">(Nov 12 2020 at 00:52)</a>:</h4>
<p>$everything typically includes more than just the strict compartment although the language is quite open-ended. "The server SHOULD return at least all resources that it has that are in the patient compartment for the identified patient(s), and any resource referenced from those" It's a little like a compartment search with _include=*.</p>



<a name="216422365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216422365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216422365">(Nov 12 2020 at 02:57)</a>:</h4>
<p>I'd think it would include the patient... Otherwise, why not just request <code>Observation?patient=[id]</code></p>



<a name="216422573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216422573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216422573">(Nov 12 2020 at 03:01)</a>:</h4>
<p>Maybe that's not the most interesting example. There isn't a single search that will give you $everything?_type=Observation,AllergyIntolerance,Schedule</p>



<a name="216475481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216475481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216475481">(Nov 12 2020 at 14:33)</a>:</h4>
<p>Yeah, based on reactions here, that more complex example is probably betters for evaluating this question. (My answer doesn't change.. )</p>



<a name="216490618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%24everything%20with%20_type/near/216490618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.24everything.20with.20_type.html#216490618">(Nov 12 2020 at 16:17)</a>:</h4>
<p>I think it's also worth noting that <code>$everything</code> can be information <em>related</em> to one or more patients.  So, if you ask for everything filtered for <code>_type=Encounter</code>, the operation can return encounters where a patient is listed as a participant:RelatedPerson (as opposed to <a href="https://www.hl7.org/fhir/compartmentdefinition-patient.html">Compartment Patient</a> which says to include encounters where the subject matches the patient).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
