---
layout: page
title: "FHIR Chat  · How to expand ValueSets with the C# FHIR API? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20expand.20ValueSets.20with.20the.20C.23.20FHIR.20API.3F.html">How to expand ValueSets with the C# FHIR API?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153910958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20expand%20ValueSets%20with%20the%20C%23%20FHIR%20API%3F/near/153910958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Munro <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20expand.20ValueSets.20with.20the.20C.23.20FHIR.20API.3F.html#153910958">(Sep 27 2017 at 12:00)</a>:</h4>
<p>I am trying to expand a ValueSet to get a list of the codes included in the set.</p>
<p>The C# API contains a method to expand ValueSets e.g.:</p>
<p>endpoint1 = "<a href="https://stu3.simplifier.net/open/" target="_blank" title="https://stu3.simplifier.net/open/">https://stu3.simplifier.net/open/</a>";<br>
 var client = new FhirClient(endpoint1);<br>
var expandedValueSet = client.ExpandValueSet(location, null);</p>
<p>I have been trying to do this with the QuestionnaireItemType ValueSet <a href="https://simplifier.net/core-vs-stu3/item-type" target="_blank" title="https://simplifier.net/core-vs-stu3/item-type">https://simplifier.net/core-vs-stu3/item-type</a><br>
So in the code above location="<a href="https://stu3.simplifier.net/open/ValueSet/043d233c-4ecf-4802-a4ac-75d82b4291c2" target="_blank" title="https://stu3.simplifier.net/open/ValueSet/043d233c-4ecf-4802-a4ac-75d82b4291c2">https://stu3.simplifier.net/open/ValueSet/043d233c-4ecf-4802-a4ac-75d82b4291c2</a>"</p>
<p>But I just get an error message back:</p>
<p>"Operation was unsuccessful, and returned status MethodNotAllowed. OperationOutcome: Overall result: FAILURE (1 errors and 0 warnings)\r\n\r\n[ERROR] (no details)(further diagnostics: Endpoint returned a body with contentType 'text/plain', while a valid FHIR xml/json body type was expected. Is this a FHIR endpoint?)\r\n"</p>
<p>I can't find any examples of using this successfully? Maybe one for <span class="user-mention" data-user-id="191336">@Michel Rutten</span>  or <span class="user-mention" data-user-id="191347">@Mirjam Baltus</span> ??</p>



<a name="153910961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20expand%20ValueSets%20with%20the%20C%23%20FHIR%20API%3F/near/153910961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20expand.20ValueSets.20with.20the.20C.23.20FHIR.20API.3F.html#153910961">(Sep 27 2017 at 12:24)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193298">@Chris Munro</span>, Simplifier does not (yet) support the value set expansion operation. Unfortunately, the returned status code misleading, the server should probably return "501 Not Implemented" (will be fixed). <br>
We are planning to implement support for value set expansion into Simplifier in the near future, albeit limited to relatively small value sets. For intensive valueset operations, you should always use a specialized terminology server.</p>



<a name="153910962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20expand%20ValueSets%20with%20the%20C%23%20FHIR%20API%3F/near/153910962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Munro <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20expand.20ValueSets.20with.20the.20C.23.20FHIR.20API.3F.html#153910962">(Sep 27 2017 at 12:30)</a>:</h4>
<p>Thanks for the reply <span class="user-mention" data-user-id="191336">@Michel Rutten</span></p>



<a name="153910964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20expand%20ValueSets%20with%20the%20C%23%20FHIR%20API%3F/near/153910964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20expand.20ValueSets.20with.20the.20C.23.20FHIR.20API.3F.html#153910964">(Sep 27 2017 at 12:32)</a>:</h4>
<p>Your C# logic should work against a server that supports the operation.</p>



<a name="153910973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20expand%20ValueSets%20with%20the%20C%23%20FHIR%20API%3F/near/153910973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20expand.20ValueSets.20with.20the.20C.23.20FHIR.20API.3F.html#153910973">(Sep 27 2017 at 13:23)</a>:</h4>
<p><span class="user-mention" data-user-id="193298">@Chris Munro</span> Try fhir test server. Should work there. <a href="http://test.fhir.org/r3/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/item-type" target="_blank" title="http://test.fhir.org/r3/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/item-type">http://test.fhir.org/r3/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/item-type</a></p>



<a name="153918949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20expand%20ValueSets%20with%20the%20C%23%20FHIR%20API%3F/near/153918949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20expand.20ValueSets.20with.20the.20C.23.20FHIR.20API.3F.html#153918949">(Nov 10 2017 at 23:06)</a>:</h4>
<p>If you're doing Questionnaire stuff, the <a href="http://sqlonfhir-stu3.azurewebsites.net/fhir" target="_blank" title="http://sqlonfhir-stu3.azurewebsites.net/fhir">http://sqlonfhir-stu3.azurewebsites.net/fhir</a> server has great validation specifically on Questionnaires and QuestionnaireResponses.</p>



<a name="153918950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20expand%20ValueSets%20with%20the%20C%23%20FHIR%20API%3F/near/153918950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20expand.20ValueSets.20with.20the.20C.23.20FHIR.20API.3F.html#153918950">(Nov 10 2017 at 23:07)</a>:</h4>
<p>(over and above the profile validation)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
