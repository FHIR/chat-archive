---
layout: page
title: "FHIR Chat  · custom search parameter · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html">custom search parameter</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154010435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010435">(Oct 19 2018 at 14:20)</a>:</h4>
<p>I can't figure out how to create custom search parameter that also includes definition/url in capability statement (I always only have name, type and documentation). Can someone point me into right direction?</p>



<a name="154010461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010461">(Oct 19 2018 at 15:02)</a>:</h4>
<p>Can you rephrase your question?  I'm not totally clear on what you're trying to do and where you're running into trouble.</p>



<a name="154010472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010472">(Oct 19 2018 at 15:12)</a>:</h4>
<p>Yes, of course. So in my ResourceProvider class I have a search method. There I have defined my search parameter:</p>
<div class="codehilite"><pre><span></span>public Bundle findMethod(@OptionalParam(name = SP_ENCOUNTER) @Description(formalDefinition = &quot;some description&quot;) ReferenceParam refParam) {}
</pre></div>


<p>Now this is using encounter as search parameter (SP_ENCOUNTER) that is part of DocumentReference. I can replace that with custom string and use that instead and efectively hava a custom search parameter. </p>
<p>Now the problem is, when I do that I would like do define that parameter a little bit better. What I get out of the box in my capability statement is something like this:</p>
<div class="codehilite"><pre><span></span>&quot;type&quot;: &quot;DocumentReference&quot;,
          &quot;profile&quot;: {
            &quot;reference&quot;: &quot;http://hl7.org/fhir/Profile/DocumentReference&quot;
          },
          &quot;interaction&quot;: [
            {
              &quot;code&quot;: &quot;search-type&quot;
            }
          ],
          &quot;searchParam&quot;: [
            {
              &quot;name&quot;: &quot;encounter&quot;,
              &quot;type&quot;: &quot;reference&quot;,
              &quot;documentation&quot;: &quot;some description&quot;
            },
</pre></div>


<p>Now if I use custom parameter its name will be there instead of encounter (and that is ok) but I am looking for a way to include definition (url) as well in that list and I can't find a way to do it (<a href="https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.searchParam.definition" target="_blank" title="https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.searchParam.definition">https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.searchParam.definition</a>)</p>



<a name="154010479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010479">(Oct 19 2018 at 15:50)</a>:</h4>
<p>I'm not understanding what's preventing you from adding searchParam.definition.  Is this an issue you're encountering with one of the reference implementations?  If so, which one?</p>



<a name="154010484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010484">(Oct 19 2018 at 16:33)</a>:</h4>
<p>Can you please give me an example of using searchParam.definition in my code above?</p>



<a name="154010485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010485">(Oct 19 2018 at 16:44)</a>:</h4>
<p>What code above?  What reference implementation are you using?</p>



<a name="154010486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010486">(Oct 19 2018 at 16:49)</a>:</h4>
<p>My bad. I am using hapi-fhir.</p>



<a name="154010488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010488">(Oct 19 2018 at 16:54)</a>:</h4>
<p>And so the issue is that within the searchParam object, you're not seeing a setter for "definition"?  What verion of FHIR are you working with?</p>



<a name="154010490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010490">(Oct 19 2018 at 17:03)</a>:</h4>
<p>I am not even sure how to use custom SearchParam which I have defined.</p>



<a name="154010491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010491">(Oct 19 2018 at 17:04)</a>:</h4>
<p>SearchParam has a setter for URL which I think in the end maps to definition.</p>



<a name="154010492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/154010492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#154010492">(Oct 19 2018 at 17:06)</a>:</h4>
<p>Right.  You actually have to host your custom search parameter somewhere in order for it to be referenced by the CapabilityStatement - someone querying the CapabilityStatement will also need to be able to query the Search Parameter.</p>



<a name="237666212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/237666212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brandon Cunningham <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#237666212">(May 06 2021 at 14:24)</a>:</h4>
<p>Morning, Trying to figure out how i can search for the following. <br>
I want to find all Encounters for a specific Location. I am trying a chained query but doesn't seem to work . Example : <a href="https://fhirserver.com/Encounter?subject:Location.name=ICU">https://fhirserver.com/Encounter?subject:Location.name=ICU</a></p>



<a name="237671059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/custom%20search%20parameter/near/237671059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/custom.20search.20parameter.html#237671059">(May 06 2021 at 14:52)</a>:</h4>
<p>The search parameter you want is <code>location</code>:  <a href="https://fhirserver.com/Encounter?location.name=ICU">https://fhirserver.com/Encounter?location.name=ICU</a> (<code>subject</code> is the patient) - but you have to check if the server implements it and supports chained searches</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
