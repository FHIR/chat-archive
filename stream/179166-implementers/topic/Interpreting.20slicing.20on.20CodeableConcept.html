---
layout: page
title: "FHIR Chat  · Interpreting slicing on CodeableConcept · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html">Interpreting slicing on CodeableConcept</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="270446812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270446812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270446812">(Feb 02 2022 at 19:50)</a>:</h4>
<p>Looking at <a href="http://build.fhir.org/ig/HL7/fhir-ips/StructureDefinition-Immunization-uv-ips.html">http://build.fhir.org/ig/HL7/fhir-ips/StructureDefinition-Immunization-uv-ips.html</a>, I had previously interpreted the slicing on vaccineCode to mean "there must be a single vaccineCode, with at most one value from Vaccines (GPS), at most one from ATC, and at most one from Absent/unknown, and any number of other codes" Thinking about it more carefully though, I'm understanding it as  "there must be a single vaccineCode, with at most one value from (GPS, ATC, or absent/unknown) , and any number of other codes." The difference between the two interpretations is that one allows for, e.g., both ATC and GPS values, while the other doesn't. Is my current interpretation correct?</p>



<a name="270448099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270448099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270448099">(Feb 02 2022 at 19:58)</a>:</h4>
<p>I'm not sure the UML says this, but the intent would seem to be, there SHALL be 1 .vaccineCode<br>
.vaccineCode.coding[] can contain up to 1 of value set X, up to 1 of value set Y, up to 1 of data absent + any other vaccine value sets.</p>



<a name="270482694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270482694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270482694">(Feb 03 2022 at 00:41)</a>:</h4>
<p>I think your first interpretation is correct, there will be exactly one instance of Immunization.vaccineCode</p>
<p>Reading the XML<br>
Immunization.vaccineCode - 1..1<br>
Immunization.vaccineCode:vaccineGPSCode - 0..1<br>
Immunization.vaccineCode:atcClass - 0..1<br>
Immunization.vaccineCode:absentOrUnknownImmunization - 0..1<br>
And the slicing is open so other values are allowed</p>



<a name="270494246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270494246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270494246">(Feb 03 2022 at 03:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191682">Richard Townley-O'Neill</span> <a href="#narrow/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept/near/270482694">said</a>:</p>
<blockquote>
<p>I think your first interpretation is correct, there will be exactly one instance of Immunization.vaccineCode</p>
<p>Reading the XML<br>
Immunization.vaccineCode - 1..1<br>
Immunization.vaccineCode:vaccineGPSCode - 0..1<br>
Immunization.vaccineCode:atcClass - 0..1<br>
Immunization.vaccineCode:absentOrUnknownImmunization - 0..1<br>
And the slicing is open so other values are allowed</p>
</blockquote>
<p>One vaccineCode, agree. But multiple vaccineCode.coding, at most one of which could be GPS, at most one of which could be ATC and at most one of which could be Absent/Unknown.<br>
Or one vaccineCode, multiple vaccineCode.coding, at most one of which could be (GPS,  ATC or Absent/Unknown)?</p>



<a name="270499622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270499622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270499622">(Feb 03 2022 at 04:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191380">Elliot Silver</span> <a href="#narrow/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept/near/270494246">said</a>:</p>
<blockquote>
<p>One vaccineCode, agree. But multiple vaccineCode.coding, at most one of which could be GPS, at most one of which could be ATC and at most one of which could be Absent/Unknown.</p>
</blockquote>
<p>oops! I agree with your new interpretation.<br>
Translations are allowed.<br>
Also, if Immunization.vaccineCode has codings that match more than one slice there will be a slicing error.</p>



<a name="270500169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270500169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270500169">(Feb 03 2022 at 04:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191682">Richard Townley-O'Neill</span> <a href="#narrow/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept/near/270499622">said</a>:</p>
<blockquote>
<p>Also, if Immunization.vaccineCode has codings that match more than one slice there will be a slicing error.</p>
</blockquote>
<p>That's what I'm getting at -- I can't say that the vaccineCode is X under GPS and Y under ATC. I'm only allowed to match a single slice. But I can say vaccineCode is X under GPS and Z under MyLocaleCodeSystem.</p>



<a name="270500194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270500194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270500194">(Feb 03 2022 at 04:45)</a>:</h4>
<p>To be able to say  the vaccineCode is X under GPS and Y under ATC, I need to slice at the coding level, not at the CodableConcept.</p>



<a name="270503880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270503880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270503880">(Feb 03 2022 at 05:47)</a>:</h4>
<p>I missed that, slicing a non-repeating element with only a single data type is sus. <br>
Slicing is designed for things that repeat.<br>
The slicing should be on the Coding.</p>



<a name="270505026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270505026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270505026">(Feb 03 2022 at 06:07)</a>:</h4>
<p>Right, but that's a pattern I'm seeing, due, I think to others having my original interpretation of the situation.</p>



<a name="270505115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Interpreting%20slicing%20on%20CodeableConcept/near/270505115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Interpreting.20slicing.20on.20CodeableConcept.html#270505115">(Feb 03 2022 at 06:09)</a>:</h4>
<p>Test examples are created too late.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
