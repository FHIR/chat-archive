---
layout: page
title: "FHIR Chat  · Canonical URIs and search · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URIs.20and.20search.html">Canonical URIs and search</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="167112972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URIs%20and%20search/near/167112972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URIs.20and.20search.html#167112972">(Jun 02 2019 at 08:54)</a>:</h4>
<p>While re-checking my understanding on FHIR references, and canonical URIs I found the relevant page in the spec, and noted some minor issues<br>
<a href="http://hl7.org/fhir/r4/references.html#canonical" target="_blank" title="http://hl7.org/fhir/r4/references.html#canonical">hl7.org/fhir/r4/references.html#canonical</a><br>
The way it is described is essentially how I expected for operations that use the URL parameter, and how the value is stored in instances. However the basic Search I think is misleading, and is instead describing how it works within an operation, not the generic search feature.</p>
<div class="codehilite"><pre><span></span>* Search only regards the latest version for each different logical id
</pre></div>


<p>This specific bullet point confused me, is that meant to be <code>returns</code>? In which case I disagree with it.<br>
If not then I think it's describing processing of the search results, which is the receiver. So is mixing client/server roles here.</p>



<a name="169387342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URIs%20and%20search/near/169387342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URIs.20and.20search.html#169387342">(Jul 01 2019 at 11:35)</a>:</h4>
<p>Reference search on canonicals in R4 is a bit unclear to us as well.<br>
Imagine in a FHIR server a StructureDefinition:<br>
- url = <a href="http://some.org/fhir/StructureDefinition/someprofile" target="_blank" title="http://some.org/fhir/StructureDefinition/someprofile">http://some.org/fhir/StructureDefinition/someprofile</a><br>
- title = "some title"<br>
- stored on the server at &lt;base&gt;/StructureDefinition/xyz</p>
<p>And a Patient<br>
- meta.profile = <a href="http://some.org/fhir/StructureDefinition/someprofile" target="_blank" title="http://some.org/fhir/StructureDefinition/someprofile">http://some.org/fhir/StructureDefinition/someprofile</a><br>
- stored on the server at &lt;base&gt;/Patient/123</p>
<p>Three searches:<br>
1. by url: &lt;base&gt;/Patient?_profile=http://some.org/fhir/StructureDefinition/someprofile<br>
2. by normal reference: &lt;base&gt;/Patient?_profile=&lt;base&gt;/StructureDefinition/xyz<br>
3. chained: &lt;base&gt;/Patient?_profile.title=some title<br>
My understanding:<br>
1. Should work (it already did so in STU3)<br>
2. Since _profile is now a SearchParameter with SearchParameterType=reference, this should <em>also</em> work.<br>
3. And for the same reason chaining should also be possible.<br>
Since 2 &amp; 3 are not trivial I want to check whether my understanding is correct.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
