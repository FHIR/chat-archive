---
layout: page
title: "FHIR Chat  · FHIR Error Responses - not informative, tips? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html">FHIR Error Responses - not informative, tips?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153948235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Error%20Responses%20-%20not%20informative%2C%20tips%3F/near/153948235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> William Capozzoli <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html#153948235">(Mar 26 2018 at 22:06)</a>:</h4>
<p>Hello,<br>
My issue fully documented here if you can view this:<br>
<a href="http://community.fhir.org/t/fhir-error-responses-finding-helpful-info-in-them/744" target="_blank" title="http://community.fhir.org/t/fhir-error-responses-finding-helpful-info-in-them/744">http://community.fhir.org/t/fhir-error-responses-finding-helpful-info-in-them/744</a></p>
<p>1. How to find useful information in the error response?<br>
2. Why is the error response slightly different (less useful) if I use fhir.js to make the CRUD request to <a href="http://fhirtest.uhn.ca" target="_blank" title="http://fhirtest.uhn.ca">fhirtest.uhn.ca</a>, versus when I use fhirtest.uhn.ca's UI (more helpful, see example below)</p>
<p>### Example<br>
<strong>Send a bad POST body using fhir.js to fhirtest.uhn</strong><br>
Send a reference with <code>12345/Practitioner</code> (incorrect) instead of <code>Practitioner/12345</code> (correct) then I get error:<br>
<code>Unprocessable Entity</code></p>
<p><strong>Send a bad POST body using the UI on fhirtest.uhn</strong><br>
Send a reference with <code>12345/Practitioner</code> (incorrect) instead of <code>Practitioner/12345</code> (correct) then I get error:<br>
<code>Error: HTTP 422 Unprocessable Entity: Invalid reference found at path 'PractitionerRole.practitioner'. Resource type '787132' is not valid for this path</code></p>
<p>^^ <em>much more helpful!!</em></p>



<a name="153948236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Error%20Responses%20-%20not%20informative%2C%20tips%3F/near/153948236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html#153948236">(Mar 26 2018 at 22:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> ?</p>



<a name="153948238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Error%20Responses%20-%20not%20informative%2C%20tips%3F/near/153948238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> William Capozzoli <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html#153948238">(Mar 26 2018 at 22:14)</a>:</h4>
<p>I tried logging every <code>key</code> in the response and <code>response[key]</code> (e.g. status, errors, headers) and tried <code>response.body</code> <code>response.data</code> but didn't have much success in finding anything useful. I guess I could log it recursively. Its a ton of metadata/http jargon that's not relevant. Been through a bunch of documentation and tried examining the HAPI FHIR source code. Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="153948322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Error%20Responses%20-%20not%20informative%2C%20tips%3F/near/153948322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html#153948322">(Mar 27 2018 at 08:21)</a>:</h4>
<p>I would be looking at fhir.js not HAPI for what's happening.  If you do this in a web browser like Chrome/Safari, then you can use the developer tools to inspect the actual network traffic.</p>



<a name="153948328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Error%20Responses%20-%20not%20informative%2C%20tips%3F/near/153948328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html#153948328">(Mar 27 2018 at 10:24)</a>:</h4>
<p>Agree with Michael. <span class="user-mention" data-user-id="195518">@William Capozzoli</span> can you check the Chrome developer console network tab to see what's actually being passed across the wire?</p>



<a name="153948907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Error%20Responses%20-%20not%20informative%2C%20tips%3F/near/153948907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> William Capozzoli <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html#153948907">(Mar 29 2018 at 00:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> its a request being made to our own back-end, which then makes a call to <a href="http://fhirtest.uhn.ca" target="_blank" title="http://fhirtest.uhn.ca">fhirtest.uhn.ca</a>. So its a huge body of data from front-end to back-end, and then from there the data gets transformed into fhir Resource objects which <a href="http://fhirtest.uhn.ca" target="_blank" title="http://fhirtest.uhn.ca">fhirtest.uhn.ca</a> can digest to make a bunch of fhir resources.</p>
<p>Ill look for the actual request, <strong>do you want to see Request Headers?</strong> </p>
<p>Though I think it was my backend-code causing the error in this situation, as opposed to the quality of the data being sent from front to back. To re-produce the error I just have to update some  backend code to mess up the EpisodeOfCare's reference to a practitioner (i.e. make it '12345/Practitioner' instead of 'Practitioner/12345'). Either way its the same '12345' value being sent from front to back.</p>
<p>So the call is not directly from my frontEnd to <a href="http://fhirtest.uhn.ca" target="_blank" title="http://fhirtest.uhn.ca">fhirtest.uhn.ca</a>, if that's what you were thinking.</p>



<a name="153948908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Error%20Responses%20-%20not%20informative%2C%20tips%3F/near/153948908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> William Capozzoli <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html#153948908">(Mar 29 2018 at 00:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> I'm seeing your response now. I guess I was sending the error response all the way back to the front-end so I could read it in the Network tab &gt; Preview/Response. Same info I was reading in the log on my back-end regarding failure to create the Resource in HAPI.</p>
<p>You said look to fhir.js to see what's happening, you mean to use this library to somehow inspect the response? Maybe i'm not following you here.</p>



<a name="153948909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Error%20Responses%20-%20not%20informative%2C%20tips%3F/near/153948909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> William Capozzoli <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Error.20Responses.20-.20not.20informative.2C.20tips.3F.html#153948909">(Mar 29 2018 at 00:12)</a>:</h4>
<p>Here are my <strong>request headers</strong> from Chrome Network tab. Maybe some of this is affecting the call that my back-end makes to HAPI?:</p>
<div class="codehilite"><pre><span></span>POST /claim HTTP/1.1
Host: localhost:3001
Connection: keep-alive
Content-Length: 1539
Pragma: no-cache
Cache-Control: no-cache
Origin: http://localhost:3000
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36
content-type: application/json
Accept: */*
Referer: http://localhost:3000/newclaim
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
</pre></div>


<p>and the <strong>response</strong>:</p>
<div class="codehilite"><pre><span></span>{
  &quot;status&quot;: 422,
  &quot;headers&quot;: {

  },
  &quot;config&quot;: {
    &quot;resource&quot;: {
      &quot;identifier&quot;: [
        {
          &quot;system&quot;: &quot;http:\/\/claimcdr.com\/claimid&quot;,
          &quot;value&quot;: &quot;SDF2-KMD3&quot;
        },
        {
          &quot;system&quot;: &quot;http:\/\/claimcdr.com\/claimfolder&quot;,
          &quot;value&quot;: &quot;019ab685-ec64-416a-9dc4-2495ae75088b&quot;
        }
      ],
      &quot;status&quot;: &quot;active&quot;,
      &quot;patient&quot;: {
        &quot;reference&quot;: &quot;1960729\/Patient&quot;
      },
      &quot;careManager&quot;: {
        &quot;reference&quot;: &quot;221712\/Practitioner&quot;
      },
      &quot;managingOrganization&quot;: {
        &quot;reference&quot;: &quot;601587\/Organization&quot;
      },
      &quot;resourceType&quot;: &quot;EpisodeOfCare&quot;
    },
    &quot;baseUrl&quot;: &quot;http:\/\/hapi.fhir.org\/baseDstu3&quot;,
    &quot;credentials&quot;: &quot;same-origin&quot;,
    &quot;headers&quot;: {
      &quot;Content-Type&quot;: &quot;application\/fhir+json&quot;,
      &quot;Accept&quot;: &quot;application\/json&quot;,
      &quot;Prefer&quot;: &quot;return=representation&quot;
    },
    &quot;data&quot;: &quot;{\&quot;identifier\&quot;:[{\&quot;system\&quot;:\&quot;http:\/\/claimcdr.com\/claimid\&quot;,\&quot;value\&quot;:\&quot;SDF2-KMD3\&quot;},{\&quot;system\&quot;:\&quot;http:\/\/claimcdr.com\/claimfolder\&quot;,\&quot;value\&quot;:\&quot;019ab685-ec64-416a-9dc4-2495ae75088b\&quot;}],\&quot;status\&quot;:\&quot;active\&quot;,\&quot;patient\&quot;:{\&quot;reference\&quot;:\&quot;1960729\/Patient\&quot;},\&quot;careManager\&quot;:{\&quot;reference\&quot;:\&quot;221712\/Practitioner\&quot;},\&quot;managingOrganization\&quot;:{\&quot;reference\&quot;:\&quot;601587\/Organization\&quot;},\&quot;resourceType\&quot;:\&quot;EpisodeOfCare\&quot;}&quot;,
    &quot;method&quot;: &quot;POST&quot;,
    &quot;url&quot;: &quot;http:\/\/hapi.fhir.org\/baseDstu3\/EpisodeOfCare&quot;,
    &quot;body&quot;: &quot;{\&quot;identifier\&quot;:[{\&quot;system\&quot;:\&quot;http:\/\/claimcdr.com\/claimid\&quot;,\&quot;value\&quot;:\&quot;SDF2-KMD3\&quot;},{\&quot;system\&quot;:\&quot;http:\/\/claimcdr.com\/claimfolder\&quot;,\&quot;value\&quot;:\&quot;019ab685-ec64-416a-9dc4-2495ae75088b\&quot;}],\&quot;status\&quot;:\&quot;active\&quot;,\&quot;patient\&quot;:{\&quot;reference\&quot;:\&quot;1960729\/Patient\&quot;},\&quot;careManager\&quot;:{\&quot;reference\&quot;:\&quot;221712\/Practitioner\&quot;},\&quot;managingOrganization\&quot;:{\&quot;reference\&quot;:\&quot;601587\/Organization\&quot;},\&quot;resourceType\&quot;:\&quot;EpisodeOfCare\&quot;}&quot;
  },
  &quot;error&quot;: {
    &quot;size&quot;: 0,
    &quot;timeout&quot;: 0
  }
}
</pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
