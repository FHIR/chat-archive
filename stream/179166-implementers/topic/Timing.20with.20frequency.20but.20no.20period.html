---
layout: page
title: "FHIR Chat  · Timing with frequency but no period · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html">Timing with frequency but no period</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230901639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/230901639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#230901639">(Mar 18 2021 at 17:03)</a>:</h4>
<p>In the <code>Timing</code> datatype, the  <code>repeat.frequency</code> element is defined with explicit reference to the period ("Event occurs frequency times per period"). However, there is no  constraint to prevent using <code>repeat.frequency</code>  without filling <code>repeat.period</code>, i.e. this would be a valid <code>Timing</code>:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
     <span class="nt">"repeat"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"frequency"</span><span class="p">:</span>  <span class="mi">5</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>For the opposite case (period but no frequency), the spec says an absent frequency is equivalent to "1". However, there is no "Meaning if Missing" for <code>repeat.period</code>. So what would smt. like the above example mean? Or it simply one of the "nonsensical timing specifications" that the documentation explicitly acknowledges is possible?</p>



<a name="230902171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/230902171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#230902171">(Mar 18 2021 at 17:06)</a>:</h4>
<p>Yes, I think it falls under the nonsensical timing specifications.  It seems that a "light hand" was taken when creating the constraints on this datatype.</p>



<a name="230902318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/230902318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#230902318">(Mar 18 2021 at 17:07)</a>:</h4>
<p>it could be interpreted "do 5 times at any time over the effective date range of the enclosing timing data element"</p>



<a name="230902622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/230902622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#230902622">(Mar 18 2021 at 17:09)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="192166">@Jean Duteau</span>, makes sense.</p>



<a name="230902751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/230902751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#230902751">(Mar 18 2021 at 17:10)</a>:</h4>
<p>If you'd like to make a change request for us to officially clarify that interpretation, that'd be a good thing <span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span></p>



<a name="230902831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/230902831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#230902831">(Mar 18 2021 at 17:10)</a>:</h4>
<p>Sort of :). That conflicts with repeat.count which be a more correct way of expressing "take 5 times at any time".</p>



<a name="230902917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/230902917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#230902917">(Mar 18 2021 at 17:11)</a>:</h4>
<p>Right, I was rather going with the "that would be a nonsesical timing" comment.</p>



<a name="230903124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/230903124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#230903124">(Mar 18 2021 at 17:12)</a>:</h4>
<p>I went looking at timeOfDay because I thought maybe you could say "take 2 times on Saturday, Tuesday, and Thursday" but the timeOfDay comments say that isn't allowed: "The elements frequency and period cannot be used as well as dayOfWeek"</p>



<a name="238168231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/238168231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arianne van de Wetering <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#238168231">(May 10 2021 at 16:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192166">Jean Duteau</span> <a href="#narrow/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period/near/230903124">said</a>:</p>
<blockquote>
<p>I went looking at timeOfDay because I thought maybe you could say "take 2 times on Saturday, Tuesday, and Thursday" but the timeOfDay comments say that isn't allowed: "The elements frequency and period cannot be used as well as dayOfWeek"</p>
</blockquote>
<p>This has been corrected in <a href="http://build.fhir.org/datatypes-definitions.html#Timing.repeat.timeOfDay">the current build</a>, following issues <a href="http://jira.hl7.org/browse/FHIR-25289">FHIR-25289</a> and <a href="http://jira.hl7.org/browse/FHIR-23710">FHIR-23710</a>.</p>
<p>However it now reads:</p>
<blockquote>
<p>When time of day is specified, it is inferred that the action happens every day (as filtered by dayofWeek) on the specified times. If there's a timeOfDay, there cannot be a when, or vice versa.</p>
</blockquote>
<p>I believe that the 'as filtered by dayofweek' is not complete, since you may also say: "Take 10:00 AM every other day", in which case it is not everyday either and frequency actually changes the repeat interval. Should we raise (another) issue to correct that?</p>
<p>Futhermore I believe it would be really helpful to implementers to expand the <a href="http://build.fhir.org/datatypes-examples.html#Timing">current example section</a> and the Table with most common use cases with at least the examples mentioned here and ideally some more.</p>



<a name="239118103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Timing%20with%20frequency%20but%20no%20period/near/239118103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Timing.20with.20frequency.20but.20no.20period.html#239118103">(May 17 2021 at 16:16)</a>:</h4>
<p>An example instance for the use case described by Arianne that does not seem to fit with the comment in the build version: </p>
<div class="codehilite" data-code-language="XML"><pre><span></span><code>      <span class="nt">&lt;timing&gt;</span>
         <span class="nt">&lt;repeat&gt;</span>
            <span class="nt">&lt;frequency</span> <span class="na">value=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;period</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;periodUnit</span> <span class="na">value=</span><span class="s">"d"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;timeOfDay</span> <span class="na">value=</span><span class="s">"10:00"</span><span class="nt">/&gt;</span>
         <span class="nt">&lt;/repeat&gt;</span>
      <span class="nt">&lt;/timing&gt;</span>
</code></pre></div>
<p>This timing instance should not be interpreted as "take every day at 10:00". Do we need to fill another ticket to improve the comment? Or are we missing something?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
