---
layout: page
title: "FHIR Chat  · Double Payloads · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Double.20Payloads.html">Double Payloads</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244737244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Double%20Payloads/near/244737244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maria Hu <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Double.20Payloads.html#244737244">(Jul 02 2021 at 17:56)</a>:</h4>
<p>I might have been ambiguous in how I posted my question "Bundle inside Bundle vs DocumentReference". I would like to re-phrase the question here:</p>
<p>In reference to my eForms project, each time when a form is submitted the eform API will generate an outbound R4 FHIR Bundle message with ENTRY resources like Patient, Practitioner, QuestionnaireResponse).We want to load this Bundle FHIR message into an Azure Cosmos db and be able to query the Bundle message as a whole.  <br>
One suggestion from our developer is to use ‘multiple payloads’, i.e. add a ‘master Bundle’ to embed this ‘eforms Bundle’ so that the original eforms Bundle can be wholly retrieved by end system, the master Bundle will just add on a MessageHeader to indicate the source and destination systems info etc.</p>
<p>Is this approach the best approach from FHIR standard point of view?  Or should we encode the whole eforms bundle into DocumentReference.content.attachment with contentType=FHIR?  Please advise, thanks.</p>



<a name="244738487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Double%20Payloads/near/244738487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Double.20Payloads.html#244738487">(Jul 02 2021 at 18:07)</a>:</h4>
<p>If you want a FHIR message to be just 'stored' (and not processed), post it to the Bundle endpoint.  To process the message and not (usually) store the Bundle, post it to the $process-message endpoint.  If you want both to happen, you'd need to negotiate with the endpoint to ask them to store the Bundle in addition to processing.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
