---
layout: page
title: "FHIR Chat  · sort order · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html">sort order</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153824559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolai Schwertner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824559">(May 04 2016 at 18:08)</a>:</h4>
<p>It looks like the "correct" sort order according to FHIR when requesting results with <code>_sort:asc=given</code> is not exactly intuitive.  The behavior if you search would be to map each patient to her alphabetically-earliest given name. So a patient with:</p>
<div class="codehilite"><pre>{
  &quot;name&quot;: [{
    &quot;given&quot;: [&quot;c&quot;, &quot;f&quot;,&quot;d&quot;]
  }, {
    &quot;given&quot;: [&quot;b, &quot;a&quot;]
  }]
}
</pre></div>


<p>would be sorted by <code>a</code> (in <code>asc</code> context) or <code>f</code> (in <code>desc</code> context).</p>
<p>Wouldn’t it make sense to have a mechanism for requesting a sort order that would be “natural” to human beings (i.e. sorted by <code>b a</code> in <code>asc</code> and <code>c f d</code> in <code>desc</code>)?</p>



<a name="153824563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824563">(May 04 2016 at 18:37)</a>:</h4>
<p>interesting. we've never talked about this </p>



<a name="153824586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824586">(May 04 2016 at 19:59)</a>:</h4>
<p>Wow, that is interesting.. I've never thought about this, but you're right, the way we do this would produce surprising results.</p>
<p>Doing this the "right way" would be hard though, at least for me.</p>



<a name="153824595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolai Schwertner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824595">(May 04 2016 at 21:06)</a>:</h4>
<p>Could we assume that the first name in a list of names is the preferred one and takes precedence when sorting(that would need to be in the spec however)? In the prior example applying this rule would mean sorting by <code>c f d b a</code>. Does this make any sense at all?</p>



<a name="153824596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824596">(May 04 2016 at 21:33)</a>:</h4>
<p>(FYI, this came up for us in designing a pretty straightforward FHIR-based patient selector widget -- and we realized it was hard to support with the standard API.)</p>



<a name="153824599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824599">(May 04 2016 at 22:13)</a>:</h4>
<p>Hmm... Does <code>c f d b a</code> make more sense, or <code>b c a f d</code>?</p>
<p>Is there any reason that the first repetition of the <code>name</code> (as opposed to the first repetition of <code>given</code>) carries more weight?</p>



<a name="153824600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824600">(May 04 2016 at 22:30)</a>:</h4>
<p>Shouldn't be :) </p>



<a name="153824602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824602">(May 04 2016 at 22:37)</a>:</h4>
<p>Should there be some consideration as to what use properties should be used?<br>
as described for what you should use in the display segment that I described for practitioner.<br>
<a href="http://hl7-fhir.github.io/practitioner-definitions.html#Practitioner.name" target="_blank" title="http://hl7-fhir.github.io/practitioner-definitions.html#Practitioner.name">http://hl7-fhir.github.io/practitioner-definitions.html#Practitioner.name</a><br>
This probably applies to patient also, and therefore maybe to the sort order.</p>



<a name="153824603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824603">(May 05 2016 at 00:59)</a>:</h4>
<p>It's an interesting point. But of course here, we're distinguishing between multiple instances of the same field (given, or family) even  within the same name. I hate the idea is special cases but they current behavior prevents the creation of a simple FHIR-powered  patient picker. </p>



<a name="153824606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824606">(May 05 2016 at 04:49)</a>:</h4>
<p>well, the most likely solutions seems like defining a new search parameter that only searches the first of the given names </p>



<a name="153824607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824607">(May 05 2016 at 04:49)</a>:</h4>
<p>but that fails when a patient actually uses their second given name</p>



<a name="153824730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824730">(May 05 2016 at 20:57)</a>:</h4>
<p>Would it make sense to say that when you're sorting by an element that's a collection, you're actually sorting by the string concatenation of those elements?</p>



<a name="153824737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824737">(May 05 2016 at 21:49)</a>:</h4>
<p>When you're sorting by a <strong>string</strong> element? Maybe, but I know in our server at least the sort code is tied into our indexing code, so we'd want consistent rules.</p>



<a name="153824970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824970">(May 07 2016 at 13:08)</a>:</h4>
<p>I'd like to see us define type equivalence/comparison rules for each of the types.  Similar issue applies when sorting by (or slicing by) CodeableConcepts...I'm unclear if/where this is defined?</p>



<a name="153824972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824972">(May 07 2016 at 13:08)</a>:</h4>
<p>sigh. we haven't</p>



<a name="153824973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824973">(May 07 2016 at 13:09)</a>:</h4>
<p>ok...that's one of my goals for this week mainly in the context of slicing.</p>



<a name="153824974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824974">(May 07 2016 at 13:10)</a>:</h4>
<p>well, slicing, it's narrower - the fixed value has to match</p>



<a name="153824975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824975">(May 07 2016 at 13:11)</a>:</h4>
<p>or the concept has to match</p>



<a name="153824977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824977">(May 07 2016 at 13:11)</a>:</h4>
<p>Anonymous slices....</p>



<a name="153824978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824978">(May 07 2016 at 13:11)</a>:</h4>
<p>what's an anonymous slice?</p>



<a name="153824989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824989">(May 07 2016 at 13:14)</a>:</h4>
<p>A bit in left field here...  There are times when we want to be able to dis-aggregate a list by some criteria but don't need to name or constrain any slice in particular.  We use this then to compare resources.  So I slice Encounter.participant by type.  We then know that type is the "primary key" for participants when moving them into a relational system or when merging instances (PATCH).</p>



<a name="153824993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sort%20order/near/153824993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sort.20order.html#153824993">(May 07 2016 at 13:17)</a>:</h4>
<p>Finally, another use case is defining a constraint to dis-allow redundant CodeableConcepts (e.g. Encounter.type).  What's a duplicate?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
