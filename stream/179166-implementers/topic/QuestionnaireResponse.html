---
layout: page
title: "FHIR Chat  · QuestionnaireResponse · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html">QuestionnaireResponse</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153847222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153847222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angelo Kastroulis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153847222">(Sep 13 2016 at 22:10)</a>:</h4>
<p>2 Questions...</p>
<p>1) The spec says: "A QuestionnaireResponse may be stand-alone or may point to the form that defines the questions in Questionnaire. In this second case, the linkage between the questions and groups in the two resources is established using the linkId element.” How would one find a specific answer without a concept for the item (as there is in the Questionnaire)?</p>
<p>Is a reasonable method of identifying the answers to use an extension on item and using a code representing the question? Wouldn’t it be better to have a concept in that item as well?</p>
<p>2) What is best practice on these questionnairs and IGs? I see that we can have many items in the QuestionnaireResponse, but do we do communicate that by constraining items for each question in the IG, or do we create profiles for each question, then reference them in the IG?</p>



<a name="153847231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153847231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153847231">(Sep 14 2016 at 00:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191582">@Angelo Kastroulis</span> If you don't have a linkage to a QuestionnaireResponse, then your ability to do much computation on the response beyond sharing it and rendering it is slim.  And in general, QuestionnaireResponses aren't designed to support searching for particular answers - they're a data capture tool.  If you want to do analysis, retrieval, decision support, etc., you'll probably want to migrate data from the QuestionnaireResponse into the appropriate other clinical/administrative resource.</p>
<p>Not really following your question about IGs.  Can you explain further?</p>



<a name="153847282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153847282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aleksandra Pavlyshina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153847282">(Sep 14 2016 at 16:19)</a>:</h4>
<p>I'm wondering why the <code>QuestionnaireResponse</code> resource does not have an answer of type <code>CodableConcept</code>?<br>
So that we could map the answer and keep the original answer at the same time.<br>
E.g. there is the question on one of our forms "Does the patient wish to attempt resuscitation?" and the answers are Yes / No (DNR).<br>
I wanted to represent the answer as <br>
<code>QuestionnaireResponse.item.text</code> = "Does the patient wish to attempt resuscitation?"<br>
<code>QuestionnaireResponse.item.answer.valueCodeableConcept.coding.system</code> = "<a href="http://hl7.org/fhir/ValueSet/v2-0136" target="_blank" title="http://hl7.org/fhir/ValueSet/v2-0136">http://hl7.org/fhir/ValueSet/v2-0136</a>"<br>
<code>QuestionnaireResponse.item.answer.valueCodeableConcept.coding.code</code> = "N"<br>
<code>QuestionnaireResponse.item.answer.valueCodeableConcept.coding.display</code> = "No"<br>
<code>QuestionnaireResponse.item.answer.valueCodeableConcept.text</code> = "No (DNR)"<br>
but found that QuestionnaireResponse does not have an answer of type CodableConcept. Now I'm not sure how to capture this answer. Do I need to use answer.valueString here?</p>



<a name="153847293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153847293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153847293">(Sep 14 2016 at 18:21)</a>:</h4>
<p>If you want to capture both a code and a string, use a nested question for the string.</p>



<a name="153847318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153847318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153847318">(Sep 15 2016 at 07:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191329">@Aleksandra Pavlyshina</span> I'm curious about your workflow to capture DNR, do you have a specific <code>Questionnaire</code> with a specific ID that patients fill out, then you're receiving a <code>QuestionnaireResponse</code> and that's it, or do you then proceed to create a <code>Consent</code> that captures that DNR?</p>



<a name="153847319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153847319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153847319">(Sep 15 2016 at 07:26)</a>:</h4>
<p>If you do the latter it seems to me that you could even simply use <code>valueBoolean</code> to capture the answer. If you don't process the responses I'm wondering how – via FHIR – you would discover the DNR.</p>



<a name="153850242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153850242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aleksandra Pavlyshina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153850242">(Sep 21 2016 at 16:42)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span>. Thank you for your response.<br>
 In our application, there is a form with the question <code>Does the patient wish to attempt resuscitation?</code> with Yes/No answers. At the moment they are Yes/No, so I can map them to the value set <a href="http://hl7.org/fhir/v2/0136/index.html" target="_blank" title="http://hl7.org/fhir/v2/0136/index.html">http://hl7.org/fhir/v2/0136/index.html</a> (v2 Yes/no Indicator). If 'No', then we will create the <code>Flag</code> resource and the <code>Consent</code> resource. I've suggested the mapping for the Consent resource to represent a DNR order in <a href="#narrow/near/36560/stream/implementers/topic/Consent.20Directive" title="#narrow/near/36560/stream/implementers/topic/Consent.20Directive">this Zulip conversation</a>.<br>
<a href="/user_uploads/10155/sdGhnZqNxeMP01n7wpXrbV6A/scr-21.09.2016_19-33-25.png" target="_blank" title="scr-21.09.2016_19-33-25.png">scr-21.09.2016_19-33-25.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/sdGhnZqNxeMP01n7wpXrbV6A/scr-21.09.2016_19-33-25.png" target="_blank" title="scr-21.09.2016_19-33-25.png"><img src="/user_uploads/10155/sdGhnZqNxeMP01n7wpXrbV6A/scr-21.09.2016_19-33-25.png"></a></div>



<a name="153857017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857017">(Nov 15 2016 at 21:22)</a>:</h4>
<p>There has been a change to QuesitonnaireResponse.Questionnaire to change the datatype from  reference to Uri. This means that always need to know where the Questionnaire came from, vs explicitly knowing where the renderer grabbed it from, and which version. Could this be in addition to rather than replacing?<br>
It would assist in diagnosing issues where a responses were coming in from an incorrect version of the Questionnaire.</p>



<a name="153857018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857018">(Nov 15 2016 at 21:22)</a>:</h4>
<p>(not a fan of this change)</p>



<a name="153857019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857019">(Nov 15 2016 at 21:27)</a>:</h4>
<p>The tracker number for this one is 10429 (I added my notes there too)<br>
<code>http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10429</code></p>



<a name="153857020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857020">(Nov 15 2016 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> also noted that the reference to ValueSets also could have this pattern (and I pointed out that ElementDefinition already has a pattern of using a choice pair of either the canonicalURI or a direct reference - which I really like)</p>



<a name="153857050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857050">(Nov 16 2016 at 00:17)</a>:</h4>
<p>Same thought here, in our (ResearchKit) use-case we don't care too much about a specific URI (because, technically, the Questionnaire can come from any of our Amazon instances) but the id of the Questionnaire is important. We (used to?) use a relative reference to the Questionnaire when returning the response.</p>



<a name="153857054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> wassim <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857054">(Nov 16 2016 at 01:33)</a>:</h4>
<p>hello, iam an IT engeneering student and iam new here with you ,my graduation's project topic is (conceiving and realising an IT systeme of healthcare ressources and administrative healthcare ressources , i was reading a little bit about the fhir hl7 and i want to use it but i didnt really understand so , please could you help me to know how its gonna work ( the database , the java developpement , the result.....etc) thank you  </p>



<a name="153857057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857057">(Nov 16 2016 at 02:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> <span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span>  - the intention is that we're moving to a canonical URL - so you can resolve the URL or you can look it up in whatever local/convenient Questionnaire repositories you wish - you don't have to resolve to a remote copy anymore.  I'm not really understanding how the change makes things harder.</p>



<a name="153857058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857058">(Nov 16 2016 at 02:53)</a>:</h4>
<p><span class="user-mention" data-user-id="192990">@wassim</span> I'd encourage you to start with the FHIR home page for the current draft.  From there, read the executive summary and the developer's, clinicians and architect's introductions.  As well, you can google "FHIR video" and find a number of presentations on FHIR to help get you up to speed.</p>



<a name="153857062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857062">(Nov 16 2016 at 03:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , using the explicit reference, I know exactly what was used, and can even include the version number from the questionnaire. With the canonical URI I need to encode versioning in that too (which is not explicit).<br>
(means if a form was generated on a draft of the form, then it can be identified more easily)<br>
Alternately permit both (or I'll be adding an extension to include it in my uses)</p>



<a name="153857064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857064">(Nov 16 2016 at 03:10)</a>:</h4>
<p>I think we need some improved documentation around how resource references are intended to work with "canonical" URLs.  Maybe "reference" can satisfy both use-cases after all.</p>



<a name="153857065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857065">(Nov 16 2016 at 03:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  -thoughts?</p>



<a name="153857066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857066">(Nov 16 2016 at 03:12)</a>:</h4>
<p>see task <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10576" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10576">GF#10576</a></p>



<a name="153857068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857068">(Nov 16 2016 at 03:13)</a>:</h4>
<p>The question is more about whether a "reference" can be resolved based on canonical URL to a local repository rather than its declared repository</p>



<a name="153857070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857070">(Nov 16 2016 at 03:14)</a>:</h4>
<p>I'm not sure I understand that question. you seem to be mixing canonical URL and reference</p>



<a name="153857072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857072">(Nov 16 2016 at 03:16)</a>:</h4>
<p>Questionnaire now has a canonical URL.  The QuestionnaireResponse is intended to point to that canonical URL (so independent of where the Questionnaire is actually stored).  The question is whether you can point to the canonical URL using "Reference" and expect systems to resolve it.</p>



<a name="153857076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857076">(Nov 16 2016 at 03:20)</a>:</h4>
<p>from <a href="http://build.fhir.org/references.html#2.18.0.4" target="_blank" title="http://build.fhir.org/references.html#2.18.0.4">http://build.fhir.org/references.html#2.18.0.4</a>:<br>
Systems resolving references to resources that might have cannonical URLs SHOULD first try to resolve the reference using the cannonical URL, and then fall back to direct resolution using the URL as a literal reference if a local version of the canonical resource cannot be found</p>



<a name="153857189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857189">(Nov 16 2016 at 10:28)</a>:</h4>
<p>It turns out I have a problem with this - I'm using contained Questionnaires in a few circumstances, and they have no canonical URL</p>



<a name="153857193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857193">(Nov 16 2016 at 10:38)</a>:</h4>
<p>Similar to Brian, I would also assume that I can resolve the Questionnaire that was used with a standard reference; the reference will be absolute if I don't create the response on the same server I got the Questionnaire from, so I'll have a canonical URL after all.</p>



<a name="153857197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857197">(Nov 16 2016 at 11:01)</a>:</h4>
<p>Well, I think <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> is saying that Questionnaire doesn't have the equivalent of <code>ValueSet.url</code></p>



<a name="153857198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857198">(Nov 16 2016 at 11:01)</a>:</h4>
<p>Which is true, and a pain I'm feeling, too</p>



<a name="153857199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857199">(Nov 16 2016 at 11:01)</a>:</h4>
<p>it does, but I'm not using it in all cases</p>



<a name="153857202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857202">(Nov 16 2016 at 11:01)</a>:</h4>
<p>... but are you saying that *if it did, you could link directly to it through <code>QuestionnaireResponse.questionnaire</code>**? </p>



<a name="153857203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857203">(Nov 16 2016 at 11:02)</a>:</h4>
<p>and I don't want to have to, just like I don't want to have to for ValueSet either</p>



<a name="153857207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857207">(Nov 16 2016 at 11:04)</a>:</h4>
<p>So to be clear, you'd be saying to remove the <code>url</code> property from ValueSet (and never add one to Questionnaire), and just use absolute URLs to link to things... and sometimes the absolute URL can be a canonical, if you want. </p>



<a name="153857208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857208">(Nov 16 2016 at 11:05)</a>:</h4>
<p>no. I'm saying, leave the URL as 0..1, and leave references as choice (uri / Reference) like w do with ValueSet</p>



<a name="153857209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857209">(Nov 16 2016 at 11:05)</a>:</h4>
<p>But would canonical URLs need to resolve (i.e. to be de-referenceable)?</p>



<a name="153857210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857210">(Nov 16 2016 at 11:05)</a>:</h4>
<p>they can. and should</p>



<a name="153857211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857211">(Nov 16 2016 at 11:06)</a>:</h4>
<p>so you'd be saying, rename <code>QuestionnaireResponse.questionnaire</code> to <code>QuestionnaireResponse.questionnaire[x]</code>, which is either <code>questionnaireReference</code> or <code>questionnaireUri</code>?</p>



<a name="153857216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857216">(Nov 16 2016 at 11:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> If the Questionnaires are contained, you can't really reference them at all - there's no way to reference contained references from outside the containing resource.  I don't understand why we would make url 0..1 for Questionnaire when it's 1..1 for StructureDefinition</p>



<a name="153857217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857217">(Nov 16 2016 at 11:19)</a>:</h4>
<p>I think QuestionnaireResponse.questionnaire can go back to being Reference.  The change to uri was intended to support canonical references, which is already supported by Reference.</p>



<a name="153857218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857218">(Nov 16 2016 at 11:19)</a>:</h4>
<p>it is 0..1. Like value set. if the questionnaire is contained in a questionnaireResponse, you can referenced from the response. but you can reference contained resources from outside the contained resource</p>



<a name="153857219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857219">(Nov 16 2016 at 11:25)</a>:</h4>
<p>How do you reference contained resources from outside the contained resource?  I thought the whole point of containing was that you weren't *supposed* to reference them from outside the containing resource.</p>



<a name="153857220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857220">(Nov 16 2016 at 11:25)</a>:</h4>
<p>Why is ValueSet 0..1 and StructureDefinition 1..1?</p>



<a name="153857229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857229">(Nov 16 2016 at 11:51)</a>:</h4>
<p><a href="http://hl7.org/fhir/Questionnaire/qs1#vs2" target="_blank" title="http://hl7.org/fhir/Questionnaire/qs1#vs2">http://hl7.org/fhir/Questionnaire/qs1#vs2</a></p>



<a name="153857231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857231">(Nov 16 2016 at 11:52)</a>:</h4>
<p>I don't really know why they're different. I presume we've found use cases for embedded value sets but not for profiles</p>



<a name="153857233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857233">(Nov 16 2016 at 11:54)</a>:</h4>
<p>I don't understand why we would want to allow referencing a contained resource.  If it's sufficiently identifiable that we want to make it referencable, why isn't it stand-alone?</p>



<a name="153857234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857234">(Nov 16 2016 at 11:54)</a>:</h4>
<p>And why can't we put a canonical URL on a contained resource?</p>



<a name="153857236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857236">(Nov 16 2016 at 12:01)</a>:</h4>
<p>you can put a canonical URL on a contained resource, but now you have to make it unique. And also, you can't make it contained anymore, because there's no reference to it </p>



<a name="153857237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857237">(Nov 16 2016 at 12:02)</a>:</h4>
<p>you might want to reference a contained resource for the same resource you reference a historical version of a resource. And I can reference a contained resource without being identifiable. that's a different problem</p>



<a name="153857344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857344">(Nov 16 2016 at 18:20)</a>:</h4>
<p>Have we landed the recommendation?  <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10429" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10429">GF#10429</a> is already applied, so we should probably log a new gForge to make another change (and PCWG meets tomorrow to squeeze in a quick vote.)  Is the only change requested here that QuestionnaireResponse.questionnaire should be a choice of either reference or uri?  </p>



<a name="153857351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857351">(Nov 16 2016 at 19:52)</a>:</h4>
<p>I think we just change it back to reference.  There's no need for URI.  (URI is needed on value set because you want to be able to point to web pages for things like language codes and mime types, but it makes no sense to support that for Questionnaire.)</p>



<a name="153857364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857364">(Nov 16 2016 at 20:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , since you logged the original <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10429" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10429">GF#10429</a>, can you simply withdraw it -- or does PC need to vote on a new tracker item to revert back to reference only?</p>



<a name="153857372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857372">(Nov 16 2016 at 21:13)</a>:</h4>
<p>I think once a change is approved, it's inappropriate to withdraw a request (though I'm not aware of a formal rule).  I think it'd be best to have a change tracker to revisit the item.</p>



<a name="153857373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857373">(Nov 16 2016 at 21:13)</a>:</h4>
<p>Or even just a revote on the existing one.</p>



<a name="153857379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857379">(Nov 16 2016 at 21:23)</a>:</h4>
<p>OK, I'll plan to revote on the existing one then.</p>



<a name="153857396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> wassim <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857396">(Nov 17 2016 at 00:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> thank you for the encouragement , i have just a small question the access of users  on the hapi Fhir will be from a browser or from an software that i have to develop , and secondly what is the smart on fhir ,, thanks again and sorry if my questions are dumm</p>



<a name="153857397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857397">(Nov 17 2016 at 01:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> The link <a href="http://hl7.org/fhir/Questionnaire/qs1#vs2" target="_blank" title="http://hl7.org/fhir/Questionnaire/qs1#vs2">http://hl7.org/fhir/Questionnaire/qs1#vs2</a> gives me a 404 - File not found </p>



<a name="153857398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857398">(Nov 17 2016 at 01:57)</a>:</h4>
<p>.. in which we find that I still haven't resolved making the fhir  specification an instance of itself in every regard</p>



<a name="153857399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857399">(Nov 17 2016 at 02:02)</a>:</h4>
<p>What should this lead me to? I guess somewhere in <a href="http://hl7.org/fhir/questionnaire.html" target="_blank" title="http://hl7.org/fhir/questionnaire.html">http://hl7.org/fhir/questionnaire.html</a> </p>



<a name="153857400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857400">(Nov 17 2016 at 02:04)</a>:</h4>
<p>actually, I just got a resource that is not in the published version. This URL:<br>
<a href="http://hl7.org/fhir/Questionnaire/gcs#motor" target="_blank" title="http://hl7.org/fhir/Questionnaire/gcs#motor">http://hl7.org/fhir/Questionnaire/gcs#motor</a></p>



<a name="153857402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857402">(Nov 17 2016 at 02:14)</a>:</h4>
<p>Ta</p>



<a name="153857408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857408">(Nov 17 2016 at 04:37)</a>:</h4>
<p><span class="user-mention" data-user-id="192990">@wassim</span> HAPI is a Java implementation of FHIR, so typically you would use it to construct a stand-alone application.  You can find information about SMART on FHIR here: <a href="http://smarthealthit.org/smart-on-fhir/" target="_blank" title="http://smarthealthit.org/smart-on-fhir/">http://smarthealthit.org/smart-on-fhir/</a></p>



<a name="153857593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857593">(Nov 18 2016 at 00:02)</a>:</h4>
<p>FYI - Patient Care approved the change to revert back to having QuestionnaireResponse.questionnaire be a Reference (Questionnaire).  The change (reverting back to prior state) has been applied.</p>



<a name="153857641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153857641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153857641">(Nov 18 2016 at 06:16)</a>:</h4>
<p>Thanks Michelle</p>



<a name="153858329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153858329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Wand <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153858329">(Nov 23 2016 at 16:46)</a>:</h4>
<p>Is there a requirement or expectation that a QuestionnaireResponse have the same structure as the Questionnaire that it refers to? I'm thinking specifically of having a Questionnaire that has some structure (using item.type = group) but a QuestionnaireResponse that is a flat list of items and relies solely on the link-ids to handle connecting them.</p>



<a name="153858333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153858333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153858333">(Nov 23 2016 at 17:02)</a>:</h4>
<p>We had discussed this before, and while the expectation is indeed that the response mirrors the hierarchy of the questionnaire, some (including myself) only care about linkId and are using a somewhat flat representation. Lloyd is on vacation so he will only be able to retaliate in 2 weeks. ;)</p>



<a name="153858370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153858370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153858370">(Nov 24 2016 at 07:50)</a>:</h4>
<p>what I think we said is that in simple cases, a flat questionnaireresponse can be properly linked, but once you have nested repeating structures, it can't. So we recommended following the structure, knowing that in most cases, you'll have to</p>



<a name="153858587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153858587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153858587">(Nov 27 2016 at 10:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span> a big thanks for that rollback<br>
As for the flattening <span class="user-mention" data-user-id="191559">@Chris Wand</span> , it makes things so much easier to parse an validate when the tree is complete.</p>



<a name="153860777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153860777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153860777">(Dec 05 2016 at 18:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191559">@Chris Wand</span> <span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> I'm back.  And I think the expectation is that the response must exactly mirror the structure of the questionnaire - though of course you can omit optional elements.  If that's not explicit, it should be.  I've added <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12430" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12430">GF#12430</a></p>



<a name="153912067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153912067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anna Lackerbauer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153912067">(Oct 03 2017 at 14:06)</a>:</h4>
<p>Hello! What is the appropriate answer-type in a QuestionnaireResponse if the Question of the Questionnaire is of type CHOICE with options set to a Reference(ValueSet)? Should it be of type Coding that is generated from the chosen system and code of the ValueSet? Thanks a lot, Anna</p>



<a name="153912095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153912095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153912095">(Oct 03 2017 at 19:23)</a>:</h4>
<p>Yes - as per <a href="http://hl7.org/fhir/questionnaire.html#2.38.5.5" target="_blank" title="http://hl7.org/fhir/questionnaire.html#2.38.5.5">http://hl7.org/fhir/questionnaire.html#2.38.5.5</a></p>



<a name="153968069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153968069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Smithen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153968069">(Jun 08 2018 at 16:45)</a>:</h4>
<p>Trying to read through the documentation and getting a bit confused.  Is there a FHIR rest call that allows me to query the list of available questionnaireresponse's for a given patientId.</p>



<a name="153968083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153968083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153968083">(Jun 08 2018 at 18:04)</a>:</h4>
<p>[base]/QuestionnaireResponse?patient.identifier=1234</p>



<a name="153968084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153968084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153968084">(Jun 08 2018 at 18:05)</a>:</h4>
<p>If you want to filter by Questionnaire as well:<br>
[base]/QuestionnaireResponse?patient.identifier=1234&amp;questionnaire.url=[escaped url]</p>



<a name="153968102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153968102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lucas Smithen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153968102">(Jun 08 2018 at 19:30)</a>:</h4>
<p>Now would that give me the actual the QuestionnaireResponses including the values/responses or just the meta data of which ones are available?</p>



<a name="153968107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153968107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153968107">(Jun 08 2018 at 20:13)</a>:</h4>
<p>that would give you actual responses. Try <a href="http://test.fhir.org/r3/QuestionnaireResponse?patient=example&amp;_format=json" target="_blank" title="http://test.fhir.org/r3/QuestionnaireResponse?patient=example&amp;_format=json">http://test.fhir.org/r3/QuestionnaireResponse?patient=example&amp;_format=json</a></p>



<a name="153968118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/153968118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#153968118">(Jun 08 2018 at 20:28)</a>:</h4>
<p>what part is confusing in the docs?</p>



<a name="172037775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172037775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172037775">(Jul 30 2019 at 13:32)</a>:</h4>
<p>I notice that QuestionaireResponse can be used INDEPENDENTLY of the Questionnaire resource, which is very interesting, as many systems have their own pre-existing approaches to generating questionnaires but may want to save the output in a common easily interpretable format before tackling building in Questionnaire resource functionality to their applications.</p>
<p>It looks to me like it essentially represents a set of key-value pairs between the "text" and "answer" elements. Is this a correct interpretation of its intention?</p>
<p>If I wanted to include a coded version of the question (i.e.g, the "text" element), would that be best done with an extension on the code value? (or, an extension on the display value... or some other option).</p>



<a name="172038661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172038661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Ramsay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172038661">(Jul 30 2019 at 13:44)</a>:</h4>
<p>I believe 'item.text' can be used to record the textual label of the question. <br>
QuestionnaireResponse seems to have a lot of value as a method of recording key/value pairings (linkId/answer) in data transmission use cases with a messaging paradigm.</p>
<p>My hope is that if designed well, there shouldn't be an obstacle to implementing the standardized questionnaire after the fact.</p>



<a name="172044553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172044553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172044553">(Jul 30 2019 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="202753">@Geoff Ramsay</span> I think that linkID is reserved for the ID of a field in a Questionnaire resource, rather than putting an ID/code for the question in the response itself. It looks to me like the text (which i'm interpreting as the display text for the question) would have to be treated as the question ID.</p>
<p>Although, another option might be to use the "item.definition" (which is a url) as the question ID ...?</p>



<a name="172045910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172045910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Ramsay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172045910">(Jul 30 2019 at 14:58)</a>:</h4>
<p>Hmm... all the examples seem to use linkId as a fairly deterministic value, based on it's position in the message... (i.e. "linkID": "1" / "linkId":"1.1" / "linkId":"2")<br>
I suppose I took it for granted that I could define those Ids as whatever I wanted - maybe that's not he intent? But linkId is just a string... so why not! <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>
<p>If the linkIds are the actual field values of the data I want to transmit, it saves a mapping step.</p>
<p>{<br>
      "resource": {<br>
        "resourceType": "QuestionnaireResponse",<br>
        "id": "1",<br>
        "text": {<br>
          "status": "generated",<br>
          "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;p&gt;[example]&lt;/p&gt;&lt;/div&gt;"<br>
        },<br>
        "status": "completed",<br>
        "subject": {<br>
          "reference": "Patient/1",<br>
          "type": "Patient"<br>
        },<br>
        "authored": "2019-07-19T14:15:00+10:00",<br>
        "author": {<br>
          "reference": "Practitioner/00000000001",<br>
          "type": "Practitioner"<br>
        }, <br>
        "item": [<br>
          {<br>
            "linkId": "Question1",<br>
            "text": "Label for Question1",<br>
            "answer": [<br>
              {<br>
                "valueString": "3"<br>
              }<br>
            ]<br>
          },<br>
          {<br>
            "linkId": "Question2",<br>
            "text": "Label for Question2",<br>
            "answer": [<br>
              {<br>
                "valueString": "2009-07-12"<br>
              }<br>
            ]<br>
          }, <br>
          {<br>
            "linkId": "Question3",<br>
            "text": "Label for Question3",<br>
            "answer": [<br>
              {<br>
                "valueString": "aasdaf"<br>
              }<br>
            ]<br>
          }, </p>
<div class="codehilite"><pre><span></span>    ]
  }
</pre></div>



<a name="172045914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172045914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172045914">(Jul 30 2019 at 14:58)</a>:</h4>
<p>A QuestionnaireResponse can sort of stand on its own.  You do depend on meaningful linkId values to have a hope of doing anything computable with the results.  And all of the "rules" about what's mandatory/optional/conditional, what the allowed values are, etc. only appears in the Questionnaire.</p>



<a name="172045998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172045998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172045998">(Jul 30 2019 at 14:59)</a>:</h4>
<p>linkIds can be whatever you like - they could be guids if you wished.  The key thing is that every linkId corresponds to a single unique item within the Questionnaire.</p>



<a name="172047344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172047344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172047344">(Jul 30 2019 at 15:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> if a QuestionnaireRespons is being used in a standalone manner apart from a FHIR Questionnaire (for example, referencing back to a system's own internal approach to questionnaires) would it make sense to use the linkId to reference how that system identifies the item? Or must it be a linkID of a FHIR Questionnaire by definition?</p>



<a name="172047584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172047584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172047584">(Jul 30 2019 at 15:18)</a>:</h4>
<p>It should be whatever would make sense as the linkId if you were to ever expose the questionnaire definition as a Questionnaire.</p>



<a name="172048080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172048080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172048080">(Jul 30 2019 at 15:24)</a>:</h4>
<p>Sounds like a good guiding principle, thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="172879423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/172879423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#172879423">(Aug 09 2019 at 18:58)</a>:</h4>
<p>If I'm using questionnaireResponse in a workflow without the use of Questionnaire, i notice that there are TWO options for providing nested answers.<br>
1) questionnaireResponse.item.answer.item<br>
2) questionnaireResponse.item.item</p>
<p>Is it fair to say that conceptually:</p>
<p>option 1) is can be used when you have sub-questions/items that are dependant on the answer to the parent question/item?<br>
option 2) the questionnaireResponse.item.text can behave as a "header" to a group of questions contained in the questionResponse.item.item</p>
<p>?</p>



<a name="173041595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/173041595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#173041595">(Aug 12 2019 at 17:17)</a>:</h4>
<p><span class="user-mention" data-user-id="193959">@Tim Berezny</span>   See <a href="#narrow/stream/179255-questionnaire/topic/QuestionnaireResponse.20item.2Eitem.20vs.20item.2Eanswer.2Eitem" title="#narrow/stream/179255-questionnaire/topic/QuestionnaireResponse.20item.2Eitem.20vs.20item.2Eanswer.2Eitem">https://chat.fhir.org/#narrow/stream/179255-questionnaire/topic/QuestionnaireResponse.20item.2Eitem.20vs.20item.2Eanswer.2Eitem</a> which might answer your question.</p>



<a name="173042598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/173042598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#173042598">(Aug 12 2019 at 17:28)</a>:</h4>
<p>Yes that answers it thanks <span class="user-mention" data-user-id="195344">@Paul Lynch</span></p>



<a name="175330642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/175330642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#175330642">(Sep 10 2019 at 12:33)</a>:</h4>
<p>We created a little web app for processing and displaying items in a QuestionnaireResponse (which is INDEPENDENT of a corresponding Questionnaire). You can put any QuestionnaireResponse into the box and it will give you a nice screen formatted human-readable version of the results. We've got a couple sample payloads in there to test out with, you can also put your own in here. </p>
<p>If you're interested in QuestionnaireResponse please give it a try and let me know how it works for you and any feedback you might have, I think it might be a useful tool for the community! Also, if you have some interesting sample payloads send them over and I can pre-load them into the set of sample payloads.</p>
<p>Give it a try here:<br>
<a href="https://questionnaireresponse-parser.herokuapp.com/" target="_blank" title="https://questionnaireresponse-parser.herokuapp.com/">https://questionnaireresponse-parser.herokuapp.com/</a></p>



<a name="175331000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/175331000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#175331000">(Sep 10 2019 at 12:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191478">@Oliver Egger</span></p>



<a name="188477038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188477038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Ramsay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188477038">(Feb 18 2020 at 18:24)</a>:</h4>
<p>We've been having a lot of fun with QuestionnaireResponse in the Canadian eReferral space!</p>
<p>But, the description of the qrs-1 business invariant has tripped a few of us up.<br>
"Nested item can't be beneath both item and answer" <br>
<a href="https://www.hl7.org/fhir/questionnaireresponse.html#invs" target="_blank" title="https://www.hl7.org/fhir/questionnaireresponse.html#invs">https://www.hl7.org/fhir/questionnaireresponse.html#invs</a></p>
<p>It's meant to indicate that an item cannot have both an 'item' and an 'answer ' as child nodes. [expression applying to item: '(answer.exists() and item.exists()).not()' ]. <br>
The current description doesn't convey that accurately.</p>
<p>Would the community support updating the  description of qrs-1 to be something like:<br>
'Item cannot contain both item and answer'</p>
<p>Some folks have also postulated a 'choice' here (<a href="https://www.hl7.org/fhir/formats.html#choice" target="_blank" title="https://www.hl7.org/fhir/formats.html#choice">https://www.hl7.org/fhir/formats.html#choice</a>), but both 'item' and 'answer' are multi-cardinality fields, so I believe that won't be possible.</p>



<a name="188489411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188489411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188489411">(Feb 18 2020 at 20:47)</a>:</h4>
<p>By all means, feel free to submit a change request for us to improve the language.  (And you're right, we can't have a choice - in addition to the cardinality issue, t's also not possible to have choices that include backbone elements.)</p>



<a name="188501934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188501934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188501934">(Feb 18 2020 at 23:25)</a>:</h4>
<p><span class="user-mention" data-user-id="202753">@Geoff Ramsay</span> the change requests can be submitted here: <a href="https://gforge.hl7.org/gf/account/" target="_blank" title="https://gforge.hl7.org/gf/account/">https://gforge.hl7.org/gf/account/</a></p>



<a name="188506782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188506782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188506782">(Feb 19 2020 at 00:48)</a>:</h4>
<p><span class="user-mention" data-user-id="193959">@Tim Berezny</span> Change requests shouldn't go to gForge any longer - we now use Jira (<a href="http://jira.hl7.org" target="_blank" title="http://jira.hl7.org">http://jira.hl7.org</a>)</p>



<a name="188558575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188558575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Ramsay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188558575">(Feb 19 2020 at 16:14)</a>:</h4>
<p>Thanks gentlemen - I created it this morning:<br>
<a href="https://jira.hl7.org/browse/FHIR-26356" target="_blank" title="https://jira.hl7.org/browse/FHIR-26356">https://jira.hl7.org/browse/FHIR-26356</a></p>



<a name="188561240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188561240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188561240">(Feb 19 2020 at 16:42)</a>:</h4>
<p>I think I would like to validate which of the following is actually intended to be the correct restriction for the questionnaireResponse (i.e., is the description bad, or the constraint expression wrong).<br>
<a href="https://www.hl7.org/fhir/questionnaireresponse.html#invs" target="_blank" title="https://www.hl7.org/fhir/questionnaireresponse.html#invs">https://www.hl7.org/fhir/questionnaireresponse.html#invs</a></p>
<ol>
<li><strong>Description</strong>: "Nested item can't be beneath both item and answer"</li>
<li><strong>Expression</strong>: "[expression applying to item: '(answer.exists() and item.exists()).not()' ]." <br>
Which means "Item cannot contain both item and an answer"</li>
</ol>
<p>(note that 1 is actually still technically true... but it is an implied restriction sub-restriction of 2)</p>
<p>Is the INTENTION of this restriction to be #1 or #2?</p>



<a name="188561628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188561628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188561628">(Feb 19 2020 at 16:46)</a>:</h4>
<p>I think #2, though that has ramifications for 'display' items</p>



<a name="188563245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188563245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188563245">(Feb 19 2020 at 17:04)</a>:</h4>
<p>By ramifications for "display" items, do you mean that technically a "display" item could technically have "grouping" functionality because it has no answer[x], thus you could put a sub item.item under a display text?</p>



<a name="188567846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188567846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188567846">(Feb 19 2020 at 17:55)</a>:</h4>
<p>If you have a question that has answers, that would preclude you from sending a nested display under the question as well</p>



<a name="188652677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188652677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188652677">(Feb 20 2020 at 16:18)</a>:</h4>
<p>When a QuestionnaireResponse is used independently of a Questionnaire, it seems to me that there is no method in a QuestionnaireResponse to distinguish between a group header and display text (note: in the narrative for QuestionnaireResponse it says that display text can be included). </p>
<p>Here are the 4 ways that a QuestionnaireResponse renderer can iterpret the data for user display (from my understanding):</p>
<ul>
<li><strong>Questions &amp; Answers</strong>: Use item.text for question, and item.answer for the answer (no item.item allowed)</li>
<li><strong>Nested Questions</strong>: Use item.text/item.answer[] for the parent question/answer, and put the nested question into item.answer[].item (no item.item allowed)</li>
<li><strong>Group Headers</strong> Use item.text for the header text, with a item.item to group items under that header (no item.answer allowed)</li>
<li><strong>Display Text</strong>: Use item.text for the display text, with a item.item to group items under that header (no item.answer allowed)</li>
</ul>
<p>The problem here is, "Group Headers" and "Display Text" have the exact SAME structure. How should we distinguish between header and display text in a QuestionnaireResponse (absent of a Questionnaire to reference?)</p>



<a name="188653416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188653416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188653416">(Feb 20 2020 at 16:28)</a>:</h4>
<p>A group header with no information beneath it doesn't functionally behave differently from display text.</p>



<a name="188654594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188654594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188654594">(Feb 20 2020 at 16:42)</a>:</h4>
<p>Ah yes, of course, re-worded:</p>
<p>Group Headers Use item.text for the header text, with a item.item to group items under that header (no item.answer allowed)<br>
Display Text: Use item.text for the display text (no item.item  and no item.answer allowed)</p>



<a name="188654741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188654741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188654741">(Feb 20 2020 at 16:44)</a>:</h4>
<p>And this means that display items can have sub-display items, which should be fine ... i can't think of a use case where you'd want to do that.</p>



<a name="188661990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188661990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188661990">(Feb 20 2020 at 18:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="193959">Tim Berezny</span> <a href="#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188654741" title="#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188654741">said</a>:</p>
<blockquote>
<p>And this means that display items can have sub-display items, which should be fine ... </p>
</blockquote>
<p>Actually, the <a href="https://www.hl7.org/fhir/valueset-item-type.html" target="_blank" title="https://www.hl7.org/fhir/valueset-item-type.html">definition</a> of type "display" says: "Text for display that will not capture an answer or have child items."  So, you can't have a display item that is a child of another display item.  Also, since display items can't have either answers or child items, I would not expect those to appear in a QuestionnaireResponse.</p>



<a name="188696209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188696209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188696209">(Feb 21 2020 at 01:17)</a>:</h4>
<p>Thanks, that's perfect <span class="user-mention" data-user-id="195344">@Paul Lynch</span></p>



<a name="188938280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188938280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188938280">(Feb 24 2020 at 15:55)</a>:</h4>
<p>After looking deeper into some of the descriptive language on QuestionnaireResponse (and getting thoroughly confused on each of these points), I have a few more text change suggestions but would like to ensure that what I have written is in fact correct for the intention of these fields before posting a change request. See screenshot for suggested changes. (note: #1 is the item for which <span class="user-mention" data-user-id="202753">@Geoff Ramsay</span> has already posted a change request, 2,3,4 are new proposals). </p>
<p><a href="/user_uploads/10155/fWRTvKqW7Jlbck4ctuMPH4q6/image.png" target="_blank" title="image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/fWRTvKqW7Jlbck4ctuMPH4q6/image.png" target="_blank" title="image.png"><img src="/user_uploads/10155/fWRTvKqW7Jlbck4ctuMPH4q6/image.png"></a></div><p><span class="user-mention" data-user-id="265258">@Tyson Louth</span> <span class="user-mention" data-user-id="223465">@Ion Moraru</span> <span class="user-mention" data-user-id="195344">@Paul Lynch</span> <span class="user-mention" data-user-id="202753">@Geoff Ramsay</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="188939245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188939245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188939245">(Feb 24 2020 at 16:06)</a>:</h4>
<p>I don't think we can do #4 - type isn't exposed in QuestionnaireResponse and rules need to be enforcable without looking outside the instance. <br>
For #2, stuff nested within a question might be groups or questions.  I think the proposed label would be misleading about that.  Same issue with #3 - the grouped stuff could also be groups.</p>



<a name="188941174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188941174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188941174">(Feb 24 2020 at 16:24)</a>:</h4>
<p>Also, regarding #4, items of type "display" would not be present, so it could be confusing to create a rule about what they can't contain.  I think change #1 is good, though.</p>



<a name="188941531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188941531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188941531">(Feb 24 2020 at 16:28)</a>:</h4>
<p>How about this:<br>
#2. Nested questions and groups<br>
#3. Grouped questions and groups<br>
#4. I see your point. Would it be fair to include something to this effect in the narrative rather than the tree.</p>
<p>I think using a mirrored descriptive text for #2 item.answer.item #3 item.item helps clarify the difference between the two.</p>



<a name="188941788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188941788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188941788">(Feb 24 2020 at 16:31)</a>:</h4>
<p>(deleted)</p>



<a name="188942756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188942756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188942756">(Feb 24 2020 at 16:41)</a>:</h4>
<p>I think  of "Grouped" as a kind of "Nested", so I am not sure that is as clear as it might be.  How about:<br>
#2:  Sub-questions and groups under a question<br>
#3:  Questions and sub-groups within a group</p>



<a name="188944494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188944494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188944494">(Feb 24 2020 at 16:59)</a>:</h4>
<p>Yes, i also think of them similarly too... which I think is the source of a lot of confusion because they are treated differently and distinct. A "Group" is a specific thing in that it has an item type of its own in the questionnaire, and has a "group label/header". </p>
<p>The concept of nested vs. grouped (or some other terminology) may need to be made explicitly in the questionnaire/questionnaireResponse narrative</p>
<p>Although, I see you've abandoned the language of "nested" questions entirely, and substituted it with the word "Sub", which may be naturally more distinct in people's minds than "nested". In fact, in our office we had actually naturally gravitated to that word too...</p>
<p>A slight modification to <span class="user-mention" data-user-id="195344">@Paul Lynch</span> 's proposed wording<br>
#2: <strong>Sub-</strong>questions and sub-groups under a question<br>
#3: Questions and sub-groups within a group</p>



<a name="188946472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188946472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188946472">(Feb 24 2020 at 17:22)</a>:</h4>
<p>I'm happy with the revised proposal - can you submit a change request <span class="user-mention" data-user-id="193959">@Tim Berezny</span>?</p>



<a name="188964937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188964937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#188964937">(Feb 24 2020 at 20:55)</a>:</h4>
<p>We've created a useful little QuestionnaireResponse formatter, with some sample payloads to try rendering QuestionnaireResponse resources (without a corresponding Questionnaire). If anybody has some QuestionnaireResponse resources you'd like to play with, please copy-paste them into the box at the top of the page and let me know if they show up the way you would expect them to. We've found this to be useful already in helping integrating parties to a) understand the QuestionnaireResponse resource and b) ensure both parties are interpreting it the same way.</p>
<p>Here is the app, would love to hear any feedback.<br>
<a href="https://questionnaireresponse-parser.herokuapp.com/" target="_blank" title="https://questionnaireresponse-parser.herokuapp.com/">https://questionnaireresponse-parser.herokuapp.com/</a></p>



<a name="189845640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/189845640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#189845640">(Mar 05 2020 at 22:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="195344">Paul Lynch</span> <a href="#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188661990" title="#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188661990">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="193959">Tim Berezny</span> <a href="#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188654741" title="#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/188654741">said</a>:</p>
<blockquote>
<p>And this means that display items can have sub-display items, which should be fine ... </p>
</blockquote>
<p>Actually, the <a href="https://www.hl7.org/fhir/valueset-item-type.html" target="_blank" title="https://www.hl7.org/fhir/valueset-item-type.html">definition</a> of type "display" says: "Text for display that will not capture an answer or have child items."  So, you can't have a display item that is a child of another display item.  Also, since display items can't have either answers or child items, I would not expect those to appear in a QuestionnaireResponse.</p>
</blockquote>
<p>There was just a change to this in issue <a href="http://jira.hl7.org/browse/FHIR-25949" target="_blank" title="http://jira.hl7.org/browse/FHIR-25949">J#25949</a>.  Now display items can (but might not) appear in the QuestionnaireResponse, except that there is an extension somewhere which you will be able to use to require that they do.</p>



<a name="197149667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/197149667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Armin Griebler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#197149667">(May 11 2020 at 14:04)</a>:</h4>
<p>Hello, I have got a question about the linkage between QuestionnaireResponse and Questionnaire.  Therefore, I use the item "questionnaire" to make a reference to the resource Questionnaire. It looks something like this: "questionnaire" : "Questionnaire/1234".  Although my fhir server considers both resources as valid it does not recognize the linkage between them.  Is this an issue due to the server or could that be a structural issue within my resources, although they are valid?</p>



<a name="197151329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/197151329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#197151329">(May 11 2020 at 14:16)</a>:</h4>
<p>That should be a canonical URL (and not a reference), with the same value as Questionniare.url</p>



<a name="197194063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/197194063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#197194063">(May 11 2020 at 19:37)</a>:</h4>
<p>Rene is correct - you can't use 'local' references in a Canonical</p>



<a name="197252255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/QuestionnaireResponse/near/197252255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Armin Griebler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/QuestionnaireResponse.html#197252255">(May 12 2020 at 09:37)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191372">@René Spronk</span> and <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> for your quick answers!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
