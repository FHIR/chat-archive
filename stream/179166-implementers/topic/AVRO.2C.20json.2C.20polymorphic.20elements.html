---
layout: page
title: "FHIR Chat  · AVRO, json, polymorphic elements · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html">AVRO, json, polymorphic elements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153870179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870179">(Feb 06 2017 at 05:36)</a>:</h4>
<p>*ideomatic polymorphics encoding* in AVRO  (unions in it's terms) - <a href="http://avro.apache.org/docs/1.8.1/spec.html#json_encoding" target="_blank" title="http://avro.apache.org/docs/1.8.1/spec.html#json_encoding">http://avro.apache.org/docs/1.8.1/spec.html#json_encoding</a>. I think, it will be quite easy to add avro to FHIR</p>



<a name="153870181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870181">(Feb 06 2017 at 06:26)</a>:</h4>
<p>well, that would be the long form with the type name instead of the value name. Interestingly, that's exactly how the json-ld form does it, and it was always my preference. But we were assured that no one who understood json would ever do that </p>



<a name="153870182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870182">(Feb 06 2017 at 06:26)</a>:</h4>
<p>too late to change now</p>



<a name="153870219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870219">(Feb 06 2017 at 07:26)</a>:</h4>
<p>May be add new json/v2 format, so we do not break existing codebase?</p>



<a name="153870223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870223">(Feb 06 2017 at 07:49)</a>:</h4>
<p>json-ld is a new format for that reason. have you looked at it?</p>



<a name="153870227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870227">(Feb 06 2017 at 08:08)</a>:</h4>
<p>Yes, it looks much better than current json format :) </p>



<a name="153870236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870236">(Feb 06 2017 at 08:56)</a>:</h4>
<p>I like it too, but I don't think it's got legs. Committee says that we'll let people look at it and think</p>



<a name="153870314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870314">(Feb 06 2017 at 16:43)</a>:</h4>
<p>Why doesn't it have legs (and if it doesn't: why do you like it <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>)?</p>



<a name="153870339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870339">(Feb 06 2017 at 19:24)</a>:</h4>
<p>I just don't think there's interest in changing the existing json format, and while I like the json-ld format for it's regularity against the underlying FHIR model, it's more complicated on the surface. </p>



<a name="153870340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870340">(Feb 06 2017 at 19:25)</a>:</h4>
<p>also, its more verbose because we have to qualify the element names - this will change when the next version of json-ld allows redefinition of names in contexts based on scope. </p>



<a name="153870341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870341">(Feb 06 2017 at 19:25)</a>:</h4>
<p>probably R4 for us</p>



<a name="153870355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870355">(Feb 06 2017 at 19:53)</a>:</h4>
<p>I will predict interest, when people will try to really implement at least FHIR storage in  databases with native support of json  :)</p>



<a name="153870357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870357">(Feb 06 2017 at 19:55)</a>:</h4>
<p>however the json-ld format is... ruined... by the RDF world's refusal to do lists properly</p>



<a name="153870359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870359">(Feb 06 2017 at 19:59)</a>:</h4>
<p>The is some concern for me - there are a lot of nice formats - like edn, yaml, avro - most of them are suppersets of json and it would be good to support all of them - at least give some guidelines to deduce such formats from <code>good</code> json</p>



<a name="153870360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870360">(Feb 06 2017 at 19:59)</a>:</h4>
<p>Define support - everyone should be able to communicate and understand them?</p>



<a name="153870362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870362">(Feb 06 2017 at 20:01)</a>:</h4>
<p>We need some rules to deduce and serve json-like formats. Most of them could degrade to json.</p>



<a name="153870364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870364">(Feb 06 2017 at 20:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191363">@Vadim Peretokin</span> modern web understands and communicates this formats well :)</p>



<a name="153870365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870365">(Feb 06 2017 at 20:06)</a>:</h4>
<p>And this is in the heart of REST arch style - decouple representation from information</p>



<a name="153870366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870366">(Feb 06 2017 at 20:07)</a>:</h4>
<p>Well I'm out of my depth here because the modern web changes its opinion on an annual basis</p>



<a name="153870368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870368">(Feb 06 2017 at 20:08)</a>:</h4>
<p>Not too quickly - yaml here for about 10 years, edn - 7, avro  and graphql are very perspective</p>



<a name="153870369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870369">(Feb 06 2017 at 20:10)</a>:</h4>
<p>That's just when they were created. When they are fashionable and no longer fashionable is the problem :P </p>



<a name="153870370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870370">(Feb 06 2017 at 20:13)</a>:</h4>
<p>I do not agree - xml is archaic, json is too add-hock - time requires well-designed formats! The best from my point of view is edn.</p>



<a name="153870468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AVRO%2C%20json%2C%20polymorphic%20elements/near/153870468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AVRO.2C.20json.2C.20polymorphic.20elements.html#153870468">(Feb 07 2017 at 10:40)</a>:</h4>
<p>Won't argue with xml and json, that is true, but the topic started out about adding AVRO and now edn is the best...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
