---
layout: page
title: "FHIR Chat  · Validator error? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html">Validator error?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="171452984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171452984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171452984">(Jul 22 2019 at 18:01)</a>:</h4>
<p>I'm not certain if here or conformance or implementers is the best place to post these issues.  I assume the IG validator is the same as the core validator so I will start here.</p>



<a name="171453117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171453117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171453117">(Jul 22 2019 at 18:03)</a>:</h4>
<p>1) AllergyIntolerance The clinical status can be absent if verification status is 'entered in error'. based on this invariant:</p>
<blockquote>
<p>ait-1  Rule    AllergyIntolerance.clinicalStatus SHALL be present if verificationStatus is not entered-in-error.   verificationStatus='entered-in-error' or clinicalStatus.exists()<br>
ait-2  Rule    AllergyIntolerance.clinicalStatus SHALL NOT be present if verification Status is entered-in-error   verificationStatus!='entered-in-error' or clinicalStatus.empty()</p>
</blockquote>



<a name="171453279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171453279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171453279">(Jul 22 2019 at 18:05)</a>:</h4>
<p>in this example the validator raises an error:... <a href="https://healthedata1.github.io/USCoreR4Validator/AllergyIntolerance-6267833.json.html" target="_blank" title="https://healthedata1.github.io/USCoreR4Validator/AllergyIntolerance-6267833.json.html">https://healthedata1.github.io/USCoreR4Validator/AllergyIntolerance-6267833.json.html</a></p>



<a name="171453344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171453344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171453344">(Jul 22 2019 at 18:06)</a>:</h4>
<p>where the verification status is 'entered in error' and clnical status is empty.</p>



<a name="171453393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171453393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171453393">(Jul 22 2019 at 18:07)</a>:</h4>
<p>I think in the expression <code>verificationStatus='entered-in-error'...</code>  should be  <code>verificationStatus.code='entered-in-erro'r...</code></p>



<a name="171454127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171454127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171454127">(Jul 22 2019 at 18:16)</a>:</h4>
<p>also when this error appears...</p>
<div class="codehilite"><pre><span></span>[Unsupported system https://fhir.blah.blah.blah system is not specified or implicit]
</pre></div>



<a name="171454162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171454162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171454162">(Jul 22 2019 at 18:17)</a>:</h4>
<p>Does that only mean that GG's terminology server doesn't recognize the system?</p>



<a name="171464873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171464873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171464873">(Jul 22 2019 at 20:27)</a>:</h4>
<blockquote>
<p>I think in the expression <code>verificationStatus='entered-in-error'...</code>  should be  <code>verificationStatus.code='entered-in-erro'r...</code></p>
</blockquote>
<p>Actually, I think you need something more like this:</p>
<div class="codehilite"><pre><span></span>verificationStatus.coding.exists(code = &#39;entered-in-error&#39;) or clinicalStatus.exists()
</pre></div>


<p>It also accounts for the (likely rare?) case of <code>verificationStatus</code> having multiple <code>coding</code>s defined.</p>



<a name="171479303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171479303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171479303">(Jul 23 2019 at 00:11)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22985" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22985">GF#22985</a>, and <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22986" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22986">GF#22986</a>  (for Condition)  <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span>  These are R4 Technical Corrections and should be voted and FHIR-I and GG alerted.</p>



<a name="171521919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171521919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171521919">(Jul 23 2019 at 14:10)</a>:</h4>
<p>I've added to Patient Care's agenda on Thursday</p>



<a name="171598880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171598880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171598880">(Jul 24 2019 at 11:48)</a>:</h4>
<p>how would I know, from these tasks, that they are R4 tasks? <span class="user-mention" data-user-id="191401">@Eric Haas</span> I would not find them. <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> how should committees flag them?</p>



<a name="171599174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171599174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171599174">(Jul 24 2019 at 11:53)</a>:</h4>
<p>Target release of r4 (or stu3? Weren't sure if we're patching that too)</p>



<a name="171764913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/171764913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#171764913">(Jul 26 2019 at 11:02)</a>:</h4>
<p>we'll be a doing an R3 patch too, though only fixing broken invariants, I think</p>



<a name="180140069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180140069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deepak Poply <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180140069">(Nov 07 2019 at 15:01)</a>:</h4>
<p>Hi All,</p>
<p>I'm trying to validate a Patient resource downloaded from FHIR site and getting below mentioned error</p>
<p>FHIR Validator Build ??<br>
Arguments: C:\Users\dpoply\patient-example.json<br>
  .. connect to tx server @ <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">http://tx.fhir.org</a><br>
  .. definitions from hl7.fhir.core#4.0.1<br>
Installing hl7.fhir.core#4.0.1 to the package cache<br>
  Fetching:|<br>
  Analysing done.<br>
    (v4.0.1-null)<br>
  .. validate [C:\Users\dpoply\patient-example.json]<br>
<em>FAILURE</em> validating C:\Users\dpoply\patient-example.json:  error:1 warn:0 info:0<br>
  Fatal @ Patient (line 1, col2) : This does not appear to be a FHIR resource (unknown name 'Patient')</p>
<p>Please help.</p>
<p>Regards,<br>
Poply</p>



<a name="180144387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180144387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180144387">(Nov 07 2019 at 15:43)</a>:</h4>
<p>Can you attach the instance from your machine?</p>



<a name="180170078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180170078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180170078">(Nov 07 2019 at 20:05)</a>:</h4>
<p>that's an old validator</p>



<a name="180170124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180170124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180170124">(Nov 07 2019 at 20:05)</a>:</h4>
<p>update to the latest</p>



<a name="180177916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180177916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180177916">(Nov 07 2019 at 21:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Do we know why the R4 FHIR spec continues to point to the old validator?</p>



<a name="180178267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180178267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180178267">(Nov 07 2019 at 21:32)</a>:</h4>
<p>it should not. If it does, it's because I haven't found the reference</p>



<a name="180178713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180178713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180178713">(Nov 07 2019 at 21:37)</a>:</h4>
<p>Downloads page validator link</p>



<a name="180178736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180178736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180178736">(Nov 07 2019 at 21:38)</a>:</h4>
<p>where exactly?</p>



<a name="180178852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180178852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180178852">(Nov 07 2019 at 21:39)</a>:</h4>
<p>The one that says "official fhir validtor" points to something on <a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">hl7.org/fhir</a> rather than the <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a> version</p>



<a name="180179021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/180179021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#180179021">(Nov 07 2019 at 21:40)</a>:</h4>
<p>hmm that reverted during the technical correction</p>



<a name="185028596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/185028596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#185028596">(Jan 07 2020 at 16:45)</a>:</h4>
<p>Wasn't sure if I should create a new topic for this, but I'm seeing what I think is an issue with the validator.</p>
<p>Running: <code>java -jar org.hl7.fhir.validator.jar allergy.json -ig hl7.fhir.us.core -version 4.0</code></p>
<p>Against this example resource: <a href="/user_uploads/10155/MRAZJuPfaLb3BmIqQ4tBQEeF/allergy.json" target="_blank" title="allergy.json">allergy.json</a> </p>
<p>I get</p>
<div class="codehilite"><pre><span></span>java -jar org.hl7.fhir.validator.jar allergy.json -ig hl7.fhir.us.core -version <span class="m">4</span>.0
FHIR Validation tool Version <span class="m">4</span>.1.41-SNAPSHOT <span class="o">(</span>Git# bdab9a78b39a<span class="o">)</span>. Built <span class="m">2019</span>-12-31T14:32:35.701+11:00 <span class="o">(</span><span class="m">7</span> days old<span class="o">)</span>
Detected Java version: <span class="m">1</span>.8.0_222 from /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre on x86_64 <span class="o">(</span>64bit<span class="o">)</span>. 3641MB available
Arguments: allergy.json -ig hl7.fhir.us.core -version <span class="m">4</span>.0
Directories: <span class="nv">Current</span> <span class="o">=</span> /Users/radamson/Desktop, Package <span class="nv">Cache</span> <span class="o">=</span> /Users/radamson/.fhir/packages
  .. FHIR Version <span class="m">4</span>.0, definitions from hl7.fhir.r4.core#4.0.1
  .. connect to tx server @ http://tx.fhir.org
    <span class="o">(</span>v4.0.1<span class="o">)</span>
+  .. load IG from hl7.fhir.us.core
   ... Using version <span class="m">3</span>.1.0
  .. validate <span class="o">[</span>allergy.json<span class="o">]</span>
Terminology server: Check <span class="k">for</span> supported code systems <span class="k">for</span> http://fhir.whatever.com/codes/AllergyClinicalStatus
*FAILURE* validating allergy.json:  error:1 warn:0 info:0
  Error @ AllergyIntolerance.clinicalStatus <span class="o">(</span>line <span class="m">8</span>, col16<span class="o">)</span> : None of the codes provided are in the value <span class="nb">set</span> http://hl7.org/fhir/ValueSet/allergyintolerance-clinical<span class="p">|</span><span class="m">4</span>.0.1 <span class="o">(</span>http://hl7.org/fhir/ValueSet/allergyintolerance-clinical, and a code from this value <span class="nb">set</span> is required<span class="o">)</span> <span class="o">(</span><span class="nv">codes</span> <span class="o">=</span> http://fhir.whatever.com/codes/AllergyClinicalStatus#active, http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical#active<span class="o">)</span>
</pre></div>


<p>If I remove one of Codings from the clinicalStatus CodeableConcept, leaving only one Coding it passes.  This is the second resource for convenience <a href="/user_uploads/10155/CLEXdiieZ4tMkRzozHHBF0b9/allergy2.json" target="_blank" title="allergy2.json">allergy2.json</a>.</p>
<p>I would expect <code>allergy.json</code> to pass even with the extra Codings in the CodeableConcept as the <a href="http://hl7.org/fhir/R4/terminologies.html#required" target="_blank" title="http://hl7.org/fhir/R4/terminologies.html#required">required binding only requires that one of the Coding values SHALL be from the specified value set</a>.</p>
<p>Am I doing or thinking about something wrong here?  Happy to provide more information or test further.</p>



<a name="185028864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/185028864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#185028864">(Jan 07 2020 at 16:47)</a>:</h4>
<p>Yes, that seems like an error in the validator.  Can you submit a change request?</p>



<a name="185050221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/185050221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#185050221">(Jan 07 2020 at 20:16)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-25424" target="_blank" title="https://jira.hl7.org/browse/FHIR-25424">FHIR-25424 created to track this</a></p>



<a name="185282907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validator%20error%3F/near/185282907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validator.20error.3F.html#185282907">(Jan 10 2020 at 05:08)</a>:</h4>
<p>ok thanks. fixed next release</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
