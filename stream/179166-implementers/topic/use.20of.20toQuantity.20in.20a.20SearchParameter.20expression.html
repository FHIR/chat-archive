---
layout: page
title: "FHIR Chat  · use of toQuantity in a SearchParameter expression · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20of.20toQuantity.20in.20a.20SearchParameter.20expression.html">use of toQuantity in a SearchParameter expression</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="201791229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20of%20toQuantity%20in%20a%20SearchParameter%20expression/near/201791229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20of.20toQuantity.20in.20a.20SearchParameter.20expression.html#201791229">(Jun 23 2020 at 22:19)</a>:</h4>
<p>I'm brainstorming potential solutions for <a href="http://jira.hl7.org/browse/FHIR-25174">FHIR#25174</a> and I had a couple questions about search parameter expressions:</p>
<ol>
<li>Is there any rule (formal or informal) that all core searchparameters must have both an xpath and a fhirpath expression?</li>
<li>Is there any rule (formal or informal) that all core searchparameters fhirpath expressions must be limited to "SimplePath" (a simple subset of FHIRPath)?</li>
</ol>



<a name="201791423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20of%20toQuantity%20in%20a%20SearchParameter%20expression/near/201791423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20of.20toQuantity.20in.20a.20SearchParameter.20expression.html#201791423">(Jun 23 2020 at 22:21)</a>:</h4>
<p>in this particular issue, the CDS group wanted to define a single search parameter which can search over their choice of either decimal (which maps to number) or Range (which maps to quantity) and so I was wondering if it might be possible to "cast" the decimal to a quantity within the search parameter expression</p>



<a name="201795298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20of%20toQuantity%20in%20a%20SearchParameter%20expression/near/201795298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20of.20toQuantity.20in.20a.20SearchParameter.20expression.html#201795298">(Jun 23 2020 at 23:03)</a>:</h4>
<p>The search engine would likely need to canonicalize the units so that comparison is actually possible in many cases.</p>



<a name="201796676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20of%20toQuantity%20in%20a%20SearchParameter%20expression/near/201796676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20of.20toQuantity.20in.20a.20SearchParameter.20expression.html#201796676">(Jun 23 2020 at 23:22)</a>:</h4>
<p>in this particular case the unit is fixed to <code>%</code></p>



<a name="201796699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20of%20toQuantity%20in%20a%20SearchParameter%20expression/near/201796699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20of.20toQuantity.20in.20a.20SearchParameter.20expression.html#201796699">(Jun 23 2020 at 23:22)</a>:</h4>
<p>which is why I thought it might be possible to do safely</p>



<a name="201796730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20of%20toQuantity%20in%20a%20SearchParameter%20expression/near/201796730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20of.20toQuantity.20in.20a.20SearchParameter.20expression.html#201796730">(Jun 23 2020 at 23:23)</a>:</h4>
<p>I think they would have used a decimal range instead of Quantity Range if there were such a type...</p>



<a name="201875732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20of%20toQuantity%20in%20a%20SearchParameter%20expression/near/201875732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20of.20toQuantity.20in.20a.20SearchParameter.20expression.html#201875732">(Jun 24 2020 at 17:08)</a>:</h4>
<p>at the request of committee, we opened a new issue <a href="http://jira.hl7.org/browse/FHIR-27875">FHIR#27875</a> instead of re-opening <a href="http://jira.hl7.org/browse/FHIR-25174">FHIR#25174</a> (seems the JIRA re-open process is set up for ballot-comment re-opens and thus has too-stringent rules).  Anyway, new tracker but same issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
