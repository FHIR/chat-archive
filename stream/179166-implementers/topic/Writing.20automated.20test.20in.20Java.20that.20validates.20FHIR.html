---
layout: page
title: "FHIR Chat  · Writing automated test in Java that validates FHIR · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html">Writing automated test in Java that validates FHIR</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216750165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216750165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216750165">(Nov 14 2020 at 21:05)</a>:</h4>
<p>Hello! I am writing a FHIR-compatible API for a service and would like to have automated tests in my test JUnit 5 suite that validate that the responses are valid FHIR JSON. Is there a tool that will let me do this? I have found this: <a href="https://github.com/hapifhir/org.hl7.fhir.core/">https://github.com/hapifhir/org.hl7.fhir.core/</a> – but I'm not sure if it can be used emvedded in Java, or only as a standalone tool?</p>



<a name="216750675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216750675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216750675">(Nov 14 2020 at 21:19)</a>:</h4>
<p>This post seems to say that you can do exactly this... <a href="https://medium.com/@kevin.mayfield/testing-care-connect-resources-hl7-fhir-3680421dda23">https://medium.com/@kevin.mayfield/testing-care-connect-resources-hl7-fhir-3680421dda23</a></p>



<a name="216752573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216752573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216752573">(Nov 14 2020 at 21:57)</a>:</h4>
<p>Yup, I got something working with ValidationEngine.validate :) Super nice! If there's some kind of wrapper that makes it even more ready-made for using with JUnit, I'd love to know!</p>



<a name="216752622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216752622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216752622">(Nov 14 2020 at 21:58)</a>:</h4>
<p>We use it with JUnit - org.hl7.fhir.validation.  All of the test cases are here: <a href="https://github.com/FHIR/fhir-test-cases">https://github.com/FHIR/fhir-test-cases</a></p>



<a name="216783967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216783967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216783967">(Nov 15 2020 at 10:22)</a>:</h4>
<p>Thanks! So, hmm – where is the actual Java code for running the test cases in junit?</p>



<a name="216784709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216784709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216784709">(Nov 15 2020 at 10:39)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> is working on packaging the validator now, but in the meantime, ValidationHostServices is the least worst package, or else maybe you could look at HAPI full</p>



<a name="216805777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216805777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216805777">(Nov 15 2020 at 18:11)</a>:</h4>
<p>Where do i find that? (ValidationHostServices)</p>



<a name="216806488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216806488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216806488">(Nov 15 2020 at 18:30)</a>:</h4>
<p>So what i tried was basically creating a ValidationEngine and run "validate" on my JSON, and it seems to work, but I'm a bit confused as to how to use the OperationOutcome. I first thought that I could "assertFalse(outcome.hasIssue())" but it appears also the "all ok" state is an "issue"...</p>



<a name="216806954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216806954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216806954">(Nov 15 2020 at 18:39)</a>:</h4>
<p>I guess using the Json Schema is more on the right level for what I need to do?</p>



<a name="216815407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216815407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216815407">(Nov 15 2020 at 21:32)</a>:</h4>
<p>you certainly don't want to use Json Schema if you can avoid it - there are many problems with it, and many things it doesn't do anyway</p>



<a name="216815874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216815874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216815874">(Nov 15 2020 at 21:40)</a>:</h4>
<p>it's true that the operation outcome explicitly includes an issue for all ok. We've found that's confusing either way - some people are confused when it says nothing, and others are confused when it says 'all 'ok'</p>
<p>anyway, if the only issues present have level = information and type = information, there's no issues to report (and there'll only be one)</p>



<a name="216841954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216841954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216841954">(Nov 16 2020 at 08:12)</a>:</h4>
<p>Thank you! Will not use Json Schema then, and use that method of checking the outcome. Just to check – when you said "ValidationHostServices is the least worst package" – did you mean the thing I am using now or something else?</p>



<a name="216842071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216842071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216842071">(Nov 16 2020 at 08:13)</a>:</h4>
<p>Also, what's the best outlet (RSS feed or such) to follow for updates in this area (as the thing you mentioned that <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> is working on)?</p>



<a name="216843619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216843619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216843619">(Nov 16 2020 at 08:31)</a>:</h4>
<p>probably #hapi. Turns out I renamed ValidationHostServices to NativeHostServices</p>



<a name="216845787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216845787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216845787">(Nov 16 2020 at 08:57)</a>:</h4>
<p>Ah nice, found it. So the benefit of using NativeHostServices instead of ValidationEngine would be that it operates locally, is that correct?</p>



<a name="216846708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216846708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216846708">(Nov 16 2020 at 09:07)</a>:</h4>
<p>well, it just hosts ValidationEngine for re-use</p>



<a name="216846761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216846761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216846761">(Nov 16 2020 at 09:08)</a>:</h4>
<p>without reinitialising it every time</p>



<a name="216877815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216877815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216877815">(Nov 16 2020 at 14:29)</a>:</h4>
<p>For updates regarding what I'm working on, you can always check the documentation on the project website:</p>



<a name="216877822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216877822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216877822">(Nov 16 2020 at 14:29)</a>:</h4>
<p><a href="https://github.com/hapifhir/org.hl7.fhir.validator-wrapper">https://github.com/hapifhir/org.hl7.fhir.validator-wrapper</a></p>



<a name="216877924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216877924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216877924">(Nov 16 2020 at 14:30)</a>:</h4>
<p>I'm actively working on the project</p>



<a name="216911846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216911846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simon Kågedal Reimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216911846">(Nov 16 2020 at 18:28)</a>:</h4>
<p>Ok, I think I'm missing the benefit of NativeHostServices. :) Can't I just hold on to the ValidationEngine object instead and call validate repeatedly if needed? From looking at the code, it seems that NativeHostServices just wraps ValidationEngine in a less nice Java interface.</p>



<a name="216933129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Writing%20automated%20test%20in%20Java%20that%20validates%20FHIR/near/216933129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Writing.20automated.20test.20in.20Java.20that.20validates.20FHIR.html#216933129">(Nov 16 2020 at 21:14)</a>:</h4>
<p>Yeah that's true. It's just that we reserve the right to make breaking changes to ValidationEngine</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
