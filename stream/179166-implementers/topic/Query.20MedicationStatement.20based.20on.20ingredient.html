---
layout: page
title: "FHIR Chat  · Query MedicationStatement based on ingredient · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html">Query MedicationStatement based on ingredient</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157771770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157771770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolaos Tselas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157771770">(Feb 07 2019 at 12:10)</a>:</h4>
<p>Hi ,<br>
I have a question on how to query combined resources. I have a MedicationStatement linked with a Medication that includes the ingredient using Snomed Code as shown below. <br>
I wanted to ask if there is a way to fetch MedicationStatement based on ingredient of Medication that is linked</p>
<p>Thanks !!!</p>
<p>{<br>
      "resource": {<br>
        "resourceType": "Medication",<br>
        "text": {<br>
          "status": "generated",<br>
          "div": "&lt;div xmlns='<a href="http://www.w3.org/1999/xhtml'&gt;Heparin&lt;a" target="_blank" title="http://www.w3.org/1999/xhtml'&gt;Heparin&lt;a">http://www.w3.org/1999/xhtml'&gt;Heparin&lt;a</a> name='mm'/&gt;&lt;/div&gt;"<br>
        },<br>
        "id": "cf-1549540582337",<br>
        "ingredient": [<br>
          {<br>
            "itemCodeableConcept": {<br>
              "coding": [<br>
                {<br>
                  "code": "372877000",<br>
                  "system": "<a href="http://snomed.info/sct" target="_blank" title="http://snomed.info/sct">http://snomed.info/sct</a>",<br>
                  "display": "Heparin"<br>
                }<br>
              ]<br>
            }<br>
          }<br>
        ]<br>
      }<br>
    },<br>
    {<br>
      "resource": {<br>
        "resourceType": "MedicationStatement",<br>
        "text": {<br>
          "status": "generated",<br>
          "div": "&lt;div xmlns='<a href="http://www.w3.org/1999/xhtml'&gt;Heparin&lt;a" target="_blank" title="http://www.w3.org/1999/xhtml'&gt;Heparin&lt;a">http://www.w3.org/1999/xhtml'&gt;Heparin&lt;a</a> name='mm'/&gt;&lt;/div&gt;"<br>
        },<br>
        "id": "cf-1549540671859",<br>
        "subject": {<br>
          "reference": "Patient/cf-1549443666155"<br>
        },<br>
        "medicationReference": {<br>
          "reference": "Medication/cf-1549540582337"<br>
        }<br>
      }<br>
    },</p>



<a name="157778894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157778894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157778894">(Feb 07 2019 at 14:08)</a>:</h4>
<p>At a workflow level, are you looking for all the medications anyone in in the system is taking that have that ingredient (in the case of a recall or something)?</p>



<a name="157779213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157779213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolaos Tselas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157779213">(Feb 07 2019 at 14:13)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191936">@Michael Donnelly</span>  for your response. I am looking all the medications of a specific Patient based on ingredient.<br>
I can retrieve all MedicationStatements using something like this:<br>
<a href="http://fhirtest.uhn.ca/baseDstu3/MedicationStatement?subject=Patient/cf-1549443666155" target="_blank" title="http://fhirtest.uhn.ca/baseDstu3/MedicationStatement?subject=Patient/cf-1549443666155">http://fhirtest.uhn.ca/baseDstu3/MedicationStatement?subject=Patient/cf-1549443666155</a></p>
<p>So every Medication is linked to a Medication that contains the ingredient.<br>
My question is how can I fetch the medication that contains a specific ingredient?</p>



<a name="157779622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157779622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157779622">(Feb 07 2019 at 14:19)</a>:</h4>
<p>Do you want to search for <br>
1. Medications that have the ingredient<br>
2. MedicationStatements that have a Medication that have the ingredient<br>
3. Something else?</p>



<a name="157779861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157779861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolaos Tselas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157779861">(Feb 07 2019 at 14:22)</a>:</h4>
<p>If it is possible I want both Medication &amp; MedicationStatement containing an Ingredient of specific Patient :</p>
<p>1. Medications of patient A, that contain ingredient X<br>
2. MedicationStatements of patient A, that contain the Medication which ingredient is X</p>



<a name="157781640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157781640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157781640">(Feb 07 2019 at 14:44)</a>:</h4>
<p>The FHIR standard may have chained queries that do what you want, but I definitely wouldn't assume servers have implemented them.  I'd break it into smaller pieces.  </p>
<ul>
<li><a href="http://hl7.org/implement/standards/fhir/medication.html" target="_blank" title="http://hl7.org/implement/standards/fhir/medication.html">Medication</a> has search parameters:<ul>
<li><strong>ingredient</strong> - Reference to a Substance or to another Medication (for compounds)</li>
<li><strong>ingredient-code</strong> - CodableConcept for Medication.ingredient</li>
</ul>
</li>
<li><a href="http://hl7.org/implement/standards/fhir/medicationstatement.html" target="_blank" title="http://hl7.org/implement/standards/fhir/medicationstatement.html">MedicationStatement</a><ul>
<li>patient - you know this part already</li>
<li><strong>medication</strong> - Reference to a Medication</li>
</ul>
</li>
</ul>
<p>I'd search for <code>[base]/Medication?ingredient=http%3A%2F%2Fsnomed.info%2Fsct|386983007</code>to get the Medications with Alprazolam as an ingredient.  Then for each of medication returned I'd search <code>[base]/MedicationStatement?patient=cf-1549443666155&amp;medication=thatMed</code>.</p>



<a name="157781975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157781975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157781975">(Feb 07 2019 at 14:49)</a>:</h4>
<p>FHIR allows you to combine the latter into <code>[base]/MedicationStatement?patient=cf-1549443666155&amp;medication=med1,med2,med3</code> or combine the whole thing into <code>[base]/MedicationStatement?patient=cf-1549443666155&amp;medication.ingredient=http%3A%2F%2Fsnomed.info%2Fsct|386983007</code>.  But I wouldn't develop that without first confirming that the FHIR server(s) I was likely to work with actually supported that chain.</p>



<a name="157785799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157785799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157785799">(Feb 07 2019 at 15:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191759">@Melva Peters</span> Is this something we want to build a short-cut search parameter for?</p>



<a name="157803391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157803391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Melva Peters <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157803391">(Feb 07 2019 at 19:05)</a>:</h4>
<p>I'll raise a tracker item for Pharmacy Work Group to consider</p>



<a name="157803697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157803697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Melva Peters <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157803697">(Feb 07 2019 at 19:09)</a>:</h4>
<p>GF tracker added 20364 <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20364" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20364">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20364</a></p>



<a name="157849074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20MedicationStatement%20based%20on%20ingredient/near/157849074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolaos Tselas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20MedicationStatement.20based.20on.20ingredient.html#157849074">(Feb 08 2019 at 10:23)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191936">@Michael Donnelly</span> ! You were really helpful !</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
