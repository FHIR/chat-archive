---
layout: page
title: "FHIR Chat  · Searching · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.html">Searching</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153866367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching/near/153866367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Broadbent <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.html#153866367">(Jan 11 2017 at 12:11)</a>:</h4>
<p>Hi there, this is more of a hapi specific question, but I'm not seeing much movement in that stream and though perhaps someone here might have an idea.</p>
<p>I have an instance of hapi in it's out of the box configuration, I've uploaded a bunch of profiles, and then uploaded about 370,000 instances of Basic which have their Basic.meta.profile set accordingly.  I'm trying to search for all instances of Basic with a given profile using the following url:<br>
{{URL}}/Basic?_profile=http://stelar.org/StructureDefinition/stelar/profile/questionResponse'</p>
<p>The problem is that I always get a 504 gateway timeout returned.  I didn't really think 370,000 instances would be too many, and I figured something like that should work out of the box.</p>
<p>Is there a standard way of either increasing the timeout of a call, or having a way of keeping it alive, which I haven't seen in the spec?</p>



<a name="153866380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching/near/153866380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.html#153866380">(Jan 11 2017 at 18:35)</a>:</h4>
<p>Sounds like a missing index to me. Timeout is a client thing,</p>



<a name="153866394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching/near/153866394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.html#153866394">(Jan 11 2017 at 21:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Thoughts?</p>



<a name="276523178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching/near/276523178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juddi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.html#276523178">(Mar 24 2022 at 18:47)</a>:</h4>
<p>Hi all, </p>
<p>Anyone know of a way to search for CarePlans, and include all resources referenced in <code>CarePlan.activity.reference</code> AND <code>CarePlan.activity.outcomeReference?</code>. <code>/CarePlan/_search?_id=&lt;CarePlanId&gt;&amp;_include=CarePlan:activity-reference</code> returns the CarePlan and all activity references, but is there anyway to also include the outcomeReferences in the same query? <code>_include=CarePlan.outcomeReference</code> doesn't work since it's not a CarePlan search parameter. All the CarePlan.outcomeReferences in this case reference Encounter resources, if that helps. Not sure if there is a fancy way to do a _revinclude or if :iterate can match based on matching resources and not just the base resource. </p>
<p>Thanks!</p>



<a name="276527884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching/near/276527884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.html#276527884">(Mar 24 2022 at 19:26)</a>:</h4>
<p>You'd have to define your own custom SearchParameter and have the server support it (and support doing _include with it).  You might want to submit a change request suggesting that for a standard SearchParameter in R5+</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
