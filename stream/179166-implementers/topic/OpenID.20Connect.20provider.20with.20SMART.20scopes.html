---
layout: page
title: "FHIR Chat  · OpenID Connect provider with SMART scopes · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OpenID.20Connect.20provider.20with.20SMART.20scopes.html">OpenID Connect provider with SMART scopes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153927961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OpenID%20Connect%20provider%20with%20SMART%20scopes/near/153927961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OpenID.20Connect.20provider.20with.20SMART.20scopes.html#153927961">(Jan 08 2018 at 15:39)</a>:</h4>
<p>We've implemented authorization in Vonk, based on the <a href="http://docs.smarthealthit.org/authorization/scopes-and-launch-context/" target="_blank" title="http://docs.smarthealthit.org/authorization/scopes-and-launch-context/">SMART scopes and launch context</a>. Basic question is: How do others provide an Open ID Connect Provider where users can configure their scopes for testing? Preferably without maintaining our own.</p>
<p>More background:<br>
Since Vonk is a FHIR Server and not an end-user application (it has no UI), the expected flow is:<br>
1. User interacts with some application X.<br>
2. X retrieves an access-token by redirecting the user to an Open ID Connect Provider.<br>
3. X interacts with Vonk, with the access-token as Authentication header.<br>
4. Vonk validates the token and restricts access based on the scopes (like user/*.read) and - if present - a compartment defined by a launch scope (e.g. patient=123).</p>
<p>For users to test this on the public endpoint (after we deployed this), we need that OIDC Provider. And for testing purposes it would be useful if they can configure their own scopes. Users can then use Postman or another REST client as a dummy for application X.</p>
<p>From tests so far I found:<br>
- SMART Sandbox is only meant to work with it's own FHIR Server (you cannot configure the 'audience'), and we cannot get it to provide the SMART claims in the access token.<br>
- Grahame's server is capable of using HL7 authorization, but states that that is not really OAuth (let alone OIDC), plus from <a href="http://wiki.hl7.org/index.php?title=Health_Intersections_FHIR_Server_login_documentation#User_Resource" target="_blank" title="http://wiki.hl7.org/index.php?title=Health_Intersections_FHIR_Server_login_documentation#User_Resource">this documentation</a> I cannot make up how to configure that.</p>



<a name="153928024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OpenID%20Connect%20provider%20with%20SMART%20scopes/near/153928024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OpenID.20Connect.20provider.20with.20SMART.20scopes.html#153928024">(Jan 08 2018 at 19:54)</a>:</h4>
<p>the HL7 server isn't what you are looking for. I use it as an identity provider from the authorization server, equivalent to facebook or google. I wrote my own OIDC provider, as did other implementation. I also use google and facebook as OIDC providers, but they are at a different point in the workflow</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
