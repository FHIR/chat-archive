---
layout: page
title: "FHIR Chat  · hl7 validator errors · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html">hl7 validator errors</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191880082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hl7%20validator%20errors/near/191880082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html#191880082">(Mar 26 2020 at 13:02)</a>:</h4>
<p>Could you help me out understanding what's going wrong? Attached is an xml instance (source) and a to json converted instance (of test patients)<br>
<br>
A nullFlavor extension is used on the .whenHandedOver element like this:<br>
<code>
&lt;whenHandedOver&gt;
   &lt;extension url="http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor"&gt;
    &lt;valueCode value="NI"/&gt;
   &lt;/extension&gt;
&lt;/whenHandedOver&gt;
 </code><br>
This is converted to json like this:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;whenHandedOver&quot;</span><span class="err">:</span> <span class="kc">null</span><span class="err">,</span>
   <span class="s2">&quot;_whenHandedOver&quot;</span><span class="err">:</span> <span class="p">{</span>
                    <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;NI&quot;</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
<span class="err">},</span>
</pre></div>


<p>The fhir validator (FHIR Validation tool Version 4.1.60-SNAPSHOT) gives an error for the json:</p>
<blockquote>
<p>Error @ Bundle.entry[1].resource.whenHandedOver (line 1, col5240) : This property must be an simple value, not a primitive property<br>
<br>
And for XML:</p>
<p>Error @ Bundle.entry[1].resource.whenHandedOver (line 102, col32) : The extension <a href="http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor" title="http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor">http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor</a> is not allowed to be used at this point (allowed = e:Any; this element is [[Bundle.entry.resource.whenHandedOver, BackboneElement.resource.whenHandedOver, MedicationDispense.whenHandedOver, dateTime])</p>
</blockquote>
<p>I don’t know what’s going on here. Anyone an idea?</p>
<p>I believe the extension is used correctly. <br>
My first attempt was to remove the null in json because that isn’t correct according to the FHIR spec. But doesn't remove the error for json and is of course not related to the xml validation error. <a href="/user_uploads/10155/3lqSGH3sUDgvYd04PEfTeBcG/Henegouwen.xml" title="Henegouwen.xml">Henegouwen.xml</a> <a href="/user_uploads/10155/lyDQTxyT6atjMKfimY6tNjN2/Henegouwen_null.json" title="Henegouwen_null.json">Henegouwen_null.json</a></p>



<a name="191888830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hl7%20validator%20errors/near/191888830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html#191888830">(Mar 26 2020 at 14:04)</a>:</h4>
<p>One of the error's looks related to the question in this zulip chat: <a href="#narrow/stream/179177-conformance/topic/Context.20for.20Normative.20Version" title="#narrow/stream/179177-conformance/topic/Context.20for.20Normative.20Version">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Context.20for.20Normative.20Version</a></p>



<a name="191891435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hl7%20validator%20errors/near/191891435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html#191891435">(Mar 26 2020 at 14:24)</a>:</h4>
<p><code>"whenHandedOver": null</code> is not valid.  You should only have the _whenHandedOver if you don't have a 'value'.</p>



<a name="191894398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hl7%20validator%20errors/near/191894398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html#191894398">(Mar 26 2020 at 14:45)</a>:</h4>
<p>I was aware that it was not valid. Validating after removing that part still produced the error's.</p>



<a name="191968022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hl7%20validator%20errors/near/191968022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html#191968022">(Mar 27 2020 at 01:07)</a>:</h4>
<p><span class="user-mention" data-user-id="192301">@Ardon Toonstra</span> what version of FHIR is this for? I don't get an error from the validator</p>



<a name="191971879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hl7%20validator%20errors/near/191971879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html#191971879">(Mar 27 2020 at 02:45)</a>:</h4>
<p>r3.0. I can fix that</p>



<a name="191971931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hl7%20validator%20errors/near/191971931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html#191971931">(Mar 27 2020 at 02:46)</a>:</h4>
<p>but this... </p>
<blockquote>
<p>This property must be an simple value, not a primitive property</p>
</blockquote>
<p>should read </p>
<blockquote>
<p>This property must be an simple value, not a null</p>
</blockquote>
<p>will be fixed</p>



<a name="191988729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hl7%20validator%20errors/near/191988729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hl7.20validator.20errors.html#191988729">(Mar 27 2020 at 08:40)</a>:</h4>
<p>It was indeed STU3. Thnx Grahame for the confirmation.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
