---
layout: page
title: "FHIR Chat  · Use CapabilityStatement for searching on referenced resouces · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20CapabilityStatement.20for.20searching.20on.20referenced.20resouces.html">Use CapabilityStatement for searching on referenced resouces</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153971985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20CapabilityStatement%20for%20searching%20on%20referenced%20resouces/near/153971985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaime Olivares <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20CapabilityStatement.20for.20searching.20on.20referenced.20resouces.html#153971985">(Jun 26 2018 at 23:18)</a>:</h4>
<p>We are writing a platform that supports any kind of FHIR resources and treat them in a generic way. We can show lists of any kind of resource. For those lists, we want to create a 'Filter' option. <br>
By processing the CapabilityStatement (/metadata), we can get a list of 'searchParam's as well a list of 'searchInclude's. Some search parameters can be used for showing as fields in the Filter Fields, when they are of type <code>token</code>, <code>string</code> or <code>date</code>. Then those param names and values can be added to the search URL.</p>
<p>The difficulty comes when we want to go beyond the resource scope, let say the <strong>'performer'</strong> entry in ProcedureRequest's <em>searchParam</em>, matching the <strong>'ProcedureRequest.performer'</strong> as present in the <em>searchInclude</em> list. There is no information in the CapabilityStatement about the type of that reference (Practitioner | Organization | Patient | Device | RelatedPerson | HealthcareService, according to the FHIR spec), so we cannot offer a list of fields for those nested fields.<br>
Moreover, it is not suggested that 'performer' is associated to 'ProcedureRequest.performer', in order to automatically include it in the URL when that filter is selected. We just infer that from the specification website.</p>
<p>It seems there is missing a <strong>'referenceType'</strong> attribute for each search parameter with type 'reference' as a single string or an array of strings, as well as an <strong>'include'</strong> attribute for mentioning the associated searchInclude, like:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ProcedureRequest&quot;</span><span class="p">,</span>
    <span class="nt">&quot;searchParam&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;performer&quot;</span><span class="p">,</span>
            <span class="nt">&quot;definition&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/etc…&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;reference&quot;</span><span class="p">,</span>
            <span class="nt">&quot;documentation&quot;</span><span class="p">:</span> <span class="s2">&quot;Requested performer&quot;</span><span class="p">,</span>
            <span class="err">/*</span> <span class="err">Suggested</span> <span class="err">attributes</span> <span class="err">*/</span>
            <span class="nt">&quot;referenceType&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;Practitioner&quot;</span><span class="p">,</span> <span class="s2">&quot;Organization&quot;</span><span class="p">,</span> <span class="s2">&quot;Patient&quot;</span><span class="p">,</span> <span class="s2">&quot;Device&quot;</span><span class="p">,</span> <span class="s2">&quot;RelatedPerson&quot;</span><span class="p">,</span> <span class="s2">&quot;HealthcareService&quot;</span> <span class="p">],</span>
            <span class="nt">&quot;include&quot;</span><span class="p">:</span> <span class="s2">&quot;ProcedureRequest:performer&quot;</span>
        <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>Is that something we can suggest to be added to the standard?<br>
Our intent is to make CapabilityStatement more digestible by applications rather than the human eye.<br>
<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span></p>



<a name="153972005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20CapabilityStatement%20for%20searching%20on%20referenced%20resouces/near/153972005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20CapabilityStatement.20for.20searching.20on.20referenced.20resouces.html#153972005">(Jun 27 2018 at 04:13)</a>:</h4>
<p>we used to have this, but stripped it out. The search parameter now only contains name, definition, type, and a reference to a full set of information in a search parameter resource</p>



<a name="153972006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20CapabilityStatement%20for%20searching%20on%20referenced%20resouces/near/153972006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20CapabilityStatement.20for.20searching.20on.20referenced.20resouces.html#153972006">(Jun 27 2018 at 04:13)</a>:</h4>
<p>where everything you can think of can be found</p>



<a name="153972085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20CapabilityStatement%20for%20searching%20on%20referenced%20resouces/near/153972085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaime Olivares <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20CapabilityStatement.20for.20searching.20on.20referenced.20resouces.html#153972085">(Jun 27 2018 at 14:15)</a>:</h4>
<blockquote>
<p>and a reference to a full set of information in  a search parameter resource where everything you can think of can be found</p>
</blockquote>
<p>Are you talking about the URL in "definition" ?<br>
If that's the case. That URL usually points to a verbose html document, which an application cannot parse.</p>



<a name="153972123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20CapabilityStatement%20for%20searching%20on%20referenced%20resouces/near/153972123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20CapabilityStatement.20for.20searching.20on.20referenced.20resouces.html#153972123">(Jun 27 2018 at 17:44)</a>:</h4>
<p>Based on this URL, you can look up all search parameters in the search-parameters.json / .xml which is provided in the FHIR Definitions .zip. See <a href="https://www.hl7.org/fhir/downloads.html" target="_blank" title="https://www.hl7.org/fhir/downloads.html">https://www.hl7.org/fhir/downloads.html</a></p>



<a name="153972377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20CapabilityStatement%20for%20searching%20on%20referenced%20resouces/near/153972377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaime Olivares <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20CapabilityStatement.20for.20searching.20on.20referenced.20resouces.html#153972377">(Jun 28 2018 at 13:25)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="193430">@Alexander Zautke</span>, although not automatable with such degree of dispersion, we can compile our own SearchParams.json file.</p>



<a name="153973296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20CapabilityStatement%20for%20searching%20on%20referenced%20resouces/near/153973296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20CapabilityStatement.20for.20searching.20on.20referenced.20resouces.html#153973296">(Jul 04 2018 at 06:43)</a>:</h4>
<p>You could ask the server for the search parameter by the URL in the definition. As might be a custom one, not one from the standard.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
