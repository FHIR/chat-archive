---
layout: page
title: "FHIR Chat  · Valid canonical · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html">Valid canonical</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200119259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200119259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200119259">(Jun 08 2020 at 15:59)</a>:</h4>
<p>What is a valid value for canonical? Does the value has to be looked like a "<a href="http://xxxx">http://xxxx</a>"? According to data type page <a href="http://hl7.org/fhir/R4/datatypes.html">http://hl7.org/fhir/R4/datatypes.html</a>, a canonical is a url, a url is a uri. uri has regex <code>\S*</code> while canonical and url don't have their own regex. It looks like <code>"url": "ValueSet/123"</code> is a valid canonical. Do I miss something here?</p>



<a name="200121281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200121281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200121281">(Jun 08 2020 at 16:14)</a>:</h4>
<p>A canonical has to be a full URI - it can't be relative</p>



<a name="200122595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200122595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200122595">(Jun 08 2020 at 16:25)</a>:</h4>
<p>Is there a sentence in FHIR spec stating that?</p>



<a name="200123182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200123182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200123182">(Jun 08 2020 at 16:29)</a>:</h4>
<p>Not sure.  If you can't find one, submit a change request</p>



<a name="200123293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200123293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200123293">(Jun 08 2020 at 16:30)</a>:</h4>
<p>If you go from <a href="https://www.hl7.org/fhir/datatypes.html#canonical">DataType Canonical</a> to <a href="https://www.hl7.org/fhir/references.html#canonical">Canonical Reference</a> to <a href="https://www.hl7.org/fhir/resource.html#canonical">Canonical Resource Identity</a>, you get to</p>
<blockquote>
<p>The canonical URL serves as a stable logical identifier for the resource, and is the preferred way to reference a conformance or knowledge resource. The canonical URL SHOULD also resolve to the location where the master copy of the artifact is found, though it is not always possible to arrange this. The canonical URL SHALL NOT refer to some other resource (though it may resolve to a different version of the same resource).</p>
</blockquote>
<p>Which is the closest I found.</p>
<p>Though TIL that canonical can also be a <a href="https://www.hl7.org/fhir/references.html#canonical-fragments">fragment to a contained resource</a>, so not <em>always</em> a full URL.</p>



<a name="200124775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200124775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200124775">(Jun 08 2020 at 16:43)</a>:</h4>
<p>The FHIR Extensibility page (<a href="https://www.hl7.org/fhir/extensibility.html">https://www.hl7.org/fhir/extensibility.html</a>) also states: <code>The url SHALL be a URL, not a URN (e.g. not an OID or a UUID), and it SHALL be the canonical URL of a StructureDefinition that defines the extension. Except for child extensions defined within complex extensions, the URL SHALL be an absolute URL.</code></p>



<a name="200124802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200124802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200124802">(Jun 08 2020 at 16:43)</a>:</h4>
<p>Which implies that for child extensions of complex extensions, the Canonical URL can be relative</p>



<a name="200126195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200126195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen MacVicar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200126195">(Jun 08 2020 at 16:55)</a>:</h4>
<blockquote>
<p>Though TIL that canonical can also be a fragment to a contained resource, so not always a full URL.</p>
</blockquote>
<p>It's not a full url, but it can always be resolved without ambiguity.</p>



<a name="200140845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200140845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200140845">(Jun 08 2020 at 18:53)</a>:</h4>
<p>It's certainly an oversight  - a surprising one to me - that we do not explicitly say that canonical URLs have to be absolute URLs if they are not fragment identifiers</p>



<a name="200140864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200140864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200140864">(Jun 08 2020 at 18:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191506">@Yunwei Wang</span> please make a task to fix this</p>



<a name="200143517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/200143517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#200143517">(Jun 08 2020 at 19:16)</a>:</h4>
<p><a href="https://jira.hl7.org/projects/FHIR/issues/FHIR-27789">https://jira.hl7.org/projects/FHIR/issues/FHIR-27789</a></p>



<a name="222470786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/222470786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#222470786">(Jan 12 2021 at 18:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191506">Yunwei Wang</span> <a href="#narrow/stream/179166-implementers/topic/Valid.20canonical/near/200143517">said</a>:</p>
<blockquote>
<p><a href="https://jira.hl7.org/projects/FHIR/issues/FHIR-27789">https://jira.hl7.org/projects/FHIR/issues/FHIR-27789</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="191506">@Yunwei Wang</span> Why was this issue retracted?</p>



<a name="222474656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/222474656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#222474656">(Jan 12 2021 at 18:32)</a>:</h4>
<p>It wasn't retracted...</p>



<a name="222476295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/222476295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#222476295">(Jan 12 2021 at 18:44)</a>:</h4>
<p>It is retracted. I cannot remember why I retracted it. <span class="user-mention" data-user-id="195344">@Paul Lynch</span>  If you think there is still value for this ticket, I can re-create one.</p>



<a name="222476836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/222476836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#222476836">(Jan 12 2021 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191506">@Yunwei Wang</span> , yes I think it would be helpful.  We've been using relative URLs in QuestionnaireResponse.questionnaire (with which HAPI FHIR has no issues) and I am just learning they should have been absolute.</p>



<a name="222486563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/222486563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#222486563">(Jan 12 2021 at 20:02)</a>:</h4>
<p>Weird.  Clicking on the link doesn't take me to the right place...</p>



<a name="222486728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/222486728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#222486728">(Jan 12 2021 at 20:03)</a>:</h4>
<p>How did you get that hyperlink?</p>



<a name="222775193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Valid%20canonical/near/222775193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Valid.20canonical.html#222775193">(Jan 14 2021 at 20:01)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-27789">https://jira.hl7.org/browse/FHIR-27789</a>. <span class="user-mention" data-user-id="195344">@Paul Lynch</span> Issue reopened</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
