---
layout: page
title: "FHIR Chat  · Candidate breaking change - make canonical a complex type · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html">Candidate breaking change - make canonical a complex type</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153953742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953742">(Apr 23 2018 at 20:53)</a>:</h4>
<p>On the FHIR-I call today, we agreed to take <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15879" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15879">GF#15879</a> here for discussion. The proposal is to make the "canonical" data type complex so that in addition to a URL, it's possible to have a 'display'. The use-case is that lots of resources point to protocols, questionnaires and other things that have canonical URLs. Resolution of the URL to find a name isn't always practical. In messaging/document environments, resolution might not be possible. In other environments, security policies might prohibit resolution. And in all cases, it's a performance imposition. This is NOT a small change tooling-wise. (Changing to use canonical in preparation for the ballot was already painful.) Doing this would mean that the infrastructure portion of FHIR would have to return to ballot in the Sept. cycle, though we had already planned for that as a possibility.</p>
<p>We would like to hear from a broader set of implementers: Do you have a need for "display" when dealing with references to protocols, questionnaires, value sets, profiles, templates, implementation guides, etc. or are you comfortable with needing to resolve the references in order to determine a name.</p>



<a name="153953745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953745">(Apr 23 2018 at 21:20)</a>:</h4>
<p>I'd support this change -  I never understood why "canonical" was implemented as a simple data type in the first place.</p>



<a name="153953752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953752">(Apr 23 2018 at 22:11)</a>:</h4>
<p>In the FHIR tooling, i resolve all canonicals on the fly. I'm sympathetic to the problem, but the change process is deeply problematic. Changing this stuff burns so many weeks of my time, and not just my time.</p>



<a name="153953753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953753">(Apr 23 2018 at 22:13)</a>:</h4>
<p>it's pretty concerning that it's only coming up now. We've been using URL for a long time</p>



<a name="153953772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953772">(Apr 23 2018 at 23:07)</a>:</h4>
<p>The problem manifests most strongly in those places that were previously Reference that were only recently updated.  Most places that were only URLs were places where looking up was likely to happen all the time anyhow.  But canonical is now (appropriately) appearing in places where you often <em>don't</em> want to resolve.</p>



<a name="153953775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953775">(Apr 23 2018 at 23:08)</a>:</h4>
<p>I'm very sympathetic to the amount of work involved here.  But we're about to lock this as normative, and I think if we don't fix this now, we're going to be kicking ourselves for a long time.</p>



<a name="153953778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953778">(Apr 23 2018 at 23:24)</a>:</h4>
<p>Can it be resolved by leaving canonical as is, and defining a standard extension for "canonical display name"?</p>



<a name="153953787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953787">(Apr 24 2018 at 00:54)</a>:</h4>
<p>That's an option.  However, it creates a challenge if we expect it to be present most of the time.  If we had identified this as a change after normative, then we'd have no choice but to take that approach.  This time we do have a choice.  My main concern is that the implementers most likely to need display are the "simple" implementers - who are the ones least likely to see an extension.</p>



<a name="153953796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953796">(Apr 24 2018 at 02:59)</a>:</h4>
<p>When updating the dotnet client to the latest R4 build I found that it was a pretty even mix of places where the uri was changed to a canonical, and also reference to canonical.<br>
So painful either way, just a shame that we had all this pain to put the first one in without the other at the same time.</p>



<a name="153953797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Candidate%20breaking%20change%20-%20make%20canonical%20a%20complex%20type/near/153953797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Candidate.20breaking.20change.20-.20make.20canonical.20a.20complex.20type.html#153953797">(Apr 24 2018 at 03:16)</a>:</h4>
<p>The impact didn't become clear to me until updating IGs - which of course happened after the original change had been propagated :(</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
