---
layout: page
title: "FHIR Chat  · Return Preference header with Conditional Create · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Return.20Preference.20header.20with.20Conditional.20Create.html">Return Preference header with Conditional Create</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="210831937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Return%20Preference%20header%20with%20Conditional%20Create/near/210831937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Moorhouse <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Return.20Preference.20header.20with.20Conditional.20Create.html#210831937">(Sep 22 2020 at 06:29)</a>:</h4>
<p>What should the server return where a conditional create matches an existing resource and the return preference header (prefer: return=representation) is set ?<br>
Specification for Conditional Create says to ignore the POST when a matching resource is found and return 200 OK. Documentation for the header says it only applies to POST/PUT/PATCH operations and Should return the resource content<br>
My hunch is the header should be obeyed and the resource should be returned as the body of the response rather than the terse response.</p>



<a name="210833138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Return%20Preference%20header%20with%20Conditional%20Create/near/210833138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Return.20Preference.20header.20with.20Conditional.20Create.html#210833138">(Sep 22 2020 at 06:49)</a>:</h4>
<p>Related: I created a change request to clarify that in case of a match the server should populate the Location response header. (which most public FHIR servers do, but there is no wording to that effect in the spec).</p>



<a name="210833273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Return%20Preference%20header%20with%20Conditional%20Create/near/210833273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Moorhouse <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Return.20Preference.20header.20with.20Conditional.20Create.html#210833273">(Sep 22 2020 at 06:51)</a>:</h4>
<p>Thx René - that would be useful as the client can then use the returned Location header to work with the resource.</p>



<a name="210833793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Return%20Preference%20header%20with%20Conditional%20Create/near/210833793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Return.20Preference.20header.20with.20Conditional.20Create.html#210833793">(Sep 22 2020 at 07:00)</a>:</h4>
<p>Exactly - that's why my client does. Location will be populated, irrespective of whether there was a match or not.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
