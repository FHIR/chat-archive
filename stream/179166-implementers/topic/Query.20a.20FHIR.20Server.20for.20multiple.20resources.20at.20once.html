---
layout: page
title: "FHIR Chat  · Query a FHIR Server for multiple resources at once · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20a.20FHIR.20Server.20for.20multiple.20resources.20at.20once.html">Query a FHIR Server for multiple resources at once</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="261504458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20a%20FHIR%20Server%20for%20multiple%20resources%20at%20once/near/261504458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan MacLean <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20a.20FHIR.20Server.20for.20multiple.20resources.20at.20once.html#261504458">(Nov 15 2021 at 14:36)</a>:</h4>
<p>Let's say you have a FHIR Server with lots of data about a patient (i.e. different types of FHIR Resources) and then you want to create a UI that shows a "patient timeline". <br>
What would be the preferred way for the UI to interact with the FHIR Server? Should one do one query per resource type? Or is there some other mechanism whereby someone can do one single but more complex query (FHIR Path?) and get a FHIR Bundle back with all the data needed for the timeline?</p>



<a name="261504826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20a%20FHIR%20Server%20for%20multiple%20resources%20at%20once/near/261504826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20a.20FHIR.20Server.20for.20multiple.20resources.20at.20once.html#261504826">(Nov 15 2021 at 14:39)</a>:</h4>
<p>It depends on what you want to show in your timeline.  the $everything operation will fetch every resource about that subject but that may not be what you want.  It may be better to fetch all Encounters or all Conditions or another individual Resource and build it from there.  It all depends on how you want to orient the timeline.</p>



<a name="261505283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20a%20FHIR%20Server%20for%20multiple%20resources%20at%20once/near/261505283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan MacLean <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20a.20FHIR.20Server.20for.20multiple.20resources.20at.20once.html#261505283">(Nov 15 2021 at 14:42)</a>:</h4>
<p>Yeah I would assume the caller has some preferences on what data it wants to fetch, like only certain types of Resources or only Observations where <code>code</code> comes from a pre-defined set of values.</p>



<a name="261505839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20a%20FHIR%20Server%20for%20multiple%20resources%20at%20once/near/261505839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20a.20FHIR.20Server.20for.20multiple.20resources.20at.20once.html#261505839">(Nov 15 2021 at 14:47)</a>:</h4>
<p>The you do a fetch for Condition or Encounter where patient/subject is X or all Observations where code is X and patient is Y and then do _includes as necessary</p>



<a name="261516184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20a%20FHIR%20Server%20for%20multiple%20resources%20at%20once/near/261516184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20a.20FHIR.20Server.20for.20multiple.20resources.20at.20once.html#261516184">(Nov 15 2021 at 15:50)</a>:</h4>
<p>If the data is consistent, I would suggest a batch query to get all the results together.  You can also use chaining / including to do more complex queries, but it may be faster to do multiple 'simple' requests instead of trying to do a single 'complex' one.</p>
<p>I'm working on an updated pass of the search page now, but it's a ways off yet.  The areas you'll want to look at are:</p>
<ul>
<li><a href="https://www.hl7.org/fhir/search.html#reference">reference</a> and <a href="https://www.hl7.org/fhir/search.html#chaining">Chained Parameters</a> have info about chaining (search criteria crossing resource boundaries, in the 'forward' direction - e.g., Encounter has a link to Patient, so search Encounter with properties from a Patient).</li>
<li><a href="https://www.hl7.org/fhir/search.html#has">Reverse Chaining</a> is the same, but 'backwards' across links (e.g., Encounter has a link to Patient, so search Patient with properties from an Encounter)</li>
<li><a href="https://www.hl7.org/fhir/search.html#revinclude">Including other resources in result</a> has information on returning additional resources via <code>_include</code> (forward links) and <code>_revinvlude</code> (backwards links).  Same concept as chaining, but instead of search criteria it adds the resources to the returned bundle.</li>
</ul>
<p>For information about batching queries, the best place to start is the <a href="https://www.hl7.org/fhir/http.html#transaction">batch/transaction</a> section of the http page.  Essentially, it's a bundle that has several requests 'batched' together in a single request.</p>
<p>Normal disclaimer, the more 'advanced' you get in your requests, the less likely they will be implemented on a server (on average).  You'll want to be able to fall back from complex requests (e.g., complicated reverse include / chaining) into something simpler if you go that route.</p>
<p>Shameless plug - I try to cover this in my <a href="https://youtube.com/playlist?list=PLsR-zcO--dypskMPAd8r-EoiQOCdiYrux">FHIR Search</a> series of videos.</p>
<p>Hope this helps!</p>



<a name="261516968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20a%20FHIR%20Server%20for%20multiple%20resources%20at%20once/near/261516968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20a.20FHIR.20Server.20for.20multiple.20resources.20at.20once.html#261516968">(Nov 15 2021 at 15:56)</a>:</h4>
<p>It is possible to use $everything operation <code>Patient/123/$everything?_type=Condition,Observation</code></p>



<a name="261639271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20a%20FHIR%20Server%20for%20multiple%20resources%20at%20once/near/261639271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan MacLean <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20a.20FHIR.20Server.20for.20multiple.20resources.20at.20once.html#261639271">(Nov 16 2021 at 13:24)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="222054">@Gino Canessa</span> , the info about batch queries was exactly the info I was looking for!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
