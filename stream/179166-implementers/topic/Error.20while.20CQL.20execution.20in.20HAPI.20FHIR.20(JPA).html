---
layout: page
title: "FHIR Chat  · Error while CQL execution in HAPI FHIR (JPA) · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html">Error while CQL execution in HAPI FHIR (JPA)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="251639169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251639169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Praveen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251639169">(Sep 01 2021 at 22:28)</a>:</h4>
<p>Hi All, I was trying to execute CQL on hapi-fhir-jpaserver-starter (HAPI FHIR JPA) server running on Jetty. I enabled the flag mentioned in the documentation - <a href="https://hapifhir.io/hapi-fhir/docs/server_jpa_cql/cql.html">https://hapifhir.io/hapi-fhir/docs/server_jpa_cql/cql.html</a> . <br>
I have the enough number of resources available within the server to be evaluated. When I make a call using below code. </p>
<p><strong>Code to make a call to FHIR server: </strong></p>
<p>Parameters outParams = client<br>
                  .operation()<br>
                  .onInstance(new IdDt("Measure", measureId))<br>
                  .named("$evaluate-measure")<br>
                  .withParameters(inParams)<br>
                  .cacheControl(new CacheControlDirective().setNoCache(true))<br>
                  .withAdditionalHeader("Content-Type", "application/json")<br>
                  .useHttpGet()<br>
                  .execute();</p>
<p><strong>Error I am getting:</strong><br>
Exception in thread "main" ca.uhn.fhir.rest.server.exceptions.InvalidRequestException: HTTP 400 Bad Request: Invalid request: The FHIR endpoint on this server does not know how to handle GET operation[Measure/ColorectalCancerScreeningsFHIR/$evaluate-measure] with parameters [[measure, periodStart, periodEnd]]</p>
<p>I even tried calling via direct POST method - <a href="http://localhost:8080/fhir/Measure/ColorectalCancerScreeningsFHIR/evaluate-measure?periodStart=2019-01-01&amp;periodEnd=2021-12-31">http://localhost:8080/fhir/Measure/ColorectalCancerScreeningsFHIR/evaluate-measure?periodStart=2019-01-01&amp;periodEnd=2021-12-31</a> but response was still the same. </p>
<p>Any help or direction on this will be highly appreciated. Thanks for reading this issue.</p>



<a name="251642715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251642715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251642715">(Sep 01 2021 at 23:10)</a>:</h4>
<p>Dos the server declare support for that operation?</p>



<a name="251644023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251644023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Praveen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251644023">(Sep 01 2021 at 23:24)</a>:</h4>
<p>[Quoting…]<br>
How do I check it ?</p>



<a name="251649881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251649881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Praveen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251649881">(Sep 02 2021 at 00:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20.28JPA.29/near/251642715">said</a>:</p>
<blockquote>
<p>Dos the server declare support for that operation?</p>
</blockquote>
<p>I tried other GET and POST operations. Those are working fine. I tried to do a history of the measure resource using GET and POST and it worked fine.</p>



<a name="251650521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251650521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251650521">(Sep 02 2021 at 00:45)</a>:</h4>
<p>Access the /metadata endpoint.</p>



<a name="251654772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251654772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Praveen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251654772">(Sep 02 2021 at 01:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20.28JPA.29/near/251650521">said</a>:</p>
<blockquote>
<p>Access the /metadata endpoint.</p>
</blockquote>
<p>I am running on a Jetty server and I am able to access it /metadata from browser and also postman. Anything setting  I need to check on that response.</p>



<a name="251668417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251668417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bhautik <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251668417">(Sep 02 2021 at 05:38)</a>:</h4>
<p>Hello Everyone<br>
Any one let me know what is the live API End Point for FHIR ?</p>



<a name="251699535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251699535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Praveen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251699535">(Sep 02 2021 at 11:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="437060">Bhautik</span> <a href="#narrow/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20.28JPA.29/near/251668417">said</a>:</p>
<blockquote>
<p>Hello Everyone<br>
Any one let me know what is the live API End Point for FHIR ?</p>
</blockquote>
<p>Depends on the FHIR server you are running. If you are running HAPI FHIR JPA (starter) project then end point will be <a href="http://localhost:8080/fhir/">http://localhost:8080/fhir/</a> . Here local host will be replaced by the server name where you are hosting the FHIR server</p>



<a name="251699756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251699756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Praveen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251699756">(Sep 02 2021 at 11:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="427884">Praveen</span> <a href="#narrow/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20.28JPA.29/near/251639169">said</a>:</p>
<blockquote>
<p>Hi All, I was trying to execute CQL on hapi-fhir-jpaserver-starter (HAPI FHIR JPA) server running on Jetty. I enabled the flag mentioned in the documentation - <a href="https://hapifhir.io/hapi-fhir/docs/server_jpa_cql/cql.html">https://hapifhir.io/hapi-fhir/docs/server_jpa_cql/cql.html</a> . <br>
I have the enough number of resources available within the server to be evaluated. When I make a call using below code. </p>
<p><strong>Code to make a call to FHIR server: </strong></p>
<p>Parameters outParams = client<br>
                  .operation()<br>
                  .onInstance(new IdDt("Measure", measureId))<br>
                  .named("$evaluate-measure")<br>
                  .withParameters(inParams)<br>
                  .cacheControl(new CacheControlDirective().setNoCache(true))<br>
                  .withAdditionalHeader("Content-Type", "application/json")<br>
                  .useHttpGet()<br>
                  .execute();</p>
<p><strong>Error I am getting:</strong><br>
Exception in thread "main" ca.uhn.fhir.rest.server.exceptions.InvalidRequestException: HTTP 400 Bad Request: Invalid request: The FHIR endpoint on this server does not know how to handle GET operation[Measure/ColorectalCancerScreeningsFHIR/$evaluate-measure] with parameters [[measure, periodStart, periodEnd]]</p>
<p>I even tried calling via direct POST method - <a href="http://localhost:8080/fhir/Measure/ColorectalCancerScreeningsFHIR/evaluate-measure?periodStart=2019-01-01&amp;periodEnd=2021-12-31">http://localhost:8080/fhir/Measure/ColorectalCancerScreeningsFHIR/evaluate-measure?periodStart=2019-01-01&amp;periodEnd=2021-12-31</a> but response was still the same. </p>
<p>Any help or direction on this will be highly appreciated. Thanks for reading this issue.</p>
</blockquote>
<p>Trying to Bump up my issue so that it is noticed by anyone logging now. Please let me know if you have any information around this or any documentation link around this.</p>



<a name="251736803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20while%20CQL%20execution%20in%20HAPI%20FHIR%20%28JPA%29/near/251736803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20while.20CQL.20execution.20in.20HAPI.20FHIR.20(JPA).html#251736803">(Sep 02 2021 at 15:48)</a>:</h4>
<p>Does the CapabilityStatement you receive from hitting /metadata indicate support for the evaluate-measure operation?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
