---
layout: page
title: "FHIR Chat  · Search result requirement · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20requirement.html">Search result requirement</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153895485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20requirement/near/153895485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20requirement.html#153895485">(Jun 28 2017 at 17:36)</a>:</h4>
<p>Pretty basic question. I want to know if there is a way, with a search query, to indicate to the server that you expect a particular number of results. The common use case is that I query for a patient based on a specific identifier and expect 0 or 1 results, and if there are more than one, that I consider this an error condition.</p>



<a name="153895498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20requirement/near/153895498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20requirement.html#153895498">(Jun 28 2017 at 19:30)</a>:</h4>
<p>While I'm not aware of an easy way to trigger an error (in the sense of: OperationOutcome instead of a Bundle, when there's more than 1 result), others may prove me wrong.<br>
As a first approach, I would use a profile on Bundle, constraining it to containing 0..1 Patient resources. You can validate that and use the validation result as an error indicator.</p>



<a name="153895763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20requirement/near/153895763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20requirement.html#153895763">(Jun 29 2017 at 22:43)</a>:</h4>
<p>Its not exactly what you want, but you could request _count=1 and if the _next link is populated, then there is an error. That would at least prevent you getting a large result when you only expect one, and give you a simple way to check the condition.</p>



<a name="153895989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20result%20requirement/near/153895989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20result.20requirement.html#153895989">(Jul 04 2017 at 04:15)</a>:</h4>
<p>This is basically how I implement it, but I use _count=2 and check that I only got 1 (just in case the server isn't providing totals)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
