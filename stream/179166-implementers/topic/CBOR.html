---
layout: page
title: "FHIR Chat  · CBOR · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html">CBOR</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="235594928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235594928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235594928">(Apr 21 2021 at 22:57)</a>:</h4>
<p>Has anyone done work with FHIR in CBOR? Should we standardize a CBOR serialization?</p>



<a name="235689691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235689691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235689691">(Apr 22 2021 at 14:40)</a>:</h4>
<p>That looks <a href="https://cbor.io/">very interesting</a>. I hadn't heard about it before, thanks for bringing it up!</p>



<a name="235691986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235691986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235691986">(Apr 22 2021 at 14:54)</a>:</h4>
<p>While interesting for projects such as SMART Health Cards, I'm not sure that the byte savings is terribly necessary for FHIR as a whole.  Where do you see a need for bandwidth conservation for health data otherwise?</p>



<a name="235740824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235740824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235740824">(Apr 22 2021 at 20:14)</a>:</h4>
<p>It's not necessarily about byte savings (and we're not using CBOR in Health Cards). It's more about idiomatic use of FHIR in contexts where exchange is already happening with CBOR. I recently saw my first example of a spec based on CBOR with "insert FHIR Bundle as CBOR here" and I realized... that's pretty under-specified statement.</p>



<a name="235742437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235742437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235742437">(Apr 22 2021 at 20:27)</a>:</h4>
<p>For an example of a context where CBOR is the default for exchange, see <a href="https://github.com/18013-5/micov/blob/main/ISO_IEC_18013_5_for_eHealth.pdf">https://github.com/18013-5/micov/blob/main/ISO_IEC_18013_5_for_eHealth.pdf</a> (and probably more generally in the IOT world this will be increasingly common).</p>



<a name="235742812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235742812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235742812">(Apr 22 2021 at 20:30)</a>:</h4>
<p>With judicious use of CBOR tags, specific datetime types, etc, it'd be possible to do a better job of representing several FHIR datatypes than we do in our JSON syntax (e.g., exact representation of decimals; not to mention directly-embedded binary data for <code>Attachment.data</code>).</p>



<a name="235745182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235745182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235745182">(Apr 22 2021 at 20:49)</a>:</h4>
<p>I haven't looked at it, but if it's JSON based, then it would have the same problems with decimals?</p>



<a name="235745566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235745566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235745566">(Apr 22 2021 at 20:52)</a>:</h4>
<p>It's not JSON based.</p>



<a name="235745606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235745606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235745606">(Apr 22 2021 at 20:53)</a>:</h4>
<p>I mean, "based on the wildly successful JSON data model" is true but not the full story.</p>



<a name="235745900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235745900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235745900">(Apr 22 2021 at 20:55)</a>:</h4>
<p>There are defined tags for things like decimal fractions (<a href="https://www.rfc-editor.org/rfc/rfc8949.html#fractions">https://www.rfc-editor.org/rfc/rfc8949.html#fractions</a>)</p>



<a name="235746184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235746184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235746184">(Apr 22 2021 at 20:57)</a>:</h4>
<div class="codehilite"><pre><span></span><code>C4             -- Tag 4
   82          -- Array of length 2
      21       -- -2
      19 6ab3  -- 27315
</code></pre></div>
<p>This is a "tagged array" -- Tag 4 indicates the array should be treated as a decimal fraction; following the tag is an array of length 2 containing <code>[-2, 27315]</code>, which all together tells you "take 10^-2 * 27315  === 273.14".</p>



<a name="235746421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235746421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235746421">(Apr 22 2021 at 20:59)</a>:</h4>
<p>Of course, in our FHIR mapping we could say to use tagged arrays like this; or heck we could say "use a string with the decimal inside". These are the kinds of decisions a CBOR implementation of FHIR would need to make (and the kinds of things likely to vary if we don't standardize it).</p>



<a name="235746466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235746466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235746466">(Apr 22 2021 at 20:59)</a>:</h4>
<p>Sounds like there's not a vast community interest in this yet though, and I'm certainly no expert (I've spent maybe 90min reading the spec).</p>



<a name="235748120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235748120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235748120">(Apr 22 2021 at 21:05)</a>:</h4>
<p>well, we've also talked about BSON, ASN.1 and a couple of others that all appear to do pretty much the same thing, but none of them have roused enough interest to get work</p>



<a name="235748379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235748379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235748379">(Apr 22 2021 at 21:07)</a>:</h4>
<p>I suggest that you write a one page recommending a set of decisions, maybe on confluence? Then if there's enough interest we can elevate it</p>



<a name="235754454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235754454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235754454">(Apr 22 2021 at 21:54)</a>:</h4>
<p>I was hoping to find someone else who wanted to do this, or (better still) had already gone through this exercise ;-) But I'll put this on my list of "spare time" projects.</p>



<a name="235759499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235759499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235759499">(Apr 22 2021 at 22:40)</a>:</h4>
<p>lets just use HL7 MLLP</p>



<a name="235763614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235763614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235763614">(Apr 22 2021 at 23:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> Have you been fired today?</p>



<a name="235763795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235763795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235763795">(Apr 22 2021 at 23:24)</a>:</h4>
<p>It is very compact.</p>



<a name="235770583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CBOR/near/235770583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CBOR.html#235770583">(Apr 23 2021 at 00:43)</a>:</h4>
<p>Minimalism is trendy these days.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
