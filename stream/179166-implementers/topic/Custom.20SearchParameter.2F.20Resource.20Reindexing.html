---
layout: page
title: "FHIR Chat  · Custom SearchParameter/ Resource Reindexing · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html">Custom SearchParameter/ Resource Reindexing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205487729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20SearchParameter/%20Resource%20Reindexing/near/205487729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Hummel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html#205487729">(Jul 30 2020 at 14:47)</a>:</h4>
<p>Hello everyone, me and my team had a Fhir seminar with Simone Heckmann recently and she told us about this chat! I am currently facing a problem that I could not solve since over a week, maby some of you had similar problems and could point me in a direction.</p>
<p>We have our own fhir r4 server and i create two custom search parameters for the Resource Task via the Generic Client after starting our application. In console I get the following message "Marking all resources of type Task for reindexing - Got job ID[1]".</p>
<p>So far so good.In case there are already resources in the database, they have to be re-indexed (even if it might take a while). </p>
<p>However, only the job is created but not executed. According to my research, following class is responsible for this<br>
<a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/ca/uhn/fhir/jpa/search/reindex/ResourceReindexingSvcImpl.html">https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/ca/uhn/fhir/jpa/search/reindex/ResourceReindexingSvcImpl.html</a></p>
<p>Since I could not directly use the existing functionality of this class, I created my own version of it.<br>
Using the start() and forceReindexingPass() methods everything works as desired. However, the workaround is too cumbersome, so new problems arise.</p>
<p>What am I missing?</p>



<a name="205508872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20SearchParameter/%20Resource%20Reindexing/near/205508872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html#205508872">(Jul 30 2020 at 17:42)</a>:</h4>
<p>It might be best to raise this on <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>



<a name="205567544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20SearchParameter/%20Resource%20Reindexing/near/205567544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html#205567544">(Jul 31 2020 at 08:09)</a>:</h4>
<p><span class="user-mention" data-user-id="326329">@Marian Hummel</span> you could expose a custom operation on your systemProvider where you have access to the ResourceReindexingSvc from where you can call forceReindexingPass</p>



<a name="205573547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20SearchParameter/%20Resource%20Reindexing/near/205573547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Hummel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html#205573547">(Jul 31 2020 at 09:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> thanks, i have not seen this channel. can I/you move it?</p>



<a name="205573617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20SearchParameter/%20Resource%20Reindexing/near/205573617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Hummel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html#205573617">(Jul 31 2020 at 09:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> Ah great, your idea now seems obvious, but i have not thought of it. However, I'm not quite sure how I should proceed further with</p>
<p><a href="https://www.hl7.org/fhir/operationdefinition.html">https://www.hl7.org/fhir/operationdefinition.html</a> or<br>
<a href="https://www.hl7.org/fhir/capabilitystatement.html">https://www.hl7.org/fhir/capabilitystatement.html</a></p>



<a name="205573900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20SearchParameter/%20Resource%20Reindexing/near/205573900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html#205573900">(Jul 31 2020 at 09:39)</a>:</h4>
<p>If you are running on R4, then you are hitting <a href="https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/r4/JpaSystemProviderR4.java">https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/r4/JpaSystemProviderR4.java</a> which extends <a href="https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/BaseJpaSystemProviderDstu2Plus.java">https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/BaseJpaSystemProviderDstu2Plus.java</a> meaning that you can find inspiration in making your custom systemProvider operation by looking at <a href="https://github.com/jamesagnew/hapi-fhir/blob/3098affccb6ac051605ec61ea87c41725bd42ec1/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/BaseJpaSystemProviderDstu2Plus.java#L35">https://github.com/jamesagnew/hapi-fhir/blob/3098affccb6ac051605ec61ea87c41725bd42ec1/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/BaseJpaSystemProviderDstu2Plus.java#L35</a></p>



<a name="205575247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20SearchParameter/%20Resource%20Reindexing/near/205575247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Hummel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html#205575247">(Jul 31 2020 at 09:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> thank you Jens, now i will have some stuff to read :)</p>



<a name="205591284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20SearchParameter/%20Resource%20Reindexing/near/205591284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20SearchParameter.2F.20Resource.20Reindexing.html#205591284">(Jul 31 2020 at 13:44)</a>:</h4>
<p><span class="user-mention" data-user-id="326329">@Marian Hummel</span> Moving posts between streams isn't possible - but you can raise them on a different stream (when asked to do so - we generally don't like the same question being asked in multiple streams at the same time).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
