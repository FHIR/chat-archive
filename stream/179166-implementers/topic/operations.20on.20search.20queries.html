---
layout: page
title: "FHIR Chat  · operations on search queries · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html">operations on search queries</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153970955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153970955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153970955">(Jun 21 2018 at 13:08)</a>:</h4>
<p>As i understand you can't combine a search and a operation like e.g. <code>{{baseurl}}/Composition?patient=Patient/4953/$document</code></p>



<a name="153970959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153970959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153970959">(Jun 21 2018 at 13:20)</a>:</h4>
<p>am i right in my understanding of the standard? I was wondering because the example above would be quite useful sometimes, the problem here seems to be $ as a composite search param &lt;-&gt; operation param</p>



<a name="153970981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153970981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153970981">(Jun 21 2018 at 14:44)</a>:</h4>
<p>The closest thing that you could do is something like: [base]/Composition?patient=Patient/4953&amp;_query=$document<br>
However, this is would  only be possible if $document would be a named query and not an operation. <br>
If you really need it, it would be possible to define a custom named query for it.</p>



<a name="153970982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153970982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153970982">(Jun 21 2018 at 14:50)</a>:</h4>
<p>Or you could start a discussion about whether or not it would make sense to allow (some) operations also as named queries :P</p>



<a name="153971063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153971063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153971063">(Jun 22 2018 at 08:32)</a>:</h4>
<p>the idea with the named query is nice but not according to the spec, i think. Named queries have to be searches as well, and are triggered through a search [GET], whilst Operations are triggered through a POST.</p>



<a name="153971202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153971202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153971202">(Jun 22 2018 at 15:41)</a>:</h4>
<p>Operations can be triggered through GET in some cases</p>



<a name="153971356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153971356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153971356">(Jun 23 2018 at 18:50)</a>:</h4>
<p>The main reason behind this idea is that there is no real difference between the current OperationDefinition for $document and a named query.<br>
From what I understand, everything could stay the same, besides changing the type to "query". <br>
Moreover, as <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  mentioned,  in cases where the operation is idempotent and only requires simple input parameters, we can also execute this operation via GET. So it would be theoretically executable it in a search environment. Additionally, $doucment is returning a bundle and is, therefore, matching the requirements for the return values of named queries as defined in section 5.4.3.4 - Executing Operations and Named Queries.</p>
<p>So maybe, it should be discussed if a third "kind" can be introduced which would be a mix of "query" and "operation". It would reduce the need of having to define something almost identical. This idea is just meant as some food for thought, so please don't judge it too harshly.</p>



<a name="153971470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153971470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153971470">(Jun 25 2018 at 10:22)</a>:</h4>
<p>why would need to define something almost identical - I followed the rest of what you wrote, but I din't see about that</p>



<a name="153971538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153971538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153971538">(Jun 25 2018 at 13:49)</a>:</h4>
<p>It was meant in reference to the current approach. To make the search request work, you need to define the named query, which is almost identical to the already defined $document operation.</p>



<a name="153996980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153996980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153996980">(Sep 14 2018 at 12:47)</a>:</h4>
<p>I gave this issue another thought and still think that it has its usecase. </p>
<div class="codehilite"><pre><span></span>{{baseurl}}/Composition?patient=Patient/4953/$document
{{baseurl}}/ValueSet?url=http://hl7.org/fhir/ValueSet/administrative-gender/$expand
</pre></div>


<p>are both examples where it would be very useful to be able to chain query with an operation. It safes you a http request. I know i could do the expanse with a POST with a Parameter Object, chaining queries with operations seems to be the more elegant way.</p>



<a name="153998013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998013">(Sep 19 2018 at 07:50)</a>:</h4>
<p>Being able to combine search and an operation for sure is useful in some, probably many, cases. For such a "conditional operation", it would have to be clarified what would happen in the cases of zero/one/many matches. It might be necessary to define that differently for each operation. And in the first place, define which operations should be supported here.<br>
Also it might be necessary to extend OperationDefinition eccordingly.<br>
I think that it's worth to further detail the idea.</p>



<a name="153998238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998238">(Sep 19 2018 at 16:19)</a>:</h4>
<p>I defined in my operation the search parameters you can use with it.    e.g. _count</p>



<a name="153998251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998251">(Sep 19 2018 at 16:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> So you did add search parameters to the operation as parameters? This could be a solution, but you have to build your own operation+operation implementation.</p>



<a name="153998252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998252">(Sep 19 2018 at 16:36)</a>:</h4>
<p>Looking at the Examples above ($expand, $document) i simply want to be able to chain a search with an operation. This safes a Roundtrip to the server.</p>



<a name="153998253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998253">(Sep 19 2018 at 16:37)</a>:</h4>
<p>I don't think building operations, or named queries based on existing operations is very elegant. It duplicates logic and code.</p>



<a name="153998254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998254">(Sep 19 2018 at 16:38)</a>:</h4>
<p>as <span class="user-mention" data-user-id="191436">@Stefan Lang</span> mentioned: if we want to chain searches with operations (working title: Conditional Operation), we have to select which operations could be supported and define the output of the search (none|one|many).</p>



<a name="153998255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998255">(Sep 19 2018 at 16:39)</a>:</h4>
<p>I would be happy to let the operation fail if zero, or many results are returned from the search. Of course this would be only applicable to operations on a single resource</p>



<a name="153998257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998257">(Sep 19 2018 at 16:40)</a>:</h4>
<blockquote>
<p>So you did add search parameters to the operation as parameters? </p>
</blockquote>
<p>NO  here is my example ....  <a href="http://www.fhir.org/guides/argonaut/scheduling/OperationDefinition-appointment-find.html" target="_blank" title="http://www.fhir.org/guides/argonaut/scheduling/OperationDefinition-appointment-find.html">http://www.fhir.org/guides/argonaut/scheduling/OperationDefinition-appointment-find.html</a></p>
<p>In the notes I added <br>
"To set the upper limit on the total number of available appointment options to return use the standard _count search parameter. See the examples below for how this is implemented.<br>
Using Both GET and POST Syntax the operation can be invoked as follows:</p>
<p>GET [base]/Appointment/$find?{parameters}&amp;?{_count}</p>
<p>POST [base]/Appointment/$find?{_count}"</p>
<p>is this what you were looking to  do?:</p>



<a name="153998260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998260">(Sep 19 2018 at 16:43)</a>:</h4>
<p>I think _count is a different case here, since it is not a search parameter, but just defines the number of entries in the returning bundle</p>



<a name="153998270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998270">(Sep 19 2018 at 16:48)</a>:</h4>
<p>no i wanted to be able to something like this: </p>
<div class="codehilite"><pre><span></span>{{baseurl}}/Composition?patient=Patient/4953/$document
{{baseurl}}/ValueSet?url=http://hl7.org/fhir/ValueSet/administrative-gender/$expand
</pre></div>



<a name="153998357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998357">(Sep 19 2018 at 19:30)</a>:</h4>
<p>the 2nd one,  $expand defines an input parameter "url". So it should be </p>
<div class="codehilite"><pre><span></span>{{baseurl}}/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/administrative-gender
</pre></div>



<a name="153998361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998361">(Sep 19 2018 at 20:05)</a>:</h4>
<p>i know, but maybe i'm selecting the ValueSet i'd like to expand by another search query. The question to me remains, why is a operation on a search result not valid. So i can chain search and operation in one request. Adding similar functionality to operations as input parameters seems more work to me and duplicating search mechanisms inside of the operation.</p>



<a name="153998907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998907">(Sep 21 2018 at 04:01)</a>:</h4>
<p>this kind of thing is on my todo list but (a) it's actually really hard and (b) my todo list keeps getting knocked around</p>



<a name="153998988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998988">(Sep 21 2018 at 14:17)</a>:</h4>
<p>Most operation is on single instance and search returns a list of instance in a bundle. Do we want to apply operation to all of them? For example, do we want to generate document for all male patients when such request come in:</p>
<div class="codehilite"><pre><span></span>{{baseurl}}/Composition?patient.gender=male/$document
</pre></div>



<a name="153998998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153998998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153998998">(Sep 21 2018 at 14:52)</a>:</h4>
<p>As <span class="user-mention" data-user-id="191436">@Stefan Lang</span> mentioned earlier: you could see this as a "conditional" operation, or as a chained operation behind a searchQuery. So you have to define what kind of input your are expecting.<br>
For $document this could be:</p>
<ul>
<li>0 found -&gt; Error</li>
<li>1 found -&gt; create DocumentBundle</li>
<li>2-* found -&gt; create a SearchBundle with one document for each found composition _OR_ Error as we want to expect only one.<br>
This would be up for definition/discussion</li>
</ul>



<a name="153999000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153999000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153999000">(Sep 21 2018 at 14:53)</a>:</h4>
<p>If i can support this process in any way, let me know <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="153999001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153999001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153999001">(Sep 21 2018 at 14:55)</a>:</h4>
<p>Due to the fact that $document itself returns a search bundle, we might want to return an empty bundle if we have 0 matches. I fully support the rest of the proposal :)</p>



<a name="153999028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/153999028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#153999028">(Sep 21 2018 at 15:46)</a>:</h4>
<p>Right, the easiest, and probably most transparent, way would be returning a searchset bundle with the operation applied to each resource within that bundle. This would avoid the 0/1/many cases - from an implementation point of view just an iteration over all results of the search, so probably easier to implement.<br>
This for sure would work for $document, still not sure if that would apply for all, or at least for all idempotent operations (not checking, just guessing at the moment)</p>



<a name="154019621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/154019621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#154019621">(Nov 19 2018 at 17:54)</a>:</h4>
<p>after discussing this during a breakout at the devdays18 in AMS, we came to the following solution:</p>



<a name="154019622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/154019622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#154019622">(Nov 19 2018 at 17:54)</a>:</h4>
<p><a href="/user_uploads/10155/8vzpFMGhNDH_BZmg8myhnYcn/flipchart_devDays_breakout.pdf" target="_blank" title="flipchart_devDays_breakout.pdf">flipchart_devDays_breakout.pdf</a></p>



<a name="154019623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/154019623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#154019623">(Nov 19 2018 at 17:59)</a>:</h4>
<p>To enable the functionality of operations on search results a new operation has to be defined.<br>
This operation takes as input parameters:</p>
<ul>
<li>0..1 search params string to define the search critereas</li>
<li>1..* operation names. Multiple operations can be chained, the output of the first operation is used as the input of the second</li>
</ul>



<a name="154019788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/154019788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#154019788">(Nov 20 2018 at 13:47)</a>:</h4>
<p>Sounds like a pipelining mechanism. Before you know it you want to execute a third step after, say, searching and expanding and then limiting the output with _summary.  In that case, it would be interesting to consider using a batch Bundle containing the operations - but instead of the output of the steps going into the response Bundle, they would go into the next step in the batch - the output is the result of the last step.  I am knowlingly skipping a lot of steps here, just try see how far I can push this ;-)</p>



<a name="154019951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/154019951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#154019951">(Nov 21 2018 at 05:06)</a>:</h4>
<p>the trouble with this - and I've been thinking about this quite a bit - is that the input and output are not the same type. So you'd have to specify some complicated transform between b and c. This operation is very specifically limited to avoid that - the output of a is a list of resources, and the input for b is a single resource, and the operation is defined as an iterator</p>



<a name="154020116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/154020116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#154020116">(Nov 21 2018 at 11:58)</a>:</h4>
<p>Yes, and the _summary is defined on a search, but if you'd like to do a _summary on the previous step, you need some kind of identity search.</p>



<a name="155189272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/155189272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#155189272">(Jan 15 2019 at 17:52)</a>:</h4>
<p>here is the current state of the discussion <span class="user-mention" data-user-id="191506">@Yunwei Wang</span></p>



<a name="156432639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/156432639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#156432639">(Jan 19 2019 at 10:53)</a>:</h4>
<p>Does someone has any suggestions for a good name for this operation, btw?</p>



<a name="156687891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/operations%20on%20search%20queries/near/156687891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/operations.20on.20search.20queries.html#156687891">(Jan 23 2019 at 13:19)</a>:</h4>
<p>searchOp or opSearch? <br>
Standing for operation(s) on search queries</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
