---
layout: page
title: "FHIR Chat  · Issue uploading Questionnaire resource to FHIR server · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Issue.20uploading.20Questionnaire.20resource.20to.20FHIR.20server.html">Issue uploading Questionnaire resource to FHIR server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173295319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Issue%20uploading%20Questionnaire%20resource%20to%20FHIR%20server/near/173295319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike C. <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Issue.20uploading.20Questionnaire.20resource.20to.20FHIR.20server.html#173295319">(Aug 15 2019 at 14:34)</a>:</h4>
<p>Greetings FHIR Friends,</p>
<p>I am having a bit of trouble uploading a specific Questionnaire resource to my FHIR server (from localhost to the internet - the FHIR server is online) </p>
<p>When I try to upload my questionnaire, I am met with the '400 Bad Request' response which reads as follows: </p>
<p>issue": [<br>
            {<br>
              "severity": "error",<br>
              "code": "invalid",<br>
              "diagnostics": "Type checking the data: Choice element 'valueExpression' is suffixed with unexpected type 'Expression'"<br>
            }<br>
          ]</p>
<p>I believe this is rooted from one (or actually maybe several) of my Extension elements, which are defined as follows: </p>
<p>{<br>
          "url" : "<a href="http://hl7.org/fhir/StructureDefinition/variable" target="_blank" title="http://hl7.org/fhir/StructureDefinition/variable">http://hl7.org/fhir/StructureDefinition/variable</a>",<br>
          "valueExpression" : {<br>
            "name": "scoreExt",<br>
            "language": "text/fhirpath",<br>
            "expression": "'<a href="http://hl7.org/fhir/StructureDefinition/ordinalValue" target="_blank" title="http://hl7.org/fhir/StructureDefinition/ordinalValue">http://hl7.org/fhir/StructureDefinition/ordinalValue</a>'"<br>
          }<br>
}</p>
<p>Has anyone ever experienced this error before? I am not seeing a lot online about this specific error type, and I have been checking the Extensibility and Questionnaire documentation pages (<a href="http://hl7.org/fhir/extensibility-registry.html" target="_blank" title="http://hl7.org/fhir/extensibility-registry.html">http://hl7.org/fhir/extensibility-registry.html</a>, <a href="https://www.hl7.org/fhir/questionnaire.html" target="_blank" title="https://www.hl7.org/fhir/questionnaire.html">https://www.hl7.org/fhir/questionnaire.html</a>)</p>



<a name="173315079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Issue%20uploading%20Questionnaire%20resource%20to%20FHIR%20server/near/173315079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Issue.20uploading.20Questionnaire.20resource.20to.20FHIR.20server.html#173315079">(Aug 15 2019 at 19:00)</a>:</h4>
<p>is this a version issue? What version is the server expecting?</p>



<a name="173317980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Issue%20uploading%20Questionnaire%20resource%20to%20FHIR%20server/near/173317980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike C. <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Issue.20uploading.20Questionnaire.20resource.20to.20FHIR.20server.html#173317980">(Aug 15 2019 at 19:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Thanks for the reply. My server is running version 3.0.1 - I do not see anything in the Questionnaire resource itself referencing a version. Is there something I should look at in terms of 3.0.1 documentation?</p>



<a name="173318142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Issue%20uploading%20Questionnaire%20resource%20to%20FHIR%20server/near/173318142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Issue.20uploading.20Questionnaire.20resource.20to.20FHIR.20server.html#173318142">(Aug 15 2019 at 19:38)</a>:</h4>
<p>Expression is a R4 data type. Generally, the whole variable support in Questionnaire is R4 based</p>



<a name="173318605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Issue%20uploading%20Questionnaire%20resource%20to%20FHIR%20server/near/173318605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike C. <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Issue.20uploading.20Questionnaire.20resource.20to.20FHIR.20server.html#173318605">(Aug 15 2019 at 19:44)</a>:</h4>
<blockquote>
<p>Expression is a R4 data type. Generally, the whole variable support in Questionnaire is R4 based</p>
</blockquote>
<p>Ah, okay. Understood. Thank you very much for your replies!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
