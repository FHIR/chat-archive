---
layout: page
title: "FHIR Chat  · validator jar with IG with valueset · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html">validator jar with IG with valueset</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204901089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/204901089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Bosman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#204901089">(Jul 24 2020 at 10:39)</a>:</h4>
<p>I was testing with the validator jar against an IG on my machine that contains a Valueset (that only exists in that IG)<br>
The Valueset  only contains an 'include' of a codesystem (a codesystem that only exists in that IG)<br>
In other words: when I look at the Valueset in the visualised IG, I see the values of that codesystem nicely shown under the Expansion - so all is well.<br>
That IG contains a structureDefinition that uses that Valueset.</p>
<p>Problem: when running the validator, using -ig and pointing to the locally stored IG, it works well but it gives the warning: 'The value provided ("&lt;the system of the code&gt;") is not in the value set &lt;the valueset&gt;". It seems to me the validator does not take into account the codes of the codesystem that the Valueset refers to. Is this expected behaviour and/or is there a magic trick to make the validator jar aware of the codes that are supposed to be in the valueset as shown in its expansion?</p>



<a name="204905948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/204905948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#204905948">(Jul 24 2020 at 11:42)</a>:</h4>
<p>Is the IG available somewhere it could be tested with?</p>



<a name="204907068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/204907068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Bosman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#204907068">(Jul 24 2020 at 11:59)</a>:</h4>
<p><a href="/user_uploads/10155/afNNyt1JdTJMcP5wUp_iu1Yi/package.tgz">package.tgz</a><br>
<a href="/user_uploads/10155/xwz0zFhWbF9Ulk7HmlAZuhjl/Bundle-ex01.xml">Bundle-ex01.xml</a><br>
It is not available on line but I attached it here.  The example uses two 2 IG's:one is available on line. <br>
So what I would do is something like this: <br>
java -jar validator_cli.jar Bundle-ex01.xml -version 4.0.1 -ig <a href="https://ehealthplatformstandards.github.io">https://ehealthplatformstandards.github.io</a> -ig C:\...\package.tgz</p>



<a name="204907471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/204907471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#204907471">(Jul 24 2020 at 12:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="205082858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205082858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205082858">(Jul 27 2020 at 05:23)</a>:</h4>
<p>the problem is something quite different to what you were looking for.</p>



<a name="205082902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205082902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205082902">(Jul 27 2020 at 05:24)</a>:</h4>
<blockquote>
<p>The value provided ("&lt;the system of the code&gt;") is not in the value set &lt;the valueset&gt;</p>
</blockquote>
<p>Indeed, the <code>system</code>is not the code. The problem is here:</p>



<a name="205082922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205082922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205082922">(Jul 27 2020 at 05:24)</a>:</h4>
<div class="codehilite"><pre><span></span><code>  <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span> <span class="p">:</span> <span class="s2">&quot;Claim.item.productOrService.coding.system&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span> <span class="p">:</span> <span class="s2">&quot;Claim.item.productOrService.coding.system&quot;</span><span class="p">,</span>
<span class="err">...</span>
        <span class="nt">&quot;binding&quot;</span> <span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;strength&quot;</span> <span class="p">:</span> <span class="s2">&quot;extensible&quot;</span><span class="p">,</span>
          <span class="nt">&quot;valueSet&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
</code></pre></div>



<a name="205082940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205082940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205082940">(Jul 27 2020 at 05:25)</a>:</h4>
<p>the binding should be on the coding, not on the coding.system</p>



<a name="205088697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205088697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Bosman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205088697">(Jul 27 2020 at 07:38)</a>:</h4>
<p><a href="/user_uploads/10155/_yFbGSMnMl73jNvXg4j8sED9/package.tgz">package.tgz</a><br>
Tx, Graham - indeed that makes sense! <br>
However, using the validator jar, it still warns the coding is not in the valueset just like in my original question.</p>



<a name="205103486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205103486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205103486">(Jul 27 2020 at 11:00)</a>:</h4>
<p>what's the exact error message</p>



<a name="205110878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205110878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Bosman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205110878">(Jul 27 2020 at 12:34)</a>:</h4>
<p>The Coding provided is not in the value set <a href="http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice">http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice</a>, and a code should come from this value set unless it has no suitable code.  (error message = Not in value set <a href="http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice">http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice</a>)</p>



<a name="205111508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205111508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205111508">(Jul 27 2020 at 12:40)</a>:</h4>
<p>hmm. a new validator is due out in a few hours. Once it's released (watch <a class="stream" data-stream-id="217600" href="/#narrow/stream/217600-tooling.2Freleases">#tooling/releases</a> ), run it again, and then paste the exact error message here</p>



<a name="205135173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205135173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Bosman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205135173">(Jul 27 2020 at 15:58)</a>:</h4>
<p>Warning @ Bundle.entry[9].resource.ofType(Claim).item[0].productOrService.coding[0] (line 344, col21) : The Coding provided (<a href="http://www.mycarenet.be/fhir/CodeSystem/nihdi-physiotherapy-pathologysituationcode#fb-51">http://www.mycarenet.be/fhir/CodeSystem/nihdi-physiotherapy-pathologysituationcode#fb-51</a>) is not in the value set <a href="http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice">http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice</a>, and a code should come from this value set unless it has no suitable code.  (error message = Not in value set <a href="http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice">http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice</a>)<br>
  Warning @ Bundle.entry[9].resource.item[0].productOrService.coding[0] (line 344, col21) : The Coding provided (<a href="http://www.mycarenet.be/fhir/CodeSystem/nihdi-physiotherapy-pathologysituationcode#fb-51">http://www.mycarenet.be/fhir/CodeSystem/nihdi-physiotherapy-pathologysituationcode#fb-51</a>) is not in the value set <a href="http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice">http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice</a>, and a code should come from this value set unless it has no suitable code.  (error message = Not in value set <a href="http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice">http://www.mycarenet.be/fhir/ValueSet/be-beproductorservice</a>)</p>



<a name="205160050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205160050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205160050">(Jul 27 2020 at 19:45)</a>:</h4>
<p>it was because the code system was defined as a fragment. One of the checks deep down in the validator's terminology processing forgot to allow for fragments. Fixed next release</p>



<a name="205203238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/validator%20jar%20with%20IG%20with%20valueset/near/205203238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Bosman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/validator.20jar.20with.20IG.20with.20valueset.html#205203238">(Jul 28 2020 at 06:59)</a>:</h4>
<p>Great news &amp; tx for investigating!!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
