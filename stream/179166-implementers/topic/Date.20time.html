---
layout: page
title: "FHIR Chat  · Date time · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20time.html">Date time</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215269224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20time/near/215269224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dharani Ranasinghe <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20time.html#215269224">(Nov 02 2020 at 00:00)</a>:</h4>
<p>As the value to one of the clinical parameters that I'm usin g in my project, I need to set the partial date. That means the value contains only the month and the year . Under observation profile I couldn;t find such data type. It has only date time which accepts the full date vale. Can you please let me know how to do that.</p>



<a name="215269891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20time/near/215269891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20time.html#215269891">(Nov 02 2020 at 00:20)</a>:</h4>
<p>DateTime accepts partial dates: see <a href="http://hl7.org/fhir/R4/datatypes.html#dateTime">http://hl7.org/fhir/R4/datatypes.html#dateTime</a><br>
If you want to create a profile of Observation that rejects effectiveDateTime elements with days or smaller components, you could use an invariant.</p>



<a name="215271195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20time/near/215271195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dharani Ranasinghe <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20time.html#215271195">(Nov 02 2020 at 00:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191682">Richard Townley-O'Neill</span> <a href="#narrow/stream/179166-implementers/topic/Date.20time/near/215269891">said</a>:</p>
<blockquote>
<p>DateTime accepts partial dates: see <a href="http://hl7.org/fhir/R4/datatypes.html#dateTime">http://hl7.org/fhir/R4/datatypes.html#dateTime</a><br>
If you want to create a profile of Observation that rejects effectiveDateTime elements with days or smaller components, you could use an invariant.</p>
</blockquote>
<p>Thanks Richard. If Date time accepts partial dates , then I think i can use it</p>



<a name="225091329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20time/near/225091329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20time.html#225091329">(Feb 03 2021 at 22:16)</a>:</h4>
<p>I'd like to follow-up on this question. Specifically, have you found dates are used more for calculations or for display? I ask this because I'm trying to structure my methods for return values in these classes. Currently, if I call</p>
<p>final obs = Observation(effectiveDateTime: '2020')<br>
print(obs.effectiveDateTime) // '2020'</p>
<p>I get a string of the full or partial data returned. But since it's a String, I can't calculate anything with it. If I turn it into a DateTime in the language I'm using (Dart), it automatically turns it into a full date, so '2020' will become '2020-01-01', but you can now do DateTime calculations on it. I could also add a couple of methods for each type that I need returned. So it would look something like this:</p>
<p>final obs = Observation(effectiveDateTime: '2020')<br>
print(obs.effectiveDateTime); // '2020-01-01 00:00:00.000' as a DateTime to allow calculations<br>
print(obs.effectiveDateTime.value); // same as above because that's how Dart works<br>
print(obs.effectiveDateTime.toString()); // '2020'<br>
print(obs.effectiveDateTime.toJson()); // "2020"</p>
<p>Or, if it's less likely to use as calculations and more likely to be used as a String for display, I could do: </p>
<p>final obs = Observation(effectiveDateTime: '2020')<br>
print(obs.effectiveDateTime); // '2020' as a String<br>
print(obs.effectiveDateTime.value); // same as above because that's how Dart works<br>
print(obs.effectiveDateTime.toString()); // '2020'<br>
print(obs.effectiveDateTime.toJson()); // "2020"<br>
print(obs.effectiveDateTime.dateTime); //'2020-01-01 00:00:00.000' as a DateTime to allow calculations</p>
<p>I realize it's not a big difference, but I was just curious if anyone else had run into this or had thoughts about which way is the most convenient</p>



<a name="225557360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20time/near/225557360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20time.html#225557360">(Feb 08 2021 at 15:10)</a>:</h4>
<p>Partial dates (or low precision dates) are always a challenge and your answer will probably be dependent on the situation. No magic bullet. In your example of wanting to do calculations you are allowing DART to fill in the missing values with the min allowed for each discrete field. This may not always be the correct fill in. Let's assume the calculation is lte2020. Since it's being used as the upper bound then the fill in values will probably be 2020-12-31 23:59:59.999 to resolve correctly. Generally when you have a single point, but low precision then the value (should you need to estimate the higher precision is probably the 1/2 point so 2020, would be 2020-07-01 00:00:00 (or close). Many cases you might have to keep track of the precision as a corollary field (date) 2020-01-01 00:00:00 (precision year). And any math would have to only compare values up to the precision shared by both values.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
