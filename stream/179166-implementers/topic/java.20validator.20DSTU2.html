---
layout: page
title: "FHIR Chat  · java validator DSTU2 · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html">java validator DSTU2</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="241167644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241167644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abigail Huang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241167644">(Jun 02 2021 at 15:41)</a>:</h4>
<p>Hi all! <br>
Does anyone know if the java validator works for validating bundles in DSTU2? (And if so, how I could get it to work?) When I validate individual DSTU2 resources it works correctly. However, once I try to run a DSTU2 bundle it seems to validate against a different profile.</p>
<p>As seen below, I specify -version 1.0.2 but then it loads hl7.fhir.r5.core. In the error message, it says that practitionerRole is not allowed by the Practitioner profile when it actually is in DSTU2. Same for patient in the Condition profile. </p>
<p>Any thoughts/advice would be greatly appreciated. Thanks so much!</p>
<div class="codehilite"><pre><span></span><code>abigailhuang-macbookpro2:downloads abigailhuang$ java -jar validator_cli1.jar testbundle.json -version 1.0.2
FHIR Validation tool Version 5.4.2 (Git# 552ef55adaf0). Built 2021-05-21T18:15:07.271Z (12 days old)
  Java:   16.0.1 from /Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home on x86_64 (64bit). 8192MB available
  Paths:  Current = /Users/abigailhuang/Downloads, Package Cache = /Users/abigailhuang/.fhir/packages
  Params: testbundle.json -version 1.0.2
Loading
  Load FHIR v1.0 from hl7.fhir.r2.core#1.0.2 - 3378 resources (00:05.0253)
  Load hl7.terminology#2.1.0 - 3767 resources (00:00.0943)
  Terminology server http://tx.fhir.org - Version 1.9.372 (00:01.0597)
  Get set...  go (00:00.0824)
Validating
  Validate testbundle.json  Load hl7.fhir.r5.core#current - 1990 resources (00:01.0070)
 00:08.0170
Done. Times: Loading: 00:08.0983, validation: 00:09.0241. Memory = 548Mb

*FAILURE*: 14 errors, 2 warnings, 3 notes
  Error @ Bundle.entry[1].resource.ofType(Practitioner).practitionerRole[0] (line 191, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[1].resource.ofType(Practitioner).practitionerRole[1] (line 205, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[2].resource.ofType(Practitioner).practitionerRole[0] (line 270, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[2].resource.ofType(Practitioner).practitionerRole[1] (line 284, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[3].resource.ofType(Condition).patient (line 310, col15) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Condition
</code></pre></div>



<a name="241182117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241182117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241182117">(Jun 02 2021 at 17:31)</a>:</h4>
<p>Can you attach your test.json file?</p>



<a name="241182123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241182123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241182123">(Jun 02 2021 at 17:31)</a>:</h4>
<p>Also <span class="user-mention" data-user-id="248736">@Mark Iantorno</span></p>



<a name="241182232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241182232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241182232">(Jun 02 2021 at 17:32)</a>:</h4>
<p>hi hello</p>



<a name="241182345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241182345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241182345">(Jun 02 2021 at 17:32)</a>:</h4>
<p>yeah once you attach the test.json I'll give it a go</p>



<a name="241182352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241182352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241182352">(Jun 02 2021 at 17:32)</a>:</h4>
<p>thanks Lloyd</p>



<a name="241182383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241182383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241182383">(Jun 02 2021 at 17:33)</a>:</h4>
<p>please tag me in Zulip when you upload so I get a notification</p>



<a name="241327199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241327199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abigail Huang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241327199">(Jun 02 2021 at 22:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> <br>
Thanks so much for testing this out! Most greatly appreciated. I have uploaded both a DSTU2 bundle as well as a single Practitioner resource from the bundle so you can compare the error messages and behavior. The single resource seems to work.</p>
<p><a href="/user_uploads/10155/j_XgpttHdnxiaUrquwMOe6dS/testbundle.json">testbundle.json</a> <a href="/user_uploads/10155/Rl-LLPJwTvr8MKC-JFHHnKHW/testresource.json">testresource.json</a></p>



<a name="241336568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241336568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241336568">(Jun 03 2021 at 00:30)</a>:</h4>
<p>this is what I get:</p>
<div class="codehilite"><pre><span></span><code>FHIR Validation tool Version 5.3.12-SNAPSHOT (Git# 9a82457b36c6). Built 2021-05-12T06:58:07.350+10:00 (22 days old)
  Java:   11.0.9 from C:\Program Files\Java\jdk-11.0.9 on amd64 (64bit). 16344MB available
  Paths:  Current = C:\temp\validator, Package Cache = C:\Users\graha\.fhir\packages
  Params: C:\temp\validator\testbundle.json -version 1.0.2
Loading
  Load FHIR v1.0 from hl7.fhir.r2.core#1.0.2 - 3378 resources (00:03.0256)
  Load hl7.terminology#2.1.0 - 3767 resources (00:00.0765)
  Terminology server http://tx.fhir.org - Version 1.9.372 (00:02.0466)
  Get set...  go (00:00.0760)
Validating
  Validate C:\temp\validator\testbundle.json  Load hl7.fhir.r2.core#1.0.2 - 0 resources (00:01.0159)
 00:01.0748
Done. Times: Loading: 00:07.0513, validation: 00:02.0907. Memory = 236Mb

*FAILURE*: 2 errors, 2 warnings, 6 notes
  Error @ Bundle.entry[2].resource.ofType(Practitioner).identifier[0] (line 230, col18) : Identifier.system must be an absolute reference, not a local reference
  Error @ Bundle.entry[0].resource.ofType(Patient).extension[3].url (line 42, col86) : URL value &#39;http://hl7.org/fhir/StructureDefinition/us-core-birth-sex&#39; does not resolve
  Information @ Bundle.entry[0].resource.ofType(Patient).extension[3] (line 41, col18) : Unknown extension http://hl7.org/fhir/StructureDefinition/us-core-birth-sex
  Information @ Bundle.entry[3].resource.ofType(Condition).patient (line 310, col15) : Details for urn:uuid:cc7e7170-5f3b-4f71-9960-20c189faq001 matching against Profilehttp://hl7.org/fhir/StructureDefinition/Patient
  Information @ Bundle.entry[1].resource.ofType(Practitioner).practitionerRole[0].specialty[0].coding[0] (line 195, col30) : Code System URI &#39;urn:oid:1.2.345.6789.1011.1234567.81&#39; is unknown so the code cannot be validated
  Information @ Bundle.entry[1].resource.ofType(Practitioner).practitionerRole[1].role.coding[0] (line 208, col27) : Code System URI &#39;urn:oid:1.2.345.6789.1011.1234567.81&#39; is unknown so the code cannot be validated
  Information @ Bundle.entry[2].resource.ofType(Practitioner).practitionerRole[0].specialty[0].coding[0] (line 274, col30) : Code System URI &#39;urn:oid:1.2.345.6789.1011.1234567.81&#39; is unknown so the code cannot be validated
  Information @ Bundle.entry[2].resource.ofType(Practitioner).practitionerRole[1].role.coding[0] (line 287, col27) : Code System URI &#39;urn:oid:1.2.345.6789.1011.1234567.81&#39; is unknown so the code cannot be validated
  Warning @ Bundle.entry[0].resource.ofType(Patient).communication[0].language (line 109, col33) : ValueSet http://tools.ietf.org/html/bcp47 not found by validator
  Warning @ Bundle.entry[3].resource.ofType(Condition).code.coding[0] (line 318, col21) : The display &quot;Hypertension&quot; is not a valid display for the code {http://snomed.info/sct}59621000 - should be one of [&quot;Essential hypertension&quot;,&quot;Idiopathic hypertension&quot;,&quot;Systemic primary arterial hypertension&quot;,&quot;Primary hypertension&quot;,&quot;Essential hypertension (disorder)&quot;] (from http://tx.fhir.org/r2) for &#39;http://snomed.info/sct#59621000&#39;
</code></pre></div>



<a name="241336572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241336572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241336572">(Jun 03 2021 at 00:30)</a>:</h4>
<p>that looks right to me</p>



<a name="241343164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241343164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abigail Huang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241343164">(Jun 03 2021 at 02:44)</a>:</h4>
<p>Thanks for trying the bundle out <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ! You're right. That seems correct. I wonder why when I run the same command it says "Validate testbundle.json Load hl7.fhir.r5.core#current" while yours correctly loads hl7.fhir.r2.core#1.0.2. Did you separately download the validation schema for DSTU2? Thanks so much!</p>



<a name="241346761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241346761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241346761">(Jun 03 2021 at 04:13)</a>:</h4>
<p>it shouldn't matter, but I didn't download anything and it shouldn't matter, really. I can't imagine why that's appearing.</p>



<a name="241434248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241434248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abigail Huang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241434248">(Jun 03 2021 at 18:40)</a>:</h4>
<p>Hmm. the only difference I see is the fhir validation tool version based on the output. Is there any place where we can download the older version 5.3.12? <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Do you by chance still have a copy of the older version you are using? I wonder if that would help.</p>



<a name="241442643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241442643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241442643">(Jun 03 2021 at 19:45)</a>:</h4>
<p>All github releases are at  <a href="https://github.com/hapifhir/org.hl7.fhir.core/releases/">https://github.com/hapifhir/org.hl7.fhir.core/releases/</a></p>



<a name="241460396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241460396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abigail Huang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241460396">(Jun 03 2021 at 21:48)</a>:</h4>
<p>Thanks so much <span class="user-mention" data-user-id="192685">@Vassil Peytchev</span> for pointing me to the repository of old releases. Unfortunately, I tried v5.3.12 but bizarrely it still seems to load hl7.fhir.r5.core. Hmmm. I guess the problem is not the version then. </p>
<p>Either way, I really appreciate everyone's help/thoughts!</p>
<div class="codehilite"><pre><span></span><code>abigailhuang-macbookpro2:downloads abigailhuang$ java -jar validator_cliold.jar testbundle.json -version 1.0.2
FHIR Validation tool Version 5.3.12 (Git# a20d84bf2b87). Built 2021-05-13T19:12:53.818Z (21 days old)
  Java:   16.0.1 from /Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home on x86_64 (64bit). 8192MB available
  Paths:  Current = /Users/abigailhuang/Downloads, Package Cache = /Users/abigailhuang/.fhir/packages
  Params: testbundle.json -version 1.0.2
Loading
  Load FHIR v1.0 from hl7.fhir.r2.core#1.0.2 - 3378 resources (00:05.0211)
  Load hl7.terminology#2.1.0 - 3767 resources (00:01.0371)
  Terminology server http://tx.fhir.org - Version 1.9.372 (00:02.0300)
  Get set...  go (00:00.0815)
Validating
  Validate testbundle.json  Load hl7.fhir.r5.core#current - 1990 resources (00:01.0286)
 00:08.0933
Done. Times: Loading: 00:10.0080, validation: 00:10.0220. Memory = 448Mb

*FAILURE*: 14 errors, 2 warnings, 3 notes
  Error @ Bundle.entry[1].resource.ofType(Practitioner).practitionerRole[0] (line 191, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[1].resource.ofType(Practitioner).practitionerRole[1] (line 205, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[2].resource.ofType(Practitioner).practitionerRole[0] (line 270, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[2].resource.ofType(Practitioner).practitionerRole[1] (line 284, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[3].resource.ofType(Condition).patient (line 310, col15) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Condition
  Error @ Bundle.entry[3].resource.ofType(Condition).dateRecorded (line 315, col42) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Condition
</code></pre></div>



<a name="241461436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241461436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abigail Huang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241461436">(Jun 03 2021 at 21:56)</a>:</h4>
<p>In comparison, when I test a single resource using the same command it doesn't load r5.core </p>
<div class="codehilite"><pre><span></span><code>abigailhuang-macbookpro2:downloads abigailhuang$ java -jar validator_cliold.jar testresource.json -version 1.0.2
FHIR Validation tool Version 5.3.12 (Git# a20d84bf2b87). Built 2021-05-13T19:12:53.818Z (21 days old)
  Java:   16.0.1 from /Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home on x86_64 (64bit). 8192MB available
  Paths:  Current = /Users/abigailhuang/Downloads, Package Cache = /Users/abigailhuang/.fhir/packages
  Params: testresource.json -version 1.0.2
Loading
  Load FHIR v1.0 from hl7.fhir.r2.core#1.0.2 - 3378 resources (00:04.0479)
  Load hl7.terminology#2.1.0 - 3767 resources (00:01.0149)
  Terminology server http://tx.fhir.org - Version 1.9.372 (00:01.0962)
  Get set...  go (00:00.0847)
Validating
  Validate testresource.json 00:00.0480
Done. Times: Loading: 00:08.0706, validation: 00:00.0481. Memory = 190Mb

Success: 0 errors, 0 warnings, 2 notes
  Information @ Practitioner.practitionerRole[0].specialty[0].coding[0] (line 68, col21) : Code System URI &#39;urn:oid:1.2.345.6789.1011.1234567.81&#39; is unknown so the code cannot be validated
  Information @ Practitioner.practitionerRole[1].role.coding[0] (line 81, col18) : Code System URI &#39;urn:oid:1.2.345.6789.1011.1234567.81&#39; is unknown so the code cannot be validated
abigailhuang-macbookpro2:downloads abigailhuang$
</code></pre></div>



<a name="241462662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241462662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241462662">(Jun 03 2021 at 22:08)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> I cannot reproduce this. can you?</p>



<a name="241473916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241473916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abigail Huang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241473916">(Jun 04 2021 at 00:43)</a>:</h4>
<p>Hmm. Since no one else can reproduce this, it's probably just on my local machine. I did find some old hl7.fhir.r5.core.tgz files on my computer so I wonder if the issue is that I had previously installed something that is causing the validator to use r5 over r2. I'll do more digging on my end. Thanks so much all! Greatly appreciate your help.</p>



<a name="241488464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241488464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241488464">(Jun 04 2021 at 03:54)</a>:</h4>
<p>well, I don't know, it's not going to randomly load r5 because you have it. It's loading it for a reason. Tell you what, can you clear out your package cache, which is /Users/abigailhuang/.fhir/packages, and also /Users/abigailhuang/.fhir/package-client, and try again?</p>



<a name="241533383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241533383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241533383">(Jun 04 2021 at 13:20)</a>:</h4>
<p>Trying now. Sorry was caught up fixing something yesterday</p>



<a name="241533981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241533981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241533981">(Jun 04 2021 at 13:24)</a>:</h4>
<p>When I run the latest validator 5.4.2</p>



<a name="241534069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241534069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241534069">(Jun 04 2021 at 13:25)</a>:</h4>
<p>For the <code>testbundle.json</code> I get this:</p>



<a name="241534097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241534097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241534097">(Jun 04 2021 at 13:25)</a>:</h4>
<div class="codehilite"><pre><span></span><code>mark@egghead:~/Downloads/temp$ java -jar validator_cli.jar testbundle.json -version 1.0.2
FHIR Validation tool Version 5.4.2 (Git# 552ef55adaf0). Built 2021-05-21T18:15:07.271Z (13 days old)
  Java:   11.0.9.1 from /home/mark/.sdkman/candidates/java/11.0.9.open-adpt on amd64 (64bit). 8028MB available
  Paths:  Current = /home/mark/Downloads/temp, Package Cache = /home/mark/.fhir/packages
  Params: testbundle.json -version 1.0.2
Loading
  Load FHIR v1.0 from hl7.fhir.r2.core#1.0.2 - 3378 resources (00:06.0998)
Installing hl7.terminology#2.1.0 to the package cache
  Fetching:............................................................................
  Installing: ............................................................................ done.
  Load hl7.terminology#2.1.0 - 3767 resources (00:04.0457)
  Terminology server http://tx.fhir.org - Version 1.9.372 (00:06.0345)
  Get set...  go (00:00.0490)
Validating
  Validate testbundle.json  Load hl7.fhir.r3.core#3.0.2 - 4017 resources (00:01.0126)
 00:02.0603
Done. Times: Loading: 00:18.0901, validation: 00:03.0729. Memory = 427Mb

*FAILURE*: 12 errors, 2 warnings, 2 notes
  Error @ Bundle.entry[1].resource.ofType(Practitioner).practitionerRole[0] (line 191, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[1].resource.ofType(Practitioner).practitionerRole[1] (line 205, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[2].resource.ofType(Practitioner).practitionerRole[0] (line 270, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[2].resource.ofType(Practitioner).practitionerRole[1] (line 284, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Practitioner
  Error @ Bundle.entry[3].resource.ofType(Condition).patient (line 310, col15) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Condition
  Error @ Bundle.entry[3].resource.ofType(Condition).dateRecorded (line 315, col42) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/Condition
  Error @ Bundle.entry[2].resource.ofType(Practitioner).identifier[0] (line 230, col18) : Identifier.system must be an absolute reference, not a local reference
  Error @ Bundle.entry[3].resource.ofType(Condition).category.coding[0] (line 328, col21) : Unknown Code http://hl7.org/fhir/condition-category#diagnosis in http://hl7.org/fhir/condition-category for &#39;http://hl7.org/fhir/condition-category#diagnosis&#39;
  Error @ Bundle.entry[0].resource.ofType(Patient).extension[3].url (line 42, col86) : URL value &#39;http://hl7.org/fhir/StructureDefinition/us-core-birth-sex&#39; does not resolve
  Error @ Bundle.entry[3].resource.ofType(Condition).category (line 327, col27) : As specified by profile http://hl7.org/fhir/StructureDefinition/Condition, Element &#39;category&#39; is out of order
  Error @ Bundle.entry[3].resource.ofType(Condition).clinicalStatus (line 334, col40) : As specified by profile http://hl7.org/fhir/StructureDefinition/Condition, Element &#39;clinicalStatus&#39; is out of order
  Error @ Bundle.entry[3].resource.ofType(Condition) (line 326, col26) : Condition.subject: minimum required = 1, but only found 0 (from http://hl7.org/fhir/StructureDefinition/Condition)
  Information @ Bundle.entry[0].resource.ofType(Patient).extension[3] (line 41, col18) : Unknown extension http://hl7.org/fhir/StructureDefinition/us-core-birth-sex
  Information @ Bundle.entry[3].resource.ofType(Condition).asserter (line 312, col48) : Details for urn:uuid:cc7e7170-5f3b-4f71-9960-20c189faq002 matching against Profilehttp://hl7.org/fhir/StructureDefinition/Practitioner
  Warning @ Bundle.entry[0].resource.ofType(Patient).communication[0].language (line 109, col33) : ValueSet http://tools.ietf.org/html/bcp47 not found by validator
  Warning @ Bundle.entry[3].resource.ofType(Condition).code.coding[0] (line 318, col21) : The display &quot;Hypertension&quot; is not a valid display for the code {http://snomed.info/sct}59621000 - should be one of [&quot;Essential hypertension&quot;,&quot;Idiopathic hypertension&quot;,&quot;Systemic primary arterial hypertension&quot;,&quot;Primary hypertension&quot;,&quot;Essential hypertension (disorder)&quot;] (from http://tx.fhir.org/r2) for &#39;http://snomed.info/sct#59621000&#39;
</code></pre></div>



<a name="241534203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241534203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241534203">(Jun 04 2021 at 13:26)</a>:</h4>
<p>why on earth does Load hl7.fhir.r3.core#3.0.2 appear? can you debug that? It totally shouldn't happen, and doesn't for me</p>



<a name="241534223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241534223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241534223">(Jun 04 2021 at 13:26)</a>:</h4>
<p>yeah looking into it</p>



<a name="241534276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241534276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241534276">(Jun 04 2021 at 13:26)</a>:</h4>
<p>just for level setting purposes, when I run the testresource on it's own I get:</p>



<a name="241534333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241534333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241534333">(Jun 04 2021 at 13:27)</a>:</h4>
<div class="codehilite"><pre><span></span><code>mark@egghead:~/Downloads/temp$ java -jar validator_cli.jar testresource.json -version 1.0.2
FHIR Validation tool Version 5.4.2 (Git# 552ef55adaf0). Built 2021-05-21T18:15:07.271Z (13 days old)
  Java:   11.0.9.1 from /home/mark/.sdkman/candidates/java/11.0.9.open-adpt on amd64 (64bit). 8028MB available
  Paths:  Current = /home/mark/Downloads/temp, Package Cache = /home/mark/.fhir/packages
  Params: testresource.json -version 1.0.2
Loading
  Load FHIR v1.0 from hl7.fhir.r2.core#1.0.2 - 3378 resources (00:02.0583)
  Load hl7.terminology#2.1.0 - 3767 resources (00:00.0736)
  Terminology server http://tx.fhir.org - Version 1.9.372 (00:03.0105)
  Get set...  go (00:00.0497)
Validating
  Validate testresource.json 00:00.0332
Done. Times: Loading: 00:07.0140, validation: 00:00.0332. Memory = 248Mb

Success: 0 errors, 0 warnings, 2 notes
  Information @ Practitioner.practitionerRole[0].specialty[0].coding[0] (line 68, col21) : Code System URI &#39;urn:oid:1.2.345.6789.1011.1234567.81&#39; is unknown so the code cannot be validated
  Information @ Practitioner.practitionerRole[1].role.coding[0] (line 81, col18) : Code System URI &#39;urn:oid:1.2.345.6789.1011.1234567.81&#39; is unknown so the code cannot be validated
</code></pre></div>



<a name="241534349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241534349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241534349">(Jun 04 2021 at 13:27)</a>:</h4>
<p>So no errors there.</p>



<a name="241534421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241534421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241534421">(Jun 04 2021 at 13:27)</a>:</h4>
<p>This is my priority this morning</p>



<a name="241535064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241535064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241535064">(Jun 04 2021 at 13:32)</a>:</h4>
<p>..ah master branch is pooched</p>



<a name="241535069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241535069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241535069">(Jun 04 2021 at 13:32)</a>:</h4>
<p>won't build</p>



<a name="241535093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241535093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241535093">(Jun 04 2021 at 13:33)</a>:</h4>
<p>I need to figure out how that happened first</p>



<a name="241535592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241535592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241535592">(Jun 04 2021 at 13:36)</a>:</h4>
<p>this PR here is making so master won't build?</p>



<a name="241535595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241535595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241535595">(Jun 04 2021 at 13:36)</a>:</h4>
<p><a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/530">https://github.com/hapifhir/org.hl7.fhir.core/pull/530</a></p>



<a name="241536616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241536616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241536616">(Jun 04 2021 at 13:44)</a>:</h4>
<p>I lied, it's this one here: <a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/528">https://github.com/hapifhir/org.hl7.fhir.core/pull/528</a></p>



<a name="241537213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241537213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241537213">(Jun 04 2021 at 13:49)</a>:</h4>
<p>new pr is fixing it</p>



<a name="241538393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241538393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241538393">(Jun 04 2021 at 13:57)</a>:</h4>
<p>ok</p>



<a name="241538564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241538564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241538564">(Jun 04 2021 at 13:58)</a>:</h4>
<p>the pr fixed that problem, but there is a test failure</p>



<a name="241538566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241538566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241538566">(Jun 04 2021 at 13:58)</a>:</h4>
<p>[ERROR]   Run 68: Test dr-example-org: Expected 0 errors, but found 1. expected:&lt;0&gt; but was:&lt;1&gt;</p>



<a name="241540035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241540035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241540035">(Jun 04 2021 at 14:07)</a>:</h4>
<p>whoops I forgot to commit to test-cases</p>



<a name="241540141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241540141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241540141">(Jun 04 2021 at 14:08)</a>:</h4>
<p>done</p>



<a name="241542169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241542169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241542169">(Jun 04 2021 at 14:20)</a>:</h4>
<p>We're getting a FHIRPath test failure now?</p>



<a name="241542170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241542170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241542170">(Jun 04 2021 at 14:20)</a>:</h4>
<p>[ERROR]   Run 339: FHIRPathTests.test:209 Unexpected exception executing '???'.matches('?+'): Dangling meta character '?' near index 4<br>
(?s)?+<br>
    ^ ==&gt; expected: &lt;true&gt; but was: &lt;false&gt;</p>



<a name="241542726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241542726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241542726">(Jun 04 2021 at 14:24)</a>:</h4>
<p>I'm looking at it</p>



<a name="241543822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241543822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241543822">(Jun 04 2021 at 14:31)</a>:</h4>
<p>it doesn't fail for me in eclipse</p>



<a name="241544156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544156">(Jun 04 2021 at 14:33)</a>:</h4>
<p>Are there any changes not committed to the test cases library</p>



<a name="241544222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544222">(Jun 04 2021 at 14:34)</a>:</h4>
<p>no. i</p>



<a name="241544293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544293">(Jun 04 2021 at 14:34)</a>:</h4>
<p>You load all three repos as one continuous dependency in Eclipse, so it won't run the same as when the pipeline or I run it. This looks like there might be an uncommitted change somewhere</p>



<a name="241544389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544389">(Jun 04 2021 at 14:35)</a>:</h4>
<p>When you run it on the command line, can you replicate the same fail that the pipeline gets?</p>



<a name="241544405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544405">(Jun 04 2021 at 14:35)</a>:</h4>
<p>or does it pass locally?</p>



<a name="241544436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544436">(Jun 04 2021 at 14:35)</a>:</h4>
<p>it fails the same way in maven.</p>



<a name="241544479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544479">(Jun 04 2021 at 14:35)</a>:</h4>
<p>okay, so, there's a delta somewhere we need to find</p>



<a name="241544536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544536">(Jun 04 2021 at 14:36)</a>:</h4>
<p>did the snapshot for test cases fail to deploy?</p>



<a name="241544599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544599">(Jun 04 2021 at 14:36)</a>:</h4>
<p>looking at that right now</p>



<a name="241544640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544640">(Jun 04 2021 at 14:36)</a>:</h4>
<p>because that's the big difference between running in maven and running in eclipse</p>



<a name="241544920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544920">(Jun 04 2021 at 14:38)</a>:</h4>
<p>and I don't know how to investigate because '338' fails. What test is that? How is anyone supposed to understand maven?</p>



<a name="241544932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241544932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241544932">(Jun 04 2021 at 14:38)</a>:</h4>
<p>339</p>



<a name="241545011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545011">(Jun 04 2021 at 14:38)</a>:</h4>
<p>Fhir test cases published successfully at 10:09am this morning for me. <a href="https://dev.azure.com/fhir-pipelines/fhir-test-cases/_build/results?buildId=3528&amp;view=results">https://dev.azure.com/fhir-pipelines/fhir-test-cases/_build/results?buildId=3528&amp;view=results</a>. So the test case upload seems to be there.</p>



<a name="241545020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545020">(Jun 04 2021 at 14:39)</a>:</h4>
<p>oh. no. That's a character set issue</p>



<a name="241545075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545075">(Jun 04 2021 at 14:39)</a>:</h4>
<div class="codehilite"><pre><span></span><code>    &lt;test name=&quot;testMatchesUnicodeCharacters&quot;&gt;&lt;expression&gt;&#39;🔥🔥🔥&#39;.matches(&#39;🔥+&#39;)&lt;/expression&gt;&lt;output type=&quot;boolean&quot;&gt;true&lt;/output&gt;&lt;/test&gt;
</code></pre></div>



<a name="241545079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545079">(Jun 04 2021 at 14:39)</a>:</h4>
<p>Is this related the the file format changes for the properties files for localization</p>



<a name="241545102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545102">(Jun 04 2021 at 14:39)</a>:</h4>
<p>it runs fine in eclipse, but check the error message:</p>



<a name="241545150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545150">(Jun 04 2021 at 14:40)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Unexpected exception executing &#39;???&#39;.matches(&#39;?+&#39;): Dangling meta character &#39;?&#39; near index 4
(?s)?+
    ^ ==&gt; expected: &lt;true&gt; but was: &lt;false&gt;
</code></pre></div>



<a name="241545200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545200">(Jun 04 2021 at 14:40)</a>:</h4>
<p>that's going to be a maven / java / deefault charset issue</p>



<a name="241545214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545214">(Jun 04 2021 at 14:40)</a>:</h4>
<p>and no, not related to them</p>



<a name="241545315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545315">(Jun 04 2021 at 14:41)</a>:</h4>
<p>I say we disable that test for now</p>



<a name="241545321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545321">(Jun 04 2021 at 14:41)</a>:</h4>
<p>Is this a new test case?</p>



<a name="241545329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545329">(Jun 04 2021 at 14:41)</a>:</h4>
<p>I'm fine with that</p>



<a name="241545351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545351">(Jun 04 2021 at 14:41)</a>:</h4>
<p>Are you going to push the PR?</p>



<a name="241545375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545375">(Jun 04 2021 at 14:41)</a>:</h4>
<p>yes <a href="https://github.com/FHIR/fhir-test-cases/pull/89">https://github.com/FHIR/fhir-test-cases/pull/89</a></p>



<a name="241545397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545397">(Jun 04 2021 at 14:42)</a>:</h4>
<p>I'll push it, and we'll come back to it</p>



<a name="241545532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545532">(Jun 04 2021 at 14:42)</a>:</h4>
<p>ok pushed</p>



<a name="241545543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/241545543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#241545543">(Jun 04 2021 at 14:43)</a>:</h4>
<p>kk I'll make a coffee and re-run the PR branch for core once the test cases publish</p>



<a name="242042811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/java%20validator%20DSTU2/near/242042811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abigail Huang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/java.20validator.20DSTU2.html#242042811">(Jun 09 2021 at 10:15)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Just wanted to followup and say that I downloaded the newest version of the validator. The same issue with using r5 for validation occurred initially on my mac (I didn't see this issue on my Windows). I then cleared the package cache on Mac and since then have not had any problems. I've been able to validate my DSTU2 bundles now. Thank you so much for all your help with this!! It is most appreciated.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
