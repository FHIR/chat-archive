---
layout: page
title: "FHIR Chat  · FHIR resource for substance modelling (using ATC codes) · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20resource.20for.20substance.20modelling.20(using.20ATC.20codes).html">FHIR resource for substance modelling (using ATC codes)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="243766104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20resource%20for%20substance%20modelling%20%28using%20ATC%20codes%29/near/243766104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chandru <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20resource.20for.20substance.20modelling.20(using.20ATC.20codes).html#243766104">(Jun 24 2021 at 10:28)</a>:</h4>
<p>Hi,</p>
<p>Could you please help me with the query below, We have the following use-cases to be modelled in FHIR STU3.</p>
<ol>
<li>we are modelling the substance values and referring the WHO ATC codes (example : <a href="https://www.whocc.no/atc_ddd_index/?code=A05BA09">https://www.whocc.no/atc_ddd_index/?code=A05BA09</a>) which has a parent-child relationship like below:</li>
</ol>
<p>ATC code - Name  <br>
A -  ALIMENTARY TRACT AND METABOLISM<br>
A05 -  BILE AND LIVER THERAPY<br>
A05B -  LIVER THERAPY, LIPOTROPICS<br>
A05BA -  Liver therapy<br>
A05BA09 - metadoxine    </p>
<p>for direct modelling of a substance like metadoxine, we can use substance resource to do FHIR modelling. <br>
now we have a use case if the metadoxine is the substance, then all the related ATC codes like A, A05, A05B, A05BA, A05BA09 should be added as a  parent-child relationship.</p>
<p>we see there is a resource called 'Group' which can have substance as grouped, but we don't have parent-child hierarchy relationship here.  Do you suggest any other way of handling this? </p>
<ol start="2">
<li>also we want to model the substance family, in the substance resource there is way to link to other substances but those are ingredients, no families. is introducing an extension the only way ?</li>
</ol>



<a name="243776166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20resource%20for%20substance%20modelling%20%28using%20ATC%20codes%29/near/243776166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20resource.20for.20substance.20modelling.20(using.20ATC.20codes).html#243776166">(Jun 24 2021 at 12:18)</a>:</h4>
<p>hi Chandru, in FHIR R4 and R5 build there is SubstanceDefinition (called SubstanceSpecification in R4) which covers some of this and has relationships between substances, and an Ingredient resource also. </p>
<p>Obviously if you are on STU3 then that doesn't help you, but it may be of interest. For STU3 I would consider an extension on Substance to act like the relationship that exists in R5 SubstanceDefinition (<a href="http://build.fhir.org/substancedefinition-definitions.html#SubstanceDefinition.relationship">http://build.fhir.org/substancedefinition-definitions.html#SubstanceDefinition.relationship</a>). I don't think Group will really help you, for the reasons that you mention. At any rate, even if you cannot use it, we would be interested to know if what is in R5 (and in R4B) would be usable.</p>
<p>One question I had is if, in your view, a substance has an ATC or if that is really a property of a medication (medicinal product). Usually I have seen ATC applied to the medication, and not to the ingredient or the substance. So you may also want to consider a hierarchy of R5/R4B MedicinalProductDefinitions, rather than substances. We usually use a medication/product if it is something that a patient will take, even when it is really only a substance (even water is a medication).</p>



<a name="243897650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20resource%20for%20substance%20modelling%20%28using%20ATC%20codes%29/near/243897650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chandru <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20resource.20for.20substance.20modelling.20(using.20ATC.20codes).html#243897650">(Jun 25 2021 at 10:21)</a>:</h4>
<p>Hi Rik, Thank you for your suggestions. Yes, considering STU 3 we are also thinking extensions are the best options and unfortunately we couldn't use SubstanceDefinition as we are not using R4 / R5 and also still it is in maturity 0 for trial usage. </p>
<p>regarding your consideration on Medication for ATC codes, we are using substances considering we have use case of having composed substances. so currently we have one Medication resource for each substance resource.</p>



<a name="243917574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20resource%20for%20substance%20modelling%20%28using%20ATC%20codes%29/near/243917574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20resource.20for.20substance.20modelling.20(using.20ATC.20codes).html#243917574">(Jun 25 2021 at 13:47)</a>:</h4>
<p>If you just need the codes and the hierarchical relationship, you can use CodeSystem.  Otherwise, in STU3 I'd probably use Medication with extensions.</p>



<a name="244138986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20resource%20for%20substance%20modelling%20%28using%20ATC%20codes%29/near/244138986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chandru <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20resource.20for.20substance.20modelling.20(using.20ATC.20codes).html#244138986">(Jun 28 2021 at 12:48)</a>:</h4>
<p>Hi Lloyd, Thank you for the response, yes codes are good option. do you have any samples for codes with hierarchy relationship that we can refer.</p>



<a name="244166531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20resource%20for%20substance%20modelling%20%28using%20ATC%20codes%29/near/244166531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20resource.20for.20substance.20modelling.20(using.20ATC.20codes).html#244166531">(Jun 28 2021 at 15:58)</a>:</h4>
<p>A relatively simple code system with hierarchy is here: <a href="https://build.fhir.org/codesystem-issue-type.html">https://build.fhir.org/codesystem-issue-type.html</a></p>



<a name="244404883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20resource%20for%20substance%20modelling%20%28using%20ATC%20codes%29/near/244404883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chandru <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20resource.20for.20substance.20modelling.20(using.20ATC.20codes).html#244404883">(Jun 30 2021 at 10:46)</a>:</h4>
<p>Thanks Lloyd</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
