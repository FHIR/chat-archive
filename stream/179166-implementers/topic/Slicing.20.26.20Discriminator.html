---
layout: page
title: "FHIR Chat  · Slicing &amp; Discriminator · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20.26.20Discriminator.html">Slicing &amp; Discriminator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154017592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20%26%20Discriminator/near/154017592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20.26.20Discriminator.html#154017592">(Nov 12 2018 at 11:38)</a>:</h4>
<p>Hopefully a quick question. For an element where multiple codes are allowed (for example Condition.bodySite), and we allow multiple codes from the same system (SNOMED in our case) as well as codes from other (undefined) codeSystems, would the following discriminator pattern make sense?<br>
bodySite [0..*]<br>
Slicing: Discriminator: <strong>system</strong>, Ordering:<strong> false</strong>, Rules:<strong>Open</strong><br>
Slice (SNOMED) [0..*] <br>
  system=Fixed Value: <a href="http://snomed.info/sct" target="_blank" title="http://snomed.info/sct">http://snomed.info/sct</a><br>
  code<br>
  display</p>
<p>So we can have multiple SNOMED codes that conform to the SNOMED slice, as well as allowing multiple other codes. Would this pattern allow 2 LOINC codes, or would that fall foul of the Discriminator rule in this example?</p>



<a name="154017601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20%26%20Discriminator/near/154017601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20.26.20Discriminator.html#154017601">(Nov 12 2018 at 12:22)</a>:</h4>
<p>Multiple LOINC codes would be fine there.  Though unless you had some other constraints on the SNOMED slice there (MustSupport or minOccurs=1 or something), you're not actually setting any constraints beyond what are present in the base resource.</p>
<p>Something else you can do is slice by value for "coding" and declare a value set binding on the coding.  That would allow you to assert multiple SNOMED value sets.  So long as the value sets don't have overlapping codes, you could require a code from each and say something more useful than "any SNOMED CT code".</p>



<a name="154017605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20%26%20Discriminator/near/154017605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20.26.20Discriminator.html#154017605">(Nov 12 2018 at 12:30)</a>:</h4>
<p>We do have an extra extension on SNOMED slices around SNOMED description ID, so we need to draw out the SNOMED slice to display the extension. Also, we do normally bind off to a SNOMED refset - in this case  (&lt;&lt;442083009 |anatomical or acquired body structure|). I appreciate your point about having the discriminator on code (or system &amp; code) to allow for multiple SNOMED slices.</p>



<a name="154017607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20%26%20Discriminator/near/154017607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20.26.20Discriminator.html#154017607">(Nov 12 2018 at 12:35)</a>:</h4>
<p>Discriminator on code would mean you'd need to enumerate slices for each code fixed value.  That's fine if you're looking for a magic code to make decisions based on, but not so good if you want to allow a code and any specializations of it.  For that, specifying a value set is better and that needs to be done at the Coding level.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
