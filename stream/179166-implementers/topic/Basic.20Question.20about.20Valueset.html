---
layout: page
title: "FHIR Chat  · Basic Question about Valueset · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html">Basic Question about Valueset</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="199825676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199825676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nath <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199825676">(Jun 05 2020 at 00:37)</a>:</h4>
<p>I have install Hapi FHIR JPA version. I am trying to understand how can I read the valueset defined out of the box by FHIR. For example, <a href="https://www.hl7.org/fhir/v3/EducationLevel/cs.html">https://www.hl7.org/fhir/v3/EducationLevel/cs.html</a>. The code/system/display is defined as follows:</p>
<p>Level   Code    Display Definition<br>
1   ASSOC   Associate's or technical degree complete    Associate's or technical degree complete<br>
1   BD  College or baccalaureate degree complete    College or baccalaureate degree complete<br>
1   ELEM    Elementary School   Elementary School<br>
1   GD  Graduate or professional Degree complete    Graduate or professional Degree complete<br>
1   HS  High School or secondary school degree complete High School or secondary school degree complete<br>
1   PB  Some post-baccalaureate education   Some post-baccalaureate education<br>
1   POSTG   Doctoral or post graduate education Doctoral or post graduate education<br>
1   SCOL    Some College education  Some College education<br>
1   SEC Some secondary or high school education Some secondary or high school education</p>
<hr>
<p>Questions:<br>
1.How can I read these values in my java program?. </p>
<ol start="2">
<li>Do I need to load any extra valuseset terminology data to get these ?. </li>
</ol>
<p>I am fairly at loss. I tried this on my instance <a href="http://localhost:8090/fhir/ValueSet">http://localhost:8090/fhir/ValueSet</a><br>
I get back <br>
{<br>
  "resourceType": "Bundle",<br>
  "id": "da85d7a9-8f24-494e-b21e-5a26ddfee326",<br>
  "meta": {<br>
    "lastUpdated": "2020-06-04T17:21:17.801-07:00"<br>
  },<br>
  "type": "searchset",<br>
  "total": 0,<br>
  "link": [<br>
    {<br>
      "relation": "self",<br>
      "url": "/fhir/*/ValueSet"<br>
    }<br>
  ]<br>
}<br>
Can someone help me understand this?. </p>
<p>thanks a lot</p>



<a name="199831336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199831336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199831336">(Jun 05 2020 at 02:47)</a>:</h4>
<p>Your search response is saying that there are currently no ValueSet instances stored in your repository</p>



<a name="199831358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199831358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199831358">(Jun 05 2020 at 02:47)</a>:</h4>
<p>Also, if you're defining your own codes, you'll need both a CodeSystem (where the codes are defined) and a ValueSet (which indicates which subset of codes you want - though there's a simple way to say "all of them" if that's your requirement).</p>



<a name="199877839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199877839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nath <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199877839">(Jun 05 2020 at 13:45)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> . I would like to get all the values defined in FHIR. i.e. <a href="https://www.hl7.org/fhir/terminologies-valuesets.html">https://www.hl7.org/fhir/terminologies-valuesets.html</a>  <br>
How can I load these into my repository?. Can you please give me pointer how can I load them?. </p>
<p>thanks for your help.</p>



<a name="199882457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199882457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199882457">(Jun 05 2020 at 14:16)</a>:</h4>
<p><a href="http://hl7.org/fhir/valuesets.xml">http://hl7.org/fhir/valuesets.xml</a> or <a href="http://hl7.org/fhir/valuesets.json">http://hl7.org/fhir/valuesets.json</a></p>



<a name="199882685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199882685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199882685">(Jun 05 2020 at 14:18)</a>:</h4>
<p>Note that not all value sets necessarily have expansions in-line.  For some value sets (e.g. those that draw on SNOMED), the set of codes is dynamic and changes as the underlying code systems change.  You can get current expansions by hitting <a href="http://tx.fhir.org">http://tx.fhir.org</a></p>



<a name="199887516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199887516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nath <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199887516">(Jun 05 2020 at 14:52)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> . So, could you please kindly tell me what command would I use to load this valuesets.json to my fhir repo?. </p>
<p>Btw,  this link in <a href="http://tx.fhir.org">tx.fhir.org</a>, <a href="http://tx.fhir.org/r4">http://tx.fhir.org/r4</a> throws exception.</p>



<a name="199903461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199903461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199903461">(Jun 05 2020 at 16:40)</a>:</h4>
<p>That would depend on the nature of your FHIR repository.  In theory, you could POST each value set in turn to create it.  <br>
<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - <a href="http://tx.fhir.org">tx.fhir.org</a> needs a restart.</p>



<a name="199918698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/199918698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nath <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#199918698">(Jun 05 2020 at 18:44)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I will try this. thanks for your help.</p>



<a name="200311941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/200311941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nath <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#200311941">(Jun 10 2020 at 01:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> . I tried this sample valueset from here <a href="http://hl7.org/fhir/R4/valueset-relatedperson-relationshiptype.json">http://hl7.org/fhir/R4/valueset-relatedperson-relationshiptype.json</a>. I tried to post to my hapi jpa server.<br>
curl --location --request POST '<a href="http://localhost:8080/fhir/ValueSet">http://localhost:8080/fhir/ValueSet</a>' \<br>
--header 'Content-Type: application/fhir+json' \<br>
--header 'Cookie: JSESSIONID=45A8B8827CD707FD9A0CF7D25B5D0B41' \<br>
--data-raw '{<br>
  "resourceType" : "ValueSet",<br>
  "id" : "relatedperson-relationshiptype",<br>
  "meta" : {<br>
    "lastUpdated" : "2019-11-01T09:29:23.356+11:00",<br>
    "profile" : ["http://hl7.org/fhir/StructureDefinition/shareablevalueset"]<br>
  },<br>
  "text" : {<br>
    "status" : "generated",<br>
    "div" : "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;h2&gt;Patient relationship type&lt;/h2&gt;&lt;div&gt;&lt;p&gt;A set of codes that can be used to indicate the relationship between a Patient and a Related Person.&lt;/p&gt;\n&lt;/div&gt;&lt;p&gt;This value set includes codes from the following code systems:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Include all codes defined in &lt;a href=\"v2/0131/index.html\"&gt;&lt;code&gt;http://terminology.hl7.org/CodeSystem/v2-0131&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;&lt;li&gt;Include codes from &lt;a href=\"v3/RoleCode/cs.html\"&gt;&lt;code&gt;http://terminology.hl7.org/CodeSystem/v3-RoleCode&lt;/code&gt;&lt;/a&gt; where concept  is-a  &lt;a href=\"v3/RoleCode/cs.html#v3-RoleCode-_PersonalRelationshipRoleType\"&gt;_PersonalRelationshipRoleType&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;"<br>
  },<br>
  "extension" : [{<br>
    "url" : "<a href="http://hl7.org/fhir/StructureDefinition/structuredefinition-wg">http://hl7.org/fhir/StructureDefinition/structuredefinition-wg</a>",<br>
    "valueCode" : "pa"<br>
  }],<br>
  "url" : "<a href="http://hl7.org/fhir/ValueSet/relatedperson-relationshiptype">http://hl7.org/fhir/ValueSet/relatedperson-relationshiptype</a>",<br>
  "identifier" : [{<br>
    "system" : "urn:ietf:rfc:3986",<br>
    "value" : "urn:oid:2.16.840.1.113883.4.642.3.449"<br>
  }],<br>
  "version" : "4.0.1",<br>
  "name" : "PatientRelationshipType",<br>
  "title" : "Patient relationship type",<br>
  "status" : "draft",<br>
  "experimental" : false,<br>
  "date" : "2019-11-01T09:29:23+11:00",<br>
  "publisher" : "FHIR Project team",<br>
  "contact" : [{<br>
    "telecom" : [{<br>
      "system" : "url",<br>
      "value" : "<a href="http://hl7.org/fhir">http://hl7.org/fhir</a>"<br>
    }]<br>
  }],<br>
  "description" : "A set of codes that can be used to indicate the relationship between a Patient and a Related Person.",<br>
  "compose" : {<br>
    "include" : [{<br>
      "system" : "<a href="http://terminology.hl7.org/CodeSystem/v2-0131">http://terminology.hl7.org/CodeSystem/v2-0131</a>"<br>
    },<br>
    {<br>
      "system" : "<a href="http://terminology.hl7.org/CodeSystem/v3-RoleCode">http://terminology.hl7.org/CodeSystem/v3-RoleCode</a>",<br>
      "filter" : [{<br>
        "property" : "concept",<br>
        "op" : "is-a",<br>
        "value" : "_PersonalRelationshipRoleType"<br>
      }]<br>
    }]<br>
  }<br>
}'</p>
<p>but I got back this error <br>
{<br>
  "resourceType": "OperationOutcome",<br>
  "issue": [<br>
    {<br>
      "severity": "error",<br>
      "code": "processing",<br>
      "diagnostics": "Failed to call access method: org.springframework.dao.InvalidDataAccessApiUsageException: No EntityManager with actual transaction available for current thread - cannot reliably process 'persist' call; nested exception is javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'persist' call"<br>
    }<br>
  ]<br>
}</p>
<p>Can you please kindly help me ?. thanks for your help.</p>



<a name="200316537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/200316537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#200316537">(Jun 10 2020 at 03:29)</a>:</h4>
<p>When you POST, you shouldn't have an 'id' in the resource.  (Some servers may tolerate it, but it shouldn't be there and it'll get ignored by those who do tolerate it.)  However, that's unlikely to be your problem - and if it is, the error message sucks :)  Suggest raising the issue on the <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a>  stream.</p>



<a name="200319293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Basic%20Question%20about%20Valueset/near/200319293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nath <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Basic.20Question.20about.20Valueset.html#200319293">(Jun 10 2020 at 04:51)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> . I tried removing the id also, same error. I will post it in hapi forum. thanks for your help. appreciate it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
