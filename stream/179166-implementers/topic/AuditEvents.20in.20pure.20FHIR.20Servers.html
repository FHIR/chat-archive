---
layout: page
title: "FHIR Chat  · AuditEvents in pure FHIR Servers · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html">AuditEvents in pure FHIR Servers</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="214078098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214078098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214078098">(Oct 21 2020 at 16:37)</a>:</h4>
<p>Hi All,</p>
<p>I'm looking for some broader thoughts around the treatment of the AuditEvent in regards to pure FHIR Servers. <br>
The question I have is: Should pure FHIR Servers put any default restrictions on the Restful interactions? e.g. Allow the Create interaction, but not Update or Delete?<br>
The given scenario I've come across is that if you wanted to create an AuditEvent with a specific ID, it would require an Update with Allow Create, so it's starting to cross some interesting boundaries in the system. For a pure FHIR Server, does it make sense that this is just pure restful storage allowing all supported resource interactions?</p>
<p>Brendan</p>



<a name="214078326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214078326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214078326">(Oct 21 2020 at 16:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span></p>



<a name="214102116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214102116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214102116">(Oct 21 2020 at 19:27)</a>:</h4>
<p>my server does not allow delete on auditevents</p>



<a name="214102213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214102213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214102213">(Oct 21 2020 at 19:28)</a>:</h4>
<p>it does allow external systems to put audit events to existing and new ids.</p>



<a name="214102256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214102256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214102256">(Oct 21 2020 at 19:28)</a>:</h4>
<p>it's not really any different to allowing put to a new id for any other resource - see 'upsert' in the specification</p>



<a name="214103023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214103023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214103023">(Oct 21 2020 at 19:33)</a>:</h4>
<p>Audit Event is likely one where policy forbids Update and Delete. Yes.</p>



<a name="214131113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214131113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214131113">(Oct 22 2020 at 00:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers/near/214102256">said</a>:</p>
<blockquote>
<p>it's not really any different to allowing put to a new id for any other resource - see 'upsert' in the specification</p>
</blockquote>
<p>Thanks for the replies. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  so your server does allow updates for AuditEvents?</p>
<p>I guess the underlying implementation question is, should "CapabilityStatement.rest.resource.updateCreate" be allowed even if the "Update" (CapabilityStatement.rest.resource.interaction) interaction is not defined on that resource? That to me was the slightly grey area.</p>



<a name="214131314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214131314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214131314">(Oct 22 2020 at 00:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  in principle I also agree, the implementers question is how this is defined as capabilities in the case I want to define the ID</p>



<a name="214132278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214132278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214132278">(Oct 22 2020 at 00:42)</a>:</h4>
<p>it does allow it, but I probably wouldn't allow it in a production EHR. OTOH, my server also plays the role as an audit trail sink, so other systems can send it audit trail events. hence, I allow insert/update/upsert.</p>



<a name="214132283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214132283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214132283">(Oct 22 2020 at 00:42)</a>:</h4>
<p>Testing server...</p>



<a name="214211766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214211766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214211766">(Oct 22 2020 at 16:25)</a>:</h4>
<p>Thanks Grahame, John.</p>



<a name="214213536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214213536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214213536">(Oct 22 2020 at 16:38)</a>:</h4>
<p>I'm summarizing as this:<br>
When <code>CapabilityStatement.rest.resource.updateCreate</code> is true, it should invert the behavior to allow creates on PUT and only allow modify when the <code>update</code> interaction is also present.</p>



<a name="214218681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214218681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214218681">(Oct 22 2020 at 17:17)</a>:</h4>
<p>Im not sure I understand your conclusion.   I see no need for updateCreate. The .interaction already is clear on how to declare create only.  if a server wants to allow updateCreate, it then it seems to be normal behavior. I am unclear on what you mean by "invert the behavior".</p>



<a name="214225224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214225224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214225224">(Oct 22 2020 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  perhaps it would help if you paraphrase what should happen in the case where "updateCreate = true", but update is omitted from the resource interactions?</p>
<p>The definition for the "create" interaction on a resource seemed clear with "Create a new resource with a server assigned id."</p>



<a name="214257315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/214257315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#214257315">(Oct 22 2020 at 22:51)</a>:</h4>
<p>from what I read, updateCreate says that when it is TRUE, the server will treat an Update request as if it is a Create request with the client given id value.... right?</p>



<a name="215420521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215420521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokesh G S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215420521">(Nov 03 2020 at 07:41)</a>:</h4>
<p>Hi team can you please help me how to save audit events ?</p>



<a name="215420755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215420755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokesh G S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215420755">(Nov 03 2020 at 07:45)</a>:</h4>
<p>My doubt is .. for suppose if i am changing the name of the organization, how should i store it in audit events? can any help me with sample</p>



<a name="215425173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215425173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215425173">(Nov 03 2020 at 08:47)</a>:</h4>
<p>Regarding your remark in the "FHIR Message identifiers"-stream: It always may take some time until a question is answered as the one familiar with your topic might be out of office due to different time zones. Your question is just 1,5 hours old. Please give others time to read and think about your question. Thank you in advance.</p>



<a name="215425330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215425330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokesh G S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215425330">(Nov 03 2020 at 08:49)</a>:</h4>
<p>okay <span class="user-mention" data-user-id="196115">@Mareike Przysucha</span> . Actually i am trying with different people in private chat but no one responded. I am very new to his as developer implemting the tele medicine project. Wanted to know how the audit events are created? do you have any idea <span class="user-mention" data-user-id="196115">@Mareike Przysucha</span></p>



<a name="215425681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215425681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215425681">(Nov 03 2020 at 08:53)</a>:</h4>
<p>I think this depends on your system. Which programming languange and framework do you use? If you use java, hapi could be an example. Could you provide more information, so that the experts can give better advice?</p>



<a name="215425830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215425830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokesh G S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215425830">(Nov 03 2020 at 08:55)</a>:</h4>
<p>We doing it using fhir graphql node js <span class="user-mention" data-user-id="196115">@Mareike Przysucha</span></p>



<a name="215457192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215457192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215457192">(Nov 03 2020 at 14:06)</a>:</h4>
<p>some platforms like HAPI have built in automatic logging to AuditEvent format. Most general IT tools will log events to that platforms logging tool, using free text strings.  I suspect a node.js is just going to log free text.  The AuditEvent is intended to be recorded by FHIR knowledgeable applications/services and to be populated with as rich of information as is known. This level of rich audit logging is not something that can be done well by infrastructure.</p>



<a name="215501841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215501841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215501841">(Nov 03 2020 at 19:48)</a>:</h4>
<p><span class="user-mention" data-user-id="356954">@Lokesh G S</span> welcome.  In general, it's better to ask questions in public rather than using private messages because there's a broader set of people who can respond.  It also means that others get to benefit from both the question and the answer.  Also, when asking a question, it's important to provide context - what tools you're using, what parts of the specification you've read, etc.  Your original question doesn't make clear whether you've read up on the AuditEvent resource and the section in the security module that talks about audit (which should be a pre-requisite to asking anything).</p>



<a name="215521091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215521091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215521091">(Nov 03 2020 at 22:51)</a>:</h4>
<p>My server is similar to Grahames in that it permits upserts, however if the auditevent was created by the system, then it is locked. So it kinda does both - support an event sink, and local auditing.</p>



<a name="215521691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/215521691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#215521691">(Nov 03 2020 at 22:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers/near/214102256">said</a>:</p>
<blockquote>
<p>it's not really any different to allowing put to a new id for any other resource - see 'upsert' in the specification</p>
</blockquote>
<p>although there is an html anchor for 'upsert' it is not  in any narrative, so not possible to "see" it.<br>
<a href="https://www.hl7.org/fhir/http.html#upsert">https://www.hl7.org/fhir/http.html#upsert</a><br>
I am just now learning this word...</p>



<a name="236116151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/236116151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#236116151">(Apr 26 2021 at 03:44)</a>:</h4>
<p>Question about the use of AuditEvent. I'm creating an online questionnaire application implemented in FHIR. Currently, it displays one question per screen. In addition to the actual QuestionnaireResponse, I'd like to capture how long the user spends on each screen and the total amount of time per session. Would this information best be captured as AuditEvents, or is there another resource that's more representative?</p>



<a name="236171195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AuditEvents%20in%20pure%20FHIR%20Servers/near/236171195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AuditEvents.20in.20pure.20FHIR.20Servers.html#236171195">(Apr 26 2021 at 13:15)</a>:</h4>
<p>The AuditEvent resource could certainly be used for this. The AuditEvent.period could be used to indicate when the form was presented, to when the form was submitted.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
