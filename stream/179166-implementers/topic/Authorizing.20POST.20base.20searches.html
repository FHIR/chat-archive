---
layout: page
title: "FHIR Chat  · Authorizing POST base searches · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html">Authorizing POST base searches</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="267912000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267912000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjaai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267912000">(Jan 13 2022 at 18:41)</a>:</h4>
<p>We need to do patient based searches against a local fhir server. It is recommended internally to use POST based searches to avoid exposure of PHI on the query string. <br>
The fhir server is placed behind a gateway that does the Authorization based on specific fhir resources and scopes. Gateway tries to be independent from payload and business logic ( i.e avoid looking into the body of the http payload)<br>
However now the gateway is having difficulties to authorize call for search and Create to this endpoint beaches they are on the same subpath (i.e. /Observatoin)  and use the same http verb (POST).    <br>
Just wondering whether there good approaches to address this from the community? <br>
Thank you.</p>



<a name="267913269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267913269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267913269">(Jan 13 2022 at 18:51)</a>:</h4>
<p>The ContentType header ought to be distinct...</p>



<a name="267913745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267913745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267913745">(Jan 13 2022 at 18:54)</a>:</h4>
<p>the POST search REST path is /Observation/_search, which is distinct from a POST to /Observation</p>



<a name="267914379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267914379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjaai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267914379">(Jan 13 2022 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  are you referring to  content type "application/x-www-form-urlencoded"   I believe it was stated as "May"  so I'm not sure whether I can rely on that always.</p>



<a name="267914883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267914883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267914883">(Jan 13 2022 at 19:02)</a>:</h4>
<p>Is that optional? I thought that Content-Type was required. Looking at the spec I don't see a clear MAY/SHALL word, in a quick read through.</p>



<a name="267918690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267918690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267918690">(Jan 13 2022 at 19:31)</a>:</h4>
<p>There is a fairly thinly implied requirement in this statement</p>
<blockquote>
<p>For this RESTful search (see definition in RESTful API), the parameters are a series of name=[value] pairs encoded in the URL or as <strong>an application/x-www-form-urlencoded submission for a POST</strong></p>
</blockquote>
<p>I <em>think</em> the underlying HTTP requirements actually make it required</p>



<a name="267945540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267945540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267945540">(Jan 13 2022 at 23:15)</a>:</h4>
<p>It would certainly be wrong to have a ContentType that said the content was FHIR JSON or XML.</p>



<a name="267945585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267945585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267945585">(Jan 13 2022 at 23:15)</a>:</h4>
<p>Anyhow, Paul's point (which I'd forgotten) means that the distinguishing feature can be the URL.</p>



<a name="267969327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Authorizing%20POST%20base%20searches/near/267969327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjaai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Authorizing.20POST.20base.20searches.html#267969327">(Jan 14 2022 at 03:50)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="197072">@Paul Church</span> , i think I can use the _search subpath to differentiate. I misread it as optional initially. I verified with few public servers and seems to be mandatory with POST based searches</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
