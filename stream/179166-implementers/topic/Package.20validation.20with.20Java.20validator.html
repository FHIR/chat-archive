---
layout: page
title: "FHIR Chat  · Package validation with Java validator · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Package.20validation.20with.20Java.20validator.html">Package validation with Java validator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="213753272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Package%20validation%20with%20Java%20validator/near/213753272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Package.20validation.20with.20Java.20validator.html#213753272">(Oct 19 2020 at 08:00)</a>:</h4>
<p>So I'm playing around with package based validation with the Java Validator, but I haven't figured out how to get it to work yet.</p>
<p>What I did:</p>
<ul>
<li>Dowload the uk.core.r4-1.3.0.tgz package from <a href="http://Simplifier.net">Simplifier.net</a>. <a href="https://simplifier.net/packages/uk.core.r4/1.3.0">https://simplifier.net/packages/uk.core.r4/1.3.0</a></li>
<li>Download the example resourece Richard Smith from the UK Core project. <a href="https://simplifier.net/ukcore/ukcore-patient-richardsmith-example">https://simplifier.net/ukcore/ukcore-patient-richardsmith-example</a></li>
<li>Run the following in the command prompt: <br>
<code>java -jar validator_cli.jar UKCore-Patient-RichardSmith-Example.json -ig uk.core.r4-1.3.0.tgz</code></li>
</ul>
<p>But the output is: </p>
<div class="codehilite"><pre><span></span><code>FHIR Validation tool Version 5.1.16 (Git# ea0b4c0c1c10). Built 2020-10-01T04:39:09.65Z (18 days old)
  Java:   1.8.0_261 from C:\Program Files (x86)\Java\jre1.8.0_261 on x86 (32bit). 247MB available
  Paths:  Current = C:\Git\R4\Packagevalid, Package Cache = C:\Users\Matthijs\.fhir\packages
  Params: UKCore-Patient-RichardSmith-Example.json -ig uk.core.r4-1.3.0.tgz
Scanning for versions (no -version parameter):
  Package uk.core.r4-1.3.0.tgz: 4.0
-&gt; use version 4.0
Loading
  Load FHIR v4.0 from hl7.fhir.r4.core#4.0.1 - 4575 resources (00:06.0553)
  Terminology server http://tx.fhir.org - Version 1.0.353 (00:01.0877)
2020-10-19 10:05:25.296 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:79] Failed to resolve package uk.core.r4-1.3.0.tgz#null from server: http://packages.fhir.org
2020-10-19 10:05:25.797 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:79] Failed to resolve package uk.core.r4-1.3.0.tgz#null from server: http://packages2.fhir.org/packages
Exception in thread &quot;main&quot; org.hl7.fhir.exceptions.FHIRException: Unable to resolve package id uk.core.r4-1.3.0.tgz#null
        at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.fetchTheOldWay(FilesystemPackageCacheManager.java:675)
        at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.loadFromPackageServer(FilesystemPackageCacheManager.java:222)
        at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.loadPackage(FilesystemPackageCacheManager.java:494)
        at org.hl7.fhir.validation.ValidationEngine.loadIg(ValidationEngine.java:1010)
        at org.hl7.fhir.validation.cli.services.ValidationService.getValidator(ValidationService.java:203)
        at org.hl7.fhir.validation.Validator.main(Validator.java:188)
</code></pre></div>


<p>Can anyone tell me how to do this correctly? Validating this example patient against the package on Simplifier works fine.</p>



<a name="213755885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Package%20validation%20with%20Java%20validator/near/213755885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Package.20validation.20with.20Java.20validator.html#213755885">(Oct 19 2020 at 08:31)</a>:</h4>
<p>The examples I have working are on this page (slightly out of date ... I'll correct this morning).<br>
<a href="https://simplifier.net/guide/NHSDigitalSpine/TestingandValidation">https://simplifier.net/guide/NHSDigitalSpine/TestingandValidation</a></p>



<a name="213756017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Package%20validation%20with%20Java%20validator/near/213756017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Package.20validation.20with.20Java.20validator.html#213756017">(Oct 19 2020 at 08:33)</a>:</h4>
<p>I've been using the full url. So my ig parameter would be:<br>
<a href="https://packages.simplifier.net/uk.core.r4/-/uk.core.r4-1.3.0.tgz">https://packages.simplifier.net/uk.core.r4/-/uk.core.r4-1.3.0.tgz</a></p>



<a name="213757089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Package%20validation%20with%20Java%20validator/near/213757089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Package.20validation.20with.20Java.20validator.html#213757089">(Oct 19 2020 at 08:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span>  Thanks! That was really helpful.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
