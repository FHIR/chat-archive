---
layout: page
title: "FHIR Chat  · extensions syntax · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html">extensions syntax</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153821905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153821905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153821905">(Apr 15 2016 at 12:31)</a>:</h4>
<p>Has there been any discussion on alternative extension syntax, since Grahame's blog? <a href="http://www.healthintersections.com.au/?p=2467" target="_blank" title="http://www.healthintersections.com.au/?p=2467">http://www.healthintersections.com.au/?p=2467</a></p>



<a name="153821938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153821938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153821938">(Apr 15 2016 at 13:44)</a>:</h4>
<p><a href="https://lightmyfhir.org/" target="_blank" title="https://lightmyfhir.org/">https://lightmyfhir.org/</a></p>



<a name="153821940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153821940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153821940">(Apr 15 2016 at 13:53)</a>:</h4>
<p>Yes, I read those. But after that?</p>



<a name="153821941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153821941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153821941">(Apr 15 2016 at 13:53)</a>:</h4>
<p>I couldn't find any discussion here on zulip.</p>



<a name="153821989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153821989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153821989">(Apr 15 2016 at 18:33)</a>:</h4>
<p>There was some, but it sort of lost steam</p>



<a name="153821998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153821998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153821998">(Apr 15 2016 at 19:25)</a>:</h4>
<p><a href="https://chat.fhir.org/#narrow/stream/implementers/subject/Representing.20Extensions" target="_blank" title="https://chat.fhir.org/#narrow/stream/implementers/subject/Representing.20Extensions">https://chat.fhir.org/#narrow/stream/implementers/subject/Representing.20Extensions</a></p>



<a name="153822005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822005">(Apr 15 2016 at 19:43)</a>:</h4>
<p>yes. it didn't get the kind of support that would be needed to drive that kind of change. And frankly, I didn't think any of the json proposals were better than the one that already lost steam </p>



<a name="153822006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822006">(Apr 15 2016 at 19:43)</a>:</h4>
<p>but it was a very useful discussion because we're not done with syntax yet....</p>



<a name="153822034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822034">(Apr 15 2016 at 21:28)</a>:</h4>
<p>I think ITS would like to join th ediscussion in Motreal on this topic.</p>



<a name="153822061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822061">(Apr 15 2016 at 23:00)</a>:</h4>
<p>ITS will have to host it. Because there's no energy elsewhere, as far as i can tell. </p>



<a name="153822220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822220">(Apr 18 2016 at 00:59)</a>:</h4>
<p>when extending a primitive type - does the extended name start or end with underscore?  <a href="http://hl7.org/fhir/json.html#primitive" target="_blank" title="http://hl7.org/fhir/json.html#primitive">This page</a> differs from <a href="http://hl7.org/fhir/element.html" target="_blank" title="http://hl7.org/fhir/element.html">this one</a>...</p>



<a name="153822221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822221">(Apr 18 2016 at 01:02)</a>:</h4>
<p>Good find. I haven't seen the suffix version anywhere in use, leads me to think the latter page is incorrect.</p>



<a name="153822250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Knapp <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822250">(Apr 18 2016 at 05:27)</a>:</h4>
<p>starts with an underscore (JSON only)</p>



<a name="153822512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822512">(Apr 19 2016 at 21:06)</a>:</h4>
<p>What's the discriminator syntax for slicing by the value of an extension?  E.g. if you have a complex extension and want to (re)slice the extension by one of the sub-elements, how?</p>



<a name="153822513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822513">(Apr 19 2016 at 21:11)</a>:</h4>
<p>Research auth is a complex extension with type (valueCode) and date (valueDate) sub-elements.  I want to re-slice researchAuth by type:</p>
<div class="codehilite"><pre><span class="nt">&lt;element&gt;</span>
   <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Patient.extension&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;slicing&gt;</span>
      <span class="nt">&lt;discriminator</span> <span class="na">value=</span><span class="s">&quot;@url&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;rules</span> <span class="na">value=</span><span class="s">&quot;open&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/slicing&gt;</span>
<span class="nt">&lt;/element&gt;</span>
<span class="nt">&lt;element&gt;</span>
    <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Patient.extension&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;researchAuth&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;slicing&gt;</span>
      <span class="nt">&lt;discriminator</span> <span class="na">value=</span><span class="s">&quot;???WHAT GOES HERE???&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;rules</span> <span class="na">value=</span><span class="s">&quot;open&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/slicing&gt;</span>
   <span class="nt">&lt;type&gt;</span>
        <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;Extension&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;profile</span> <span class="na">value=</span><span class="s">&quot;http://example.com/fhir/StructureDefinition/patient-research-authorization&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/type&gt;</span>
<span class="nt">&lt;/element&gt;</span>
<span class="nt">&lt;element&gt;</span>
    <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Patient.extension&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;researchAuth/MNAuth&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/element&gt;</span>
<span class="nt">&lt;element&gt;</span>
    <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Patient.extension.extension.valueCode&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;researchAuth/MNAuth.type.valueCode&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;fixedCode</span> <span class="na">value=</span><span class="s">&quot;Minnesota&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/element&gt;</span>
</pre></div>



<a name="153822514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822514">(Apr 19 2016 at 21:12)</a>:</h4>
<p>Will include in upcoming list of examples....</p>



<a name="153822578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marten Smits <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822578">(Apr 20 2016 at 08:35)</a>:</h4>
<p>You probably picked the most complicated case. Reslicing on complex extensions by type. <br>
After reading the discriminator section on the profiling page ( <a href="http://hl7.org/fhir/profiling.html#discriminator" target="_blank" title="http://hl7.org/fhir/profiling.html#discriminator">http://hl7.org/fhir/profiling.html#discriminator</a> ) , my first guess would be that the discriminator would be:  <code>extension.@type</code> </p>



<a name="153822626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822626">(Apr 20 2016 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191334">@Marten Smits</span> @type slices by datatype...I need to slice by the extension with relative url "type"...</p>



<a name="153822627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822627">(Apr 20 2016 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Thoughts?</p>



<a name="153822628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822628">(Apr 20 2016 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Does HAPI support using extension values as discriminators?</p>



<a name="153822629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822629">(Apr 20 2016 at 15:45)</a>:</h4>
<p>HAPI packages the RI validator for this stuff, and to be honest I have no idea if that is supported or not. :)</p>



<a name="153822630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822630">(Apr 20 2016 at 15:45)</a>:</h4>
<p>So <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> would have to answer?</p>



<a name="153822631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822631">(Apr 20 2016 at 15:49)</a>:</h4>
<p>I'm so pleased to have someone else coming up with the torturous use-cases for Grahame :)  I'm honestly not sure.</p>



<a name="153822632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822632">(Apr 20 2016 at 15:50)</a>:</h4>
<p>This one's not going to be fringe as extensions get more use.  Every slicing of an extension will be a re-slice (since the orginal slice is @url) and will be dependent on some sub-extension (or value[x]).</p>



<a name="153822633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822633">(Apr 20 2016 at 15:51)</a>:</h4>
<p>But glad to jump in! ;)</p>



<a name="153822638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822638">(Apr 20 2016 at 16:51)</a>:</h4>
<p>For what it's worth, if you have test cases I will gladly add them to the unit test library.</p>



<a name="153822673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822673">(Apr 20 2016 at 21:25)</a>:</h4>
<p>validator doens't support this, but technically, the discriminator is a fluent path expression</p>



<a name="153822716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822716">(Apr 21 2016 at 07:53)</a>:</h4>
<p>Must admit this is too advanced for me as well.  So, if we switched to fluentpath now, would that be an expression with an and, like "url=xxx and value = yyy"?</p>



<a name="153822853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822853">(Apr 22 2016 at 14:56)</a>:</h4>
<p>are there any constraints on what can be a discriminator?  Certainly parent should be dis-allowed...should we put some complexity bounds here?</p>



<a name="153822854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822854">(Apr 22 2016 at 15:06)</a>:</h4>
<p>In theory, yes. However, I don't expect most clients/servers to implement full support for slicing and all of it's wonderful complexity. Probably standard support is limited to the simple use cases / default discriminators. Anything more complex requires a considerable implementation effort. So I am not sure if a list of constraints on the discriminator element would be used a lot...?</p>



<a name="153822855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822855">(Apr 22 2016 at 15:09)</a>:</h4>
<p>Seems we should have some kind of "levels of conformance" to define how fully slicing is supported.  Or maybe a list of on/off features (slicing by @profile supported/not supported).</p>



<a name="153822856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822856">(Apr 22 2016 at 15:11)</a>:</h4>
<p>hate that slicing extensions is "too advanced" though...goes against the "no stigma for extensions" ethos....</p>



<a name="153822857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822857">(Apr 22 2016 at 15:13)</a>:</h4>
<p>Maybe the Conformance resource could provide some additional information on slicing support? Need to think about how to serialize this information efficiently. List of all supported discriminator paths / types? Not sure if that would work.</p>



<a name="153822858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822858">(Apr 22 2016 at 15:14)</a>:</h4>
<p>That would be a big list! ;) I was thinking more along the lines of general capability rather than specific path.</p>



<a name="153822859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822859">(Apr 22 2016 at 15:17)</a>:</h4>
<p>I agree that common/frequent use cases should be relatively simple to specify, at least that should be the goal. IIRC, you've identified a couple of interesting slicing use cases that aren't covered yet, or way too complex (e.g. extension, ordinal). Are you visiting the HL7 Montreal WGM? I think it would be useful to have a joint discussion on this topic with the FHIR core team.</p>



<a name="153822860"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822860" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822860">(Apr 22 2016 at 15:20)</a>:</h4>
<p>I'll be there - Sat thru Tues (flying Wed)</p>



<a name="153822863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822863">(Apr 22 2016 at 15:33)</a>:</h4>
<p>I'm attending the full week. If you have some spare time, I would definitely like to meet up and go through these cases. Usually there is a late core team pizza session on thursday evening were advanced stuff like this is being discussed. But since you are leaving on tuesday, maybe we should plan an earlier meeting?</p>



<a name="153822864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153822864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153822864">(Apr 22 2016 at 16:08)</a>:</h4>
<p>That'd be great!</p>



<a name="153823205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823205">(Apr 26 2016 at 18:32)</a>:</h4>
<p>Yes, I think there is benefit in identifying common and advanced cases. Maybe advanced cased would be better serverd using FP invariants rather than increasing the complexity of the slicing system. Though that would be less "declarative" and would probably inhibit some of the uses Chris has imaginged using SD for....</p>



<a name="153823214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823214">(Apr 26 2016 at 19:17)</a>:</h4>
<p>Working on use cases - will have some for WGM discussion...</p>



<a name="153823217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823217">(Apr 26 2016 at 19:19)</a>:</h4>
<p>On a new topic - can one extend value[x] directly or must one use a typed version.  For example, can I:</p>
<div class="codehilite"><pre><span class="nt">&lt;element&gt;</span>
  <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Patient.extension.value[x].extension&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;ext1.value[x].ext2&quot;</span> <span class="nt">/&gt;</span>
...snip...
</pre></div>


<p>or must I:</p>
<div class="codehilite"><pre><span class="nt">&lt;element&gt;</span>
  <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Patient.extension.valueCode.extension&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;ext1.valueCode.ext2&quot;</span> <span class="nt">/&gt;</span>
...snip...
</pre></div>


<p>Typing of value[x] is variable...can't easily determine that it's an Element which would allow extension.</p>



<a name="153823220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823220">(Apr 26 2016 at 19:22)</a>:</h4>
<p>Answer should be consistent with whether this is legal:</p>
<div class="codehilite"><pre><span class="nt">&lt;element&gt;</span>
  <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Observation.value[x].coding.code&quot;</span> <span class="nt">/&gt;</span>
...snip...
</pre></div>



<a name="153823221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823221">(Apr 26 2016 at 19:22)</a>:</h4>
<p>when would it not allow extension?</p>



<a name="153823222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823222">(Apr 26 2016 at 19:22)</a>:</h4>
<p>I think the first one would extend value[x], where [x] still has a choice of multiple types. In the second one, valueCode would have constrained the value to just Code, and you're adding an extension to that. So, it does not matter for the extension, but it does imply what happens to the parent element 'value' </p>



<a name="153823223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823223">(Apr 26 2016 at 19:23)</a>:</h4>
<p>As defined, value[x].extension would always be legal, but not value[x].coding.code</p>



<a name="153823224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823224">(Apr 26 2016 at 19:23)</a>:</h4>
<p>well, this:|</p>
<div class="codehilite"><pre>Observation.value[x].coding.code

is not valid
</pre></div>



<a name="153823226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823226">(Apr 26 2016 at 19:24)</a>:</h4>
<p>So something[x].child is only legal if child is found in all possible [x] types?  That's a pain....</p>



<a name="153823228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823228">(Apr 26 2016 at 19:24)</a>:</h4>
<p>in an element definition path, yes, that's correct.</p>



<a name="153823229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823229">(Apr 26 2016 at 19:25)</a>:</h4>
<p>So a profile validator needs to check ALL the types to make sure that the child is present in each? Oye, ok.</p>



<a name="153823230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823230">(Apr 26 2016 at 19:27)</a>:</h4>
<p>Is [x] always an Element?</p>



<a name="153823231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823231">(Apr 26 2016 at 19:27)</a>:</h4>
<p>I don't believe that there's any context where a path refers to more than one type</p>



<a name="153823232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823232">(Apr 26 2016 at 19:28)</a>:</h4>
<p>everything is always an element except for the base resource itself</p>



<a name="153823233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823233">(Apr 26 2016 at 19:28)</a>:</h4>
<p>There's no [x] that allows Resource?</p>



<a name="153823234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823234">(Apr 26 2016 at 19:28)</a>:</h4>
<p>Can we make that a SHALL?</p>



<a name="153823235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823235">(Apr 26 2016 at 19:29)</a>:</h4>
<p>which bit?</p>



<a name="153823236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823236">(Apr 26 2016 at 19:29)</a>:</h4>
<p>That [x] can only be Elements and that only Element elements are allowed in path after [x].</p>



<a name="153823237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823237">(Apr 26 2016 at 19:31)</a>:</h4>
<p>To avoid stuff like extension.value[x].value if [x] allows Identifier and Quantity.  Basically trying to avoid having to interrogate all the types to determine what's valid...</p>



<a name="153823238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823238">(Apr 26 2016 at 19:31)</a>:</h4>
<p>right. you can assume that this is SHALL. we don't say this directly in that forma, because we don't need to.</p>



<a name="153823239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823239">(Apr 26 2016 at 19:31)</a>:</h4>
<p>so [x].extension and [x].id would be the only things allowed a children of [x]</p>



<a name="153823240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823240">(Apr 26 2016 at 19:33)</a>:</h4>
<p>By your assertion above, anything allowed in ALL of the value[x] types would be allowed as children of value[x]...I'd like to see that limited to id and extension.</p>



<a name="153823241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823241">(Apr 26 2016 at 19:35)</a>:</h4>
<p>well, at the moment, it is</p>



<a name="153823242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823242">(Apr 26 2016 at 19:37)</a>:</h4>
<p>Ok, to be explicit, is <code>&lt;path value="Extension.value[x].system" /&gt;</code> legal if the types of value[x] are limited to Identifier and Quantity?</p>



<a name="153823261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823261">(Apr 26 2016 at 21:00)</a>:</h4>
<p>no. that's not legal. it has to be one type</p>



<a name="153823264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/extensions%20syntax/near/153823264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/extensions.20syntax.html#153823264">(Apr 26 2016 at 21:01)</a>:</h4>
<p>And <code>&lt;path value="Extension.value[x].extension" /&gt;</code> is legal (with no type restrictions on value[x]) since extension is part of Element?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
