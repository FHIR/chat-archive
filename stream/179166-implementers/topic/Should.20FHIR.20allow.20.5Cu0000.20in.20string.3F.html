---
layout: page
title: "FHIR Chat  · Should FHIR allow \u0000 in string? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html">Should FHIR allow \u0000 in string?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="273259711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273259711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273259711">(Feb 25 2022 at 17:36)</a>:</h4>
<p>We received a FHIR resource with this JSON segemnt </p>
<div class="codehilite"><pre><span></span><code>&quot;type&quot;: {
  &quot;text&quot;: &quot;\u0000&quot;
}
</code></pre></div>
<p><code>type</code> is a CodeableConcept<br>
string data type states that "Strings SHOULD not contain Unicode character points below 32, except for u0009 (horizontal tab), u0010 (carriage return) and u0013 (line feed)" so <code>text</code> is valid and so does <code>type</code>. <br>
But it feels really strange since this does not convey any meaning.</p>



<a name="273260332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273260332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273260332">(Feb 25 2022 at 17:41)</a>:</h4>
<p>Yeah, I'd say someone is trying to cheat a mandatory in a more creative way than necessary - explain to them about the dataAbsentReason extension.  My preference would be that if normalize-space on a string is empty, then we treat it as an empty string.</p>



<a name="273263145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273263145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273263145">(Feb 25 2022 at 18:02)</a>:</h4>
<p>I would hope that a data sanitization would catch these and declare them invalid.</p>



<a name="273263720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273263720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273263720">(Feb 25 2022 at 18:06)</a>:</h4>
<p>I have run into issues with that SHOULD before.. I do not like it, Sam I Am.</p>
<p>That string also runs into problems with the other SHOULD present there:</p>
<blockquote>
<p>Note: This means that a string that consists only of whitespace could be trimmed to nothing, which would be treated as an invalid element value. Therefore strings SHOULD always contain non-whitespace content.</p>
</blockquote>
<p>(which I also believe should be a SHALL)</p>



<a name="273264645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273264645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273264645">(Feb 25 2022 at 18:13)</a>:</h4>
<p>Yeah, I can't see a use case where only whitespace is a valid response</p>



<a name="273266270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273266270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273266270">(Feb 25 2022 at 18:26)</a>:</h4>
<p>good test to add to the test tools <a class="stream" data-stream-id="231245" href="/#narrow/stream/231245-testing">#testing</a></p>



<a name="273266502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273266502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273266502">(Feb 25 2022 at 18:28)</a>:</h4>
<p>No point in testing a SHOULD for non-whitespace content.</p>



<a name="273266532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273266532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273266532">(Feb 25 2022 at 18:28)</a>:</h4>
<p>oh yes there is... did you crash?</p>



<a name="273273246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273273246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273273246">(Feb 25 2022 at 19:20)</a>:</h4>
<p>I wished to make it a SHALL too, but if we do that, then there are legacy records that cannot be communicated</p>



<a name="273274599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273274599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273274599">(Feb 25 2022 at 19:32)</a>:</h4>
<p>Doesn't that note exist because empty values result in invalid XML?</p>



<a name="273275949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Should%20FHIR%20allow%20%5Cu0000%20in%20string%3F/near/273275949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Should.20FHIR.20allow.20.5Cu0000.20in.20string.3F.html#273275949">(Feb 25 2022 at 19:44)</a>:</h4>
<p>Can we at least spit out a warning?  Does FHIRPath have a trim() or normalize-space() function?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
