---
layout: page
title: "FHIR Chat  · JSON $schema · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/JSON.20.24schema.html">JSON $schema</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="163769598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/JSON%20%24schema/near/163769598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/JSON.20.24schema.html#163769598">(Apr 19 2019 at 22:07)</a>:</h4>
<p>I've been playing with JSON schema for the first time.<br>
There seems to be some sort of semi-standard use of $schema to specify the schema file location.<br>
And fhir.schema.json itself uses this.<br>
But this doesn't seem to be allowed in a FHIR JSON instance. <br>
Is there a good reason why this shouldn't be allowed?<br>
In know we don't encourage the use of hard coded schema references, but they are useful when testing, and are schema valid with XSD.</p>



<a name="163771483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/JSON%20%24schema/near/163771483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/JSON.20.24schema.html#163771483">(Apr 19 2019 at 22:41)</a>:</h4>
<p>I presume for the same reason we prohibit schema references in XML - references to external file locations pose a security risk (whether as a vector for harmful code or as a means of externally monitoring data access)</p>



<a name="163771563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/JSON%20%24schema/near/163771563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/JSON.20.24schema.html#163771563">(Apr 19 2019 at 22:42)</a>:</h4>
<p>When testing/authoring, you can always throw the schema reference in and ignore the validation message.  In my IG framework, I strip off the schema declarations as part of the generation process so I can use them when authoring but produce compliant instances in the publication.</p>



<a name="163774343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/JSON%20%24schema/near/163774343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/JSON.20.24schema.html#163774343">(Apr 19 2019 at 23:37)</a>:</h4>
<blockquote>
<p>semi-standard use of $schema to specify the schema file location.</p>
</blockquote>
<p>I've given up trying to undestand json schema on this. The json schema specification explicitly says that this is not true. Most users of json schema (including openAPI) explicitly say that this is true. Json schema tools are all over the place on how it works</p>



<a name="163775230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/JSON%20%24schema/near/163775230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/JSON.20.24schema.html#163775230">(Apr 19 2019 at 23:55)</a>:</h4>
<p>My choices are: no schema and no validation,  or schema and validation and always one error.  Ignoring one error is not so nice, because you then have to check which error it was. <br>
Tools don't seem to be good at associating the schemas other ways. <br>
I would like to add in a declaration that allows $schema, in a special weaker version of the fhir.schema.json file, but haven't been able to figure out how.</p>



<a name="163775740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/JSON%20%24schema/near/163775740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/JSON.20.24schema.html#163775740">(Apr 20 2019 at 00:05)</a>:</h4>
<p>Is there any discussion about json schema allowing a reference to itself? it never occurred to me that this would be a problem. I’m not familiar with it from XML schema</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
