---
layout: page
title: "FHIR Chat  · Why no root label/code/requirements? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html">Why no root label/code/requirements?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221923895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/221923895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#221923895">(Jan 07 2021 at 10:05)</a>:</h4>
<p><a href="http://hl7.org/fhir/structuredefinition.html#invs">FHIR R4 StructureDefinition invariant sdf-9</a> says "In any snapshot or differential, no label, code or requirements on an element without a "." in the path (e.g. the first element)"</p>
<p>What's the rationale behind this? I'm constructing a logical model of a functional concept that has a SNOMED CT concept representing it. So why can I not state the SNOMED CT concept on the base?</p>



<a name="221957553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/221957553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#221957553">(Jan 07 2021 at 15:45)</a>:</h4>
<p>Metadata about the resource/model as a whole should go on the StructureDefinition, not on the root element.</p>



<a name="222064971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/222064971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#222064971">(Jan 08 2021 at 12:07)</a>:</h4>
<p>I could agree for label and requirements, but code constitutes a binding suitable on the root element, not as metadata on the structuredefinition? In any case there does not seem to be a true counterpart for code in the StructureDefinition, other than element itself.</p>



<a name="222077449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/222077449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#222077449">(Jan 08 2021 at 14:24)</a>:</h4>
<p>The constraint came from <a href="https://jira.hl7.org/browse/FHIR-6040">https://jira.hl7.org/browse/FHIR-6040</a>.  At that point, StructureDefinition.keyword used to be called StructureDefinition.code.  I agree that with the evolved name and definition of that element, it doesn't overlap with ElementDefinition.code.  However, at this point, I don't think we can relax the constraint.  What we <em>could</em> do is add a StructureDefinition.code - likely as an extension - that mirrors what's in Questionnaire.</p>



<a name="231155886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/231155886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#231155886">(Mar 20 2021 at 16:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191375">@Alexander Henket</span> Did you file an issue on this? Not being able to add a code on the root of a datatype profile means there's no way to for a type profile to apply a code to an SD element in a reusable way. Using SD.keyword (or an extension) means the code doesn't naturally inherit onto the profiled element.</p>
<p>Does "normative" mean we can't relax a constraint?</p>



<a name="231164059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/231164059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#231164059">(Mar 20 2021 at 18:49)</a>:</h4>
<p>We can relax a constraint conditionally based on a new element, but I don't think we can relax the constraint overall.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="231235960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/231235960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#231235960">(Mar 21 2021 at 19:27)</a>:</h4>
<p>Looking back in the issues <span class="user-mention" data-user-id="191351">@Chris Grenz</span> I don’t believe I did. It’s still bothering me though so I hope we don’t have to be backward compatible with something that does not really work as intended</p>



<a name="260853962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/260853962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#260853962">(Nov 09 2021 at 20:13)</a>:</h4>
<p>Just realized there's an internal conflict in the spec. In <a href="http://hl7.org/fhir/R4/elementdefinition.html#interpretation">http://hl7.org/fhir/R4/elementdefinition.html#interpretation</a> code is "optional" on the first element. Label (another sdf-9 restriction) is even recommended!</p>



<a name="260854229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Why%20no%20root%20label/code/requirements%3F/near/260854229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Why.20no.20root.20label.2Fcode.2Frequirements.3F.html#260854229">(Nov 09 2021 at 20:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  - any comment on the normative change question from Lloyd? Can we remove a constraint from StructureDefinition?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
