---
layout: page
title: "FHIR Chat  · Adding _include, _revinclude to history operation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html">Adding _include, _revinclude to history operation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="254801806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/254801806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#254801806">(Sep 25 2021 at 02:59)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-32367">FHIR#32367</a> proposes adding support for _revinclude and _include to allow retrieving Provenance and possibly Provenance-associated entities (e.g. Practitioner) back with the history items so the recipient wouldn't need to invoke separate queries for each to see who had made the change, why, etc.  Feedback from the community is welcome.</p>



<a name="257399450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/257399450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#257399450">(Oct 13 2021 at 16:52)</a>:</h4>
<p>This sounds cool</p>



<a name="257399457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/257399457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#257399457">(Oct 13 2021 at 16:53)</a>:</h4>
<p>and useful</p>



<a name="263927259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263927259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263927259">(Dec 06 2021 at 21:29)</a>:</h4>
<p>Didn't get a whole lot of response (thanks <span class="user-mention" data-user-id="200498">@Brendan Keeler</span> for at least providing one :&gt;).  Pinging to see if we can get some more feedback before FHIR-I makes a decision on whether this would be a good thing to add.</p>



<a name="263937578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263937578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263937578">(Dec 06 2021 at 23:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> <span class="user-mention" data-user-id="193430">@Alexander Zautke</span> <span class="user-mention" data-user-id="197072">@Paul Church</span> <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span> <span class="user-mention" data-user-id="191676">@Lee Surprenant</span> <span class="user-mention" data-user-id="191364">@Peter Jordan</span> <span class="user-mention" data-user-id="191343">@Michael Lawley</span> <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> - please respond to this one too</p>



<a name="263942543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263942543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263942543">(Dec 07 2021 at 00:06)</a>:</h4>
<p>I'm not against it, but don't see it as being used that often.<br>
I'd normally expect that you'd already have the initial content and then going back to review history, at which point you'd likely only be wanting to grab the stuff you don't already have.<br>
And these would be usually current versions of the referenced resources, not the version at the time that instance was grabbed - so may not be what you were after either.<br>
Would want to think more about the use cases and if this is really the data that you would want to be getting back.</p>



<a name="263945200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263945200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263945200">(Dec 07 2021 at 00:42)</a>:</h4>
<p>We should think twice before "searchable history". This feature looks so attractive,  but i fill it's a trap ;) Looks like Provenance is from "meta" world, i.e. not an ordinary resource.  I'm definitely against  including other resources than Provenance. For me specialized parameter aka _with_provenance would be more appropriate.</p>



<a name="263950081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263950081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263950081">(Dec 07 2021 at 01:59)</a>:</h4>
<p>I don't think it's implying additional search on history, I think it's just grab other stuff along with the history content (not changing the core of the request at all)</p>



<a name="263950100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263950100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263950100">(Dec 07 2021 at 01:59)</a>:</h4>
<p>(and I too would be against further extending the "searchable" part of history)</p>



<a name="263950897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263950897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263950897">(Dec 07 2021 at 02:12)</a>:</h4>
<p>it has a subtle difficulty that is pretty important - search doesn't work on history; you'd get back the current resources for the agents. That could be problematic</p>



<a name="263950898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263950898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263950898">(Dec 07 2021 at 02:12)</a>:</h4>
<p>or not</p>



<a name="263954189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263954189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263954189">(Dec 07 2021 at 03:21)</a>:</h4>
<p>I'd be fine with limiting it to Provenance - though the Practitioners, Devices, Organizations, etc. that the Provenance points to could also be useful.</p>



<a name="263957714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263957714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263957714">(Dec 07 2021 at 04:39)</a>:</h4>
<p>What is the use case for _history with provenance - Audit?</p>



<a name="263957816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263957816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263957816">(Dec 07 2021 at 04:41)</a>:</h4>
<p>When a user wants to look at "what happened in the past", they typically want to see "what changed" as well as "who did it and why?".  History only answers the former question.  You need Provenance for the latter part.</p>



<a name="263958003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263958003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263958003">(Dec 07 2021 at 04:45)</a>:</h4>
<p>Don't you think,  that good place for this info is resource.meta? :)</p>



<a name="263958215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263958215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263958215">(Dec 07 2021 at 04:49)</a>:</h4>
<p>Resource.meta isn't the place we store that information.  Provenance is.</p>



<a name="263964404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263964404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263964404">(Dec 07 2021 at 06:42)</a>:</h4>
<p>Which version of the referenced resource would you get back? The latest / current, or the one that was current at the time the history entry was created?</p>



<a name="263996112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/263996112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#263996112">(Dec 07 2021 at 12:54)</a>:</h4>
<p>To me, this doesn't seem so compelling to warrant the additional complexity.<br>
If it was added, would we also add a field for it in CapabilityStatement so that clients can determine if its supported?</p>



<a name="264007930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/264007930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#264007930">(Dec 07 2021 at 14:22)</a>:</h4>
<p>History returns all versions.  Provenance links to a specific version, so you'd get back the Provenance entry for each version.  We could certainly define an extension to flag it in CapabilityStatement.  (Don't know it would be common enough to justify a core element.)</p>



<a name="264040411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/264040411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#264040411">(Dec 07 2021 at 17:47)</a>:</h4>
<p>I lean against adding this capability. I do see the use for it - primarily for Provenance, but maybe other cases like AuditEvent? Or some cases where _include is a useful convenience.</p>
<p>But this is only a convenience. The client could already call _history, get back the names version1, version2, version3, and then search Provenance?target=version1,version2,version3 as a separate call. Adding include/revinclude further complicates the history API and will open up a hundred little decisions about the details for something that is almost like search but not quite - can you :iterate? where is support for this declared in the capability statement? what happens in various error cases?</p>
<p>On balance I don't see this as a compelling enough feature to justify tackling all of this complexity.</p>



<a name="264089500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20_include%2C%20_revinclude%20to%20history%20operation/near/264089500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20_include.2C.20_revinclude.20to.20history.20operation.html#264089500">(Dec 07 2021 at 23:30)</a>:</h4>
<p>Agree with Paul. Batch read requests are another way to let clients control inclusion.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
