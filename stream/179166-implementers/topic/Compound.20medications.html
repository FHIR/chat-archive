---
layout: page
title: "FHIR Chat  · Compound medications · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html">Compound medications</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272046517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046517">(Feb 15 2022 at 22:19)</a>:</h4>
<p>Crossposting from #medications since it only has 144 members and this has 20k.</p>
<p><a href="#narrow/stream/179249-Medication/topic/Compound.20Medications">https://chat.fhir.org/#narrow/stream/179249-Medication/topic/Compound.20Medications</a></p>



<a name="272046599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046599">(Feb 15 2022 at 22:20)</a>:</h4>
<p>NCPDP is a standard for medication dispenses we pull from outpatient pharmacies. We want to encode this data back into FHIR format properly. We’ve done so for “normal” medications already.<br>
Compound medications are trickier. We see something like this:</p>



<a name="272046629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046629">(Feb 15 2022 at 22:20)</a>:</h4>
<p><a href="/user_uploads/10155/lgFM4OCMwOPVpJScq89ck-ji/CompoundMed.xml">CompoundMed.xml</a></p>



<a name="272046649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046649">(Feb 15 2022 at 22:20)</a>:</h4>
<p>In order to represent the compounded medication, we must use the FHIR Medication resource as a contained resource. Here’s an example compounded Medication:</p>



<a name="272046678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046678">(Feb 15 2022 at 22:20)</a>:</h4>
<p><code>{
  "resourceType": "Medication",
  "id": "med0319",
  "text": {
    "status": "generated",
    "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;p&gt;&lt;b&gt;Generated Narrative with Details&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;id&lt;/b&gt;: med0319&lt;/p&gt;&lt;p&gt;&lt;b&gt;form&lt;/b&gt;: Ointment &lt;span&gt;(Details : {SNOMED CT code '385101003' = 'Ointment', given as 'Ointment'})&lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;b&gt;ingredient&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;item&lt;/b&gt;: Salicyclic Acid (substance) &lt;span&gt;(Details : {SNOMED CT code '387253001' = 'Salicylic acid', given as 'Salicyclic Acid (substance)'})&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;strength&lt;/b&gt;: 5 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;/100 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;b&gt;ingredient&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;item&lt;/b&gt;: Hydrocortisone (substance) &lt;span&gt;(Details : {SNOMED CT code '396458002' = 'Hydrocortisone', given as 'Hydrocortisone (substance)'})&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;strength&lt;/b&gt;: 1 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;/100 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;b&gt;ingredient&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;item&lt;/b&gt;: White Petrolatum (substance) &lt;span&gt;(Details : {SNOMED CT code '126066007' = 'White petroleum', given as 'White Petrolatum (substance)'})&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;strength&lt;/b&gt;: 94 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;/100 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;"
  },
  "form": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "385101003",
        "display": "Ointment"
      }
    ],
    "text": "Ointment"
  },
  "ingredient": [
    {
      "itemCodeableConcept": {
        "coding": [
          {
            "system": "http://snomed.info/sct",
            "code": "387253001",
            "display": "Salicyclic Acid (substance)"
          }
        ]
      },
      "strength": {
        "numerator": {
          "value": 5,
          "system": "http://unitsofmeasure.org",
          "code": "g"
        },
        "denominator": {
          "value": 100,
          "system": "http://unitsofmeasure.org",
          "code": "g"
        }
      }
    },
    {
      "itemCodeableConcept": {
        "coding": [
          {
            "system": "http://snomed.info/sct",
            "code": "396458002",
            "display": "Hydrocortisone (substance)"
          }
        ]
      },
      "strength": {
        "numerator": {
          "value": 1,
          "system": "http://unitsofmeasure.org",
          "code": "g"
        },
        "denominator": {
          "value": 100,
          "system": "http://unitsofmeasure.org",
          "code": "g"
        }
      }
    },
    {
      "itemCodeableConcept": {
        "coding": [
          {
            "system": "http://snomed.info/sct",
            "code": "126066007",
            "display": "White Petrolatum (substance)"
          }
        ]
      },
      "strength": {
        "numerator": {
          "value": 94,
          "system": "http://unitsofmeasure.org",
          "code": "g"
        },
        "denominator": {
          "value": 100,
          "system": "http://unitsofmeasure.org",
          "code": "g"
        }
      }
    }
  ]
}</code></p>



<a name="272046688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046688">(Feb 15 2022 at 22:21)</a>:</h4>
<p>It’s not clear how we map the quantity into the Medication. For instance, this:</p>



<a name="272046703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046703">(Feb 15 2022 at 22:21)</a>:</h4>
<p><code>     &lt;CompoundIngredientsLotNotUsed&gt;
                        &lt;CompoundIngredient&gt;
                            &lt;CompoundIngredientItemDescription&gt;PLO flowable Pluronic Lecithin Organogel&lt;/CompoundIngredientItemDescription&gt;
                            &lt;ItemNumber&gt;
                                &lt;Code&gt;00395013501&lt;/Code&gt;
                                &lt;Qualifier&gt;ND&lt;/Qualifier&gt;
                            &lt;/ItemNumber&gt;
                        &lt;/CompoundIngredient&gt;
                        &lt;Quantity&gt;
                            &lt;Value&gt;82.9&lt;/Value&gt;
                            &lt;CodeListQualifier&gt;87&lt;/CodeListQualifier&gt;
                            &lt;QuantityUnitOfMeasure&gt;
                                &lt;Code&gt;C48155&lt;/Code&gt;
                            &lt;/QuantityUnitOfMeasure&gt;
                        &lt;/Quantity&gt;
                    &lt;/CompoundIngredientsLotNotUsed&gt;</code></p>



<a name="272046727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046727">(Feb 15 2022 at 22:21)</a>:</h4>
<p>Seems to say that 82.9 grams (C48155 stands for grams) of PLO flowable Pluronic Lecithin Organogel were used, but that feels like an amount and not a strength.</p>



<a name="272046762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046762">(Feb 15 2022 at 22:21)</a>:</h4>
<p>Anyone know how to encode this properly? Is FHIR not able to do compound medications properly?</p>



<a name="272046884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272046884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272046884">(Feb 15 2022 at 22:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="200498">Brendan Keeler</span> <a href="#narrow/stream/179166-implementers/topic/Compound.20medications/near/272046517">said</a>:</p>
<blockquote>
<p>Crossposting from #medications since it only has 144 members and this has 20k.</p>
<p><a href="#narrow/stream/179249-Medication/topic/Compound.20Medications">https://chat.fhir.org/#narrow/stream/179249-Medication/topic/Compound.20Medications</a></p>
</blockquote>
<p>bad idea... those 144 understand medication... all you have done is make the 20k-144 see your message.</p>



<a name="272047096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272047096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272047096">(Feb 15 2022 at 22:24)</a>:</h4>
<p>I disagree? There's a chance someone in the 20k might know? Heck, I'll post it on Twitter too if a wider audience means I might find someone who knows and responds</p>



<a name="272048473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Compound%20medications/near/272048473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Compound.20medications.html#272048473">(Feb 15 2022 at 22:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="200498">Brendan Keeler</span> <a href="#narrow/stream/179166-implementers/topic/Compound.20medications/near/272046762">said</a>:</p>
<blockquote>
<p>Anyone know how to encode this properly? Is FHIR not able to do compound medications properly?</p>
</blockquote>
<p>Ha ha, I posted my comments on your Medication thread just as you crossposted, so you needed to wait 5 more minutes for an answer! <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span>  We have multiple systems able to do compound medications just fine.  You have a built-in ratio in your representation Xg/100g so I'm not sure what the ultimate problem is.   As I said in the first thread, R5 medication has added Quantity and CodeableConcept to the ingredient strength to allow for things that weren't ratios (eg. 5%) or to say QS (as much as is needed).  You can backport the new options into R4 with an extension of you need.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
