---
layout: page
title: "FHIR Chat  · Hard coding an Extension: messageheader-response-request · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html">Hard coding an Extension: messageheader-response-request</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="263171923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263171923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263171923">(Nov 30 2021 at 16:42)</a>:</h4>
<p>Hi All, in the UK we would like to hard code the HL7 Common Extension: messageheader-response-request &lt;<a href="http://hl7.org/fhir/extension-messageheader-response-request.html">http://hl7.org/fhir/extension-messageheader-response-request.html</a>&gt;  to the UKCoreMessageHeader profile.   However, we can't make this optional as this common HL7 extension has a cardinality of 1..1.  Incidentally,  our profile tool (Forge) adheres to this only allowing that mandatory cardinality (1..1) for this extension.  I can see two ways to deal with this:</p>
<ol>
<li>
<p>Not to hard code the extension in the UKCoreMessageHeader profile, but instead to provide guidance to use it if necessary in the Extension Library of our implementation guide.  </p>
</li>
<li>
<p>To create a clone of this HL7 Common Extension, so we could make this optional and hard code this into our profile.  Though someone might argue why we have done this when there is a common HL7 extension, our response could be that we needed this to be optional in our profile.  I'm not keen on this route, as it feels like unnecessary duplication.</p>
</li>
</ol>
<p>Can anyone else think of any other options when dealing with a mandatory common HL7 extension, that one wants to make optional for their profile?  I'd be interested to know why this HL7 Common  Extension: messageheader-response-request was made mandatory, in the first place, considering the majority of  HL7 Common  Extensions are optional.  I'm sure there were good reasons, I'm just curious to understand the thinking behind this.</p>



<a name="263174708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263174708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263174708">(Nov 30 2021 at 17:00)</a>:</h4>
<p>Two possibilities:</p>
<ul>
<li>it was done by accident (in which case, a change request can fix it and we <em>might</em> even be able to deal with it in R4B)</li>
<li>it was believed that if you're going to support the extension, then it needs to be present on everything</li>
</ul>
<p>I'm not sure which is the case.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>?</p>



<a name="263181874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263181874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263181874">(Nov 30 2021 at 17:48)</a>:</h4>
<p>The <code>language</code> extension is also with cardinality of 1..1 - does it pose the same problem? What is the meaning of having an extension with cardinality 1..1?</p>



<a name="263183813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263183813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263183813">(Nov 30 2021 at 18:00)</a>:</h4>
<p>And more generally: what does it mean for an extension to <em>ever</em> set its minimum cardinality higher than zero? (Obviously a <em>profile</em> can define slices where an extension is required...)</p>



<a name="263186725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263186725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263186725">(Nov 30 2021 at 18:22)</a>:</h4>
<p>definitely an oversight in this case</p>



<a name="263188001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263188001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263188001">(Nov 30 2021 at 18:32)</a>:</h4>
<p>Should we have a general check that min cardinality on core extensions is always <code>0</code> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  ?</p>



<a name="263189287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263189287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John George <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263189287">(Nov 30 2021 at 18:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="192685">@Vassil Peytchev</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span> and <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> thanks for your responses.  I'd be in favour of the minimum cardinality on all core extensions always being zero.</p>



<a name="263191509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263191509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263191509">(Nov 30 2021 at 18:57)</a>:</h4>
<p>Submitted <a href="http://jira.hl7.org/browse/FHIR-34399">FHIR-34399</a></p>



<a name="263194512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263194512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263194512">(Nov 30 2021 at 19:18)</a>:</h4>
<p>There are situations where it's actually legitimate to have it be 1, but they'd be rare.  I'd make it a warning rather than an error.</p>



<a name="263207573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263207573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263207573">(Nov 30 2021 at 20:58)</a>:</h4>
<p>I will update the issue if you can help me understand what the situations are?</p>



<a name="263213910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263213910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263213910">(Nov 30 2021 at 21:51)</a>:</h4>
<p>I don't know we've run across any examples where we wanted to.  The gist is "if you're going to use this in a profile, then it always needs to be present".</p>



<a name="263228981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Hard%20coding%20an%20Extension%3A%20messageheader-response-request/near/263228981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Hard.20coding.20an.20Extension.3A.20messageheader-response-request.html#263228981">(Dec 01 2021 at 00:22)</a>:</h4>
<p>But min cardinality doesn't say anything about "in a profile". It's context-free, other than the FHIRpath saying where the extension is applicable.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
