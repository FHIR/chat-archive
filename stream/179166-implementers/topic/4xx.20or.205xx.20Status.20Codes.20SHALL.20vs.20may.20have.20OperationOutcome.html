---
layout: page
title: "FHIR Chat  · 4xx or 5xx Status Codes SHALL vs may have OperationOutcome · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html">4xx or 5xx Status Codes SHALL vs may have OperationOutcome</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="196691893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196691893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196691893">(May 06 2020 at 20:23)</a>:</h4>
<p>Noticed some possible discrepancy in conformance language:</p>
<p><a href="https://www.hl7.org/fhir/http.html#Status-Codes" title="https://www.hl7.org/fhir/http.html#Status-Codes">https://www.hl7.org/fhir/http.html#Status-Codes</a>:</p>
<blockquote>
<p>The OperationOutcome <strong>may be returned</strong> with any HTTP 4xx or 5xx response, but this is not required - many of these errors may be generated by generic server frameworks underlying a FHIR server.</p>
</blockquote>
<p><a href="https://www.hl7.org/fhir/http.html#search" title="https://www.hl7.org/fhir/http.html#search">https://www.hl7.org/fhir/http.html#search</a>:</p>
<blockquote>
<p>If the search fails (cannot be executed, not that there are no matches), the return value return value <strong>SHALL</strong> be a status code 4xx or 5xx <strong>with an OperationOutcome</strong>.<br>
Common HTTP Status codes returned on FHIR-related errors (in addition to normal HTTP errors related to security, header and content type negotiation issues): </p>
<ul>
<li>
<p>400 Bad Request - search could not be processed or failed basic FHIR validation rules</p>
</li>
<li>
<p>401 Not Authorized - authorization is required for the interaction that was attempted </p>
</li>
<li>
<p>404 Not Found - resource type not supported, or not a FHIR end-point </p>
</li>
</ul>
</blockquote>
<p>Wondering if the "SHALL" in the latter quotation refers to simply 4xx/5xx, or also to the "with an OperationOutcome" -- which would be a strange constraint, especially paired with the subsequent line. It would imply that just for Searches, unauthorized searches must return an OO, but unauthorized anything-else does not need to return an OO.</p>
<p>Could I get clarification on whether the OO SHALL be returned with a 4xx/5xx for Searches?</p>
<p>Thank you!</p>



<a name="196692013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196692013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196692013">(May 06 2020 at 20:24)</a>:</h4>
<p>p.s.: also, there's a typo in the second quote "the return value return value" =)</p>



<a name="196699465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196699465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196699465">(May 06 2020 at 21:22)</a>:</h4>
<p>Please submit a change request for the typo and clarification as to whether or not the OperationOutcome is mandated for all error codes - personally, I don't see that OperationOutcome would be necessary for all possible codes, but it's certainly a SHOULD for a 400 and some of the others.</p>



<a name="196699694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196699694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196699694">(May 06 2020 at 21:24)</a>:</h4>
<p>Thanks Lloyd - just so I understand the conformance language in the Search section: the "SHALL be a status 4xx or 5xx" is the target of the conformance, while "with an OperationOutcome" is optional?</p>



<a name="196699909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196699909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196699909">(May 06 2020 at 21:26)</a>:</h4>
<p>As written, it's causing some issues with interpretation, as it can be interpreted as "status codes 4xx/5xx must also come with an OO".</p>



<a name="196699924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196699924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196699924">(May 06 2020 at 21:26)</a>:</h4>
<p>I think it's unclear and needs to be clarified.  I can't swear as to the original intent, but my leaning is that it shouldn't be a SHALL.</p>



<a name="196699940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196699940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196699940">(May 06 2020 at 21:26)</a>:</h4>
<p>Others may disagree though.</p>



<a name="196700104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196700104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196700104">(May 06 2020 at 21:27)</a>:</h4>
<p>operation outcome is not a shall since 4xx and 5xx can be generated in the stack long before FHIR comes into relevance</p>



<a name="196700228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196700228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196700228">(May 06 2020 at 21:28)</a>:</h4>
<p>K.  That sounds like a clear answer.  <span class="user-mention" data-user-id="192143">@Ken Sinn</span> Please reference this thread when you submit the change request</p>



<a name="196700356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196700356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196700356">(May 06 2020 at 21:29)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  and <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="196702969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196702969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196702969">(May 06 2020 at 21:51)</a>:</h4>
<p>Created: <a href="https://jira.hl7.org/browse/FHIR-27051" title="https://jira.hl7.org/browse/FHIR-27051">https://jira.hl7.org/browse/FHIR-27051</a></p>



<a name="196860520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/4xx%20or%205xx%20Status%20Codes%20SHALL%20vs%20may%20have%20OperationOutcome/near/196860520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/4xx.20or.205xx.20Status.20Codes.20SHALL.20vs.20may.20have.20OperationOutcome.html#196860520">(May 08 2020 at 06:03)</a>:</h4>
<p>I think the way this was written suggests that there are specific FHIR-related failures when trying to execute a search, where an OperationOutcome is required. Of the 3 examples given, the first seems to fit such a requirement, but I am not sure about the other two...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
