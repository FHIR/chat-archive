---
layout: page
title: "FHIR Chat  · coding: pattern vs. slice · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/coding.3A.20pattern.20vs.2E.20slice.html">coding: pattern vs. slice</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="212086066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/coding%3A%20pattern%20vs.%20slice/near/212086066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/coding.3A.20pattern.20vs.2E.20slice.html#212086066">(Oct 02 2020 at 15:01)</a>:</h4>
<p>I would like to receive a GTIN code (system = urn:oid:2.51.1.1) for Medication.code, but also allow other codes, e.g. local codes. Therefore I have used the patternCodeableConcept. But if I now set the minimum cardinality of the code itself to 1, the view in the Differential Table does not seem very intuitive to me (see screen shot). Is this as it should be or could it be adapted?<br>
Or should I rather work via a slice? I could also work with a slice, that the code becomes 1..n, because we actually need 0..n.</p>
<p><a href="/user_uploads/10155/a8iSlTjF4Vx1Drip3AvGmjCQ/patternCC.png">patternCC.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/a8iSlTjF4Vx1Drip3AvGmjCQ/patternCC.png" title="patternCC.png"><img src="/user_uploads/10155/a8iSlTjF4Vx1Drip3AvGmjCQ/patternCC.png"></a></div><div class="codehilite"><pre><span></span><code>      &lt;element id=&quot;Medication.code&quot;&gt;
         &lt;path value=&quot;Medication.code&quot;/&gt;
         &lt;min value=&quot;1&quot;/&gt;
         &lt;patternCodeableConcept&gt;
            &lt;coding&gt;
               &lt;system value=&quot;urn:oid:2.51.1.1&quot;/&gt;
            &lt;/coding&gt;
         &lt;/patternCodeableConcept&gt;
      &lt;/element&gt;
      &lt;element id=&quot;Medication.code.coding&quot;&gt;
         &lt;path value=&quot;Medication.code.coding&quot;/&gt;
         &lt;short value=&quot;GTIN code that identify this medication&quot;/&gt;
         &lt;mapping&gt;
            &lt;identity value=&quot;cda&quot;/&gt;
            &lt;map value=&quot;.code&quot;/&gt;
         &lt;/mapping&gt;
         &lt;mapping&gt;
            &lt;identity value=&quot;cda&quot;/&gt;
            &lt;map value=&quot;.pharm:asContent.pharm:containerPackagedMedicine.pharm:code&quot;/&gt;
         &lt;/mapping&gt;
      &lt;/element&gt;
      &lt;element id=&quot;Medication.code.coding.code&quot;&gt;
         &lt;path value=&quot;Medication.code.coding.code&quot;/&gt;
         &lt;min value=&quot;1&quot;/&gt;
         &lt;max value=&quot;1&quot;/&gt;
      &lt;/element&gt;
</code></pre></div>



<a name="212134362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/coding%3A%20pattern%20vs.%20slice/near/212134362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/coding.3A.20pattern.20vs.2E.20slice.html#212134362">(Oct 02 2020 at 22:07)</a>:</h4>
<p>I don't think you can (or should) mix pattern and additional rules like that. you'll have to slice coding and use the pattern as a patternCoding on one of them</p>



<a name="212596620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/coding%3A%20pattern%20vs.%20slice/near/212596620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/coding.3A.20pattern.20vs.2E.20slice.html#212596620">(Oct 07 2020 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="233842">@Michaela Ziegler</span> Can you post what you have done to align with <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> recommendation please? I think this requirement of using a pattern as one slice to require a coding from a specific system, but also allowing other codings is common but not well documented.</p>



<a name="212674094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/coding%3A%20pattern%20vs.%20slice/near/212674094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/coding.3A.20pattern.20vs.2E.20slice.html#212674094">(Oct 08 2020 at 11:09)</a>:</h4>
<p>I did it as with the vital sign observations as a slice on the element coding (and not with the patternCoding). Because I only define the value of the system and I want to define additionally that a code should be given.<br>
<a href="https://www.hl7.org/fhir/bodyheight.html">Observation BodyHeight</a><br>
<a href="http://build.fhir.org/ig/hl7ch/ch-emed/StructureDefinition-ch-emed-medication-medicationstatement.html">CH EMED Medication</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
