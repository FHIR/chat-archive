---
layout: page
title: "FHIR Chat  · Handling STU3 Extension canonical URLs · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html">Handling STU3 Extension canonical URLs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="156400122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156400122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156400122">(Jan 18 2019 at 21:12)</a>:</h4>
<p>What are the recommended guidelines for handling/using STU3 extensions that are no longer available in R4?<br>
For example, our STU3 profile use <a href="http://hl7.org/fhir/STU3/extension-observation-eventtiming.html" target="_blank" title="http://hl7.org/fhir/STU3/extension-observation-eventtiming.html">http://hl7.org/fhir/STU3/extension-observation-eventtiming.html</a>, but our profile structure definition references the canonical URL -- <a href="http://hl7.org/fhir/StructureDefinition/observation-eventTiming" target="_blank" title="http://hl7.org/fhir/StructureDefinition/observation-eventTiming">http://hl7.org/fhir/StructureDefinition/observation-eventTiming</a> -- which no longer resolves after the R4 publication.</p>
<p>The STU3 profile itself declares its FHIR version to be 3.0.1 -- is that sufficiently obvious that someone would need to muck with the canonical URL declaration (<a href="http://hl7.org/fhir/StructureDefinition/observation-eventTiming" target="_blank" title="http://hl7.org/fhir/StructureDefinition/observation-eventTiming">http://hl7.org/fhir/StructureDefinition/observation-eventTiming</a>)  in order to get at the actual resolvable page (<a href="http://hl7.org/fhir/STU3/extension-observation-eventtiming.html" target="_blank" title="http://hl7.org/fhir/STU3/extension-observation-eventtiming.html">http://hl7.org/fhir/STU3/extension-observation-eventtiming.html</a>)? Or should the STU3 profile reference the version-specific extension, via <a href="http://hl7.org/fhir/STU3/extension-observation-eventtiming.html" target="_blank" title="http://hl7.org/fhir/STU3/extension-observation-eventtiming.html">http://hl7.org/fhir/STU3/extension-observation-eventtiming.html</a> or <a href="http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1" target="_blank" title="http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1">http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1</a>? (and is there a preference for one URL format or the other?</p>



<a name="156417391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156417391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156417391">(Jan 19 2019 at 03:03)</a>:</h4>
<p>actually, the formal version specific canonical URL is  <a href="http://hl7.org/fhir/3.0/StructureDefinition/observation-eventTiming" target="_blank" title="http://hl7.org/fhir/3.0/StructureDefinition/observation-eventTiming">http://hl7.org/fhir/3.0/StructureDefinition/observation-eventTiming</a></p>



<a name="156417440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156417440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156417440">(Jan 19 2019 at 03:04)</a>:</h4>
<p>the only way to know that from an R3 perspective is magic, but it is documented formally as part of R4</p>



<a name="156417451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156417451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156417451">(Jan 19 2019 at 03:05)</a>:</h4>
<blockquote>
<p><a href="http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1" target="_blank" title="http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1">http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1</a></p>
</blockquote>
<p>that's something else - which we haven't yet worked on for the spec - the R4 definition of the R3 version of the extension - but that doesn't exist anyway</p>



<a name="156551698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156551698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156551698">(Jan 21 2019 at 17:52)</a>:</h4>
<p>A related question: when defining a FHIR Profile and binding an element to a FHIR version-specific valueset, which of the following should we use for the canonical URL?<br>
A) <a href="http://hl7.org/fhir/stu3/ValueSet/document-relationship-type" target="_blank" title="http://hl7.org/fhir/stu3/ValueSet/document-relationship-type">http://hl7.org/fhir/stu3/ValueSet/document-relationship-type</a><br>
B) <a href="http://hl7.org/fhir/ValueSet/document-relationship-type|3.0.1" target="_blank" title="http://hl7.org/fhir/ValueSet/document-relationship-type|3.0.1">http://hl7.org/fhir/ValueSet/document-relationship-type|3.0.1</a><br>
C) <a href="http://hl7.org/fhir/3.0/ValueSet/document-relationship-type" target="_blank" title="http://hl7.org/fhir/3.0/ValueSet/document-relationship-type">http://hl7.org/fhir/3.0/ValueSet/document-relationship-type</a></p>



<a name="156552188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156552188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156552188">(Jan 21 2019 at 18:00)</a>:</h4>
<p>B</p>



<a name="156552216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156552216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156552216">(Jan 21 2019 at 18:00)</a>:</h4>
<p>The other two resolve, but they're not the canonical URL.</p>



<a name="156552336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156552336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156552336">(Jan 21 2019 at 18:02)</a>:</h4>
<p>And in defining profiles, the valueset bindings should always be the canonical URL, not simply a resolvable URL?<br>
Whereas the extension canonical URLs are differently-structured, i.e. to Graham's point above?</p>



<a name="156564045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156564045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156564045">(Jan 21 2019 at 21:59)</a>:</h4>
<p>Elements of type "canonical" must always point to the canonical URL of the resource being referenced (possibly with the business version appended after '|').  The extension URLs he's defined have different canonical URL roots because they're intended by design to be version-specific</p>



<a name="156565917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156565917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156565917">(Jan 21 2019 at 22:46)</a>:</h4>
<p>For the valuesets defined by FHIR, is the business version the same as the FHIR version? I notice that in the R4 publication, version is explicitly stated as 4.0.0 for all valuesets, but this isn't defined in stu3 or earlier.  For example, <a href="https://www.hl7.org/fhir/stu3/valueset-name-use.html" target="_blank" title="https://www.hl7.org/fhir/stu3/valueset-name-use.html">https://www.hl7.org/fhir/stu3/valueset-name-use.html</a> is assumed to be business version 3.0.1?</p>



<a name="156570913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156570913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156570913">(Jan 22 2019 at 01:01)</a>:</h4>
<p>It should be, yes.  The tooling didn't do that though.  I believe we're planning a technical correction to STU3 that will fix this.  I don't know that it'll be addressed for DSTU2 though.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="156637964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Handling%20STU3%20Extension%20canonical%20URLs/near/156637964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Handling.20STU3.20Extension.20canonical.20URLs.html#156637964">(Jan 22 2019 at 20:46)</a>:</h4>
<p>we're not planning a technical correction for R2</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
