---
layout: page
title: "FHIR Chat  · The order of resources in a bundle · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/The.20order.20of.20resources.20in.20a.20bundle.html">The order of resources in a bundle</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153943430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/The%20order%20of%20resources%20in%20a%20bundle/near/153943430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/The.20order.20of.20resources.20in.20a.20bundle.html#153943430">(Mar 09 2018 at 15:49)</a>:</h4>
<p>I am wonder to what degree the order of resources in a bundle has impact or can have meaning. I have come across two scenarios where this question has come up. (For context, i am trying to POST a bundle with a /ServiceRequest as the primary resource in addition to all of the resources it references, such as /Patient, /Practitioner, etc.)</p>
<p>1) I was once told that the resource in the bundle should be included in such an order that references resources appear first, and parent resources appear last. For example, /Practitioner and /Patient are references from /ServiceRequest, so they would come in the bundle ABOVE /ServiceRequest<br>
Is this necessary/helpful?</p>
<p>2) I have two basic flows in my eReferral architecture, a) sending ServicesRequests, b) sending Communications. We've discussed "how do we determine that the bundle is ABOUT a ServiceRequest, or ABOUT a Communication" (note that sometimes sending a ServiceRequest can include a Communication). We considered that whatever is the FIRST resource in the bundle will inform whether it is ServiceRequest-oriented or Communication-oriented transmission. <br>
Is this a valid approach/idea?</p>



<a name="153943435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/The%20order%20of%20resources%20in%20a%20bundle/near/153943435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/The.20order.20of.20resources.20in.20a.20bundle.html#153943435">(Mar 09 2018 at 15:59)</a>:</h4>
<p>1. is definitely not true.  It's possible some system might try to impose such a requirement, but it's not enforced by the spec and there will be situations where it's not possible<br>
2. Documents or messages can be "about" something - and that's indicated by the MessageHeader.focus or the Document.section.entry resources.  Query response, transaction and batch bundles aren't "about" anything.  and arbitrary 'collection' bundles aren't defined as being about anything either</p>



<a name="153943551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/The%20order%20of%20resources%20in%20a%20bundle/near/153943551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/The.20order.20of.20resources.20in.20a.20bundle.html#153943551">(Mar 09 2018 at 21:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> do you think there's a strong case to be made that sending an eReferral (ServiceRequest) should be a message? i've been working with the batch or transaction approach up to this point, and have never been quite certain if that's the right approach.</p>



<a name="153943555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/The%20order%20of%20resources%20in%20a%20bundle/near/153943555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/The.20order.20of.20resources.20in.20a.20bundle.html#153943555">(Mar 09 2018 at 21:21)</a>:</h4>
<p>Well, a batch just says "create all of these records on the server".  It doesn't say "do" anything and there isn't a response.  However, if the Batch includes a Task that says "fulfill this" or one of the records has a "please fulfill" tag as discussed in Workflow, then it should result in action being taken.  Going messaging means that there's more negotiation required between the systems interoperating.  However, it does allow for the possibility of getting a Bundle back and eliminates the need for polling or subscriptions to keep track of how things are going.  If you haven't read the workflow part of the spec, you might consider doing so - it talks alot about the different mechanisms FHIR has for managing workflow and what the tradeoffs are.  (And feedback about how to make that content clearer/more useful is welcome too :))</p>



<a name="153943561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/The%20order%20of%20resources%20in%20a%20bundle/near/153943561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/The.20order.20of.20resources.20in.20a.20bundle.html#153943561">(Mar 09 2018 at 22:57)</a>:</h4>
<p>There are bundle processing rules that (I believe) address the way a FHIR server is supposed to handle resource dependencies within a bundle:  <a href="https://www.hl7.org/fhir/http.html#2.21.0.17.1" target="_blank" title="https://www.hl7.org/fhir/http.html#2.21.0.17.1">https://www.hl7.org/fhir/http.html#2.21.0.17.1</a></p>



<a name="153943594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/The%20order%20of%20resources%20in%20a%20bundle/near/153943594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/The.20order.20of.20resources.20in.20a.20bundle.html#153943594">(Mar 10 2018 at 13:51)</a>:</h4>
<p>Thanks, i've spent a fair bit of time looking into the task resource in particular, but am going to try and take a look at the wider workflow perspective.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
