---
layout: page
title: "FHIR Chat  · fhir.r4.expansions valueset issue · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir.2Er4.2Eexpansions.20valueset.20issue.html">fhir.r4.expansions valueset issue</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="246972301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir.r4.expansions%20valueset%20issue/near/246972301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir.2Er4.2Eexpansions.20valueset.20issue.html#246972301">(Jul 23 2021 at 12:46)</a>:</h4>
<p>While looking through some FHIR R4 <code>ValueSet</code> resources, I noticed a case where the expanded valueset from <code>hl7.fhir.r4.expansions</code> is including a code that should be excluded based on the <code>compose</code> for that valueset. </p>
<p>The valueset in question is <a href="https://terminology.hl7.org/2.1.0/ValueSet-v3-PurposeOfUse.json.html">https://terminology.hl7.org/2.1.0/ValueSet-v3-PurposeOfUse.json.html</a>, which defines its codes as everything in the <code>v3-ActReason</code> codesystem _except_ for the <code>PurposeOfUse</code> code. </p>
<p>However, when you look at the expanded version available in <code>hl7.fhir.r4.expansions</code>, the <code>expansion.contains</code> contains that <code>PurposeOfUse</code> code: <a href="https://simplifier.net/packages/hl7.fhir.r4.expansions/4.0.1/files/100573">https://simplifier.net/packages/hl7.fhir.r4.expansions/4.0.1/files/100573</a></p>
<p>Does anyone know why the expansion here isn't excluding the code it should be?</p>



<a name="246979481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir.r4.expansions%20valueset%20issue/near/246979481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir.2Er4.2Eexpansions.20valueset.20issue.html#246979481">(Jul 23 2021 at 13:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - you should look at this when you're back.</p>



<a name="249002411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir.r4.expansions%20valueset%20issue/near/249002411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir.2Er4.2Eexpansions.20valueset.20issue.html#249002411">(Aug 10 2021 at 16:31)</a>:</h4>
<p>Just replying to this thread to make sure it doesn't get lost. Also let me know if you need any additional information!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
