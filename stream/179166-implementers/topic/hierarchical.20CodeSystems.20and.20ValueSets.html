---
layout: page
title: "FHIR Chat  · hierarchical CodeSystems and ValueSets · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html">hierarchical CodeSystems and ValueSets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="234877438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234877438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234877438">(Apr 16 2021 at 15:50)</a>:</h4>
<p>hi everybody,</p>
<p>I have a question regarding hierarchical codesystems.<br>
I'm curretly converting an existing terminology to a FHIR one.<br>
for the moment I have something like :</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;CodeSystem&quot;,
  &quot;id&quot;: &quot;someid&quot;,
  &quot;language&quot;: &quot;en&quot;,
  &quot;url&quot;: &quot;http://terminology.hl7.org/CodeSystem/something&quot;,
  &quot;identifier&quot;: [
    {
      &quot;system&quot;: &quot;urn:ietf:rfc:3986&quot;,
      &quot;value&quot;: &quot;urn:oid:1111&quot;
    }
   ],
  &quot;valueSet&quot;: &quot;http://terminology.hl7.org/CodeSystem/someide/vs&quot;,
  &quot;name&quot;: &quot;somename&quot;,
  &quot;title&quot;: &quot;sometitle&quot;,
  &quot;status&quot;: &quot;draft&quot;,
  &quot;experimental&quot;: false,
  &quot;hierarchyMeaning&quot;: &quot;is-a&quot;,
  &quot;content&quot;: &quot;complete&quot;,
  &quot;count&quot;: 110212,
  &quot;property&quot;: [
    {
      &quot;code&quot;: &quot;active&quot;,
      &quot;type&quot;: &quot;string&quot;
    },
    {
      &quot;code&quot;: &quot;abbreviation&quot;,
      &quot;type&quot;: &quot;string&quot;
    },
    {
      &quot;code&quot;: &quot;meddra_code&quot;,
      &quot;type&quot;: &quot;string&quot;
    }
  ],
  &quot;concept&quot;: [
    {
      &quot;code&quot;: &quot;soc_10005329&quot;,
      &quot;display&quot;: &quot;Blood and lymphatic system disorders&quot;,
      &quot;property&quot;: [
        {
          &quot;code&quot;: &quot;meddra_code&quot;,
          &quot;valueCode&quot;: &quot;10005329&quot;
        },
        {
          &quot;code&quot;: &quot;abbreviation&quot;,
          &quot;valueCode&quot;: &quot;Blood&quot;
        },
        {
          &quot;code&quot;: &quot;child&quot;,
          &quot;valueCode&quot;: &quot;hlgt_10002086&quot;
        }
      ]
    }
 ]
}
</code></pre></div>
<p>the CodeSystem is imported correctly in HAPI. <br>
The issue  I'm facing is that I don't know how to create a ValueSet from it to be able to <br>
perform queries on it, like what are the codes with text or what are the elements without<br>
a parent.<br>
Thing I don't know is should I create the ValueSet ? If yes, how can it represent the parent/child<br>
relationship ?<br>
Thanks</p>



<a name="234882296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234882296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234882296">(Apr 16 2021 at 16:19)</a>:</h4>
<p>I'm not seeing any hierarchy in what you've shared?  <a href="https://build.fhir.org/valueset-filter-operator.html">https://build.fhir.org/valueset-filter-operator.html</a> lets you define value sets based on hierarchical relationships.</p>



<a name="234887260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234887260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234887260">(Apr 16 2021 at 16:53)</a>:</h4>
<p>thank you, still trying to figure how it works. so it should be something like :</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;CodeSystem&quot;,
  &quot;id&quot;: &quot;someid&quot;,
  &quot;language&quot;: &quot;en&quot;,
  &quot;url&quot;: &quot;http://terminology.hl7.org/CodeSystem/something&quot;,
  &quot;identifier&quot;: [
    {
      &quot;system&quot;: &quot;urn:ietf:rfc:3986&quot;,
      &quot;value&quot;: &quot;urn:oid:1111&quot;
    }
   ],
  &quot;valueSet&quot;: &quot;http://terminology.hl7.org/CodeSystem/someide/vs&quot;,
  &quot;name&quot;: &quot;somename&quot;,
  &quot;title&quot;: &quot;sometitle&quot;,
  &quot;status&quot;: &quot;draft&quot;,
  &quot;experimental&quot;: false,
  &quot;hierarchyMeaning&quot;: &quot;is-a&quot;,
  &quot;content&quot;: &quot;complete&quot;,
  &quot;count&quot;: 110212,
      &quot;filter&quot;: [
        {
            &quot;code&quot;: &quot;parent&quot;,
            &quot;operator&quot;: [
                &quot;=&quot;
            ],
            &quot;value&quot;: &quot;A Part code&quot;
        },
        {
            &quot;code&quot;: &quot;child&quot;,
            &quot;operator&quot;: [
                &quot;=&quot;
            ],
            &quot;value&quot;: &quot;Child codes&quot;
        },
    ],
  &quot;property&quot;: [
    {
      &quot;code&quot;: &quot;active&quot;,
      &quot;type&quot;: &quot;string&quot;
    },
    {
      &quot;code&quot;: &quot;abbreviation&quot;,
      &quot;type&quot;: &quot;string&quot;
    },
    {
      &quot;code&quot;: &quot;meddra_code&quot;,
      &quot;type&quot;: &quot;string&quot;
    }
  ],
  &quot;concept&quot;: [
    {
      &quot;code&quot;: &quot;soc_10005329&quot;,
      &quot;display&quot;: &quot;Blood and lymphatic system disorders&quot;,
      &quot;property&quot;: [
        {
          &quot;code&quot;: &quot;meddra_code&quot;,
          &quot;valueCode&quot;: &quot;10005329&quot;
        },
        {
          &quot;code&quot;: &quot;abbreviation&quot;,
          &quot;valueCode&quot;: &quot;Blood&quot;
        },
        {
          &quot;code&quot;: &quot;child&quot;,
          &quot;valueCode&quot;: &quot;hlgt_10002086&quot;
        }
      ]
    }
 ]
}
</code></pre></div>



<a name="234887826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234887826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234887826">(Apr 16 2021 at 16:57)</a>:</h4>
<p>Still not following - you've only got one concept in that code system?</p>



<a name="234888296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234888296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234888296">(Apr 16 2021 at 17:00)</a>:</h4>
<p>i removed the rest because it's too long. let me share a longer example</p>



<a name="234888609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234888609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234888609">(Apr 16 2021 at 17:02)</a>:</h4>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;CodeSystem&quot;,
  &quot;id&quot;: &quot;someid&quot;,
  &quot;language&quot;: &quot;en&quot;,
  &quot;url&quot;: &quot;http://terminology.hl7.org/CodeSystem/something&quot;,
  &quot;identifier&quot;: [
    {
      &quot;system&quot;: &quot;urn:ietf:rfc:3986&quot;,
      &quot;value&quot;: &quot;urn:oid:1111&quot;
    }
   ],
  &quot;valueSet&quot;: &quot;http://terminology.hl7.org/CodeSystem/someide/vs&quot;,
  &quot;name&quot;: &quot;somename&quot;,
  &quot;title&quot;: &quot;sometitle&quot;,
  &quot;status&quot;: &quot;draft&quot;,
  &quot;experimental&quot;: false,
  &quot;hierarchyMeaning&quot;: &quot;is-a&quot;,
  &quot;content&quot;: &quot;complete&quot;,
  &quot;count&quot;: 110212,
      &quot;filter&quot;: [
        {
            &quot;code&quot;: &quot;parent&quot;,
            &quot;operator&quot;: [
                &quot;=&quot;
            ],
            &quot;value&quot;: &quot;A Part code&quot;
        },
        {
            &quot;code&quot;: &quot;child&quot;,
            &quot;operator&quot;: [
                &quot;=&quot;
            ],
            &quot;value&quot;: &quot;Child codes&quot;
        },
    ],
  &quot;property&quot;: [
    {
      &quot;code&quot;: &quot;active&quot;,
      &quot;type&quot;: &quot;string&quot;
    },
    {
      &quot;code&quot;: &quot;abbreviation&quot;,
      &quot;type&quot;: &quot;string&quot;
    },
    {
      &quot;code&quot;: &quot;meddra_code&quot;,
      &quot;type&quot;: &quot;string&quot;
    }
  ],
  &quot;concept&quot;: [
    {
      &quot;code&quot;: &quot;soc_10005329&quot;,
      &quot;display&quot;: &quot;Blood and lymphatic system disorders&quot;,
      &quot;property&quot;: [
        {
          &quot;code&quot;: &quot;meddra_code&quot;,
          &quot;valueCode&quot;: &quot;10005329&quot;
        },
        {
          &quot;code&quot;: &quot;abbreviation&quot;,
          &quot;valueCode&quot;: &quot;Blood&quot;
        },
        {
          &quot;code&quot;: &quot;child&quot;,
          &quot;valueCode&quot;: &quot;hlgt_10002086&quot;
        }
      ]
    },
    {
      &quot;code&quot;: &quot;hlgt_10002086&quot;,
      &quot;display&quot;: &quot;Anaemias nonhaemolytic and marrow depression&quot;,
      &quot;property&quot;: [
        {
          &quot;code&quot;: &quot;meddra_code&quot;,
          &quot;valueCode&quot;: &quot;10002086&quot;
        },
        {
          &quot;code&quot;: &quot;parent&quot;,
          &quot;valueCode&quot;: &quot;soc_10005329&quot;
        }
      ]
    }
 ]
}
</code></pre></div>



<a name="234889188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234889188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234889188">(Apr 16 2021 at 17:06)</a>:</h4>
<p>Ok - there's still no hierarchy shown there.</p>



<a name="234889290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234889290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234889290">(Apr 16 2021 at 17:07)</a>:</h4>
<p>isn't it given by code=child and code=parent referencing each other ?</p>



<a name="234889580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234889580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234889580">(Apr 16 2021 at 17:09)</a>:</h4>
<p>or <code>hlgt_10002086</code> should be inside <code>soc_10005329</code> ?</p>



<a name="234889704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234889704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234889704">(Apr 16 2021 at 17:10)</a>:</h4>
<p>Hierarchy should only be shown using properties if there's a polyhierarchy - i.e. one concept is a specialization of multiple parents.  Even then, at least part of the hierarchy is typically shown through nesting.  The property also needs to be one that's understood by the terminology server for it to work.  The way you define value sets is the same regardless of whether the hierarchy is defined the 'standard' way by nesting or by supplementing additional parents via property.</p>



<a name="234889843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234889843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234889843">(Apr 16 2021 at 17:11)</a>:</h4>
<p>do you have any example I could follow ?</p>



<a name="234890048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234890048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234890048">(Apr 16 2021 at 17:13)</a>:</h4>
<p>In this case, it's a simple one, one parent multiple children. From my understanding, which is wrong <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>, declaring the parent/child in the properties</p>



<a name="234890073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234890073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234890073">(Apr 16 2021 at 17:13)</a>:</h4>
<p><a href="https://terminology.hl7.org/CodeSystem-v3-ActClass.html">https://terminology.hl7.org/CodeSystem-v3-ActClass.html</a> has both.</p>



<a name="234890423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234890423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234890423">(Apr 16 2021 at 17:16)</a>:</h4>
<p>Thank you, will check it. May I bother again in case I have issues ?</p>



<a name="234891221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234891221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234891221">(Apr 16 2021 at 17:22)</a>:</h4>
<p>That's what Zulip is for :)</p>



<a name="234898185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234898185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234898185">(Apr 16 2021 at 18:11)</a>:</h4>
<p>last test for tonight <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span><br>
does it make more sense like this ?</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;CodeSystem&quot;,
  &quot;id&quot;: &quot;someid&quot;,
  &quot;language&quot;: &quot;en&quot;,
  &quot;url&quot;: &quot;http://terminology.hl7.org/CodeSystem/something&quot;,
  &quot;identifier&quot;: [
    {
      &quot;system&quot;: &quot;urn:ietf:rfc:3986&quot;,
      &quot;value&quot;: &quot;urn:oid:1111&quot;
    }
   ],
  &quot;valueSet&quot;: &quot;http://terminology.hl7.org/CodeSystem/someide/vs&quot;,
  &quot;name&quot;: &quot;somename&quot;,
  &quot;title&quot;: &quot;sometitle&quot;,
  &quot;status&quot;: &quot;draft&quot;,
  &quot;experimental&quot;: false,
  &quot;hierarchyMeaning&quot;: &quot;is-a&quot;,
  &quot;content&quot;: &quot;complete&quot;,
  &quot;count&quot;: 110212,
      &quot;filter&quot;: [
        {
            &quot;code&quot;: &quot;parent&quot;,
            &quot;operator&quot;: [
                &quot;=&quot;
            ],
            &quot;value&quot;: &quot;A Part code&quot;
        },
        {
            &quot;code&quot;: &quot;child&quot;,
            &quot;operator&quot;: [
                &quot;=&quot;
            ],
            &quot;value&quot;: &quot;Child codes&quot;
        },
    ],
  &quot;property&quot;: [
    {

        &quot;code&quot;: &quot;parent&quot;,
        &quot;uri&quot;: &quot;http://hl7.org/fhir/concept-properties#parent&quot;,
        &quot;description&quot;: &quot;A parent code in the Multiaxial Hierarchy&quot;
    },
    {
        &quot;code&quot;: &quot;child&quot;,
        &quot;uri&quot;: &quot;http://hl7.org/fhir/concept-properties#child&quot;,
        &quot;description&quot;: &quot;A child code in the Multiaxial Hierarchy&quot;
    },
    {
      &quot;code&quot;: &quot;active&quot;,
      &quot;type&quot;: &quot;string&quot;
    },
    {
      &quot;code&quot;: &quot;abbreviation&quot;,
      &quot;type&quot;: &quot;string&quot;
    },
    {
      &quot;code&quot;: &quot;meddra_code&quot;,
      &quot;type&quot;: &quot;string&quot;
    }
  ],
  &quot;concept&quot;: [
    {
      &quot;code&quot;: &quot;soc_10005329&quot;,
      &quot;display&quot;: &quot;Blood and lymphatic system disorders&quot;,
      &quot;property&quot;: [
        {
          &quot;code&quot;: &quot;child&quot;,
          &quot;valueCode&quot;: &quot;hlgt_10002086&quot;
        }
      ]
    },
    {
      &quot;code&quot;: &quot;hlgt_10002086&quot;,
      &quot;display&quot;: &quot;Anaemias nonhaemolytic and marrow depression&quot;,
      &quot;property&quot;: [
        {
          &quot;code&quot;: &quot;parent&quot;,
          &quot;valueCode&quot;: &quot;soc_10005329&quot;
        }
      ]
    }
 ]
}
</code></pre></div>



<a name="234898313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234898313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234898313">(Apr 16 2021 at 18:12)</a>:</h4>
<p>so , properties <code>parent</code> and <code>child</code> are declared. the <code>valueCode</code> referenced in parent and child are valid...</p>



<a name="234899728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234899728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234899728">(Apr 16 2021 at 18:22)</a>:</h4>
<p>I'm not seeing hierarchy being used.  If you don't have a polyhierarchy, don't use properties to represent parent/child.  Also, NEVER use properties to point both directions.</p>



<a name="234904661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234904661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234904661">(Apr 16 2021 at 19:00)</a>:</h4>
<p>so I should remove the parent,child in the properties then ?<br>
the hierarchy is quite simple parent &gt; child &gt; child<br>
so i should declare only parents or only children for a code, not both ?<br>
thank you for your patience</p>



<a name="234918418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234918418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234918418">(Apr 16 2021 at 20:49)</a>:</h4>
<p>If you don't have polyhierarchy, you should nest concepts inside one another as per the hierarchy and not declare properties at all.  If you have polyhierarchy, then use a property to indicate additional parents.</p>



<a name="234920196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234920196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234920196">(Apr 16 2021 at 21:01)</a>:</h4>
<p>I think that Lloyd is quite right that it's the simplest and most understandable and probably the best choice to use the explicit nesting if you have a simple hierarchy (with only single parents).  But I don't think that we've ever said or have a rule that enforces that it's <strong>wrong</strong> to model a simple hierarchy using concept properties (as long as they are understood by the terminology server, as Lloyd says).  If there was a situation where there is only a simple hierarchy with single parents at present, but there was a possibility that it might become a polyhierarchy in the future, then I think that I <strong>might</strong> consider using properties to model it initially.  I'm not sure that mixing nesting and parent properties to build the complete hierarchy is a great idea - that's like to be confusing and potentially error-prone (and could have incomplete and inconsistent behavior on different servers).</p>



<a name="234925622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234925622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234925622">(Apr 16 2021 at 21:39)</a>:</h4>
<p>Mixing nesting and properties is what we do with polyhierarchies right now - rendering is driven by the 'primary' hierarchy and all other relationships show up as properties.</p>



<a name="234934201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/234934201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#234934201">(Apr 16 2021 at 23:10)</a>:</h4>
<p>I would just say, yes - but not necessarily.  There are some pros and cons both ways.</p>



<a name="235165944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/235165944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#235165944">(Apr 19 2021 at 11:43)</a>:</h4>
<p>hi,<br>
manage to have it working with nesting, it's a bit ugly, since it does go five levels deep, but it's working. so i can see the children of entries and so forth.<br>
there are a couple of things that i'm having issues with, first is that apparently i cannot use <code>parent</code> and <code>child</code> with hapi as it's limited to the loinc code system only. i will post that in the hapi channel.<br>
second, how do i implement a ValueSet that contains all values from the CodeSystem. <br>
I've tried with the one below, but not sure if it's ok :</p>
<div class="codehilite"><pre><span></span><code>  &quot;compose&quot;: {
    &quot;include&quot;: [
      {
        &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/mdr&quot;
      }
    ]
  }
</code></pre></div>



<a name="235187875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/235187875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#235187875">(Apr 19 2021 at 14:18)</a>:</h4>
<p>That 'compose' should work.</p>



<a name="235188257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/235188257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#235188257">(Apr 19 2021 at 14:20)</a>:</h4>
<p>Yes.  That's the correct 'compose'.</p>



<a name="235205904"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/hierarchical%20CodeSystems%20and%20ValueSets/near/235205904" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/hierarchical.20CodeSystems.20and.20ValueSets.html#235205904">(Apr 19 2021 at 16:03)</a>:</h4>
<p>yep it worked. finally managed to have the whole thing working. thank you !</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
