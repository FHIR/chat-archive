---
layout: page
title: "FHIR Chat  · Invalid expression in QuestionnaireResponse SP · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20expression.20in.20QuestionnaireResponse.20SP.html">Invalid expression in QuestionnaireResponse SP</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229460854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20expression%20in%20QuestionnaireResponse%20SP/near/229460854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20expression.20in.20QuestionnaireResponse.20SP.html#229460854">(Mar 09 2021 at 11:21)</a>:</h4>
<p>On the QuestionnaireResponse profiles page, there is a search extension defined at the very bottom of this page: <a href="https://www.hl7.org/fhir/questionnaireresponse-profiles.html">https://www.hl7.org/fhir/questionnaireresponse-profiles.html</a></p>
<p>It defines the following expression:</p>
<blockquote>
<p>QuestionnaireResponse.item.where(hasExtension('http://hl7.org/fhir/StructureDefinition/questionnaireresponse-isSubject')).answer.value.ofType(Reference)</p>
</blockquote>
<p>Am I crazy or is this expression not valid? There is no function <code>hasExpression</code> that I can see: <a href="http://hl7.org/fhirpath/">http://hl7.org/fhirpath/</a></p>



<a name="229484398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20expression%20in%20QuestionnaireResponse%20SP/near/229484398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20expression.20in.20QuestionnaireResponse.20SP.html#229484398">(Mar 09 2021 at 14:24)</a>:</h4>
<p>You're definitely crazy, but yes, this looks eroneous.  Can you submit a change request?  We might be able to get this fixed before R4B gets out.</p>



<a name="229488537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20expression%20in%20QuestionnaireResponse%20SP/near/229488537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20expression.20in.20QuestionnaireResponse.20SP.html#229488537">(Mar 09 2021 at 14:51)</a>:</h4>
<p><span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span> will do</p>



<a name="229490748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20expression%20in%20QuestionnaireResponse%20SP/near/229490748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20expression.20in.20QuestionnaireResponse.20SP.html#229490748">(Mar 09 2021 at 15:05)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-31479">https://jira.hl7.org/browse/FHIR-31479</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
