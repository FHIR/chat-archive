---
layout: page
title: "FHIR Chat  · FHIRPath Subsumes · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html">FHIRPath Subsumes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153944633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944633">(Mar 14 2018 at 02:14)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13451" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13451">GF#13451</a> - do we need subsumes? I don't think this is needed here. <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="153944674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944674">(Mar 14 2018 at 06:08)</a>:</h4>
<p>If the Observation.code says "Blood Pressure" and the Observation.component.code says "Blood Pressure -sitting", that's as big an issue as if they both say "Blood Pressure".</p>



<a name="153944686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944686">(Mar 14 2018 at 06:44)</a>:</h4>
<p>but that doesn't follow that it's always a problem. It seems reasonable that a component could provide further information to me .</p>



<a name="153944740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944740">(Mar 14 2018 at 14:09)</a>:</h4>
<p>A component can provide further <em>different</em> information.  But it can't represent the same observation.  It needs to represent a qualifier or sub-section of the Observation.  If you wanted to convey the codes for both "Blood Pressure" and "Blood Pressure-sitting", you would send them as multiple codings on Observation.code</p>



<a name="153944749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944749">(Mar 14 2018 at 14:34)</a>:</h4>
<p>I agree, the description of this item sounds like code equivalence, not subsumption. We deliberately excluded subsumption support from CQL, I'd suggest the same for FHIRPath (can always be added with an external implementation, but defining the operation in the spec means addressing a lot of variability).</p>



<a name="153944752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944752">(Mar 14 2018 at 14:35)</a>:</h4>
<p>Wait, what? "multiple codings on Observation.code"?</p>



<a name="153944754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944754">(Mar 14 2018 at 14:35)</a>:</h4>
<p>Isn't that a violation of a CodeableConcept?</p>



<a name="153944765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944765">(Mar 14 2018 at 15:19)</a>:</h4>
<p>Multiple codings is standard in CodeableConcept - it allows you to provide multiple translations (often from different code systems, but can be from the same code system, for example if there's a need to satisfy multiple value sets.)</p>



<a name="153944766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944766">(Mar 14 2018 at 15:20)</a>:</h4>
<p>The use-case is for more than just equivalence.</p>



<a name="153944772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944772">(Mar 14 2018 at 15:33)</a>:</h4>
<p>Yeah, but "Blood Pressure" and "Blood Pressure - sitting" are different concepts, so shouldn't those be represented with different CodeableConcept instances, not with different coding elements in the same CodeableConcept instance?</p>



<a name="153944773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944773">(Mar 14 2018 at 15:36)</a>:</h4>
<p>Both are proper codings of what happened - they're just representing the concept at different levels of granularity.</p>



<a name="153944775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944775">(Mar 14 2018 at 15:37)</a>:</h4>
<p>A coding that said "Blood Pressure" and another that said "Blood O2" would be misusing CodeableConcept.  But having multiple codings that represent different levels of detail about the same thing is totally fine and expected.</p>



<a name="153944776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944776">(Mar 14 2018 at 15:39)</a>:</h4>
<p>Yeah, that's completely different from my current understanding, and my interpretation reading the documentation.</p>



<a name="153944781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944781">(Mar 14 2018 at 15:46)</a>:</h4>
<p>There's no such thing as "true" concept equivalence across code systems.  Different codes are always going to have different granularities.  So long as both codings are representations of the concept that's present, they're valid translations.  The "concept" in question is "what is the event happened to the patient".   "Blood Pressure", "Blood Pressure-sitting", "Blood Pressure-sitting, large cuff size, second measurement" are all codings of the "concept" of that single event.  On the other hand, "blood o2" would be talking about a different event - and would require it's own CodeableConcept.</p>



<a name="153944785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944785">(Mar 14 2018 at 15:49)</a>:</h4>
<p>Perhaps the issue is this: "The different codings may have slightly different granularity due to the differences in the definitions of the underlying codes."  I think "slightly" is misleading.  There's no boundary on the granularity difference.  One coding might say "Penecillin" and another might say "Apo Amoxicillin 20mg tablets".  <span class="user-mention" data-user-id="191405">@Rob Hausam</span> Do you agree?</p>



<a name="153944824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944824">(Mar 14 2018 at 18:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Yes, I do agree - to a point.  We have to do this to some extent, but can't do it without limits (and unfortunately for that, there usually isn't a straightforward way to set hard limits on this).  I think I would not expect or recommend including codes for both "Blood Pressure" and "Blood Pressure-sitting" as translations (assuming that they're from the same code system) - unless maybe there's a specific regulatory requirement or something like that that drives it.  And I don't think it's correct to have codes for both "Penicillin" and "Apo Amoxicillin 20mg tablets" in the same data type instance - they're not the same thing, not just different granularity levels.  But in principle we do have to do this to a "reasonable" extent.</p>



<a name="153944828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944828">(Mar 14 2018 at 18:55)</a>:</h4>
<p>I agree you wouldn't send multiple levels of granularity from the same code system unless you were trying to meet the needs of different receivers who needed defferent codes - but that won't be uncommon.  I thought Amoxicillin was a penecillin.  However, the example still stands if the codes are for "Amoxicillin" vs. "Apo Amoxicillin 20mg tablets".  Both are different granularities of coding of the same medication and if you have a receivers who need both codings, it's fine to have them on the same element.</p>



<a name="153944830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944830">(Mar 14 2018 at 19:01)</a>:</h4>
<p>For me, that's the problem, because they are different concepts, why not just say that those should be represented with different codeableconcepts?</p>



<a name="153944835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944835">(Mar 14 2018 at 19:08)</a>:</h4>
<p>The underlying concept is the same.  You'll never have a code that fully describes the real-world concept.  You just have varying approximations of it.  So long as the different codes are approximating the same aspect of the same real-world concept, you're fine.  If we don't allow this, there's no way we could have an ICD10 code and a SNOMED code and a local code for the same Condition because there's no chance that they'd always have exactly the same granularity.</p>



<a name="153944836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944836">(Mar 14 2018 at 19:09)</a>:</h4>
<p>Multiple codings are <em>not</em> conceptual equivalents.  They are all parallel encodings of the same real-world fact.</p>



<a name="153944840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944840">(Mar 14 2018 at 19:15)</a>:</h4>
<p>I'm totally onboard with codes from different systems, and I get that there's never a perfect alignment between code systems. To clarify, when I say "code equivalence", I mean only that the code and system are the same, version and display can be different. But when codes from different systems are present within the same CodeableConcept, I thought the whole point of a CodeableConcept was that it sets up an implication of cross-system equivalence (a translation), and that's why I think having codes from the same system in a single CodeableConcept is a problem, we're saying they're translations then. Or we're using CodeableConcept in two very different ways with no ability to detect when we mean one thing versus another.</p>



<a name="153944841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944841">(Mar 14 2018 at 19:16)</a>:</h4>
<p>I (somewhat reluctantly) agree that Lloyd is right on this.  The discomfort is not being able to explicitly say how far we can go with this (and no farther).  It might be best (or even required) that "Amoxicillin" and "Apo Amoxicillin 20mg tablets" be coded in separate data type instances, rather than as multiple Codings in the same CodeableConcept, depending on the intended use, but in other cases it may be appropriate to do exactly what Lloyd has described.</p>



<a name="153944843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944843">(Mar 14 2018 at 19:18)</a>:</h4>
<p>But then how do we distinguish the cases?</p>



<a name="153944844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944844">(Mar 14 2018 at 19:19)</a>:</h4>
<p>you can't distinguish the case. There's no computable way to define what's reasonable here, especially since what's reasonable depends on context outside the instance.  We've known this since long ago in the v3 process (2005, I think the first discussion about this was)</p>



<a name="153944845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944845">(Mar 14 2018 at 19:20)</a>:</h4>
<p>so the discussion has wandered away from the topic, which had 2 parts, really:<br>
- is it ok for a component observation to have a code that is subsumed by a code in the root observation<br>
- what should we do about subsumption in fhirpath?</p>



<a name="153944846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944846">(Mar 14 2018 at 19:23)</a>:</h4>
<p>after thinking about the 2nd question for a few hours, the answer is: define a standard API to the terminology service that is available in FHIRPath. </p>
<div class="codehilite"><pre><span></span>iff(terminologyService().subsumes(concept1, concept2) = &#39;subsumes&#39;, ....
</pre></div>



<a name="153944847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944847">(Mar 14 2018 at 19:24)</a>:</h4>
<p>so the answer is: this is a FHIR question, not a FHIRPath question, and FHIRPath shouldn't do anything about this. I'll create a task for documenting a standard terminology service API in FHIRPath</p>



<a name="153944848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944848">(Mar 14 2018 at 19:24)</a>:</h4>
<p>Well I was hoping to get to a resolution on the second part there by saying we didn't need it because CodeableConcepts wouldn't ever contain it. But it sounds like that's not reasonable, so we either define it in the spec, or.... I see you beat me to it.</p>



<a name="153944850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153944850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153944850">(Mar 14 2018 at 19:27)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15777" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15777">GF#15777</a></p>



<a name="153945606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153945606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153945606">(Mar 17 2018 at 03:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> definitely does <em>not</em> imply cross system "equivalence", but only cross system relatedness<br>
.</p>



<a name="153945607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153945607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153945607">(Mar 17 2018 at 03:13)</a>:</h4>
<p>I think there's still an open question of subsumption between CodeableConcepts?  ie when one or the other has (or both have)  &gt; 1 code</p>



<a name="153945665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153945665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153945665">(Mar 17 2018 at 09:33)</a>:</h4>
<p>well, we know that you could be in the situation where 2 codeable concepts both have codes, and thereby they both subsume each other. This would obviously be a non-sensical situation, but we should expect that this will happen somewhere some time.... but I don't think that we need to rule about situations like this in the spec</p>



<a name="153945740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153945740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153945740">(Mar 17 2018 at 14:41)</a>:</h4>
<p>Why would it be nonsensical?</p>



<a name="153946190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946190">(Mar 19 2018 at 13:47)</a>:</h4>
<p>Sorry I'm late to the discussion, but I wanted to follow up on the earlier comment from <span class="user-mention" data-user-id="191405">@Rob Hausam</span> </p>
<blockquote>
<p>I would not expect or recommend including codes for both "Blood Pressure" and "Blood Pressure-sitting" as translations (assuming that they're from the same code system)</p>
</blockquote>
<p>That seems to conflict with the Vital Signs profile, which says:</p>
<blockquote>
<p>If a more specific code or another code system is recorded or required, implementers must support both the values (LOINC) listed below and the translated code - e.g. method specific LOINC codes</p>
</blockquote>
<p>Even outside of Vital Signs, Pharmacy has guidance for Medication.code as follows:</p>
<blockquote>
<p>Other codes can only be literal translations to alternative code systems, or codes at a lower level of granularity (e.g. a generic code for a vendor-specific primary one).</p>
</blockquote>
<p>That reads as if it is OK for us to send multiple RxNorms with differing term types (e.g. ingredient/generic + brand) as coding translations of the same CodeableConcept.</p>



<a name="153946232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946232">(Mar 19 2018 at 18:08)</a>:</h4>
<p>the question here is different: not "should codes with different granularity be found on Observation.code" but "should codes with different granularity be spread across Observation.code and Observation.component.code"</p>



<a name="153946278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946278">(Mar 19 2018 at 21:14)</a>:</h4>
<p>Yeah, that was your initial question, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , but then the discussion seemed to get side tracked with whether multiple codes with differing granularities from the same code system were allowed translations (and I'm saying yes, that does happen in our implementation).  <br>
Going back to your initial question, I believe my old tracker <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9375" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9375">GF#9375</a> introduced the invariant obs-7 cited in <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13451" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13451">GF#13451</a>.  In our original use case, the Observation.code = Observation.component.code to support SHx multi-valued answers to a single question.<br>
Our other use of components (beyond multi-valued answers) is Vital Signs, but I don't think we'd say SBP (component) is a more granular representation of the BP panel (code)...rather the component is part of the panel.  Just speaking for our implementation, I think an equivalence check is sufficient.</p>



<a name="153946291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946291">(Mar 19 2018 at 22:58)</a>:</h4>
<p>Well I think that in general, it would be wrong for the component code to subsume the code (or vice verse) - but I’m for from convinced that we can make a hard rule that this is always wrong.</p>



<a name="153946305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946305">(Mar 20 2018 at 00:29)</a>:</h4>
<p>I'd love even one example where it would be right...</p>



<a name="153946315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946315">(Mar 20 2018 at 01:27)</a>:</h4>
<p>ok:</p>
<div class="codehilite"><pre><span></span>Observation
  code: [analyte]
  value:  [aggregate measure based on aggregate estimate from both methods]
  component
    code:  [analyte by method1 ]
    value: [result]
  component
    code: [analyte by method2]
    value: [result]
</pre></div>



<a name="153946316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946316">(Mar 20 2018 at 01:28)</a>:</h4>
<p>Thank you.</p>



<a name="153946319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946319">(Mar 20 2018 at 01:31)</a>:</h4>
<p>I think that may be more common than you think.</p>



<a name="153946330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946330">(Mar 20 2018 at 01:36)</a>:</h4>
<p>I'm not rejecting the use-case.  It's sufficient to not prohibit components that are subsumed by the Observation.  (Though it might be reasonable to prohibit the reverse - I don't think that component.code should ever be more general than the Observation.code</p>



<a name="153946331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946331">(Mar 20 2018 at 01:37)</a>:</h4>
<p>probably but that sounds like best practice advice to me</p>



<a name="153946347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946347">(Mar 20 2018 at 02:17)</a>:</h4>
<p>Best practice advice that's significantly different from Observation.code can't match component.code?</p>



<a name="153946350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Subsumes/near/153946350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Subsumes.html#153946350">(Mar 20 2018 at 02:50)</a>:</h4>
<p>best practice is that the code in Observation.code should not be subsumed by the code in Observation.component.code... and let us know if you think there's a valid case for that</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
