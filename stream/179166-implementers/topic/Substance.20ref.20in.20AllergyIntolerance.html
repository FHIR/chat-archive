---
layout: page
title: "FHIR Chat  · Substance ref in AllergyIntolerance · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html">Substance ref in AllergyIntolerance</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153925969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153925969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Petter Wolff <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153925969">(Dec 18 2017 at 15:45)</a>:</h4>
<p>In AllergyIntolerance, there is a field reaction.substance which is a CodableConcept. But since there is a Substance resource, wouldn't it make more sense to make reaction.substance a reference instead? Pro: more expressiveness (which would help my case). Con: somewhat more convoluted if all you want is a Snomed code. What else?</p>



<a name="153925972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153925972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153925972">(Dec 18 2017 at 15:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span></p>



<a name="153925995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153925995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153925995">(Dec 18 2017 at 18:26)</a>:</h4>
<p><span class="user-mention" data-user-id="194313">@Petter Wolff</span> Feel free to log a change request.  I question whether Patient Care will debate whether it falls within the 80% use case here, but worth a discussion nonetheless.</p>



<a name="153926069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153926069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153926069">(Dec 18 2017 at 22:54)</a>:</h4>
<p>shouldn't AllergyIntollerance should be a codeableConcept OR a reference to substance|medication|...?</p>



<a name="153926072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153926072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153926072">(Dec 18 2017 at 22:56)</a>:</h4>
<p>Only if we think most systems support such references - and I've never seen a system capture an allergen as anything other than a code.</p>



<a name="153926131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153926131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Petter Wolff <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153926131">(Dec 19 2017 at 08:30)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="194313">@Petter Wolff</span> Feel free to log a change request.  I question whether Patient Care will debate whether it falls within the 80% use case here, but worth a discussion nonetheless.</p>
</blockquote>
<p>Thanks. I seem to be confused by the possible/likely correlation between AI.code and AI.reaction.substance... What would several different reactions with a variety of reaction.substances  mean in the context of a specific AI.code? Every known allergen should be perfectly specified by the AI.code I guess, or otherwise any 'non-confirmed' suspicion (the caregiver's or the patient's) of what substance has caused a reaction in the context of an identified AI, should be marked clearly as such. It's a tricky subject, for sure, but it would seem to me that every AI that is "confirmed" should be unambiguous in terms of unwanted substances, while every reaction that cannot "perfectly" be linked to an identified AI.code should have it's own instance of AI, with the associated reaction descriptions.</p>



<a name="153926244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153926244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153926244">(Dec 19 2017 at 15:40)</a>:</h4>
<p>The reaction substance is the specific product they were exposed to.  The AI.code is what they've been deemed to be allergic to - which could be an active ingredient or an excipient and often encoded at a higher level.  If a patient has had reactions to several different medications that happen to contain the same dye, the conclusion might be reached that the allergy is to the dye, but the reactions would still list each medication.</p>



<a name="153926795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153926795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Petter Wolff <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153926795">(Dec 22 2017 at 09:21)</a>:</h4>
<blockquote>
<p>If a patient has had reactions to several different medications that happen to contain the same dye, the conclusion might be reached that the allergy is to the dye, but the reactions would still list each medication.</p>
</blockquote>
<p>This is partly what I'm after. You then determine the proper AI.code based on a number of reactions (to the dye, in your example). But what AI.code would you associate these reactions with, before you had determined that the dye was the culprit (or whatever active substance is in the dye)? How do you reach the conclusion that you mention, based on the FHIR data? This model does not seem to lend itself very well to help determine what intolerances to look out for, which surely would be the purpose for most requests for this resource?</p>



<a name="153926837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153926837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153926837">(Dec 22 2017 at 17:13)</a>:</h4>
<p>You wouldn't record an allergy until you had some sense of what they were allergic to.  Or alternatively, you'd record an allergy to each medication that triggered a reaction and then eventually replace those with the new allergy that identified the dye as a culprit.  (The AdverseEvent resource is intended to support tracking all of the concommittent meds and other contextual information around a reaction or other adverse event to help in evaluating causality and evaluating appropriate mitigation steps to prevent future events.</p>



<a name="153926931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Substance%20ref%20in%20AllergyIntolerance/near/153926931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Petter Wolff <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Substance.20ref.20in.20AllergyIntolerance.html#153926931">(Dec 23 2017 at 18:11)</a>:</h4>
<p>Thanks for the input. Yeah AdverseEvent is what I'd go for (even if maturity=0), and treat AI.reaction as vestigial (and use references to AdverseEvents instead). I don't see any source system managing AIs and AEs like you propose above (with substituting allergy theories with the correct ones and linking up the associated reactions) but I'm willing to be shown evidence to the contrary.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
