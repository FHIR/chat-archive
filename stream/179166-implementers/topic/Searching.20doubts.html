---
layout: page
title: "FHIR Chat  · Searching doubts · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html">Searching doubts</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="163734452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163734452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Joshi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163734452">(Apr 19 2019 at 13:12)</a>:</h4>
<p>Why FHIR does not provide search parameter for Observation.valueInteger, valueBoolean, valueRatio valueRange? It is because it does not want to have search parameter for all fhir elements, but in case of Observation, it makes sense to have search capability if value is integer or ratio.<br>
It does have search parameter if it is valueQuantity, valueString, valueSampledData, <br>
valueTime, valueDateTime, valuePeriod.</p>



<a name="163737762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163737762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163737762">(Apr 19 2019 at 14:10)</a>:</h4>
<p>I believe valueQuantity is intended to work with integer and range and boolean is intended to work with code.  <span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="163739647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163739647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Joshi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163739647">(Apr 19 2019 at 14:39)</a>:</h4>
<p>HI <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I just tried the same. I created a Observation resource <br>
<a href="http://fhir.hl7fundamentals.org/r4/Observation/17635" target="_blank" title="http://fhir.hl7fundamentals.org/r4/Observation/17635">http://fhir.hl7fundamentals.org/r4/Observation/17635</a></p>
<p>It has "valueInteger": 50</p>
<p>Now I tried searching this record- <a href="http://fhir.hl7fundamentals.org/r4/Observation?value-quantity=50" target="_blank" title="http://fhir.hl7fundamentals.org/r4/Observation?value-quantity=50">http://fhir.hl7fundamentals.org/r4/Observation?value-quantity=50</a> <br>
but above Observation does not appear in search result. Though, there are many records I got which matches to valueQuantity.value decimal values (any value between 49.5 to 50.5). So, it is not matching or searching valueInteger values.</p>



<a name="163740557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163740557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163740557">(Apr 19 2019 at 14:54)</a>:</h4>
<p>Ok.  That seems like something we need to fix.  Can you submit a change request?</p>



<a name="163741122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163741122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Joshi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163741122">(Apr 19 2019 at 15:03)</a>:</h4>
<p>quoting from spec- <a href="http://hl7.org/fhir/search.html#number" target="_blank" title="http://hl7.org/fhir/search.html#number">http://hl7.org/fhir/search.html#number</a><br>
"When a number search is used against a resource element that stores a simple integer (e.g. ImmunizationRecommendation.recommendation.doseNumber), and the search parameter is not expressed using the exponential forms, and does not include any non-zero digits after a decimal point, the significance issues cancel out and searching is based on exact matches. Note that if there are non-zero digits after a decimal point, there cannot be any matches."</p>
<p>as per above rule, resource element is indeed integer and search parameter is not expressed using exponential form or no decimal in search parameter value.  So, ideally query should have worked. </p>
<p>My understanding from this is, value-quantity is not searching for valueInteger in Observation resource. So, there is probably no search parameter for valueInteger. <strong>Either FHIR can make value-quantity parameter search for valueInteger when it search query meets above criteria (no exponential and no decimal value in  search parameter value). Is that what should go as change request?</strong></p>



<a name="163763096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163763096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163763096">(Apr 19 2019 at 20:35)</a>:</h4>
<p>I think so</p>



<a name="163775067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163775067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163775067">(Apr 19 2019 at 23:51)</a>:</h4>
<ul>
<li>
<p>First of all you can create your own SP too. </p>
</li>
<li>
<p>Second the fact that FHIR publishes SP does not guarantee a server will support them.</p>
</li>
</ul>



<a name="163797885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163797885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Joshi <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163797885">(Apr 20 2019 at 10:39)</a>:</h4>
<p>Yes can create SP. That was the initial thought. but just wanted to check if FHIR supports searching valueInteger in some way then no need of creating local SP. The server where I tested is providing results when searching using value-quantity for valueInteger data, but not searching for integer, still behaving as intended (searching for decimal value excluding integer value). </p>
<p>So, if FHIR does not provide search parameter as of now for Observation.valueInteger then it is fine and solution is to create our own SP. But as <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  mentioned value-quantity should have worked for Observation.valueInteger then it becomes a case of change request.</p>



<a name="163807968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163807968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163807968">(Apr 20 2019 at 15:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> I presume the intention of the existing search parameters is to support searching on boolean and integer/decimal answers too though, no?  So that means the search parameters need to be defined such that that can happen.</p>



<a name="163833889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20doubts/near/163833889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20doubts.html#163833889">(Apr 21 2019 at 04:18)</a>:</h4>
<p>nope the search parameter list does list all valueTypes .  I think there an open tracker to add some more, but i'd like to discuss sp policy more internally first.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
