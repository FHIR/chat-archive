---
layout: page
title: "FHIR Chat  · Forge 16.4 for STU3 · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html">Forge 16.4 for STU3</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153899890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153899890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153899890">(Aug 01 2017 at 15:53)</a>:</h4>
<p>Forge 16.4 for STU3 is now available for download from <a href="https://simplifier.net/forge" target="_blank" title="https://simplifier.net/forge">https://simplifier.net/forge</a>.<br>
This new release represents a minor update with a number of FHIR compatibility fixes and some UI improvements.<br>
Users of earlier STU3 releases are advised to upgrade to the new version.</p>
<p>Highlights:</p>
<ul>
<li>
<p>Update the FHIR .NET API library (<a href="https://github.com/ewoutkramer/fhir-net-api" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api">https://github.com/ewoutkramer/fhir-net-api</a>) to 0.93.5-beta2.<br>
  Includes bug fixes for the snapshot generator and element id generator.</p>
</li>
<li>
<p>Support the ElementDefinition.type.versioning property.<br>
  This property was introduced by STU3 and is now supported by Forge.</p>
</li>
<li>
<p>Improved support for (complex) element type profiles.<br>
  Fix invalid validation warnings concerning element type (target) profiles.<br>
  Forge now re-expands child elements when the type.profile property has changed.<br>
  Changes in the type.targetProfile property no longer trigger re-expansion.</p>
</li>
<li>
<p>Improved support for choice type elements.<br>
  Properly rename type choice elements that are a child of a named slice.</p>
</li>
<li>
<p>Support constraints on inherited slice entry.<br>
  Forge no longer generates (unjustified) validation warnings when a derived profile further constrains the slice entry inherited from a base profile.</p>
</li>
<li>
<p>Named slices do NOT inherit minimum cardinality from base profile.<br>
  Instead, named slices always have a default minimum cardinality of 0.<br>
  This ensures that a profile can always introduce one or more optional slicing constraints.</p>
</li>
<li>
<p>Fix invalid change tracking in derived profiles.<br>
  In some circumstances (specifically when deriving from a sliced profile), the previous release could determine some<br>
  invalid relationships to elements in the base profile. This would break change tracking; some existing profiling constraints<br>
  would not be marked with a yellow pen and would be excluded from the serialized output. This has been fixed.</p>
</li>
<li>
<p>Restore editing of ElementDefinition.comment properties.<br>
  Fix broken edit controls for the .comment property.</p>
</li>
<li>
<p>Serialized output now always includes the StructureDefinition.derivation property.</p>
</li>
<li>Structure elements now also provide a context menu, as an alternative for the toolbar.</li>
<li>Header bar now also displays an image link to <a href="http://simplifier.net" target="_blank" title="http://simplifier.net">http://simplifier.net</a></li>
<li>Improved memory cache invalidation.<br>
  When (re-)loading a profile, Forge should now tries to open the most recently saved version.</li>
</ul>
<p>Happy profiling!</p>
<p>Michel Rutten</p>



<a name="153899891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153899891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153899891">(Aug 01 2017 at 16:01)</a>:</h4>
<p>When I open my projects from (Forge 16.1) It gives errors on ALL of the FHIR STU3 things... Did I not do some initialization that I should have?</p>



<a name="153899949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153899949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153899949">(Aug 01 2017 at 16:37)</a>:</h4>
<p>Hi Michel. Just downloaded the new Forge. Definitely fixed some bugs, but still unable to get derived profiles running in the IG publisher without hand tweaks to the XML. For example telecom.system is removed from the first contact, and the first item in the differential is removed.   For example, Forge will remove the following and the IG publisher won't run until I add it back in. :<br>
 &lt;element id="Composition"&gt;<br>
      &lt;path value="Composition" /&gt;<br>
    &lt;/element&gt;<br>
Glad to point you to examples or get on a gotomeeting at some point to show the issues.</p>



<a name="153899961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153899961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153899961">(Aug 01 2017 at 16:43)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191407">@Rick Geimer</span>, thank you for the feedback! I'd definitely like to iron out these bugs. It would be very helpful if you can send me some example profiles and steps to reproduce issues, so I can investigate.</p>



<a name="153899962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153899962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153899962">(Aug 01 2017 at 16:44)</a>:</h4>
<p>BTW There's always more bugs to be found, but I didn't want to postpone the release any longer.</p>



<a name="153899973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153899973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153899973">(Aug 01 2017 at 18:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> Emailed you the bug report and example files.</p>



<a name="153900106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153900106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sufyan Patel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153900106">(Aug 02 2017 at 08:52)</a>:</h4>
<p>Downloaded and installed '16.4' but upon opening Forge, it still states 16.1. Do I need to uninstall 16.1?</p>



<a name="153900108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153900108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153900108">(Aug 02 2017 at 08:57)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191789">@Sufyan Patel</span>, the new release displays "16.4" in the title bar. If you see anything else, then you're still running an older version.<br>
Alternatively, you could manually uninstall the current version, then re-install the new release.</p>



<a name="153900116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153900116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153900116">(Aug 02 2017 at 09:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191407">@Rick Geimer</span> thank you for the feedback, I received your e-mail. I'll investigate the issue right away.</p>



<a name="153900122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153900122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153900122">(Aug 02 2017 at 10:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191407">@Rick Geimer</span> interesting example!</p>
<p>Forge omits the root element definition from the diff, as it is unconstrained and therefore redundant. The IG validation warning seem to be the result of an incorrect FHIR path expression, as in STU3, the root element definition may be omitted from the diff if it is unconstrained.</p>
<p>However the disappearing global telecom data points to an issue in the .NET snapshot generator. Currently, the snapshot generator re-uses the same logic used to merge diff &amp; snapshot for merging global metadata. However I think we need to implement different semantics for aggregating global metadata. E.g. some metadata such as contact information probably only applies to the defining profile and should not be inherited by derived profiles.</p>



<a name="153900147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153900147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153900147">(Aug 02 2017 at 15:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191407">@Rick Geimer</span> I've managed to fix the issue in Forge. You should recieve an invitation e-mail for a DropBox folder with updated Forge binaries, for testing and evaluation purposes.</p>



<a name="153901827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153901827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153901827">(Aug 10 2017 at 22:32)</a>:</h4>
<blockquote>
<p>Forge omits the root element definition from the diff, as it is unconstrained and therefore redundant. The IG validation warning seem to be the result of an incorrect FHIR path expression, as in STU3, the root element definition may be omitted from the diff if it is unconstrained.</p>
</blockquote>
<p>Hello <span class="user-mention" data-user-id="191336">@Michel Rutten</span> - in case it is not already known, I'd just mention another consequence of the missing root element, as mentioned above. A profile without the root element in the differential, when run through the IG Publisher, causes the rendered html to only show the first constraint added and no others. <br>
I'd be happy to extrapolate should that be needed/helpful.<br>
FYI- running 16.4.1 Forge and a quite recent IG Publisher from current build (v3.1.0-12288). Thanks</p>



<a name="153901835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153901835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153901835">(Aug 10 2017 at 22:46)</a>:</h4>
<p>this is a bug in the IG publisher that has recently reappeared and I will get to as soon as I can</p>



<a name="153901919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153901919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153901919">(Aug 11 2017 at 00:29)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="153902052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153902052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153902052">(Aug 11 2017 at 08:43)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192270">@Rob Eastwood</span>, in STU3 the root element is no longer required in the differential. In practice, I can image that some tools can't handle this (yet). I'm expecting all FHIR tools to eventually support this. So for now, I'll maintain the current behavior in Forge. However if it turns out that this remains an issue for the community, I could implement a configuration option in Forge to always include the root element in the diff output.</p>



<a name="153902279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%2016.4%20for%20STU3/near/153902279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2016.2E4.20for.20STU3.html#153902279">(Aug 14 2017 at 01:36)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191336">@Michel Rutten</span> - sounds good to leave it as is, given that Grahame will address this in the IG Publisher.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
