---
layout: page
title: "FHIR Chat  · Location header on conditional create · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html">Location header on conditional create</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="235819677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Location%20header%20on%20conditional%20create/near/235819677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Valentinas Janeiko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html#235819677">(Apr 23 2021 at 10:41)</a>:</h4>
<p>Hello everyone,</p>
<p>I was looking for a way to do GET or CREATE operation with FHIR. I was thinking of getting Ids of resources that I created in a batch of conditional creates. I wanted to use Location header (property in <code>entry.response</code>), but it seems this is only returned if resource has been created. If there was an existing resource, only 200 OK is returned (as specified in the spec). So, I was wondering, is there any reason <code>Location</code>, <code>ETag</code>, <code>LastModified</code> are not returned in the case resource already exists? </p>
<p>And also, it would make sense if Conditional Create would interact with Prefer header (<a href="https://www.hl7.org/fhir/http.html#ops">https://www.hl7.org/fhir/http.html#ops</a>) even if resource was not created. My thinking is, server had to perform the search to resolve the condition already, so there is little overhead in returning the headers/resource back to the client. </p>
<p>What are your thoughts on extending the spec in this way? Instead of the current: "One Match: The server ignores the post and returns 200 OK", do something among the lines of: "One Match: The server returns the result of the search on the condition"?</p>



<a name="235834652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Location%20header%20on%20conditional%20create/near/235834652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html#235834652">(Apr 23 2021 at 12:52)</a>:</h4>
<p>If I read the specs right all that stuff is now normative and cannot be changed any more</p>



<a name="235841214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Location%20header%20on%20conditional%20create/near/235841214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html#235841214">(Apr 23 2021 at 13:36)</a>:</h4>
<p>Conditional create isn't normative.  So we could indeed set an expectation for the Location header to come back with the 200 ok response.  Can you submit a change request <span class="user-mention" data-user-id="365853">@Valentinas Janeiko</span>?  We could probably get this done in R5 - and you could pre-adopt it in R4.</p>



<a name="235847300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Location%20header%20on%20conditional%20create/near/235847300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Valentinas Janeiko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html#235847300">(Apr 23 2021 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  How do I submit the change request? Is it just a PR in some repo?</p>



<a name="235848276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Location%20header%20on%20conditional%20create/near/235848276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html#235848276">(Apr 23 2021 at 14:21)</a>:</h4>
<p>At the bottom of every page in the spec there's a "propose a change" link.  You'll have to register (free) and there's a manual process where someone checks to make sure you look like a real human being.  After that, submit proposed changes to your heart's content.  You <em>could</em> accompany your change request with a PR, but this sort of thing would probably involve some debate around language, so a PR probably wouldn't be super helpful.  (And we don't expect most commenters to have any clue how to do a PR or interpret our source.)</p>



<a name="235895571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Location%20header%20on%20conditional%20create/near/235895571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Valentinas Janeiko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html#235895571">(Apr 23 2021 at 19:25)</a>:</h4>
<p>I've submitted a change request: <a href="https://jira.hl7.org/browse/FHIR-31965">https://jira.hl7.org/browse/FHIR-31965</a></p>



<a name="236185213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Location%20header%20on%20conditional%20create/near/236185213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html#236185213">(Apr 26 2021 at 14:40)</a>:</h4>
<p>We already return Location in the Google implementation. It seemed useful.</p>



<a name="236209225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Location%20header%20on%20conditional%20create/near/236209225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Location.20header.20on.20conditional.20create.html#236209225">(Apr 26 2021 at 17:06)</a>:</h4>
<p>This is a good suggestion, since the work is already done to do the lookup</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
