---
layout: page
title: "FHIR Chat  · HAPI Validator Transformation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20Validator.20Transformation.html">HAPI Validator Transformation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175605701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20Validator%20Transformation/near/175605701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lallu Anthoor <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20Validator.20Transformation.html#175605701">(Sep 13 2019 at 08:58)</a>:</h4>
<p>I'm trying to use the <a href="https://www.google.com/url?q=https%3A%2F%2Fwiki.hl7.org%2FUsing_the_FHIR_Validator_to_transform_content&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHCrijbELc2T8JzXT5A54IGYenwZw" target="_blank" title="https://www.google.com/url?q=https%3A%2F%2Fwiki.hl7.org%2FUsing_the_FHIR_Validator_to_transform_content&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHCrijbELc2T8JzXT5A54IGYenwZw">HAPI FHIR Validator</a> to transform one Resource to another. I am using one of the provided StructureMap (<a href="https://www.google.com/url?q=https%3A%2F%2Fwww.hl7.org%2Ffhir%2Fstructuremap-supplyrequest-transform.html&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNExzinMb4ZCU39W3pqVJ5a_gtWWUQ" target="_blank" title="https://www.google.com/url?q=https%3A%2F%2Fwww.hl7.org%2Ffhir%2Fstructuremap-supplyrequest-transform.html&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNExzinMb4ZCU39W3pqVJ5a_gtWWUQ">ActivityDefinition to ServiceRequest</a>) with the default tx server (<a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">http://tx.fhir.org</a>), and an <a href="http://www.google.com/url?q=http%3A%2F%2Fhapi.fhir.org%2FbaseR4%2FActivityDefinition%2F101303%3F_format%3Djson&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEyoqXrx0KQV2b9hUC26MhNc3oc8A" target="_blank" title="http://www.google.com/url?q=http%3A%2F%2Fhapi.fhir.org%2FbaseR4%2FActivityDefinition%2F101303%3F_format%3Djson&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEyoqXrx0KQV2b9hUC26MhNc3oc8A">ActivityDefinition</a> from HAPI server. I'm getting the following error:</p>
<div class="codehilite"><pre><span></span>$ java -jar org.hl7.fhir.validator.jar -debug -transform http://hl7.org/fhir/StructureMap/supplyrequest-transform -output OperationOutcome.xml -version 4.0.0 -log txlog.out input.json
FHIR Validation tool Version 4.0.5-SNAPSHOT - Built 2019-09-03T13:06:20.836+10:00 - Git bd382306624d
Arguments: -debug -transform http://hl7.org/fhir/StructureMap/supplyrequest-transform -output OO.xml -version 4.0.0 -log txlog.out ./input.json
  .. connect to tx server @ http://tx.fhir.org
  .. definitions from hl7.fhir.core#4.0.0
    (v4.0.0)
Start Transform http://hl7.org/fhir/StructureMap/supplyrequest-transform
Group : main; vars = source variables [source: (ActivityDefinition)], target variables [], shared variables []
  rule : status; vars = source variables [source: (ActivityDefinition)], target variables [], shared variables []
 ...Failure: Rule &quot;status&quot;: target context not known: target
org.hl7.fhir.exceptions.FHIRException: Rule &quot;status&quot;: target context not known: target
    at org.hl7.fhir.r5.utils.StructureMapUtilities.processTarget(StructureMapUtilities.java:1813)
    at org.hl7.fhir.r5.utils.StructureMapUtilities.executeRule(StructureMapUtilities.java:1406)
    at org.hl7.fhir.r5.utils.StructureMapUtilities.executeGroup(StructureMapUtilities.java:1393)
    at org.hl7.fhir.r5.utils.StructureMapUtilities.transform(StructureMapUtilities.java:1367)
    at org.hl7.fhir.r5.validation.ValidationEngine.transform(ValidationEngine.java:1036)
    at org.hl7.fhir.r5.validation.ValidationEngine.transform(ValidationEngine.java:1022)
    at org.hl7.fhir.r5.validation.Validator.main(Validator.java:459)
</pre></div>


<p>It would be of great help if anyone could help me figure this out.</p>
<p><strong>Use-case:</strong> I'm trying to implement mapping/transformation between two FHIR profiles. The idea is to use StructureMap and HAPI Validator to achieve this.</p>
<p>Thanks!</p>



<a name="175612998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20Validator%20Transformation/near/175612998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20Validator.20Transformation.html#175612998">(Sep 13 2019 at 11:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="175617518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20Validator%20Transformation/near/175617518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20Validator.20Transformation.html#175617518">(Sep 13 2019 at 12:16)</a>:</h4>
<p>it's on my list.</p>



<a name="175622757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20Validator%20Transformation/near/175622757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20Validator.20Transformation.html#175622757">(Sep 13 2019 at 13:22)</a>:</h4>
<p>hmm. there's a problem with the resource that means that the main group target has not beeen processed correctly</p>



<a name="175623010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20Validator%20Transformation/near/175623010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20Validator.20Transformation.html#175623010">(Sep 13 2019 at 13:26)</a>:</h4>
<p>I've added it to my technical correction list, which means that I'll be getting back to this the week after next</p>



<a name="175920142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20Validator%20Transformation/near/175920142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lallu Anthoor <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20Validator.20Transformation.html#175920142">(Sep 17 2019 at 15:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191319">@James Agnew</span> I already have a pull request for this: <a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/83" target="_blank" title="https://github.com/hapifhir/org.hl7.fhir.core/pull/83">https://github.com/hapifhir/org.hl7.fhir.core/pull/83</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
