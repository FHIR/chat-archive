---
layout: page
title: "FHIR Chat  · Forge/FHIR discriminators · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html">Forge/FHIR discriminators</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153882057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge/FHIR%20discriminators/near/153882057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html#153882057">(Apr 12 2017 at 12:18)</a>:</h4>
<p>Maybe I am not correctly interpreting the FHIR discriminators documentation but I would have expected that one could use the value of another element within the resource as a discriminator. I would think that would be an easy way for implementers to support discriminators in profile compliance testing. For example, say I have a set of value[x] slices for different types of measurements. Now an ideal discriminator would be the Observation.identifier.type.code which would be required to have a certain value. Is there a way to do that? I thought that might be the FHIRPATH aspect of the discriminator but I don't see how that comes in using Forge.</p>



<a name="153882060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge/FHIR%20discriminators/near/153882060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html#153882060">(Apr 12 2017 at 12:22)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span> yes, this is a very common use case and fortunately FHIR allows you to define this. In STU3, specify discriminator.type = "value" and discriminator.path = "type.code" (relative path to child element). In other words, recognize slices by inspecting the value of that child element.</p>



<a name="153884519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge/FHIR%20discriminators/near/153884519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html#153884519">(Apr 12 2017 at 18:36)</a>:</h4>
<p>Michel,<br>
That's not quite what I meant. I was thinking of using a field in another element (Not the one I am slicing) as the discriminator.</p>



<a name="153884535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge/FHIR%20discriminators/near/153884535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html#153884535">(Apr 12 2017 at 19:51)</a>:</h4>
<p>Sound like an invariant</p>



<a name="153884611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge/FHIR%20discriminators/near/153884611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html#153884611">(Apr 13 2017 at 09:15)</a>:</h4>
<p>Indeed, you can specify a FHIR path constraint that controls several elements. You can check the (STU3) core profiles for examples of FHIR path expressions.</p>



<a name="153885153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge/FHIR%20discriminators/near/153885153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Mew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html#153885153">(Apr 19 2017 at 15:51)</a>:</h4>
<p>I have been looking at a profile on the Patient resource, created using Forge. A number of extensions are declared with specific types, so slicing has been set up. The slicing discriminator is "url". There are no Patient.extension.url elements, but there is a url present in at element/type/profile/@value. This appears to be the only URL information related to these extensions.</p>
<p>Is this correct? And if so, are there any other special cases like this to be aware of?</p>
<p>Sorry if this is an obvious question, I'm still getting my teeth into FHIR profiles!</p>



<a name="153885155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge/FHIR%20discriminators/near/153885155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html#153885155">(Apr 19 2017 at 16:03)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193478">@Jonathan Mew</span> this is correct. A profile references an external extension definition by constraining the element type profile to the canonical uri of the extension definition. The extension.url element is (only) used in Extension definitions.</p>



<a name="153885284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge/FHIR%20discriminators/near/153885284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Mew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.2FFHIR.20discriminators.html#153885284">(Apr 20 2017 at 15:47)</a>:</h4>
<p>Many thanks <span class="user-mention" data-user-id="191336">@Michel Rutten</span>, that resolves my query.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
