---
layout: page
title: "FHIR Chat  · Validating data with GraphDefinitions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html">Validating data with GraphDefinitions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219526842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/219526842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tadas Antanavicius <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#219526842">(Dec 10 2020 at 20:07)</a>:</h4>
<p>Hi,</p>
<p>I see that one of the intents of <a href="https://www.hl7.org/fhir/graphdefinition.html">GraphDefinition</a> is to "Document rules about the relationship between a set of resources". Lower in the documentation near the discussion about compartments, there is a note, "Todo: how would this be validated? - where is the graph referred to?".</p>
<p>This idea was noted <a href="#narrow/stream/179166-implementers/topic/GraphDefinition.2C.20use.20of.20compartments/near/170435710">here</a> as well:</p>
<blockquote>
<p>One of the usecases that came up was that we'd like GraphDefinition to be able to validate a tree of data, especially the linkage, since that's pretty hard to do otherwise.</p>
</blockquote>
<p>Is this documentation up to date? Has there been any thought put into where you might invoke this kind of validation?</p>
<p>My use case is, roughly, that I have an application that creates/modifies FHIR resources for a user workflow. At the end of that workflow, the user clicks a button to generate a report based on the data in a graph of FHIR resources. Prior to producing this report, I want to validate that the graph of FHIR resources is in the expected state: starting at an Encounter that adheres to profile X, there exists a Patient with profile Y, an Account with profile Z, etc. I want to validate the cardinality and attached profiles of each of these linkages.</p>
<p>Does this use case make sense? It seems like I can effectively encode the information needed for my use case in GraphDefinitions. Is there an existing operation definition of some kind that does this kind of linkage traversal validation given a GraphDefinition, or am I on my own in implementing a usage of GraphDefinition in this manner?</p>
<p>Thanks!</p>



<a name="219527057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/219527057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#219527057">(Dec 10 2020 at 20:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="219545790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/219545790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tadas Antanavicius <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#219545790">(Dec 10 2020 at 22:57)</a>:</h4>
<p>I see in <a href="https://www.devdays.com/wp-content/uploads/2019/12/Rene-Spronk-GraphDefinition-_-DevDays-2019-Amsterdam.pdf">this presentation</a> that it seems to suggest placing a reference to a GraphDefinition in <code>Resource.meta.profile</code>, which seems potentially in the direction of what I'm looking for. But <a href="https://www.hl7.org/fhir/resource-definitions.html#Meta.profile">Resource.meta.profile docs</a> suggests that the value needs to be a StructureDefinition, not GraphDefinition.</p>



<a name="219573980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/219573980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#219573980">(Dec 11 2020 at 07:58)</a>:</h4>
<p>GraphDefinition is still subject to discussion. During the last HL7 WGM a session was held to discuss how to move forward with it - but I haven't attended that session, so I'm unaware as to it outcome. Meta.profile is intended to also allow a reference to a GraphDefinition.</p>



<a name="220323124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/220323124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#220323124">(Dec 18 2020 at 00:33)</a>:</h4>
<p>catching up on this.</p>



<a name="220323138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/220323138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#220323138">(Dec 18 2020 at 00:33)</a>:</h4>
<p>I don't believe that this is true:</p>
<blockquote>
<p>Meta.profile is intended to also allow a reference to a GraphDefinition.</p>
</blockquote>



<a name="220323157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/220323157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#220323157">(Dec 18 2020 at 00:33)</a>:</h4>
<p>it would be good to fix the todo:</p>
<blockquote>
<p>Todo: how would this be validated?</p>
</blockquote>



<a name="220323166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/220323166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#220323166">(Dec 18 2020 at 00:33)</a>:</h4>
<p>and I think that the most logical way to do it would be</p>



<a name="220323250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/220323250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#220323250">(Dec 18 2020 at 00:34)</a>:</h4>
<div class="codehilite"><pre><span></span><code>GET [base]/Patient/example/$validate?graph=[graph]
</code></pre></div>



<a name="220323275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/220323275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#220323275">(Dec 18 2020 at 00:35)</a>:</h4>
<p>e.g start at the patient <code>example</code> and check that all the rules in the graph are met</p>



<a name="220347380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/220347380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#220347380">(Dec 18 2020 at 08:43)</a>:</h4>
<p>During earlier discussions (in a different stream, probably a year ago) we concluded that profile could be used to reference a graphDefinition.</p>



<a name="220347434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20data%20with%20GraphDefinitions/near/220347434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20data.20with.20GraphDefinitions.html#220347434">(Dec 18 2020 at 08:44)</a>:</h4>
<p>So what has been decided at the WGM re: the future of GraphDefinition ?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
