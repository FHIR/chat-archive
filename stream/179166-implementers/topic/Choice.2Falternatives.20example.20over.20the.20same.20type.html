---
layout: page
title: "FHIR Chat  · Choice/alternatives example over the same type · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html">Choice/alternatives example over the same type</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="170976705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/170976705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#170976705">(Jul 16 2019 at 11:35)</a>:</h4>
<p>Does anybody know of a (correct) example of a choice of alternatives over the same type. In particular I'm looking for a choice over Observation.value[x], but any example would do.<br>
I can provide some (probably wrong) examples so we can discuss over them if no correct example exists yet.</p>



<a name="170989428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/170989428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#170989428">(Jul 16 2019 at 14:12)</a>:</h4>
<p>I'm not sure I'm following what you're asking for.  Can you explain further?</p>



<a name="170992534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/170992534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#170992534">(Jul 16 2019 at 14:43)</a>:</h4>
<p>Sure. The idea is having two (or more) allowed values in a attribute with 0..1 occurrences. This is the use case of having for example two different Quantities with different units and allowed ranges (e.g. one could be [0..300] kg and the other [0..10000] g). In theory this should be no problem as they can be distinguishable from code.coding.code attribute, using that as the slicing criteria.<br>
This could also be applied to other complex data types such as CodeableConcept (arguably the declaration of bindings implicitly declares alternatives) or SampledData with different parameters.</p>



<a name="170997286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/170997286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#170997286">(Jul 16 2019 at 15:27)</a>:</h4>
<p>sounds like choice of units and not multiple choice types   - in your first example they are both valueQuantity?  so bind the Quantity.code to possible choice of units.  example here: <a href="http://build.fhir.org/bodytemp.html" target="_blank" title="http://build.fhir.org/bodytemp.html">http://build.fhir.org/bodytemp.html</a></p>



<a name="170998414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/170998414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#170998414">(Jul 16 2019 at 15:38)</a>:</h4>
<p>Yeah, both are valueQuantity. min &amp; max value are also different, and I don't see how put both constraints (ranges and units) in a single valueQuantity. That's why the choice</p>



<a name="170999477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/170999477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#170999477">(Jul 16 2019 at 15:49)</a>:</h4>
<p>So you're defining a profile and you're wanting to slice a non-repeating element to just say that one of two sets of constraints apply?  No real way to do that other than defining a constraint.  Slicing isn't allowed on non-repeating elements unless you're slicing by type on a polymorphic element.</p>



<a name="170999894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/170999894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#170999894">(Jul 16 2019 at 15:54)</a>:</h4>
<p>What is the purpose of the min max constraint?  to prevent implementers from doing stupid things or entry errors?  Is providing all these checks in the profiles better than say in the UI?</p>



<a name="171000041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/171000041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#171000041">(Jul 16 2019 at 15:56)</a>:</h4>
<p>If it's a business rule for the receiving system, it's reasonable to enforce it in a profile</p>



<a name="171001114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/171001114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#171001114">(Jul 16 2019 at 16:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, does FHIR allow a type slice with multiple named slices constrained to the same (single) datatype?<br>
Usually, when a choice type element is constrained to a single datatype, then Forge automatically generates a slice name from the selected type (e.g. <code>valueBoolean</code>). However if FHIR allows multiple type slices constrained to a common single type (?), then I suppose Forge should require the author to explicitly assign custom unique slice names (e.g. <code>someBoolean</code> and <code>otherBoolean</code>).</p>



<a name="171001384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/171001384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#171001384">(Jul 16 2019 at 16:10)</a>:</h4>
<p>If I have to chose between UI or profile for enforcing a constraint I would chose profile 100% of the time :)<br>
regarding this, I've seen profiles where this choice is simulated with the cardinality of the parent &amp; children (e.g. 5 optional items in a 4..5 container). The only difference is that this ""list"" only has one element.</p>



<a name="171001821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/171001821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#171001821">(Jul 16 2019 at 16:14)</a>:</h4>
<p>I don't think we allow multiple slices for a non-repeating polymorphic element except slicing by type.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="171004549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/171004549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#171004549">(Jul 16 2019 at 16:44)</a>:</h4>
<p>To make things worse, one of my use cases would be sliced by the value of an extension over CodeableConcept :)</p>



<a name="171807372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/171807372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#171807372">(Jul 26 2019 at 20:24)</a>:</h4>
<p>I don't know the answer to either that question or the original question</p>



<a name="172211708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Choice/alternatives%20example%20over%20the%20same%20type/near/172211708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Choice.2Falternatives.20example.20over.20the.20same.20type.html#172211708">(Aug 01 2019 at 11:18)</a>:</h4>
<p>I'm moving these alternatives constraints to expressions. Seems the only way to use the same kind of "building blocks" in single occurrences and multiple occurrences attributes (Observation.value[x] and Observation.component.value[x])</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
