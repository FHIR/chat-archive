---
layout: page
title: "FHIR Chat  · Implicit Merge · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implicit.20Merge.html">Implicit Merge</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153868704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implicit%20Merge/near/153868704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rahul Somasunderam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implicit.20Merge.html#153868704">(Jan 20 2017 at 23:25)</a>:</h4>
<p>Hi! I've got a question regarding Patient and the correct behavior on POST</p>
<p>Let's say I send a message like this first:</p>
<div class="codehilite"><pre>    {
      &quot;resourceType&quot;: &quot;Patient&quot;,
      &quot;identifier&quot;: [
        {
          &quot;use&quot;: &quot;usual&quot;,
          &quot;type&quot;: {&quot;coding&quot;: [{&quot;system&quot;: &quot;http://hl7.org/fhir/v2/0203&quot;, &quot;code&quot;: &quot;MR&quot;}]},
          &quot;system&quot;: &quot;urn:oid:1.2.3.4.5&quot;,
          &quot;value&quot;: &quot;89765a87b&quot;
        },
        {
          &quot;use&quot;: &quot;usual&quot;,
          &quot;type&quot;: {&quot;coding&quot;: [{&quot;system&quot;: &quot;http://hl7.org/fhir/v2/0203&quot;, &quot;code&quot;: &quot;MR&quot;}]},
          &quot;system&quot;: &quot;urn:oid:1.2.3.4.6&quot;,
          &quot;value&quot;: &quot;123123123&quot;
        }
      ],
      &quot;active&quot;: true,
      &quot;name&quot;: [
        {
          &quot;family&quot;: [ &quot;Doe&quot; ],
          &quot;given&quot;: [ &quot;John&quot; ]
        }
      ],
      &quot;gender&quot;: &quot;male&quot;,
      &quot;birthDate&quot;: &quot;1956-05-27&quot;,
      &quot;address&quot;: [
        {
          &quot;line&quot;: [ &quot;100 Main St&quot; ],
          &quot;city&quot;: &quot;Metropolis&quot;,
          &quot;state&quot;: &quot;Il&quot;,
          &quot;postalCode&quot;: &quot;44130&quot;,
          &quot;country&quot;: &quot;USA&quot;
        }
      ]
    }
</pre></div>


<p>Then the server creates a resource with identifier 1000</p>
<p>Now I send another POST with this</p>
<div class="codehilite"><pre>    {
      &quot;resourceType&quot;: &quot;Patient&quot;,
      &quot;identifier&quot;: [
        {
          &quot;use&quot;: &quot;usual&quot;,
          &quot;type&quot;: {&quot;coding&quot;: [{&quot;system&quot;: &quot;http://hl7.org/fhir/v2/0203&quot;, &quot;code&quot;: &quot;MR&quot;}]},
          &quot;system&quot;: &quot;urn:oid:1.2.3.4.7&quot;,
          &quot;value&quot;: &quot;99999999&quot;
        }
      ],
      &quot;active&quot;: true,
      &quot;name&quot;: [
        {
          &quot;family&quot;: [ &quot;Doe&quot; ],
          &quot;given&quot;: [ &quot;John&quot; ]
        }
      ],
      &quot;gender&quot;: &quot;male&quot;,
      &quot;birthDate&quot;: &quot;1956-05-27&quot;,
      &quot;address&quot;: [
        {
          &quot;line&quot;: [ &quot;100 Main St&quot; ],
          &quot;city&quot;: &quot;Metropolis&quot;,
          &quot;state&quot;: &quot;Il&quot;,
          &quot;postalCode&quot;: &quot;44130&quot;,
          &quot;country&quot;: &quot;USA&quot;
        }
      ]
    }
</pre></div>


<p>Is the server allowed to merge the 2 resources or is it required to create a new resource with id 1001?</p>



<a name="153869501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implicit%20Merge/near/153869501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implicit.20Merge.html#153869501">(Jan 30 2017 at 15:07)</a>:</h4>
<p>A POST is supposed to create a new resource, so yes.  In this example, it looks like there's a matching algorithm on the server side which determines  that these are the same patients - based on the address/gender/name.  If you'd need, you could have the server refuse the POST and return an error to the caller with an OperationOutcome in the body, which states that a duplicate patient already exists. This is behaviour is not mandated by the spec, but is certainly allowed.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
