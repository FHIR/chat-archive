---
layout: page
title: "FHIR Chat  · Validating appointments · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html">Validating appointments</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176454262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176454262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Ranvig <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176454262">(Sep 24 2019 at 11:31)</a>:</h4>
<p>Hi, I'm trying to validate an Appointment resource using the R4 base profile. However, I keep getting the error "Cancelation reason is only used for appointments that have been cancelled, or no-show", even though the appointments don't deal with cancellations or any of the mentioned statuses.<br>
Looking at the profiles-resources.xml, I notice that the expression currently is:</p>
<p>Appointment.cancelationReason.exists() implies (Appointment.status='no-show' or Appointment.status='cancelled')</p>
<p>should perhaps this have been written as:</p>
<p>cancelationReason.exists() implies (status='no-show' or status='cancelled')</p>



<a name="176457438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176457438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176457438">(Sep 24 2019 at 12:16)</a>:</h4>
<p>It could be written that way, but that’s not the source of whatever the problem is, since it has the same meaning. Can you post an example here?</p>



<a name="176461271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176461271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Ranvig <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176461271">(Sep 24 2019 at 13:06)</a>:</h4>
<p>I attached a file containing the resource in question. Trying to validate this resource results in the following warnings and errors:</p>
<p>[WARNING] Evaluation of FhirPath for constraint 'app-4' failed: Invocation of 'binary.implies' failed: Invocation of 'exists' failed: Invocation of 'builtin.children' failed: Resource type name may only appear at the root of a document (at Bundle.entry[1].resource[0])<br>
[ERROR] Instance failed constraint app-4 "Cancelation reason is only used for appointments that have been cancelled, or no-show" (at Bundle.entry[1].resource[0])</p>
<p>Currently we're using the .c# .NET Fhir 1.2.0-beta2 packages to do the validation.</p>
<p><a href="/user_uploads/10155/Yttqkcfbj01GlYDvWOjJQqCl/bundle.json" target="_blank" title="bundle.json">bundle.json</a></p>



<a name="176462356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176462356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Ranvig <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176462356">(Sep 24 2019 at 13:18)</a>:</h4>
<p>I noticed that the bundle.json uploaded in the previous comment, contains references to Norwegian profiles as well. The below attached bundle does not reference any other profiles, while still displaying the same validation error.</p>
<p><a href="/user_uploads/10155/RBN1Y7ABdnrUVAgt3cSIt3cj/bundle2.json" target="_blank" title="bundle2.json">bundle2.json</a></p>



<a name="176507751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176507751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176507751">(Sep 24 2019 at 21:23)</a>:</h4>
<p>I'd switch up  to the dotnet 1.3 validator, there have been some known issues in it. Though not sure this is one of them.</p>



<a name="176547162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176547162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176547162">(Sep 25 2019 at 09:19)</a>:</h4>
<p><span class="user-mention" data-user-id="241459">@David Ranvig</span>  - Hi David, looks like something that's worth reporting to the API issue tracker at <a href="https://github.com/FirelyTeam/fhir-net-api/issues" target="_blank" title="https://github.com/FirelyTeam/fhir-net-api/issues">https://github.com/FirelyTeam/fhir-net-api/issues</a>.</p>



<a name="176547238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176547238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176547238">(Sep 25 2019 at 09:20)</a>:</h4>
<p>(though yes, we keep on fixing validator bugs, so moving up to the latest is always a good idea)</p>



<a name="176547278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176547278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176547278">(Sep 25 2019 at 09:21)</a>:</h4>
<p>Lastly - we've a dedicated "dotnet" stream that you might want to subscribe to - many of our .net developers hang around there!</p>



<a name="176655697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validating%20appointments/near/176655697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Ranvig <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validating.20appointments.html#176655697">(Sep 26 2019 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> Thank you, I have reported the issue with fhir-net-api repository (<a href="https://github.com/FirelyTeam/fhir-net-api/issues/1125" target="_blank" title="https://github.com/FirelyTeam/fhir-net-api/issues/1125">https://github.com/FirelyTeam/fhir-net-api/issues/1125</a>) and subscribed to the dotnet stream :-)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
