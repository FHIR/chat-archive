---
layout: page
title: "FHIR Chat  · FixedValue of an extension value · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html">FixedValue of an extension value</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223649193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/223649193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#223649193">(Jan 22 2021 at 14:41)</a>:</h4>
<p>How can I set a fixed value of an element of an extension in a profile using that extension.<br>
For example I have an extension of type "Coding" and in a profile I am using that extension but I want to set a fixedUri for the system used in that coding. How can I do that? One option is to set it in the extension, but the challenge is that  it is not 1 fixex value for all the uses of that Extension.</p>



<a name="223650957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/223650957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#223650957">(Jan 22 2021 at 14:54)</a>:</h4>
<p>In the structureDefinition that uses the extension you should be able to use the fixed[x] or pattern[x] just like if you were making a fixed code for any other element.</p>



<a name="223654791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/223654791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#223654791">(Jan 22 2021 at 15:21)</a>:</h4>
<p>To expand on <span class="user-mention" data-user-id="237342">@ryan moehrke</span>'s answer, here is an example (or two) of how to do this in FSH: <a href="https://fshschool.org/FSHOnline/#/share/399fxs6">https://fshschool.org/FSHOnline/#/share/399fxs6</a></p>
<p><em>NOTE: If you don't care about FSH, you can still click the "Run" button if you want to see what such a thing looks like in a StructureDefinition.</em></p>



<a name="223654883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/223654883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#223654883">(Jan 22 2021 at 15:21)</a>:</h4>
<p>Also, thanks for presenting the opportunity for me to use FSH Online's brand new <em>SHARE</em> feature for the first time in Zulip!</p>



<a name="224159655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224159655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224159655">(Jan 27 2021 at 09:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="237342">ryan moehrke</span> <a href="#narrow/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value/near/223650957">said</a>:</p>
<blockquote>
<p>In the structureDefinition that uses the extension you should be able to use the fixed[x] or pattern[x] just like if you were making a fixed code for any other element.</p>
</blockquote>
<p>That doesnot work since in the structuredefinition the type is "Extension", so the fixed[x] is about setting a fixed value for that type. I want to set a fixed value for the value in the Extension.</p>



<a name="224195853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224195853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224195853">(Jan 27 2021 at 15:18)</a>:</h4>
<p>The extension reference in your profile is a slice.  Just walk into the slice and specify the value[x] element, then walk into the value[x]:sometype slice and assert your fixed value</p>



<a name="224260466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224260466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224260466">(Jan 27 2021 at 22:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Can you point me to an example. I tried this, but get errors on validation. Not existing path or wrong name and things like that. Shall try to reproduce.</p>



<a name="224269371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224269371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224269371">(Jan 28 2021 at 00:30)</a>:</h4>
<p>Your id ought to be <code>foo.extension:extensionSliceName.value[x]:valueSomeType</code> and would have a fixedSomeType value.  I don't actually have a full example I can copy from handy.  If you try the above and get an error, share what you're getting and I may be able to help further.</p>



<a name="224320308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224320308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224320308">(Jan 28 2021 at 12:45)</a>:</h4>
<p>use of a simple Coding type extension on Provenance.whoReference.extension</p>
<div class="codehilite"><pre><span></span><code>       {
        &quot;id&quot;: &quot;Provenance..agent.whoReference.extension&quot;,
        &quot;path&quot;: &quot;Provenance.agent.whoReference.extension&quot;,
        &quot;sliceName&quot;: &quot;signatureMode&quot;,
        &quot;type&quot;: [
          {
            &quot;code&quot;: &quot;Extension&quot;,
            &quot;profile&quot;: &quot;http://example.com/fhir/StructureDefinition/signatureMode&quot;
          }
        ]
      },
      {
        &quot;id&quot;: &quot;Provenance.agent.who[x].extension:signatureMode.value[x]:valueCoding.system&quot;,
        &quot;path&quot;: &quot;Provenance.agent.who[x].extension.valueCoding.system&quot;,
        &quot;sliceName&quot;: &quot;signatureMode&quot;,
        &quot;fixedUri&quot;: &quot;http://example.com/Terminology/DefinedTerms&quot;
      }
</code></pre></div>
<p>The extension itself "works" and created the expected result in an IG. <br>
The fixed value part I don't get to work.</p>
<p>java validator output</p>
<div class="codehilite"><pre><span></span><code>*FAILURE*: 2 errors, 0 warnings, 0 notes
  Error @ StructureDefinition.differential.element.where(path = &#39;Provenance.agent.who[x].extension:signatureMode.value[x]:valueCoding.system&#39;) : No match found in the generated snapshot: check that the path and definitions are legal in the differential (including order)
  Error @ StructureDefinition : The profile http://example.com/fhir/StructureDefinition/ProgressNoteSignature has 1 element in the differential (id: Provenance.agent.who[x].extension:signatureMode.value[x]:valueCoding.system) that don&#39;t have a matching element in the snapshot: check that the path and definitions are legal in the differential (including order)
</code></pre></div>



<a name="224431681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224431681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224431681">(Jan 29 2021 at 05:13)</a>:</h4>
<p>Your id needs to contain your slicename.  Also looks like it's got double-periods.  Should be "Provenance.agent.who[x]:whoReference.extension:signatureMode<br>
Second one "Provenance.agent.who[x]:whoReference.extension:signatureMode.value[x]:valueCoding.system"</p>



<a name="224482938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224482938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224482938">(Jan 29 2021 at 15:07)</a>:</h4>
<p>And what are the associated paths with those id's?<br>
#1: Provenance.agent.whoReference.extension<br>
#2: Provenance.agent.whoReference.extension.valueCoding.system<br>
I keep getting errors on no 2</p>
<div class="codehilite"><pre><span></span><code>*FAILURE*: 2 errors, 0 warnings, 0 notes
  Error @ StructureDefinition.differential.element.where(path = &#39;Provenance.agent.who[x]:whoReference.extension:signatureMode.value[x]:valueCoding.system&#39;) : No match found in the generated snapshot: check that the path and definitions are legal in the differential (including order)
  Error @ StructureDefinition : The profile http://example.com/fhir/StructureDefinition/ProgressNoteSignature has 1 element in the differential (id: Provenance.agent.who[x]:whoReference.extension:signatureMode.value[x]:valueCoding.system) that don&#39;t have a matching element in the snapshot: check that the path and definitions are legal in the differential (including order)
</code></pre></div>



<a name="224539053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224539053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224539053">(Jan 29 2021 at 21:55)</a>:</h4>
<p>Paths should be Provenance.agent.who[x].extension and Provenance.agent.who[x].extension.value[x].system</p>



<a name="224549355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224549355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224549355">(Jan 29 2021 at 23:19)</a>:</h4>
<p>Still not working :-(</p>
<div class="codehilite"><pre><span></span><code>  Provenance.agent.who[x].extension : Extension[0..*] (slicing by url)
  Provenance.agent.who[x].extension:signatureMode : Extension([CanonicalType[http://example.com/fhir/StructureDefinition/signatureMode]])[0..*] (slicename = signatureMode)
  Provenance.agent.who[x].extension:signatureMode.id : string[0..1]
  Provenance.agent.who[x].extension:signatureMode.extension : Extension[0..*] (slicing by url)
  Provenance.agent.who[x].extension:signatureMode.url : uri[1..1]  fixed=uri
  Provenance.agent.who[x].extension:signatureMode.value[x] : Coding[0..1] (slicing by $this)
  Provenance.agent.who[x].extension:signatureMode.value[x]:valueCoding : Coding[0..1] (slicename = valueCoding)
...
  Error @ StructureDefinition.differential.element.where(path = &#39;Provenance.agent.who[x]:whoReference.extension:signatureMode.value[x]:valueCoding.system&#39;) : No match found in the generated snapshot: check that the path and definitions are legal in the differential (including order)
  Error @ StructureDefinition : The profile http://example.com/fhir/StructureDefinition/ProgressNoteSignature has 1 element in the differential (id: Provenance.agent.who[x]:whoReference.extension:signatureMode.value[x]:valueCoding.system) that don&#39;t have a matching element in the snapshot: check that the path and definitions are legal in the differential (including order)
</code></pre></div>



<a name="224549426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224549426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224549426">(Jan 29 2021 at 23:20)</a>:</h4>
<p>Don't know if it makes any difference, but I am doing this in FHIR version 3.0.2</p>



<a name="224588403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224588403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224588403">(Jan 30 2021 at 14:46)</a>:</h4>
<p>Are you using the most recent publisher/validator?  It's possible there's a snapshot generation error.  What you have looks right to me.  <span class="user-mention" data-user-id="248736">@Mark Iantorno</span>, thoughts?</p>



<a name="224589204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224589204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224589204">(Jan 30 2021 at 15:04)</a>:</h4>
<p>Ah, away from my computer right now. I will look later today</p>



<a name="224701517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224701517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224701517">(Feb 01 2021 at 09:21)</a>:</h4>
<p>I have "FHIR Validation tool Version 5.2.16 (Git# f815bc8fb8f0). Built 2021-01-14T22:39:23.297Z (15 days old)" now, will update and run again.</p>



<a name="224701711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/224701711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#224701711">(Feb 01 2021 at 09:24)</a>:</h4>
<p>Same result for "FHIR Validation tool Version 5.2.20 (Git# af05868a82bf). Built 2021-01-25T15:02:44.742Z (6 days old)"</p>



<a name="226640285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FixedValue%20of%20an%20extension%20value/near/226640285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value.html#226640285">(Feb 17 2021 at 10:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="248736">Mark Iantorno</span> <a href="#narrow/stream/179166-implementers/topic/FixedValue.20of.20an.20extension.20value/near/224589204">said</a>:</p>
<blockquote>
<p>Ah, away from my computer right now. I will look later today</p>
</blockquote>
<p>Sorry to keep bugging you. Hope you get a change to look at this issue. Thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
