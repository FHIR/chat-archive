---
layout: page
title: "FHIR Chat  · Date search and prefixes · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html">Date search and prefixes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153874058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/153874058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jorge de la Garza <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#153874058">(Feb 28 2017 at 17:38)</a>:</h4>
<p>The documentation on prefixes for search values has for prefix "ge":<br>
"the range above the search value intersects (i.e. overlaps) with the range of the target value, or the range of the search value fully contains the range of the target value"</p>
<p>So suppose my repository contains a patient with birthdate="2012".  Then I would expect this search:<br>
    [base]/Patient?birthdate=ge2012-06<br>
To return that patient, because the range of the search value (everything on or after 2012-06-01T00:00:00) intersects the range of the target value (implied range of 2012-01-01T00:00:00 to 2012-12-31T23:59:59).  But suppose I have two "birthdate" search values:<br>
    [base]/Patient?birthdate=ge2012-06&amp;birthdate=le2012-09<br>
I would expect each of those conditions on its own to return a patient with birthdate="2012", so when they are combined that should also return that patient, right?  But something about that doesn't seem right.  I'm asking for patients with birthdate in a specific range, so is it really right to include a result that is most likely not in that range?  I guess it isn't "more" right or wrong than the first case with a single condition.  Any thoughts on this?  Is it just up to the server to decide how to handle this?</p>



<a name="153874073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/153874073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#153874073">(Feb 28 2017 at 18:51)</a>:</h4>
<p>I would not expect the patient to be returned in any of the searches because we don't know that the answer is true. If the patient's birthdate is "some time in 2012", then the answer to the question "was this patient born on or after June 1st, 2012" has to be "I don't know", which would mean they wouldn't be returned in the search.</p>



<a name="153874161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/153874161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#153874161">(Mar 01 2017 at 02:09)</a>:</h4>
<p>search errs the other way: it's better to include than to omit. So you include the patient if it might match. </p>



<a name="237704265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/237704265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Kurkure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#237704265">(May 06 2021 at 18:13)</a>:</h4>
<p>Does the precision of the search parameter have to be &gt;= the results returned? <br>
Perhaps a better way to frame my question would be does <code>eq2013-01-14T10:00:00</code> match with <code>2013-01-14</code>?</p>



<a name="237708831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/237708831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#237708831">(May 06 2021 at 18:41)</a>:</h4>
<p>No, it does not match: 2013-01-14 is a 24 hours period, the search parameter is a 1 second period, and equality is defined as 'search period must contains target period'</p>



<a name="237771396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/237771396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Kurkure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#237771396">(May 07 2021 at 05:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191912">Michele Mottini</span> <a href="#narrow/stream/179166-implementers/topic/Date.20search.20and.20prefixes/near/237708831">said</a>:</p>
<blockquote>
<p>No, it does not match: 2013-01-14 is a 24 hours period, the search parameter is a 1 second period, and equality is defined as 'search period must contains target period'</p>
</blockquote>
<p>Thanks. I am still a little confused because the standard specifies that 2013-01-14 could imply all times from 2013-01-14 till 2013-01-15. So that would include 2013-01-14T10:00:00 right?<br>
Perhaps this could be specified in the standard?</p>



<a name="237819807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/237819807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#237819807">(May 07 2021 at 13:12)</a>:</h4>
<p>The challenge is that 'eq' doesn't mean 'contains'.  You could propose we add a new relationship code for "interesects with".</p>



<a name="237823327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/237823327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#237823327">(May 07 2021 at 13:35)</a>:</h4>
<blockquote>
<p>So that would include 2013-01-14T10:00:00 right</p>
</blockquote>
<p>Yes, so searching for eq2013-01-14 would match 2013-01-14T10:00:00 - but not vice-versa<br>
The specs have all the details, see the third column of the table at <a href="http://hl7.org/fhir/search.html#prefix">http://hl7.org/fhir/search.html#prefix</a></p>



<a name="237931250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20search%20and%20prefixes/near/237931250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya Kurkure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20search.20and.20prefixes.html#237931250">(May 08 2021 at 06:36)</a>:</h4>
<p>Ah I see. Thanks <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
