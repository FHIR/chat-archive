---
layout: page
title: "FHIR Chat  · Contained resources and Bundles · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Contained.20resources.20and.20Bundles.html">Contained resources and Bundles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183208196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Contained%20resources%20and%20Bundles/near/183208196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Contained.20resources.20and.20Bundles.html#183208196">(Dec 11 2019 at 22:18)</a>:</h4>
<p>We have a FHIR server with a MedicationDispense resource available for Read, which references Contained Patient and Practitioner resources, since we only have fragments of these entities, and the entity info is captured as point-in-time of the drug dispensation, so it doesn't make sense for these contained resources to exist independently.<br>
So a Read on this MedicationDispense will return a MedicationDispense resource, with the Contained Patient and Practitioner resources. A Search against this MedicationDispense resource will return a Searchset Bundle resource, with multiple MedicationDispense resources as Bundle.entry.resource -- but the previously contained Patient and Practitioner resources are now also found as Bundle.entry.resource.<br>
Is this correct? <br>
If feels like the logic required to return a Searchset is a lot more work, as the server has to disassemble and flatten all the containment, and the requester has to look across all elements within the bundle rather than just looking at MedicationDispense.contained as in the Read.<br>
Follow-up question - does this mean that the fragment/contained Patient and Practitioner resources in Bundle.entry.resource will need to have Bundle.entry.search.mode="include" (even though this was not a result of a _include search parameter -- though that's just semantics and nitpicking).</p>



<a name="183214638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Contained%20resources%20and%20Bundles/near/183214638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Contained.20resources.20and.20Bundles.html#183214638">(Dec 11 2019 at 23:47)</a>:</h4>
<blockquote>
<p>Is this correct? </p>
</blockquote>
<p>no. if they're contained resources, you leave them as contained resources</p>



<a name="183223856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Contained%20resources%20and%20Bundles/near/183223856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Contained.20resources.20and.20Bundles.html#183223856">(Dec 12 2019 at 02:39)</a>:</h4>
<p>Contained entries should remain contained. If you have enough patient identity to know that multiple dispenses are for the same patient or by the same practitioner, then those shouldn't be contained.  Contained is for resources that have no identity outside the containing resource.</p>



<a name="183288535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Contained%20resources%20and%20Bundles/near/183288535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Contained.20resources.20and.20Bundles.html#183288535">(Dec 12 2019 at 18:45)</a>:</h4>
<p>Thank you -- We ran into validation errors when using HAPI for validation, and the errors were related to referencing the contained resources. The same sample message ran fine in HL7 FHIR Validator, so we're checking in with the HAPI forums.</p>



<a name="183292924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Contained%20resources%20and%20Bundles/near/183292924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Contained.20resources.20and.20Bundles.html#183292924">(Dec 12 2019 at 19:30)</a>:</h4>
<p>there was a bug that was fixed there - might be a version issue with the validator - the HAPI one runs behind the snapshot</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
