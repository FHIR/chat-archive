---
layout: page
title: "FHIR Chat  · Can / should an Extension.url contain an optional version? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html">Can / should an Extension.url contain an optional version?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204564375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204564375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204564375">(Jul 21 2020 at 15:42)</a>:</h4>
<p>The spec mentions resolving the StructureDefinition for an extension using a "canonical" URL though Extension.url is typed to <code>uri</code>.  Can / should Extension.url be used in a similar fashion to Resource.meta.profile  where an optional <code>version</code> can be appended?</p>
<p>"The url SHALL be a URL, not a URN (e.g. not an OID or a UUID), and it <strong>SHALL be the canonical URL of a StructureDefinition that defines the extension</strong>. Except for child extensions defined within complex extensions, the URL SHALL be an absolute URL."</p>
<p>When I think of a canonical URL, I think about the potential for an optional version (especially if we are looking up a StructureDefinition from a registry).</p>



<a name="204566571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204566571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204566571">(Jul 21 2020 at 16:00)</a>:</h4>
<p>Extension.url is <em>not</em> allowed to contain "|version" because it does not have a type of canonical.  This is intentional.</p>



<a name="204566861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204566861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204566861">(Jul 21 2020 at 16:02)</a>:</h4>
<p>So perhaps the wording should be changed to not include "canonical URL"?</p>



<a name="204567116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204567116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204567116">(Jul 21 2020 at 16:04)</a>:</h4>
<p>It's a reference to the canonical URL, but it's not of type 'canonical'.</p>



<a name="204568353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204568353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204568353">(Jul 21 2020 at 16:13)</a>:</h4>
<p>Perhaps the language should then be changed from <strong>SHALL be the canonical URL of  a StructureDefinition that defines the extension</strong> to <strong>SHALL be a reference to the canonical URL of a StructureDefinition that defines the extension</strong> though the nuance between an element of type canonical and a reference to a canonical URL still seems a bit ambiguous to me.</p>



<a name="204568997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204568997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204568997">(Jul 21 2020 at 16:18)</a>:</h4>
<blockquote>
<p>Extension.url is not allowed to contain "|version" because it does not have a type of canonical. This is intentional.</p>
</blockquote>
<p>Mind expanding on the intention behind this?  Elsewhere, when we have a reference to a definitional knowledge artifact that needs to get looked up, it tends to be a canonical (so that it can include the version), right?  Why not here?</p>



<a name="204575496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204575496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204575496">(Jul 21 2020 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="204604987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204604987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204604987">(Jul 21 2020 at 21:29)</a>:</h4>
<p>it's deliberate because you should not change the definition of an extension so much that the version becomes relevant to the interpretation</p>



<a name="204605006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204605006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204605006">(Jul 21 2020 at 21:29)</a>:</h4>
<p>but I do think that it's reasonable to clarify the language</p>



<a name="204630740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204630740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204630740">(Jul 22 2020 at 05:04)</a>:</h4>
<p><span class="user-mention" data-user-id="192334">@John Timm</span> Can you submit a change request asking for the clarification?</p>



<a name="204963396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20/%20should%20an%20Extension.url%20contain%20an%20optional%20version%3F/near/204963396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20.2F.20should.20an.20Extension.2Eurl.20contain.20an.20optional.20version.3F.html#204963396">(Jul 24 2020 at 20:34)</a>:</h4>
<p>Created: <a href="https://jira.hl7.org/browse/FHIR-28143">https://jira.hl7.org/browse/FHIR-28143</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
