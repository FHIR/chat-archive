---
layout: page
title: "FHIR Chat  · Search behaviour when sorting · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html">Search behaviour when sorting</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223548366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223548366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223548366">(Jan 21 2021 at 18:11)</a>:</h4>
<p>When performing a search it is possible to set the sort order using something along the lines of </p>
<div class="codehilite"><pre><span></span><code>/Patient?_sort=xxx,yyy,zzz
</code></pre></div>
<p>What is the expected behaviour if:</p>
<p>1) A search parameter is encountered that is not supported? - Is it just ignored by the server?<br>
2) The number of search parameters provided exceeds those that the server supports?</p>



<a name="223550063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223550063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223550063">(Jan 21 2021 at 18:24)</a>:</h4>
<p>I don't think we've defined expected behavior.  At minimum, the 'self' link should indicate what sorting actually happened.</p>



<a name="223550170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223550170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223550170">(Jan 21 2021 at 18:25)</a>:</h4>
<p>I would think unsupported search parameters in a sort clause would be treated the same as in the search itself, potentially ignored unless strict handling has been specified.</p>



<a name="223554208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223554208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223554208">(Jan 21 2021 at 18:55)</a>:</h4>
<p>You get 400s from our server</p>



<a name="223772172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223772172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223772172">(Jan 23 2021 at 19:59)</a>:</h4>
<p>We ignore unrecognized params and do not support ordering. The ordering of data seems easier to implement client side (given number of data sources).</p>



<a name="223772295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223772295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223772295">(Jan 23 2021 at 20:00)</a>:</h4>
<p>Ordering on the client side only works if you bring down all of the data first, which doesn't work well if the set of data is large...</p>



<a name="223772482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223772482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223772482">(Jan 23 2021 at 20:03)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, I am not sure of the use case here. But for claims data we added a last Updated param. We are hoping that consumers pull all data and then only pull for updates. The data can be quite large, as you say.</p>



<a name="223774272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223774272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223774272">(Jan 23 2021 at 20:41)</a>:</h4>
<p>If you have a light-weight client (e.g. a phone), you're not going to have any local persistence and will query data as you need it - and will generally query one page at a time - just what's needed to populate the current screen on the phone to ensure good performance and low memory use.</p>



<a name="223774284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223774284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223774284">(Jan 23 2021 at 20:41)</a>:</h4>
<p>Even apps that might be able to store more won't necessarily want to store everything, nor want to wait the length of time it would take for everything to be retrieved.</p>



<a name="223786083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223786083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223786083">(Jan 24 2021 at 00:15)</a>:</h4>
<p>CommonHealth and Apple health only support local device storage. If you make an app on their stores you cannot run direct queries. When we asked the app devs they said they prefer local storage.</p>



<a name="223791664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223791664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223791664">(Jan 24 2021 at 02:48)</a>:</h4>
<p>If you're running a web app, you won't necessarily have <em>any</em> storage.  And even if you do, you might not want to wade through 'all' of the patient's lab Observations.  You want the most recent and the user will traverse back to older ones if/when they want them.  With sort, you can do a quick call, get back 100 rows and display them.  If you needed to bring back all of the rows before you could display the 'latest', you could be looking at several minutes time just to get the data over the wire.</p>



<a name="223795308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223795308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Lamb <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223795308">(Jan 24 2021 at 04:32)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, great point regarding local storage. I imagine an EMR will have a wide variety of use cases. We are green with FHIR claims data so far and have not yet begin B2B use cases. If I developed a client app for claims data, I would not use local storage either.</p>



<a name="223821578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20behaviour%20when%20sorting/near/223821578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20behaviour.20when.20sorting.html#223821578">(Jan 24 2021 at 16:22)</a>:</h4>
<p>Patient apps aggregate data from multiple source, they won't query &amp; display. No sort is fine.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
