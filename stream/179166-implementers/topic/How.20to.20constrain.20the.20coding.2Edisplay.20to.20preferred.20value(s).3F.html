---
layout: page
title: "FHIR Chat  · How to constrain the coding.display to preferred value(s)? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html">How to constrain the coding.display to preferred value(s)?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="256628635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/256628635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#256628635">(Oct 07 2021 at 18:42)</a>:</h4>
<p>Since codesystems often allow for alternate display strings for a given code, using <code>fixedString</code> on display is too constraining... so I am trying <code>defaultValueString</code> instead: (bottom of snippet)</p>
<div class="codehilite"><pre><span></span><code>  &lt;differential&gt;
    &lt;element id=&quot;Observation.code.coding&quot;&gt;
      &lt;path value=&quot;Observation.code.coding&quot; /&gt;
      &lt;slicing&gt;
        &lt;discriminator&gt;
          &lt;type value=&quot;value&quot; /&gt;
          &lt;path value=&quot;code&quot; /&gt;
        &lt;/discriminator&gt;
        &lt;rules value=&quot;open&quot; /&gt;
      &lt;/slicing&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Observation.code.coding:loincCoding&quot;&gt;
      &lt;path value=&quot;Observation.code.coding&quot; /&gt;
      &lt;sliceName value=&quot;loincCoding&quot; /&gt;
      &lt;min value=&quot;1&quot; /&gt;
      &lt;max value=&quot;1&quot; /&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Observation.code.coding:loincCoding.system&quot;&gt;
      &lt;path value=&quot;Observation.code.coding.system&quot; /&gt;
      &lt;fixedUri value=&quot;http://loinc.org&quot; /&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Observation.code.coding:loincCoding.code&quot;&gt;
      &lt;path value=&quot;Observation.code.coding.code&quot; /&gt;
      &lt;fixedCode value=&quot;47092-2&quot; /&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Observation.code.coding:loincCoding.display&quot;&gt;
      &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable&quot;&gt;
        &lt;valueBoolean value=&quot;true&quot; /&gt;
      &lt;/extension&gt;
      &lt;path value=&quot;Observation.code.coding.display&quot; /&gt;
      &lt;defaultValueString value=&quot;Natriuretic peptide B [Moles/volume] in Serum or Plasma&quot; /&gt;          *** fixedString replaced by defaultValueString
    &lt;/element&gt;
</code></pre></div>
<p>however in R4, this is giving an error: <code>sdf-21    Default values can only be specified on specializations</code>, because our derivation is typically a <code>constraint</code>, nor a <code>specialization</code>.</p>
<p>**what is the rationale for sdf-21, and more importantly the recommended way to specify one or multiple preferred display string(s)? <br>
**<br>
 my last resort is to leave the display out, fully, but I prefer to give guidance on the preference.</p>



<a name="256633851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/256633851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#256633851">(Oct 07 2021 at 19:15)</a>:</h4>
<p>Generally you don't constrain 'display' at all - you allow that to be handled by terminologyServices.  "default" values aren't allowed to be set except in logical models.</p>



<a name="256699808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/256699808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#256699808">(Oct 08 2021 at 07:31)</a>:</h4>
<p>Thank you Lloyd - yeah - I will look into doing it via the ValueSet binding, and underlying CodeSystem indeed, incl. translations and designations. Not trivial :) Terminology Services - to find and validate the display for a code - may not always be available design-time.</p>



<a name="256765833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/256765833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#256765833">(Oct 08 2021 at 16:27)</a>:</h4>
<p>True - but if you're going to do anything with display names, the most you can realistically do is spit out a warning if it varies from the collection of names known to the terminology server.  You can't specify defaults (for display or anything else) and you don't want to specify a fixed value.  If you don't have a terminology server to check it, then your alternative is to leave it wide open.  (Which essentially it is anyhow because you can always have a language translation or a narrow value set that overrides the display name with something context-specific.  Validation is, at most, a warning.)</p>



<a name="267434180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/267434180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#267434180">(Jan 10 2022 at 12:50)</a>:</h4>
<p>Is there any way to include a human-readable comment/hint (derived from the display text) along with the system::code constraints, about what the code is about? (when removing the display constraint, this is no longer obvious to a human, looking at the profile alone)</p>
<p><a href="/user_uploads/10155/K-Jim5EXYxuwznox1ntyPw4A/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/K-Jim5EXYxuwznox1ntyPw4A/image.png" title="image.png"><img src="/user_uploads/10155/K-Jim5EXYxuwznox1ntyPw4A/image.png"></a></div><p>There's a few options - which one would be recommended?<br>
<a href="/user_uploads/10155/gXs5Gpp_CxxNG_VTFyAjken-/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/gXs5Gpp_CxxNG_VTFyAjken-/image.png" title="image.png"><img src="/user_uploads/10155/gXs5Gpp_CxxNG_VTFyAjken-/image.png"></a></div><p>I'm leaning toward <code>label</code> and <code>comment</code>, to explain the <code>fixedCode</code>.</p>



<a name="267454528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/267454528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#267454528">(Jan 10 2022 at 15:40)</a>:</h4>
<p>'label' is what you use to prompt a human to fill in the element - which isn't something I'd expect if the Coding is already fixed/expected to follow a pattern.  If you're declaring a pattern that asserts a particular code and you want to document what the code actually means, ElementDefinition.comment is probably the best place for that.</p>



<a name="267457990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/267457990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#267457990">(Jan 10 2022 at 16:01)</a>:</h4>
<p>Thank you - ElementDefinitions.comment it is :)</p>



<a name="267494547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/267494547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#267494547">(Jan 10 2022 at 20:23)</a>:</h4>
<p>Of course - this will not be validated since it is human readable. At least, I don't think there is a way to do so, readily.</p>
<p><a href="/user_uploads/10155/mgBEGp44R105Mp7w6OuYwvGd/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/mgBEGp44R105Mp7w6OuYwvGd/image.png" title="image.png"><img src="/user_uploads/10155/mgBEGp44R105Mp7w6OuYwvGd/image.png"></a></div>



<a name="267535398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/267535398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#267535398">(Jan 11 2022 at 04:27)</a>:</h4>
<p>If you want to mandate a particular display value, you can include it in the pattern.  If you want to constrain to one of a small set, you can bind a required value set to the display element.  If you want to spit out a warning if it's not part of a small set, you can provide an extensible binding or a warning or best practice invariant.</p>



<a name="267550153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/267550153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#267550153">(Jan 11 2022 at 08:27)</a>:</h4>
<p>yeah, a <code>defaultString</code> (recommended) next to a <code>fixedString</code> (mandatory) option would have been useful here - to avoid valuesets and bindings - but then we're back to the beginning of the thread :)<br>
Thank you Lloyd!</p>



<a name="267593471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20constrain%20the%20coding.display%20to%20preferred%20value%28s%29%3F/near/267593471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20constrain.20the.20coding.2Edisplay.20to.20preferred.20value(s).3F.html#267593471">(Jan 11 2022 at 15:01)</a>:</h4>
<p>defaults aren't allowed in FHIR (logical models only).  However a default and a fixed value on the same element would never make sense as fixed says "this must appear on the wire" and default says "if nothing is specified, presume this".</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
