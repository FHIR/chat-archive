---
layout: page
title: "FHIR Chat  · null attributes in fhir-net-api · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/null.20attributes.20in.20fhir-net-api.html">null attributes in fhir-net-api</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153886772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/null%20attributes%20in%20fhir-net-api/near/153886772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/null.20attributes.20in.20fhir-net-api.html#153886772">(May 03 2017 at 10:45)</a>:</h4>
<p>I'm confused about when I can expect attributes to be null or not in fhir-net-api. It seems that lists, such as Patient.Relationship can never be null because the property creates the list implicitly when it is null. On the other hand, Patient.animal.species which is a mandatory attribute does not automatically create an instance when the attribute is accessed.<br>
Is there a general principle for when attributes can be null?</p>



<a name="153886773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/null%20attributes%20in%20fhir-net-api/near/153886773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/null.20attributes.20in.20fhir-net-api.html#153886773">(May 03 2017 at 10:47)</a>:</h4>
<p>Lists are never null - everything else (that is nullable) can be null</p>



<a name="153886775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/null%20attributes%20in%20fhir-net-api/near/153886775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/null.20attributes.20in.20fhir-net-api.html#153886775">(May 03 2017 at 10:51)</a>:</h4>
<p>Alright, thanks</p>



<a name="153886776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/null%20attributes%20in%20fhir-net-api/near/153886776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/null.20attributes.20in.20fhir-net-api.html#153886776">(May 03 2017 at 10:58)</a>:</h4>
<p>There seems to be a redundancy here then. The generated CopyTo() code checks whether list properties are null. But they can never be null since the property implementation always creates the list if it is null.</p>



<a name="153886777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/null%20attributes%20in%20fhir-net-api/near/153886777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/null.20attributes.20in.20fhir-net-api.html#153886777">(May 03 2017 at 10:59)</a>:</h4>
<p>additionally, it calls DeepCopy() and then passes the result into the List constructor, so it's actually creating a copy of a copy</p>
<div class="codehilite"><pre><span></span>if(Relationship != null) dest.Relationship = new List&lt;Hl7.Fhir.Model.CodeableConcept&gt;(Relationship.DeepCopy());
</pre></div>



<a name="153886778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/null%20attributes%20in%20fhir-net-api/near/153886778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/null.20attributes.20in.20fhir-net-api.html#153886778">(May 03 2017 at 11:04)</a>:</h4>
<p>Ah no, not an efficiency issue, more like a consistency issue. List&lt;Resource&gt;.DeepCopy doesn't create a copy of the List, it returns a LINQ enumerable is based on the original object.</p>



<a name="153886865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/null%20attributes%20in%20fhir-net-api/near/153886865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/null.20attributes.20in.20fhir-net-api.html#153886865">(May 03 2017 at 19:52)</a>:</h4>
<p>I always check null or empty before enumerating list.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
