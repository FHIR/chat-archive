---
layout: page
title: "FHIR Chat  · Bundle request URLs · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20request.20URLs.html">Bundle request URLs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153915406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20request%20URLs/near/153915406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20request.20URLs.html#153915406">(Oct 23 2017 at 13:48)</a>:</h4>
<p><a href="https://www.hl7.org/fhir/bundle-request-simplesummary.xml.html" target="_blank" title="https://www.hl7.org/fhir/bundle-request-simplesummary.xml.html">https://www.hl7.org/fhir/bundle-request-simplesummary.xml.html</a></p>
<p>In most examples there is a leading slash in every query URL. E.g.:</p>
<div class="codehilite"><pre><span></span>&lt;url value=&quot;/Condition?patient=example&quot;/&gt;
</pre></div>


<p>HAPI-FHIR and Vonk will happily return the same response Bundle, regardless of the presence of a leading slash. In my mind the leading slash would mean I execute the query against the server hostname and not against the FHIR endpoint I'm posting too (they might be the same, but they usually aren't)</p>
<p>So suppose I post to <a href="http://test.fhir.org/r3" target="_blank" title="http://test.fhir.org/r3">http://test.fhir.org/r3</a> I would expect the query above to be executed as <a href="http://test.fhir.org/Condition?patient=example" target="_blank" title="http://test.fhir.org/Condition?patient=example">http://test.fhir.org/Condition?patient=example</a>. This is comparable to how web pages are rendered by a browser afaik. On <a href="http://test.fhir.org" target="_blank" title="http://test.fhir.org">test.fhir.org</a> I then expect an error because there is no FHIR server serving Condition resources at that URL.</p>
<p>1. How is it supposed to work?<br>
2. Is it "flexible" or a bug that leading slashes don't influence the response?</p>
<p>(Note: <a href="http://test.fhir.org" target="_blank" title="http://test.fhir.org">test.fhir.org</a> doesn't respond at all to the Bundle so something else is off there)</p>
<p><span class="user-mention" data-user-id="191334">@Marten Smits</span>, <span class="user-mention" data-user-id="192301">@Ardon Toonstra</span></p>



<a name="153915497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20request%20URLs/near/153915497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20request.20URLs.html#153915497">(Oct 23 2017 at 19:43)</a>:</h4>
<p>I think that looks like an error</p>



<a name="153916249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20request%20URLs/near/153916249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20request.20URLs.html#153916249">(Oct 26 2017 at 07:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  Which part? <a href="http://test.fhir.org" target="_blank" title="http://test.fhir.org">test.fhir.org</a> not responding or hapi/vonk responding the same way regardless of a leading slash in the path? Or both :-) ?</p>



<a name="153916258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20request%20URLs/near/153916258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20request.20URLs.html#153916258">(Oct 26 2017 at 09:55)</a>:</h4>
<p>accepting the slash at the start</p>



<a name="153916393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20request%20URLs/near/153916393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20request.20URLs.html#153916393">(Oct 27 2017 at 10:28)</a>:</h4>
<p>Well that's likely caused by the spec saying that in all examples we could find. Ticket?</p>



<a name="153916552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20request%20URLs/near/153916552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20request.20URLs.html#153916552">(Oct 27 2017 at 20:34)</a>:</h4>
<p>I think so</p>



<a name="153917195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20request%20URLs/near/153917195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20request.20URLs.html#153917195">(Nov 01 2017 at 18:42)</a>:</h4>
<p>I've read <a href="https://tools.ietf.org/html/rfc1808" target="_blank" title="https://tools.ietf.org/html/rfc1808">https://tools.ietf.org/html/rfc1808</a> about this and <span class="user-mention" data-user-id="191375">@Alexander Henket</span>s comment seems valid to me. However, the context of that rfc is mostly document retrieval, whereas this is about sending a document (Bundle in this case). In the retrieval context of the rfc it may be useful to use a relative path starting at the root, using the / at the start, since the programmer has control over what is in the tree of documents on the server.<br>
But in our case, does it make sense to do this at all. And as a consequence: Should we deviate from the rfc and not allow a slash at the start for any relative url in a Bundle - in order to avoid any confusion on how it might be processed?<br>
Currently in Vonk we simply ignore the leading slash and treat the url as relative to the endpoint the Bundle was sent to. (On the public Vonk endpoint that is equal to the host, that is a lucky coincidence).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
