---
layout: page
title: "FHIR Chat  · FHIR &amp; event sourcing · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20.26.20event.20sourcing.html">FHIR &amp; event sourcing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153869466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20%26%20event%20sourcing/near/153869466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20.26.20event.20sourcing.html#153869466">(Jan 30 2017 at 12:17)</a>:</h4>
<p>We think about architecture to support patient, physician and some other indices for big city. Event sourcing looks promising: so every EHR produce log of events about data changes and our service aggregates and  merges this streams into snapshots - FHIR Resources and serves by REST API. Question is about events format and granularity: <code>{patientCreated, resource json}</code> or on element level <code>{telecomChanged, patientid, from, to}</code>. Does anybody think about this? This seems similar to messaging, but on more lower level.</p>



<a name="153869477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20%26%20event%20sourcing/near/153869477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20.26.20event.20sourcing.html#153869477">(Jan 30 2017 at 14:21)</a>:</h4>
<p>Just thinking out loud: It seems you need to reflect the intent of the REST call: so a PUT updates all and needs full patient granularity, whereas a PATCH may need to have smaller granularity?</p>



<a name="153869505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20%26%20event%20sourcing/near/153869505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20.26.20event.20sourcing.html#153869505">(Jan 30 2017 at 15:15)</a>:</h4>
<p>One idea is to use transaction log (i've described in my post - <a href="https://medium.com/@niquola/fhir-history-transactions-subscriptions-70d4f04607e0#.dzqob7u0z" target="_blank" title="https://medium.com/@niquola/fhir-history-transactions-subscriptions-70d4f04607e0#.dzqob7u0z">https://medium.com/@niquola/fhir-history-transactions-subscriptions-70d4f04607e0#.dzqob7u0z</a>), which consists of transactions for everything - create patient, update, patch etc. And yes we need PATCH - for small changes and better merge process (less conflicts and data loss)</p>



<a name="153869507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20%26%20event%20sourcing/near/153869507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20.26.20event.20sourcing.html#153869507">(Jan 30 2017 at 15:20)</a>:</h4>
<p>We have introduced PATCH in the spec....</p>



<a name="153869508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20%26%20event%20sourcing/near/153869508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20.26.20event.20sourcing.html#153869508">(Jan 30 2017 at 15:20)</a>:</h4>
<p>Both as the PATCH http verb and the $patch operation!</p>



<a name="153869606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20%26%20event%20sourcing/near/153869606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20.26.20event.20sourcing.html#153869606">(Jan 31 2017 at 17:21)</a>:</h4>
<p>We've discussed PATCH Resource with <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  :)</p>



<a name="153870150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20%26%20event%20sourcing/near/153870150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20.26.20event.20sourcing.html#153870150">(Feb 06 2017 at 03:53)</a>:</h4>
<p>yes. implementation and write up coming today</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
