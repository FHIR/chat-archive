---
layout: page
title: "FHIR Chat  · ATNA AuditMessage to FHIR AuditEvent · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html">ATNA AuditMessage to FHIR AuditEvent</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="214874235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/214874235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Veliyan Georgiev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#214874235">(Oct 28 2020 at 17:52)</a>:</h4>
<p>Hello experts. I was wondering if any of you have had the need to translate ATNA (DICOM) AuditMessage to FHIR AuditEvent. The mapping is here <a href="https://www.hl7.org/fhir/auditevent-mappings.html#dicom">https://www.hl7.org/fhir/auditevent-mappings.html#dicom</a> but I'm curious if someone has actually done it and potential feedback associated with it.</p>



<a name="214875144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/214875144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#214875144">(Oct 28 2020 at 17:57)</a>:</h4>
<p>Have you looked at the <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RESTful-ATNA.pdf">IHE supplements using AuditEvent</a>?</p>



<a name="214877440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/214877440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#214877440">(Oct 28 2020 at 18:13)</a>:</h4>
<p>If you have recommendations, I would be glad to field them. I manage the specifications in IHE, HL7, and DICOM on this topic.</p>



<a name="214884689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/214884689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Veliyan Georgiev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#214884689">(Oct 28 2020 at 19:14)</a>:</h4>
<p>so ... here is my challenge..and it is probably more technical than anything else. For legacy apps (non-FHIR) we use ATNA (DICOM) AuditMessage.. for FHIR ones -&gt; FHIR AuditEvent. The challenge with the ATNA one is parsing it out later. Here is an example -&gt; in a hosted AWS app those events are generated from a K8S cluster/pod through stdout (which BTW there is a 16K limit on a container stdout entry that is a separate topic) and then picked up and stored in CloudWatch. The tools that are available are notoriously bad when dealing with XML (i.e. Grok, Regex etc). The options are -&gt; 1. do ETL in the cloud (it will cost money) or convert from ATNA to FHIR JSON (either via transform or directly from code. <br>
So nothing wrong with the spec/standard really - just curious if someone has tried to convert ATNA to FHIR and how well it went. I;'m trying to avoid having the non FHIR apps change internal logic to generate FHIR events when they already have code to generate ATNA</p>



<a name="214905128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/214905128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#214905128">(Oct 28 2020 at 22:24)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> may have done that</p>



<a name="214905193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/214905193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#214905193">(Oct 28 2020 at 22:25)</a>:</h4>
<p>you might also find some help on the IHE discussion forums - like <a href="https://groups.google.com/g/ihe-xds-implementors">https://groups.google.com/g/ihe-xds-implementors</a></p>



<a name="215710460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/215710460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Veliyan Georgiev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#215710460">(Nov 05 2020 at 13:26)</a>:</h4>
<p>I couldn't find what i needed  so I decided to write a library yesterday. It is here currently but I'll put it on NPM soon <a href="https://github.com/upmc-enterprises/ATNA2FHIR">https://github.com/upmc-enterprises/ATNA2FHIR</a><br>
I started validating the generated resource and I'm having a predicament with ".recorded" The instructions here <a href="https://www.hl7.org/fhir/auditevent-mappings.html#dicom">https://www.hl7.org/fhir/auditevent-mappings.html#dicom</a> don't have anything on it but it is a required field. I see the case for being a timestamp when the event is generated but why not being the same as ".period" - equal to the DICOM's EventDateTime since it is mapped?</p>



<a name="215712849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/215712849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#215712849">(Nov 05 2020 at 13:46)</a>:</h4>
<p>the concept of .recorded is not found in the DICOM schema. you could replicate the eventDateTime, but it is not the same concept. I would expect your tooling would just set .recorded to the time that you are creating the FHIR AuditEvent instance... as that is more aligned with the meaning of .recorded.</p>



<a name="215712960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/215712960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#215712960">(Nov 05 2020 at 13:47)</a>:</h4>
<p>I would very much like to promote your open source project on this.  thanks for doing this</p>



<a name="215714385"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/215714385" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Veliyan Georgiev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#215714385">(Nov 05 2020 at 13:58)</a>:</h4>
<p>That makes sense. Thanks John. Much appreciated. I could use a sanity check when it is somewhat done in the next few days.</p>



<a name="216273356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/216273356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Veliyan Georgiev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#216273356">(Nov 10 2020 at 20:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  npm install @upmc-enterprises/atna2fhir     promote away :-)</p>



<a name="216274693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/216274693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#216274693">(Nov 10 2020 at 21:08)</a>:</h4>
<p>could you describe in the readme what problem this is trying to solve? I would like to promote something that is self promoting.</p>



<a name="216449593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/216449593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#216449593">(Nov 12 2020 at 10:17)</a>:</h4>
<p>i did it once but the code is long gone</p>



<a name="216472384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ATNA%20AuditMessage%20to%20FHIR%20AuditEvent/near/216472384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Veliyan Georgiev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ATNA.20AuditMessage.20to.20FHIR.20AuditEvent.html#216472384">(Nov 12 2020 at 14:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  readme updated and added bunch of more mappings. Thanks for the feedback. Keep it coming</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
