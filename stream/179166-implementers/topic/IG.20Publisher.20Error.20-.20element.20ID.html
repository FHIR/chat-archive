---
layout: page
title: "FHIR Chat  · IG Publisher Error - element ID · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html">IG Publisher Error - element ID</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153896954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153896954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nakamura <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153896954">(Jul 14 2017 at 17:56)</a>:</h4>
<p>Hello,</p>
<p>Using the latest org.hl7.fhir.igpublisher.jar downloaded from <a href="http://hl7.org/fhir/downloads.html" target="_blank" title="http://hl7.org/fhir/downloads.html">http://hl7.org/fhir/downloads.html</a>, the below error has been appearing when running the IG Publisher.  </p>
<p>"All element definitions must have an id [snapshot.element.all(id.exists()) and differential.element.all(id.exists())]:"</p>
<p>I have attached .zip file containing the full export package from Trifolia.</p>
<p>Any guidance you can  provide on how to resolve this error would be greatly appreciated.</p>
<p>Thank you,</p>
<p>Meenaxi Gosai<br>
QA Analyst/Engineer<br>
Lantana Consulting Group<br>
t: 360.450.0545<br>
Maple Ridge—BC PST</p>
<p><a href="/user_uploads/10155/5kkmzalxGe5mPn_r0daHhn2Z/C-CDA-on-FHIR.zip" target="_blank" title="C-CDA-on-FHIR.zip">C-CDA-on-FHIR.zip</a></p>



<a name="153896955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153896955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153896955">(Jul 14 2017 at 18:09)</a>:</h4>
<p>Is it possible that the snapshot generation (based on differential) is not adding in the element/@id? We have included element/@id in the differential that we generate, but when we run it through the ig publisher we still get this error message...</p>



<a name="153896956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153896956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153896956">(Jul 14 2017 at 18:10)</a>:</h4>
<p>Also note, we were not receiving this error in previous versions of the ig publisher (earlier this week) when we did NOT include element/@id</p>



<a name="153896964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153896964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153896964">(Jul 14 2017 at 18:53)</a>:</h4>
<p>First step is to try the most recent publisher: <a href="http://build.fhir.org/org.hl7.fhir.igpublisher.jar" target="_blank" title="http://build.fhir.org/org.hl7.fhir.igpublisher.jar">http://build.fhir.org/org.hl7.fhir.igpublisher.jar</a></p>



<a name="153896965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153896965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153896965">(Jul 14 2017 at 18:53)</a>:</h4>
<p>If the problem still exists, let me know and I'll try to dig.</p>



<a name="153897074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nakamura <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897074">(Jul 17 2017 at 13:32)</a>:</h4>
<p>Hello Lloyd,</p>
<p>Thank you for your response.  I downloaded the most recent publisher and re-ran the IG Publisher process, but unfortunately, the element error still appears related to all structure definitions.</p>
<p>Also, a new error is appearing related to composition extensions within the examples with the latest version of the publisher that was not there in previous versions.</p>
<div class="codehilite"><pre><span></span> &quot;Error at 1, 1: Premature ExpressionNode termination at unexpected token &quot;type&quot;.
</pre></div>


<p>Best Regards,</p>
<p>Meenaxi Gosai<br>
QA Analyst/Engineer<br>
Lantana Consulting Group<br>
t: 360.450.0545<br>
Maple Ridge—BC PST</p>



<a name="153897086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897086">(Jul 17 2017 at 15:20)</a>:</h4>
<p>I took a quick look at CCDA-on-FHIR-Authorization.xml.  You have an id attribute specified on the root element but not on any of the others and the id that is specified isn't valid as per the rules for id.  My guess is that the tool is either trying to use your id and choking or presuming all elements will have an id because you have one on the first element.  There should either be no ids or they should all be present and all be correct (using the path + slicename syntax)</p>



<a name="153897087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897087">(Jul 17 2017 at 15:22)</a>:</h4>
<p>Another error here. I've got a StructureDefinition containing the following:<br>
    &lt;element id="Composition.subject"&gt;<br>
      &lt;path value="Composition.subject" /&gt;<br>
      &lt;type&gt;<br>
        &lt;code value="Reference" /&gt;<br>
        &lt;targetProfile value="<a href="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient" target="_blank" title="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient">http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient</a>" /&gt;<br>
      &lt;/type&gt;<br>
    &lt;/element&gt;</p>
<p>However, when I run the IG publisher the differential (and snapshot for that matter) show the following in the generated HTML:</p>
<p>subject  Σ 1..1 Reference(Resource)</p>
<p>The StructureDefinition in question can be found here:<br>
<a href="https://github.com/HL7/ccda-on-fhir/blob/master/resources/structuredefinition/CCDA-on-FHIR-US-Realm-Header.xml" target="_blank" title="https://github.com/HL7/ccda-on-fhir/blob/master/resources/structuredefinition/CCDA-on-FHIR-US-Realm-Header.xml">https://github.com/HL7/ccda-on-fhir/blob/master/resources/structuredefinition/CCDA-on-FHIR-US-Realm-Header.xml</a></p>



<a name="153897088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897088">(Jul 17 2017 at 15:26)</a>:</h4>
<p>That's very weird.  If you can send me a version of the IG that has the id issue fixed, I'll try running it through the debuggers and see if I can figure out the other issues.</p>



<a name="153897092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897092">(Jul 17 2017 at 15:32)</a>:</h4>
<p>I'll remove the offending IDs and check them into github after my next call.</p>



<a name="153897094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897094">(Jul 17 2017 at 15:34)</a>:</h4>
<p>how is your config file set up?</p>



<a name="153897095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897095">(Jul 17 2017 at 15:35)</a>:</h4>
<p>i.e., ig.json</p>



<a name="153897099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897099">(Jul 17 2017 at 16:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I removed the offending id attributes and checked everything back into github. <br>
<span class="user-mention" data-user-id="191401">@Eric Haas</span> All the files (including the config file) are in github here:<br>
<a href="https://github.com/HL7/ccda-on-fhir" target="_blank" title="https://github.com/HL7/ccda-on-fhir">https://github.com/HL7/ccda-on-fhir</a></p>
<p>The ig.json file is called C-CDA_on_FHIR.json. Should it be renamed to ig.json? Not sure if that is important or not.</p>



<a name="153897107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897107">(Jul 17 2017 at 17:26)</a>:</h4>
<p>I think that the web-hook thingy looks for ig.json.  I have never named it anything else.  <span class="user-mention" data-user-id="191315">@Josh Mandel</span> ?</p>



<a name="153897108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897108">(Jul 17 2017 at 17:29)</a>:</h4>
<p>Ok, renamed to ig.json and committed.</p>



<a name="153897124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Nakamura <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897124">(Jul 17 2017 at 20:00)</a>:</h4>
<p>Hello Lloyd,</p>
<p>Sean updated Trifolia to remove all of the "&lt;element id=", and I exported a new FHIR Build Package from Trifolia (attached to this ticket) and confirmed the resources folder contained no files with "&lt;element id=".  </p>
<p>Unfortunately, When I ran the IG Publisher,  the "error All element definitions must have an id [snapshot.element.all(id.exists()) and differential.element.all(id.exists())]" still persists.  </p>
<p>Please advise,</p>
<p>Thank you,</p>
<p>Meenaxi Gosai<a href="/user_uploads/10155/75knxetLxigKFUuUtapUHiLn/C-CDA-on-FHIR.zip" target="_blank" title="C-CDA-on-FHIR.zip">C-CDA-on-FHIR.zip</a></p>



<a name="153897127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897127">(Jul 17 2017 at 20:09)</a>:</h4>
<p>I can verify what Meenaxi said, but after some digging I think it is a legit error. </p>
<p>Per <a href="http://hl7.org/fhir/structuredefinition.html" target="_blank" title="http://hl7.org/fhir/structuredefinition.html">http://hl7.org/fhir/structuredefinition.html</a><br>
sdf-16: All element definitions must have unique ids (snapshot) (expression : snapshot.element.id.trace('ids').isDistinct())<br>
sdf-17: All element definitions must have unique ids (diff) (expression : differential.element.id.trace('ids').isDistinct())</p>
<p>So I don't think it is legal to have no id attributes on ElementDefintions.</p>



<a name="153897148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897148">(Jul 17 2017 at 20:36)</a>:</h4>
<p>Dang... this means I need to add them back in</p>



<a name="153897167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153897167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153897167">(Jul 18 2017 at 02:44)</a>:</h4>
<p>I have IG files without it, but they're 2.0 resources, so that may be why it's not complaining.  If you add them, make sure you use the correct values for them.</p>



<a name="153898027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153898027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153898027">(Jul 25 2017 at 07:55)</a>:</h4>
<p>so is this sorted? I'm back on deck properly and trying to catch up</p>



<a name="153898061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153898061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153898061">(Jul 25 2017 at 12:23)</a>:</h4>
<p>Yes, the spec seems to require them, so for C-CDA on FHIR I opened the files in Forge and it added the IDs where they were missing. We will update Trifolia to include them from now on (and to be in the correct path:slice format).</p>



<a name="153898062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153898062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153898062">(Jul 25 2017 at 12:24)</a>:</h4>
<p>the publisher should just auto-populate them</p>



<a name="153898063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20Error%20-%20element%20ID/near/153898063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20Error.20-.20element.20ID.html#153898063">(Jul 25 2017 at 12:24)</a>:</h4>
<p>on both differential and snapshot</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
