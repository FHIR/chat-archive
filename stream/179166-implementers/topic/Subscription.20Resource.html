---
layout: page
title: "FHIR Chat  · Subscription Resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html">Subscription Resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153978342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20Resource/near/153978342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Justin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html#153978342">(Jul 26 2018 at 13:27)</a>:</h4>
<p>Hey guys, working on a rest-hook subscription on a few test servers but getting no luck with it succeeding to reach my endpoint (my endpoint takes the resource and passes it to a staging area in my DB). I have been putting 2 subscription resources into these test servers, the rest-hook, and email channels so I know if i get an email but no data in my staging area that something is wrong with the endpoint but no luck on either. Can anyone help?</p>



<a name="153978343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20Resource/near/153978343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html#153978343">(Jul 26 2018 at 13:41)</a>:</h4>
<p>Try retrieving the subscription resource you've put up and see if what is it's status - should be <code>active</code>, hopefully not <code>error</code></p>



<a name="153978346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20Resource/near/153978346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Justin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html#153978346">(Jul 26 2018 at 13:53)</a>:</h4>
<p>for the 2 in my own <a href="http://hspconsortium.org" target="_blank" title="http://hspconsortium.org">hspconsortium.org</a> test instance they are listed as <code>active</code> and for the 2 I have in the <a href="https://api-stu3.hspconsortium.org/STU301withSynthea/open" target="_blank" title="https://api-stu3.hspconsortium.org/STU301withSynthea/open">https://api-stu3.hspconsortium.org/STU301withSynthea/open</a> they are listed as <code>requested</code></p>
<p>This is my Resource for the email channel:</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;Subscription&quot;,
  &quot;status&quot;: &quot;requested&quot;,
  &quot;contact&quot;: [
    {
      &quot;system&quot;: &quot;phone&quot;,
      &quot;value&quot;: &quot;7#######00&quot;
    }
  ],
  &quot;end&quot;: &quot;2021-01-01T00:00:00Z&quot;,
  &quot;reason&quot;: &quot;Monitor New and Updated Encounters&quot;,
  &quot;criteria&quot;: &quot;Encounter?status=arrived&amp;_format=json&quot;,
  &quot;channel&quot;: {
    &quot;type&quot;: &quot;email&quot;,
    &quot;endpoint&quot;: &quot;mailto:justin.loverme@email.com&quot;,
    &quot;header&quot;: &quot;New Encounter Arrived.&quot;
  },
  &quot;tag&quot;: [
    {
      &quot;system&quot;: &quot;https://test.azurewebsites.net&quot;,
      &quot;code&quot;: &quot;Test&quot;
    }
  ]
}
</pre></div>



<a name="153978354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20Resource/near/153978354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Justin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html#153978354">(Jul 26 2018 at 14:09)</a>:</h4>
<p>and for the rest-hook:</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;Subscription&quot;,
  &quot;status&quot;: &quot;requested&quot;,
  &quot;contact&quot;: [
    {
      &quot;system&quot;: &quot;phone&quot;,
      &quot;value&quot;: &quot;7#######00&quot;
    }
  ],
  &quot;end&quot;: &quot;2021-01-01T00:00:00Z&quot;,
  &quot;reason&quot;: &quot;Monitor New and Updated Encounters&quot;,
  &quot;criteria&quot;: &quot;Encounter?status=arrived&amp;_format=json&quot;,
  &quot;channel&quot;: {
    &quot;type&quot;: &quot;rest-hook&quot;,
    &quot;endpoint&quot;: &quot;https://test.azurewebsites.net/Fhir/FhirController&quot;,
    &quot;payload&quot;: &quot;application/fhir+json&quot;
  },
  &quot;tag&quot;: [
    {
      &quot;system&quot;: &quot;https://test.azurewebsites.net&quot;,
      &quot;code&quot;: &quot;Test&quot;
    }
  ]
}
</pre></div>



<a name="153978620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20Resource/near/153978620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html#153978620">(Jul 27 2018 at 06:20)</a>:</h4>
<p><span class="user-mention" data-user-id="196470">@Justin</span> posting it to <code>https://vonk.fire.ly/administration/Subscription</code> reveals:</p>
<div class="codehilite"><pre><span></span>    <span class="s2">&quot;issue&quot;</span><span class="err">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;severity&quot;</span><span class="p">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
            <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;invalid&quot;</span><span class="p">,</span>
            <span class="nt">&quot;details&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;coding&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/dotnet-api-operation-outcome&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;5002&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Criteria is not a valid in this subscription&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
</pre></div>


<p>Better use <code>"Encounter?status=arrived"</code> as remember <code>_format=json</code> isn't part of search. Fixing that up, your subscription works!</p>



<a name="153978656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20Resource/near/153978656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Justin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html#153978656">(Jul 27 2018 at 12:41)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191363">@Vadim Peretokin</span> ! And how do I get a Subscription to go from requested status to active?</p>



<a name="153978657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20Resource/near/153978657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html#153978657">(Jul 27 2018 at 12:42)</a>:</h4>
<p><span class="user-mention" data-user-id="196470">@Justin</span> the server automatically does it - try posting your example above to Vonk and <code>GET</code> it straight after</p>



<a name="153978658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Subscription%20Resource/near/153978658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Justin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Subscription.20Resource.html#153978658">(Jul 27 2018 at 12:42)</a>:</h4>
<p>Yes I see that now! Thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
