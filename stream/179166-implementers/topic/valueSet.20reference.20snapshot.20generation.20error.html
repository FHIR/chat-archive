---
layout: page
title: "FHIR Chat  · valueSet reference snapshot generation error · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html">valueSet reference snapshot generation error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="180134554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/valueSet%20reference%20snapshot%20generation%20error/near/180134554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html#180134554">(Nov 07 2019 at 14:02)</a>:</h4>
<p>The following profile snippit is generated using Forge for STU3.<br>
<code>&lt;element id="Observation.code"&gt;
    &lt;path value="Observation.code" /&gt;
    &lt;binding&gt;
        &lt;strength value="required" /&gt;
        &lt;valueSetReference&gt;
           &lt;reference value="https://www.fhir.philips.com/3.0/ValueSet/common/core/laboratory-v1/biochemistry/valueset/list-Biochemistry-type-codes" /&gt;
        &lt;/valueSetReference&gt;
    &lt;/binding&gt;   
&lt;/element&gt;</code></p>
<p>When I try to validate it I get the following error I use version 4.0.31-SNAPSHOT of the validator.</p>
<p><code>Exception in thread "main" org.hl7.fhir.exceptions.FHIRFormatError: Unknown Content valueSetReference @  START_TAG seen ...&lt;strength value="required" /&gt;\n        &lt;valueSetReference&gt;... @18:28</code> </p>
<p>I did check the url and this is the same as in the valueset. <br>
What should I change to make it validate correctly.</p>



<a name="180144327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/valueSet%20reference%20snapshot%20generation%20error/near/180144327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html#180144327">(Nov 07 2019 at 15:42)</a>:</h4>
<p>Have you told the validator you're using STU3 (using the -version parameter)?  If you don't specify a version, it's going to presume you're using the current release.</p>



<a name="180214093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/valueSet%20reference%20snapshot%20generation%20error/near/180214093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html#180214093">(Nov 08 2019 at 09:27)</a>:</h4>
<p>Thank you for the quick response <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  the error occurs when generating a snapshot.<br>
This is the full output with the arguments that I use:<br>
<code>FHIR Validation tool Version 4.0.31-SNAPSHOT - Built 2019-11-05T15:35:39.648+11:00 - Git a0ece162e77c
Detected Java version: 13.0.1 from /usr/java/openjdk-13 on amd64 (64bit). 1990MB available
Arguments: Biochemistry.structuredefinition.xml -version 3.0 -snapshot -output /usr/data/npmpackage/package_snapshots/Biochemistry.structuredefinition.xml
Directories: Current = /usr/data/npmpackage/package, Package Cache = /root/.fhir/packages
  .. connect to tx server @ http://tx.fhir.org
  .. definitions from hl7.fhir.r3.core#3.0.2
Installing hl7.fhir.r3.core#3.0.2 to the package cache
  Fetching:............................................................................................................
  ...................................................................|.......................................................................................
  Analysing................................................................................ done.
    (v3.0.2)
Exception in thread "main" org.hl7.fhir.exceptions.FHIRFormatError: Unknown Content valueSetReference @  START_TAG seen ...&lt;strength value="required" /&gt;\r\n        &lt;valueSetReference&gt;... @18:28</code></p>



<a name="180245966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/valueSet%20reference%20snapshot%20generation%20error/near/180245966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html#180245966">(Nov 08 2019 at 16:28)</a>:</h4>
<p>Weird.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="180356890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/valueSet%20reference%20snapshot%20generation%20error/near/180356890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html#180356890">(Nov 10 2019 at 10:01)</a>:</h4>
<p>getting to this... where would I find Biochemistry.structuredefinition.xml ?</p>



<a name="180425543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/valueSet%20reference%20snapshot%20generation%20error/near/180425543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html#180425543">(Nov 11 2019 at 14:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I sended you the profiles for biochemistry via e-mail.</p>



<a name="180464346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/valueSet%20reference%20snapshot%20generation%20error/near/180464346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html#180464346">(Nov 11 2019 at 22:07)</a>:</h4>
<p>ok fixed next release</p>



<a name="180603074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/valueSet%20reference%20snapshot%20generation%20error/near/180603074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/valueSet.20reference.20snapshot.20generation.20error.html#180603074">(Nov 13 2019 at 08:39)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> for the fix.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
