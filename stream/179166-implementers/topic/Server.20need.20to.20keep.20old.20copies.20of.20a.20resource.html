---
layout: page
title: "FHIR Chat  · Server need to keep old copies of a resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Server.20need.20to.20keep.20old.20copies.20of.20a.20resource.html">Server need to keep old copies of a resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153897131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Server%20need%20to%20keep%20old%20copies%20of%20a%20resource/near/153897131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Server.20need.20to.20keep.20old.20copies.20of.20a.20resource.html#153897131">(Jul 17 2017 at 20:11)</a>:</h4>
<p>If I update a resource, is the old version instance of that resource still present on the server? If so, can I GET it?</p>
<p>Or does the update REPLACE the existing resource with the new content and the old resource is no longer obtainable.</p>
<p>Its not clear in the spec ... to much about version numbers and not actual content</p>



<a name="153897139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Server%20need%20to%20keep%20old%20copies%20of%20a%20resource/near/153897139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Server.20need.20to.20keep.20old.20copies.20of.20a.20resource.html#153897139">(Jul 17 2017 at 20:21)</a>:</h4>
<p>This depends on the server implementation, but the FHIR-way is to keep all historical versions: <a href="http://www.hl7.org/fhir/STU3/http.html#history" target="_blank" title="http://www.hl7.org/fhir/STU3/http.html#history">http://www.hl7.org/fhir/STU3/http.html#history</a></p>



<a name="153897142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Server%20need%20to%20keep%20old%20copies%20of%20a%20resource/near/153897142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Server.20need.20to.20keep.20old.20copies.20of.20a.20resource.html#153897142">(Jul 17 2017 at 20:27)</a>:</h4>
<blockquote>
<p>This depends on the server implementation, but the FHIR-way is to keep all historical versions: <a href="http://www.hl7.org/fhir/STU3/http.html#history" target="_blank" title="http://www.hl7.org/fhir/STU3/http.html#history">http://www.hl7.org/fhir/STU3/http.html#history</a></p>
</blockquote>
<p>Igor, so following the FHIR way if I make 300 updates of a resource, all 300 resources exist on the server just as if I had done 300 creates. Is that correct? Just trying to understand what this sentence means</p>
<p>The principal reason a resource might be missing is that the resource was changed by some other channel rather than via the RESTful interface. If the entry.request.method is a PUT or a POST, the entry SHALL contain a resource.</p>



<a name="153897144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Server%20need%20to%20keep%20old%20copies%20of%20a%20resource/near/153897144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Server.20need.20to.20keep.20old.20copies.20of.20a.20resource.html#153897144">(Jul 17 2017 at 20:32)</a>:</h4>
<p>Yes, I believe you would store all versions of the resource, though for update-intensive systems, rom the pragmatic architecture approach (and depending on your business requirements), you might to implement this differently.</p>



<a name="153897145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Server%20need%20to%20keep%20old%20copies%20of%20a%20resource/near/153897145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Server.20need.20to.20keep.20old.20copies.20of.20a.20resource.html#153897145">(Jul 17 2017 at 20:34)</a>:</h4>
<p>"2.21.0.7 Support for Versions" says "Servers that support this API SHOULD provide full version support" - note that this is SHOULD rather than SHALL</p>



<a name="153897147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Server%20need%20to%20keep%20old%20copies%20of%20a%20resource/near/153897147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Server.20need.20to.20keep.20old.20copies.20of.20a.20resource.html#153897147">(Jul 17 2017 at 20:35)</a>:</h4>
<p>Also, "However, many current operational systems do not do this, and cannot easily be re-engineered to do so... For this reason, servers are allowed to not provide versioning support and this API does not enforce that versioning is supported."</p>



<a name="153897149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Server%20need%20to%20keep%20old%20copies%20of%20a%20resource/near/153897149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Server.20need.20to.20keep.20old.20copies.20of.20a.20resource.html#153897149">(Jul 17 2017 at 20:37)</a>:</h4>
<blockquote>
<p>Also, "However, many current operational systems do not do this, and cannot easily be re-engineered to do so... For this reason, servers are allowed to not provide versioning support and this API does not enforce that versioning is supported."</p>
</blockquote>
<p><span class="user-mention" data-user-id="191393">@Igor Sirkovich</span>  Thank you. That clarifies it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
