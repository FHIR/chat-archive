---
layout: page
title: "FHIR Chat  · SearchParameter clarification · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SearchParameter.20clarification.html">SearchParameter clarification</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227569939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SearchParameter%20clarification/near/227569939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SearchParameter.20clarification.html#227569939">(Feb 24 2021 at 09:23)</a>:</h4>
<p>Can someone give me a bit of help with creating SearchParameters, I'm looking at some published examples but I'm struggling...</p>
<p>If I take a look at  <a href="http://www.hl7.org/fhir/us/core/SearchParameter-us-core-ethnicity.html">http://www.hl7.org/fhir/us/core/SearchParameter-us-core-ethnicity.html</a> this defines a SP against a complex extension.<br>
What I can't see is how the expression is targeting the specific inner extension, the expression used is:</p>
<div class="codehilite"><pre><span></span><code>Patient.extension.where(url = &#39;http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity&#39;).extension.value.code
</code></pre></div>
<p>My particular use case is just for a "simple" extension with a single CodeableConcept element. So if I have extension <a href="http://acme.org/myExtension">http://acme.org/myExtension</a> do I use a path along the lines of </p>
<div class="codehilite"><pre><span></span><code>Patient.extension.where(url = &#39; http://acme.org/myExtension&#39;).extension.value.code
</code></pre></div>
<p>or simply</p>
<div class="codehilite"><pre><span></span><code>Patient.extension.where(url = &#39; http://acme.org/myExtension&#39;)
</code></pre></div>
<p>thanks.</p>



<a name="227607855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SearchParameter%20clarification/near/227607855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SearchParameter.20clarification.html#227607855">(Feb 24 2021 at 14:39)</a>:</h4>
<p>It looks like it's <em>not</em> targeting a specific inner extension - as specified, it's searching on all of the children.  If you wanted a specific child, you'd need a where clause on the inner .extension as well that filtered by URL (which could be a simple URL if you were looking for a component of a complex extension)  For a simple extension with a CodeableConcept, it'd just be Patient.extension.where(url='http://acme.org/myExtension').value if your search type is 'token'.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
