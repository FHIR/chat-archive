---
layout: page
title: "FHIR Chat  · org.hl7.fhir.validator.jar vs validator_cli.jar · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html">org.hl7.fhir.validator.jar vs validator_cli.jar</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="206108961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206108961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Gutknecht <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206108961">(Aug 06 2020 at 06:34)</a>:</h4>
<p>Hello, </p>
<p><a href="http://hl7.org/fhir/validator/">http://hl7.org/fhir/validator/</a> include two links.</p>
<ul>
<li>Download the validator under <a href="https://storage.googleapis.com/ig-build/org.hl7.fhir.validator.jar">https://storage.googleapis.com/ig-build/org.hl7.fhir.validator.jar</a> that gives you org.hl7.fhir.validator.jar</li>
<li>Validator Documentation that is linked to confluence <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></li>
</ul>
<p>But in confluence there is also a link to download the latest version of the validator that is different<br>
<a href="https://github.com/hapifhir/org.hl7.fhir.core/releases/latest/download/validator_cli.jar">https://github.com/hapifhir/org.hl7.fhir.core/releases/latest/download/validator_cli.jar</a> it gives you validator_cli.jar</p>
<p>And It strange because I can validate this json <a href="/user_uploads/10155/NSjIPiRUQ-F6c9o_W6UX8pR-/mni-patientOverview-bundle-example1b.json">mni-patientOverview-bundle-example1b.json</a> with org.hl7.fhir.validator.jar<br>
using command line java -Duser.language=en -jar org.hl7.fhir.validator.jar mni-patientOverview-bundle-example1.json -version 4.0 -ig <a href="https://mednet.swiss/fhir">https://mednet.swiss/fhir</a></p>
<p>But when I use validator_cli.jar with the same command line it returns me a Nullpointer exception,<br>
below the stack trace:</p>
<p>fhir<br>
FHIR Validation tool Version 5.0.18 (Git# 18cf563e7875). Built 2020-08-03T21:07:57.905Z (57 hours old)<br>
Detected Java version: 10.0.2 from C:\Program Files\Java\jre-10.0.2 on amd64 (64bit). 2026MB available<br>
Arguments: mni-patientOverview-bundle-example1.json -version 4.0 -ig <a href="https://mednet.swiss/fhir">https://mednet.swiss/fhir</a><br>
Directories: Current = C:\Users\david.gutknecht.NOVCOM\Documents\Projects\mednet\interface-documentation\FHIR\ImplementationGuide, Package Cache = C:\Users\david.gutknecht.NOVCOM\.fhir\packages<br>
  .. FHIR Version 4.0, definitions from hl7.fhir.r4.core#4.0.1<br>
  .. connect to tx server @ <a href="http://tx.fhir.org">http://tx.fhir.org</a><br>
    (v4.0.1)</p>
<ul>
<li>.. load IG from <a href="https://mednet.swiss/fhir">https://mednet.swiss/fhir</a></li>
<li>.. load IG from ch.fhir.ig.ch-core#1.0.0</li>
<li>.. load IG from ch.fhir.ig.ch-epr-term#current</li>
<li>.. load IG from ch.fhir.ig.ch-epr-term#2.0.3</li>
<li>.. load IG from ch.fhir.ig.ch-emed#0.1.0</li>
<li>.. load IG from ch.fhir.ig.ch-core#current<br>
  .. validate [mni-patientOverview-bundle-example1.json]<br>
Terminology server: Check for supported code systems for <a href="http://loinc.org">http://loinc.org</a><br>
Validation Infrastructure fail validating mni-patientOverview-bundle-example1.json: null<br>
Exception in thread "main" org.hl7.fhir.exceptions.FHIRException: java.lang.NullPointerException<br>
        at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1263)<br>
        at org.hl7.fhir.validation.cli.services.ValidationService.validateSources(ValidationService.java:73)<br>
        at org.hl7.fhir.validation.Validator.main(Validator.java:208)<br>
Caused by: java.lang.NullPointerException<br>
        at org.hl7.fhir.utilities.cache.BasePackageCacheManager.getPackageId(BasePackageCacheManager.java:138)<br>
        at org.hl7.fhir.utilities.cache.BasePackageCacheManager.getPackageId(BasePackageCacheManager.java:121)<br>
        at org.hl7.fhir.utilities.cache.FilesystemPackageCacheManager.getPackageId(FilesystemPackageCacheManager.java:534)<br>
        at org.hl7.fhir.validation.cli.services.StandAloneValidatorFetcher.resolveURL(StandAloneValidatorFetcher.java:65)<br>
        at org.hl7.fhir.validation.ValidationEngine.resolveURL(ValidationEngine.java:1882)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.checkPrimitive(InstanceValidator.java:1864)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4003)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:3867)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4130)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:3867)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.startInner(InstanceValidator.java:3610)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.start(InstanceValidator.java:3497)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateResource(InstanceValidator.java:4595)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.checkReference(InstanceValidator.java:2422)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4024)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:3867)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.startInner(InstanceValidator.java:3610)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.start(InstanceValidator.java:3521)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateResource(InstanceValidator.java:4595)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateContains(InstanceValidator.java:3767)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4038)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:3867)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4055)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:3867)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.startInner(InstanceValidator.java:3610)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.start(InstanceValidator.java:3497)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validateResource(InstanceValidator.java:4595)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validate(InstanceValidator.java:685)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.validate(InstanceValidator.java:538)<br>
        at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1352)<br>
        at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1256)<br>
        ... 2 more</li>
</ul>
<p>Any idea ?</p>



<a name="206109179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206109179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Gutknecht <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206109179">(Aug 06 2020 at 06:39)</a>:</h4>
<p>Maybe I found a part of the answer:<br>
validator_cli.jar return : FHIR Validation tool Version 5.0.18 (Git# 18cf563e7875). Built 2020-08-03T21:07:57.905Z (57 hours old)<br>
org.hl7.fhir.validator.jar returns : FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (60 days old)</p>



<a name="206109320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206109320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206109320">(Aug 06 2020 at 06:42)</a>:</h4>
<p>the newer one linked from confluence is the latest one (validator_cli.jar)</p>



<a name="206109352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206109352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206109352">(Aug 06 2020 at 06:43)</a>:</h4>
<p>can you refer to your ig locally? I assume the validator does not know hot resolve your ig <a href="https://mednet.swiss/fhir">https://mednet.swiss/fhir</a> locally</p>



<a name="206109361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206109361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Gutknecht <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206109361">(Aug 06 2020 at 06:43)</a>:</h4>
<p>This would mean that validator_cli generates some nullpointer exception</p>



<a name="206109499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206109499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206109499">(Aug 06 2020 at 06:46)</a>:</h4>
<p>yes it looks like it cannot resolve a fhir ig package</p>



<a name="206109618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206109618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Gutknecht <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206109618">(Aug 06 2020 at 06:49)</a>:</h4>
<p><a href="https://mednet.swiss/fhir">https://mednet.swiss/fhir</a> is valid, and works with the older version of the validator<br>
I just tryed with following command line :<br>
java -Duser.language=en -jar validator_cli.jar mni-patientOverview-bundle-example1.json -version 4.0 -ig output/ <br>
Same result</p>
<p>Validation Infrastructure fail validating mni-patientOverview-bundle-example1.json: null<br>
Exception in thread "main" org.hl7.fhir.exceptions.FHIRException: java.lang.NullPointerException<br>
        at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1263)<br>
        at org.hl7.fhir.validation.cli.services.ValidationService.validateSources(ValidationService.java:73)<br>
        at org.hl7.fhir.validation.Validator.main(Validator.java:208)<br>
Caused by: java.lang.NullPointerException<br>
        at org.hl7.fhir.utilities.cache.BasePackageCacheManager.getPackageId(BasePackageCacheManager.java:138)<br>
        at org.hl7.fhir.utilities.cache.BasePackageCacheManager.getPackageId(BasePackageCacheManager.java:121)<br>
        at org.hl7.fhir.utilities.cache.FilesystemPackageCacheManager.getPackageId(FilesystemPackageCacheManager.java:534)<br>
        at org.hl7.fhir.validation.cli.services.StandAloneValidatorFetcher.resolveURL(StandAloneValidatorFetcher.java:65)<br>
        at org.hl7.fhir.validation.ValidationEngine.resolveURL(ValidationEngine.java:1882)<br>
        at org.hl7.fhir.validation.instance.InstanceValidator.checkPrimitive(InstanceValidator.java:1864)</p>



<a name="206112244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206112244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206112244">(Aug 06 2020 at 07:38)</a>:</h4>
<p>already fixed that - next release</p>



<a name="206113884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/org.hl7.fhir.validator.jar%20vs%20validator_cli.jar/near/206113884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Gutknecht <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/org.2Ehl7.2Efhir.2Evalidator.2Ejar.20vs.20validator_cli.2Ejar.html#206113884">(Aug 06 2020 at 08:04)</a>:</h4>
<p>Nice ! Thanks !!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
