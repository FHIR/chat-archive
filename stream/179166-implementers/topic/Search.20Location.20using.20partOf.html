---
layout: page
title: "FHIR Chat  · Search Location using partOf · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html">Search Location using partOf</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="247172521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247172521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reham Muzzamil <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247172521">(Jul 26 2021 at 07:53)</a>:</h4>
<p>Hi, I have few queries regarding the Location search API:<br>
1)  I want to get all root locations having partOf as empty or null. But when I query using partOf as null, it treats it as a string and does not bring out any records. I understand that partOf should be a valid Location reference or we could also pass an empty string.<br>
2) When I pass an empty partOf param, it throws an error that an id part can not be null. I was wondering how this can be handled to get those records having an empty or null partOf params. <br>
3) I also think the inability to query on a null value sounds like a general limitation for any resource. Can anyone please confirm this?</p>
<p>Thanks!</p>



<a name="247210637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247210637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247210637">(Jul 26 2021 at 14:35)</a>:</h4>
<p>You can't have empty or null partOf (or anything) in FHIR.  If you don't have a value for an element, you omit the element entirely.  You can query for missing elements using the <code>:missing</code> qualifier.  E.g. <code>Location?partof:missing=true</code> should work.</p>



<a name="247322993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247322993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reham Muzzamil <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247322993">(Jul 27 2021 at 11:56)</a>:</h4>
<p>Thanks for your prompt response. <br>
I have tested using  Location?partof:missing=true it throws an exception of  "The validated expression is false" since it fails the validation of Validate.isTrue(id.hasIdPart());</p>
<p>I am not sure, may be I am missing something.</p>



<a name="247329926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247329926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247329926">(Jul 27 2021 at 13:04)</a>:</h4>
<p>Are you saying the instance fails validation or the profile fails validation?</p>



<a name="247429454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247429454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reham Muzzamil <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247429454">(Jul 28 2021 at 07:28)</a>:</h4>
<p>Thanks, Lloyd. <br>
I am not actually running a validator standalone/or via code. Rather I just hit the end-point of Search Location with the <code>:missing</code> qualifier. And the API throws an exception <code>The validated expression is false</code>. On debugging I have figured out that there is a validation written inside the class <code>IdHelperService</code> that checks if id has a valid idPart, if not it throws an exception. I believe the logic is centralized for all the resource providers as it will be called when creating a predicate. Since <code>partOf</code> is of Reference dataType it verifies that the id part can not be null.</p>



<a name="247455888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247455888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247455888">(Jul 28 2021 at 13:08)</a>:</h4>
<p>It sounds like your endpoint does not support the <code>:missing</code> modifier. Maybe you can reach out to the <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a> stream to get guidance on how to implement that.</p>



<a name="247460172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247460172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247460172">(Jul 28 2021 at 13:41)</a>:</h4>
<p>partOf can't be empty</p>



<a name="247460241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247460241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247460241">(Jul 28 2021 at 13:42)</a>:</h4>
<p>It can be omitted entirely.  :missing will check that it's been omitted entirely.</p>



<a name="247552757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20Location%20using%20partOf/near/247552757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reham Muzzamil <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20Location.20using.20partOf.html#247552757">(Jul 29 2021 at 07:36)</a>:</h4>
<p>Sure, Thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
