---
layout: page
title: "FHIR Chat  · SHA1, collisions, and other hashing algorithms in the future · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html">SHA1, collisions, and other hashing algorithms in the future</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153912060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeffrey Willis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912060">(Oct 03 2017 at 12:29)</a>:</h4>
<p>The <a href="http://hl7.org/fhir/datatypes.html#Attachment" target="_blank" title="http://hl7.org/fhir/datatypes.html#Attachment">Attachment</a> data type specifies a hash attribute and that the hash of the data must be computed using SHA1. With the announcement this year of SHA1 collisions, has there been any considerations for allowing the hash to be computed via other algorithms (e.g. SHA256)? </p>
<p>The idea being that Attachment.hash would have a companion attribute, say Attachment.hashAlgorithm, that would allow one to specify which algorithm was used to compute the hash.</p>



<a name="153912093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912093">(Oct 03 2017 at 19:16)</a>:</h4>
<p>That sounds like a reasonable thing to submit as a change request. Would you be willing to do that?  (In fact, any place that we "fix" a specific algorithm, we probably want to allow for the possibility of future variation.)</p>



<a name="153912132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912132">(Oct 03 2017 at 20:12)</a>:</h4>
<p>we've rejected this change before - we don't need crypto safe hashing here, and therefore why do we need to ask systems to support more than one simple hashing algorithm</p>



<a name="153912157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912157">(Oct 03 2017 at 20:38)</a>:</h4>
<p>In addition to what Grahame said... just picking a different hash does not make the hash value any more useful for non-repudiation. Any case that requires non-repudiation needs to use a Digital Signature structure like what is provided in Provenance.signature.</p>



<a name="153912161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912161">(Oct 03 2017 at 20:42)</a>:</h4>
<p>The hash element is there to detect technical failures (e.g., storage rot, transport glitch, incorrect version). All of these are detectable with SHA1, and don't require any more complex hashing algorithm.</p>



<a name="153912164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912164">(Oct 03 2017 at 20:44)</a>:</h4>
<p>I would be far more comfortable recommending that hash become an extension, than for us to attempt to create a structure that supports many hashing algorithms. As a pluggable hashing algorithm seems useful, until you recognize the burden on any consuming system. It must implement all possible algorithms, as it never knows what algorithm might have been used.  Removing the hash, recognizes that current technology doesn't really need a hash except in specific situations (e.g. when metadata and data are managed on different systems under different SLA terms).</p>



<a name="153912171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912171">(Oct 03 2017 at 20:56)</a>:</h4>
<p>the point of the hash is that you if you have a reference, rather than data inline, you can check that the data is the same as what was initially referred to by checking the hash of the data you get when you actually access the data.</p>



<a name="153912208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912208">(Oct 04 2017 at 02:40)</a>:</h4>
<p>Should the stated requirements change from </p>
<blockquote>
<p>Included so that applications can verify that the contents of a location have not changed and so that a signature of the content can implicitly sign the content of an image without having to include the data in the instance or reference the url in the signature.</p>
</blockquote>
<p>to leave out or qualify the text about signatures.</p>



<a name="153912209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912209">(Oct 04 2017 at 03:23)</a>:</h4>
<p>yes that would be a good idea</p>



<a name="153912214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912214">(Oct 04 2017 at 03:34)</a>:</h4>
<p>Issue created <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13995" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13995">#13995</a></p>



<a name="153912248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912248">(Oct 04 2017 at 12:21)</a>:</h4>
<p>Good catch. The hash should never have included anything about signature. It is simply an integrity check. A signature requires more than just a good hash algorithm, and is well handled by the Provenance.signature mechanism.</p>



<a name="153912666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/153912666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeffrey Willis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#153912666">(Oct 05 2017 at 18:07)</a>:</h4>
<p>Thank you, everyone. You've answered my concerns and I believe continuing to use SHA1 for integrity checks on Attachment will work just fine.</p>



<a name="165586364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SHA1%2C%20collisions%2C%20and%20other%20hashing%20algorithms%20in%20the%20future/near/165586364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SHA1.2C.20collisions.2C.20and.20other.20hashing.20algorithms.20in.20the.20future.html#165586364">(May 14 2019 at 02:09)</a>:</h4>
<p>Rather belatedly bringing this old thread back.  Our issue is that we already have a hash (SHA256) associated with the data and we'd just like to re-use it/pass it through rather than computing an additional hash.<br>
Is there a common extension for supporting alternate algorithms?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
