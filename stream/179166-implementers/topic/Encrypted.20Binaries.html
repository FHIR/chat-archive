---
layout: page
title: "FHIR Chat  · Encrypted Binaries · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html">Encrypted Binaries</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153912965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153912965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153912965">(Oct 07 2017 at 20:00)</a>:</h4>
<p>I'm working with an implementer that has a need to use encrypted binaries. A binary is a binary, so encrypted is fine... but you need some minimal crypto metadata .... we don't really have space for this anywhere.</p>



<a name="153912966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153912966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153912966">(Oct 07 2017 at 20:00)</a>:</h4>
<p>has anyone looked at this before?</p>



<a name="153913304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913304">(Oct 10 2017 at 14:28)</a>:</h4>
<p>Can you give me some context to the use-case? There are standards based solutions. However the choice of which of these will be dependent on the intended use-case. Specifically the use-case will drive key-management. For example how does the one encrypting know the keys to use so that only the targeted recipient can decrypt.</p>



<a name="153913305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913305">(Oct 10 2017 at 14:28)</a>:</h4>
<p>The most re-usable is CMS (Like found in the IHE-Document Encryption (DEN) profile <a href="http://wiki.ihe.net/index.php/Document_Encryption" target="_blank" title="http://wiki.ihe.net/index.php/Document_Encryption">http://wiki.ihe.net/index.php/Document_Encryption</a>   This is also the core standard used in S/MIME</p>



<a name="153913306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913306">(Oct 10 2017 at 14:29)</a>:</h4>
<p>why does that make any difference? let's assume that there's some way to know</p>



<a name="153913310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913310">(Oct 10 2017 at 14:37)</a>:</h4>
<p>There are efforts now in HTTP workgroup to add targeted Digital Rights Management methods... Is that what this person is looking for? It is a very different architecture than content encryption to a pre-known targeted identity.</p>



<a name="153913311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913311">(Oct 10 2017 at 14:41)</a>:</h4>
<p>the context of use here is pre-known targetted identity</p>



<a name="153913312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913312">(Oct 10 2017 at 14:43)</a>:</h4>
<p>okay, known identities certificate or Oauth?  Would drive use of CMS vs JWE..</p>



<a name="153913313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913313">(Oct 10 2017 at 14:44)</a>:</h4>
<p>OAuth is not in the picture here.</p>



<a name="153913314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913314">(Oct 10 2017 at 14:44)</a>:</h4>
<p>I might ask why transport encryption is not sufficient? That might tease out 'requirements' that are not being said.</p>



<a name="153913315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913315">(Oct 10 2017 at 14:46)</a>:</h4>
<p>because there are multiple hops - both routing and storage- between source and target, and this breaks transport continuity, but the intermediaries are not authorized to view the content</p>



<a name="153913316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913316">(Oct 10 2017 at 14:46)</a>:</h4>
<p>Hence why I wondered about DRM... as many people get excited about DRM and want to use it... DRM is very helpful 'access control' model...</p>



<a name="153913317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913317">(Oct 10 2017 at 14:46)</a>:</h4>
<p>Okay, then CMS seems a good choice .. CMS is widely implemented. And if you have either secret key (password), or certificate based identities; it is a good choice for end-to-end encryptjon.</p>



<a name="153913318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913318">(Oct 10 2017 at 14:47)</a>:</h4>
<p>Take a look at the IHE profile. I think it would be re-usable here.</p>



<a name="153913319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913319">(Oct 10 2017 at 14:47)</a>:</h4>
<p>cms as in <a href="https://en.wikipedia.org/wiki/Cryptographic_Message_Syntax" target="_blank" title="https://en.wikipedia.org/wiki/Cryptographic_Message_Syntax">https://en.wikipedia.org/wiki/Cryptographic_Message_Syntax</a>?</p>



<a name="153913320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913320">(Oct 10 2017 at 14:48)</a>:</h4>
<p>Yes</p>



<a name="153913321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913321">(Oct 10 2017 at 14:48)</a>:</h4>
<p>it does look like the right base. What do we need to do to support it with Binary?</p>



<a name="153913322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913322">(Oct 10 2017 at 14:50)</a>:</h4>
<p>I will have to look</p>



<a name="153913323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913323">(Oct 10 2017 at 14:53)</a>:</h4>
<p>So the idea you have is that a Bundle would contain a set of Resources and an encrypted Binary? Or would the whole Bundle be encrypted? I am trying to figure out why this is unique to Binary.</p>



<a name="153913324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913324">(Oct 10 2017 at 14:54)</a>:</h4>
<p>Would we have a need to create a Bundle mechanism for 'any' resource to be encapsulated in a CMS envelope? (We are re-inventing SOAP... you know that, right?)</p>



<a name="153913325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913325">(Oct 10 2017 at 14:55)</a>:</h4>
<p>Note that SOAP already has this ability, using XML-Encryption....</p>



<a name="153913375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julie Maas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913375">(Oct 10 2017 at 20:33)</a>:</h4>
<p>Considering that there are "untrusted" intermediaries involved, signing the content so the recipient can authenticate the source would make sense, in addition to encrypting it for the ultimate data consumer. CMS/S/MIME supports this. This is essentially Direct Messaging without the SMTP transport, so existing Direct tools (and potentially existing endpoints and trust frameworks) could be adapted for this.</p>



<a name="153913591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913591">(Oct 12 2017 at 10:53)</a>:</h4>
<p>I don't know whether this applies outside binary or not.</p>



<a name="153913592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913592">(Oct 12 2017 at 10:53)</a>:</h4>
<p>what makes this different to SOAP/S-MIME is that the question is around persisting, not just sending.</p>



<a name="153913614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913614">(Oct 12 2017 at 13:05)</a>:</h4>
<p>That sounds like the CMS (like profiled in IHE-DEN profile) is the best choice. This is the kind of use-case that drove the IHE-DEN profile. Where the content needed to be encrypted/signed in a transport agnostic way. The content can be anything, mime-type described. The transport can be anything, including mixed mode transport (http --&gt; email --&gt; usb-stick --&gt; SOAP...). The CMS survives all those conversions between transports. Key management can be as simple as a shared secret, or as complete as PKI.  ((( Note that CMS is the underlying standard of S/MIME too)))</p>



<a name="153913920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913920">(Oct 14 2017 at 20:14)</a>:</h4>
<p>indeed that sounds like the case - do we need to do anything in FHIR for this? It seems to me that we do, for binary at least.</p>



<a name="153913921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153913921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153913921">(Oct 14 2017 at 20:14)</a>:</h4>
<p>another question that arises is whether anyone has used element level encryption as defined in <a href="https://www.w3.org/TR/xmlenc-core/" target="_blank" title="https://www.w3.org/TR/xmlenc-core/">https://www.w3.org/TR/xmlenc-core/</a>, and whether we should think about that</p>



<a name="153914659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153914659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153914659">(Oct 18 2017 at 16:20)</a>:</h4>
<p>I would be glad to add a note on the security pages about encapsulating encryption. I would like to see a few more that indicate that this is a proper guidance.</p>



<a name="153914661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153914661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153914661">(Oct 18 2017 at 16:23)</a>:</h4>
<p>element level encryption is fraught with ways to fail... More so than partial signatures... that is to say when one does element level encryption or signatures you must do it really-really correct.   element level encryption can fail to fully encrypt due to lack of well implemented initialization vectors.  I would certainly recommend that that this is well beyond any implementation today in anything other than academic prototypes.</p>



<a name="153915236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Encrypted%20Binaries/near/153915236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Encrypted.20Binaries.html#153915236">(Oct 22 2017 at 20:08)</a>:</h4>
<p>I agree. Was just checking</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
