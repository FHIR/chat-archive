---
layout: page
title: "FHIR Chat  · Usage of duplicate fields across resources · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html">Usage of duplicate fields across resources</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="177054671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Usage%20of%20duplicate%20fields%20across%20resources/near/177054671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html#177054671">(Oct 01 2019 at 13:27)</a>:</h4>
<p>We are profiling a referral/ServiceRequest process, and are trying to figure out how to deal with redundant links to resources.</p>
<p>In the referral process, we send a ServiceRequest, and then there is a bunch of other data that can come with it (or be added later) that is always related to the ServiceRequest and POINTS to the serviceRequest. e.g.,<br>
- Appointment.basedOn --&gt; ServiceRequest<br>
- Communication.basedOn --&gt; ServiceRequest<br>
- QuestionnaireResponse.basedOn --&gt; ServiceRequest</p>
<p>Each of these resources also references the Patient who is the subject of the ServiceRequest, but the ServiceRequest itself identifies the patient ... so it becomes redundant for appointment/communication/questionnaireResponse to reference the patient when we can find out who the patient is via the ServiceRequest.</p>
<p>My Question is: should we reference the Patient resource from Appointment/Communication/QuestionnaireResponse when it has to always be the same Patient that is referenced in the linked ServiceRequest? My first inclination is NO, because it could cause confusion if ever the referenced patient is different than in the ServiceRequest (which they never should be).</p>



<a name="177056885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Usage%20of%20duplicate%20fields%20across%20resources/near/177056885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html#177056885">(Oct 01 2019 at 13:52)</a>:</h4>
<p>Note: We are using a messaging paradigm for this specification.</p>



<a name="177058321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Usage%20of%20duplicate%20fields%20across%20resources/near/177058321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html#177058321">(Oct 01 2019 at 14:08)</a>:</h4>
<p>Yes.  There's no context inheritance with FHIR.  If something is for a patient, that must be explicitly declared, it can't be inferred.  The data that is received in a message might subsequently be exposed with REST and the relationships will all need to exist.  As well, the logic for propagating context is inevitably complex and scenario-specific, which significantly increases implementer cost.  The references don't take up much extra bandwidth and the compression that happens during transmission makes them take up considerably less.</p>



<a name="177063807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Usage%20of%20duplicate%20fields%20across%20resources/near/177063807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Berezny <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html#177063807">(Oct 01 2019 at 15:02)</a>:</h4>
<p>Is it fair to say in an implementation Guide that the Patient in ServiceRequest and Appointment must match (when in the same message), or else the message will be rejected?</p>



<a name="177065342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Usage%20of%20duplicate%20fields%20across%20resources/near/177065342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Wills <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html#177065342">(Oct 01 2019 at 15:18)</a>:</h4>
<p>For this scenario would these not be considered Contained Resources? <a href="http://hl7.org/fhir/references.html#contained" target="_blank" title="http://hl7.org/fhir/references.html#contained">http://hl7.org/fhir/references.html#contained</a>. i.e. contained in the message bundle with ServiceRequest? In which case an external  RESTful reference may never exist.</p>



<a name="177065830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Usage%20of%20duplicate%20fields%20across%20resources/near/177065830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html#177065830">(Oct 01 2019 at 15:24)</a>:</h4>
<p>Contained means that the resource is contained within one of the resources.  Contained resources can't be referenced by any other resources in the Bundle.  There's no requirement that the resources be exposed RESTfully in the source system.  The target system might choose to expose them RESTfully, which means the RESTful principles still need to be adhereed to.</p>



<a name="177065957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Usage%20of%20duplicate%20fields%20across%20resources/near/177065957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html#177065957">(Oct 01 2019 at 15:25)</a>:</h4>
<p>It's absolutely possible to set business rules about what references must be the same in the context of a particular message event.  (GraphDefinition tries to provide a way to do this, though it hasn't been terribly well exercised in the context of MessageDefinition (or anywhere, really)</p>



<a name="177095964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Usage%20of%20duplicate%20fields%20across%20resources/near/177095964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Usage.20of.20duplicate.20fields.20across.20resources.html#177095964">(Oct 01 2019 at 20:41)</a>:</h4>
<blockquote>
<p>Contained resources can't be referenced by any other resources in the Bundle</p>
</blockquote>
<p>That's not true. But it's certainly generally true that you should only ever use contained resources when you can't identify the content (e.g. you have just a name for a practitioner)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
