---
layout: page
title: "FHIR Chat  · Constraint that a contained resource have an `id` · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html">Constraint that a contained resource have an `id`</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="190739922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/190739922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston TW <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#190739922">(Mar 16 2020 at 15:40)</a>:</h4>
<p>Hello!</p>
<p>Looking at <code>dom-3</code> (<a href="https://www.hl7.org/fhir/domainresource.html#invs" target="_blank" title="https://www.hl7.org/fhir/domainresource.html#invs">https://www.hl7.org/fhir/domainresource.html#invs</a>), it says that a contained resource shall either be referenced or should reference the containing resource. Should there also be a constraint saying that the contained resource has an <code>id</code> if it doesn't reference the containing resource? (Does one of the constraints already contain this logic? From what I can tell there isn't any, but I could be reading them incorrectly.)</p>
<p>Thank you,<br>
Preston</p>



<a name="190740639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/190740639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#190740639">(Mar 16 2020 at 15:45)</a>:</h4>
<p>It's certainly worth making expectations clear.  Can you submit a change request?</p>



<a name="190742085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/190742085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston TW <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#190742085">(Mar 16 2020 at 15:55)</a>:</h4>
<p>Registered for an account, I'll submit a change request when I'm approved!</p>



<a name="190744726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/190744726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#190744726">(Mar 16 2020 at 16:14)</a>:</h4>
<p>I see an id request on gForge, but we don't use gForge anymore.  You'll need to request your id here: <a href="https://jira.hl7.org/projects/NEWID" target="_blank" title="https://jira.hl7.org/projects/NEWID">https://jira.hl7.org/projects/NEWID</a></p>



<a name="190751216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/190751216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston TW <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#190751216">(Mar 16 2020 at 17:01)</a>:</h4>
<p>Ahh, I was going to ask but went ahead with gForge anyway. Should I make a change request to update <a href="https://wiki.hl7.org/FHIR_Change_requests" target="_blank" title="https://wiki.hl7.org/FHIR_Change_requests">https://wiki.hl7.org/FHIR_Change_requests</a> too?</p>



<a name="190756937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/190756937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#190756937">(Mar 16 2020 at 17:40)</a>:</h4>
<p>No, because that's an archived page - as noted at the top, our mediawiki has now been superseded by Confluence.  However, we hadn't ported an equivalent page into Confluence, so I just created one here: <a href="https://confluence.hl7.org/display/FHIR/Change+Requests" target="_blank" title="https://confluence.hl7.org/display/FHIR/Change+Requests">https://confluence.hl7.org/display/FHIR/Change+Requests</a></p>



<a name="190759192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/190759192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston TW <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#190759192">(Mar 16 2020 at 17:59)</a>:</h4>
<p>Requested a Jira account, thank you. Somehow I missed the banner at the top.</p>



<a name="190765207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/190765207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston TW <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#190765207">(Mar 16 2020 at 18:56)</a>:</h4>
<p>Change request at <a href="https://jira.hl7.org/browse/FHIR-26593" target="_blank" title="https://jira.hl7.org/browse/FHIR-26593">https://jira.hl7.org/browse/FHIR-26593</a></p>



<a name="191066164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/191066164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston TW <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#191066164">(Mar 19 2020 at 02:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Should a contained resource always have an <code>id</code> regardless of whether it references the containing resource?</p>



<a name="191066329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/191066329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#191066329">(Mar 19 2020 at 02:27)</a>:</h4>
<p>I <em>believe</em> so - <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="191072346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/191072346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#191072346">(Mar 19 2020 at 05:07)</a>:</h4>
<p>yes</p>



<a name="201208324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/201208324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#201208324">(Jun 17 2020 at 22:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I know it has been a while, but can we have the same explanation (on Confluence) posted on the FHIR GForge project space (located here: <a href="https://gforge.hl7.org/gf/project/fhir">https://gforge.hl7.org/gf/project/fhir</a>). I think every once in a while people are still going in to GForge, and the project site still says this is where FHIR requests are tracked.</p>



<a name="211173148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/211173148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Stadler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#211173148">(Sep 24 2020 at 18:43)</a>:</h4>
<p>Hi all,</p>
<p>I'd like to clarify something about <a href="https://jira.hl7.org/browse/FHIR-26593">https://jira.hl7.org/browse/FHIR-26593</a> (I can't seem to comment on the ticket itself). It seems like there are two distinct concerns here:</p>
<ol>
<li>There is a bug in the fhirpath expression for <code>dom-3</code> that allows it to be satisfied even if there are no references between the containing and contained resource: if the contained resource has no <code>id</code> then this empty value is propagated through the fhirpath expression by the <code>+</code>, <code>in</code>, and <code>or</code> operators. This results in <code>contained.where({}).empty()</code>, which is true (regardless of whether or not there are any references).</li>
<li>Should all <code>contained</code> resources be required to have an <code>id</code>? The answer from above seems to be "yes", but I don't think this is suggested by any of the existing constraints so a new constraint should be added.</li>
</ol>
<p>Are both of these being addressed, or should I file another ticket for one ofthem?</p>
<p>Thanks!</p>



<a name="211177602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraint%20that%20a%20contained%20resource%20have%20an%20%60id%60/near/211177602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraint.20that.20a.20contained.20resource.20have.20an.20.60id.60.html#211177602">(Sep 24 2020 at 19:18)</a>:</h4>
<p>Jira doesn't allow comments on tickets that are already resolved (because the high likelihood is that no one would end up reading what you wrote).  You <em>can</em> submit a new ticket referencing the existing one if you feel that further clarification/change is needed.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
