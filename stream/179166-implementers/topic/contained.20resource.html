---
layout: page
title: "FHIR Chat  · contained resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html">contained resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154012705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012705">(Oct 26 2018 at 18:55)</a>:</h4>
<p>I'm trying to create an example Immunization resource that contains an AdverseEvent resource within it. The AdverseEvent resource points back to the Immunization resource that caused the adverse event in AdverseEvent.suspectEntity.instance<br>
The contained resource part of my example looks like this:<br>
&lt;Immunization&gt;<br>
    &lt;id value="adverseEvent"/&gt;<br>
    &lt;contained&gt;<br>
        &lt;AdverseEvent&gt;<br>
            &lt;id value="p1"/&gt;<br>
            &lt;actuality value="actual"/&gt;<br>
            &lt;subject&gt; <br>
                    &lt;reference value="Patient/example"/&gt; <br>
            &lt;/subject&gt; <br>
            &lt;suspectEntity&gt; <br>
                    &lt;instance&gt; <br>
                    &lt;reference value="#"/&gt; <br>
                    &lt;/instance&gt; <br>
            &lt;/suspectEntity&gt; <br>
        &lt;/AdverseEvent&gt;<br>
    &lt;/contained&gt;<br>
&lt;rest of the immunization resource&gt;</p>
<p>When I try to build locally, I get an error of "Immunization.contained.suspectEntity.instance: Unable to resolve resource '#' (src = InstanceValidator)</p>
<p>Any idea what the issue is?</p>
<p>Note that initially, i didn't include an id in the contained resource and that caused an error too even thought I thought that a contained resource that references the container didn't need one.<br>
Thanks</p>



<a name="154012715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012715">(Oct 26 2018 at 19:09)</a>:</h4>
<p>It's possible that the validator doesn't yet support the use of "#" to refer to the parent.</p>



<a name="154012717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012717">(Oct 26 2018 at 19:11)</a>:</h4>
<p>(That said - why would the AdverseEvent not be able to stand on its own?  Containing a full adverse event inside an immunization seems a little odd - if anything, I'd expect you to contain a Condition reflecting the reaction rather than a full AdverseEvent which manages the causality assessment, mitigations, etc.)</p>



<a name="154012720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012720">(Oct 26 2018 at 19:13)</a>:</h4>
<p>Does that mean that we can't include an example with a contained resource pointing back to the container for R4 or is there a different way of referencing the container that he example should use?</p>
<p>Gforge 15124 made the request. <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span>  can correct me if I'm wrong, but I think the idea was to have a way for a system which doesn't document the adverse event separately (rather it's just part of the immunization event) to be able to still have a way to include the adverse event data.</p>



<a name="154012724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012724">(Oct 26 2018 at 19:21)</a>:</h4>
<p>AdverseEvent is about the causality determination.  It's a risk management exercise.  Condition is about "what symptoms did the patient have and how bad were they".  Which of the two are you interested in?</p>



<a name="154012725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012725">(Oct 26 2018 at 19:22)</a>:</h4>
<p>They way you were referencing is correct, but it's "new" and there may be a bug in that the tooling doesn't support it yet.  Submit a tracker item for a fix to the publication tools.</p>



<a name="154012727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012727">(Oct 26 2018 at 19:27)</a>:</h4>
<p>We discussed this in Patient Care back in January and I thought we'd settled on the use of AdverseEvent and expanded the scope of the resource a bit to include things other than just casuality determination. My understanding is that there were additional discussions in Baltimore. I wasn't able to attend that session so I don't know if they impact this decision or not. I'd like <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span> to contribute her recollection as well.</p>



<a name="154012729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012729">(Oct 26 2018 at 19:32)</a>:</h4>
<p>Tracker 19531 created.<br>
<a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19531" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19531">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19531</a></p>



<a name="154012767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012767">(Oct 26 2018 at 22:44)</a>:</h4>
<p><span class="user-mention" data-user-id="192758">@Craig Newman</span> is correct on all points.  This was discussed back Feb 1, 2018 at the WGM (and I do remember <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> sitting right by me during this discussion)  The discussion started with <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14238" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14238">GF#14238</a> asking to allow AdverseEvent.suspectEntity.instance to reference Immunization, so Immunization could then remove its reaction backbone element.  That discussion led to me logging <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15124" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15124">GF#15124</a> (as an outcome of the WGM discussion) asking to </p>
<blockquote>
<p>Add a 'notes' section that indicates the preferred way to convey the immunization reaction is to have a standalone AdverseEvent resource, which uses AdverseEvent.suspectEntity.instance to reference the Immunization (approved with <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14238" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14238">GF#14238</a>).  As an FYI, the resource created first (Immunization) is referenced from the resource created subsequently (AdverseEvent).<br>
The 'notes' section should also advise that those systems that capture the reaction as part of the immunization record, itself, can use a contained AdverseEvent.  Please add an Immunization example that shows the AdverseEvent as a contained resource and link to it from the 'notes' guidance.</p>
</blockquote>
<p>All of that said, Patient Care is actively discussing AdverseEvent -- and it is on our agenda for the Thursday FHIR call on Nov 29.  <br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> brings up a good question, though, that I don't recall specifically discussing at the WGM.  I think it could be possible to contain a Condition (with dueTo or occurredFollowing extension referencing the Immunization).</p>



<a name="154012775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012775">(Oct 26 2018 at 23:26)</a>:</h4>
<p>This leaves us with a bit of an issue for R4. Do we go with the original plan of using AdverseEvent? If so, is there anyway to include an example Immunization with a contained AdverseEvent given that the tooling has a bug in it? Moving to a Condition seems like a drastic change this close to R4 publication. I guess we could even restore the reaction backbone to Immunization and just defer any changes to R5. it might be better to restore the status quo than to go in a direction and have to backtrack in R5. Thoughts <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span>  or <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="154012776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012776">(Oct 26 2018 at 23:28)</a>:</h4>
<p>I'm not necessarily opposed to using Condition, I'm just nervous about making that decision in such a short timeframe.</p>



<a name="154012789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012789">(Oct 27 2018 at 00:03)</a>:</h4>
<p>AdverseEvent isn't about documenting a reaction.  It's about documenting the reporting of a reaction - and everything that goes with that.  The reaction itself is just a Condition.</p>



<a name="154012822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012822">(Oct 27 2018 at 06:03)</a>:</h4>
<p>In which case perhaps it should be called AdverseEventReport?</p>



<a name="154012824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154012824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154012824">(Oct 27 2018 at 06:19)</a>:</h4>
<p>Except that that's usually a document that includes all of the things the AdverseEvent points to</p>



<a name="154013324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154013324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154013324">(Oct 29 2018 at 18:19)</a>:</h4>
<p>As an implementer, I prefer having the reaction included as a backbone element in Immunization.  Our system often treats the reaction or tolerance simply as comments on the immunization (not as a Condition that references an Immunization).<br>
As PC co-chair, I would also note that Observation is yet another candidate to consider since signs are symptoms are a gray area between Observation and Condition.  Per our boundaries section:</p>
<blockquote>
<p>This resource is not typically used to record information about subjective and objective information that might lead to the recording of a Condition resource. Such signs and symptoms are typically captured using the Observation resource; although in some cases a persistent symptom, e.g. fever, headache may be captured as a condition before a definitive diagnosis can be discerned by a clinician. By contrast, headache may be captured as an Observation when it contributes to the establishment of a meningitis Condition. </p>
<p>Use the Observation resource when a symptom is resolved without long term management, tracking, or when a symptom contributes to the establishment of a condition. </p>
<p>Use Condition when a symptom requires long term management, tracking, or is used as a proxy for a diagnosis or problem that is not yet determined. </p>
</blockquote>
<p>Due to the hesitation to use AdverseEvent, I think it might be best to roll back all changes and just keep the Immunization.reaction until we can straighten out which contained resource is preferred -- AdverseEvent, Condition, Observation etc.</p>



<a name="154013325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154013325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154013325">(Oct 29 2018 at 18:21)</a>:</h4>
<p>I'm good with reverting Immunization back to contain the same reaction elements as in R3</p>



<a name="154013640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/154013640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#154013640">(Oct 30 2018 at 15:07)</a>:</h4>
<p>I have restored Immunization.reaction to R4. We'll have to deal with how to document reactions to immunizations in R5. We should consider Condition, Observation and Adverse Event as possible options</p>



<a name="167391337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167391337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167391337">(Jun 05 2019 at 14:03)</a>:</h4>
<p>I'm looking for guidance on the Immunization.reaction pattern. DSTU2 &amp; R4 both have a "reaction" backbone element, but in both cases the symptom itself is in an Observation reference. We could use reference.display for text, or (more likely) we would embed a very simple Observation. If we do so, does anyone have any feedback on a preferred <a href="http://build.fhir.org/observation.html#code-interop" target="_blank" title="http://build.fhir.org/observation.html#code-interop">pattern</a>?</p>



<a name="167398024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167398024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167398024">(Jun 05 2019 at 15:04)</a>:</h4>
<p>If it's information that only exists in the context of the Immunization and isn't ever expected to exist on its own, I'd probably create a contained Observation</p>



<a name="167403695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167403695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167403695">(Jun 05 2019 at 16:02)</a>:</h4>
<p>hmm, so a reaction to immunisation is in the resource, but for administration of a medication it will be an adverseEvent(?). I can understand the reason. do we want to iron that, or best as is?</p>



<a name="167404858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167404858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167404858">(Jun 05 2019 at 16:15)</a>:</h4>
<p>Is this an appropriate topic for a future workflow call? I've been in on several discussions about this but it still feels a bit unsatisfying.</p>



<a name="167407358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167407358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167407358">(Jun 05 2019 at 16:44)</a>:</h4>
<p><span class="user-mention" data-user-id="192758">@Craig Newman</span> i think the decision on immunisation.reaction is by PHER and eventually any discrepancy by FMG, but of course iI would be glad to see this in a workflow call. (this is me asking for the meeting chair to give his blessing, wink wink nudge nudge).</p>



<a name="167408117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167408117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167408117">(Jun 05 2019 at 16:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191985">@Jay Lyle</span>  sorry for slightly off topic. I think an observation could work (btw, the loinc code for adverse drug reactions 52472-8 is deprecated?), but an isn't adverseEvent more specific?</p>



<a name="167412639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167412639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167412639">(Jun 05 2019 at 17:50)</a>:</h4>
<p>Immunization.reaction (or AllergyIntolerance.reaction) being an AdverseEvent would be driven by "what do most systems typically do" - and I think the designers have made the right call of saying that most immunization and allergy systems don't represent reactions as  links to entries in their repository of reported adverse events.  Any such linkage could be captured with an extension to support those systems that do maintain such a linkage.</p>



<a name="167414506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167414506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167414506">(Jun 05 2019 at 18:09)</a>:</h4>
<p>i agree it is normally part of the immunization record, so it deserves to differ. <br>
Why Observation and not AdverseEvent?. Do we have enough input to say "most systems capture this as an 'Observation' object constrained for reaction, they do not capture this as a 'Reaction' object"?</p>



<a name="167414601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167414601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167414601">(Jun 05 2019 at 18:10)</a>:</h4>
<p>All good comments, and useful for advancing Allergy for R5. But my immediate concern: which coded Obs pattern should the contained Observation follow?<br>
code = 31044-1 - Immunization reaction; value = 271807003 |Eruption of skin (disorder)|<br>
code = 271807003 |Eruption of skin (disorder)|; value = 410515003 |Known present (qualifier value)|<br>
code = 271807003 |Eruption of skin (disorder)|</p>



<a name="167415383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167415383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167415383">(Jun 05 2019 at 18:18)</a>:</h4>
<p>AdverseEvent is for reporting and causality determination.  Observation is for capturing a symptom</p>



<a name="167415460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/167415460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#167415460">(Jun 05 2019 at 18:18)</a>:</h4>
<p>If you want to say "patient had a rash", you use Observation.  If you want to list concomitment meds and capture the likelihood that one was the cause, you use AdverseEvent</p>



<a name="227005495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/227005495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Manuel Caputo <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#227005495">(Feb 19 2021 at 18:20)</a>:</h4>
<p>Hi, <br>
I have an Encounter resource, with a coverage resource inside the contained.<br>
I have searched in the documentation but i couldn't find any about this, how do you do this?.</p>
<p>Thanks in advance</p>



<a name="227007464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/227007464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#227007464">(Feb 19 2021 at 18:36)</a>:</h4>
<p>First, 'contained' should only be used if the information can't exist as stand-alone.  I.e. the Coverage information is only captured, stored and maintained in the context of the Encounter and has no existence outside of that.  It's <em>not</em> a handy mechanism for sending a bunch of resources at once.</p>
<p>If you meet the requirement for a contained resource, then the only requirement is that the Encounter points to the Coverage or the Coverage points to the Encounter.</p>
<p>If that doesn't answer what you need, can you further expand on your question?</p>



<a name="227274306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/227274306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Manuel Caputo <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#227274306">(Feb 22 2021 at 14:30)</a>:</h4>
<p>Loyd, thank you very much for you answer.  Im writing a IG using FHIR shorthand, and I'd like to know how to generate a resource with a contained, in a Fish File.<br>
Greetings</p>



<a name="227277580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/227277580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#227277580">(Feb 22 2021 at 14:51)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="365661">@Juan Manuel Caputo</span>.  In FSH, you can create an instance for use in a <code>contained</code> like so:</p>
<div class="codehilite"><pre><span></span><code>Instance: CoverageExample
InstanceOf: Coverage
Usage: #inline
* status = #active
* beneficiary = Reference(PatientExample)
* payor = Reference(PayorOrganizationExample)
</code></pre></div>
<p>The <code>Usage: #inline</code> indicates that this instance should only be used inline in another resource (not a standalone resource).  Then to add it to <code>contained</code> in another instance, you can do this:</p>
<div class="codehilite"><pre><span></span><code>* contained = CoverageExample
</code></pre></div>
<p>and then reference it in that same resource as <code>Reference(CoverageExample)</code>.</p>
<p>I've worked out a full example for you here: <a href="https://fshschool.org/FSHOnline/#/share/3aFKZyQ">https://fshschool.org/FSHOnline/#/share/3aFKZyQ</a></p>



<a name="227277918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/227277918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#227277918">(Feb 22 2021 at 14:53)</a>:</h4>
<p>BTW -- if you have further questions about FHIR Shorthand, the #shorthand stream is the best place to ask them!</p>



<a name="227397127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/contained%20resource/near/227397127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/contained.20resource.html#227397127">(Feb 23 2021 at 08:36)</a>:</h4>
<p>(<span class="user-mention" data-user-id="191469">@Chris Moesel</span> Just passing by this thread but also found your example really useful so thanks for that!)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
