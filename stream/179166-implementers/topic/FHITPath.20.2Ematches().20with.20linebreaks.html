---
layout: page
title: "FHIR Chat  · FHITPath .matches() with linebreaks · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHITPath.20.2Ematches().20with.20linebreaks.html">FHITPath .matches() with linebreaks</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238528297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHITPath%20.matches%28%29%20with%20linebreaks/near/238528297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHITPath.20.2Ematches().20with.20linebreaks.html#238528297">(May 12 2021 at 19:09)</a>:</h4>
<p>Hi,<br>
I'm trying to use the <code>.matches()</code> FHIRPath function to check if the <code>StructureDefintion.purpose</code> text is properly populated in some of our profiles. This works as long as I don't include linebreaks in the <code>.purpose</code> field. If I do, I get inconsistent results. Take the following synthetic example:</p>
<div class="codehilite" data-code-language="XML"><pre><span></span><code>  -- snip --
  <span class="nt">&lt;description</span> <span class="na">value=</span><span class="s">"An anatomical location specifies the location (e.g. foot) and laterality (e.g. links) of a bodypart."</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;purpose</span> <span class="na">value=</span><span class="s">"A&amp;#xD;&amp;#xA;B"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;fhirVersion</span> <span class="na">value=</span><span class="s">"4.0.1"</span> <span class="nt">/&gt;</span>
  -- snip --
</code></pre></div>
<p>Yields:</p>
<table>
<thead>
<tr>
<th></th>
<th>HL7 Validator</th>
<th>FHIRPath Tester</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StructureDefinition.purpose.matches('A.*')</code></td>
<td>false</td>
<td>true</td>
</tr>
<tr>
<td><code>StructureDefinition.purpose.matches('A.*B')</code></td>
<td>false</td>
<td>false</td>
</tr>
</tbody>
</table>
<p>However, the specification states that regexes in <code>matches()</code> are considered to use single-line mode, suggesting that a dot should match newlines. Could anybody help out?</p>



<a name="238549341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHITPath%20.matches%28%29%20with%20linebreaks/near/238549341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHITPath.20.2Ematches().20with.20linebreaks.html#238549341">(May 12 2021 at 21:45)</a>:</h4>
<p>Maybe raise on <a class="stream" data-stream-id="179266" href="/#narrow/stream/179266-fhirpath">#fhirpath</a> ?</p>



<a name="238725115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHITPath%20.matches%28%29%20with%20linebreaks/near/238725115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHITPath.20.2Ematches().20with.20linebreaks.html#238725115">(May 14 2021 at 06:39)</a>:</h4>
<p>Didn't even realize this stream existed, <a href="#narrow/stream/179266-fhirpath/topic/FHIRPath.20.2Ematches.28.29.20with.20linebreaks">I've moved the topic</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
