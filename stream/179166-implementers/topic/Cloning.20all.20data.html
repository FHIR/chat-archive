---
layout: page
title: "FHIR Chat  · Cloning all data · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cloning.20all.20data.html">Cloning all data</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="179349734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cloning%20all%20data/near/179349734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cloning.20all.20data.html#179349734">(Oct 29 2019 at 16:58)</a>:</h4>
<p>I want to copy all resources on one server to another. Firstly is there an easy way to do that - without writing a lot of procedural code? Secondly, I have created a script that does it ;-) but it fails to PUT the record on the second server if the Id already exists - but is a different resource type (this is a HAPI server). The Ids don't have to all be the same, but I can't see an easy way to fix up every reference if the Ids are not the same. I want this to work an any server type, so can't rely on special operations or even Batch inserts.</p>



<a name="179365568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cloning%20all%20data/near/179365568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cloning.20all.20data.html#179365568">(Oct 29 2019 at 19:32)</a>:</h4>
<p>there's 2 different things here:<br>
- see the discussion on bulk-data around import<br>
- the logical question of id management - see <a href="http://hl7.org/fhir/managing.html#distributed" target="_blank" title="http://hl7.org/fhir/managing.html#distributed">http://hl7.org/fhir/managing.html#distributed</a></p>



<a name="179368471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cloning%20all%20data/near/179368471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cloning.20all.20data.html#179368471">(Oct 29 2019 at 20:03)</a>:</h4>
<p>thanks. I've found the bulk-data thread now. What i need is $import, but that's not available yet. I understand the issues of id management, and that there is no need for the ids to be the same across multiple systems. I'm still looking for a practical way to import a lot of data though. I will work on my scripts...</p>



<a name="179374174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cloning%20all%20data/near/179374174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cloning.20all.20data.html#179374174">(Oct 29 2019 at 21:05)</a>:</h4>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> can Vonkloader load a series of Patients then a series of Observations and link them to the right patients?</p>



<a name="179413537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cloning%20all%20data/near/179413537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cloning.20all.20data.html#179413537">(Oct 30 2019 at 09:14)</a>:</h4>
<p>No sorry, you would have to create transactions bundles for it. Though, you could use conditional references, Vonk will create the correct ids for you</p>



<a name="179419443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cloning%20all%20data/near/179419443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cloning.20all.20data.html#179419443">(Oct 30 2019 at 10:44)</a>:</h4>
<p>ok thanks Alexander. I would like to use transaction bundles but some servers don't support them. My current efforts are a workaround for that exact issue in fact. So instead I am now using conditional references in my scripts. It means all Patients need a unique identifier, which may not always be the case (usually is though).</p>



<a name="179549179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cloning%20all%20data/near/179549179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cloning.20all.20data.html#179549179">(Oct 31 2019 at 16:32)</a>:</h4>
<p>Does you script look for the root node in a graph (mostly: patient) and then walk the graph in the direction of leaf-nodes (i.e. without inbound references)?  Circular references A-&gt;B-&gt;C-&gt;A are a nightmare if one can't use transactions. POST A,B,C and fix the references in a seconds processing step, that might do it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
