---
layout: page
title: "FHIR Chat  · Filtering Antibiotics from the MedicationRequest Resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html">Filtering Antibiotics from the MedicationRequest Resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="220830930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220830930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aamir S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220830930">(Dec 23 2020 at 21:56)</a>:</h4>
<p>Hello everyone,</p>
<p>I was wondering if anyone has any suggestions on an efficient method to extract only the antibiotics from the MedicationResource? I'm new to FHIR, sorry if I missed something obvious!</p>
<p>I'm creating a SMART on FHIR application that needs to display only the antibiotics from a patient's MedicationRequest resource. So far I've been using an ML model (via a third party service) to achieve this task but it's far from ideal in terms of cost and processing time.</p>
<p>What I have are either the RxNorm codes or propriety Cerner codes and I what I do is run the text through the model and parse out the medication name from the prescription. I then run another ML model to obtain the appropriate RxNorm code. I would then call the RXNorm API and use the ATC (check if the code starts with "J01") and MeSH codes (via UMLS API) to check the "pharmacological action" attribute to help me classify if the drug is an antibiotic or not.</p>
<p>The problem I have is that the RxNorm codes associated with the entire prescription don't seem to have associated ATC or MeSH codes when I query the RxNorm API. For example, the RxNorm code (309114) for "Cephalexin  500 MG Oral Capsule" doesn't have any associated ATC or MeSH (at least I don't receive any when querying with the RxNorm API), but the RxNorm code (2231) for "Cephalexin" does have ATC and MeSH codes associated with it.</p>
<p>If anyone has any suggestions, I would really appreciate it! Thanks and I hope everyone has a happy (and safe) holiday season!</p>
<p>Warm regards,<br>
Aamir</p>



<a name="220834760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220834760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220834760">(Dec 23 2020 at 23:00)</a>:</h4>
<p>There are two options - if the server supports it and there's a relationship between the ordered codes and a higher level term, you can search by code:below to find all codes that specialize the high level concept.  Alternatively, you could search code:in and specify a value set that contains all of the relevant codes.  However, you'd need the server to support that too.</p>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span> do you know if Cerner's API supports either option?  If not, can you propose alternatives?</p>



<a name="220881400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220881400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aamir S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220881400">(Dec 24 2020 at 17:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource/near/220834760">said</a>:</p>
<blockquote>
<p>There are two options - if the server supports it and there's a relationship between the ordered codes and a higher level term, you can search by code:below to find all codes that specialize the high level concept.  Alternatively, you could search code:in and specify a value set that contains all of the relevant codes.  However, you'd need the server to support that too.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Thank you for the suggestion! I had no idea that functionality existed (EHRs and FHIR are a new area for us), it is something we will need to seriously consider. We are currently developing a solution for a Cerner EHR customer, but the project will be made open source with goal of letting other healthcare organizations take advantage of it with their own FHIR (v. R4) compliant EHRs (with minimal modifications - fingers crossed).</p>



<a name="220882917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220882917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220882917">(Dec 24 2020 at 17:56)</a>:</h4>
<p>Cerner MedicationRequest are not searchable by code: <a href="https://fhir.cerner.com/millennium/r4/medications/medication-request/#parameters">https://fhir.cerner.com/millennium/r4/medications/medication-request/#parameters</a></p>



<a name="220883137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220883137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220883137">(Dec 24 2020 at 18:01)</a>:</h4>
<p>Not an expert, but I think you have first to navigate the taxonomy up: Cephalexin 500 MG Oral Capsule -&gt; Cephalexin 500 MG -&gt; Cephalexin</p>



<a name="220885458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220885458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aamir S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220885458">(Dec 24 2020 at 18:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191912">Michele Mottini</span> <a href="#narrow/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource/near/220883137">said</a>:</p>
<blockquote>
<p>9:56 AM<br>
Cerner MedicationRequest are not searchable by code: <a href="https://fhir.cerner.com/millennium/r4/medications/medication-request/#parameters">https://fhir.cerner.com/millennium/r4/medications/medication-request/#parameters</a></p>
<p>Not an expert, but I think you have first to navigate the taxonomy up: Cephalexin 500 MG Oral Capsule -&gt; Cephalexin 500 MG -&gt; Cephalexin</p>
</blockquote>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> Good find! I think you are right about the taxonomy part. I think I found another method that doesn't require traversing the heiarchy:  (example for "Cephalexin 500 MG Oral Capsule" in a Node.js app):</p>
<div class="codehilite"><pre><span></span><code> let endpoint = `https://rxnav.nlm.nih.gov/REST/rxcui/309114/property.json?propName=SNOMEDCT`;
 let rxNormResponse = await axios.get(endpoint);
// for simplicity, assume only one SNOMED code was retrieved for this example
snomedCode = rxNormResponse.data.propConceptGroup.propConcept[0].propValue;


 let umlsAPI = `https://uts-ws.nlm.nih.gov/rest/content/current/source/SNOMEDCT_US/${snomedCode}/relations?includeAdditionalRelationLabels=plays_role&amp;ticket=${authToken}`;
 let results = await axios.get( umlsAPI);
 console.log(&quot;results: &quot;,  results);
</code></pre></div>
<p>This gets me the "plays_role" attribute which has a value ("relatedIdName") of "Antibacterial therapeutic role".</p>
<p>If I don't find a Snomed code, I will probably need to traverse up the hierarchy as you've mentioned.</p>
<p><a href="/user_uploads/10155/4qCab0JDccmh5E-CzvSayjz3/UMLS_SNOWMED.png">UMLS_SNOWMED.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/4qCab0JDccmh5E-CzvSayjz3/UMLS_SNOWMED.png" title="UMLS_SNOWMED.png"><img src="/user_uploads/10155/4qCab0JDccmh5E-CzvSayjz3/UMLS_SNOWMED.png"></a></div>



<a name="220891297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220891297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220891297">(Dec 24 2020 at 21:26)</a>:</h4>
<p>This requires some clinical input from the likes of <span class="user-mention" data-user-id="191487">@Russell Leftwich</span> . TTBOMK, 'Antibiotic' is a drug /ingredient class (or function?) and, as such, there isn't a property in the Medication Resource that supports that concept. The appropriate FHIR Module is probably Medication Definition in R5 and Ingredient.function might be the appropriate element  - but this needs to be confirmed by a SME.</p>



<a name="220896897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220896897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220896897">(Dec 24 2020 at 23:57)</a>:</h4>
<p>Antibiotic is a function of the medicinal product as a whole rather than of the ingredient(s) themselves - though obviously the capability does derive from the ingredients. You can use MedicinalProductDefinition.classification for this.</p>



<a name="220962100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220962100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220962100">(Dec 26 2020 at 12:26)</a>:</h4>
<p>Classification is an attribute of MedicationKowledge. I'd use that one, we don't need to go to the regulatory resources for that.</p>



<a name="220976042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220976042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220976042">(Dec 26 2020 at 19:31)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> .  MedicationKnowledge.medicineClassification.classification looks a good fit..."Specific category assigned to the medication (e.g. anti-infective, anti-hypertensive, antibiotic, etc.)." Is an example terminology binding required for this element?</p>



<a name="220981580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/220981580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Melva Peters <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#220981580">(Dec 26 2020 at 22:21)</a>:</h4>
<p>There is a category on MedicationRequest that we've heard might be used to categorize the medicationrequest by medication type.   <a href="http://build.fhir.org/medicationrequest-definitions.html#MedicationRequest.category">http://build.fhir.org/medicationrequest-definitions.html#MedicationRequest.category</a></p>



<a name="221010145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/221010145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick McLaughlin (NLM) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#221010145">(Dec 27 2020 at 14:13)</a>:</h4>
<p><span class="user-mention" data-user-id="373468">@Aamir</span> You might be interested in the NLM RxClass API, which will traverse the hierarchy for you. <a href="https://rxnav.nlm.nih.gov/RxClassAPIs.html">https://rxnav.nlm.nih.gov/RxClassAPIs.html</a></p>



<a name="221010260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/221010260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick McLaughlin (NLM) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#221010260">(Dec 27 2020 at 14:17)</a>:</h4>
<p><a href="https://rxnav.nlm.nih.gov/REST/rxclass/class/byRxcui.json?rxcui=309114&amp;relaSource=MESH">https://rxnav.nlm.nih.gov/REST/rxclass/class/byRxcui.json?rxcui=309114&amp;relaSource=MESH</a></p>



<a name="221065314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/221065314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Yu Ju <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#221065314">(Dec 28 2020 at 14:46)</a>:</h4>
<p>Perhaps SNOMED CT concept's "parents" info could help ....... You can try that at their online browser tool. Take ceftriaxone for example. <a href="https://browser.ihtsdotools.org/?perspective=full&amp;conceptId1=372670001&amp;edition=MAIN/2020-07-31&amp;release=&amp;languages=en">https://browser.ihtsdotools.org/?perspective=full&amp;conceptId1=372670001&amp;edition=MAIN/2020-07-31&amp;release=&amp;languages=en</a></p>



<a name="221232898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/221232898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aamir S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#221232898">(Dec 30 2020 at 18:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="194260">Patrick McLaughlin (NLM)</span> <a href="#narrow/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource/near/221010145">said</a>:</p>
<blockquote>
<p>You might be interested in the NLM RxClass API, which will traverse the hierarchy for you. <a href="https://rxnav.nlm.nih.gov/RxClassAPIs.html">https://rxnav.nlm.nih.gov/RxClassAPIs.html</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="194260">@Patrick McLaughlin (NLM)</span> Nice find, thank you! That will definitely simplify traversing the hierarchy compared to what I had in mind.</p>



<a name="221233728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/221233728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aamir S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#221233728">(Dec 30 2020 at 18:20)</a>:</h4>
<p>Thanks for the recommendations everyone! At present, only a small subset of FHIR resources (depending on the EHR vendor) are usually available for third party SMART on FHIR applications which is where I have been turning to third party APIs. </p>
<p>Going forward, I'm optimistic that FHIR resources such as MedicationKnowledge will be implemented by EHR vendors and available for use by third party SMART on FHIR applications. When they do become available, it will definitely help streamline the creation of more application specific use cases (in this case, an app to aid in prescribing a safe antibiotic for the patient).</p>



<a name="221566655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/221566655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Russell Leftwich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#221566655">(Jan 04 2021 at 19:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191364">@Peter Jordan</span> I would agree this concept needs to be captured.  I would also point out that "antibiotic" has become such a superclass (compared to several decades ago when the term was introduced) that sub-classes based on mechanism of action and chemical identity should be captured.  It would seem that this concept might be MedicationClassification in the MedicationKnowledge Resource</p>



<a name="221568963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Filtering%20Antibiotics%20from%20the%20MedicationRequest%20Resource/near/221568963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Filtering.20Antibiotics.20from.20the.20MedicationRequest.20Resource.html#221568963">(Jan 04 2021 at 19:29)</a>:</h4>
<p>Or indeed the  classification in the MedicinalProductDefinition resource - if that is available to you. I  assume people would be looking at existing data sources where this may be recorded. In the EU all centrally authorised products will eventually have a FHIR MedicinalProductDefinition resource available, hosted by EMA. Other countries such as Norway are using the same concept. Equally you may have access to a local data set in MedicationKnowledge.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
