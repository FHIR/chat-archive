---
layout: page
title: "FHIR Chat  · How to bind multiple ValueSets · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html">How to bind multiple ValueSets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221661661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221661661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221661661">(Jan 05 2021 at 15:48)</a>:</h4>
<p>What's the best practice for binding multiple ValueSets?</p>
<ul>
<li>Create a ValueSet that includes the multiple ValueSets</li>
<li>Slice the element or the Coding element and bind a ValueSet to each slice</li>
<li>Other?</li>
</ul>
<p>Pro cons?</p>



<a name="221662105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221662105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221662105">(Jan 05 2021 at 15:51)</a>:</h4>
<p>The former sets an expectation for one code from any of the sets.  It's problematic if codes from the referenced value sets have overlapping meaning.  The latter allows you to set expectation for inclusion of multiple codes - and different expectations via both cardinality and binding strength for the inclusion, though things get messy if the binding strengths aren't all 'required' because a code that doesn't fall into any of the value sets will potentially match against all slices with 'extensible' bindings.</p>



<a name="221668979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221668979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221668979">(Jan 05 2021 at 16:38)</a>:</h4>
<p>Thanks Lloyd. That helps. I am however wondering why it is problematic if codes from the reference value sets have overlapping meaning.</p>



<a name="221669705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221669705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221669705">(Jan 05 2021 at 16:44)</a>:</h4>
<p>It results in inconsistent data.  If there are two different codes that mean the same thing and both are allowed, then software needs to check for both codes when looking for a particular meaning</p>



<a name="221701438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221701438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221701438">(Jan 05 2021 at 21:04)</a>:</h4>
<p>why are there multiple value sets? What's the purpose?</p>



<a name="221726891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221726891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221726891">(Jan 06 2021 at 02:20)</a>:</h4>
<p>I did it in once. The underlying terminology server does not support creating valueset from different code systems directly. So if I want to say include these three codes from SCT and those five codes from LONIC, I have to create three value sets, one for SCT and one for LONIC, and then the 3rd value set to include codes from those two value sets for  binding.</p>



<a name="221781249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221781249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gay Dolin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221781249">(Jan 06 2021 at 15:36)</a>:</h4>
<p>The multiple value sets (contained value sets being from different code systems) are grouped into one value set. MANY value sets in VSAC are like this (aka "Grouping). When from different code systems it doesn't matter if terms have overlapping meaning - in fact they will. However, there should be no need to create and bind to different value sets from the SAME code system that are appropriate for the bound context - it would not make sense. Also, this thread should be in the Terminology stream.</p>



<a name="221795759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221795759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221795759">(Jan 06 2021 at 17:26)</a>:</h4>
<p>I agree it happens.  (i.e. multiple codes in a value set with the same/overlapping meaning)  However, it's something to avoid as much as you can</p>



<a name="221798882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221798882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gay Dolin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221798882">(Jan 06 2021 at 17:50)</a>:</h4>
<p>Example of perfectly OK: a Diabetes type 2 problem value set with SNOMED  disorder codes in one subset, and ICD10 CM in the other "fused" into a grouping value set . Perfection is the enemy of the good and we need to support clinicians and the implemented vocabularies and the terms the clinician select. I disagree it should be avoided.</p>



<a name="221799070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221799070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gay Dolin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221799070">(Jan 06 2021 at 17:52)</a>:</h4>
<p>And as you know both terms could be sent</p>



<a name="221803394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221803394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221803394">(Jan 06 2021 at 18:26)</a>:</h4>
<p>Sure.  But you do that because of a need to support multiple stakeholders or legacy data, not because you really want diabetes to be coded two different ways.  "Avoid if you can" isn't an absolute, but it means to be aware of the costs.</p>



<a name="221808381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221808381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221808381">(Jan 06 2021 at 19:07)</a>:</h4>
<p>Is creating a combined value set the only option? Can slicing be used to indicate, for example, that either a SNOMED code from a SNOMED value set, or an ICD code from an ICD value set, or both can be sent in the CodeableConcept? And also require that if both are sent, they follow a ConceptMap?</p>



<a name="221808796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221808796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gay Dolin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221808796">(Jan 06 2021 at 19:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191503">@Robert McClure</span> , <span class="user-mention" data-user-id="195036">@Carol Macumber</span> <span class="user-mention" data-user-id="191405">@Rob Hausam</span> <span class="user-mention" data-user-id="191982">@Ted Klein</span>  --- FYI this discussion (which should be in vocab)</p>



<a name="221813522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221813522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221813522">(Jan 06 2021 at 19:49)</a>:</h4>
<p><span class="user-mention" data-user-id="192685">@Vassil Peytchev</span> That has been answered above by Lloyd (2nd post in this thread).</p>



<a name="221813944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221813944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221813944">(Jan 06 2021 at 19:52)</a>:</h4>
<p>Ah, yes, that was part of the original question. I was responding on  <span class="user-mention" data-user-id="191991">@Gay Dolin</span> 's comment that combining value sets with overlapping codes (in her example) should not be avoided.</p>



<a name="221833693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221833693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221833693">(Jan 06 2021 at 22:44)</a>:</h4>
<p>It really depends on the use-cases for the ValueSet.  If it's to bind a field for data entry, then you don't want codes with overlapping meaning (esp. you don't want to mix clinical codes with classification codes), but if it's for retrieval / validation / the range of a conceptmap, etc then it may be exactly the right thing.</p>



<a name="221833799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/221833799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#221833799">(Jan 06 2021 at 22:45)</a>:</h4>
<p>Hence <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> 's question above - what is the purpose in this case?</p>



<a name="222262434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/222262434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#222262434">(Jan 11 2021 at 05:48)</a>:</h4>
<p>So another option would be to use a compound value set for validation and provide written implementation guidance on the different component value sets.</p>



<a name="222276888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/222276888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#222276888">(Jan 11 2021 at 09:50)</a>:</h4>
<p>Thanks all for the discussion. For now, I will continue here although I noted that it should be transferred to another stream. Can we copy the whole thread?  </p>
<p>To give a bit more background information regarding my initial question. We are modelling Dutch Health Care information models to FHIR. Some models concern similar concepts as FHIR resources, for example, the <a href="https://zibs.nl/wiki/Procedure-v5.2(2020EN)">hcim-Procedure</a>. To classify a procedure 5 different code systems can be used according to this model. They are represented as code lists / ValueSet as they can also contain a selection of a code system. Different Healthcare domains will likely use different code systems. Within one domain/use case, a single code system should be sufficient is the general idea. </p>
<p>So we are wondering how we could best represent these information models in FHIR while we take into account that derived profiles can be created to specify the specific requirements of a healthcare domain/use case. Our current thinking it to bind one ValueSet that includes other needed ValueSets.</p>



<a name="222473340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/222473340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#222473340">(Jan 12 2021 at 18:22)</a>:</h4>
<p>I might have to do that as well <span class="user-mention" data-user-id="192301">@Ardon Toonstra</span> The official validator does not like this profile: <a href="https://simplifier.net/hl7norwayno-basis/nobasisendpoint">https://simplifier.net/hl7norwayno-basis/nobasisendpoint</a><br>
Because we try to slice a non repeating element as a way to include codes from the norwegian specific Endpoint.connectionType CodeSystem. <br>
A possible solution would be to instead bind the connectionType to a third ValueSet that includes both:</p>
<ul>
<li>EndpointConnectionType</li>
<li>NoBasisConnectionType</li>
</ul>
<p>That would probably validate.</p>



<a name="222476172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20bind%20multiple%20ValueSets/near/222476172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20bind.20multiple.20ValueSets.html#222476172">(Jan 12 2021 at 18:43)</a>:</h4>
<p>Slicing is only allowed right now if an element repeats or is polymorphic (and in the latter case, you can only slice by type)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
