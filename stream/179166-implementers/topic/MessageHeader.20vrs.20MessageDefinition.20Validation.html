---
layout: page
title: "FHIR Chat  · MessageHeader vrs MessageDefinition Validation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageHeader.20vrs.20MessageDefinition.20Validation.html">MessageHeader vrs MessageDefinition Validation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216578920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageHeader%20vrs%20MessageDefinition%20Validation/near/216578920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageHeader.20vrs.20MessageDefinition.20Validation.html#216578920">(Nov 13 2020 at 08:21)</a>:</h4>
<p>Wondering what approaches are being used for validating FHIR Messages?</p>
<p>We've gone for a combination of a base MessageHeader profile and MessageDefinition resources.</p>
<p>When a FHIR Message is received, the MessageHeader is validated against the base profile. The MessageDefinition is retrieved based on eventCoding. <br>
We then check the resources in the MessageHeader.focus follow the correct profile stated in the MessageDefinition.focus.</p>
<p>Example code: <a href="https://github.com/NHSDigital/validation-service-fhir-r4/blob/cf9525f16813edaec7c76aad369fcc412bd8346b/src/main/kotlin/com/example/fhirvalidator/service/MessageDefinitionApplier.kt">https://github.com/NHSDigital/validation-service-fhir-r4/blob/cf9525f16813edaec7c76aad369fcc412bd8346b/src/main/kotlin/com/example/fhirvalidator/service/MessageDefinitionApplier.kt</a></p>
<p>After looking at other national Messaging IG's e.g. Denmark, Suisse and Da Vinci Alerts <br>
We seem to be the only country going down this route? Thoughts.</p>



<a name="216613869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageHeader%20vrs%20MessageDefinition%20Validation/near/216613869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageHeader.20vrs.20MessageDefinition.20Validation.html#216613869">(Nov 13 2020 at 13:59)</a>:</h4>
<p>PrescribeIT just use profiles.  Mandatory profile declaration on the Bundle, the MessageHeader and the FocalTask.  All other profiles inferred from those.  MessageHeader and Task profiles cross-check their associated event code/task code.  (They were in production long before MessageDefinition even existed, and I'm not sure it's supported by the Java validator even now.)</p>



<a name="216662133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageHeader%20vrs%20MessageDefinition%20Validation/near/216662133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageHeader.20vrs.20MessageDefinition.20Validation.html#216662133">(Nov 13 2020 at 19:37)</a>:</h4>
<p>in the ballot of Da Vinci Alerts we had MessageDefinition/GraphDefinition but based on comments it got yanked because not widely implemented yet.  But to me that is the best approach.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
