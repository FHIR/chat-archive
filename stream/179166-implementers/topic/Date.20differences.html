---
layout: page
title: "FHIR Chat  · Date differences · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20differences.html">Date differences</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="250608234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20differences/near/250608234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shravankumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20differences.html#250608234">(Aug 25 2021 at 11:43)</a>:</h4>
<p>How to write fhir expression for date difference.<br>
Like age calculator<br>
e.g.  days_diff('2018-03-01' , '2021-05-28').<br>
Year_diff('2018-03-01' , '2021-05-28').<br>
months_diff('2018-03-01' , '2021-05-28')</p>



<a name="250623142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20differences/near/250623142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20differences.html#250623142">(Aug 25 2021 at 13:54)</a>:</h4>
<p><span class="user-mention" data-user-id="435172">@Shravankumar</span> I changed the topic heading for you.  (You'd originally posted under 'DocumentReference Encounter', which wasn't really related to your question.)</p>
<p>FHIRPath provides a mechanism to do date math - see <a href="http://hl7.org/fhirpath/#subtraction-2">http://hl7.org/fhirpath/#subtraction-2</a></p>



<a name="250801110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20differences/near/250801110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rajesh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20differences.html#250801110">(Aug 26 2021 at 16:33)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> </p>
<p><a href="http://hl7.org/fhirpath/#subtraction-2">http://hl7.org/fhirpath/#subtraction-2</a> expects the right hand operand to be a time valued quantity like <code>1 day</code> or <code>24 months</code>, but what I have is a Date/DateTime.</p>
<p>in demo website <a href="https://hl7.github.io/fhirpath.js/">https://hl7.github.io/fhirpath.js/</a><br>
 @2025-01-01 - @2020-01-01 //Result-  Error: Cannot ["2025-01-01"] - ["2020-01-01"] </p>
<p>For below JSON structure. How can I calculate the duration in days b/w start and end date using fhirpath?<br>
{<br>
"start" : "2020-01-01",<br>
"end" : "2025-01-01"<br>
}</p>



<a name="250802167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20differences/near/250802167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20differences.html#250802167">(Aug 26 2021 at 16:39)</a>:</h4>
<p>Hmm.  That's odd.  I'd have expected FHIRPath to be able to do math on two dates, not just date + quantity.  <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="250805193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20differences/near/250805193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20differences.html#250805193">(Aug 26 2021 at 16:59)</a>:</h4>
<p>That's true, FHIRPath does not currently support duration or difference calculation. There is an open tracker for this: <a href="https://jira.hl7.org/browse/FHIR-19896">https://jira.hl7.org/browse/FHIR-19896</a></p>



<a name="250805492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Date%20differences/near/250805492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Date.20differences.html#250805492">(Aug 26 2021 at 17:01)</a>:</h4>
<p>CQL has <a href="https://cql.hl7.org/09-b-cqlreference.html#duration">Duration</a> and <a href="https://cql.hl7.org/09-b-cqlreference.html#difference">Difference</a> calculations specified.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
