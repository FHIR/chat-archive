---
layout: page
title: "FHIR Chat  · Composition.relatesTo - how to use for Documents? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html">Composition.relatesTo - how to use for Documents?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154021538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition.relatesTo%20-%20how%20to%20use%20for%20Documents%3F/near/154021538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html#154021538">(Nov 29 2018 at 09:34)</a>:</h4>
<p>There are two aspects of <code>Composition.relatesTo</code> that are not quite clear to me:</p>
<p>1. What is the proper way to refer to another FHIR Document <code>Bundle</code> that is only stored <em>in toto</em> as a <code>Bundle</code>, so that the corresponding <code>Composition</code>does not have its own server URL? <br>
2. In the documentation (STU3 and R4), it says the following about <a href="https://build.fhir.org/documents.html" target="_blank" title="https://build.fhir.org/documents.html">FHIR Documents</a>:</p>
<blockquote>
<p>Any resource referenced directly in the Composition SHALL be included in the bundle when the document is assembled.</p>
</blockquote>
<p>That would seem to imply that a <code>Composition</code>referred to in <code>relatesTo</code>(or at least <code>relatesTo.targetReference</code>) must actually be included in the Document (which, as <span class="user-mention" data-user-id="191450">@Simone Heckmann</span> pointed out, could lead to a recursion of includes), yet it is not on the list of  applicable fields that followed in the documentation. Seems like a tracker candidate, or am I missing smt?</p>



<a name="154021559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition.relatesTo%20-%20how%20to%20use%20for%20Documents%3F/near/154021559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html#154021559">(Nov 29 2018 at 10:09)</a>:</h4>
<p>both are good points for trackers please.</p>



<a name="154021560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition.relatesTo%20-%20how%20to%20use%20for%20Documents%3F/near/154021560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html#154021560">(Nov 29 2018 at 10:09)</a>:</h4>
<p>#2 relatesTo is not on the list of includes, for obvious reasons, but it would be good to actually say so</p>



<a name="154021564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition.relatesTo%20-%20how%20to%20use%20for%20Documents%3F/near/154021564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html#154021564">(Nov 29 2018 at 10:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  OK, I will add the tracker items. Do you have a feeling for the right answer to #1?</p>



<a name="154021565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition.relatesTo%20-%20how%20to%20use%20for%20Documents%3F/near/154021565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html#154021565">(Nov 29 2018 at 10:13)</a>:</h4>
<p>[bundle]#[id] where bundle is the url of the bundle, and id is the id of the composition resource</p>



<a name="154021615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition.relatesTo%20-%20how%20to%20use%20for%20Documents%3F/near/154021615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html#154021615">(Nov 29 2018 at 11:55)</a>:</h4>
<p>Tracker items:</p>
<ul>
<li>How to use <code>Composition.relatesTo</code>: <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19710&amp;start=13050" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19710&amp;start=13050">#19710</a></li>
<li>Explanation of what resources must be included in document: <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19711&amp;start=13050" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19711&amp;start=13050">#19711</a></li>
</ul>



<a name="154021650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition.relatesTo%20-%20how%20to%20use%20for%20Documents%3F/near/154021650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html#154021650">(Nov 29 2018 at 13:26)</a>:</h4>
<blockquote>
<p>[bundle]#[id] where bundle is the url of the bundle, and id is the id of the composition resource</p>
</blockquote>
<p>by Id you mean the actual id of the entry and not the fullUrl, right? So these IDs have to be unique then. I couldn't find an explicit statement about ID uniqueness inside a Bundle, only could find bdl-7 which states uniqueness about fullUrls</p>



<a name="154021691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition.relatesTo%20-%20how%20to%20use%20for%20Documents%3F/near/154021691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.2ErelatesTo.20-.20how.20to.20use.20for.20Documents.3F.html#154021691">(Nov 29 2018 at 15:09)</a>:</h4>
<p>an alternative is the use of DocumentReference that points at the bundled composition. This would work well if, as you mentioned, the composition is not decomposed into that FHIR server. If it is 'only' maintained as a bundled composition, then it might be best referenced as a document using DocumentReference.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
