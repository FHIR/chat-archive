---
layout: page
title: "FHIR Chat  · lifecycle through profiles · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html">lifecycle through profiles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160011143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160011143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160011143">(Mar 05 2019 at 15:17)</a>:</h4>
<p>Is there anyone having experience expressing the lifecycle of resources through the use of profiles. What I was thinking about was to use profiles as a way of maintaining business rules. Eg. one patient profile may be useful during the start of an episode of care and the constraints may be at bit loose. Now later on, when the data on the patient may have been further enriched one might not allow that some cardinality is allowed to go back to 0 - eg. managingOrganization. As a way of not allowing such updates, one could now let the resource be compliant to a more strict profile - based of the originial patient profile. Has anyone got experience with such usage?</p>



<a name="160011813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160011813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160011813">(Mar 05 2019 at 15:25)</a>:</h4>
<p>Interesting question! Resembles a state machine with well-defined transitions from one profile to another.</p>



<a name="160014526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160014526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160014526">(Mar 05 2019 at 15:58)</a>:</h4>
<p>indeed - and it keeps business rules on the server where they belong</p>



<a name="160014915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160014915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160014915">(Mar 05 2019 at 16:03)</a>:</h4>
<p>The Task resource is designed to model (clinical) workflows. Maybe you can leverage this resource to define conversion operations that transform instance data from one profile to another?</p>



<a name="160015395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015395">(Mar 05 2019 at 16:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> - I can't say I have much experience with Task so I can't say if it could deliver the flexibility that would be required with this profiles-as-states-design. I also can't believe I'm the first one to have this thought - or am I wrong?</p>



<a name="160015436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015436">(Mar 05 2019 at 16:09)</a>:</h4>
<p>Task doesn't model the workflows, it allows execution of them.  (The definitions of the workflows are handled with PlanDefinition).</p>



<a name="160015466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015466">(Mar 05 2019 at 16:09)</a>:</h4>
<p>I'm not familiar with anyone else to propose using profiles for workflow business rules</p>



<a name="160015572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015572">(Mar 05 2019 at 16:10)</a>:</h4>
<p>So the (sort of maybe obvious) question is why not?</p>



<a name="160015704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015704">(Mar 05 2019 at 16:12)</a>:</h4>
<p>Lots of implementers don't have FHIR-based back ends, so they often have other ways to tackle business rules.  Also creating profiles isn't a widespread skill.</p>



<a name="160015762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015762">(Mar 05 2019 at 16:13)</a>:</h4>
<p>My own reaction is that it may result in validation messages that are a bit clunky/non-intuitive.  Also it might not be the most efficient way to enforce business rules on a transition.</p>



<a name="160015850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015850">(Mar 05 2019 at 16:14)</a>:</h4>
<p>I'll agree to the fact that the error messages may be a bit clumsy</p>



<a name="160015883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015883">(Mar 05 2019 at 16:14)</a>:</h4>
<p>But it should be a clean way of expressing the business rules - in a vendor-neutral format</p>



<a name="160015934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160015934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160015934">(Mar 05 2019 at 16:15)</a>:</h4>
<p>and it does not require a FHIR based backend ... al least not for full state regular updates</p>



<a name="160016027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160016027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160016027">(Mar 05 2019 at 16:16)</a>:</h4>
<p>the validation runs on the wire-format which means that the backend can be whatever</p>



<a name="160016040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160016040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bret H <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160016040">(Mar 05 2019 at 16:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span>  so the FHIR server would have a business rules section in its conformance statement? How do you expose the operations? Are you suggesting an IG for business rules operations?</p>



<a name="160016614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160016614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160016614">(Mar 05 2019 at 16:23)</a>:</h4>
<p>I'm merely pitching an idea here. The capabilitystatement (<a href="https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.supportedProfile" target="_blank" title="https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.supportedProfile">https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.supportedProfile</a>)  already has some sort of room for this. I don't know where business rules section should be located - but it would be a fair assumption for a system having an IG to express its business rules somewhere in its documentation</p>



<a name="160016774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160016774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160016774">(Mar 05 2019 at 16:24)</a>:</h4>
<p>I do this in the MHD profile. I have one set of StructureDefinition for when a document source is submitting new documents, and a different StructureDefinition for the future query results. It is clunky, but it does somewhat follow. There are some intermediate steps I didn't model, mostly because they are less critical and are usually states transition.</p>



<a name="160016805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160016805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160016805">(Mar 05 2019 at 16:25)</a>:</h4>
<p>It might also be a non trivial task to figure out when a transition happens - eg. a resource now conforms "to a more strict version of a given profile and should stay that way"</p>



<a name="160016838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160016838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160016838">(Mar 05 2019 at 16:25)</a>:</h4>
<p>yes, and at that transition it stops conforming to the previous.</p>



<a name="160016841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160016841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160016841">(Mar 05 2019 at 16:25)</a>:</h4>
<p>why is it clunky?</p>



<a name="160016966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160016966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160016966">(Mar 05 2019 at 16:26)</a>:</h4>
<p>I suspect my statement of clunky is more related to the tooling I have today. I suspect it could eventually work very well.</p>



<a name="160017031"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160017031" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160017031">(Mar 05 2019 at 16:27)</a>:</h4>
<p>my thought was that you start with being compatible with eg. a sparse profile ... and then some way down the road you restrict it further - meaning that the resource conforms to both</p>



<a name="160017172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160017172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160017172">(Mar 05 2019 at 16:28)</a>:</h4>
<p>tooling in that I am using IHE limited tooling, but also because right now I am trying to move to R4 and there is limited tooling to create StructureDefinitions there. And visualizing the transition between the two is not obvious, so you just have before and after snapshots.</p>



<a name="160017283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160017283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160017283">(Mar 05 2019 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> I guess you're talking about the actual work on the profiles.</p>



<a name="160017286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160017286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160017286">(Mar 05 2019 at 16:28)</a>:</h4>
<p>in the case of MHD, it isn't just going from relaxed to strict. There are some strict rules on submission, because the server fills them.</p>



<a name="160017419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160017419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160017419">(Mar 05 2019 at 16:30)</a>:</h4>
<p>yes I am mostly focused on IG writting and reading. For that it is clunky. But it does mirror the original IHE concepts of a Transaction-&gt;Message-Encoding. So for IHE it is logical.</p>



<a name="160017685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160017685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160017685">(Mar 05 2019 at 16:33)</a>:</h4>
<p>(lets imagine that creating profiles in R4 would be just as easy as in STU3 - which will happen eventually) - in terms of lifecycle of the actual resource I was actually hoping to gather some knowhow on whether it would be a good idea or not with this design and the caveats between going from either a) relaxed to strict (where the strict would derive from the relaxed) - or b) going from relaxed to something not directly derived from the relaxed - ... if y'all follow</p>



<a name="160017837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160017837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160017837">(Mar 05 2019 at 16:35)</a>:</h4>
<p>from top of my head I could imagine that it might not be the greatest idea to let the strict derive from relaxed as it will impose restrictions that might not be beneficial in all cases ...</p>



<a name="160017965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160017965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160017965">(Mar 05 2019 at 16:36)</a>:</h4>
<p>The MHD structureDefinitions for STU3 are at <a href="https://github.com/IHE/fhir/tree/master/StructureDefinition" target="_blank" title="https://github.com/IHE/fhir/tree/master/StructureDefinition">https://github.com/IHE/fhir/tree/master/StructureDefinition</a>      (I await new Forge before working on the R4 flavors)</p>



<a name="160018026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018026">(Mar 05 2019 at 16:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> does your strict profiles derive from the relaxed?</p>



<a name="160018050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018050">(Mar 05 2019 at 16:37)</a>:</h4>
<p>and do you have any feeling with the cumbersome details of actually implementing it?</p>



<a name="160018253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018253">(Mar 05 2019 at 16:40)</a>:</h4>
<p>a benefit of this design is that it changes very little on the resource (only the metadata) and you get to distribute your business logic to the freaking clients</p>



<a name="160018320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018320">(Mar 05 2019 at 16:40)</a>:</h4>
<p>no, they are all written from FHIR Core STU3. The concept of including and further restricting was not well supported or obvious at the time.</p>



<a name="160018362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018362">(Mar 05 2019 at 16:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> as in derived profiles?</p>



<a name="160018453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018453">(Mar 05 2019 at 16:42)</a>:</h4>
<p>I think that mCSD did this for the distance option on Location. (also in that same github)</p>



<a name="160018477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018477">(Mar 05 2019 at 16:42)</a>:</h4>
<p><span class="user-mention" data-user-id="193299">@Luke Duncan</span> was more willing to live on the edge</p>



<a name="160018602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018602">(Mar 05 2019 at 16:44)</a>:</h4>
<p>I see - the restriction was to require a position - which makes sense i guess</p>



<a name="160018729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018729">(Mar 05 2019 at 16:46)</a>:</h4>
<p><span class="user-mention" data-user-id="192123">@Bret H</span> I also guess parts of the operations are already exposed in <a href="http://hl7.org/fhir/resource-operations.html#meta" target="_blank" title="http://hl7.org/fhir/resource-operations.html#meta">http://hl7.org/fhir/resource-operations.html#meta</a></p>



<a name="160018872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018872">(Mar 05 2019 at 16:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I'm a bit surprised you haven't seen this sort of design since I thought you had seen all what FHIR could offer ;)</p>



<a name="160018940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018940">(Mar 05 2019 at 16:49)</a>:</h4>
<p>Keeping track of what everyone's doing with FHIR is next to impossible.  V3 was so much easier - much less uptake and no-one had a hope of getting up and running without help of a small number of people...</p>



<a name="160018993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160018993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160018993">(Mar 05 2019 at 16:50)</a>:</h4>
<p>(So I guess v3 does have some advantages :))</p>



<a name="160019102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160019102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160019102">(Mar 05 2019 at 16:51)</a>:</h4>
<p>(I'd rather have a harsh rash in my buthole than having to go back to working with V3)</p>



<a name="160019176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160019176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160019176">(Mar 05 2019 at 16:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> spawn more McKenzies then</p>



<a name="160021878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160021878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160021878">(Mar 05 2019 at 17:25)</a>:</h4>
<blockquote>
<p>the validation runs on the wire-format which means that the backend can be whatever</p>
</blockquote>
<p>Mind that validation requires access to all referenced external resources (profiles, valuesets etc.). External references not included in the exchange (Bundle) must be resolved from somewhere, i.e. the back end.</p>



<a name="160076100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160076100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160076100">(Mar 06 2019 at 08:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> you're right - the idea is not totally flawless ;)</p>



<a name="160132047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160132047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160132047">(Mar 06 2019 at 20:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> catching up: If i read correctly, this could be similar to what we will have in medication workflows:<br>
1. there is a prescription (this is a medicationrequest)<br>
2. bla<br>
3. there is a medication administration plan - the list of all medications and respective hours of adminisrtation, to set the nurse's schedule. this is also a medicationRequest, but with different constraints</p>



<a name="160132151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160132151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160132151">(Mar 06 2019 at 20:36)</a>:</h4>
<p>I am trying to get some time to experiment a bit on "workflow conformance" - which is, defining the fhir constraints along a workflow.</p>



<a name="160132367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160132367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160132367">(Mar 06 2019 at 20:39)</a>:</h4>
<p>fwiw, in good old V2 there was a big variance of which message people used to express the same thing. For prescriptions it was random OMP or RDE. For dispenses it was RDS, RGV or RDE. Administrations being RAS or ORU... and in IHE that is the first problem to address.</p>



<a name="160179548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160179548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160179548">(Mar 07 2019 at 08:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> keep us posted on your findings if this is something that you dig deeper into</p>



<a name="160239412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160239412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160239412">(Mar 07 2019 at 21:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span>  Very late to the party, but I just wanted to add one more class of use case we have seen which can also be modeled as transitions between profiles:  In some flows for setting up data sharing based on patient consent, it may be necessary to handle resources entities which, for reasons of data privacy, <em>cannot</em> contain certain information - information which, however, is allowed later on. For instance, for consents it might be desirable to not have both the Patient and the Practitioner referenced before the patient has actually signed the consent, because one otherwise exposes (without consent) the fact that the Patient is associated with a given doctor. Or there may be stages in an on-boarding process where a "dummy" Patient resource is needed because the actual personal information can only be added  later (once consent has been given). In these cases, one effectively imposes a (very) strict profile on resources early on in their life-cycle and then later reverts to more relaxed profiles. In other words, the direction of motion in the "strictness-space" is (at least initially) the opposite of what was discussed above.</p>



<a name="160242631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160242631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160242631">(Mar 07 2019 at 22:10)</a>:</h4>
<p><span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> - you can never be too late to a party. Your case is definitely interesting as well - and certainly proves that the state transitions at not limited to continuous strictness but can just as well (as in your case) be about loosening up. One very interesting aspect in this sort of design or usage is that the backend would hold the transition definitions (structure definitions) - but the client would/or could be the one that actually is in charge of stating what transitions it intends to through - and any transition can in principle lead to any other transition as they are not required to be derivatives of each other - which in turn probably means that state machine might not be spot on ... maybe <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="160303142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160303142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160303142">(Mar 08 2019 at 16:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> Hm, I'm not quite sure I'm following here. I thought the idea was that the profiles/structure definitions would define the <em>states</em> and the allowed <em>transitions</em> would be specified somewhere else, e.g the CapabilityStatement (i.e. <em>"if  a Patient resource conforms to profile X, it may only be changed such that it afterwards either conforms to profile Y or  to profile Z"</em>). At that level, the state machine metaphor seem to fit quite well. Or did you mean that the profiles themselves would also imply transition rules, e.g. that you can only "move downwards" in a re-profiling hierarchy? Anyway, once we talk about resources, I think you're right about the metaphor being strained a bit, since a resource can simultaneously conform to multiple profiles and so would not map to a unique profile state. Unless, I suppose, the profile is always explicit in <code>meta.profile</code>, in which case the server could apply the state machine logic to the "profile before" --&gt; "profile after" transition of a requested update request. But I still imagine that for set-ups with multiple unrelated profiles that do not exclude each other (i.e. a resource can conform to more than one of them), it would be fiendishly hard (but possibly interesting <span aria-label="nerd" class="emoji emoji-1f913" role="img" title="nerd">:nerd:</span>  ) to ensure  that the transition rules are actually consistent.</p>



<a name="160356036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160356036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160356036">(Mar 09 2019 at 07:39)</a>:</h4>
<p><span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> </p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> Hm, I'm not quite sure I'm following here. I thought the idea was that the profiles/structure definitions would define the <em>states</em> and the allowed <em>transitions</em> would be specified somewhere else, e.g the CapabilityStatement (i.e. <em>"if  a Patient resource conforms to profile X, it may only be changed such that it afterwards either conforms to profile Y or  to profile Z"</em>)</p>
</blockquote>
<p>yep - What is important to me is the ability to express rules about valid states and for that structuredefs seems capable.</p>



<a name="160659813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160659813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160659813">(Mar 13 2019 at 12:54)</a>:</h4>
<p>This isn't so much a lifecycle question as a concurrent perspectives question, but it could be both.</p>
<p>Our Pharmacy team is populating resources to support Pharmacy order processing, including some 1:2 cases where a single legacy Pharmacy file will spawn a MedicationOrder (e.g., date written) and a MedicationDispense (e.g., IV composition). I believe the Pharmacy order resource will contain, in addition to the reference to the clinician order file record, two identifiers: one from the Pharmacy file and one from the Order file.</p>
<p>There will be other teams generating MedicationOrder from the clinician order system side. Now we have, potentially, two different resource profiles out there for a single order: one view from the ordering side, and one view from the processing side. For our use cases, that's not a problem: Pharmacy client systems will request one profile; ordering client systems the other. Synchronization rules live in the legacy system.</p>
<p>That sure complicates the idea of a resource. Is that a problem?</p>



<a name="160661315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/lifecycle%20through%20profiles/near/160661315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/lifecycle.20through.20profiles.html#160661315">(Mar 13 2019 at 13:13)</a>:</h4>
<p>Well - this is not necessarily a problem. One aspect of this is a state machine. Another aspect is to maintain business rules. I imagine that since you have multiple different systems they may all have their own view of what parts of the data that is required and what isn't -and that you can maintain in structuredefs. Having multiple structuredefs would then make you aware of how the systems differ and thereby also be aware of what staes that are needed in order to be compliant with each other.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
