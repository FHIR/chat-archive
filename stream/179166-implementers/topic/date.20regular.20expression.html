---
layout: page
title: "FHIR Chat  · date regular expression · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html">date regular expression</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153897600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897600">(Jul 21 2017 at 05:53)</a>:</h4>
<p>I'm looking at <a href="http://hl7.org/fhir/STU3/datatypes.html#date" target="_blank" title="http://hl7.org/fhir/STU3/datatypes.html#date">hl7.org/fhir/STU3/datatypes.html#date</a> <br>
The Regex for date: -?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1]))?)? allows the following<br>
000<br>
0000-01<br>
0000-01-00<br>
but prohibits<br>
0000-00-00<br>
Why allow 00 for day but not for month?</p>



<a name="153897601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897601">(Jul 21 2017 at 05:54)</a>:</h4>
<p>dateTime is the same.</p>



<a name="153897756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897756">(Jul 21 2017 at 21:27)</a>:</h4>
<p>how does it allow 000?</p>



<a name="153897757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897757">(Jul 21 2017 at 21:28)</a>:</h4>
<p>allowing 00 for the day is an oversight</p>



<a name="153897807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897807">(Jul 24 2017 at 01:15)</a>:</h4>
<p>[0-9]{4} allows 0000</p>



<a name="153897808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897808">(Jul 24 2017 at 01:15)</a>:</h4>
<p><a href="http://www.freeformatter.com/regex-tester.html" target="_blank" title="http://www.freeformatter.com/regex-tester.html">http://www.freeformatter.com/regex-tester.html</a> processes it that way.</p>



<a name="153897809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897809">(Jul 24 2017 at 01:16)</a>:</h4>
<p>ok. it does allow 0000 (but not 000). I don't think it's worth complicating the regular expression enough to prohibit 0000 as a year</p>



<a name="153897810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897810">(Jul 24 2017 at 01:17)</a>:</h4>
<p>Oops, I meant 0000. :)</p>



<a name="153897811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897811">(Jul 24 2017 at 01:19)</a>:</h4>
<p>Allowing a year 0000 permits 0000-12-31 for birthday is 31st of December, but year of birth is unknown. Is that intended?</p>



<a name="153897812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897812">(Jul 24 2017 at 01:19)</a>:</h4>
<p>no that would be wrong</p>



<a name="153897813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897813">(Jul 24 2017 at 01:27)</a>:</h4>
<p>Prohibiting 9999-12-00 can be done with<br>
 -?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?</p>



<a name="153897815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897815">(Jul 24 2017 at 02:04)</a>:</h4>
<p>Replacing <code>[0-9]{4}</code> with <code>[0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000</code> should prevent a year of 0000</p>



<a name="153897817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897817">(Jul 24 2017 at 02:18)</a>:</h4>
<p>Issue <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13684" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13684">#13684</a> created</p>



<a name="153897818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897818">(Jul 24 2017 at 02:19)</a>:</h4>
<p>is that worth it is it?</p>



<a name="153897858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897858">(Jul 24 2017 at 04:41)</a>:</h4>
<p>That depends upon what the point of the Regex expression is. <br>
It is so nasty to read that making it worse does not seem to be much of a problem.<br>
Making it exact means it could be used to validate dates or generate validations.</p>



<a name="153897859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897859">(Jul 24 2017 at 04:43)</a>:</h4>
<p>For describing what strings <code>date</code> allows, examples are easier for casual readers than a Regex</p>



<a name="153897951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897951">(Jul 24 2017 at 17:29)</a>:</h4>
<p>There's a limit to how exact it can be.  If we wanted to be wild and crazy, we could factor in leap years too.  The existing structure makes clear that month comes before day and communicates the syntax.  That plus "and must be a valid date" is all that's needed.</p>



<a name="153897957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897957">(Jul 24 2017 at 17:58)</a>:</h4>
<p>leap-seconds are important... make sure you can process a 'second' indicator that is 0-60; not just 0-59</p>



<a name="153897958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897958">(Jul 24 2017 at 18:00)</a>:</h4>
<p>can you make a task, because we don't.</p>



<a name="153897959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897959">(Jul 24 2017 at 18:05)</a>:</h4>
<p>done <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13685" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13685">GF#13685</a></p>



<a name="153897960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/date%20regular%20expression/near/153897960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/date.20regular.20expression.html#153897960">(Jul 24 2017 at 18:05)</a>:</h4>
<p>thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
