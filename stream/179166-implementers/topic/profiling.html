---
layout: page
title: "FHIR Chat  · profiling · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html">profiling</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153869251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153869251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Dimitrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153869251">(Jan 26 2017 at 16:13)</a>:</h4>
<p>On the Profiling page it says "The extension definition also defines the context where the extension can be used (usually a particular path or a data type) and then defines the extension element using the same details used to profile the structural elements that are part of resources.", does this mean that an extension can restrict the type of a Resource field, for instance constrain a Reference to certain resource types?</p>



<a name="153869335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153869335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153869335">(Jan 27 2017 at 09:37)</a>:</h4>
<p>You've got to use a profile if you want to do restriction. I think the latter part of the definition is just saying you use a StructuredProfile resource for both resources and extensions</p>



<a name="153869372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153869372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Dimitrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153869372">(Jan 27 2017 at 17:35)</a>:</h4>
<p>Can a FHIR profile constrain fields of referenced resources?</p>



<a name="153869374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153869374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153869374">(Jan 27 2017 at 18:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191606">@Stefan Dimitrov</span> , you would need to profile each resource where you need to constrain any field. <span class="user-mention" data-user-id="191363">@Vadim Peretokin</span> , I think you mean StructureDefinition (there is no StructuredProfile resource)?</p>



<a name="153869408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153869408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153869408">(Jan 28 2017 at 03:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191606">@Stefan Dimitrov</span> A profile can assert a target profile for a reference - which would in turn restrict the referenced artifact.  However, a profile can't "drill down" into the content of a referenced resource the way it can drill into the components of a data type.  (Note that drilling down into a contained resource or an element of type Resource (e.g. in Bundle.entry) would still be possible in principle, though may not yet be supported by all tools.</p>



<a name="153869521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153869521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153869521">(Jan 30 2017 at 17:26)</a>:</h4>
<p>Sorry, yes meant StructureDefinition.</p>



<a name="153885707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153885707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153885707">(Apr 24 2017 at 10:45)</a>:</h4>
<p>hello All , may i know what tool is best to create  extension and profiles in fhir? upto now i used clinfhir. as forge doesn't support json as well as STU3. but i come to know that clinfhir is not a standard tool. so whats the alternate to clinfhir? how fhir core extensions and profiles  created. please let me know.</p>
<p>Thank you</p>



<a name="153885727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153885727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153885727">(Apr 24 2017 at 13:39)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193206">@Jayashree Surnar</span> there are a number of different tools that support authoring FHIR profiles. ClinFHIR is originally developed to support clinical connecthatons, so it provides a simplified user interface targeting clinicians (not developers). Forge is aimed to be a reference implementation that tries to support all aspects of FHIR profiling (fairly extensive support, but still work in progress; STU3 release to be published this week). Lantana provides the Trifolia tool, which is also a HL7 profile editor. And there is the MDHT tool, a UML-based modeling tool.<br>
FHIR core resources and datatypes are usually designed by manually authoring XML and/or JSON source, because the available profiling tools are usually lagging behind (i.e. while authoring the new STU3 release, available profiling tools were still targeting DSTU2).</p>



<a name="153885876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153885876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153885876">(Apr 25 2017 at 04:42)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191336">@Michel Rutten</span> . what you are saying is , creating the extensions and profile manually is best way. okay. but it's some what difficult and what should i take care while creating them manually? what's the exact process? actually in the begining i tryed that but facing problems. so i used clinfhir. so please help me.</p>



<a name="153885886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153885886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153885886">(Apr 25 2017 at 08:39)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193206">@Jayashree Surnar</span>, actually I'm suggesting that you try to pick a tool that you like. Although it is certainly possible to author XML/JSON profiles manually, I wouldn't recommend it as it is quite involved and fairly easy to introduce errors - while developing the tools, we identified and fixed quite a number of errors in the hand-written core resource definitions. ClinFhir works great for basic use cases and has a very friendly user interface, so if you like the tool, please continue to use it! For more advanced scenario's you could use one of the other tools, e.g. Forge. Note that it is trivial to convert FHIR resources between XML and JSON, so although it may be a bit inconvenient, that shouldn't be a show stopper.</p>



<a name="153885889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153885889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153885889">(Apr 25 2017 at 08:49)</a>:</h4>
<p>again thank you. <span class="user-mention" data-user-id="191336">@Michel Rutten</span> .  actually we are building an ipad app stu3 support. where forge willn't support stu3 right. present i'm using clinfhir but i don't know whether it's a standard or not. and  for one of the screen we have to create the questions form. so to do that we are planing to use clinfhir(buildScenario) but don't know whether this process is correct? or not?</p>



<a name="153885893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153885893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153885893">(Apr 25 2017 at 09:16)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193206">@Jayashree Surnar</span>, we are now finalizing the new Forge for STU3 release and it will be available for download ASAP. There is no "standard" tool, FHIR itself defines the standard and there are many tools available that implement (specific parts of) the standard. ClinFHIR is a profiling tool designed and used for HL7 clinical connectathons and it is widely accepted. Forge has also gained a significant user base and has been used in production scenarios since FHIR DSTU1.<br>
You already found the Zulip streams, which is a great help for implementers. Don't hesitate to ask your questions in here, as the FHIR community is very helpful. You may even find other developers working on the same problem space.</p>



<a name="153885895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153885895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153885895">(Apr 25 2017 at 09:21)</a>:</h4>
<p>okay sure. <span class="user-mention" data-user-id="191336">@Michel Rutten</span> .</p>



<a name="153891929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891929">(Jun 01 2017 at 10:16)</a>:</h4>
<p>I'm looking for a sound example use of ElementDefinition.type.targetProfile vs ElementDefinition.type.profile - I have a hard time understanding it so I would like to know if someone can explain it</p>



<a name="153891931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891931">(Jun 01 2017 at 12:08)</a>:</h4>
<p>say the type of element is Reference(Patient)</p>



<a name="153891932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891932">(Jun 01 2017 at 12:08)</a>:</h4>
<p>type.profile is a profile that applies to Reference()</p>



<a name="153891933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891933">(Jun 01 2017 at 12:08)</a>:</h4>
<p>type.targetProfile applies to the Patient part </p>



<a name="153891939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891939">(Jun 01 2017 at 14:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I don't follow. Why would type.profile differ from type.targetProfile? Let's say my profiled encounter needs to reference a profiled patient and no other patient profiles. How would profile and targetProfile differ? What is gained?</p>



<a name="153891940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891940">(Jun 01 2017 at 14:46)</a>:</h4>
<p>"profile" would assert constraints that apply to the Reference data type.  E.g. whether Reference.reference or Reference.display were required or mustSupport.  "targetProfile" would assert constraints that apply to the referenced resource - Patient in this case.</p>



<a name="153891941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891941">(Jun 01 2017 at 15:04)</a>:</h4>
<p>so "profile" (when marking subject in forge) in forge is a referene to Encounter.subject.reference (in my case)?</p>



<a name="153891948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891948">(Jun 01 2017 at 15:31)</a>:</h4>
<p>profile on Encounter.subject would apply to the data type of Encounter.subject (which is Reerence).  targetProfile on Encounter.subject would apply to what the reference points to</p>



<a name="153891957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891957">(Jun 01 2017 at 17:11)</a>:</h4>
<p>Is there an example where this is used (eg. DAF or somewhere else)?</p>



<a name="153891960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891960">(Jun 01 2017 at 17:59)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191427">@Jens Villadsen</span>  I have an example here for the targetProfile subject: <a href="http://chmed16af.emediplan.ch/StructureDefinition-chmed16af-mp-composition.html" target="_blank" title="http://chmed16af.emediplan.ch/StructureDefinition-chmed16af-mp-composition.html">http://chmed16af.emediplan.ch/StructureDefinition-chmed16af-mp-composition.html</a></p>



<a name="153891962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891962">(Jun 01 2017 at 18:05)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191478">@Oliver Egger</span> - As far as I can see your example does not contain any types that both have profile AND targetProfile. I understand use of the targetProfile</p>



<a name="153891976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891976">(Jun 01 2017 at 20:55)</a>:</h4>
<p>it's pretty unusual to do both, because mostly we don't take the time to profile Reference itself. But since we added .identifier, it becomes more common. Consider: you want to say:<br>
- you have to provide a reference, and not an identifier<br>
- the reference has to point to a US patient</p>



<a name="153891977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891977">(Jun 01 2017 at 20:55)</a>:</h4>
<p>you need both for that</p>



<a name="153891980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891980">(Jun 01 2017 at 21:11)</a>:</h4>
<p>I'll make an example and a gforge to add to profiling doco ... its bound to come up again.</p>



<a name="153891991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153891991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153891991">(Jun 01 2017 at 22:05)</a>:</h4>
<p>Even before Reference.identifier got added, you might want to have made Reference.reference 1..1 (by default it's optional, meaning you can have a Reference that just has a display).  As well, you might want to insist on (or more rarely prohibit) Reference.display.</p>



<a name="153892041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892041">(Jun 02 2017 at 07:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - now I sort of get it ... but as you point out, I would also expect it to be uncommon that one profiles the Reference it self (I could be wrong here).  <span class="user-mention" data-user-id="191401">@Eric Haas</span> - I'll be looking forward to see your great example :)</p>



<a name="153892042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892042">(Jun 02 2017 at 07:16)</a>:</h4>
<p>yes it's not that common. But it's growing. I've done it - rule out identifier and display</p>



<a name="153892043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892043">(Jun 02 2017 at 07:18)</a>:</h4>
<p>It would be nice if the description was better, that's where I looked and it didn't help explain the situation</p>



<a name="153892044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892044">(Jun 02 2017 at 07:18)</a>:</h4>
<p>do you want to create a task?</p>



<a name="153892045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892045">(Jun 02 2017 at 07:19)</a>:</h4>
<p>Yeah happily so. Actually how can I search for tasks I've already made - might have reported it before. I don't know how to filter by all tasks I've ever submitted in gforge</p>



<a name="153892046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892046">(Jun 02 2017 at 07:23)</a>:</h4>
<p>Aha, it seems to be <a href="http://gforge.hl7.org/gf/my/monitors/" target="_blank" title="http://gforge.hl7.org/gf/my/monitors/">http://gforge.hl7.org/gf/my/monitors/</a></p>



<a name="153892048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892048">(Jun 02 2017 at 07:27)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13474" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13474">Filed</a></p>



<a name="153892050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892050">(Jun 02 2017 at 07:29)</a>:</h4>
<p>thx</p>



<a name="153892059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892059">(Jun 02 2017 at 08:35)</a>:</h4>
<p>Please note that the initial Forge STU3 release introduces support for both type.profile and type.targetProfile. However there are still a few bugs in the validation logic were it inspects the wrong field and complains. We're planning to publish a bugfix release shortly that will fix this.</p>



<a name="153892203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892203">(Jun 03 2017 at 04:04)</a>:</h4>
<p>In SD it looks like this....</p>
<div class="codehilite"><pre><span></span>     &lt;element id=&quot;Basic.subject&quot;&gt;
    ...
      &lt;type&gt;
      &lt;code value=&quot;Reference&quot;/&gt;
       &lt;profile value=&quot;http://www.fhir.org/guides/ig-template/StructureDefinition/ifr&quot;/&gt;
      &lt;targetProfile value=&quot;http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient&quot;/&gt;
       &lt;/type&gt;
        ...
</pre></div>


<p>Its implemented <a href="http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-basic2.html" target="_blank" title="http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-basic2.html">here</a> and <a href="http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-ifr.html" target="_blank" title="http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-ifr.html">here</a> but<br>
a couple of issues with ig-pub tool so not rendering correctly ( see <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13480" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13480">GF#13480</a>)</p>
<p>instead of <code>Reference(US Core Patient Profile)</code>  it should be  <code>Identifer Free Reference Data Type(US Core Patient Profile)</code></p>



<a name="153892285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892285">(Jun 05 2017 at 07:10)</a>:</h4>
<p>hello all,here my doubt is,  if i create a patient profile based on HL7 Patient resource, and i'm using othere resources as it is. for example in AllergyIntolerance.patient is refering to the base hl7 Patient,  but where as in our case we created the patient profile then again shall i need to create AllergyIntolerance profile which is ponting to our Patient profile? if yes, then un neccesarly i need to create profiles for all the Resources which are pointing to the Patient  right?  please any suggestions? how to solve this. </p>
<p>Thank you.</p>



<a name="153892286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892286">(Jun 05 2017 at 07:29)</a>:</h4>
<p>Within an implementation guide, you can define default profiles for each resource type - so you could declare your patient profile as the default for your IG, meaning there'd be no need to profile any references to Patient so long as your ownly constraint was that they pointed to your patient profile.  If you're not using an ImplementationGuide or you want to control what uses your profiled patient and what uses the generic patient, then you'll need to be explicit with profiles for all resources you use.</p>



<a name="153892338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892338">(Jun 06 2017 at 00:07)</a>:</h4>
<p>Default profiles use <code>ImplementationGuide.global</code></p>



<a name="153892351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892351">(Jun 06 2017 at 04:07)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, <span class="user-mention" data-user-id="191682">@Richard Townley-O'Neill</span>  for ur resposes. again i'm littlebit confusing. what you are saying is if we maintain our IG . and if i create any profiles(ex: patient) then no need to give that reference in other resources(ex:AllergyIntolerance.patient) manually right? or we have to change in each and every resources(example: if we are using other 40 resources) which are refering to patient?</p>



<a name="153892353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892353">(Jun 06 2017 at 04:12)</a>:</h4>
<p>ImplementationGuide.global allows you to define profiles that apply to all resources in your IG that don't explicitly declare other profiles.  If you validate an instance and referecence the IG, those global profiles should automatically be applied.</p>



<a name="153892355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892355">(Jun 06 2017 at 04:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  i'm talking about the profiles for example <a href="http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html" target="_blank" title="http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html">http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html</a>  here they refering to US core patient profile.</p>



<a name="153892356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892356">(Jun 06 2017 at 04:16)</a>:</h4>
<p>They chose to refer explicitly.</p>



<a name="153892357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892357">(Jun 06 2017 at 04:21)</a>:</h4>
<p>here if i'm using nearly 40 other HL7 resources as it is(not creating the profile). and i'm creating the Patient profile.  but in other resources by default the reference would be patient(hl7) right. in this case shall i need to change that reference to our patient in all the resources manually?</p>



<a name="153892366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892366">(Jun 06 2017 at 04:38)</a>:</h4>
<p>You don't need to do that <em>if</em> you define all of your profiles in the scope of an IG, your IG declares that patient profile as a default, and the validator is passed the IG when it performs the validation</p>



<a name="153892368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892368">(Jun 06 2017 at 04:39)</a>:</h4>
<p>thank you <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> </p>



<a name="153892550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892550">(Jun 06 2017 at 19:27)</a>:</h4>
<p>Hi.. Apologies if this is in the wrong section. I'm trying to use an HL7 extension in one of my profiles, but the IG Publishing tool doesn't seem to like it.  It tells me that I 'must have rows', and I'm unsure what that is.. my XML StructureDefinition is identical to all the examples I can find. </p>
<p><a href="/user_uploads/10155/hNyCsVKGunaEexyfQYSTqQA9/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<p>I've tried both building with and without the StructureDefinition of the extension downloaded from <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a>. (is this necessary when it's an official extension? )</p>
<p>This is the relevant section of the SD, that when removed allows the IG publisher to finish.</p>
<p><a href="/user_uploads/10155/CSqv--Gi0Mz5j7P1uFbdWYjT/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<p>Appreciate any guidance. Thank you.</p>
<div class="message_inline_image"><a href="/user_uploads/10155/CSqv--Gi0Mz5j7P1uFbdWYjT/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/CSqv--Gi0Mz5j7P1uFbdWYjT/pasted_image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/10155/hNyCsVKGunaEexyfQYSTqQA9/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/hNyCsVKGunaEexyfQYSTqQA9/pasted_image.png"></a></div>



<a name="153892579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892579">(Jun 07 2017 at 01:11)</a>:</h4>
<p>Can you show the full stack trace?</p>



<a name="153892673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892673">(Jun 07 2017 at 14:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  <span class="user-mention" data-user-id="193206">@Jayashree Surnar</span>  They also did not know about the global element until now (because they essentially ignored ig.xml as pretty lame - I assume the idea is to eventually merge ig.json and ig.xml  into a single IG resource). </p>
<p>Does</p>
<ul>
<li>1)  global work even if the SD is being defined in the same IG</li>
<li>2)  and is it reflected in the snapshot generation <em>even if</em> the element is not listed in the differential since you don't care about it  -   e.g.,  the <code>asserter</code>element  US-Core Condition Profile.</li>
</ul>



<a name="153892685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892685">(Jun 07 2017 at 16:47)</a>:</h4>
<p>Not sure I understand ig.json vs. ig.xml?  Are you talking about the JSON igPublisher config file?  That's something different - though I generate mine from the ImplementationGuide resource instance.  Global should work regardless of where the SD is defined.  My understanding of how it works is that if the validator hits a resource and there's no other profile defined on the resource, the global profile applies.  (I don't know whether/how well this works in the current validator.)</p>



<a name="153892869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jayashree Surnar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892869">(Jun 08 2017 at 04:22)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191401">@Eric Haas</span> , as i'm new to fhir i'm confusing about the IG. from where to start. as of now just we used the clinical resources. but not yet started the IG. so please any suggesions. </p>



<a name="153892871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153892871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153892871">(Jun 08 2017 at 04:56)</a>:</h4>
<p>ig.json is a build thing - it doesn't contain anything intended for the consumers of the Implementation Guide. Anything for consumers is in ig.xml. Most of the stuff in ig.json is specific to a particular build tool. So they will remain separate</p>



<a name="153893295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893295">(Jun 12 2017 at 23:09)</a>:</h4>
<p>Hi All,<br>
I need help to reference a local Patient profile in Medication Statement Profile. <br>
Both the profiles (xml files) are present in the folder structure as shown in the attached snapshot. <br>
None of the profiles has been published online and has no external uri/url.<br>
Can you please suggest how can I reference it. <br>
I can also attach both the MedicationStatement and the Patient profile files for your reference if required.</p>
<p>&lt;StructureDefinition&gt;<br>
...<br>
...<br>
...<br>
&lt;differential&gt;   <br>
    &lt;element&gt;<br>
      &lt;path value="MedicationStatement.subject" /&gt;<br>
      &lt;type&gt;<br>
        &lt;code value="Reference" /&gt;<br>
<strong>&lt;targetProfile value="<del>../StructureDefinition/dh-Patient</del>" /&gt;</strong><br>
        &lt;aggregation value="referenced" /&gt;<br>
      &lt;/type&gt;<br>
    &lt;/element&gt;<br>
  &lt;/differential&gt;<br>
&lt;/StructureDefinition&gt; </p>
<p><a href="/user_uploads/10155/8BFZpCllgfFcYT5SsykZhA0K/2017-06-13_090823.jpg" target="_blank" title="2017-06-13_090823.jpg">2017-06-13_090823.jpg</a> </p>
<p>Thanks.</p>
<div class="message_inline_image"><a href="/user_uploads/10155/8BFZpCllgfFcYT5SsykZhA0K/2017-06-13_090823.jpg" target="_blank" title="2017-06-13_090823.jpg"><img src="/user_uploads/10155/8BFZpCllgfFcYT5SsykZhA0K/2017-06-13_090823.jpg"></a></div>



<a name="153893306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893306">(Jun 13 2017 at 02:31)</a>:</h4>
<p>in what context do you want to reference it? </p>



<a name="153893312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893312">(Jun 13 2017 at 03:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I have to create a Medication Statement profile where for the MedicationStatement.subject I need to reference the patient profile which has been created and is locally available. We cannot publish the patient profile yet and thus need to find a way to reference it locally. <br>
If I am able to reference this correctly and successfully then I will create a json file for Medication Statement and run that through the IG Publisher to create various artefacts. <br>
Thus I need to know the correct syntax to be used in the MedicationStatement profile for referencing! </p>



<a name="153893313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893313">(Jun 13 2017 at 03:21)</a>:</h4>
<p>oh. so the the context is the IG publisher</p>



<a name="153893314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893314">(Jun 13 2017 at 03:22)</a>:</h4>
<p>the IG publisher doesn't have a way to publish something based on something that is not published</p>



<a name="153893315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893315">(Jun 13 2017 at 03:30)</a>:</h4>
<p>if you did run the original profiles to produce an IG output you could do a local reference to the definitions.xml.zip output (relative path) by adding a dependency to the ig.json (project) doing the refererencing </p>



<a name="153893317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893317">(Jun 13 2017 at 03:30)</a>:</h4>
<p>{<br>
       "name" : "aubase",<br>
       "location" : "<a href="http://build.fhir.org/ig/hl7au/au-fhir-base" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base">http://build.fhir.org/ig/hl7au/au-fhir-base</a>",<br>
       "source" : "resources/base"<br>
    }</p>



<a name="153893319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893319">(Jun 13 2017 at 03:31)</a>:</h4>
<p>i.e. relative path to an IG output </p>



<a name="153893322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893322">(Jun 13 2017 at 03:32)</a>:</h4>
<p>but would need to run Patient profile through ig builder to get an output... </p>



<a name="153893952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153893952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153893952">(Jun 15 2017 at 03:12)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191368">@Brett Esler</span> <br>
I will try first what Brett has suggested. will ping back in case i face an issue. Cheers. </p>



<a name="153896177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153896177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gerhard Andreassen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153896177">(Jul 06 2017 at 08:55)</a>:</h4>
<p>Hello. Can someone please help explain this error-message i get in Forge 16.1  ?<br>
The element subject is a reference to a Patient profile which we intend to use.<br>
How can i fix this error and make sure that the MedicationStatement profile refers to the correct Patient profile ?</p>
<p>[Severity: Error] [Code: Invalid] <a href="http://test.com/FHIR/profiles/Diagnostics.MedicationStatement/MedicationStatement" target="_blank" title="http://test.com/FHIR/profiles/Diagnostics.MedicationStatement/MedicationStatement">http://test.com/FHIR/profiles/Diagnostics.MedicationStatement/MedicationStatement</a> (Element 'MedicationStatement.subject' has an invalid type profile constraint '<a href="http://test.com/FHIR/profiles/Clinical.Patient/Patient" target="_blank" title="http://test.com/FHIR/profiles/Clinical.Patient/Patient">http://test.com/FHIR/profiles/Clinical.Patient/Patient</a>'. The target represents a profile on 'Patient' which is incompatible with the element type 'Reference'.)</p>



<a name="153896179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153896179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153896179">(Jul 06 2017 at 09:15)</a>:</h4>
<p>I think you intend to put it into <code>targetProfile</code>, not <code>profile</code>. Give that a go</p>



<a name="153896195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153896195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gerhard Andreassen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153896195">(Jul 06 2017 at 13:02)</a>:</h4>
<p>Yes, that works. But there is one thing i don't understand. Why don't i get a warning or error on the Patient profile URL, when the URL is invalid ?<br>
In the target.profile textfield, i can input whatever, and it still validates. Why is that ?</p>



<a name="153896208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/153896208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#153896208">(Jul 06 2017 at 15:05)</a>:</h4>
<p>Forge uses the .NET API to validate your inputs, and the .NET API does not validate primitives of type "uri" (which the "targetProfile" element is), since it's pretty hard to validate what's a valid uri.  We have found some regexes that try, but I wasn't too sure they were completely right - and frankly people use urls that are not 100% valid - most browsers will still accept them.   So, in the end, we decided not to validate uris in the .NET API Pocos....</p>



<a name="157656002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/157656002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashwin Kandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#157656002">(Feb 06 2019 at 01:10)</a>:</h4>
<p>Suppose I am implementing a FHIR server. I decide to use a Patient Resource, but only select/implement few of the fields specified in the base specification along with extensions. </p>
<p>How do i communicate this information to the consumer of my server . Do i need to create new Structural Definition to reflect the modified Patient resource used in my system ? </p>
<p>As per my understanding,  capability statement exposes resources and what operations they  support on basic level. Is there a mechanism to tell the user of my server what all  fields for a certain resource is expected in my system ?</p>



<a name="157656226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/157656226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#157656226">(Feb 06 2019 at 01:14)</a>:</h4>
<p>You could create a StructureDefinition with that information, but I don't think there is no standard way for a client to get to that (via API calls)</p>



<a name="157656264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/157656264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#157656264">(Feb 06 2019 at 01:15)</a>:</h4>
<p>...and it does not really matter: as long as your server generates FHIR-compliant data the client would not much care which fields are actually implemented or not</p>



<a name="157656409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/157656409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashwin Kandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#157656409">(Feb 06 2019 at 01:18)</a>:</h4>
<blockquote>
<p>...and it does not really matter: as long as your server generates FHIR-compliant data the client would not much care which fields are actually implemented or not</p>
</blockquote>
<p>What if client send me a field for a resource whose implemention is not defined in my server ? Should i return OperationOutcome  resource indicating failure message in such case .. ?</p>



<a name="157656498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/157656498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#157656498">(Feb 06 2019 at 01:20)</a>:</h4>
<p>I'd say no: it  would force the clients to have to craft request specifically for your server</p>



<a name="157656505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/157656505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#157656505">(Feb 06 2019 at 01:20)</a>:</h4>
<p>Just ignore the data that is not supported</p>



<a name="157662630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/157662630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#157662630">(Feb 06 2019 at 03:44)</a>:</h4>
<p>The only exception to "ignore unsupported data" is if it's a modifier element whose meaning you don't recognize (which would typically be a modifier extension or an unrecognized uri in implicitRules.  In those cases you can't safely process the instance and would need to reject, store it as a text blob of just narrative or invoke some other sort of alternate behavior.</p>



<a name="185056325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/185056325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sean zitello <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#185056325">(Jan 07 2020 at 21:24)</a>:</h4>
<p>This is mostly a sanity check as to my understanding of profiling and how to consume on the client side.  Generally my transformation tools want to start with XSD which FHIR already provides.  Consuming the us-core IG for instance, changes some of the resources adds some values sets and search parameters.  That is simple process for the server as I can post those to it.  From the client side, I had hoped to be able to have an  XSD from the snapshot of profiles to create a new definition for the tooling.  But it doesn't sound like that is possible or perhaps even advisable.  In which case, not sure what to do except give the developer the IG and code appropriately.  Is my understanding correct or have I missed something here?</p>



<a name="185184620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/185184620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#185184620">(Jan 09 2020 at 05:25)</a>:</h4>
<p>XDS is able (by far) to express all of the constraints as present in a profile. As such working with XSD only ever will give you a ballpark idea of the validity of a FHIR instance. If you combine XSD with Schematron it gets a bit better, but it'll still be below par. <br>
For a mapping kind of tool which is based on XSDs I can see why you'd like to have an XSD for a profiled resource, so at least you can take into account whether certain data elements have been made mandatory or whether they have been removed. I'm not aware that such an XSD generating capacity exists, but I'm not a tooling pundit so perhaps others can chime in.</p>



<a name="185185825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/185185825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Liam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#185185825">(Jan 09 2020 at 05:57)</a>:</h4>
<p>Hi,<br>
I have a Use Case where I need ClinicalImpression reference in Observation(not the other way around).<br>
 I can take Base Observation profile and add it as a resource reference in extensions.<br>
Is it possible to add ClinicalImpression directly (parallel to subject,context) through profiling and not in the extensions?</p>
<p>Thanks</p>



<a name="185186038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/185186038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#185186038">(Jan 09 2020 at 06:02)</a>:</h4>
<p>Nope.<br>
Profiles work with existing elements in a profile, they do not really add elements.<br>
A profile adds an extension to a resource  by working with pre-existing extension elements in the resource.</p>



<a name="185186059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/185186059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#185186059">(Jan 09 2020 at 06:03)</a>:</h4>
<p>Extensions are the only way to add elements to a resource.</p>



<a name="185186254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profiling/near/185186254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profiling.html#185186254">(Jan 09 2020 at 06:08)</a>:</h4>
<p>An instance of a resource, say an instance of <a href="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html">AU Base Patient Profile</a> can use extensions not mentioned in that profile.<br>
Mentioning extensions in the profile without giving them a minimum cardinality of 1 (e.g. <a href="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient-definitions.html#Patient.extension:birthPlace" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient-definitions.html#Patient.extension:birthPlace">patient-birthPlace</a>) is just documentation.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
