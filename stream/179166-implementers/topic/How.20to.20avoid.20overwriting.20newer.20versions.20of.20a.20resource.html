---
layout: page
title: "FHIR Chat  · How to avoid overwriting newer versions of a resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20avoid.20overwriting.20newer.20versions.20of.20a.20resource.html">How to avoid overwriting newer versions of a resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153897368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20avoid%20overwriting%20newer%20versions%20of%20a%20resource/near/153897368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Orr <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20avoid.20overwriting.20newer.20versions.20of.20a.20resource.html#153897368">(Jul 19 2017 at 22:30)</a>:</h4>
<p>We have a scenario whereby two clients are performing conditional updates to a resource and we want to ensure that a newer version of the resource, is not overwritten by an older version. Essentially, we want to address the "lost updates problem". </p>
<p>How can this be achieved without requiring the client to first retrieve the resource? </p>
<p>We have a basic requirement of having the client supply a date of last edit/update but running into where to put it within the resource?</p>
<p>Is there a better way?</p>



<a name="153897391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20avoid%20overwriting%20newer%20versions%20of%20a%20resource/near/153897391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20avoid.20overwriting.20newer.20versions.20of.20a.20resource.html#153897391">(Jul 20 2017 at 01:51)</a>:</h4>
<p>When you create or update a resource, the server can send back an etag in the HTTP header.  The server can require submission of the etag on subsequent updates.  If the etag isn't the same as the current version, the update will be rejected.  See here: <a href="http://hl7.org/fhir/http.html#concurrency" target="_blank" title="http://hl7.org/fhir/http.html#concurrency">http://hl7.org/fhir/http.html#concurrency</a></p>



<a name="153897405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20avoid%20overwriting%20newer%20versions%20of%20a%20resource/near/153897405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Orr <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20avoid.20overwriting.20newer.20versions.20of.20a.20resource.html#153897405">(Jul 20 2017 at 02:28)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , that's the clarification we were after. We're going to push the problem of handling different versions of resources created by the client, back to the client.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
