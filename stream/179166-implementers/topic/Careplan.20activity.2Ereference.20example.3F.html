---
layout: page
title: "FHIR Chat  · Careplan activity.reference example? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Careplan.20activity.2Ereference.20example.3F.html">Careplan activity.reference example?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="187556748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Careplan%20activity.reference%20example%3F/near/187556748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Careplan.20activity.2Ereference.20example.3F.html#187556748">(Feb 06 2020 at 15:19)</a>:</h4>
<p>Is there a Careplan example which demonstrates the use of <code>Careplan.activity.reference</code>?</p>
<p>I'm trying to validate a FHIR careplan example where <code>Careplan.activity.reference</code> will reference a MedicationRequest resource.  What I find weirdly circular is that there is an attribute generically called "reference" which also happens to be a Reference().  At least with outcomesReference, it's a different name. This seems to point back to itself.  Regardless, when I create an example, it won't validate.<br>
for example:<br>
<code>    "activity": [
            "reference": {
              "reference": {
                       "MedicationRequest/16885"
              },
             etc...
</code><br>
The above gives the error: cpl-3: Provide a reference or detail, not both [detail.empty() or reference.empty()</p>
<p><em>Question</em>: Is the syntax wrong, or is this a validator bug, or should I not be using this attribute at all?</p>
<p>cc: <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> since this is related to PCDE examples creation for Guidewell + HIMSS20 showcase.</p>



<a name="187580008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Careplan%20activity.reference%20example%3F/near/187580008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Careplan.20activity.2Ereference.20example.3F.html#187580008">(Feb 06 2020 at 19:27)</a>:</h4>
<p>That fragment doesn't look valid.  Should be a <code>{</code> after the start of the array.  Also, what's in the <code>etc...</code> bit matters very much.  You can't have a detail element - only the reference.  Can you provide your actual instance?</p>



<a name="188419131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Careplan%20activity.reference%20example%3F/near/188419131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Careplan.20activity.2Ereference.20example.3F.html#188419131">(Feb 18 2020 at 02:24)</a>:</h4>
<p>You might try using <a href="http://build.fhir.org/ig/HL7/fhir-shorthand/" target="_blank" title="http://build.fhir.org/ig/HL7/fhir-shorthand/">shorthand / sushi</a> to generate the examples - it does do basic validation. another example here: <a href="https://fhirblog.com/2020/02/10/family-fhir-with-sushi/" target="_blank" title="https://fhirblog.com/2020/02/10/family-fhir-with-sushi/">https://fhirblog.com/2020/02/10/family-fhir-with-sushi/</a></p>



<a name="188698392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Careplan%20activity.reference%20example%3F/near/188698392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Careplan.20activity.2Ereference.20example.3F.html#188698392">(Feb 21 2020 at 02:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> - Thanks! I'll give that change a try. Otherwise, I'll attach the bundle example to ask for a second review to possibly catch the error.<br>
<span class="user-mention" data-user-id="191321">@David Hay</span> -  Yeh...I've been creating examples for our mCODE IG with shorthand, so I'm kinda familiar with it.  Shorthand is nice for simple straightforward examples but it falls short for what I need at this time. I'm creating a complex PCDE bundle which I found is more cumbersome to represent in FHIR shorthand with PCDE's dependencies on 2 different IGs (US Core and PAS) as well as the number of entries and references in my example.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
