---
layout: page
title: "FHIR Chat  · Changes to Device Resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html">Changes to Device Resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153970214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970214">(Jun 17 2018 at 16:44)</a>:</h4>
<p>We'll add a "device.component" to the Device Resource, supporting N levels of devices. <br>
Some questions:</p>



<a name="153970215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970215">(Jun 17 2018 at 16:44)</a>:</h4>
<p>1. It seems more reasonable to put "device.component" than "device.parent". This way it's the parent that points to eventual children. Is this agreeable?</p>



<a name="153970216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970216">(Jun 17 2018 at 16:47)</a>:</h4>
<p>2. Device.component can be implemented in different ways:<br>
a) a reference to Device, so if we need to define the component, it is either a contained resource or must exist as an instance<br>
b) a nested Device (i.e. allowing to repeat the whole structure), so that we can, in one single resource, define the components as well. (actually I am not sure it is possible to nest the device root, but let's assume so)<br>
On this point I would lean to a), because while with a) the device component can be contained  or autonomous, with b) it can only be contained, i think.<br>
a) is closer to the current design where a device component is an autonomous resource, which seems ok (IRL components may become devices and vice-versa).</p>



<a name="153970217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970217">(Jun 17 2018 at 16:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191968">@Ioana Singureanu</span> <span class="user-mention" data-user-id="191689">@Hans Buitendijk</span> Please help: whom should we ping to comment on this?</p>



<a name="153970218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970218">(Jun 17 2018 at 16:52)</a>:</h4>
<p><span class="user-mention" data-user-id="192966">@Stefan Karl</span></p>



<a name="153970241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Karl <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970241">(Jun 18 2018 at 08:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> <br>
1. Currently DeviceComponent points to the Device resource. This follows the rule that the reference should be in the resource that is usually created second - e. g. a module (DeviceComponent) that is plugged into a system (Device). The "parent" reference will also make it easier to detect the top-level device in a tree structure by searching for a Device that has no parent. What is the benefit of changing direction?<br>
2. I agree making it a separate resource for the reason you mentioned.<br>
There is a proposal for a merged Device resource at this <a href="http://wiki.hl7.org/index.php?title=Device-DeviceComponent_Merge" target="_blank" title="http://wiki.hl7.org/index.php?title=Device-DeviceComponent_Merge">wiki page</a>, which has been discussed in the Devices workgroup.</p>



<a name="153970293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970293">(Jun 18 2018 at 18:01)</a>:</h4>
<p>I think we could also have the child pointing to parent, yes. (There was no specific reason for doing the other way around, so we can choose)</p>



<a name="153970294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970294">(Jun 18 2018 at 18:02)</a>:</h4>
<p>when defining (e.g. in a catalog) or identifying (e.g. in an order or procedure) a device, i think it makes more sense to point to the parent, no?</p>



<a name="153970295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970295">(Jun 18 2018 at 18:03)</a>:</h4>
<p>i.e.  "for this procedure, use this device (and whatever modules you need from it)" seems more natural.</p>



<a name="153970297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970297">(Jun 18 2018 at 18:05)</a>:</h4>
<p>this may not necessarily require to chose the top-down approach (child pointing to parent). We have to discuss to see which one to use</p>



<a name="153970298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970298">(Jun 18 2018 at 18:09)</a>:</h4>
<p>we should use the content of the wiki page to check if we are missing something (although that page includes kind and instance).</p>



<a name="153970365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970365">(Jun 18 2018 at 21:48)</a>:</h4>
<p>component should point to parent.  whether is Device or DeviceComponent.</p>



<a name="153970367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970367">(Jun 18 2018 at 21:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>  did you look at <a href="#narrow/stream/103-Orders-and.20Observation.20WG/subject/GF.2315596.20.20Request.20cardinality.20of.20Device.2Etype.20be.20changed.20from/near/132231" title="#narrow/stream/103-Orders-and.20Observation.20WG/subject/GF.2315596.20.20Request.20cardinality.20of.20Device.2Etype.20be.20changed.20from/near/132231">this</a> I thought was pretty straightforward except for the specialization bit that Brian talked about.  Whatever that is should be a) defined so we all know what it is and then b) decide if is in 80% or extension.</p>



<a name="153970370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153970370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153970370">(Jun 18 2018 at 21:59)</a>:</h4>
<p>We will merge Device and DeviceComponent. The specialization can be added and the rest we can converge on. I am building a first iteration of the revised resources now.</p>



<a name="153974340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/153974340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#153974340">(Jul 09 2018 at 16:34)</a>:</h4>
<p>Can someone tell me what the hierarchy will look like with the Device-DeviceComponent merge for PHD devices? <br>
For a PHD that connects via a mobile application, will the top-level Device be the PHD or the mobile app?</p>



<a name="154005523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005523">(Oct 03 2018 at 20:16)</a>:</h4>
<p>In line with the last question, can someone give me a quick explanation of the modeling of a PHD (personal health device). What I'm looking for is the hierarchy/relationships/resources to represent the PHG (gateway), PHD (device), and Observation. I'd like to know what the prescribed model should look like in STU3, and what it will look like in R4. <br>
<span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>  <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>   anyone? <br>
Thanks!</p>



<a name="154005524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005524">(Oct 03 2018 at 20:18)</a>:</h4>
<p>sure, can you give an example, to instanciate the resources ?</p>



<a name="154005525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005525">(Oct 03 2018 at 20:18)</a>:</h4>
<p>(and sorry for missing the last question)</p>



<a name="154005528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005528">(Oct 03 2018 at 20:19)</a>:</h4>
<p>A bluetooth enabled glucometer (PHD), communicating  data to a mobile phone application (PHG), sending data to a server which then persists to FHIR.</p>



<a name="154005532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005532">(Oct 03 2018 at 20:22)</a>:</h4>
<p>ok, first, i I assume your question is NOT "are apps devices?"</p>



<a name="154005534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005534">(Oct 03 2018 at 20:23)</a>:</h4>
<p>well, yeah, I don't have clarity there. Is the app a Device, a DeviceComponent, or is the whole combined "system" simply an abstract Device.</p>



<a name="154005535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005535">(Oct 03 2018 at 20:23)</a>:</h4>
<p>sure, let's check how it works. but i assume that the app is part of the construct and you don't want to exclude the app</p>



<a name="154005536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005536">(Oct 03 2018 at 20:24)</a>:</h4>
<p>the nice thing now is that there is no DeviceComponent</p>



<a name="154005537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005537">(Oct 03 2018 at 20:24)</a>:</h4>
<p>there is a device that can contain other devices</p>



<a name="154005538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005538">(Oct 03 2018 at 20:24)</a>:</h4>
<p>the Device / DeviceComponent (and now "Device with children Devices")  was conceived for a "hierarchical composition" of devices - a cartridge belonging to a device, or a syringe in a perfusion system, or a lead in the ECG...</p>



<a name="154005552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005552">(Oct 03 2018 at 20:31)</a>:</h4>
<p>The PHD is definitely a Device resource.<br>
If the PHG is doing something with the information and if you want to consider that as a relevant part of the  system (I would), and not a passive gateway, you have another device.</p>



<a name="154005553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005553">(Oct 03 2018 at 20:31)</a>:</h4>
<p>now, the questions for feedback:</p>



<a name="154005556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005556">(Oct 03 2018 at 20:33)</a>:</h4>
<p>do you see the app as a child of the PHD (i mean is the app something that comes with the device)?<br>
or is the app a more generic aggregator or communication system that handles this and other PHDs?</p>



<a name="154005558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005558">(Oct 03 2018 at 20:34)</a>:</h4>
<p>You have two devices. Whether the PHG is a device on its own or the PHG is a part of a "configuration" together with the PHD, i would say it depends on how they are designed to work with each other.</p>



<a name="154005562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005562">(Oct 03 2018 at 20:36)</a>:</h4>
<p>but my first guess would be "PHG / App" is parent device, PHD is another device</p>



<a name="154005564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005564">(Oct 03 2018 at 20:37)</a>:</h4>
<p><span class="user-mention" data-user-id="193261">@craig mcclendon</span>  Continua has specified guidelines for FHIR uploads. THere is also an implementation guide submitted for ballot based upon DSTU3. This implementation was a best fit scenario given DSTU3. However, with the Device/DeviceComponent merge in R4, a new mapping has been specified and an IG guide for it is in development. I am writing it. You can find the R4 IG on github/HL7. The DSTU3 version is here<br>
<a href="https://simplifier.net/guide/pchapersonalhealthdevicedataimplementationguide/home2" target="_blank" title="https://simplifier.net/guide/pchapersonalhealthdevicedataimplementationguide/home2">https://simplifier.net/guide/pchapersonalhealthdevicedataimplementationguide/home2</a></p>
<p>The R4 version will be the only mapping that will be part of the final Continua Guidelines.</p>
<p>I have implemented both for all Continua PHDs</p>



<a name="154005572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005572">(Oct 03 2018 at 20:44)</a>:</h4>
<p><span class="user-mention" data-user-id="192228">@Brian Reinhold</span> is the IG called uv-pocd?</p>



<a name="154005575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005575">(Oct 03 2018 at 20:44)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="192228">@Brian Reinhold</span> is the IG called uv-pocd?</p>
</blockquote>
<p>No. That is PoCD devices (Point of Care). It is called PHG</p>
<p><a href="https://github.com/HL7/PHD" target="_blank" title="https://github.com/HL7/PHD">https://github.com/HL7/PHD</a></p>
<p>Its a work in progress, most of it is done.</p>
<p>Oh yuulk. That's just how to build it which is a major pain. I will attach a zip file that you can view in any browser (after unzipping)</p>



<a name="154005578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005578">(Oct 03 2018 at 20:49)</a>:</h4>
<p><a href="/user_uploads/10155/XJUX7kY7cWL8e_sP1A1vAagA/full-ig.zip" target="_blank" title="full-ig.zip">full-ig.zip</a></p>
<p>hope that worked.</p>



<a name="154005583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005583">(Oct 03 2018 at 21:02)</a>:</h4>
<p>Thanks guys. <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>  - I'm still confused on the proper way to represent things in STU3. The Continua guidelines show an example of a PHD represented as a Device, and a PHG represented as a Device.  And the "Phd Coincident Time Stamp Observation" shows an Observation referencing a DeviceComponent, which is possibly a typo?</p>



<a name="154005587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005587">(Oct 03 2018 at 21:06)</a>:</h4>
<p>I can see a few ways to model it. </p>
<p>App/PHG (Device)<br>
  PHD (DeviceComponent)<br>
     DeviceMetric (dummy resource to contain relationship)<br>
         Observation</p>
<p>The above is problematic for many reasons. </p>
<p>A variation: </p>
<p>App/PHG (DeviceComponent)<br>
  PHD (DeviceComponent)<br>
     DeviceMetric (dummy resource to contain relationship)<br>
         Observation</p>
<p>More problematic.</p>
<p>Or more simply: </p>
<p>Device (an abstract combination of the PHD and PHG)<br>
  Observation<br>
Simple, but is it correct? </p>
<p>Or use extenentions on Device to mimic the R4 modeling?</p>



<a name="154005588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005588">(Oct 03 2018 at 21:09)</a>:</h4>
<p>^zulip took out my formatting, but assume the resource under another resource reference it in the above - ie a parent-child hierarchy</p>



<a name="154005589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005589">(Oct 03 2018 at 21:09)</a>:</h4>
<blockquote>
<p>Thanks guys. <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>  - I'm still confused on the proper way to represent things in STU3. The Continua guidelines show an example of a PHD represented as a Device, and a PHG represented as a Device.  And the "Phd Coincident Time Stamp Observation" shows an Observation referencing a DeviceComponent, which is possibly a typo?</p>
</blockquote>
<p><span class="user-mention" data-user-id="193261">@craig mcclendon</span> That is because there were many problems trying to map PHDs to FHIR and there were many trials. You are seeing the results of that confusion.<br>
In the end, before R4 came out, the PHD and PHG were represented in the DeviceComponent ONLY. Anything else is an error or something from development and trials.  You may not have the final Continua Guidelines.There is an Android application in the playstore LniPlugfestPHG which does the final DSTU3 version of the FHIR upload. Supports HDP and USB 20601 devices and BTLE.</p>
<p>R4 merged DeviceCOmponent and Device and the DeviceCOmponent is gone. New elements were also added in R4 much better for PHD.</p>



<a name="154005591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005591">(Oct 03 2018 at 21:17)</a>:</h4>
<p>Appreciate the help.. </p>
<p>If I need to model this in STU3, would I be very wrong (or run into problems) if I:</p>
<p>a) Combine the PHD and PHG into a single Device resource<br>
   or <br>
b) Add an extension to Device to mimic the R4 Device.parent attribute so I can represent both PHG and PHD as Devices?</p>



<a name="154005592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005592">(Oct 03 2018 at 21:20)</a>:</h4>
<p>.. to add to that, the DeviceComponent-only representation would be problematic for something like a smart inhaler or glucose pump which is administering medication as well as producing observations.</p>



<a name="154005593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005593">(Oct 03 2018 at 21:27)</a>:</h4>
<p><span class="user-mention" data-user-id="193261">@craig mcclendon</span>  If you want to do your own mapping you can do what you want. The problem with FHIR  in DSTU3 was that the System-Model information (manufacturer name and model number) were in the Device and the Production-Spec information was in the DeviceCOmponent. IN the last versions of DSTU3 some fixes were made in the DeviceComponent so a PHD could be mapped ENTIRELY into the DeviceComponent without extensions. The PHG was mapped by assuming it had the same properties as a PHD in a MDS (which it really doesnt have).</p>
<p>In the COntinua mapping, it is critical to report everything the device transmits by standard protocol. The last versions of DSTU3 did this with the addition of the DeviceComponent.properties element. Before that we used extensions in the DeviceComponent to model what would be in the properties.</p>
<p>In the LNIPlugfestPHG you can set the FHIR to 4 different versions (the R4 is not the current R4 but the pre-merge case). Extensions are used in all the options prior to what is listed as R4 in the app (really 3.1.0).</p>
<p>All this confusing crap goes away in 3.5.0/3.6.0</p>



<a name="154005595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005595">(Oct 03 2018 at 21:30)</a>:</h4>
<p><a href="/user_uploads/10155/asOP7kN_xL_McwtgOiTLTtcc/NoninBtle.json" target="_blank" title="NoninBtle.json">NoninBtle.json</a> </p>
<p>Here is a 3.1.0 upload of a BTLE  Nonin PulseOx</p>



<a name="154005597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005597">(Oct 03 2018 at 21:48)</a>:</h4>
<p>So just to be clear, in R4 will the PHG be the parent Device and the PHD the child Device?</p>



<a name="154005598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005598">(Oct 03 2018 at 21:53)</a>:</h4>
<p>hmmm, but that is problematic if a user sync's a PHD through two different PHGs.. for instance if they have the same app on a tablet and phone. You'd need to duplicate the PHD Device to capture both relationships if it is the child.</p>



<a name="154005599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005599">(Oct 03 2018 at 21:54)</a>:</h4>
<p>Still up in the air.<br>
I think what will be decided is that the PHG will be referenced in the OBSERVATION and not the Device. There will be no parent/child relation, because there is not. THere is another good reason NOT to do that. If the PHG is made a parent of the PHD, then every  PHG that uploads the Device resource for a given PHD will need to create its own resource that will differ only in the parent element. Same physical device with two resources. Not good. Since there is no way to use any existing element in the Observation to do this, the PHG will be in an extension. That will be the only extension in the PHD profile.</p>
<p><span class="user-mention" data-user-id="193261">@craig mcclendon</span> I am at an HL7/FHIR meeting right now and they are shutting down. Will have to continue this later.</p>



<a name="154005600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/154005600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#154005600">(Oct 03 2018 at 21:58)</a>:</h4>
<p>That makes most the sense on quick inspection. The Observation should reference the PHD and the PHG separately.</p>



<a name="163478301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/163478301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#163478301">(Apr 16 2019 at 15:12)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="193261">@craig mcclendon</span>,  is there a sample observation resource or documentations explaining this? I'm trying to do something similar,  An App that packages data from the phone (device)'s sensors into an Observation.</p>



<a name="163481553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/163481553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#163481553">(Apr 16 2019 at 15:52)</a>:</h4>
<p><span class="user-mention" data-user-id="194948">@Raheel Sayeed</span>  - I am not sure what the current PHD profile has in it. Would be worth finding out. <span class="user-mention" data-user-id="192228">@Brian Reinhold</span> ?     But what I am currently doing (in STU3) is creating two Devices, one for the sensor (PHD) and one for the phone/gateway (PHG). I have Observation.device reference the PHD. And I add a custom extension to Observation to reference the PHG. (If the devices group has defined a standard extension for that, it of course would be preferable to use that instead making up your own. ) I do not have the two Device resources reference each other in any way. The only relationship between them is linked through the Observations.  <br>
This approach has the downside that you cannot search for Observations from a particular PHG through FHIR directly. But for my cases the PHG association is mostly just for provenance/audit purposes.</p>



<a name="163482619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/163482619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#163482619">(Apr 16 2019 at 16:06)</a>:</h4>
<p>Yes, that's what I'm looking at. For some clarity that's specific to case:<br>
 if Observation.value is from the phone sensor, then the phone itself is PHD. And there's no need for a PHG. <br>
--or--<br>
 because I'm using an app (running on the same phone), would the app then become a PHG?</p>



<a name="163483833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/163483833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#163483833">(Apr 16 2019 at 16:21)</a>:</h4>
<p>I'm not a definitive expert, but I think it could still be useful to separate the two. Changes to the application version,  for instance, could affect the way the data is interpreted/processed. So you may want that information divorced from the sensor.  It also might make your information models more uniform if in the future you collect data from external devices communicating through an app on the phone.  But there are tradeoffs, and you could probably model it either way.</p>



<a name="163484898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/163484898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#163484898">(Apr 16 2019 at 16:36)</a>:</h4>
<p>Makes sense. There  are also complexities where different apps use the same "embedded 3rd party frameworks" that are responsible for harmonizing sensor derivatives. In this case, the 3rd framework/publisher is a reliable PHG. (this is true in my case)</p>



<a name="163507289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Changes%20to%20Device%20Resource/near/163507289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Changes.20to.20Device.20Resource.html#163507289">(Apr 16 2019 at 21:08)</a>:</h4>
<p>In the PHD world where the PHD is a separate entity from the PHG, the important role of the PHG is handling time stamps from the PHD (which are often pretty bad). They are both corrected (if in error) and given an offset to UTC. That allows the measurement time stamp to be sent anywhere and one knows when it is.</p>
<p>In your case the phone is both PHD and gateway. In that case, the 'PHD' is probably well synchronized to UTC and that can be indicated in the PHD Device resource. I do not think you need a PHG Device resource; just be sure to indicate the type of time stamp (base offset time) and the time synchronization protocol. This will tell the reader of the Observation that the device is synchronized to UTC and thus so are the measurement time stamps.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
