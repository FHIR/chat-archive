---
layout: page
title: "FHIR Chat  · Match/Merge · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html">Match/Merge</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153968415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968415">(Jun 11 2018 at 16:29)</a>:</h4>
<p>Consider a situation where a system is aggregating resources from many sources.  System A sends Encounter/A, B sends Encounter/B, and C Encounter/C - all three are successfully written.  A match/merge process determines that A and B are actually the same encounter, but other systems have already used the URIs.</p>
<p>What's the best way for the FHIR server to indicate that Encounter/B is now A.  In normal HTTP, we'd use a 301 response.  The FHIR spec doesn't comment on this use, and there's no way for a client to ask for a redirect (e.g. a DELETE with redirect).  Should we add this?</p>



<a name="153968417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968417">(Jun 11 2018 at 16:41)</a>:</h4>
<p>We have the Linkage resource that allows you to identify both as representing the same thing, but that doesn't let you remove one.  (And it relies on someone querying Linkage to realize that the relationship exists.)</p>



<a name="153968418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968418">(Jun 11 2018 at 16:43)</a>:</h4>
<p>Linkage type "source" is Provenance, no? This thing (Linkage) brings up all kinds of questions...</p>



<a name="153968419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968419">(Jun 11 2018 at 16:46)</a>:</h4>
<p>Should the presence of a Linkage from a DELETEd resource return a redirect?</p>



<a name="153968420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968420">(Jun 11 2018 at 16:56)</a>:</h4>
<p>Linkage came into being on the clinical side to let systems capture that 5 different Condition records from 3 different systems are actually all talking about the same thing (though possibly from different timeframes/perspectives).  If "source" is asserted, it's considered to be source of truth, but that assertion might not always be made for a Linkage instance.  We haven't talked about redirects at all.  (In part because, for the primary use-case, it wasn't expected that any of the representations would be deleted.)</p>



<a name="153968424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968424">(Jun 11 2018 at 17:30)</a>:</h4>
<p>Is a redirect legal in FHIR?</p>



<a name="153968425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968425">(Jun 11 2018 at 17:38)</a>:</h4>
<p>Redirects are absolutely legal - SMART doesn't work terribly well without them.</p>



<a name="153968575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968575">(Jun 11 2018 at 23:13)</a>:</h4>
<p>there's a difference between security layer redirects and conceptual redirects; a difference between 'this resource is found over there' and 'no, you want this other resource instead'</p>



<a name="153968576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968576">(Jun 11 2018 at 23:14)</a>:</h4>
<p>we have not explored the latter use case; I think Epic <span class="user-mention" data-user-id="191936">@Michael Donnelly</span> ) are using redirects after patient merge, but it doesn't sit well with me because of the difference between the two concepts</p>



<a name="153968586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Match/Merge/near/153968586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Match.2FMerge.html#153968586">(Jun 12 2018 at 00:15)</a>:</h4>
<p>We did that with DSTU2 but didn’t port it over to STU3. Currently if you try a read of a patient that was the source for a merge, you get a 400 and have to search again to find the target.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
