---
layout: page
title: "FHIR Chat  · Bundle type Transaction · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html">Bundle type Transaction</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173651018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/173651018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sridhar Vellore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#173651018">(Aug 20 2019 at 12:03)</a>:</h4>
<p>I am trying to create Bundle of type transaction, I am expecting Fhir Server to create each of the resources in the Bundle but when I call the Create option I get an error "Error: HTTP 422 : Unable to store a Bundle resource on this server with a Bundle.type value of: transaction", I am getting the same error on public Test Server too, am I doing something incorrect?</p>



<a name="173652213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/173652213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#173652213">(Aug 20 2019 at 12:20)</a>:</h4>
<p>You have to POST the transaction bundle to the FHIR base URL not the <code>[base]/Bundle</code> URL.</p>



<a name="173652232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/173652232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#173652232">(Aug 20 2019 at 12:21)</a>:</h4>
<p><a href="https://www.hl7.org/fhir/http.html#transaction" target="_blank" title="https://www.hl7.org/fhir/http.html#transaction">https://www.hl7.org/fhir/http.html#transaction</a></p>



<a name="173664122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/173664122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sridhar Vellore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#173664122">(Aug 20 2019 at 14:42)</a>:</h4>
<p>I posted a bundle of type Transaction to base URL localhost:8080/fhir/fhir/ and getting below message<br>
{<br>
    "resourceType": "OperationOutcome",<br>
    "issue": [<br>
        {<br>
            "severity": "error",<br>
            "code": "processing",<br>
            "diagnostics": "This is the base URL of FHIR server. Unable to handle this request, as it does not contain a resource type or operation name."<br>
        }<br>
    ]<br>
}</p>
<p>and this is partial part of the Bundle<br>
{<br>
  "resourceType": "Bundle",<br>
  "id": "916827a3-4434-4ade-9819-2cbc0e720a70",<br>
  "meta": {<br>
    "lastUpdated": "2019-08-19T06:03:48.152+00:00"<br>
  },<br>
  "identifier": {<br>
    "use": "official",<br>
    "system": "<a href="https://xyz.com/Patient" target="_blank" title="https://xyz.com/Patient">https://xyz.com/Patient</a>",<br>
    "value": "7238593"<br>
  },<br>
  "type": "transaction",<br>
  "entry": [ ...<br>
]<br>
}</p>



<a name="173666902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/173666902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#173666902">(Aug 20 2019 at 15:11)</a>:</h4>
<p>What server is it? What does the capability statement say? You can access it under <code>[base]/metadata</code>. In it, on of the <code>rest.interaction.code</code> has to be <code>transaction</code>. Otherwise the transaction interaction isn't supported.</p>



<a name="173782822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/173782822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sridhar Vellore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#173782822">(Aug 21 2019 at 10:56)</a>:</h4>
<p>I checked the metadata and for Bundle there is no transaction setting for rest.interaction.code, What changes do I need to make to allow Transactions for Bundle?</p>



<a name="173785698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/173785698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#173785698">(Aug 21 2019 at 11:45)</a>:</h4>
<p>I didn't refer to Bundle specific interations. I mean the system-wide Restful interactions specified here: <a href="https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.interaction" target="_blank" title="https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.interaction">https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.interaction</a></p>



<a name="173853510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/173853510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#173853510">(Aug 22 2019 at 05:15)</a>:</h4>
<p>I'm not sure if your server support TRansaction Bundle or not but if it did it should not be at the endpoint you have stated:  localhost:8080/fhir/fhir/<br>
The correct endpoint would be localhost:8080/fhir. The error you are getting makes complete sense. The server expects the 'fhir' on the end of  localhost:8080/fhir/fhir/ to be a Resource type, for instance, localhost:8080/fhir/Patient/  <br>
Try again sending the Transaction Bundle to  localhost:8080/fhir</p>



<a name="174117768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174117768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sridhar Vellore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174117768">(Aug 26 2019 at 06:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191391">@Angus Millar</span> Thanks for the input, FhirServer I hosted at localhost:8080/fhir is protected with Okta so I am getting back an Okta page, alternatively I tried to post it to Public server "<a href="http://hapi.fhir.org/baseR4/Bundle" target="_blank" title="http://hapi.fhir.org/baseR4/Bundle">http://hapi.fhir.org/baseR4/Bundle</a>" when the Bundle type is document I am getting back a 201 Created and the resource is created, but when I switch it to type "transaction" or "batch" I am getting a Status: 422 Unprocessable Entity and below response, The functionality I am expecting is that when I post a Bundle the server should be creating all the resources in the Bundle as distinct entities, is this functionality available off the shelf or do I need to implement it?</p>
<p>{<br>
    "resourceType": "OperationOutcome",<br>
    "text": {<br>
        "status": "generated",<br>
        "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\"0\"&gt;&lt;tr&gt;&lt;td style=\"font-weight: bold;\"&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Unable to store a Bundle resource on this server with a Bundle.type value of: transaction&lt;/pre&gt;&lt;/td&gt;\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;"<br>
    },<br>
    "issue": [<br>
        {<br>
            "severity": "error",<br>
            "code": "processing",<br>
            "diagnostics": "Unable to store a Bundle resource on this server with a Bundle.type value of: transaction"<br>
        }<br>
    ]<br>
}</p>



<a name="174123600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174123600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174123600">(Aug 26 2019 at 08:25)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="230956">@Sridhar Vellore</span> I already pointed you to the transaction endpoint documented here: <a href="https://www.hl7.org/fhir/http.html#transaction" target="_blank" title="https://www.hl7.org/fhir/http.html#transaction">https://www.hl7.org/fhir/http.html#transaction</a></p>
<p>You can't POST a transaction bundle to the Bundle create endpoint.</p>



<a name="174180654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174180654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174180654">(Aug 26 2019 at 22:21)</a>:</h4>
<p>Try and send your transaction bundle to either of these two endpoints and I can check late to see if I can see any problems with what you are doing. Both of these do support transaction bundles as you describe:<br>
FHIR STU3 Endpoint<br>
<a href="https://stu3.test.pyrohealth.net/fhir" target="_blank" title="https://stu3.test.pyrohealth.net/fhir">https://stu3.test.pyrohealth.net/fhir</a><br>
FHIR R4 Endpoint<br>
<a href="https://r4.test.pyrohealth.net/fhir" target="_blank" title="https://r4.test.pyrohealth.net/fhir">https://r4.test.pyrohealth.net/fhir</a></p>



<a name="174200358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174200358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174200358">(Aug 27 2019 at 06:31)</a>:</h4>
<p>But please, do not send any sensitive data :-)</p>



<a name="174210976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174210976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Armstrong Dcosta <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174210976">(Aug 27 2019 at 09:27)</a>:</h4>
<p>Hi, I am new Hapi, just setup the default server and changed the connection to MySQL, How can i populate the Database Resources ? Please Help.</p>



<a name="174211054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174211054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174211054">(Aug 27 2019 at 09:28)</a>:</h4>
<p><span class="user-mention" data-user-id="236905">@Armstrong Dcosta</span> You can populate the database with resources using the Restful API documented here: <a href="https://www.hl7.org/fhir/http.html" target="_blank" title="https://www.hl7.org/fhir/http.html">https://www.hl7.org/fhir/http.html</a></p>



<a name="174530772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174530772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Armstrong Dcosta <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174530772">(Aug 30 2019 at 09:55)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="236905">Armstrong Dcosta</span> You can populate the database with resources using the Restful API documented here: <a href="https://www.hl7.org/fhir/http.html" target="_blank" title="https://www.hl7.org/fhir/http.html">https://www.hl7.org/fhir/http.html</a></p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="197470">@Alexander Kiel</span>  , I got that working. I have another question<br>
Q. Using hapi-fhir-cli, Can I run two fhir version running on the same port ? Currently I have version r4  running on <a href="http://localhost:8080/" target="_blank" title="http://localhost:8080/">http://localhost:8080/</a>, and I want to add dstu3 version. Can this be achieved ?</p>



<a name="174532312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174532312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174532312">(Aug 30 2019 at 10:24)</a>:</h4>
<p><span class="user-mention" data-user-id="236905">@Armstrong Dcosta</span> I don't know. Please ask in the hapi stream.</p>



<a name="174759639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174759639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sridhar Vellore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174759639">(Sep 03 2019 at 05:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191391">@Angus Millar</span> <br>
I posted request to <a href="https://r4.test.pyrohealth.net/fhir" target="_blank" title="https://r4.test.pyrohealth.net/fhir">https://r4.test.pyrohealth.net/fhir</a> and I received response in the attached file, I have also attached the request JSON, here are the settings in my application.yml and the response I am getting when hitting <a href="http://localhost:8080/fhir" target="_blank" title="http://localhost:8080/fhir">http://localhost:8080/fhir</a>.</p>
<p>{<br>
    "resourceType": "OperationOutcome",<br>
    "issue": [<br>
        {<br>
            "severity": "error",<br>
            "code": "processing",<br>
            "diagnostics": "This is the base URL of FHIR server. Unable to handle this request, as it does not contain a resource type or operation name."<br>
        }<br>
    ]<br>
}</p>
<hr>
<p>h2:<br>
    console:<br>
      enabled: true<br>
hapi:<br>
  fhir:<br>
    version: R4<br>
    server:<br>
      path: /fhir/*<br>
    rest:<br>
      server-name: hapi-fhir-spring-boot-sample-server-jpa<br>
      server-version: 1.0.0<br>
      implementation-description: Spring Boot Jpa Server Sample<br>
      default-response-encoding: json<br>
      e-tag-support: enabled<br>
      default-pretty-print: true<br>
    validation:<br>
      enabled: true<br>
      request-only: true<br>
    jpa:<br>
      scheduling-disabled: true<br>
      subscription-enabled: false<br>
management:<br>
  security:<br>
    enabled: false</p>
<p><a href="/user_uploads/10155/PJhm-0bdDAUeRAEq2o5hEHem/pyrohealthResp.txt" target="_blank" title="pyrohealthResp.txt">pyrohealthResp.txt</a> <br>
<a href="/user_uploads/10155/Q5VobAoEpbgRa39OgAqf43Im/Request.txt" target="_blank" title="Request.txt">Request.txt</a></p>



<a name="174762546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174762546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174762546">(Sep 03 2019 at 06:43)</a>:</h4>
<p>Ok Sridhar, let me look into this and i will get back to you.</p>



<a name="174765524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174765524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174765524">(Sep 03 2019 at 07:43)</a>:</h4>
<p>Ok, a little odd, I can't seem to find the request you made in any of the server logs, what date did you make this request?<br>
That aside, I took your transaction bundle from the Request.txt and put it in PostMan and did a POST to the endpoint   <a href="https://r4.test.pyrohealth.net/fhir" target="_blank" title="https://r4.test.pyrohealth.net/fhir">https://r4.test.pyrohealth.net/fhir</a> with the Content-Type header set to 'application/fhir+json' and it worked just fine, no errors at all. Here is the response I go back: </p>
<div class="codehilite"><pre><span></span>{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;id&quot;: &quot;16e5e986-d669-4bad-af33-d886a3d884fa&quot;,
    &quot;meta&quot;: {
        &quot;lastUpdated&quot;: &quot;2019-09-03T07:35:43.6295852+00:00&quot;
    },
    &quot;identifier&quot;: {
        &quot;use&quot;: &quot;official&quot;,
        &quot;system&quot;: &quot;https://mcmrt.tnckn.com.com/Patient&quot;,
        &quot;value&quot;: &quot;7238593&quot;
    },
    &quot;type&quot;: &quot;transaction-response&quot;,
    &quot;entry&quot;: [
        {
            &quot;fullUrl&quot;: &quot;https://r4.test.pyrohealth.net/fhir/MessageHeader/8c5221fe-2ceb-45c1-a431-934cbd78242c&quot;,
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;MessageHeader&quot;,
                &quot;id&quot;: &quot;8c5221fe-2ceb-45c1-a431-934cbd78242c&quot;,
                &quot;meta&quot;: {
                    &quot;versionId&quot;: &quot;1&quot;,
                    &quot;lastUpdated&quot;: &quot;2019-09-03T07:35:43.6764288+00:00&quot;
                },
                &quot;eventCoding&quot;: {
                    &quot;system&quot;: &quot;https://mcmrt.tnckn.com/fhir/message-events&quot;,
                    &quot;code&quot;: &quot;msgcode&quot;
                },
                &quot;sender&quot;: {
                    &quot;reference&quot;: &quot;Organization/org-001&quot;
                },
                &quot;source&quot;: {
                    &quot;name&quot;: &quot;ROME2&quot;,
                    &quot;endpoint&quot;: &quot;E0393CD2-B78F-4CBE-890B-FE4D3965ECFA&quot;
                }
            },
            &quot;response&quot;: {
                &quot;status&quot;: &quot;201 Created&quot;,
                &quot;location&quot;: &quot;https://r4.test.pyrohealth.net/fhir/MessageHeader/8c5221fe-2ceb-45c1-a431-934cbd78242c/_history/1&quot;,
                &quot;etag&quot;: &quot;W/\&quot;1\&quot;&quot;,
                &quot;lastModified&quot;: &quot;2019-09-03T07:35:43.6764288+00:00&quot;
            }
        },
        {
            &quot;fullUrl&quot;: &quot;https://r4.test.pyrohealth.net/fhir/Parameters/d89821f7-6810-4d91-9f64-34ab472e8435&quot;,
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;Parameters&quot;,
                &quot;id&quot;: &quot;d89821f7-6810-4d91-9f64-34ab472e8435&quot;,
                &quot;meta&quot;: {
                    &quot;versionId&quot;: &quot;1&quot;,
                    &quot;lastUpdated&quot;: &quot;2019-09-03T07:35:43.8795514+00:00&quot;
                },
                &quot;parameter&quot;: [
                    {
                        &quot;name&quot;: &quot;RequestId&quot;,
                        &quot;valueString&quot;: &quot;c3130d18-ec49-4d5e-bb02-4182f154ef35&quot;
                    },
                    {
                        &quot;name&quot;: &quot;RequestorId&quot;,
                        &quot;valueString&quot;: &quot;RequestorId&quot;
                    },
                    {
                        &quot;name&quot;: &quot;RequestingApplication&quot;,
                        &quot;valueString&quot;: &quot;RequestingApplication&quot;
                    },
                    {
                        &quot;name&quot;: &quot;RequestDateTime&quot;,
                        &quot;valueDateTime&quot;: &quot;2019-04-09T16:16:35-04:00&quot;
                    },
                    {
                        &quot;name&quot;: &quot;RequestType&quot;,
                        &quot;valueString&quot;: &quot;RequestType&quot;
                    },
                    {
                        &quot;name&quot;: &quot;ExpirationDate&quot;,
                        &quot;valueDateTime&quot;: &quot;2019-04-19T16:16:35-04:00&quot;
                    },
                    {
                        &quot;name&quot;: &quot;DOSStartDate&quot;,
                        &quot;valueDate&quot;: &quot;2014-08-17&quot;
                    },
                    {
                        &quot;name&quot;: &quot;DOSEndDate&quot;,
                        &quot;valueDate&quot;: &quot;2090-07-04&quot;
                    }
                ]
            },
            &quot;response&quot;: {
                &quot;status&quot;: &quot;201 Created&quot;,
                &quot;location&quot;: &quot;https://r4.test.pyrohealth.net/fhir/Parameters/d89821f7-6810-4d91-9f64-34ab472e8435/_history/1&quot;,
                &quot;etag&quot;: &quot;W/\&quot;1\&quot;&quot;,
                &quot;lastModified&quot;: &quot;2019-09-03T07:35:43.8795514+00:00&quot;
            }
        }
    ]
}
</pre></div>



<a name="174765825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174765825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174765825">(Sep 03 2019 at 07:48)</a>:</h4>
<p>Ok, I know what happened. I think you did not set the Content-Type header as I did above. I tried again and this time I did not set the Content-Type header at all and I got the exact same OperationOutcome response that you also received. Try again but this time set the Content-Type like this:<br>
<code>Content-Type: application/fhir+json</code></p>



<a name="174869236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174869236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sridhar Vellore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174869236">(Sep 04 2019 at 10:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191391">@Angus Millar</span> I tried by setting the Content-Type to application/fhir+json but I am getting a different error. btw have you implemented any logic to handle Bundle with type as transaction?<br>
Here are the responses when hitting different URL's</p>
<p>Public Server =&gt; <a href="http://hapi.fhir.org/baseR4" target="_blank" title="http://hapi.fhir.org/baseR4">http://hapi.fhir.org/baseR4</a><br>
{<br>
    "resourceType": "Bundle",<br>
    "id": "822f4d05-9b06-4f88-8afd-213341ee533b",<br>
    "type": "transaction-response",<br>
    "link": [<br>
        {<br>
            "relation": "self",<br>
            "url": "<a href="http://hapi.fhir.org/baseR4" target="_blank" title="http://hapi.fhir.org/baseR4">http://hapi.fhir.org/baseR4</a>"<br>
        }<br>
    ],<br>
    "entry": [<br>
        {<br>
            "response": {<br>
                "status": "201 Created",<br>
                "location": "MessageHeader/156656/_history/1",<br>
                "etag": "1",<br>
                "lastModified": "2019-09-04T09:56:17.208+00:00"<br>
            }<br>
        },<br>
        {<br>
            "response": {<br>
                "status": "201 Created",<br>
                "location": "Parameters/156657/_history/1",<br>
                "etag": "1",<br>
                "lastModified": "2019-09-04T09:56:17.208+00:00"<br>
            }<br>
        }<br>
    ]<br>
}</p>
<p>PyroHealth =&gt; <a href="https://r4.test.pyrohealth.net/fhir" target="_blank" title="https://r4.test.pyrohealth.net/fhir">https://r4.test.pyrohealth.net/fhir</a><br>
{<br>
    "resourceType": "OperationOutcome",<br>
    "text": {<br>
        "status": "generated",<br>
        "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r\n  &lt;div&gt;\r\n    &lt;h4&gt;OperationOutcome Issue: 1&lt;/h4&gt;\r\n    &lt;table&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;\r\n          &lt;span&gt;\r\n            &lt;b&gt;Severity: &lt;/b&gt;\r\n          &lt;/span&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;span&gt;fatal&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;\r\n          &lt;span&gt;\r\n            &lt;b&gt;Type: &lt;/b&gt;\r\n          &lt;/span&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;span&gt;not-supported&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;\r\n          &lt;span&gt;\r\n            &lt;b&gt;Detail Text: &lt;/b&gt;\r\n          &lt;/span&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;span&gt;None of the Http Accept header values are suported by the server. The primary values that are supported are application/fhir+json and application/fhir+xml&lt;/span&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;"<br>
    },<br>
    "issue": [<br>
        {<br>
            "severity": "fatal",<br>
            "code": "not-supported",<br>
            "details": {<br>
                "text": "None of the Http Accept header values are suported by the server. The primary values that are supported are application/fhir+json and application/fhir+xml"<br>
            }<br>
        }<br>
    ]<br>
}</p>
<p>My Local Server =&gt; <a href="http://localhost:8080/fhir" target="_blank" title="http://localhost:8080/fhir">http://localhost:8080/fhir</a><br>
{<br>
    "resourceType": "OperationOutcome",<br>
    "issue": [<br>
        {<br>
            "severity": "error",<br>
            "code": "processing",<br>
            "diagnostics": "This is the base URL of FHIR server. Unable to handle this request, as it does not contain a resource type or operation name."<br>
        }<br>
    ]<br>
}</p>



<a name="174884656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174884656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174884656">(Sep 04 2019 at 14:02)</a>:</h4>
<p>Based on those errors, it seems that you're not setting the content-type properly.  The first server is forgiving.  The second is not.  And the third doesn't support transaction at all.</p>



<a name="174884674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174884674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174884674">(Sep 04 2019 at 14:02)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="230956">@Sridhar Vellore</span> , My apologies, as the OperationOutcome says you also need to set the Accept header as well. Set it also to application/fhir+json. Yes, the endpoint <code>https://r4.test.pyrohealth.net/fhir</code> does support bundles of type Transaction, as I showed in my last comment. I can't comment on the same support on the other endpoints.</p>



<a name="174946186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/174946186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sridhar Vellore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#174946186">(Sep 05 2019 at 05:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191391">@Angus Millar</span> Thanks for the input, When I looked up on Hapi Fhir documentation on how to implement Transaction I saw this info <a href="https://hapifhir.io/doc_rest_operations.html#_toc_system_level_-_transaction" target="_blank" title="https://hapifhir.io/doc_rest_operations.html#_toc_system_level_-_transaction">https://hapifhir.io/doc_rest_operations.html#_toc_system_level_-_transaction</a>. I was not sure how and where to implement this method, so I wrote a new class that extends Bundle and was planning to provide the implementation</p>
<p>public class TxnBundleResourceProvider extends BundleResourceProvider {</p>
<div class="codehilite"><pre><span></span>@Transaction
public Bundle transaction(@TransactionParam Bundle theInput) {
    for (Bundle.BundleEntryComponent nextEntry : theInput.getEntry()) {
</pre></div>


<p>I am using Hapi Fhir JPA Server on SpringBoot and I would like to know how can I force the Restful Server to instantiate my ResourceProvider, or it would be helpful if you can point me towards any resource that provides detail on how to implement a Transaction.</p>



<a name="175037056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/175037056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#175037056">(Sep 06 2019 at 05:33)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="230956">@Sridhar Vellore</span> , Looking at that HAPI reference you provided it appears the HAPI server does not natively support Bundles of type Transaction. They do appear to provide an integration point for you to provide your own implementation. As they have warned it is not the simplest of jobs to implement as it has many aspects to consider.  I'm afraid I can't help you directly with the HAPI implementation you require. What I can provide you is my implementation in .NET, as a guide. That's not to say mine if perfect but it might help you a little. <br>
<a href="https://github.com/angusmillar/Pyro/blob/release-r4/Pyro.Common/FhirOperation/BundleTransaction/BundleTransactionOperation.cs" target="_blank" title="https://github.com/angusmillar/Pyro/blob/release-r4/Pyro.Common/FhirOperation/BundleTransaction/BundleTransactionOperation.cs">https://github.com/angusmillar/Pyro/blob/release-r4/Pyro.Common/FhirOperation/BundleTransaction/BundleTransactionOperation.cs</a></p>



<a name="175037640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/175037640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sridhar Vellore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#175037640">(Sep 06 2019 at 05:50)</a>:</h4>
<p>Thank you Millar</p>



<a name="175651880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/175651880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeremy Chapman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#175651880">(Sep 13 2019 at 18:29)</a>:</h4>
<p>If a bundle type is a transaction, what is the first resource?can it be anything?</p>



<a name="175652342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/175652342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#175652342">(Sep 13 2019 at 18:34)</a>:</h4>
<p>you mean the first entry? Yes can be anything.</p>



<a name="175695383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/175695383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ali Haider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#175695383">(Sep 14 2019 at 11:01)</a>:</h4>
<p>Hey guys,  need your help. I need to implement Search using FHIR, does anybody have any idea???</p>



<a name="175695397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/175695397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#175695397">(Sep 14 2019 at 11:01)</a>:</h4>
<p>please see <a href="https://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions" target="_blank" title="https://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions">https://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions</a></p>



<a name="175695478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Bundle%20type%20Transaction/near/175695478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ali Haider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Bundle.20type.20Transaction.html#175695478">(Sep 14 2019 at 11:04)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I will look into it</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
