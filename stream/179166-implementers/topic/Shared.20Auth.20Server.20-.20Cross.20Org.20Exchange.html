---
layout: page
title: "FHIR Chat  · Shared Auth Server - Cross Org Exchange · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html">Shared Auth Server - Cross Org Exchange</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191047659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Shared%20Auth%20Server%20-%20Cross%20Org%20Exchange/near/191047659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sheridan Cook <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html#191047659">(Mar 18 2020 at 21:56)</a>:</h4>
<p>Is anyone using Oauth/SMART in a scenario where multiple clients and resource servers want to share the same centralized authorization server (pre-reg'd with client and user information) to request access tokens…but they want those access tokens to be specific to user permissions instead of tied to broadly-based client permissions?</p>
<p>I'm thinking through a scenario where we don't want to make the client connect to 10 auth servers for 10 different resource servers. And we don't want to make the resource servers connect to a bunch of different auth servers to perform token validation. And in this scenario, we don't want access scope to be client-oriented like the EHR-to-EHR argonaut profile accommodates. </p>
<p>I've read through the Oauth2 Authorization Grant Types and don't feel like this scenario sits squarely in either authentication code grant type or client credential grant type. </p>
<p>Has anyone implemented something similar to the scenario described above?</p>



<a name="191047805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Shared%20Auth%20Server%20-%20Cross%20Org%20Exchange/near/191047805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html#191047805">(Mar 18 2020 at 21:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="192892781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Shared%20Auth%20Server%20-%20Cross%20Org%20Exchange/near/192892781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html#192892781">(Apr 04 2020 at 06:21)</a>:</h4>
<p>If the user's access token is a JSON Web Token (JWT), it's possible to include custom claims in the JWT payload.  The custom claims can express granular user permission details.</p>
<p>Not really my area of expertise, but we've implemented something like this.</p>



<a name="192928409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Shared%20Auth%20Server%20-%20Cross%20Org%20Exchange/near/192928409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html#192928409">(Apr 04 2020 at 21:45)</a>:</h4>
<p>We are doing this - and embedding custom claims in the JWT. In our setup you also need to request specifics in the JWT. The JWT ends up containing rights ( eg. Patient.read) and context (eg. EpisodeOfCare/123) which are then accepted across the servers hosting different types of resources</p>



<a name="193211732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Shared%20Auth%20Server%20-%20Cross%20Org%20Exchange/near/193211732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html#193211732">(Apr 07 2020 at 16:11)</a>:</h4>
<p>IHE has an OAuth implementation guide that has some JWT custom claims to support things like PuposeOfUse, name of user, organization of user, etc.</p>



<a name="193212355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Shared%20Auth%20Server%20-%20Cross%20Org%20Exchange/near/193212355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html#193212355">(Apr 07 2020 at 16:16)</a>:</h4>
<p>very timely information <span class="user-mention" data-user-id="191404">@John Moehrke</span> where can I find that guidance?</p>



<a name="193212537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Shared%20Auth%20Server%20-%20Cross%20Org%20Exchange/near/193212537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html#193212537">(Apr 07 2020 at 16:17)</a>:</h4>
<p><a href="https://wiki.ihe.net/index.php/Internet_User_Authorization" title="https://wiki.ihe.net/index.php/Internet_User_Authorization">https://wiki.ihe.net/index.php/Internet_User_Authorization</a></p>



<a name="193213551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Shared%20Auth%20Server%20-%20Cross%20Org%20Exchange/near/193213551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Shared.20Auth.20Server.20-.20Cross.20Org.20Exchange.html#193213551">(Apr 07 2020 at 16:25)</a>:</h4>
<p>thanks. shared.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
