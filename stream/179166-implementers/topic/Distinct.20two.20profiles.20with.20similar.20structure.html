---
layout: page
title: "FHIR Chat  · Distinct two profiles with similar structure · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Distinct.20two.20profiles.20with.20similar.20structure.html">Distinct two profiles with similar structure</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223373279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Distinct%20two%20profiles%20with%20similar%20structure/near/223373279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Gutknecht <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Distinct.20two.20profiles.20with.20similar.20structure.html#223373279">(Jan 20 2021 at 13:43)</a>:</h4>
<p>Hello, </p>
<p>I defined in my IG two different profiles based on the same Base Profile : Practitioner</p>
<ul>
<li>One is used to identify a Doctor (called Practitioner)</li>
<li>The other to identify a "User" (called SoftwareUser)</li>
</ul>
<p>The difference between both is that for user I allow empty names and sliced the identifiers to include the login.</p>
<p>Everything works except an error in the QA report linked to one of my bundle-examples.<br>
The composition links to Practitioner/1 (from type Practitioner) and to Practitioner/2 (from type SoftwareUser), <br>
and both are included in the bundle.</p>
<p>I get following message:</p>
<div class="codehilite"><pre><span></span><code>Profile https://mednet.swiss/fhir/StructureDefinition/mni-patientOverview-bundle, Element matches more than one slice - Practitioner, SoftwareUser
</code></pre></div>
<p>In the Bundle definition I specified following slice to the entry-List:</p>
<div class="codehilite"><pre><span></span><code>&lt;!-- ***************************************** --&gt;
        &lt;!-- Practitioner --&gt;

        &lt;element id=&quot;Bundle.entry:Practitioner&quot;&gt;
            &lt;path value=&quot;Bundle.entry&quot; /&gt;
            &lt;sliceName value=&quot;Practitioner&quot; /&gt;
            &lt;min value=&quot;0&quot; /&gt;
            &lt;max value=&quot;*&quot; /&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;

        &lt;element id=&quot;Bundle.entry:Practitioner.fullUrl&quot;&gt;
            &lt;path value=&quot;Bundle.entry.fullUrl&quot; /&gt;
            &lt;min value=&quot;1&quot;/&gt;
            &lt;max value=&quot;1&quot;/&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;

        &lt;element id=&quot;Bundle.entry:Practitioner.resource&quot;&gt;
            &lt;path value=&quot;Bundle.entry.resource&quot; /&gt;
            &lt;min value=&quot;1&quot;/&gt;
            &lt;max value=&quot;1&quot;/&gt;
            &lt;type&gt;
                &lt;code value=&quot;Practitioner&quot; /&gt;
                &lt;profile value=&quot;https://mednet.swiss/fhir/StructureDefinition/mni-practitioner&quot; /&gt;
            &lt;/type&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;

&lt;!-- ***************************************** --&gt;
        &lt;!-- SoftwareUser --&gt;

        &lt;element id=&quot;Bundle.entry:SoftwareUser&quot;&gt;
            &lt;path value=&quot;Bundle.entry&quot; /&gt;
            &lt;sliceName value=&quot;SoftwareUser&quot; /&gt;
            &lt;min value=&quot;0&quot; /&gt;
            &lt;max value=&quot;*&quot; /&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;

        &lt;element id=&quot;Bundle.entry:SoftwareUser.fullUrl&quot;&gt;
            &lt;path value=&quot;Bundle.entry.fullUrl&quot; /&gt;
            &lt;min value=&quot;1&quot;/&gt;
            &lt;max value=&quot;1&quot;/&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;

        &lt;element id=&quot;Bundle.entry:SoftwareUser.resource&quot;&gt;
            &lt;path value=&quot;Bundle.entry.resource&quot; /&gt;
            &lt;min value=&quot;1&quot;/&gt;
            &lt;max value=&quot;1&quot;/&gt;
            &lt;type&gt;
                &lt;code value=&quot;Practitioner&quot; /&gt;
                &lt;profile value=&quot;https://mednet.swiss/fhir/StructureDefinition/mni-softwareUser&quot; /&gt;
            &lt;/type&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;
</code></pre></div>
<p>Any Idea how I could solve this ?<br>
Is there maybe a way to change SoftwareUser to a dedicated "type" ?</p>
<p>Thanks for your help.<br>
Best regards,<br>
David</p>



<a name="223386623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Distinct%20two%20profiles%20with%20similar%20structure/near/223386623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Distinct.20two.20profiles.20with.20similar.20structure.html#223386623">(Jan 20 2021 at 15:15)</a>:</h4>
<p>Slices have to be distinct.  If it's possible for an instance to satisfy multiple slices, that's an error.  So you can't have two slices where one is just a more loosely constrained version of the other - you have to have at least one element that's guaranteed to be different.</p>



<a name="223887802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Distinct%20two%20profiles%20with%20similar%20structure/near/223887802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Gutknecht <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Distinct.20two.20profiles.20with.20similar.20structure.html#223887802">(Jan 25 2021 at 12:10)</a>:</h4>
<p>Thanks for your Help.</p>
<p>I found the solution</p>
<p>In my bundle definition instead of allowing both profiles mni-practitioner and mni-Software user,<br>
I allow the base definition Practitioner.</p>
<div class="codehilite"><pre><span></span><code>&lt;element id=&quot;Bundle.entry:Practitioner.fullUrl&quot;&gt;
            &lt;path value=&quot;Bundle.entry.fullUrl&quot; /&gt;
            &lt;short value=&quot;URI for the resource. Made from &amp;lt;resource type&amp;gt;/&amp;lt;resource id&amp;gt;
                        This could also be an url from type https://server/&amp;lt;resource type&amp;gt;/&amp;lt;resource id&amp;gt;
                        or an UUID like urn:uuid:148d342c-5052-4b9e-8370-2923af30e867
                        In this case, this should also be used as reference value in all the bundle.&quot;/&gt;
            &lt;min value=&quot;1&quot;/&gt;
            &lt;max value=&quot;1&quot;/&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;

        &lt;element id=&quot;Bundle.entry:Practitioner.resource&quot;&gt;
            &lt;path value=&quot;Bundle.entry.resource&quot; /&gt;
            &lt;min value=&quot;1&quot;/&gt;
            &lt;max value=&quot;1&quot;/&gt;
            &lt;type&gt;
                &lt;code value=&quot;Practitioner&quot; /&gt;
                &lt;profile value=&quot;http://hl7.org/fhir/StructureDefinition/Practitioner&quot; /&gt;
            &lt;/type&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;
</code></pre></div>
<p>Best regards,<br>
David</p>



<a name="223914744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Distinct%20two%20profiles%20with%20similar%20structure/near/223914744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Distinct.20two.20profiles.20with.20similar.20structure.html#223914744">(Jan 25 2021 at 15:43)</a>:</h4>
<p>If you didn't want to allow <em>all</em> practitioners - i.e. you wanted to enforce a minimum set of constraints, you could define a profile that represented the lowest common denominator of your two profiles.</p>



<a name="223915244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Distinct%20two%20profiles%20with%20similar%20structure/near/223915244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Distinct.20two.20profiles.20with.20similar.20structure.html#223915244">(Jan 25 2021 at 15:46)</a>:</h4>
<p>... and derive the more specialized from it.</p>



<a name="223915362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Distinct%20two%20profiles%20with%20similar%20structure/near/223915362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Distinct.20two.20profiles.20with.20similar.20structure.html#223915362">(Jan 25 2021 at 15:47)</a>:</h4>
<p>That's a possibility and helps ensure consistency, but isn't strictly required.</p>



<a name="224892838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Distinct%20two%20profiles%20with%20similar%20structure/near/224892838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Gutknecht <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Distinct.20two.20profiles.20with.20similar.20structure.html#224892838">(Feb 02 2021 at 16:09)</a>:</h4>
<p>That's also a good idea !<br>
Thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
