---
layout: page
title: "FHIR Chat  · Erroneous Patient extension? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html">Erroneous Patient extension?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="255067753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/255067753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#255067753">(Sep 27 2021 at 15:27)</a>:</h4>
<p>patient-preferenceType is listed as part of Patient.communication.preferred, which is weird since that's a boolean. Should this be similar to patient-proficiency, in that it's part of the Patient.communication?</p>



<a name="255067791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/255067791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#255067791">(Sep 27 2021 at 15:27)</a>:</h4>
<p><a href="/user_uploads/10155/G2Gq5HCIn4NfgF6B6pvGe-Ib/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/G2Gq5HCIn4NfgF6B6pvGe-Ib/image.png" title="image.png"><img src="/user_uploads/10155/G2Gq5HCIn4NfgF6B6pvGe-Ib/image.png"></a></div>



<a name="255760158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/255760158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Keeler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#255760158">(Oct 01 2021 at 15:18)</a>:</h4>
<p>Anyone have ideas here?</p>



<a name="255763007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/255763007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#255763007">(Oct 01 2021 at 15:37)</a>:</h4>
<p>I think the idea it that you add the extension on Patient.communication.preferred in order to qualify whether the preference relates to written or verbal communication.</p>
<p>So in effect you could have two Patient.communication nodes both with preferred = true, but one qualified as verbal preference and one as written preference.</p>



<a name="257991615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/257991615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Sokoliński <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#257991615">(Oct 18 2021 at 08:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> I am not sure that I understand.  <code>Communication</code> is a <code>BackboneElement</code> so it has an <code>extension</code> field and therefore <code>patient-proficiency</code> should be placed in <code>Patient.Communication</code> (as documentation on Brendan's screenshot says).</p>
<div class="codehilite"><pre><span></span><code>...restOfThePatient,
communication: [
    {
      extension: [
        {
          extension: [
            {
              url: &quot;level&quot;,
              valueCoding: {
                system: &quot;urn:oid:2.16.840.1.113883.5.61&quot;,
                code: &quot;G&quot;,
                display: &quot;Good&quot;,
              },
            },
            {
              url: &quot;type&quot;,
              valueCoding: {
                system: &quot;urn:oid:2.16.840.1.113883.5.60&quot;,
                code: &quot;ESP&quot;,
                display: &quot;Expressed spoken&quot;,
              },
            },
          ],
          url: &quot;http://hl7.org/fhir/StructureDefinition/patient-proficiency&quot;,
        },
      ],
      language: {
        coding: [
          {
            system: &quot;http://tools.ietf.org/html/bcp47&quot;,
            code: &quot;ita&quot;,
          },
        ],
      },
      preferred: false,
    }
],
...restOfThePatient
</code></pre></div>
<p>But when it comes to the <code>patient-preferenceType</code> the documentation states that it should be in <code>Patient.Communication.preffered</code>, which is a <code>boolean</code> type, so it is not extensible, it does not have an <code>extension</code> field. I have an <code>Extension</code> that looks like that:</p>
<div class="codehilite"><pre><span></span><code>{
          valueCoding: {
            code: &quot;verbal&quot;,
            display: &quot;verbal&quot;,
            system: &quot;http://hl7.org/fhir/language-preference-type&quot;,
          },
          url: &quot;http://hl7.org/fhir/StructureDefinition/patient-preferenceType&quot;
}
</code></pre></div>
<p>but I have no idea where to put it to satisfy the FHIR validator, when I put it in <code>Patient.Communication</code> I get "Patient.communication[0]: The extension <a href="http://hl7.org/fhir/StructureDefinition/patient-preferenceType">http://hl7.org/fhir/StructureDefinition/patient-preferenceType</a> is not allowed to be used at this point (allowed = e:Patient.communication.preferred; this element is [[Patient.communication, BackboneElement]) ". But as I said before <code>preferred</code> is a boolean, so I can not put extension there. Could you help me with this? I would appreciate this. Thank you in advance!</p>



<a name="257992121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/257992121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#257992121">(Oct 18 2021 at 08:12)</a>:</h4>
<p>All elements in FHIR are extensible, not just backbone elements</p>



<a name="257992490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/257992490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Sokoliński <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#257992490">(Oct 18 2021 at 08:16)</a>:</h4>
<p>So my <code>communication</code> for the <code>Patient</code> should look like this?</p>
<div class="codehilite"><pre><span></span><code>...restOfThePatient,
communication: [
    {
      extension: [
        {
          extension: [
            {
              url: &quot;level&quot;,
              valueCoding: {
                system: &quot;urn:oid:2.16.840.1.113883.5.61&quot;,
                code: &quot;G&quot;,
                display: &quot;Good&quot;,
              },
            },
            {
              url: &quot;type&quot;,
              valueCoding: {
                system: &quot;urn:oid:2.16.840.1.113883.5.60&quot;,
                code: &quot;ESP&quot;,
                display: &quot;Expressed spoken&quot;,
              },
            },
          ],
          url: &quot;http://hl7.org/fhir/StructureDefinition/patient-proficiency&quot;,
        },
      ],
      language: {
        coding: [
          {
            system: &quot;http://tools.ietf.org/html/bcp47&quot;,
            code: &quot;ita&quot;,
          },
        ],
      },
      preferred: {
          valueCoding: {
            code: &quot;verbal&quot;,
            display: &quot;verbal&quot;,
            system: &quot;http://hl7.org/fhir/language-preference-type&quot;,
          },
          url: &quot;http://hl7.org/fhir/StructureDefinition/patient-preferenceType&quot;
     },
    }
],
...restOfThePatient
</code></pre></div>
<p>Unfortunately, when I try to validate such a Patient I get "Patient.communication[0].preferred: This property must be an simple value, not an object (preferred at Patient.communication[0].preferred)" from validator.</p>



<a name="258036722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/258036722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#258036722">(Oct 18 2021 at 14:24)</a>:</h4>
<p>To extend preferred, you need to say this:</p>
<div class="codehilite"><pre><span></span><code>      _preferred: {
          &quot;extension&quot;: [{
               valueCoding: {
                      code: &quot;verbal&quot;,
                      display: &quot;verbal&quot;,
                      system: &quot;http://hl7.org/fhir/language-preference-type&quot;,
              },
              url: &quot;http://hl7.org/fhir/StructureDefinition/patient-preferenceType&quot;
           }]
      },
</code></pre></div>



<a name="258058222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/258058222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Sokoliński <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#258058222">(Oct 18 2021 at 16:33)</a>:</h4>
<p>Thank you very much! I could not find it in the documentation. It is documented somewhere?</p>



<a name="258059021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/258059021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#258059021">(Oct 18 2021 at 16:38)</a>:</h4>
<p>Yup :)  <a href="https://hl7.org/fhir/json.html#primitive">https://hl7.org/fhir/json.html#primitive</a></p>



<a name="258059869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Erroneous%20Patient%20extension%3F/near/258059869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Sokoliński <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Erroneous.20Patient.20extension.3F.html#258059869">(Oct 18 2021 at 16:43)</a>:</h4>
<p>Thanks again!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
