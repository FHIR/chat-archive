---
layout: page
title: "FHIR Chat  · FHIRPath Patch and JSON Patch problems on test.fhir.org · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Patch.20and.20JSON.20Patch.20problems.20on.20test.2Efhir.2Eorg.html">FHIRPath Patch and JSON Patch problems on test.fhir.org</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="156683227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Patch%20and%20JSON%20Patch%20problems%20on%20test.fhir.org/near/156683227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bertram Hildebrand <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Patch.20and.20JSON.20Patch.20problems.20on.20test.2Efhir.2Eorg.html#156683227">(Jan 23 2019 at 12:00)</a>:</h4>
<p>I am trying to patch an existing Observation resource on <a href="http://test.fhir.org" target="_blank" title="http://test.fhir.org">http://test.fhir.org</a>.<br>
The resource has an effectiveDateTime Field that I want to change.</p>
<p>I am using the Parameters resource below, sending it via http PATCH to <a href="http://test.fhir.org" target="_blank" title="http://test.fhir.org">http://test.fhir.org</a> with Content-Type set to "application/fhir+json".<br>
The patch operation does not work, the server returns an OperationOutcome with diagnostics=”Not Found internally”.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
  <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;operation&quot;</span><span class="p">,</span>
      <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span><span class="s2">&quot;replace&quot;</span> <span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="nt">&quot;valueString&quot;</span><span class="p">:</span><span class="s2">&quot;effectiveDateTime&quot;</span> <span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="nt">&quot;valueDateTime&quot;</span><span class="p">:</span><span class="s2">&quot;2019-01-23&quot;</span> <span class="p">}</span>
              <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>Patching a resource does not work using JSON Patch either. When sending the JSON Patch shown below via http PATCH with Content-Type set to "application/json-patch+json", the server returns an OperationOutcome saying "[Microsoft][SQL Server Native Client 11.0][SQL Server]Cannot insert the value NULL into column 'ForTesting', table 'fhir4.dbo.Versions'; column does not allow nulls. INSERT fails."</p>
<div class="codehilite"><pre><span></span><span class="p">[</span>
  <span class="p">{</span><span class="nt">&quot;op&quot;</span><span class="p">:</span><span class="s2">&quot;replace&quot;</span><span class="p">,</span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="s2">&quot;/effectiveDateTime&quot;</span><span class="p">,</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="s2">&quot;2019-01-23&quot;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>



<a name="156683436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Patch%20and%20JSON%20Patch%20problems%20on%20test.fhir.org/near/156683436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Patch.20and.20JSON.20Patch.20problems.20on.20test.2Efhir.2Eorg.html#156683436">(Jan 23 2019 at 12:06)</a>:</h4>
<p>hmm I better fix my server.... I thought I had fixed that bug</p>



<a name="156716979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Patch%20and%20JSON%20Patch%20problems%20on%20test.fhir.org/near/156716979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Patch.20and.20JSON.20Patch.20problems.20on.20test.2Efhir.2Eorg.html#156716979">(Jan 23 2019 at 19:28)</a>:</h4>
<p>mistake in your patch: <code>{"name":"path", "valueString":"effective" },</code></p>



<a name="156792382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Patch%20and%20JSON%20Patch%20problems%20on%20test.fhir.org/near/156792382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bertram Hildebrand <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Patch.20and.20JSON.20Patch.20problems.20on.20test.2Efhir.2Eorg.html#156792382">(Jan 24 2019 at 18:03)</a>:</h4>
<p>Thank you for pointing out my mistake. Is there a way of registering for getting a notification once the patch bug is fixed?</p>



<a name="156801863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Patch%20and%20JSON%20Patch%20problems%20on%20test.fhir.org/near/156801863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Patch.20and.20JSON.20Patch.20problems.20on.20test.2Efhir.2Eorg.html#156801863">(Jan 24 2019 at 20:05)</a>:</h4>
<p>you can get notified of a new release of the server, but that doesn't mean it's installed. Typically, I just notify people directly here when I fix a bug</p>



<a name="156804515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Patch%20and%20JSON%20Patch%20problems%20on%20test.fhir.org/near/156804515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Patch.20and.20JSON.20Patch.20problems.20on.20test.2Efhir.2Eorg.html#156804515">(Jan 24 2019 at 20:41)</a>:</h4>
<p>and it is now fixed</p>



<a name="156856032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIRPath%20Patch%20and%20JSON%20Patch%20problems%20on%20test.fhir.org/near/156856032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bertram Hildebrand <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIRPath.20Patch.20and.20JSON.20Patch.20problems.20on.20test.2Efhir.2Eorg.html#156856032">(Jan 25 2019 at 14:31)</a>:</h4>
<p>Thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
