---
layout: page
title: "FHIR Chat  · IG Publisher (1.8) -- Truncated Differential Tables? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html">IG Publisher (1.8) -- Truncated Differential Tables?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153871379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871379">(Feb 14 2017 at 15:24)</a>:</h4>
<p>I'm using the IG Publisher jar to attempt to produce documentation for a set of profiles and extensions.  It seems the the generated XHTML Differential Tables are not correct.  For every profile, the Differential Table only has ONE entry (usually the first extension in the profile) -- and that is it.  If you look at the XHTML Snapshot Table, it looks right (multiple extensions, etc) -- so I'm not sure why the Differential Table is not.</p>
<p>I'm using the igpublisher.jar from the 1.8 release (on a Mac).  How should I go about debugging this?  I'd like to figure out what is throwing it off!</p>



<a name="153871410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871410">(Feb 14 2017 at 17:08)</a>:</h4>
<p>Is the differential right in the profile XML/JSON?</p>



<a name="153871419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871419">(Feb 14 2017 at 18:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> set me in the right direction.  I inspected the JSON and XML more closely, comparing it to working ones, and realized that I was not putting the root element for the SD in the differential.  I think I was under the impression that the differential <em>only</em> had to have those things that are <em>different</em> -- but it appears that if an element is in the differential, its ancestor elements must also be in the differential (even if they haven't changed).  So obviously that means the root element must be there, but also any backbone elements if you are including one of their children as a differential.</p>



<a name="153871420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871420">(Feb 14 2017 at 18:36)</a>:</h4>
<p>Once I fixed that, it worked as expected.  Unfortunately, the igpublisher didn't produce any errors in the qa.html reflecting this problem.  Perhaps that's something that can be checked and reported against in future versions of the igpublisher?</p>



<a name="153871423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871423">(Feb 14 2017 at 18:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> I think the root is the only element that must be there.  I don't remember off the top of my head why.  But agree that build tool should certainly yell if it isn't.  Can you submit a change request?</p>



<a name="153871427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871427">(Feb 14 2017 at 18:48)</a>:</h4>
<p>Sure.  The root is sufficient if you only add/override things at the root of the resource, but if you go into a nested structure, it seems you need to include the intermediate path definition there too.</p>
<p>For example, I override cardinality of <code>Encounter.participant.individual</code> to 1..1.  If I put the element for <code>Encounter.participant.individual</code> in the differentials, but don't put an <code>Encounter.participant</code> element in too, then the publisher does not show the participant.individual element in the Differential Table.</p>



<a name="153871429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871429">(Feb 14 2017 at 19:09)</a>:</h4>
<p>It seems like there might be an issue with recursive element definitions then as well, and I'm guessing that's the issue that <span class="user-mention" data-user-id="191676">@Lee Surprenant</span> ran into the other day.</p>



<a name="153871435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871435">(Feb 14 2017 at 19:32)</a>:</h4>
<p>for spreadsheets you must include all the intermediate paths. I have no plans to fix this. </p>



<a name="153871436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871436">(Feb 14 2017 at 19:33)</a>:</h4>
<p>if you edit structure definitions in some other way, you do not need to include all the intermediate paths</p>



<a name="153871456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871456">(Feb 14 2017 at 20:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Do you still need the root if you're authoring the XML directly?</p>



<a name="153871458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871458">(Feb 14 2017 at 20:54)</a>:</h4>
<p>in principle you shouldn't, but you might...</p>



<a name="153871522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871522">(Feb 15 2017 at 03:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I'm building the IGs using JSON StructureDefinitions that I've generated myself.  My experience is that you <em>do</em> need the root element and you <em>do</em> need the intermediate paths (just like you describe for spreadsheets).</p>



<a name="153871523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871523">(Feb 15 2017 at 03:27)</a>:</h4>
<p>Without the root element, the IG Publisher generates a Differential Table containing only the first element in the differential.  Without intermediate paths, the IG Publisher generates a Differential Table missing any nested elements that don't have the intermediate path included in the differential.</p>



<a name="153871525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871525">(Feb 15 2017 at 03:29)</a>:</h4>
<p>well, you could create a task prompting me to get to investigating these issues and fixing them. in theory, they shouldn't be required</p>



<a name="153871527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20%281.8%29%20--%20Truncated%20Differential%20Tables%3F/near/153871527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20(1.2E8).20--.20Truncated.20Differential.20Tables.3F.html#153871527">(Feb 15 2017 at 03:52)</a>:</h4>
<p>I'll file this in the tracker tomorrow.  I'm just trying to ensure that there isn't any user error on my part before I file a bug!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
