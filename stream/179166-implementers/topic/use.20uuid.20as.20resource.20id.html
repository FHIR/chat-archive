---
layout: page
title: "FHIR Chat  · use uuid as resource id · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html">use uuid as resource id</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="166579184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166579184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166579184">(May 26 2019 at 15:13)</a>:</h4>
<p>when using uuid as resource id, should it be prefixed with 'urn:uuid'? I have seen both and wondering which is "more" correct.</p>
<div class="codehilite"><pre><span></span>patient.id = &#39;0a76c550-1434-41a1-92fd-65f8fc582a85&#39;
</pre></div>


<p>or</p>
<div class="codehilite"><pre><span></span>patient.id = &#39;urn:uuid:0a76c550-1434-41a1-92fd-65f8fc582a85&#39;
</pre></div>



<a name="166588146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166588146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166588146">(May 26 2019 at 19:11)</a>:</h4>
<p>First.  I don't think colons are allowed in the id type</p>



<a name="166588469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166588469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Justin Hopper <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166588469">(May 26 2019 at 19:19)</a>:</h4>
<p>the id is its own type distinctly separated from the uuid type, and I believe the very reason for this separation is because the allowed characters within do not support the URI character set, as Lloyd mentioned.  the ID is used as the logical identifier in the REST urls (/patient/0a76c550-1434-41a1-92fd-65f8fc582a85), so again it would be strange to see the URI format here (e.g. /patient/urn:uuid:0a76c550-1434-41a1-92fd-65f8fc582a85)</p>



<a name="166589496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166589496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166589496">(May 26 2019 at 19:49)</a>:</h4>
<p><span class="user-mention" data-user-id="223110">@Justin Hopper</span> Yes, I agree that url looks strange. That's one reason I raised this thread<br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Oh. I forgot about that. Looks like that system doesn't apply validation correctly.</p>



<a name="166612533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166612533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166612533">(May 27 2019 at 06:44)</a>:</h4>
<p>I have seen  /Patient/urn:uuid:0a76c550-1434-41a1-92fd-65f8fc582a85 style URLs in production use, HAPI supports it.</p>



<a name="166635950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166635950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166635950">(May 27 2019 at 13:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> You shouldn't be allowing this...</p>



<a name="166637983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166637983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166637983">(May 27 2019 at 13:40)</a>:</h4>
<p>Ugh, if it's outputting that, that's a bug.</p>
<p>As context though: HAPI has a datatype called IdType (or IdDt in DSTU1/2) that represents the entire fully qualified ID and optionally the version. So it can hold <code>http://foo/Patient/123</code> or <code>urn:uuid:BLAH-BLA</code> or <code>#FOO</code> but in both of those cases it has the <code>getIdPart()</code> method to pull out the <code>123</code> or <code>BLAH-BLA</code>or <code>FOO</code> parts.</p>
<p>Patrick Werner recently discovered some flakiness in how it deals with UUIDs, we have an open ticket about that...</p>



<a name="166638137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166638137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166638137">(May 27 2019 at 13:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> It's also possible someone is using PUT to set the id to that.</p>



<a name="166638188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166638188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166638188">(May 27 2019 at 13:43)</a>:</h4>
<p>Oh, and just to add: When an IdType holds <code>urn:uuid:BLAH-BLA</code> the intent is always that when the patient is serialized you would just see <code>"id":"BLAH-BLA"</code>. The urn: prefix only shows up in <code>Bundle.entry.fullUrl</code> when you need an ID that's scoped to the bundle (e.g. for transactions)</p>



<a name="166638277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166638277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166638277">(May 27 2019 at 13:44)</a>:</h4>
<p>Now I'm curious if it will let me create such a monstrosity... :)</p>



<a name="166638444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/use%20uuid%20as%20resource%20id/near/166638444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/use.20uuid.20as.20resource.20id.html#166638444">(May 27 2019 at 13:46)</a>:</h4>
<p>woohoo... well, at least we don't allow that:</p>
<p><code>  &lt;issue&gt;
    &lt;severity value="error"/&gt;
    &lt;code value="processing"/&gt;
    &lt;diagnostics value="Can not process entity with ID[urn:uuid:BLAH-BLA], this is not a valid FHIR ID"/&gt;
  &lt;/issue&gt;</code></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
