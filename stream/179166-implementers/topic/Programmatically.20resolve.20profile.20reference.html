---
layout: page
title: "FHIR Chat  · Programmatically resolve profile reference · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html">Programmatically resolve profile reference</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203408704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203408704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203408704">(Jul 09 2020 at 16:31)</a>:</h4>
<p>How would software resolve an extension definition? Are registries expected to be FHIR servers exposing searchable StructureDefinition endpoints?</p>



<a name="203409162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203409162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203409162">(Jul 09 2020 at 16:34)</a>:</h4>
<p>Registries should be.  The canonical URL may not be (and the canonical URL isn't guaranteed to resolve at all).  As well, there may be security issues with hitting unknown/untrusted URLs.  (At minimum, it would allow a malicious party to be able to track where data is flowing.)  So - runtime resolution might be possible, but isn't guaranteed and may not be a desired approach even when possible.</p>



<a name="203409934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203409934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203409934">(Jul 09 2020 at 16:41)</a>:</h4>
<p>I can't find a way to programmatically get the StructureDefinition for this for instance: <a href="http://hl7.org/fhir/StructureDefinition/patient-birthPlace">http://hl7.org/fhir/StructureDefinition/patient-birthPlace</a><br>
It's easy for a human to see the HTML page. <a href="http://hl7.org/fhir">http://hl7.org/fhir</a> is not a FHIR server of course.</p>



<a name="203410438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203410438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203410438">(Jul 09 2020 at 16:43)</a>:</h4>
<p>I can't see way to query <a href="http://registry.fhir.org">registry.fhir.org</a> or <a href="http://simplifier.net">simplifier.net</a> to get a structure definition</p>



<a name="203411149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203411149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203411149">(Jul 09 2020 at 16:50)</a>:</h4>
<p><a href="https://fhir.simplifier.net/r4/StructureDefinition?url=http://hl7.org/fhir/StructureDefinition/patient-birthPlace">https://fhir.simplifier.net/r4/StructureDefinition?url=http://hl7.org/fhir/StructureDefinition/patient-birthPlace</a> doesn't work (it should). <span class="user-mention" data-user-id="203235">@Ward Weistra</span> ?</p>



<a name="203412675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203412675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203412675">(Jul 09 2020 at 17:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191651">@Rik Smithies</span> go to <br>
C:\Users\Rik\.fhir\packages\hl7.fhir.r4.core#4.0.1\package</p>



<a name="203412695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203412695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203412695">(Jul 09 2020 at 17:03)</a>:</h4>
<p>there is a  StructureDefinition-patient-birthPlace.json there</p>



<a name="203412847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203412847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203412847">(Jul 09 2020 at 17:04)</a>:</h4>
<p>!C:\users\Rik! is my guess for your home folder<br>
or maybe I have ways to know... <span aria-label="smiling devil" class="emoji emoji-1f608" role="img" title="smiling devil">:smiling_devil:</span></p>



<a name="203412909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203412909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203412909">(Jul 09 2020 at 17:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> I am looking for a general method. How would I get the package programatically?</p>



<a name="203413120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203413120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203413120">(Jul 09 2020 at 17:07)</a>:</h4>
<p>ah sorry</p>



<a name="203417955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203417955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203417955">(Jul 09 2020 at 17:52)</a>:</h4>
<p>are you looking for a general method that applies to fhir core content? Or something that applies to content from any implementation guide anywhere?</p>



<a name="203436613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203436613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203436613">(Jul 09 2020 at 20:33)</a>:</h4>
<p>Did you try setting your accept header appropriately?  That <em>should</em> work for FHIR-published extensions for the current release.</p>



<a name="203437510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203437510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203437510">(Jul 09 2020 at 20:40)</a>:</h4>
<p>doesn't work. I don't know why - it's supposed to</p>



<a name="203439273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203439273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203439273">(Jul 09 2020 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191651">@Rik Smithies</span> Here is how you get packages programmatically: <a href="https://simplifier.net/docs/package-server/Home">https://simplifier.net/docs/package-server/Home</a></p>



<a name="203440106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203440106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203440106">(Jul 09 2020 at 21:00)</a>:</h4>
<p>It's more just the structure definition of a given extension. If the URL is right there it seems there should be an easy way to get something, since we say it should go somewhere. I did also try the accept header - it gave me HTML and a 404. </p>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span>  thanks - I could get the package, but that wasn't the original idea. (That would beg the question how to know what package it is in...). Rene's URL trick, above, would be ideal, but its not currently working?</p>



<a name="203440724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203440724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203440724">(Jul 09 2020 at 21:05)</a>:</h4>
<p>Well, finding what package it is in is actually also supported: <a href="https://packages.simplifier.net/catalog?canonical=http://hl7.org/fhir/StructureDefinition/patient-birthPlace">https://packages.simplifier.net/catalog?canonical=http://hl7.org/fhir/StructureDefinition/patient-birthPlace</a></p>
<p>But let me have a look at the other URL too.</p>



<a name="203443780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203443780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203443780">(Jul 09 2020 at 21:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191372">@René Spronk</span> <span class="user-mention" data-user-id="191651">@Rik Smithies</span> I believe the <code>url</code> search parameter having some issues right now in Simplifier. I'll check further.</p>
<p>However, I do think packages are the best way to find a resource anyway. They are the published content that is clearly versioned and immutable. And this process should work for any resource in a package published to the package registry, not just the core spec. #packagefanboy<br>
(The fact that you find this canonical in multiple packages is a less than perfect publishing strategy in my opinion, the latter two packages should just have declared a dependency on the first.)</p>



<a name="203445526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203445526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203445526">(Jul 09 2020 at 21:49)</a>:</h4>
<p>If I look up the package it tells me it is hl7.fhir.r4.core and version "R4". How then do I get that via <a href="https://packages.simplifier.net/&lt;package-name&gt;/&lt;package-version">https://packages.simplifier.net/&lt;package-name&gt;/&lt;package-version</a>&gt;, which expects "4.0.1"</p>



<a name="203446020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203446020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203446020">(Jul 09 2020 at 21:53)</a>:</h4>
<p>ok this works for Accept: application/json : <a href="http://hl7.org/fhir/StructureDefinition/patient-birthPlace">http://hl7.org/fhir/StructureDefinition/patient-birthPlace</a></p>
<p>but not for Accept:  application/fhir+json or  application/json+fhir - I think <span class="user-mention" data-user-id="193461">@David Johnson</span> needs to fix something on the server</p>



<a name="203447161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203447161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203447161">(Jul 09 2020 at 22:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191651">@Rik Smithies</span> You're mixing FHIR version and package version:</p>
<ol>
<li><a href="https://packages.simplifier.net/catalog?canonical=http://hl7.org/fhir/StructureDefinition/patient-birthPlace">https://packages.simplifier.net/catalog?canonical=http://hl7.org/fhir/StructureDefinition/patient-birthPlace</a> finds three package names, including <code>hl7.fhir.r4.core</code></li>
<li><a href="https://packages.simplifier.net/hl7.fhir.r4.core">https://packages.simplifier.net/hl7.fhir.r4.core</a> gives you one package version with the latest (and only) being <code>4.0.1</code></li>
<li><a href="https://packages.simplifier.net/hl7.fhir.r4.core/4.0.1">https://packages.simplifier.net/hl7.fhir.r4.core/4.0.1</a> gives you the package itself</li>
</ol>
<p>Limitation is that there's currently no guarantee that the canonical is in the latest version of the package, an older version or all. For that the <code>versions</code> parameter needs to be implemented on the search endpoint, which isn't done yet (described under <a href="https://simplifier.net/docs/package-server/Search#package-version-response:~:text=Package%20version%20response,PROPOSAL%20%2D%20Not%20implemented%20yet">package version response on the Search documentation page</a>).</p>



<a name="203455932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203455932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Johnson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203455932">(Jul 09 2020 at 23:49)</a>:</h4>
<p>I've added the two mime types</p>



<a name="203455996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203455996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Johnson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203455996">(Jul 09 2020 at 23:50)</a>:</h4>
<p>.json2 goes to download, while .json1 displays like .json.  Is that the expected behavior, based on application types?</p>



<a name="203456718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203456718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203456718">(Jul 10 2020 at 00:01)</a>:</h4>
<p>not sure but I don't think it matters. it's what happens in postman that matters for those mime types- let me check</p>



<a name="203456800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203456800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203456800">(Jul 10 2020 at 00:02)</a>:</h4>
<p>sweet - all good. Rik, requests against that canonical URL should work now - thanks for reporting the problem</p>



<a name="203466472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203466472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adeel Ahmed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203466472">(Jul 10 2020 at 03:37)</a>:</h4>
<p>Hi Everyone, <br>
                       Can someone please guide me or share some C# code examples of implementation of Fhir validation (R4 version 4.0.1) against structural definitions / local profiles. </p>
<p>For example, I want to validate a Fhir (R4) Json patient object against the Fhir structural definition (Json Schema) at <a href="http://build.fhir.org/ig/HL7NZ/nzbase/branches/master/StructureDefinition-NzPatient.profile.json.html">http://build.fhir.org/ig/HL7NZ/nzbase/branches/master/StructureDefinition-NzPatient.profile.json.html</a> </p>
<p>I have found some examples online but they are all for STU3 (like <a href="https://github.com/FirelyTeam/Furore.Fhir.ValidationDemo">https://github.com/FirelyTeam/Furore.Fhir.ValidationDemo</a>) </p>
<p>Your help will be much appreciated. </p>
<p>Thanks,<br>
Adeel</p>



<a name="203474781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Programmatically%20resolve%20profile%20reference/near/203474781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Programmatically.20resolve.20profile.20reference.html#203474781">(Jul 10 2020 at 06:56)</a>:</h4>
<p><span class="user-mention" data-user-id="320090">@Adeel Ahmed</span> Please ask in the <a class="stream" data-stream-id="179171" href="/#narrow/stream/179171-dotnet">#dotnet</a> channel. I'm sure <span class="user-mention" data-user-id="193551">@Marco Visser</span> or <span class="user-mention" data-user-id="191334">@Marten Smits</span> can point you to some sample code.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
