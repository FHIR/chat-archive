---
layout: page
title: "FHIR Chat  · Expressing CareRelation in AuditEvent · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html">Expressing CareRelation in AuditEvent</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="242885326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/242885326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Øyvind Aassve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#242885326">(Jun 16 2021 at 14:05)</a>:</h4>
<p>Hi, in relation with implementing an autentication lookup service in a regional EHR from a national service, we need to expose an attribute in the regional EHR that describes the reason/ authorization a clinician has to access the patient in this specific instance. The attribute is logged in the EHR for every time a clinician accesses a new patient has a around 15 values – for example «patient visiting own unit», «delivering anastetics» etc.</p>
<p>As this is information related to the EHRs audit log, we have been thinking AuditEvent sounds like a good candidate resource. But we struggle with how to best express that this is a relation between the patient and the practitioner.  A couple of alternatives we have been discussing is to include the 15 codes in the extensible value set AuditEvent.agent.purposeOfUse for example in the TREAT-hiearcy, or to add a coded element with the 15 codes as an extension. Any thoughts?</p>



<a name="243072062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/243072062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#243072062">(Jun 17 2021 at 19:34)</a>:</h4>
<p>excellent.   so these codes are an indication of why the clinician was authorized? if so then I think that would go into AuditEvent.agent.policy. This element is a URI, but you can easily make a URI encoding out of a code (system#code).</p>



<a name="243072130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/243072130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#243072130">(Jun 17 2021 at 19:35)</a>:</h4>
<p>the purpose of use would not be right, as that is the activities that are authorized, not the reason they were authorized.</p>



<a name="243164116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/243164116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Øyvind Aassve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#243164116">(Jun 18 2021 at 13:58)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191404">@John Moehrke</span> that seesm to fit very well. I'll take it back to the project and come back to you if there are any follow-up questions. Cheers</p>



<a name="244808921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/244808921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trond Elde <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#244808921">(Jul 03 2021 at 14:38)</a>:</h4>
<p>Hi, <span class="user-mention" data-user-id="191404">@John Moehrke</span> . I am working in the same project together with <span class="user-mention" data-user-id="192654">@Øyvind Aassve</span>  and have a couple of follow up questions. </p>
<p>1) As far I can see, the Auditevent.agent.policy is a rather generic structure that can hold a list of URL-encoded attributes from an OAuth2 JSON Web token (JWT) which describes an authorization context for the event. Do you agree on that?  </p>
<p>2) I am not sure I understand the last sentence "<em>the purpose of use would not be right, as that is the activities that are authorized, not the reason they were authorized</em>."  When I check out the terminology binding for <a href="https://www.hl7.org/fhir/auditevent-definitions.html#AuditEvent.agent.purposeOfUse">https://www.hl7.org/fhir/auditevent-definitions.html#AuditEvent.agent.purposeOfUse</a>, then I see codes that we are looking for e.g. TREAT and Break the glass (BTG).  The definition / comment fits to: "The reason (purpose of use), specific to this agent, that was used during the event being recorded" / "Use AuditEvent.agent.purposeOfUse when you know that is specific to the agent,...".    Maybe you can elaborate on that?</p>



<a name="244827603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/244827603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#244827603">(Jul 03 2021 at 22:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span></p>



<a name="245024220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/245024220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#245024220">(Jul 06 2021 at 11:19)</a>:</h4>
<p>Sorry for the delay, vacation. Realistically you can put anything into any element. I can't stop you. I am just trying to express the intention of the design.</p>



<a name="245024662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/245024662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#245024662">(Jul 06 2021 at 11:23)</a>:</h4>
<p>Are you looking to create an AuditEvent when a token is issued? If so, then why not record the JWT content in the AuditEvent as an AuditEvent.entity? This is to say that the AuditEvent is created because the token was issued, and records the issuance of that token.  You could either just encode the JWT (json) into the AuditEvent.entity.description; or you could split out the elements into AuditEvent.entry.detail value pairs.  There is a jira ticket asking for this to be shown in a example, so I would very much like to work with you to get this jira ticket resolved with an example.</p>



<a name="250261245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/250261245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Trond Elde <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#250261245">(Aug 22 2021 at 07:47)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191404">@John Moehrke</span>  I am back after a long summer holiday, so no problem with a couple of days of delay.  </p>
<p>No, we are not looking for audit event for issuing of JWT tokens, but the underlying reason for access  that this specific agent accessed the patient EHR, e.g. CRUD on EHR documents.  The JWT is just a carrier of information, and not interesting in itself.</p>
<p>And yes, we want to comply with intention of the design. The challenge is that the description is rather sparse and no relevant examples to study as far I can see. If you have time, you can take at  look at  <a href="https://www.ehelse.no/normen/documents-in-english/_/attachment/download/df5cf316-0288-44e8-b451-178a8d15324a:d3a673d07633aa840321353047b142ccc1d09996/Fact%20sheet%2015%20-incident-registration-and-follow-up.pdf">Incident registration and follow up document (code of conduct document)</a> from Norwegian authorities and especially </p>
<div class="codehilite"><pre><span></span><code>4 The incident register must, at minimum, contain
a) For authorized use:
....
The reason for access (e.g. medical care, principle of necessity access, administrative
use)
</code></pre></div>
<p>"Principle of necessity access" = break the glass (BTG)</p>



<a name="250341201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Expressing%20CareRelation%20in%20AuditEvent/near/250341201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Expressing.20CareRelation.20in.20AuditEvent.html#250341201">(Aug 23 2021 at 12:00)</a>:</h4>
<p>The reason for access -- this is what we call PurposeOfUse. The AuditEvent has a .purposeOfEvent to record the purposeOfUse at the event level, and also has .agent.purposeOfUse when an event has multiple agents with different purposeOfUse.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
