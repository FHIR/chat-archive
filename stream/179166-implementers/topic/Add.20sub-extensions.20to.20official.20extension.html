---
layout: page
title: "FHIR Chat  · Add sub-extensions to official extension · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html">Add sub-extensions to official extension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176043171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176043171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maria Hu <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176043171">(Sep 18 2019 at 20:28)</a>:</h4>
<p>Can I add sub-extensions to official extension?  <br>
e.g. Official extension '<a href="http://hl7.org/fhir/StructureDefinition/patient-genderIdentity" target="_blank" title="http://hl7.org/fhir/StructureDefinition/patient-genderIdentity">http://hl7.org/fhir/StructureDefinition/patient-genderIdentity</a>', can I add sub-extensions "genderIdentity" and "otherGenderIdentity" ?  <br>
Or do I have to create my own extensions?  Please advise, thanks.</p>



<a name="176043219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176043219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176043219">(Sep 18 2019 at 20:29)</a>:</h4>
<p>you can add your own extensions but they have to have an absolute URI which is a reference to your extension definition</p>



<a name="176045189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176045189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maria Hu <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176045189">(Sep 18 2019 at 20:50)</a>:</h4>
<blockquote>
<p>you can add your own extensions but they have to have an absolute URI which is a reference to your extension definition</p>
</blockquote>
<p>So it's not allowed to add sub-extensions to official extension, correct?</p>



<a name="176045753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176045753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maria Hu <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176045753">(Sep 18 2019 at 20:56)</a>:</h4>
<blockquote>
<p>Can I add sub-extensions to official extension?  <br>
e.g. Official extension '<a href="http://hl7.org/fhir/StructureDefinition/patient-genderIdentity" target="_blank" title="http://hl7.org/fhir/StructureDefinition/patient-genderIdentity">http://hl7.org/fhir/StructureDefinition/patient-genderIdentity</a>', can I add sub-extensions "genderIdentity" and "otherGenderIdentity" ?  <br>
Or do I have to create my own extensions?  Please advise, thanks.</p>
</blockquote>
<p>So it's not allowed to add sub-extension(s) to official extension, correct?  Please confirm, thanks.</p>



<a name="176046210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176046210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176046210">(Sep 18 2019 at 21:01)</a>:</h4>
<p>Two things:<br>
1. if the extension has a 'simple' type (string, code, etc.), then any extensions will have appear in the 'value' element (i.e. you're essentially extending the extension's value rather than the extension)<br>
2. If it's a complex type, then you can add additional sibling child extensions, but anything 'extra' you add has to have a fully specified URL.  I.e. you can't have an extension where url="someNewProperty", instead it needs to be url="<a href="http://some-organization/whatever/StructureDefinition/someNewProperty" target="_blank" title="http://some-organization/whatever/StructureDefinition/someNewProperty">http://some-organization/whatever/StructureDefinition/someNewProperty</a>"</p>



<a name="176049027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176049027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maria Hu <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176049027">(Sep 18 2019 at 21:38)</a>:</h4>
<blockquote>
<p>Two things:<br>
1. if the extension has a 'simple' type (string, code, etc.), then any extensions will have appear in the 'value' element (i.e. you're essentially extending the extension's value rather than the extension)<br>
2. If it's a complex type, then you can add additional sibling child extensions, but anything 'extra' you add has to have a fully specified URL.  I.e. you can't have an extension where url="someNewProperty", instead it needs to be url="<a href="http://some-organization/whatever/StructureDefinition/someNewProperty" target="_blank" title="http://some-organization/whatever/StructureDefinition/someNewProperty">http://some-organization/whatever/StructureDefinition/someNewProperty</a>"</p>
</blockquote>
<p>Thanks Lloyd, got it.</p>



<a name="176079622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176079622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176079622">(Sep 19 2019 at 08:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> thanks for clarifying. Forge currently supports (1) but not (2). I guess (2) is mainly intended when deriving from an existing extension definition. However is (2) also allowed for a complex extension definition itself? i.e. where a complex child extension element (NOT child extension of the value element) references an external extension definition via absolute url.</p>



<a name="176081388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176081388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176081388">(Sep 19 2019 at 09:15)</a>:</h4>
<p>yes that's allowed.</p>



<a name="176081502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176081502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176081502">(Sep 19 2019 at 09:17)</a>:</h4>
<p>OK thanks for confirming</p>



<a name="176082085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176082085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176082085">(Sep 19 2019 at 09:26)</a>:</h4>
<p>it's not common ;-) - I think I've seen it a couple of times</p>



<a name="176082554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176082554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176082554">(Sep 19 2019 at 09:34)</a>:</h4>
<p>I see how this could be useful, allowing to define a complex extension that combines several other existing extensions. I've added a feature request to the Forge issue tracker.</p>



<a name="176094720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Add%20sub-extensions%20to%20official%20extension/near/176094720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Add.20sub-extensions.20to.20official.20extension.html#176094720">(Sep 19 2019 at 12:42)</a>:</h4>
<p>It's sort of the difference between adding a new element to a backbone as opposed to extending one of the elements within the backbone.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
