---
layout: page
title: "FHIR Chat  · ActivityDefinition · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html">ActivityDefinition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="178631222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178631222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178631222">(Oct 21 2019 at 07:12)</a>:</h4>
<p>In ActivityDefinition I understand that dynamicValue can be used to set a 'path' (some data element) to a dynamic value as defined by some (CQL or something else) expression. However, from the context it isn't entirely clear as to where those 'paths' would be.<br>
I'm guessing that the specified paths would be to the request resource, the request resource as generated during the $apply operation. Correct? What would a typical example be for using a dynamicValue ?</p>



<a name="178665722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178665722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178665722">(Oct 21 2019 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="178684458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178684458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178684458">(Oct 21 2019 at 18:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191372">@René Spronk</span> , yes, that's correct, the path would be relative to the root of the resource being created (the ActivityDefinition.kind element specifies the resource type). A simple example for using dynamicValue is to set the authoredOn to Now(). More complex examples might be to set the dosage for a medication based on the patient's weight.</p>



<a name="178934204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178934204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178934204">(Oct 24 2019 at 09:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> Thanks - once one has a CarePlan, and one would wish to "add" an instance of an ActivityDefintion to it, it would seem that currently $apply doesn't support this. Does this mean one would have to create a new CarePlan ? And another question: looking at CarePlans and Questionnaires: Q's play a role in determining the outcomes (evaluation), but depending on how the QR is populated they may also trigger new interventions.  Some QRs could be mapped into a CarePlan.. how do you see the role of Q in the context of CarePlans ?</p>



<a name="178946719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178946719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178946719">(Oct 24 2019 at 12:34)</a>:</h4>
<p>$apply gives you a theoretical CarePlan that you adjust to be the 'real' one (or merge into an existing real one).  A QR could, in principle, result in any kind of a resource - including CarePlans or even full-blown orders.  So long as the mappings are there, extractions should work.</p>



<a name="178954431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178954431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178954431">(Oct 24 2019 at 14:01)</a>:</h4>
<p>Hmm - from what I now understand, the CarePlanDefintion is 'constrained for a specific patient' (high level pathway choices) prior to using $apply (which is the time to involve the clinical data of the patient and generate a much more specific set of option/plan/order intent Request resources), and obviously the generated CarePlan may still contain various options, which may or may not lead to actual interventions/requests. The latter choices are during the process of managing the CarePlan resource. <br>
I haven't seen mention of CarePlans being merged, but that should be possible. I was just wodnering if $apply should have a input parameter for "CarePlan to be updated' by $apply-ing a certainly activityDefintion to it.</p>



<a name="178957249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178957249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178957249">(Oct 24 2019 at 14:25)</a>:</h4>
<p>I can't imagine a practitioner wanting their "real" care plan auto- updated by  decision support</p>



<a name="178984861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178984861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178984861">(Oct 24 2019 at 18:54)</a>:</h4>
<p>The <a href="http://hl7.org/fhir/activitydefinition-operation-apply.html" target="_blank" title="http://hl7.org/fhir/activitydefinition-operation-apply.html">$apply</a> operation for an ActivityDefinition returns Any resource, it's the result of constructing the resource described by the ActivityDefinition. So if your ActivityDefinition creates a MedicationRequest, that would be the result of the Apply.</p>



<a name="178984944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178984944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178984944">(Oct 24 2019 at 18:55)</a>:</h4>
<p>And PlanDefinition isn't necessarily constrained for a specific patient, that depends how you create it. CarePlan is, but PlanDefinition could be defined based on the characteristics of "some" patient with a particular condition, or however you want to construct it.</p>



<a name="178985168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ActivityDefinition/near/178985168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ActivityDefinition.html#178985168">(Oct 24 2019 at 18:57)</a>:</h4>
<p>I would expect that a process that was applying decision support as part of updating a care plan could use questionnaires to gather information required as input to the decision support, which would then use that information as input to the process of creating the proposals from the PlanDefinition/ActivityDefinition. I would think the user would then be presented with the result of that inferencing and decide whether or not to accept/reject/modify the proposed activities.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
