---
layout: page
title: "FHIR Chat  · _sort on null · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html">_sort on null</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="181862077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/181862077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#181862077">(Nov 25 2019 at 20:58)</a>:</h4>
<p>If i  use <code>_sort</code>on a search parameter which is missing on some of the resources my total differs (HAPI server). As the spec is unclear on this i wanted to ask if this is an expected behavior. Is there a defined sort order for the null values with asc and desc sort order?</p>



<a name="181862119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/181862119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#181862119">(Nov 25 2019 at 20:58)</a>:</h4>
<p>example:<br>
<a href="https://fhir.molit.eu/r4/Patient?_sort=name" target="_blank" title="https://fhir.molit.eu/r4/Patient?_sort=name">https://fhir.molit.eu/r4/Patient?_sort=name</a> -&gt; total = 20<br>
<a href="https://fhir.molit.eu/r4/Patient" target="_blank" title="https://fhir.molit.eu/r4/Patient">https://fhir.molit.eu/r4/Patient</a> -&gt; total = 23</p>



<a name="182017637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182017637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182017637">(Nov 27 2019 at 13:18)</a>:</h4>
<p>just checked <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>'s server  which puts Patients without a name at the start when sorting. Hapi seems to ignore all Patients with no name. I suppose the desired behavior would be like <a href="http://test.fhir.org" target="_blank" title="http://test.fhir.org">test.fhir.org</a> and hapi has a bug <span class="user-mention" data-user-id="191319">@James Agnew</span> ?</p>



<a name="182017824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182017824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182017824">(Nov 27 2019 at 13:20)</a>:</h4>
<p>In SQL you can control order and nulls behavior - <code>NULLS (FIRST | LAST)</code> - <a href="https://www.postgresql.org/docs/12/queries-order.html" target="_blank" title="https://www.postgresql.org/docs/12/queries-order.html">https://www.postgresql.org/docs/12/queries-order.html</a></p>



<a name="182018763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182018763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182018763">(Nov 27 2019 at 13:31)</a>:</h4>
<p>is that in standard sql?</p>



<a name="182019023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182019023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182019023">(Nov 27 2019 at 13:35)</a>:</h4>
<p>It looks like almost standard - <a href="https://en.wikipedia.org/wiki/Order_by" target="_blank" title="https://en.wikipedia.org/wiki/Order_by">https://en.wikipedia.org/wiki/Order_by</a>. <code>With the SQL:2003 extension T611, "Elementary OLAP operations", nulls can be sorted before ...</code></p>



<a name="182019321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182019321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182019321">(Nov 27 2019 at 13:39)</a>:</h4>
<p>thought it was an extension...</p>



<a name="182019646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182019646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182019646">(Nov 27 2019 at 13:43)</a>:</h4>
<p>and can you confirm that this is an bug in hapi?</p>



<a name="182027676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182027676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182027676">(Nov 27 2019 at 15:11)</a>:</h4>
<p>seems like it:<br>
<a href="https://github.com/jamesagnew/hapi-fhir/issues/818" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/818">https://github.com/jamesagnew/hapi-fhir/issues/818</a><br>
<a href="https://github.com/jamesagnew/hapi-fhir/issues/1061" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/1061">https://github.com/jamesagnew/hapi-fhir/issues/1061</a></p>



<a name="182029072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182029072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182029072">(Nov 27 2019 at 15:26)</a>:</h4>
<p>continued here:<br>
<a href="#narrow/stream/179167-hapi/topic/_sort.20on.20null.20.2F.20empty.20field" title="#narrow/stream/179167-hapi/topic/_sort.20on.20null.20.2F.20empty.20field">https://chat.fhir.org/#narrow/stream/179167-hapi/topic/_sort.20on.20null.20.2F.20empty.20field</a></p>



<a name="182604416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182604416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182604416">(Dec 04 2019 at 21:58)</a>:</h4>
<p>just for clarification: _sort shouldn't have an impact on the result size, right?</p>



<a name="182625327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182625327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182625327">(Dec 05 2019 at 03:50)</a>:</h4>
<p>Correct</p>



<a name="182646862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_sort%20on%20null/near/182646862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_sort.20on.20null.html#182646862">(Dec 05 2019 at 10:42)</a>:</h4>
<p>That does look like a HAPI bug...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
