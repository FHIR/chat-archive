---
layout: page
title: "FHIR Chat  · publisher nullPointerException · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html">publisher nullPointerException</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272687065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/272687065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#272687065">(Feb 21 2022 at 13:20)</a>:</h4>
<p>Hi all. We are trying to use the <code>publisher.jar</code> and running up a brick wall. I tried using the <code>_genonce.bat</code> and also tried using the direct approach of doing it myself with:<br>
<code>java -jar input-cache/publisher.jar -ig "c:\FHIR\outburn\fsh-generated\resources\ImplementationGuide-outburn.json"</code></p>
<p>in both cases I get the following output with literally no information I can actually glean as to what the problem actually is:</p>
<div class="codehilite"><pre><span></span><code>FHIR IG Publisher Version 1.1.106 (Git# 390af812658f). Built 2022-02-20T20:44:29.505Z (16 hours old)
Detected Java version: 17.0.2 from C:\Program Files\Java\jdk-17.0.2 on Windows 10/amd64 (64bit). 2020MB available
dir = C:\FHIR\outburn, path = C:\Program Files\Common Files\Oracle\Java\javapath;C:\Python39\Scripts\;C:\Python39\;C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files (x86)\QuickTime\QTSystem\;C:\Program Files\Microsoft VS Code\bin;C:\Program Files\Calibre2\;C:\hapi-fhir-cli;C:\Program Files\nodejs\;C:\ProgramData\chocolatey\bin;C:\Ruby27-x64\bin;C:\Users\amosr\AppData\Local\Programs\Python\Python38-32\Scripts\;C:\Users\amosr\AppData\Local\Programs\Python\Python38-32\;C:\Users\amosr\AppData\Local\Microsoft\WindowsApps;;C:\Program Files\JetBrains\PyCharm 2019.3.4\bin;;C:\Users\amosr\AppData\Roaming\npm
Parameters: -ig c:\FHIR\outburn\fsh-generated\resources\ImplementationGuide-outburn.json
Start Clock @ Monday, February 21, 2022 at 3:18:21 PM Israel Standard Time (2022-02-21T15:18:21+02:00)

API keys loaded from C:\Users\amosr\fhir-api-keys.ini                            (00:00.0008)
Package Cache: C:\Users\amosr\.fhir\packages                                     (00:00.0015)
Load Configuration from c:\FHIR\outburn\fsh-generated\resources\ImplementationGuide-outburn.json (00:00.0035)
Root directory: C:\FHIR\outburn\fsh-generated\resources                          (00:00.0074)
Publishing Content Failed: Cannot invoke &quot;com.google.gson.JsonObject.has(String)&quot; because &quot;paths&quot; is null (00:00.0077)
                                                                                 (00:00.0079)
Use -? to get command line help                                                  (00:00.0080)
                                                                                 (00:00.0081)
Stack Dump (for debugging):                                                      (00:00.0082)
java.lang.NullPointerException: Cannot invoke &quot;com.google.gson.JsonObject.has(String)&quot; because &quot;paths&quot; is null
        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:2920)
        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:2162)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:850)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10005)
</code></pre></div>
<p>If anyone can tell me what I'm doing wrong, it would be of great help!</p>
<p>BTW - I tried running the publisher by double clicking in it and nothing happens. I know that it doesn\t work with  open-jdk so I installed a new version of java. Still nothing :(</p>



<a name="272743238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/272743238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#272743238">(Feb 21 2022 at 23:06)</a>:</h4>
<p>I don't know why double clicking doesn't work. It should. but it's not a feature that works well, or any uses. I'll look at that at some stage</p>



<a name="272743250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/272743250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#272743250">(Feb 21 2022 at 23:06)</a>:</h4>
<p>for the problem: it looks like an issue with the template set up. Can I reproduce this?</p>



<a name="272743263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/272743263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#272743263">(Feb 21 2022 at 23:06)</a>:</h4>
<p>btw: <a class="stream" data-stream-id="179252" href="/#narrow/stream/179252-IG-creation">#IG creation</a> is a better place for this question</p>



<a name="272823829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/272823829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#272823829">(Feb 22 2022 at 16:01)</a>:</h4>
<p>Not sure I understand the question. do you want me to send you the files? Also, i can no longer move this. Should I delete and repost in the proper place?</p>



<a name="272852566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/272852566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#272852566">(Feb 22 2022 at 19:12)</a>:</h4>
<p><span class="user-mention" data-user-id="380122">@Kippi Bordowitz</span> the "usual" way of providing a reproducible error is pointing to an online repository such as github</p>



<a name="272956517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/272956517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#272956517">(Feb 23 2022 at 14:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
I created a repository in order for you to be able to try and reproduce the bug. <br>
please follow <a href="https://github.com/amosref/outburn_test/tree/main/outburn">this link</a>. I removed the <code>publisher.jar</code> file</p>
<p>BTW there is another problem:<br>
as we use FSH for our project, the <code>sushi-config.yaml</code> file's "version" field stores not the fihrVrsion, rather the version number of the project.  There is a saparate field for fhirVersion. For some reason, the igpublisher takes the "version" field  in the <code>implementationGuide.json</code> file as the FHIR version so I have to change it manually. That seems like a bug to me. Is there some place I should report it?</p>



<a name="273028286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273028286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273028286">(Feb 23 2022 at 23:47)</a>:</h4>
<p>I get </p>
<div class="codehilite"><pre><span></span><code>onGenerate.jira.setup:
     [xslt] Processing /Users/grahamegrieve/temp/igs/outburn_test/outburn/template/onGenerate-ig-updated.xml to /Users/grahamegrieve/temp/igs/outburn_test/outburn/template/properties.txt
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/outburn_test/outburn/template/scripts/onGenerate.genProperties.xslt
When using the HL7 template, the IG id must start with &quot;hl7.&quot; - found outburn
     [xslt] /Users/grahamegrieve/temp/igs/outburn_test/outburn/template/scripts/onGenerate.genProperties.xslt:35:7: Fatal Error! Processing terminated by xsl:message at line 35 in onGenerate.genProperties.xslt
     [xslt] Failed to process /Users/grahamegrieve/temp/igs/outburn_test/outburn/template/onGenerate-ig-updated.xml
Publishing Content Failed: Fatal error during transformation using /Users/grahamegrieve/temp/igs/outburn_test/outburn/template/scripts/onGenerate.genProperties.xslt: Processing terminated by xsl:message at line 35 in onGenerate.genProperties.xslt; SystemID: file:/Users/grahamegrieve/temp/igs/outburn_test/outburn/template/scripts/onGenerate.genProperties.xslt; Line#: 35; Column#: 7 (00:33.0106)
                                                                                 (00:33.0108)
This error was created by the template                                           (00:33.0108)
</code></pre></div>



<a name="273028293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273028293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273028293">(Feb 23 2022 at 23:47)</a>:</h4>
<p>that doesn't seem like what you were expecting</p>



<a name="273409802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273409802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273409802">(Feb 27 2022 at 15:40)</a>:</h4>
<p>Thank you, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> for trying to reproduce it. <br>
Correct. It's a different error... Very perplexing but I am no Java expert...<br>
So... How do we move forward? Also, did you note the second thing I wrote re the <code>version</code>?</p>



<a name="273422567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273422567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273422567">(Feb 27 2022 at 20:06)</a>:</h4>
<p><span class="user-mention" data-user-id="380122">@Kippi Bordowitz</span> your ig.ini says you want to use the HL7 IG template, but that is reserved for IGs that are published by HL7</p>



<a name="273422644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273422644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273422644">(Feb 27 2022 at 20:08)</a>:</h4>
<p>as for the version, I don't see the issue</p>



<a name="273422654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273422654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273422654">(Feb 27 2022 at 20:09)</a>:</h4>
<p>your generated ig json says </p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="err">...</span><span class="w"></span>
<span class="w">  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3.0"</span><span class="p">,</span><span class="w"></span>
<span class="err">...</span><span class="w"></span>
<span class="w"> </span><span class="nt">"fhirVersion"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="s2">"4.0.1"</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
</code></pre></div>



<a name="273422657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273422657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273422657">(Feb 27 2022 at 20:09)</a>:</h4>
<p>as it should</p>



<a name="273422722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273422722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273422722">(Feb 27 2022 at 20:10)</a>:</h4>
<p>and the publisher takes it correctly: <br>
<a href="/user_uploads/10155/ZvYwRMWUWdJi6MJwY6ITSm5v/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/ZvYwRMWUWdJi6MJwY6ITSm5v/image.png" title="image.png"><img src="/user_uploads/10155/ZvYwRMWUWdJi6MJwY6ITSm5v/image.png"></a></div>



<a name="273422723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273422723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273422723">(Feb 27 2022 at 20:10)</a>:</h4>
<p>(deleted)</p>



<a name="273481026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273481026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273481026">(Feb 28 2022 at 12:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> <br>
here is what happen if I don't change the "version" in the <code>implementationGuide-outburn.json</code> manually:</p>
<div class="codehilite"><pre><span></span><code>Stack Dump (for debugging):                                                      (00:00.0063)
java.lang.Exception: Error: the IG declares that is based on version 0.3.0 but this IG publisher only supports publishing the following versions: 1.0.2, 1.4.0, 3.0.2, 4.0.1, 4.1.0, 4.3.0, 5.0, 4.6.0
        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:2865)
        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:2162)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:850)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10005)
</code></pre></div>



<a name="273481429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273481429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273481429">(Feb 28 2022 at 12:27)</a>:</h4>
<p>if you are using sushi, you should not ever need to change the implementationguide json</p>



<a name="273481856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273481856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273481856">(Feb 28 2022 at 12:30)</a>:</h4>
<p>i downloaded your IG and it builds fine</p>



<a name="273491272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273491272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273491272">(Feb 28 2022 at 13:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> I really wish we had the same experience...<br>
I cannot explain it. But unless I change it by hand, it fails, as I have presented here. <br>
But that's  minimal compared with the major problem - I have changed the template but it still fails. <br>
I am at my wits end here.</p>



<a name="273491543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273491543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273491543">(Feb 28 2022 at 13:55)</a>:</h4>
<p>ok perhaps best is to put this in a more orthodox form</p>



<a name="273491621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273491621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273491621">(Feb 28 2022 at 13:56)</a>:</h4>
<p>can you move in your the content to the root of the repo, instead of inside the folder?</p>



<a name="273491723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273491723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273491723">(Feb 28 2022 at 13:56)</a>:</h4>
<p>also, try deleting the input-cache folder and the output folder</p>



<a name="273491733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273491733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273491733">(Feb 28 2022 at 13:57)</a>:</h4>
<p>and the fsh-generated</p>



<a name="273492668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273492668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273492668">(Feb 28 2022 at 14:02)</a>:</h4>
<p>have you updated sushi ?</p>



<a name="273493340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273493340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273493340">(Feb 28 2022 at 14:07)</a>:</h4>
<p>good point. the version thing is not how sushi should behave, so you may have an old bug</p>



<a name="273497775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273497775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273497775">(Feb 28 2022 at 14:35)</a>:</h4>
<p>I'm not sure I understood all the previous remark. Regarding updating Sushi, I will try that. But that will only take care of the versioning problem, not the main one I started this thread about. <br>
The problem with deleting the input-cache folder is that the <code>_genounce.bat</code> expects to find <code>publisher.jar</code> there. Not that i am having any luck with using that method either...<br>
<em>"can you move in your the content to the root of the repo, instead of inside the folder?"</em> - Sorry - this is what I couldn't understand.</p>



<a name="273499985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273499985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273499985">(Feb 28 2022 at 14:51)</a>:</h4>
<p>you should keep a copy of _updatePublisher.bat... and use that to get the updated publisher, and get the updated bat/sh files.</p>



<a name="273500122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273500122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273500122">(Feb 28 2022 at 14:52)</a>:</h4>
<p>I have been keeping only _updatePublsiher.bat in my github repo; and adding a .gitignore for the other scripts.</p>



<a name="273500199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273500199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273500199">(Feb 28 2022 at 14:52)</a>:</h4>
<p>this way I can delete everything not maintained in git. run _updatePublisher, make sure my sushi is fresh (old sushi, yuck). then build</p>



<a name="273500319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273500319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273500319">(Feb 28 2022 at 14:53)</a>:</h4>
<p>given that your project built fine for Jose; I suspect it is old sushi or build.</p>



<a name="273500322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273500322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273500322">(Feb 28 2022 at 14:53)</a>:</h4>
<p><span class="user-mention" data-user-id="380122">@Kippi Bordowitz</span> your folder should look like this<br>
<a href="https://github.com/costateixeira/outburn_test">https://github.com/costateixeira/outburn_test</a></p>



<a name="273500429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273500429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273500429">(Feb 28 2022 at 14:54)</a>:</h4>
<p>in there, you can run the _updatepublisher - will download the publisher if you don't have it in the parent folder.<br>
then you run _genonce</p>



<a name="273503408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273503408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273503408">(Feb 28 2022 at 15:13)</a>:</h4>
<p>I updated sushi and now I get new errors in the sushi run that weren't there in the 1.3.2 version. <em>great</em> haha. <br>
I'm going to have to figure those out before I move forward. Just read the release notes for version and couldn't see any breaking change that should have led to this. Sorry for veering completely off topic but if you have any ideas, I'd be grateful. <br>
Here's is the output:</p>
<div class="codehilite"><pre><span></span><code>info  Converting FSH to FHIR resources...
error Cannot read property &#39;element&#39; of undefined
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 45 - 50
error No element found at path extension[parentName] for CardRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 45 - 50
error No element found at path extension[birthPlace] for CardRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 45 - 50
error No element found at path extension[immigration] for CardRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 45 - 50
error No element found at path extension[birthSex] for CardRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 45 - 50
error No element found at path extension[parentName] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 54
error No element found at path extension[parentName] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 55
error No element found at path extension[parentName] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 56
error No element found at path extension[birthPlace] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 57
error No element found at path extension[birthPlace] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 58
error No element found at path extension[immigration] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 59
error No element found at path extension[immigration] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 60
error No element found at path extension[birthSex] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 61
error No element found at path extension[birthSex] for CaretValueRule in HadassahPatient, skipping rule
  File: C:\FHIR\outburn\input\fsh\Patient-Hadassah.fsh
  Line: 62
</code></pre></div>
<p>the lines of code pertaining to the error are:</p>
<div class="codehilite"><pre><span></span><code>* extension contains
    $ext-il-hmo named hmo 0..1 and
    $ext-parent-name named parentName 0..* and
    $ext-birth-place named birthPlace 0..1 and
    $ext-patient-immigration named immigration 0..* and
    $us-core-birth-sex named birthSex 0..1
* extension[hmo] ^short = &quot;Extension: Israel Core HMO (קופת חולים)&quot;
* extension[hmo] ^definition = &quot;A code classifying the person&#39;s Israeli HMO&quot;
* extension[hmo] ^mustSupport = true
* extension[parentName] ^short = &quot;Extension: The name of the parent&quot;
* extension[parentName] ^definition = &quot;Specifies the entire parent name as it should be displayed e.g. on an application UI.&quot;
* extension[parentName] ^mustSupport = true
* extension[birthPlace] ^short = &quot;Extension: Place of Birth for patient&quot;
* extension[birthPlace] ^definition = &quot;The registered place of birth of the patient. A sytem may use the address.text if they don&#39;t store the birthPlace address in discrete elements&quot;
* extension[immigration] ^short = &quot;Extension: Patient Immigration&quot;
* extension[immigration] ^definition = &quot;Extension: Immigration information for patien - for the purpose of this extension - immigration is an international movement of a person to a destination country in order to settle as permanent resident&quot;
* extension[birthSex] ^short = &quot;Extension: US Core Birth Sex Extension&quot;
* extension[birthSex] ^definition = &quot;A code classifying the person’s sex assigned at birth as specified by the Office of the National Coordinator for Health IT (ONC). This extension aligns with the C-CDA Birth Sex Observation (LOINC 76689-9).&quot;
</code></pre></div>
<p>If you have no idea I'll post it in the Sushi section, but as I made the change due to this very conversation I figured you might have an idea.</p>



<a name="273503893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273503893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273503893">(Feb 28 2022 at 15:16)</a>:</h4>
<p>well, I can build your IG absolutely fine as is (i haven't updated sushi in a few weeks, but it is working ok)</p>



<a name="273504911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273504911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273504911">(Feb 28 2022 at 15:23)</a>:</h4>
<p>it sushi builds, but I do get a build error much later during xslt transforming.</p>



<a name="273504971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273504971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273504971">(Feb 28 2022 at 15:23)</a>:</h4>
<p>makes me wonder if your build environment is got something out-of-date... java, node, ?</p>



<a name="273505926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273505926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273505926">(Feb 28 2022 at 15:29)</a>:</h4>
<p>well... this is all extremely frustrating :(</p>



<a name="273514687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273514687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273514687">(Feb 28 2022 at 16:21)</a>:</h4>
<p>well, I rolled back version by version of sushi until I arrived at 2.2.1 which no longer returned the sushi errors. So that's one problem off the list. Will post a bug report. This still has no effect on the previous problems. Next I updated Java jdk to latest stable and also node.  Next, I deleted all the folders <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> suggested, ran <code>_updatepublisher.bat</code>.<br>
Finally ran <code>_genounce.bat</code> and it looked like it was finally going to work but I got the following: </p>
<div class="codehilite"><pre><span></span><code>onGenerate:
Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space
        at java.base/java.util.Arrays.copyOf(Arrays.java:3537)
        at java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228)
        at java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:582)
        at java.base/java.lang.StringBuilder.append(StringBuilder.java:179)
        at org.hl7.fhir.igtools.renderers.XmlXHtmlRenderer.writeAttributeSet(XmlXHtmlRenderer.java:188)
        at org.hl7.fhir.igtools.renderers.XmlXHtmlRenderer.writeAttributes(XmlXHtmlRenderer.java:150)
        at org.hl7.fhir.igtools.renderers.XmlXHtmlRenderer.enter(XmlXHtmlRenderer.java:475)
        at org.hl7.fhir.igtools.renderers.XmlXHtmlRenderer.enter(XmlXHtmlRenderer.java:428)
        at org.hl7.fhir.igtools.renderers.XmlXHtmlRenderer.element(XmlXHtmlRenderer.java:602)
        at org.hl7.fhir.igtools.renderers.XmlXHtmlRenderer.element(XmlXHtmlRenderer.java:626)
        at org.hl7.fhir.r5.elementmodel.XmlParser.composeElement(XmlParser.java:700)
        at org.hl7.fhir.r5.elementmodel.XmlParser.composeElement(XmlParser.java:728)
        at org.hl7.fhir.r5.elementmodel.XmlParser.composeElement(XmlParser.java:728)
        at org.hl7.fhir.r5.elementmodel.XmlParser.composeElement(XmlParser.java:728)
        at org.hl7.fhir.r5.elementmodel.XmlParser.composeElement(XmlParser.java:728)
        at org.hl7.fhir.r5.elementmodel.XmlParser.compose(XmlParser.java:647)
        at org.hl7.fhir.igtools.publisher.Publisher.saveDirectResourceOutputs(Publisher.java:8668)
        at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:8044)
        at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5854)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1018)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10005)
</code></pre></div>
<p>I was surprised to find an "OutOfMemory" error. So I restarted my computer and ran it with nothing else open. Still no dice. I am out of ideas.<br>
<span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  any ideas?</p>



<a name="273539862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273539862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273539862">(Feb 28 2022 at 19:20)</a>:</h4>
<p>the log will say how much memory is available at the start of the run. But Java doesn't use as much memory as is available - you have to tell if how much to make available to the IGPublisher</p>



<a name="273633007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273633007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273633007">(Mar 01 2022 at 12:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
OK. So... how do I do that? I can't find this information by myself anywhere.</p>



<a name="273633061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273633061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273633061">(Mar 01 2022 at 12:34)</a>:</h4>
<p>it'll be in the first few lines of the log</p>



<a name="273639460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/publisher%20nullPointerException/near/273639460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kippi Bordowitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/publisher.20nullPointerException.html#273639460">(Mar 01 2022 at 13:26)</a>:</h4>
<p>I am asking how I can add more memory to java. I can't find a solution that works. Please... help. I have been trying to get this thing to work for so long... Also I don't see anything on the subject in the log but maybe I'm not understanding where you actually mean. Please - I understand your need for brevity, you probably answer dozens of messages a day. But I need a bit more information and then I'll be off your back :)<br>
Much appreciated!</p>
<p>**edit- I figured it out</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
