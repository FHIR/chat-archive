---
layout: page
title: "FHIR Chat  · Canonical URL with FHIR version? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html">Canonical URL with FHIR version?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223902328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223902328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223902328">(Jan 25 2021 at 14:17)</a>:</h4>
<p>Perhaps this is already been discussed a couple of times, but I am still wondering about the pro's and con's of adding a FHIR version inside the canonical URL, for example, <a href="https://example.org/R4/StructureDefinition/myPatient">https://example.org/R4/StructureDefinition/myPatient</a> or <a href="https://example.org/4.0/StructureDefinition/myPatient">https://example.org/4.0/StructureDefinition/myPatient</a>.</p>
<p>My take on it: the FHIR spec doesn't do it. Neither a lot of other big projects such as us-core. However, there are also examples of projects or organization who do add it. <br>
It may be helpful for a human to see in the instance if a meta.profile is used to which FHIR version it conforms. On the other hand, implementers need to update the meta.profile tags and the profile author may have more maintenance as it will introduce another version element to the already existing places for version e.g. the npm package / SD.version / SD.fhirVersion. <br>
I am I missing things? What do you think?</p>



<a name="223905230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223905230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223905230">(Jan 25 2021 at 14:38)</a>:</h4>
<p>What are the examples where canonical urls like these are including the version?<br>
I would think that poor form because FHIR explicitly includes a datatype for combining the "canonical url" and "version" into a single field:  <a href="https://www.hl7.org/fhir/datatypes.html#canonical">https://www.hl7.org/fhir/datatypes.html#canonical</a></p>



<a name="223905354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223905354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223905354">(Jan 25 2021 at 14:39)</a>:</h4>
<p>you'd use a url like <code>https://example.org/StructureDefinition/myPatient</code> and instances can claim they conform to version 4.0 of that by including the following profile value:  <code>https://example.org/StructureDefinition/myPatient|4.0</code></p>



<a name="223907745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223907745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223907745">(Jan 25 2021 at 14:56)</a>:</h4>
<p>I believe the version behind the |  is about the SD business version and not the FHIR version.</p>



<a name="223908136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223908136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223908136">(Jan 25 2021 at 14:59)</a>:</h4>
<p>oh, i see, i thought you were referring to the SD version.  my bad</p>



<a name="223914607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223914607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223914607">(Jan 25 2021 at 15:42)</a>:</h4>
<p>Traditionally, a version number in your base meant that that endpoint was the one that served up that particular version.  As we move to using http content negotiation for that, that's less necessary.  Also, you might want to retrieve STU3 or DSTU2 structure definitions from an R4 endpoint, so having a version in the endpoint name is going to be somewhat confusing.</p>



<a name="223916171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223916171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223916171">(Jan 25 2021 at 15:53)</a>:</h4>
<p>FHIR doesn't include the version in instances to make them more interoperable - by including it in the profile of the instance you'd be defeating that point, so I'd say no, don't include - unless you intend to support 2 versions of FHIR at the same time.</p>



<a name="223916371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223916371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223916371">(Jan 25 2021 at 15:54)</a>:</h4>
<p>That said would be interested to know what is people's experience working with US core, which like you say has exactly the same canonicals yet different profiles for STU3 and R4, see &lt;<a href="http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html">http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html</a>&gt; and &lt;<a href="http://hl7.org/fhir/us/core/STU2/StructureDefinition-us-core-allergyintolerance.html">http://hl7.org/fhir/us/core/STU2/StructureDefinition-us-core-allergyintolerance.html</a>&gt;</p>



<a name="223947698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Canonical%20URL%20with%20FHIR%20version%3F/near/223947698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Canonical.20URL.20with.20FHIR.20version.3F.html#223947698">(Jan 25 2021 at 19:29)</a>:</h4>
<p>There's an important distinction between FHIR version and business version of the resource.  To continue with the example, if you need to change <code>myPatient|4.0</code>, you also need to increment the version (e.g., <code>4.1</code>, <code>4.0.1</code>, etc.).  This is not related to the FHIR version.  Conversely, technical corrections change the FHIR version number (e.g., <code>4.0.0</code> to <code>4.0.1</code>), and those do not generate a new version of anything defined in IGs.</p>
<p>So, if you want to use a FHIR version in the URL, I'd recommend using the name (e.g., <code>R4</code>) over the version number, since those ARE going to change over time (and I assume you don't intend to publish a new version for every technical correction).  It also helps a bit with confusion, so you don't have urls like <code>http://example.org/4.0/StructureDefinition/myPatient|3.2</code>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
