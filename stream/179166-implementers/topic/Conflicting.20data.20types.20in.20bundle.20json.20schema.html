---
layout: page
title: "FHIR Chat  · Conflicting data types in bundle json schema · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conflicting.20data.20types.20in.20bundle.20json.20schema.html">Conflicting data types in bundle json schema</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153927603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conflicting%20data%20types%20in%20bundle%20json%20schema/near/153927603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conflicting.20data.20types.20in.20bundle.20json.20schema.html#153927603">(Jan 04 2018 at 12:43)</a>:</h4>
<p>I have the following problem: When trying to populate the <code>active</code> element in a Patient resource, which is an entry in a Bundle, my tool (integration engine operating on the JSON schema for Bundle) errors due to a data type mismatch.</p>
<p>After some debugging, I found the cause of the problem:<br>
All resources that have an <code>active</code> attribute use data type <code>boolean</code>, except for one: Account.<br>
Account uses active with data type <code>Period</code>. Apparently the schema can't differentiate between these attributes, since Bundle.entry.resource is just an enumeration of all attributes of all resources. So the tool just picks the first <code>active</code> element it can find, which happens to be the one in Account.</p>
<p>Is that an issue that needs to be handled by the tool, or do we need to pay attention when building the spec to avoid such conflicts?</p>



<a name="153927605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conflicting%20data%20types%20in%20bundle%20json%20schema/near/153927605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conflicting.20data.20types.20in.20bundle.20json.20schema.html#153927605">(Jan 04 2018 at 13:32)</a>:</h4>
<p>I suppose the problem occurs when using generic JSON path language, because  Bundle.entry.resource.active can't differentiate by resource type...</p>



<a name="153927610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conflicting%20data%20types%20in%20bundle%20json%20schema/near/153927610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conflicting.20data.20types.20in.20bundle.20json.20schema.html#153927610">(Jan 04 2018 at 15:33)</a>:</h4>
<p>Sounds like a limitation of the tooling/path language.  It's certainly not something we would consider changing the models for - the same name in different contexts can mean very different things and can certainly have different data types.</p>



<a name="153927676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conflicting%20data%20types%20in%20bundle%20json%20schema/near/153927676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conflicting.20data.20types.20in.20bundle.20json.20schema.html#153927676">(Jan 04 2018 at 20:51)</a>:</h4>
<p>I'm not sure. I'll talk to the JSON schema tooling guys when I meet with them in a couple of months</p>



<a name="153927830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conflicting%20data%20types%20in%20bundle%20json%20schema/near/153927830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conflicting.20data.20types.20in.20bundle.20json.20schema.html#153927830">(Jan 05 2018 at 23:11)</a>:</h4>
<p>you should be able to cast to the type that you're interested in though</p>



<a name="153927831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conflicting%20data%20types%20in%20bundle%20json%20schema/near/153927831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conflicting.20data.20types.20in.20bundle.20json.20schema.html#153927831">(Jan 05 2018 at 23:11)</a>:</h4>
<p>(assuming FHIRPATH)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
