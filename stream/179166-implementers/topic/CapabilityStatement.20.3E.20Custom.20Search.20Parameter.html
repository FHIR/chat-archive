---
layout: page
title: "FHIR Chat  · CapabilityStatement &gt; Custom Search Parameter · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html">CapabilityStatement &gt; Custom Search Parameter</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="179832117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179832117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard de Rijcke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179832117">(Nov 04 2019 at 13:22)</a>:</h4>
<p>Hi,</p>
<p>I've a question about CapabilityStatement.rest.resource.searchInclude.</p>
<p>To my knowledge, normally you would include the resource path here. How does this work if you would want to use an include on a custom search parameter defined in an extension?</p>
<p>Would you use a FHIR path expression like this?</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;resource&gt;</span>
           <span class="nt">&lt;type</span> <span class="na">value=</span><span class="s">&quot;Procedure&quot;</span> <span class="nt">/&gt;</span>
           <span class="nt">&lt;interaction&gt;</span>
               <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;search-type&quot;</span> <span class="nt">/&gt;</span>
           <span class="nt">&lt;/interaction&gt;</span>
           <span class="nt">&lt;searchInclude</span> <span class="na">value=</span><span class="s">&quot;Procedure. extension(&#39;http://example.com/extensionURL&#39;)&quot;</span> <span class="nt">/&gt;</span>
</pre></div>



<a name="179832771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179832771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179832771">(Nov 04 2019 at 13:30)</a>:</h4>
<p>I do not think a resource path goes there - it is the actual value to use for the _include parameter - eg Procedue:custom-search-parameter  - where that is the name of the search parameter corresponding to that extension</p>



<a name="179843648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179843648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179843648">(Nov 04 2019 at 15:36)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191912">@Michele Mottini</span> ,<br>
That would have been my first guess as well. However, if I look at the CapabilityStatement examples in the FHIR spec I see that a path is used.</p>
<p>So for <a href="https://www.hl7.org/fhir/stu3/capabilitystatement-base.xml.html" target="_blank" title="https://www.hl7.org/fhir/stu3/capabilitystatement-base.xml.html">https://www.hl7.org/fhir/stu3/capabilitystatement-base.xml.html</a> a path is used in .searchInclude while in .searchParameter.name the searchparameter name is used.</p>



<a name="179844251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179844251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179844251">(Nov 04 2019 at 15:42)</a>:</h4>
<p>Seems wrong to me - and they are not even exactly the path :</p>
<div class="codehilite"><pre><span></span>       &lt;searchInclude value=&quot;Account.subject&quot;/&gt;
      &lt;searchInclude value=&quot;Account.patient&quot;/&gt;
</pre></div>



<a name="179844808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179844808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179844808">(Nov 04 2019 at 15:48)</a>:</h4>
<p>I noticed that public test servers behave differently:</p>
<p>HAPI does something like this: &lt;searchInclude value="Specimen:collector"/&gt;<br>
VONK does: &lt;searchInclude value="Specimen.collector" /&gt;<br>
For some reason, I can’t collect the CS of Grahame’s server.</p>



<a name="179845062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179845062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179845062">(Nov 04 2019 at 15:51)</a>:</h4>
<p>Maybe its not the path but the resource type followed by the search parameter name. The CS resource is not really precise on what's expected here</p>



<a name="179865685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179865685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179865685">(Nov 04 2019 at 19:23)</a>:</h4>
<p>what you would put there is what the client is allowed to put in the _include statement when searching on that resource type</p>



<a name="179888012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179888012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179888012">(Nov 04 2019 at 23:30)</a>:</h4>
<p>see <a href="https://build.fhir.org/ig/HL7/US-Core-R4/CapabilityStatement-us-core-server.json.html" target="_blank" title="https://build.fhir.org/ig/HL7/US-Core-R4/CapabilityStatement-us-core-server.json.html">US Cores's CapStatement</a> for an example of how this is done.</p>



<a name="179921089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179921089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard de Rijcke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179921089">(Nov 05 2019 at 11:03)</a>:</h4>
<p>Thank you. For now it's clear what to do at the CapabilityStatements with the US Core's CapStatement example. </p>
<p>At the CS of Grahame's server (R3 &amp; R4) the is no examples of &lt;searchInclude value="....."/&gt;. We have only found _includes in the search parameter &lt;searchParam&gt; it self but I think this is not the same as a searchInclude, isn't it?</p>



<a name="179931641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179931641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179931641">(Nov 05 2019 at 13:33)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=25175" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=25175">GF#25175</a></p>



<a name="179940450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179940450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179940450">(Nov 05 2019 at 15:06)</a>:</h4>
<p>Where's the spec language that says it should be [resource]:[search params]? The [resource].[search params] format is the only one I've ever seen, so we implemented that.</p>



<a name="179941462"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179941462" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eduard de Rijcke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179941462">(Nov 05 2019 at 15:17)</a>:</h4>
<div class="codehilite"><pre><span></span>Parameter values for both _include and _revinclude have three parts, separated by a : character
</pre></div>


<p>Source: <a href="https://hl7.org/fhir/STU3/Search.html#include" target="_blank" title="https://hl7.org/fhir/STU3/Search.html#include">https://hl7.org/fhir/STU3/Search.html#include</a></p>



<a name="179942341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179942341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179942341">(Nov 05 2019 at 15:26)</a>:</h4>
<p>I don't think it's self-evident that that implies what the capability statement should look like. It describes a parameter of the form <code>a:b:c</code>.</p>
<p>To be clear I agree that the proposed change is good, I just think it needs additional language in the definition of the capability statement to define the form of resource.searchInclude/searchRevInclude.</p>



<a name="179956366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatement%20%3E%20Custom%20Search%20Parameter/near/179956366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatement.20.3E.20Custom.20Search.20Parameter.html#179956366">(Nov 05 2019 at 17:40)</a>:</h4>
<p>I agree and recommend logging a tracker</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
