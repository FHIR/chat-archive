---
layout: page
title: "FHIR Chat  · ✔ Retrieve patients with their questionnaire responses · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html">✔ Retrieve patients with their questionnaire responses</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="269390848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269390848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohsen Jafari <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269390848">(Jan 26 2022 at 10:48)</a>:</h4>
<p>One scenario that is really needed in our system is to "request all patients who have at least one QuestionnaireResponse.item.answer = 'MyAnswer' AND the corresponding question (i.e., Questionnaire.item.text) = 'TheQuestionText'".</p>
<p>Is the following query correct?</p>
<p>Patients?_has:QuestionnaireResponse:patient:item.answer=MyAnswer&amp;questionnaire.item.text=TheQuestionText</p>



<a name="269391375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269391375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269391375">(Jan 26 2022 at 10:53)</a>:</h4>
<p>the &amp; denotes a new parameter, not nested within _has, but at the topmost parameter level (i.e. the first parameter is _has, the second is questionnaire.item.text). It's probably best to test your queries against a FHIR test server, and look at the 'self' link in the response. That'll quickly give you an idea if some query string will work or not..</p>



<a name="269391561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269391561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269391561">(Jan 26 2022 at 10:55)</a>:</h4>
<p>The search (not query) syntax was defined to easily cover the common/easy use cases. For more complex stuff you may need a stored query on the server, invoked by means of _query, or an entire different means of querying (e.g. GraphQL, should your server support this).</p>



<a name="269401557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269401557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohsen Jafari <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269401557">(Jan 26 2022 at 12:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191372">René Spronk</span> <a href="#narrow/stream/179166-implementers/topic/Retrieve.20patients.20with.20their.20questionnaire.20responses/near/269391375">said</a>:</p>
<blockquote>
<p>the &amp; denotes a new parameter, not nested within _has, but at the topmost parameter level (i.e. the first parameter is _has, the second is questionnaire.item.text). It's probably best to test your queries against a FHIR test server, and look at the 'self' link in the response. That'll quickly give you an idea if some query string will work or not..</p>
</blockquote>
<p>What is the major role of 'self' link in such situations? I read the Bundle resource but have not yet understood its purpose.</p>



<a name="269406593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269406593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269406593">(Jan 26 2022 at 13:04)</a>:</h4>
<p>It servers multiple purposes, but it contains 'the search query as executed by the server', as opposed to 'the search query as sent to the server'. As such it's very useful for debugging purposes.</p>



<a name="269406734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269406734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269406734">(Jan 26 2022 at 13:05)</a>:</h4>
<p>E.g. if one has a typo in the query, or uses functionality that's not supported by the server, the 'self' link will help you detect such issues.</p>



<a name="269407066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269407066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohsen Jafari <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269407066">(Jan 26 2022 at 13:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191372">René Spronk</span> <a href="#narrow/stream/179166-implementers/topic/Retrieve.20patients.20with.20their.20questionnaire.20responses/near/269406593">said</a>:</p>
<blockquote>
<p>It servers multiple purposes, but it contains 'the search query as executed by the server', as opposed to 'the search query as sent to the server'. As such it's very useful for debugging purposes.</p>
</blockquote>
<p>Great. Thank you so much.</p>



<a name="269407085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269407085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269407085">(Jan 26 2022 at 13:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="410473">Mohsen Jafari</span> has marked this topic as resolved.</p>



<a name="269447054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Retrieve%20patients%20with%20their%20questionnaire%20responses/near/269447054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Retrieve.20patients.20with.20their.20questionnaire.20responses.html#269447054">(Jan 26 2022 at 17:14)</a>:</h4>
<p>You <em>cannot</em> search QuestionnaireResponse based on answers.  There's a conscious decision to prohibit this.  It's not safe and, doing it properly would essentially require a super-complex query language because the meaning of answers can be dependent on other answers.  If you want to search based on the information in a QuestionnaireResponse, you first need to extract it into other resources (e.g. Observation).  (<span class="user-mention" data-user-id="410473">@Mohsen Jafari</span>)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
