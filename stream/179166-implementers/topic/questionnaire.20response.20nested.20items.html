---
layout: page
title: "FHIR Chat  · questionnaire response nested items · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html">questionnaire response nested items</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="169555360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169555360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Soroush Atarod <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169555360">(Jul 03 2019 at 10:35)</a>:</h4>
<p>we are currently implementing FHIR and one of our main query is to do with Questionnaire Response schema. From my understanding the items in Questionnaire Response needs to be nested to represent how the questionnaire was generated. Is this something that we should follow or can we proceed without having nested items in the questionnaire response? </p>
<p>Not having nested will make it very easy for the front-end to generate the JSON schema of Questionnaire Response</p>
<p>Could you please share your thoughts?</p>



<a name="169564576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169564576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169564576">(Jul 03 2019 at 13:09)</a>:</h4>
<p>QR must match the structure of the Q.    If you want it flat then I suggest flattening the Q.   The reason is so that QR can be validated against Q</p>



<a name="169571965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169571965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169571965">(Jul 03 2019 at 14:38)</a>:</h4>
<p>Wouldn't the linkId make it clear against which item in the Q the QR item must be validated, regardless of structure...?</p>



<a name="169588122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169588122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169588122">(Jul 03 2019 at 17:56)</a>:</h4>
<p>nope.. except for the simplest of structure there repeating items that may have repeating itmes</p>



<a name="169588186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169588186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169588186">(Jul 03 2019 at 17:57)</a>:</h4>
<p>I tried to argue this same case last year and realized why it needs to be this way</p>



<a name="169595804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169595804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169595804">(Jul 03 2019 at 19:36)</a>:</h4>
<p>When you have optional questions in repeating groups, you need the linkIds so you know what goes together.</p>



<a name="169641057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169641057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Soroush Atarod <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169641057">(Jul 04 2019 at 11:41)</a>:</h4>
<p>thanks! we are going to have it have in the same level as it is much easier for the front-end to create the questionnaire response JSON. We are implementing FHIR both back-end and front-end in house, and having it on the same level is much more easier.</p>



<a name="169687906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169687906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169687906">(Jul 05 2019 at 06:23)</a>:</h4>
<p>Just hope you don't have any tables in your forms.</p>



<a name="169711173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169711173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169711173">(Jul 05 2019 at 14:06)</a>:</h4>
<p>That's not going to be conformant.  The hierarchies are required to match.  From the spec: "The order of questions within groups, groups within groups and groups within questions is relevant and must be retained for display and capture. The hierarchy items within the Questionnaire SHALL mirror the hierarchy of the corresponding Questionnaire (if any)."</p>



<a name="169711204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169711204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169711204">(Jul 05 2019 at 14:06)</a>:</h4>
<p>If you want to claim to be a FHIR implementation, you have to follow the spec <span class="user-mention" data-user-id="223913">@Soroush Atarod</span></p>



<a name="169719828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169719828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Soroush Atarod <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169719828">(Jul 05 2019 at 16:11)</a>:</h4>
<p>Many thanks, we will look into nested items. It is just a matter of how long does will it takes us to implement nested or not. <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="169720868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169720868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169720868">(Jul 05 2019 at 16:29)</a>:</h4>
<p>And whether or not your downstream receivers are able to handle non-compliant instances</p>



<a name="169745544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169745544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169745544">(Jul 06 2019 at 01:25)</a>:</h4>
<p>I don't think any one here said it was OK to not to mirror the Q hierarchy.  Am I missing something?</p>



<a name="169745755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169745755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169745755">(Jul 06 2019 at 01:32)</a>:</h4>
<p>I think that rule needs to be prominently highlighted right in the first sentence of the  introduction of QR ( and Q)  in the resource narrative.  I voiced this concern prior to R4 and was over-ruled.   This is not obvious to folks new to fhir and Q and QR and as demonstrated here, this is too damn easy too overlook and too important  to be buried in the notes below the structure.  We need to assume folks won't read beyond the structure and a few examples.</p>



<a name="169747747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169747747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169747747">(Jul 06 2019 at 02:32)</a>:</h4>
<p>Agreed.</p>



<a name="169747763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/questionnaire%20response%20nested%20items/near/169747763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/questionnaire.20response.20nested.20items.html#169747763">(Jul 06 2019 at 02:33)</a>:</h4>
<p>I will make a pull request on both R5 and the SDC guide re-enforcing this. Along with why.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
