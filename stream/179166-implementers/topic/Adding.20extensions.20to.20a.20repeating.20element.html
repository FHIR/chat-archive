---
layout: page
title: "FHIR Chat  · Adding extensions to a repeating element · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html">Adding extensions to a repeating element</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153872856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872856">(Feb 20 2017 at 18:38)</a>:</h4>
<p>What is the best way to add an extension to a repeating element that is not a backbone element? An example is adding language proficiency to Practitioner.communication, which is 0..* CodeableConcept. You can't add that extension to Practitioner at the top level, because the language proficiency pairs with a specific language. All I can think of is to extend CodeableConcept by adding language proficiency, and then restrict Practitioner.communication to use that profiled version of CodeableConcept. This seems wrong, somehow. Maybe I'm getting hung up on why I should be making an extension to CodeableConcept, and not something more directly associated with communication ability.</p>



<a name="153872859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872859">(Feb 20 2017 at 19:00)</a>:</h4>
<p>You can define the extension with a context of Practioner.communication</p>



<a name="153872887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872887">(Feb 21 2017 at 01:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, in the StructureDefinition profiling Practitioner, does that mean we're defining elements with paths <code>Practitioner.communication.extension</code>?</p>



<a name="153872920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872920">(Feb 21 2017 at 06:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> I'm not sure I understand the question.  When you're specifying the context for an extension, you can definitely list paths within the resource the extension applies to, not just the base data type or resource.  And you can pass type boundaries too.  So I could have an extension with a context of Observation.code.coding.system if I really needed to (though that would be a rather odd context for an extension).</p>



<a name="153872923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872923">(Feb 21 2017 at 06:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Isn't the context defined in the extension definition itself?  And it just indicates allowable places?  How would we indicate in the profile itself that the extension should be applied in communication?  Perhaps the extension context is * or can go on <em>any</em> codeable concept -- Even if we list it in the profile, it's ambigous where it goes unless we somehow specifically tie it to the path in the structure definition.  Otherwise how does someone using my profile know where it is expected if the element definition context allows it in multiple places?</p>



<a name="153872928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872928">(Feb 21 2017 at 08:56)</a>:</h4>
<p>When you include an extension in your profile, you slice one of the ".extension" elements in your instance where you want the extension to appear.  So long as the path to that element jives with one of the context paths specified in that extension's definitions, you're fine.  I'm not sure I'm understanding the question here.</p>



<a name="153872955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872955">(Feb 21 2017 at 14:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Sorry if I'm not being clear.  Let me try it this way:  In the use case above (wanting to add language-proficiency extension to Practitioner, related to Practitioner.communication) -- where do we put the language-proficiency extension in the profile structure definition?</p>
<div class="codehilite"><pre><span></span>Practitioner.extension:language-proficiency
</pre></div>


<p>(in which case the placement doesn't exactly match the context where it is intended to be used), or can we do this:</p>
<div class="codehilite"><pre><span></span>Practitioner.communication.extension:language-proficiency
</pre></div>


<p>The second is preferred, I think -- but <code>Practitioner.communication.extension</code> isn't an existing path element in the Practitioner structure definition snapshot (but you can get there by drilling into the <code>CodeableConcept</code>).  So I want to be sure it is legal to add that path to the profile on Practitioner.</p>



<a name="153872971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872971">(Feb 21 2017 at 17:47)</a>:</h4>
<p>You can absolutely drill down into CodeableConcept - or any other data type - when profiling.</p>



<a name="153872974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872974">(Feb 21 2017 at 18:01)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>.  Sorry it took me so long to ask the right question.</p>



<a name="153872975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20extensions%20to%20a%20repeating%20element/near/153872975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20extensions.20to.20a.20repeating.20element.html#153872975">(Feb 21 2017 at 18:05)</a>:</h4>
<p>No worries.  Slicing is definitely in the deep end of the FHIR pool :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
