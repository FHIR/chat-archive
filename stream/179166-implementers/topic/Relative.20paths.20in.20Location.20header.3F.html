---
layout: page
title: "FHIR Chat  · Relative paths in Location header? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html">Relative paths in Location header?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153990966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153990966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153990966">(Aug 27 2018 at 10:56)</a>:</h4>
<p>I was wondering whether it is allowed to return just the <em>relative</em> path in the <code>Location</code> HTTP header when creating new resource, or whether it has to be the full absolute URL. <a href="https://www.hl7.org/fhir/http.html#create" target="_blank" title="https://www.hl7.org/fhir/http.html#create">The general STU 3 documentation of the FHIR RESTful API operation create</a> says:</p>
<blockquote>
<p>The server returns a 201 Created HTTP status code, and SHALL also return a Location header which contains the new Logical Id and Version Id of the created resource version: <br>
Location: [base]/[type]/[id]/_history/[vid] </p>
</blockquote>
<p>Here, it was not quite clear to me whether the specific URL pattern (specifying an absolute URL) is normative or just an illustrative example that does not exclude relative URLs. The general HTTP/1.1 specs allows both absolute and relative paths in the Location header (see <a href="https://tools.ietf.org/html/rfc7231#page-68" target="_blank" title="https://tools.ietf.org/html/rfc7231#page-68">this page</a>).</p>



<a name="153991008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153991008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153991008">(Aug 27 2018 at 14:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="153991030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153991030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jaime Olivares <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153991030">(Aug 27 2018 at 16:05)</a>:</h4>
<p>I have the same question.</p>



<a name="153991057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153991057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153991057">(Aug 27 2018 at 19:22)</a>:</h4>
<p>we don't actually say, so for clients, it could be either. My server returns an absolute URL, which starts with the client's host header - .e.g. an absolute URL</p>



<a name="153991207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153991207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153991207">(Aug 28 2018 at 09:33)</a>:</h4>
<p>Thanks! - just to make sure I understand, it is then also OK for <em>servers</em> to opt for using relative paths?</p>



<a name="153991290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153991290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153991290">(Aug 28 2018 at 15:08)</a>:</h4>
<p>That's what I'm hearing from the discussion.  Feel free to submit a change request for us to make that clarification explicit in the spec.</p>



<a name="153991326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153991326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153991326">(Aug 28 2018 at 17:28)</a>:</h4>
<p>Is including the full URL a better approach if using forwarding/proxy servers? Or are they going to need to rewrite anyhow?</p>



<a name="153991329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153991329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153991329">(Aug 28 2018 at 17:44)</a>:</h4>
<p>very interrelated with the digital signatures problem. As it stands today we place alot of trust in the FHIR Server. <a href="http://build.fhir.org/signatures.html" target="_blank" title="http://build.fhir.org/signatures.html">http://build.fhir.org/signatures.html</a></p>



<a name="153991507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Relative%20paths%20in%20Location%20header%3F/near/153991507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Relative.20paths.20in.20Location.20header.3F.html#153991507">(Aug 29 2018 at 12:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Added a GForge item for clarification, <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17746" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17746">#17746</a>, also mentioning the topic of using FHIR with federated/proxied servers as a context where this could be important (cf. comment from <span class="user-mention" data-user-id="191380">@Elliot Silver</span>)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
