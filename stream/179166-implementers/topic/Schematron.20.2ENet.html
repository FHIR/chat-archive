---
layout: page
title: "FHIR Chat  · Schematron .Net · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html">Schematron .Net</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153823502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823502">(Apr 27 2016 at 20:56)</a>:</h4>
<p>Question to participants - I want to do some Schematron work in .Net, in particular using some new features that were introduced in v1.6 (let, abstract, code-lists). The .Net implementation at NuGet does not support these, and the MS XPath libraries do not support xslt2 anyway. FHIR sch use some of the v1.6 features, but my current .Net code fails to process the Schematron published with the FHIR spec. Can anyone give me some guidance on where I might find some .Net code that implements Schematron v1.6? </p>



<a name="153823503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823503">(Apr 27 2016 at 21:15)</a>:</h4>
<p>Is this to process the invariants?<br>
If so, moving forward we should be able to use the fhirpath expressions for these.</p>



<a name="153823507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823507">(Apr 27 2016 at 21:49)</a>:</h4>
<p>In part, my intent is to use Schematron as a 'unit test' to provide insurance that any of our code changes, FHIR and/or v2 client and/or server, do not break existing creation of resource instances, business rules or functionality. Our code base is .Net and we need a Schematron-based library for developers. For example we want to be able to use Schematron to check instance codes against specific value-sets which requires a v1.6 implementation.</p>



<a name="153823508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823508">(Apr 27 2016 at 21:50)</a>:</h4>
<p>I am afraid I don't know much about fhirpath expressions (yet). So much to keep up to date with - so little time!</p>



<a name="153823509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823509">(Apr 27 2016 at 21:52)</a>:</h4>
<p>That's for sure.</p>



<a name="153823510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823510">(Apr 27 2016 at 21:54)</a>:</h4>
<p>A schematron is part of the way there. Profiles are the next step and then valueset bindings/reference existence checks...<br>
If you are just looking for insurance, probably best approach is to use the core FHIR Validator package (yes its java) and jsut run over your content.<br>
But that's no good if you want it as part of your server.</p>



<a name="153823514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823514">(Apr 27 2016 at 21:58)</a>:</h4>
<p>I suspect the java validator would be too much of a 'force-fit' for our developers to use routinely. And yes, ideally it would be very beneficial to be able to embed a native .Net library in various places.</p>



<a name="153823515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823515">(Apr 27 2016 at 22:03)</a>:</h4>
<p>Our server will be doing this using the fhirpath and additional internal logic (profile checking)</p>



<a name="153823516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823516">(Apr 27 2016 at 22:03)</a>:</h4>
<p>And yes, the javavaidator could be a force-fit.<br>
But you could wire it up in a unit tester in your build environment (so they dont have to remember to do it)</p>



<a name="153823517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823517">(Apr 27 2016 at 22:08)</a>:</h4>
<p>Thanks for the suggestions here Brian - I'll look into fhirpath. Note though, that I am including v2 (i.e v2xml) messages in addition to FHIR resources as candidates for validation by the same Schematron library - we know we are going to have to handle both in tandem for a number of years to come! I'll keep on searching for a way to get .Net to do this.</p>



<a name="153823518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823518">(Apr 27 2016 at 22:09)</a>:</h4>
<p>Thanks. The fhirpath expressions in the current DSTU2 lib are not 100%, but I will talk with Grahame as to how we might get the updated ones in there.</p>



<a name="153823523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823523">(Apr 28 2016 at 02:27)</a>:</h4>
<p>HI David, yes, too bad Microsoft just stopped updating their xpath library (in favor of LINQ to XML). We have had some sketchy xpath 2 support for the invariants in the spec by using the extension interface of the xpath engine, but obviously, we could not support new language constructs. So, for now, I am focusing on supporting the FluentPath language in .NET - since the new FHIR spec will have the invariants translated to this new constraint language.  So as for the xpath - I've given up on it. </p>



<a name="153823525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823525">(Apr 28 2016 at 02:30)</a>:</h4>
<p>Hi Ewout, thanks for confirming that - I pretty much found out the same during the last few days. It is a shame that xslt2 was dropped from the MS roadmap - nevermind. I will try to school myself with some of the FluentPath spec.</p>



<a name="153823554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823554">(Apr 28 2016 at 06:23)</a>:</h4>
<p>the latest expressions for the montreal freeze are available from <a href="http://fhir3.healthintersections.com.au/index.html" target="_blank" title="http://fhir3.healthintersections.com.au/index.html">http://fhir3.healthintersections.com.au/index.html</a></p>



<a name="153823556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823556">(Apr 28 2016 at 06:23)</a>:</h4>
<p>you can use fluent path against v2 as well, though that would require additional work </p>



<a name="153823558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823558">(Apr 28 2016 at 06:24)</a>:</h4>
<p>there should be a C# version of the validator. In fact, I could easily produce that, given some specific work hapenning in the C# reference implementation </p>



<a name="153823560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823560">(Apr 28 2016 at 06:25)</a>:</h4>
<p>I'm wanting to get this done when time permits.</p>



<a name="153823562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823562">(Apr 28 2016 at 06:25)</a>:</h4>
<p>Happy to receive guidance Grahame ;)</p>



<a name="153823568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823568">(Apr 28 2016 at 06:35)</a>:</h4>
<p>well, if someone was to port the classes in org.hl7.fhir.instance.metamodel to C# - they're approximately what you need for many uses anyway </p>



<a name="153823569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823569">(Apr 28 2016 at 06:35)</a>:</h4>
<p>then translating the validator would be largely a java -&gt; C# automatible thing</p>



<a name="153823570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823570">(Apr 28 2016 at 06:35)</a>:</h4>
<p>Ewout and I were talking about this yesterday</p>



<a name="153823606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823606">(Apr 28 2016 at 20:22)</a>:</h4>
<p>Hi Grahame - maybe you could point me to the code-base. I'm not that good with Java, but have written an Atlassian plugin or two so might be able to stumble my way through some of it. </p>



<a name="153823607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823607">(Apr 28 2016 at 20:22)</a>:</h4>
<p>On second thoughts, might be the best way for me to get to know the validator and fluentpath?</p>



<a name="153823611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823611">(Apr 28 2016 at 21:04)</a>:</h4>
<p>David, are you looking into using .NET or another plaform?</p>



<a name="153823612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823612">(Apr 28 2016 at 21:15)</a>:</h4>
<p>Ewout, in my area we are mostly .Net so that's our developer's comfort zone.</p>



<a name="153823613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Fallas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823613">(Apr 28 2016 at 21:22)</a>:</h4>
<p>Ideally, I'm aiming for a .Net library that we would make available on our in-house NuGet server. </p>



<a name="153823697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823697">(Apr 29 2016 at 04:17)</a>:</h4>
<p>Current version of the spec:<br>
<code>http://hl7.org/fhir/2016May/fluentpath.html</code><br>
and the dotnet code for this is here:<br>
<code>https://github.com/ewoutkramer/fhir-net-fluentpath</code></p>



<a name="153823698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Schematron%20.Net/near/153823698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Schematron.20.2ENet.html#153823698">(Apr 29 2016 at 04:18)</a>:</h4>
<p>I was working on the old version of this code that was in the dotnet fhir client to make it work on the model, but haven't been able to get back onto doing this since the split</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
