---
layout: page
title: "FHIR Chat  · Questionnaire use valuesets for answers to questions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html">Questionnaire use valuesets for answers to questions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="277165161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/277165161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marla Albitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#277165161">(Mar 30 2022 at 15:51)</a>:</h4>
<p>I am building a questionnaire, in building the items(questions) is my thinking correct for how to use a valueset to serve as possible answers.  For example, if I want to offer yes/no/unknown as three possible responses, do I set the "item/answer/value[x]" to the element property "Reference(Resource) and associate it to a valuset resource which contains that list or includes that list?  Or is there a more direct/better way?  I want to be able to dynamically populate the UI with the answer options without hardcoding it somewhere outside of the resource.  That is the idea, correct?</p>



<a name="277166962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/277166962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bas van den Heuvel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#277166962">(Mar 30 2022 at 16:03)</a>:</h4>
<p>Set the field Questionnaire.item.answerValueSet to  the canonical of the ValueSet from which the answers should come.</p>



<a name="277169170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/277169170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marla Albitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#277169170">(Mar 30 2022 at 16:19)</a>:</h4>
<p>Thank you, yes, so I found an example of that on the Questionaire resource page. What confuses me about that is that link takes me to a page that appears to not be computer parsable, only human readable. Am I missing something?   "item": [<br>
        {<br>
          "linkId": "1.1",<br>
          "code": [<br>
            {<br>
              "system": "<a href="http://example.org/system/code/questions">http://example.org/system/code/questions</a>",<br>
              "code": "COMORB"<br>
            }<br>
          ],<br>
          "prefix": "1",<br>
          "type": "coding",<br>
          "answerValueSet": "<a href="http://hl7.org/fhir/ValueSet/yesnodontknow">http://hl7.org/fhir/ValueSet/yesnodontknow</a>",</p>



<a name="277175107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/277175107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#277175107">(Mar 30 2022 at 16:57)</a>:</h4>
<p>answerValueSet is of type 'canonical'.  That means you point to the URL (possibly with version) of the ValueSet of interest.  There is no requirement that the URL resolve at all (it's technically a uri), though we strongly prefer that it at least resolves to something human-readable.  Most ideally, it will resolve to an appropriate FHIR resource representation if you pass the appropriate 'Accept' header.  (That will happen for HL7 value sets.)  However, resolving the canonical is only done as a last resort.  The first thing you typically do is perform a local search and a check against your preferred registries for the resource.  You only try to resolve the URL if you can't find it elsewhere.  This approach is true for all canonicals - including QuestionnaireResponse.questionnaire, Resource.meta.profile, and lots of other places.</p>



<a name="277183046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/277183046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marla Albitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#277183046">(Mar 30 2022 at 17:56)</a>:</h4>
<p>Thank you Lloyd, where is a FHIR-speak to English translator when you need one.   You have given me a lot to unpack</p>



<a name="277198695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/277198695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#277198695">(Mar 30 2022 at 20:09)</a>:</h4>
<p>Sorry :)</p>
<p>TLDR version: value set references don't have to resolve, though it's nice if they do.  (And to get them to resolve computably, you need to populate the Accept header)</p>



<a name="277454522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/277454522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marla Albitz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#277454522">(Apr 01 2022 at 17:46)</a>:</h4>
<p>(deleted)</p>



<a name="278038002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/278038002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shamil Nizamov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#278038002">(Apr 06 2022 at 15:08)</a>:</h4>
<p>How to validate answers against such external ValueSet? Is that possible at all?</p>



<a name="278051683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Questionnaire%20use%20valuesets%20for%20answers%20to%20questions/near/278051683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Questionnaire.20use.20valuesets.20for.20answers.20to.20questions.html#278051683">(Apr 06 2022 at 16:38)</a>:</h4>
<p>Retrieve the value set as you would typically retrieve any canonical resource (look for it locally, then in any preferred registries or terminology services (also check terminology services mentioned in the Questionnaire itself - if you trust them) and, as a last resort, try resolving the canonical URL (again, if your security policy allows).  Provided that you've successfully retrieved the value set, then expand it or get a terminology service to do that for you.  (Note that you might delegate the retrieval of the value set to a terminology service too.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
