---
layout: page
title: "FHIR Chat  · Using the FHIR validator · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html">Using the FHIR validator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153862777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862777">(Dec 09 2016 at 19:21)</a>:</h4>
<p>It's my first time using the FHIR validator and I'm having two trouble points right now:<br>
1) I have what looks like a valid Duration but the validator is complaining about my unit code of 'd': The value provided ('d') is not in the value set <a href="http://hl7.org/fhir/ValueSet/units-of-time" target="_blank" title="http://hl7.org/fhir/ValueSet/units-of-time">http://hl7.org/fhir/ValueSet/units-of-time</a> (<a href="http://hl7.org/fhir/ValueSet/units-of-time" target="_blank" title="http://hl7.org/fhir/ValueSet/units-of-time">http://hl7.org/fhir/ValueSet/units-of-time</a>, and a code is required from this value set)<br>
2) I have a validator.pack generated by my IGuide and I'm specifying it on the command line but it is not handing my profile constraints. As an example, my drug prescription profile makes medicationCodeableConcept mandatory but the example I'm giving it doesn't have that.</p>



<a name="153862779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862779">(Dec 09 2016 at 19:24)</a>:</h4>
<p>re #2 - My example declares in the meta/profile that it is a drug prescription, but that might not be enough?  I've also tried passing the profile URL on the command-line but that doesn't work:<br>
Error @ MedicationRequest (line 3, col48) : StructureDefinition reference "StructureDefinition-canadaerx-drug-prescription.xml" could not be resolved</p>



<a name="153862780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862780">(Dec 09 2016 at 19:27)</a>:</h4>
<p>hmm. units of time is problematic because it's expanded by the server, not the validator. it's my budgie for terminology service connectivity issues. </p>



<a name="153862781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862781">(Dec 09 2016 at 19:27)</a>:</h4>
<p>the error suggests that you aren't passing the full profile URL </p>



<a name="153862783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862783">(Dec 09 2016 at 19:27)</a>:</h4>
<p>i tried both the filename and the full URL:<br>
Error @ MedicationRequest (line 3, col48) : StructureDefinition reference "<a href="http://infoway-inforoute.ca/fhir/StructureDefinition/canadaerx-drug-prescription.xml" target="_blank" title="http://infoway-inforoute.ca/fhir/StructureDefinition/canadaerx-drug-prescription.xml">http://infoway-inforoute.ca/fhir/StructureDefinition/canadaerx-drug-prescription.xml</a>" could not be resolved</p>



<a name="153862784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862784">(Dec 09 2016 at 19:28)</a>:</h4>
<p>how are you telling the validator about the ig? or is this inside the IG?</p>



<a name="153862785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862785">(Dec 09 2016 at 19:29)</a>:</h4>
<p>it should be inside the IG:<br>
java -Dfile.encoding=UTF-8 -jar ../framework/hl7files/org.hl7.fhir.validator.jar MedicationRequest-medrx0304.xml -defn igpack.zip -ig validator.pack  -profile <a href="http://infoway-inforoute.ca/fhir/StructureDefinition/canadaerx-drug-prescription.xml" target="_blank" title="http://infoway-inforoute.ca/fhir/StructureDefinition/canadaerx-drug-prescription.xml">http://infoway-inforoute.ca/fhir/StructureDefinition/canadaerx-drug-prescription.xml</a></p>



<a name="153862786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862786">(Dec 09 2016 at 19:29)</a>:</h4>
<p>where the validator.pack has been produced by the IGPublisher</p>



<a name="153862789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862789">(Dec 09 2016 at 19:36)</a>:</h4>
<p>that should work</p>



<a name="153862818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862818">(Dec 09 2016 at 21:17)</a>:</h4>
<p>ok, just checked in a few fixes. Wait for build 10546 to be built, and then try again with that validator. Also note that the canonical URL does not include the .xml</p>



<a name="153862894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862894">(Dec 10 2016 at 20:58)</a>:</h4>
<p>I thought this should work but it doesn't :<br>
   java -jar /Users/ehaas/Downloads/validator/org.hl7.fhir.validator.jar ${f} -defn "${path}"/output/definitions.xml.zip</p>
<p>Where the definitions.xml.zip is generated by the IG.  <br>
${f} is an an xml example instance</p>
<p>get this: </p>
<p>*FAILURE* validating /Users/ehaas/Documents/FHIR/US-Meds/examples/meddispense-1.xml:  error:1 warn:0 info:0<br>
     Fatal @ MedicationDispense (line 1, col49) : This does not appear to be a FHIR resource (unknown namespace/name  <br>
    '<a href="http://hl7.org/fhir::MedicationDispense" target="_blank" title="http://hl7.org/fhir::MedicationDispense">http://hl7.org/fhir::MedicationDispense</a>')</p>
<p>looking at Jean's stuff  it looks like I am missing something but I must confess haven't seen that documented anywhere.   Looked here : <a href="http://build.fhir.org/validation.html#jar" target="_blank" title="http://build.fhir.org/validation.html#jar">http://build.fhir.org/validation.html#jar</a></p>



<a name="153862895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862895">(Dec 10 2016 at 20:58)</a>:</h4>
<p>the bit about "validator.pack"  Oh and  the sample xml is valid.</p>



<a name="153862898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862898">(Dec 10 2016 at 21:08)</a>:</h4>
<p>your validator is missing the base definitions?</p>



<a name="153862954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862954">(Dec 11 2016 at 16:53)</a>:</h4>
<p>thanks for the updated documentation at  : <a href="http://build.fhir.org/validation.html#jar" target="_blank" title="http://build.fhir.org/validation.html#jar">http://build.fhir.org/validation.html#jar</a></p>



<a name="153862959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862959">(Dec 11 2016 at 18:59)</a>:</h4>
<p>Sweet!  this  works for local validation of IG examples.....</p>
<div class="codehilite"><pre>java -jar [path]/org.hl7.fhir.validator.jar my-example.xml -defn [path]/igpack.zip
 -ig [path]/validator.pack
</pre></div>


<p>but I get this warning:</p>
<div class="codehilite"><pre>  Warning @ MedicationDispense.medicationCodeableConcept (line 9, col29) : ValueSet
  http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes not found
</pre></div>


<p>Since that is a dependency in the IG - am I missing something?</p>



<a name="153862966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862966">(Dec 11 2016 at 19:58)</a>:</h4>
<p>maybe I should include the dependent packs in the other pack so there's no need to chase them in the validator</p>



<a name="153862971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862971">(Dec 11 2016 at 20:08)</a>:</h4>
<p>so validator.pack would contains the dependencies ?</p>



<a name="153862972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153862972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153862972">(Dec 11 2016 at 20:09)</a>:</h4>
<p>yes it would. As it is now, you have to find it and supply the reference, and you might get the wrong vrsion</p>



<a name="153893949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153893949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153893949">(Jun 15 2017 at 02:03)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> </p>
<p>I am using the following command with the official FHIR Validator from <a href="https://www.hl7.org/fhir/downloads.html" target="_blank" title="https://www.hl7.org/fhir/downloads.html">https://www.hl7.org/fhir/downloads.html</a></p>
<p>...<br>
java -jar org.hl7.fhir.validator.jar dh-Patient-base-example-Max.xml -defn definitions.xml.zip -profile <a href="http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9" target="_blank" title="http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9">http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9</a> -output PublishedOutput004.xml<br>
...</p>
<p>I am getting the following error as in the attached snapshot <br>
<a href="/user_uploads/10155/LXPkJJxbXHvinaee4I2AM8hg/2017-06-15_115927.jpg" target="_blank" title="2017-06-15_115927.jpg">2017-06-15_115927.jpg</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/LXPkJJxbXHvinaee4I2AM8hg/2017-06-15_115927.jpg" target="_blank" title="2017-06-15_115927.jpg"><img src="/user_uploads/10155/LXPkJJxbXHvinaee4I2AM8hg/2017-06-15_115927.jpg"></a></div><p>I am concerened about this error &gt;&gt;&gt; StructureDefinition reference "<a href="http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9" target="_blank" title="http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9">http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9</a>" could not be resolved</p>
<p>What is the reason I am getting this error ?</p>
<p>Thanks.</p>



<a name="153893956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153893956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153893956">(Jun 15 2017 at 04:18)</a>:</h4>
<p>because the validator doesn't know about it </p>



<a name="153893957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153893957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153893957">(Jun 15 2017 at 04:31)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> . can you please give some more hint as where/which file to look into and probably what part can be having error. or may be any link of the documentation in relation to such errors. <br>
As I did add the "-profile <a href="http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9" target="_blank" title="http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9">http://pyrohealth.net/test/stu3/fhir/StructureDefinition/8517d4e9-f668-43e7-9c82-85cd2d7011c9</a>" parameter in the command line while running the validator.</p>



<a name="153893958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153893958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153893958">(Jun 15 2017 at 04:33)</a>:</h4>
<p>then it should be resolved. I'd have to debug it  to know what's the problem</p>



<a name="153893959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153893959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153893959">(Jun 15 2017 at 04:34)</a>:</h4>
<p>Thanks Grahame. Do you need the patient xml file which I used? </p>



<a name="153893960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Using%20the%20FHIR%20validator/near/153893960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Using.20the.20FHIR.20validator.html#153893960">(Jun 15 2017 at 04:37)</a>:</h4>
<p>attaching here for your reference anyway. Cheers.<br>
<a href="/user_uploads/10155/2yqr40LJn-ipl2PS1p6NvlOa/dh-Patient-base-example-Max.xml" target="_blank" title="dh-Patient-base-example-Max.xml">dh-Patient-base-example-Max.xml</a> </p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
