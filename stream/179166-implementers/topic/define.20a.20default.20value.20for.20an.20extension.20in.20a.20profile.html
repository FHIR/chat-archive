---
layout: page
title: "FHIR Chat  · define a default value for an extension in a profile · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html">define a default value for an extension in a profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153842468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842468">(Aug 04 2016 at 23:22)</a>:</h4>
<p>I'm trying to define a default value in a profile for an extension element.    I'm defining the value as:<br>
&lt;extension url="blah"&gt;&lt;valueCode value="Blah"/&gt;&lt;/extension&gt;<br>
and it passes validation.  But I get an error when it appears to be creating the profile:<br>
     [java]  ...Profile medicationorder-drugproduct-canadaerx                          0.194 331sec 1485MB<br>
     [java] Exception in thread "main" java.lang.Error: Unhandled type<br>
     [java]     at org.hl7.fhir.dstu3.formats.XmlParser.composeType(XmlParser.java:30236)<br>
     [java]     at org.hl7.fhir.dstu3.formats.XmlParser.composeElementDefinition(XmlParser.java:15747)<br>
     [java]     at org.hl7.fhir.dstu3.formats.XmlParser.composeStructureDefinitionStructureDefinitionSnapshotComponent(XmlParser.java:28083)<br>
     [java]     at org.hl7.fhir.dstu3.formats.XmlParser.composeStructureDefinition(XmlParser.java:28027)<br>
     [java]     at org.hl7.fhir.dstu3.formats.XmlParser.composeResource(XmlParser.java:29882)</p>
<p>I tried looking through the source to see if anyone else had defined a fixed value but I couldn't find it (with admittedly limited grepping).</p>



<a name="153842469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842469">(Aug 04 2016 at 23:23)</a>:</h4>
<p>are you talking about fixed or default value, and what do you mean 'creating the profile'?</p>



<a name="153842470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842470">(Aug 04 2016 at 23:24)</a>:</h4>
<p>a) i want to create a fixed value.  I'm setting the value in the profile spreadsheet in the Value column.<br>
b) I was assuming that the build was in the creating the profile step.  There were a bunch of "...Profile blah" messages when it failed.</p>



<a name="153842471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842471">(Aug 04 2016 at 23:25)</a>:</h4>
<p>which build are you using? You should be using the IG publisher </p>



<a name="153842472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842472">(Aug 04 2016 at 23:25)</a>:</h4>
<p>2016may-buildcorrected.  and the IG publisher wasn't ready when I started.</p>



<a name="153842473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842473">(Aug 04 2016 at 23:26)</a>:</h4>
<p>oh. that fork. </p>



<a name="153842474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842474">(Aug 04 2016 at 23:27)</a>:</h4>
<p>yes, that one.  do you know why I'd be getting that error?  am I not defining the fixed value for the extension properly?</p>



<a name="153842476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842476">(Aug 04 2016 at 23:33)</a>:</h4>
<p>well, the first thing to go and do is fix something in that fork. THe Unhandled type<br>
exception should say what type is not handled. That would help a lot. If you fix that in the java code and try again, you'll get more information</p>



<a name="153842482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842482">(Aug 04 2016 at 23:44)</a>:</h4>
<p>Unhandled type:Extension</p>



<a name="153842483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842483">(Aug 04 2016 at 23:44)</a>:</h4>
<p>which is what I expected.  in that bit of code (XMLParser.composeType) there is no block that handles extensions.</p>



<a name="153842493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842493">(Aug 04 2016 at 23:55)</a>:</h4>
<p>which makes sense, since "Extension" is not an allowable type for default value</p>



<a name="153842561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842561">(Aug 05 2016 at 03:46)</a>:</h4>
<p>hmm, why?  I've defined an extension for my MedicationOrders and I'm creating a profile where I want to fix the value of the code in the extension</p>



<a name="153842562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842562">(Aug 05 2016 at 03:52)</a>:</h4>
<p>because more generally, the type list allowed for "*" does not - and should not - include extension</p>



<a name="153842563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842563">(Aug 05 2016 at 03:52)</a>:</h4>
<p>and so you need to walk into the extension and fix the value</p>



<a name="153842564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/define%20a%20default%20value%20for%20an%20extension%20in%20a%20profile/near/153842564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/define.20a.20default.20value.20for.20an.20extension.20in.20a.20profile.html#153842564">(Aug 05 2016 at 03:52)</a>:</h4>
<p>ah, okay.  i'll look into doing that.  thanks.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
