---
layout: page
title: "FHIR Chat  · Query latest Questionnaire by URI · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html">Query latest Questionnaire by URI</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="202458764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202458764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202458764">(Jun 30 2020 at 16:14)</a>:</h4>
<p>When querying Questionnaire by canonical URI (<a href="https://www.hl7.org/fhir/search.html#versions">https://www.hl7.org/fhir/search.html#versions</a>), is there any way to specify "I want latest" rather than explicitly specify latest version?</p>



<a name="202459540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202459540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202459540">(Jun 30 2020 at 16:20)</a>:</h4>
<p>If you don't specify a desired version - i.e. you just specify the id, not _history/[version], you get the latest</p>



<a name="202465866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202465866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202465866">(Jun 30 2020 at 17:04)</a>:</h4>
<p>By version I mean business version, as per:</p>
<blockquote>
<p>For canonical references, servers SHOULD support searching by Canonical URLs, and SHOULD support automatically detecting a |[version] portion as part of the search parameter and interpreting that portion as a search on the business version of the target resource.<br>
Not the <code>Resource.meta.versionId</code>.</p>
</blockquote>



<a name="202466611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202466611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202466611">(Jun 30 2020 at 17:10)</a>:</h4>
<p>I believe it is the server's business rule to decide what is the "latest" version to return.</p>



<a name="202470665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202470665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202470665">(Jun 30 2020 at 17:42)</a>:</h4>
<p>Right, but how would I express that in a query, is there a way?<br>
I guess, server can support it via sorting by version, like <code>Questionnaire?url=&lt;url&gt;&amp;_sort=-version&amp;_count=1</code>.</p>



<a name="202474445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202474445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202474445">(Jun 30 2020 at 18:13)</a>:</h4>
<p>I understand your question now. So the server has multiple Questionnaire resources with the same Questionnaire.version value but different Questionnaire.meta.versionId.<br>
Is that correct?<br>
But in which situation the resource with the latest versionId does not have the latest business version?</p>



<a name="202475976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202475976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202475976">(Jun 30 2020 at 18:26)</a>:</h4>
<p>There's no standard way to define business versions, so there's no standard way to determine what the 'latest' is.  It's quite possible to update an 'older' business version more recently than the 'current' business version - so it really is going to have to be up to the server to decide what release to return if there are multiple business versions with the same canonical URL available on a server</p>



<a name="202508380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202508380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202508380">(Jun 30 2020 at 23:39)</a>:</h4>
<p>We do a similar thing for different resources (ValueSets, CodeSystems, ConceptMaps, StructureDefinitions). We resolve latest using x.y.z or yyyymmdd versions, provided that all resources with the canonical URL have the same versioning format, and there is a single latest.</p>



<a name="202577178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202577178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202577178">(Jul 01 2020 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> The need to return the latest canonical is a real use-case, but it would require enforcing some consistency around [Resource].version.  Do you think we could reasonably define a small number of syntaxes that would allow version order comparison and indicate that systems <em>should</em> use one of those - and that if they don't, they can't count on systems being able to determine latest?  (Should also standardize what to do if a server can't figure out latest)</p>



<a name="202772474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202772474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202772474">(Jul 03 2020 at 06:33)</a>:</h4>
<p>sure we could document that. Though servers may make other arrangements that mean it could work.</p>



<a name="202772491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202772491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202772491">(Jul 03 2020 at 06:33)</a>:</h4>
<p>I do think that the semantics for referring to the current version of a canonical resource are clear in a canonical(X)</p>



<a name="202772542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202772542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202772542">(Jul 03 2020 at 06:34)</a>:</h4>
<p>but I also think that we haven't defined precisely how a client would ask for that resource, and we definitely should</p>



<a name="202804375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/202804375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#202804375">(Jul 03 2020 at 13:36)</a>:</h4>
<p><span class="user-mention" data-user-id="194996">@Ivan Dubrov</span>, would you be willing to submit a change request?</p>



<a name="203011241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Query%20latest%20Questionnaire%20by%20URI/near/203011241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Query.20latest.20Questionnaire.20by.20URI.html#203011241">(Jul 06 2020 at 16:28)</a>:</h4>
<p>I didn't know what exactly to propose, so wrote some generic ticket: <a href="https://jira.hl7.org/browse/FHIR-27920">https://jira.hl7.org/browse/FHIR-27920</a>. I generalized it for all resources which are commonly referenced by canonical since we have similar issue with conformance resources as well.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
