---
layout: page
title: "FHIR Chat  · result pagination - _count / offset? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html">result pagination - _count / offset?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="185791798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185791798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185791798">(Jan 16 2020 at 07:28)</a>:</h4>
<p>How can we get only the 10th to 19th set of results in a search?<br>
is there a _offset parameter?</p>



<a name="185793911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185793911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185793911">(Jan 16 2020 at 08:19)</a>:</h4>
<p>No. In general, the size of the page can neither be fully defined by the client nor by the server. What's your use case?</p>



<a name="185794431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185794431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185794431">(Jan 16 2020 at 08:29)</a>:</h4>
<p>if we use _count to get only a few results, how do we get the few next?</p>



<a name="185794505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185794505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185794505">(Jan 16 2020 at 08:30)</a>:</h4>
<p>i don't want my mobile app to get all the results. Something like whatsapp</p>



<a name="185794989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185794989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185794989">(Jan 16 2020 at 08:39)</a>:</h4>
<p>The result bundle contains &lt;links&gt;. The 'next' link is the URL to GET, which will return the next page.</p>



<a name="185795801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185795801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185795801">(Jan 16 2020 at 08:54)</a>:</h4>
<p>thanks. <br>
So I see this translates in _getpages,  getpageoffset.. I was looking for these as part of the spec</p>



<a name="185795890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185795890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185795890">(Jan 16 2020 at 08:56)</a>:</h4>
<p>Ok, that answers my question. <br>
Side question: are these (_getpages, _getpageoffset) documented? should they?</p>



<a name="185796229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185796229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185796229">(Jan 16 2020 at 09:02)</a>:</h4>
<p>Not as part of the FHIR spec. As part of HAPI perhaps.</p>



<a name="185796286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185796286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185796286">(Jan 16 2020 at 09:03)</a>:</h4>
<p>I'll see where this is in Grahame's server, but i think _offset is a relatively standard way of working, we could adopt it</p>



<a name="185824871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185824871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185824871">(Jan 16 2020 at 15:29)</a>:</h4>
<p>We made a conscious decision in the spec to <em>not</em> support searching by offset - because some search technologies and architectural approaches have challenges doing that.  The only search navigation mechanism supported right now is 'next', 'previous' and sometimes 'first' and 'last'.</p>



<a name="185854731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185854731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185854731">(Jan 16 2020 at 20:13)</a>:</h4>
<p>FYIW <code>_pages</code> and <code>_getpageoffset</code> are just HAPI FHIR internal things that HAPI uses in its own paging links. They are intended to just be opaque parts of the next/prev URLs (which sure has not stopped people from figuring out how they work and directly modifying them. :) )</p>



<a name="185856233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185856233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185856233">(Jan 16 2020 at 20:26)</a>:</h4>
<p>Key thing is that if you changed your architecture or syntax tomorrow to not use those, you'd still be fully conformant</p>



<a name="185864476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185864476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185864476">(Jan 16 2020 at 21:44)</a>:</h4>
<p>I thought that page or offset were standard options for pagination, next/previous not so much, but my experience is very limited.</p>



<a name="185866074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/185866074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#185866074">(Jan 16 2020 at 21:56)</a>:</h4>
<p>One problem with page/offset is that if some resources are modified between the time you retrieve the first page and the second page, some results near the page boundary could be returned two or zero times. Having next/previous links makes this stable in the sense that when you look at the next page, it will always start from the same place regardless of changes to earlier pages.</p>



<a name="186965451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/186965451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#186965451">(Jan 30 2020 at 09:07)</a>:</h4>
<p>And the server might impose different page sizes if you try to define one bigger than it supports.</p>



<a name="238291602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/238291602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Milinda Perera <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#238291602">(May 11 2021 at 11:34)</a>:</h4>
<p>Hi Team,</p>
<p>We are exposing FHIR resources following facade pattern.<br>
The implementation is stateless. To support "next", "previous" etc. we have to pass some information about offset in those URLs.</p>
<p>My question is, to support that, are there any restrictions (is it allowed) to introduce implementer specific (custom) query parameter?</p>
<p>Thanks,</p>



<a name="238298827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/238298827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#238298827">(May 11 2021 at 12:35)</a>:</h4>
<p>Yes, you can use custom query parameters in the next / previous / first / last URLs. The clients will always just use those entire URLs, so they can contain anything</p>



<a name="238320510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/238320510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Milinda Perera <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#238320510">(May 11 2021 at 14:49)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191912">@Michele Mottini</span> for confirmation</p>



<a name="276488883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/276488883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> shuhaib k <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#276488883">(Mar 24 2022 at 15:05)</a>:</h4>
<p>We have been trying to add pagination functionality to my FHIR server. just want to check with you guys that any  wrong doing below implementation or can you advise the better way to do it.  Let's assume the client is requesting the below query <strong>http://localhost:80/Patient/ABC|123/DocumentReference</strong> to get the Documentrefrence bundle of the Patient( ABC|123), it might have n number of records in the backend system, so its big load for the server to serve the request as single bundle and also it's going to be a delay to get the response from the server. so we decided to implement pagination as below which will give you the first 20 records and the next link, next link will take you to another set of the 20 records and will give you the next page as page=3 for another 20 <a href="http://records.it">records.it</a> keeps going until it reaches the last page. is it acceptable as per FHIR  standard <br>
**Note page size =20 <br>
 **"link": [<br>
        {<br>
            "relation": "self",<br>
            "url": "<a href="http://localhost:5000/Patient/ABC|123/DocumentReference">http://localhost:5000/Patient/ABC|123/DocumentReference</a>"<br>
        },<br>
        {<br>
            "relation": "next",<br>
            "url": "<a href="http://localhost:5000/Patient/ABC|123/DocumentReference?page=2">http://localhost:5000/Patient/ABC|123/DocumentReference?page=2</a>"<br>
        }<br>
    ],**</p>



<a name="276489205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/276489205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#276489205">(Mar 24 2022 at 15:07)</a>:</h4>
<p>What you are describing sounds generally consistent with how FHIR pagination works. Do you have a specific question or do you want to share more details that you're unsure about? I will note that 20 seems like a very low cap; would think about 1000 or 100.</p>



<a name="276492157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/276492157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> shuhaib k <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#276492157">(Mar 24 2022 at 15:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>: As per my understanding, the parameter name <strong>page</strong> is not part of the FHIR search parameter, I am afraid it is breaking the FHIR base standard if I use page parameter in URL on my system or I can use it since its part of the Rest API concept. I agreed 20 is the very low cap and we use 100, just for the describing whole story I mentioned some numbers with 20.</p>



<a name="276492473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/276492473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#276492473">(Mar 24 2022 at 15:30)</a>:</h4>
<p>Ahh. The URL that you supply in your next (or prev) link is opaque from the perspective of the client. It does not need to look anything like a FHIR search URL, and indeed could be something like <code>https://server.example.org/_fhir/continue/19758492838485859</code>. The only requirement is that a client should be able to be reference this URL via HTTP get, and it should receive the next page of the search.</p>



<a name="276492590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/276492590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#276492590">(Mar 24 2022 at 15:31)</a>:</h4>
<p>In general, it is probably a good practice not to embed parameter names like <code>page=</code> because you might find that clients try to get clever and directly manipulate those parameters. Conveying an opaque URL that simply acts as a continuation token is probably safer. On the other hand, maybe you want to support this kind of "under the abstraction barrier" client behavior for arbitrary jumps :-) These are your internal design choices to make.</p>



<a name="276514780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/276514780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#276514780">(Mar 24 2022 at 17:48)</a>:</h4>
<p>And when your FHIR server supports this it has to maintain state so that when the user (FHIR client) requests page=2 you know where to start from, i.e. that is unique to that FHIR client's search.</p>



<a name="276581765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/276581765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#276581765">(Mar 25 2022 at 06:48)</a>:</h4>
<p>If using a server farm the use of page=2 is probably easier to deal with by a server.. if the continuation token is only known by one specific server which responded, the continuation queries may not be answerable by any other server.</p>



<a name="276873587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/result%20pagination%20-%20_count%20/%20offset%3F/near/276873587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> shuhaib k <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F.html#276873587">(Mar 28 2022 at 13:34)</a>:</h4>
<p>Thanks all for your suggestions. Really appreciated your prompt response on this <span class="user-mention" data-user-id="191372">@René Spronk</span>: even I felt the same passing parameter value on page is much easier and easy implementation.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
