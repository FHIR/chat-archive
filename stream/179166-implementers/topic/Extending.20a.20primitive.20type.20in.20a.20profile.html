---
layout: page
title: "FHIR Chat  · Extending a primitive type in a profile · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20a.20primitive.20type.20in.20a.20profile.html">Extending a primitive type in a profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153892691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20a%20primitive%20type%20in%20a%20profile/near/153892691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20a.20primitive.20type.20in.20a.20profile.html#153892691">(Jun 07 2017 at 17:15)</a>:</h4>
<p>Hi! I've been following this blog post <a href="https://fhirblog.com/2017/01/10/extending-a-required-valueset-binding/" target="_blank" title="https://fhirblog.com/2017/01/10/extending-a-required-valueset-binding/">https://fhirblog.com/2017/01/10/extending-a-required-valueset-binding/</a> since I want to add two more types to <code>Questionnaire.item.type</code>. From the blog it's easy to see how to use the extended values, but I can't find any info about how the extension should be defined (or how to use it in a profile). At the moment I have this extension (just noticed that forge doesn't escape double quotes in strings):</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;StructureDefinition</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;url</span> <span class="na">value=</span><span class="s">&quot;https://duodecim.fi/fhir/stu3/extensions/symptom-checker-item-type&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;SymptomCheckerItemType&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;status</span> <span class="na">value=</span><span class="s">&quot;draft&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;description</span> <span class="na">value=</span><span class="s">&quot;Add types &quot;</span><span class="err">subtitle&quot;</span> <span class="err">and</span> <span class="err">&quot;feedback&quot;</span> <span class="err">to</span> <span class="err">Questionnaire.item.type.&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;fhirVersion</span> <span class="na">value=</span><span class="s">&quot;3.0.0&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;kind</span> <span class="na">value=</span><span class="s">&quot;primitive-type&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;abstract</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;contextType</span> <span class="na">value=</span><span class="s">&quot;resource&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;context</span> <span class="na">value=</span><span class="s">&quot;Questionnaire.item.type&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;type</span> <span class="na">value=</span><span class="s">&quot;Extension&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;baseDefinition</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/Extension&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;derivation</span> <span class="na">value=</span><span class="s">&quot;constraint&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;differential&gt;</span>
    <span class="nt">&lt;element&gt;</span>
      <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Extension.url&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;fixedUri</span> <span class="na">value=</span><span class="s">&quot;https://duodecim.fi/fhir/stu3/extensions/symptom-checker-item-type&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/element&gt;</span>
    <span class="nt">&lt;element&gt;</span>
      <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Extension.valueString&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;short</span> <span class="na">value=</span><span class="s">&quot;Expanded Questionnaire item type&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;definition</span> <span class="na">value=</span><span class="s">&quot;Extend allowed item types to include &quot;</span><span class="err">feedback&quot;</span> <span class="err">and</span> <span class="err">&quot;subtitle&quot;.&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;type&gt;</span>
         <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;string&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/type&gt;</span>
      <span class="nt">&lt;binding&gt;</span>
         <span class="nt">&lt;strength</span> <span class="na">value=</span><span class="s">&quot;required&quot;</span><span class="nt">/&gt;</span>
         <span class="nt">&lt;valueSetUri</span> <span class="na">value=</span><span class="s">&quot;https://duodecim.fi/fhir/stu3/ValueSet/symptom-checker-questionnaire-item-type&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/binding&gt;</span>
    <span class="nt">&lt;/element&gt;</span>
  <span class="nt">&lt;/differential&gt;</span>
<span class="nt">&lt;/StructureDefinition&gt;</span>
</pre></div>


<p>where I've defined a ValueSet that includes a CodeSystem that contains my two new types. Is this even close to correct? <code>type</code> is a string field bound to the value set <a href="https://www.hl7.org/fhir/valueset-item-type.html" target="_blank" title="https://www.hl7.org/fhir/valueset-item-type.html">https://www.hl7.org/fhir/valueset-item-type.html</a> .</p>



<a name="153892694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20a%20primitive%20type%20in%20a%20profile/near/153892694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20a.20primitive.20type.20in.20a.20profile.html#153892694">(Jun 07 2017 at 17:43)</a>:</h4>
<p>The no quotes in strings is an XML thing, not a Forge thing.  You can use &quot;.  For examples of how to use extensions on Questionnaire, take a look at the <a href="http://hl7.org/fhir/us/sdc/sdc-questionnaire.html" target="_blank" title="http://hl7.org/fhir/us/sdc/sdc-questionnaire.html">SDC profile</a></p>



<a name="153892758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20a%20primitive%20type%20in%20a%20profile/near/153892758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20a.20primitive.20type.20in.20a.20profile.html#153892758">(Jun 07 2017 at 21:29)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193725">@Ville Lindholm</span>, if you save the XML and inspect the file in a text editor, you will notice that the quote actually is encoded as "&quot;". So attribute values are correctly encoded, however you cannot see the encoding in the Forge XML tab.</p>



<a name="153892760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20a%20primitive%20type%20in%20a%20profile/near/153892760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20a.20primitive.20type.20in.20a.20profile.html#153892760">(Jun 07 2017 at 21:35)</a>:</h4>
<p>Concerning extensions; first you need to define the extension itself (as above). Then you create a profile, add an extension element and map it to the previously created extension definition.</p>



<a name="153892866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20a%20primitive%20type%20in%20a%20profile/near/153892866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20a.20primitive.20type.20in.20a.20profile.html#153892866">(Jun 08 2017 at 04:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Thanks, it seems like examples are the easiest way to go :)</p>
<p>And <span class="user-mention" data-user-id="191336">@Michel Rutten</span> yes, I'm aware of the workflow, but what actually goes into the extension and how it's attached to the element correctly is less clear :D You seem to work for Furore, are there any "user stories" type of guides for Forge? As in, "this is the exact set of steps to do task X". The general documentation does provide an overview of the user interface, but it's sometimes hard to know which buttons to push / text boxes to fill to get to the same XML that some FHIR tutorial shows as an example! :) And good to know about the double quotes, I just assumed that the XML tab contains whatever will be written to disk.</p>



<a name="153892868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20a%20primitive%20type%20in%20a%20profile/near/153892868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ville Lindholm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20a.20primitive.20type.20in.20a.20profile.html#153892868">(Jun 08 2017 at 04:18)</a>:</h4>
<p>Of course, if one can find good example files, it's possible to open them in Forge and try to reverse engineer from there. But getting the documentation straight from the source is of course preferable.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
