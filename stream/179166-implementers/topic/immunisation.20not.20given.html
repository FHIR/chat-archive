---
layout: page
title: "FHIR Chat  · immunisation not given · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html">immunisation not given</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154023337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amir Mehrkar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023337">(Dec 05 2018 at 23:11)</a>:</h4>
<p>In the UK we now have some use case requirements to share information about immunisations that were “not given”:</p>
<p>We’ve proposed a combination of UK SNOMEDCT procedures codes to identify the stages in the imms schedule via an extension (<a href="https://fhir.hl7.org.uk/STU3/StructureDefinition/Extension-CareConnect-VaccinationProcedure-1" target="_blank" title="https://fhir.hl7.org.uk/STU3/StructureDefinition/Extension-CareConnect-VaccinationProcedure-1">https://fhir.hl7.org.uk/STU3/StructureDefinition/Extension-CareConnect-VaccinationProcedure-1</a>) PLUS using the vaccineCode for the actual imms. </p>
<p>However, there is a debate on how to safely capture negated procedures for a given vaccine.</p>
<p>So child attends, but is unwell for procedure X of vaccine Y:</p>
<p>1a) VaccineCode = Y<br>
1b) Extension-...- VaccineProcedure = X (snomedCT Concept of procedure only)<br>
1c) notGiven = True</p>
<p>OR</p>
<p>2a) VaccineCode = Y<br>
2b) Extensions -...-VaccineProcedure = X (POST COORDINATED SNOMEDCT EXPRESSION DEFINING PROCEDURE NOT GIVEN.)<br>
2c) notGiven = True </p>
<p>Some contend that option 1 is sufficient and safe for negation to be derived from the notGiven modifier element alone.</p>
<p>others say option 2 is the safer and reflects proper use of snomed: ie if you carry a procedure code that isn’t negated via postcoordination, then by definition that means the procedure did happen. And if the procedure is then taken out of context from the FHIR message, there is a clinical risk of interpreting that procedure did actually take place when it didn’t.</p>
<p>Thoughts?</p>



<a name="154023339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023339">(Dec 05 2018 at 23:22)</a>:</h4>
<p>what's the downside of 2b? Extra complexity of post coordination? Presumably the number of vaccines is fairly small, and this could be more or less hard coded - rather than needing a full SNOMED post-coordination engine to work out the meaning.</p>



<a name="154023342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amir Mehrkar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023342">(Dec 05 2018 at 23:47)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191651">@Rik Smithies</span> - I think there may be some concern that implementers may struggle (both send and receive) for postcoordinated, but we have said for all snomed terms (+post coordianated) the human readable display would always be transmitted if recipient was not able to process post cord.</p>
<p>Generally for child health the number of procedures is small and wouldn’t massively expand over time so there is a degree of hard coding that could be established.</p>
<p>I think part of this is about philosophy of snomed use and ensuring unambiguous meaning is preserved safely when the content is taken out of the message and stored natively. There is also the issue that folk say the modifier element for option 1 is intended to convey notGiven too.</p>



<a name="154023353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023353">(Dec 06 2018 at 00:53)</a>:</h4>
<p>From an implementation point of view it is effectively a pre-coordinated list of "+given" and "+not given" for each code. <br>
But what's the reason that the vaccination stage code can't just go in the Procedure.code?</p>



<a name="154023354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023354">(Dec 06 2018 at 00:59)</a>:</h4>
<p>Presumably the question of what downstream tools will make of the postcoordinated codes will be relevant</p>



<a name="154023355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023355">(Dec 06 2018 at 01:40)</a>:</h4>
<p>Taking content out of a resource is always dangerous. If the vaccineCode is take out of context there is no way to know whether it was administered or not. That requires the context of the resource. </p>
<p>Do you want to carry the intended procedure or the actual procedure? If it is the intended procedure, then saying "not done" with post coordination is strange, but you know the value before the attempt to administer the vaccine. If it is the actual procedure, post coordinated "not done" makes more sense, but you will not know the value until after the attempt.</p>



<a name="154023357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023357">(Dec 06 2018 at 01:43)</a>:</h4>
<p>I don't mind between 1 and 2 but from a FHIR pov, </p>
<blockquote>
<p>option 2 is safer and reflects proper use of snomed: ie if you carry a procedure code that isn’t negated via postcoordination, then by definition that means the procedure did happen.</p>
</blockquote>



<a name="154023358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023358">(Dec 06 2018 at 01:44)</a>:</h4>
<p>that's not true.  If the resource is notGiven = true, then you can't pluck something out of the resource and say that it has meaning irrespective of it's context. (more generally, this is true about SCT use)</p>



<a name="154023359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023359">(Dec 06 2018 at 01:45)</a>:</h4>
<p>if you define the extension as "SCT summary code for resource' and document that it must be safe to extract and take out of context... then option 2 is clearly the safe option.</p>



<a name="154023360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023360">(Dec 06 2018 at 01:47)</a>:</h4>
<p>if you define the extension as 'the procedure code for the vaccine whose outcome is recorded' then option 2 is actually wrong, since you would now saying: "vaccine A was not given by not giving it' .... urr?</p>



<a name="154023361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023361">(Dec 06 2018 at 01:47)</a>:</h4>
<p>irrespective, definitions matter (foreign to SCT I know) and you have to consult them</p>



<a name="154023371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023371">(Dec 06 2018 at 02:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191985">@Jay Lyle</span> You may want to weigh in here</p>



<a name="154023395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neill Jones <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023395">(Dec 06 2018 at 08:59)</a>:</h4>
<p>I have a major problem with both proposals.  While it is true that "You" dis not do a planned procedure "You" cannot correctly assert that the procedure has not been done especially if the person did not attend which is also part of the use case.</p>
<p>I would argue that it is safe to state that a planned procedure did not happen..  That is the plan was not carried out this is always perfectly safe as the vaccination code is not used so there is no risk that it is separated.</p>



<a name="154023402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McNicoll <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023402">(Dec 06 2018 at 09:50)</a>:</h4>
<p>Thanks Amir. I think it is important that we bottom out this issue as I think it does raise some safety concerns but not those originally discussed.</p>
<p>I agree with Grahame that we cannot be responsible for those who wish to extract aspects of the data e.g just the immunisation procedure name, ignoring any critical supporting context provided by the information model - this is not about the message, it is about that message being based on a coherent information model, with critical attributes that cannot be ignored. So, I think the original concern is spurious - in this world, the information model is king and terminology supportive. That is contentious but ultimately that is how it is intended to work .</p>
<p>However .....</p>
<p>For me more significantly, there is an issue around searching/filtering querying, for which I think there are some broad use cases.</p>
<p>a. Find me a patient(s) who <em>have</em> been given immunisation X (Given = True)<br>
b. Find me patient(s) who have <em>not</em> been given immunisation X (Given = False)<br>
c. Show me the immunisation status for patient X (Given = true/false)</p>
<p>The main risk I can see is (1) where there is a risk that 'naive' developers will simply search on procedure code and fail to apply the closely associated 'Given' parameter, with a risk of inadvertently picking up 'not given's.</p>
<p>So, I agree that (1) is problematic, though for different reasons than those originally suggested. We have similar issues in some openEHR models, and something we have been looking at is whether we could apply some sensible, safe default query constraints. In this context, I guess I am suggesting that we either force people to always supply the NotGivemn search parameter, or apply defaults such that if not supplied, it defaults to 'where given'.</p>
<p>This may be technically unfeasible/ inadvisable but if it could be acheived it would solve a lot of problems. As I say, we are looking it how this might be done in openEHR AQL.</p>
<p>The suggestion to use post-coordination fills me with dread. It has been hard enough to get SNOMED CT adoption over the line in the UK without introducing this level of complexity. If we do go down this road, I would advocate creating some pre-coorrdinated, but fully-defined codes - though this is not scalable for other procedures.</p>
<p>Important discussion - some very practical issues, as well as important points of principle.</p>



<a name="154023404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023404">(Dec 06 2018 at 09:56)</a>:</h4>
<p>our experience with default values for search parameters is that they are very difficult and we strongly recommend that people don't do this. Our default for a search parameter is 'no effect on return values" and changing that introduces subtle and serious downstream issues.</p>



<a name="154023406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023406">(Dec 06 2018 at 09:57)</a>:</h4>
<p>if you must do something, I strongly recommend that you require a search parameter and require servers to return an error if it is not present.</p>



<a name="154023409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McNicoll <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023409">(Dec 06 2018 at 10:06)</a>:</h4>
<p>Thanks Grahame. Interesting, of course I understand there are risks/challenges. I would only want to do this where there is a very clear. safe default, and a contrary high risk of mis-querying. So the alternative is to force the given/not given parameter to be supplied- is that technically feasible?</p>



<a name="154023410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McNicoll <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023410">(Dec 06 2018 at 10:14)</a>:</h4>
<p>If that is technically feasible, it solves the problem for me. I do not think we can be responsible for consumers of a FHIR data instance, shredding that incorrectly, whether the downstream target is a post-coordinated SNOMED CT expression, an openEHR model, or a proprietary system model.</p>



<a name="154023411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023411">(Dec 06 2018 at 10:15)</a>:</h4>
<p>you can make that policy, absolutely. Whether you can make it stick..... you probably don't have enough closure around the eco-system to make it stick completely. And I doubt we could make that stick on everyone either. We could consider identifying some search parameters for special attention...</p>



<a name="154023437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McNicoll <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023437">(Dec 06 2018 at 11:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> so this is not technically enforceable?</p>



<a name="154023450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023450">(Dec 06 2018 at 11:43)</a>:</h4>
<p>I’m not sure what you mean by “technically enforceable”. You can make a rule: all searches on AllergyIntolerance that have a code parameter SHALL also have a given parameter.</p>



<a name="154023451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023451">(Dec 06 2018 at 11:44)</a>:</h4>
<p>You cannot quite say that in a capability statement right now, so that’s a limitation</p>



<a name="154023452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023452">(Dec 06 2018 at 11:45)</a>:</h4>
<p>You can construct test cases, using a TestScript resource, or some other testing infrastructure, that tests that a server that gets a code parameter without a given parameter returns an error not a result</p>



<a name="154023454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023454">(Dec 06 2018 at 11:45)</a>:</h4>
<p>You can then require a set of test cases to be passed before a server is considered suitable for use in some context</p>



<a name="154023455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023455">(Dec 06 2018 at 11:46)</a>:</h4>
<p>Is that technical enforcement? If it’s not, what would you call ‘technical enforcement’?</p>



<a name="154023456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023456">(Dec 06 2018 at 11:46)</a>:</h4>
<p>The key here is “what context”</p>



<a name="154023457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023457">(Dec 06 2018 at 11:47)</a>:</h4>
<p>My contention is that this is the most difficult thing because very few systems are going to live in a closed context that doesn’t leak into the wide world eventually (though slowly)</p>



<a name="154023464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Munish Jokhani <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023464">(Dec 06 2018 at 12:19)</a>:</h4>
<p>The challenge here is that if we are not expecting the receiving systems to use FHIR for storage/persistence, so they are supposed to suck it in their database automated/semi-automated and once a SNOMED Code of procedure is in the record with implicit context of it being done , storing somewhere else that it was not done and maintaining that linkage and then enforcing that in any kind of query results consistently. I think it will be  much easier not to record the procedure code and just record that it was not done and technically you could do a delta on a patient cohort and look for positives and assume that for rest of them it wasn't done.</p>



<a name="154023466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023466">(Dec 06 2018 at 13:23)</a>:</h4>
<p>You can't rely on assertions of absence or acts not done for clinical purposes; any such assertion could be out of date, even if correct when made. This is true for any model and you can't fix it. For safety protocols, always ask; for quality measures, do the best you can. </p>
<p>What's different here is the redundant information - the model impedance. To Grahame's point, it has to make sense as FHIR, and if you add new ways to say the same thing, you're going to have problems.</p>
<p>What is the requirement this extensions supports?<br>
1. The value set mixes axes, so we can't be doing this for a strict "downstream tool"<br>
2. The coordinated values are already in FHIR - vaccine, provider type, route -- wait, there's an intent . . .</p>



<a name="154023478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023478">(Dec 06 2018 at 14:10)</a>:</h4>
<p>hi <span class="user-mention" data-user-id="193305">@Munish Jokhani</span>, but wouldn't the persistence only be a factor if the context was ignored during the export? We don't want to make it hard, but it is never ok to just suck out the codes.</p>



<a name="154023495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023495">(Dec 06 2018 at 14:34)</a>:</h4>
<p>To Munish's point: we do not say anything about storage. So systems may choose to persist using fhir if they want. And many do. But however you do store, you need to be able to know/reassemble the context and information correctly. But we've never thought that that's saying much, since that would be true irrespective of the interface and the persistence choices</p>



<a name="154023521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Munish Jokhani <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023521">(Dec 06 2018 at 16:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191651">@Rik Smithies</span> Agree ; we have take into consideration limited maturity of some of the receivers to handle distributed context in a FHIR information model especially when its context modification e.g.  negation . <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> agree with the principle and its about trying to help implementation so that receivers don't have to re-design systems immediately.</p>



<a name="154023556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McNicoll <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023556">(Dec 06 2018 at 18:53)</a>:</h4>
<p><span class="user-mention" data-user-id="193305">@Munish Jokhani</span> are these theoretical concerns or based on known high value recipients who can only accept a single attribute.? If that truly is the case I think I would help write them their adaptor. What do they do now? Of course we don't want to hamper implementation but folks are going to step up I'm afraid. If they can't handle negation they probably only need positive records.</p>



<a name="154023557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McNicoll <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023557">(Dec 06 2018 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> by techinicaaly enforceable I just meant some sort of server error. Ie it is simply not possible to omit that parameter. Server will say no.</p>



<a name="154023597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amir Mehrkar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023597">(Dec 06 2018 at 22:16)</a>:</h4>
<p>Thank you for everyone's insights.</p>
<p>1. Is it really an expected standard for the recipient to be able to demonstrate reassembly of the message for audit / safety purposes? Or once you've parsed and done with the data what you need, can you reasonably discard and not have to reassemble etc...</p>
<p>2. reading spec, it appears procedure resource cannot be used: "The Procedure resource should not be used to capture an event if a more specific resource already exists - i.e. immunizations"</p>
<p>So, our architecture is PUB/SUB FHIR events model (each event being a bundle of resources that applies to a use case - here vaccination). </p>
<p>A key requirement is being able to search at population level for child cohorts for whom a part of the schedule DID NOT HAPPEN. And to search simply. ONLY 4 “DID NOT HAPPEN” reasons are needed: Not attended; refused; Contraindication; unwell.</p>
<p>Evolving thoughts (keeping implementation &amp; end point maturity in mind) for DID  NOT HAPPEN:</p>
<p>A]</p>
<ul>
<li>
<p>Imms.Extension.Procedure = pre-coordinated snomedCT code: Meningitis C vaccine Refused, MenC vaccine Contraindicated, etc etc</p>
</li>
<li>
<p>VaccineCode = null value = NI (No information)</p>
</li>
<li>NotGiven = True</li>
</ul>
<p>B]</p>
<ul>
<li>
<p>Imms.Extension.Procedure = pre-coordinated snomedCT codes:  MenC Vacc did not happen, DPT 1 did not happen etc etc </p>
</li>
<li>
<p>VaccineCode = null value = NI</p>
</li>
<li>NotGiven = True</li>
<li>ReasonNotGiven =<br>
Refused; Unwell; Contraindicated; Not attended</li>
</ul>
<p>This way, if there is data leak, the precoordinated procedure code is unambiguously clear the vaccination procedure didn't happen plus there is NO vaccine code sent for something that didn't get given.</p>
<p>Search query is simple= via extension.procedure and/or ReasonNotGiven.</p>
<p>In the actual business workflow: staff would need to have forms (or a mechanism) to pick for the procedure one of the reasons it didn’t happen. However, there is no need to identify a vaccine product. Thus such vaccine information doesn’t unnecessarily transmit around the system.</p>
<p>Reasonable? better? :)</p>



<a name="154023629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023629">(Dec 07 2018 at 00:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191650">@Ian McNicoll</span> yes the server can return an error from the search</p>



<a name="154023631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023631">(Dec 07 2018 at 00:48)</a>:</h4>
<p><span class="user-mention" data-user-id="192337">@Amir Mehrkar</span> 1. not just because. Generally, an application needs to do this one way or another or functional purposes. I've never seen it specified that an application has to do it merely to demonstrate that it can, and we never say that </p>
<p>2. you could use procedure to describe the process of the immunization, but not as a substitute for immunization itself</p>
<p>3. I'm not actually following the grounds for the extension. your use case appears to be covered by vaccine code + not given + reason?</p>



<a name="154023690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amir Mehrkar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023690">(Dec 07 2018 at 09:11)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> </p>
<p>2. The FHIR spec on procedure has been interpreted (...wrongly it seems...) that we shouldn't use it around events to do with immunisation. How would we link the procedure via a reference to imms. I couldn't see a mechanism. Procedure.Partof doesnt seem to allow.</p>
<p>3. We do not think it is safe to exchange information about a specific vaccine we didn't end up giving. ie. we dont want to say, the specific MMR vaccine was NOT GIVEN due to data leak safety issues and the capabilities of receiving systems to store (handle) such negated concepts that are not precoordinated. Also, the sending system (or clinician) would need to choose the vaccine the clinician did not give before sending. So, we feel it is better to explicitly use a precoordinated SNOMED code to say the "PROCEDURE of MMR DID NOT HAPPEN", leave the vaccineCode = NI. Then there is no risk to find a code of an MMR vaccine code (which wasnt given) that might be unambiguous when assimilated into the receiving system. </p>
<p>The set of precoordinated SNOMED CT codes saying "procedure of MMR (X schedule) DID NOT HAPPEN" would need creation but there are not too many. The imms.extension.procedure was created because we didnt think we could use the Procedure resource  as per part 2.</p>



<a name="154023714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023714">(Dec 07 2018 at 11:34)</a>:</h4>
<p>To me that seems like a reasonable (and safe) approach.  As you say, the number of additional pre-coordinated codes (whether SNOMED CT or otherwise) should be relatively limited.  We adopted a similar <a href="http://build.fhir.org/ig/HL7/fhir-ips/general.html#representing-known-absent-and-not-known" target="_blank" title="http://build.fhir.org/ig/HL7/fhir-ips/general.html#representing-known-absent-and-not-known">approach</a> in the International Patient Summary (IPS) IG for representing “known absent” and “not known” information.  In that case, rather than attempting to get these codes added to SNOMED CT and made available for use at no cost globally, we created our own <a href="http://build.fhir.org/ig/HL7/fhir-ips/CodeSystem-absent-unknown-uv-ips.html" target="_blank" title="http://build.fhir.org/ig/HL7/fhir-ips/CodeSystem-absent-unknown-uv-ips.html">code system</a> for it in IPS.</p>



<a name="154023718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amir Mehrkar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023718">(Dec 07 2018 at 12:59)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191405">@Rob Hausam</span> looks like we've tackled it in similar principle yes. What did you think about the issue of 2 - using Procedure. Did you use that and link to Imms resource or do an extension in imms?</p>



<a name="154023720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pete Salisbury <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023720">(Dec 07 2018 at 13:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> in answer to your question and to give a bit of background,</p>
<blockquote>
<p>3. I'm not actually following the grounds for the extension. your use case appears to be covered by vaccine code + not given + reason?</p>
</blockquote>
<p>In the uk the GP clinical systems all store immunisations as procedure codes rather than as the actual code of the substance that was administered. However in some projects in the UK are looking to use the vaccineCode to record immunisations which is how we have ended up with an extension.</p>
<p>Dave Barnet did ask a question about it previously here, see link below, but there has been further use cases introduced since that point.</p>
<p><a href="#narrow/stream/4-implementers/topic/vaccineCode.20being.20a.20vaccineCode" title="#narrow/stream/4-implementers/topic/vaccineCode.20being.20a.20vaccineCode">https://chat.fhir.org/#narrow/stream/4-implementers/topic/vaccineCode.20being.20a.20vaccineCode</a></p>



<a name="154023787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023787">(Dec 07 2018 at 20:45)</a>:</h4>
<p>I'm still not following where the extension comes from</p>



<a name="154023790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023790">(Dec 07 2018 at 20:47)</a>:</h4>
<p>I think, from what you've said, that source systems are storing a SCT code that is from the procedure heirarchy that pre-coordinates the vaccine code</p>



<a name="154023791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023791">(Dec 07 2018 at 20:48)</a>:</h4>
<p>I'm still not clear <em>where</em> they are storing this. As part of a general medical history? Or a specific immunization history?</p>



<a name="154023792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154023792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154023792">(Dec 07 2018 at 20:51)</a>:</h4>
<p>There is no explicit link between immunization and procedure; the immunization resource folds in some of the procedural aspects, but you could have an extension for others. However, what's not clear to me is why this a reason not to use vaccineCode?</p>



<a name="154024428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154024428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amir Mehrkar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154024428">(Dec 11 2018 at 15:16)</a>:</h4>
<blockquote>
<blockquote>
<p>However, what's not clear to me is why this a reason not to use vaccineCode? </p>
</blockquote>
</blockquote>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - do you mean why we can't use vaccineCode to store the vaccine we DID NOT Given? Is that correct? </p>
<p>I think one argument you have made is the FHIR spec is its own data model and if developers choose to move data out of the FHIR resource (out of context), then they are using the standards inappropriately. Correct?</p>
<p>Do you think this is a valid clinical risk we need to mitigate or it's more about vendors "using the spec correctly."</p>



<a name="154024433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154024433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amir Mehrkar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154024433">(Dec 11 2018 at 15:22)</a>:</h4>
<p>Or are you saying, "why don't you just put the precoordinated SCT Code procedural code in the VaccineCode" instead of the extension you are proposing? I think this is what you are suggesting....</p>



<a name="154024540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154024540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154024540">(Dec 11 2018 at 19:49)</a>:</h4>
<p>yes that is what I was suggesting.</p>



<a name="154024658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154024658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154024658">(Dec 12 2018 at 00:44)</a>:</h4>
<p>ok: "why don't you just put the precoordinated SCT Code procedural code in the VaccineCode" is what I suggesting</p>



<a name="154024661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154024661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> WeiDing <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154024661">(Dec 12 2018 at 01:29)</a>:</h4>
<p>Hello, could you please tell me if I can insert many records at one time? If there is a large amount of data.What do I do？</p>



<a name="154024662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154024662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154024662">(Dec 12 2018 at 01:31)</a>:</h4>
<p>read <a href="http://hl7.org/fhir/http.html#transaction" target="_blank" title="http://hl7.org/fhir/http.html#transaction">http://hl7.org/fhir/http.html#transaction</a> and also <a href="http://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions" target="_blank" title="http://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions">http://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions</a></p>



<a name="154024667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154024667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> WeiDing <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154024667">(Dec 12 2018 at 02:23)</a>:</h4>
<p>Yes, I could, thanks! I'm sorry</p>



<a name="154026908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154026908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154026908">(Dec 21 2018 at 12:24)</a>:</h4>
<p><span class="user-mention" data-user-id="193998">@Pete Salisbury</span> why isn't procedure the correct thing to use here? If I'm doing a series of immunisations (as part of a immunisation workflow), then I'm tasked with performing immunisations (i.e. it's a planned order aka procedure). <br>
I worked on one the first imms extracts from EMIS and it was procedures, I've also worked in child health and it was procedures here (plus I recall batch numbers). Neither used what would be called in FHIR, immunisation.</p>



<a name="154026909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154026909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154026909">(Dec 21 2018 at 12:26)</a>:</h4>
<p>I'll take that back (it should be Immunization).... I'm just confused what's being asked here?</p>



<a name="154026910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immunisation%20not%20given/near/154026910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immunisation.20not.20given.html#154026910">(Dec 21 2018 at 12:39)</a>:</h4>
<p>on reading this again. Agree with <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> last point. Why not use precoordinated SCT Code in vaccineCode?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
