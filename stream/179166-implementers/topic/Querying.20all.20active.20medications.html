---
layout: page
title: "FHIR Chat  · Querying all active medications · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html">Querying all active medications</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154020852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154020852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Growette <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154020852">(Nov 26 2018 at 14:05)</a>:</h4>
<p>Hi all,</p>
<p>I have a question regarding how other FHIR users are retrieving all the current medication resources associated with a patient profile. It looks like there may be different approaches in theory, but I'm wondering what other have used in practice. In this link - <a href="https://fhir.cerner.com/millennium/dstu2/medications/medication-statement/#querying-for-active-medications" target="_blank" title="https://fhir.cerner.com/millennium/dstu2/medications/medication-statement/#querying-for-active-medications">https://fhir.cerner.com/millennium/dstu2/medications/medication-statement/#querying-for-active-medications</a> - Cerner discusses the approach of using MedicationStatement as well as MedicationOrder (MedicationRequest) to ensure that draft orders are included. According to the FHIR docs, it looks like this should be a valid approach, as MedicationStatement is commonly used as "the summarization of a patient's 'active medications' in a patient profile'". However, I've run into issues retrieving MedicationStatement in a couple different sandboxes - HSPC: <a href="https://www.hspconsortium.org/developers/sandbox/" target="_blank" title="https://www.hspconsortium.org/developers/sandbox/">https://www.hspconsortium.org/developers/sandbox/</a> and SmartHealthIt: <a href="https://www.launch.smarthealthit.org" target="_blank" title="https://www.launch.smarthealthit.org">https://www.launch.smarthealthit.org</a> - but can retrieve medication resources via MedicationRequest. I'm curious if this is indicative of real EHRs or is maybe a limitation in the implementation of the FHIR servers in these sandboxes? Can any real-world implementers shed some light on how they go about retrieving all active medications from real EHRs?</p>
<p>Thanks,<br>
Michael</p>



<a name="154020871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154020871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154020871">(Nov 26 2018 at 15:35)</a>:</h4>
<p>In Argonaut, most U.S. EHRs have agreed to use MedicationStatement to reflect the medications that a patient is "believed" to be on - but there's no guarantee across all EHRs that looking at MedicationStatement alone will give you everything.</p>



<a name="154021056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Growette <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021056">(Nov 27 2018 at 13:48)</a>:</h4>
<p>Great, thank you!</p>



<a name="154021070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Veliyan Georgiev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021070">(Nov 27 2018 at 15:16)</a>:</h4>
<p>Michael - we considered very carefully using the Epic FHIR endpoints for our patient portal. Leaving AuthN, AuthZ aside (whole different can of worms) - the FHIR endpoints didn’t contain some important information that was needed like number of refills left and so on. We had to fall back to using the WCF services instead but to answer your question - the MedicationStatement returns the same payload as the legacy API so it is the right one to use. There is a Status parameter you can use but I’d combine it with the Category parameter to further narrow down the list (especially for patient-reported meds). The missing information actually became more important later with DiagnosticReports and Observations in our case - there were workflows that couldn’t be accomplished just using FHIR like letting the patient aware that there are new test results and marking them as read. Only sharing it as a caution ahead in case you are thinking of using FHIR to power up a portal too.</p>



<a name="154021550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021550">(Nov 29 2018 at 10:05)</a>:</h4>
<p>Hi. on How to get all active medications - depends on what you mean by active medications</p>



<a name="154021551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021551">(Nov 29 2018 at 10:06)</a>:</h4>
<p>there is no single universal definition of what is "active" or "current" medication.</p>



<a name="154021552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021552">(Nov 29 2018 at 10:06)</a>:</h4>
<p>and take care when looking at MedicationStatements. They contain what someone stated that the patient is on.</p>



<a name="154021553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021553">(Nov 29 2018 at 10:06)</a>:</h4>
<p>if the EHR knows that the patient has an active prescription, this is not a statement, but a request.</p>



<a name="154021554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021554">(Nov 29 2018 at 10:07)</a>:</h4>
<p>Unless some system creates statements from prescriptions.</p>



<a name="154021555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021555">(Nov 29 2018 at 10:08)</a>:</h4>
<p>and things like number of refills left, which can be important or not, will not be in a statement.</p>



<a name="154021558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021558">(Nov 29 2018 at 10:08)</a>:</h4>
<p>so, Statement is just one of the components</p>



<a name="154021696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154021696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154021696">(Nov 29 2018 at 15:17)</a>:</h4>
<p>There is the special use of List -- <a href="http://build.fhir.org/list.html#query" target="_blank" title="http://build.fhir.org/list.html#query">http://build.fhir.org/list.html#query</a></p>



<a name="154022061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022061">(Nov 30 2018 at 09:58)</a>:</h4>
<p>.. which just pushes the complexity to the server. </p>
<p>In the Netherlands we just discussed a project where a server fetches all kinds of Medication* resources, and creates a Questionnaire to be updated by the patient "are you still taking X?" "what else are you taking?" - the resulting QuestionnaireResponse is translated into MedicationStatements. Yet another way of doing things. The Questionnaire is sent to the patient just prior to them being admitted for a scheduled procedure.</p>



<a name="154022094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Hudson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022094">(Nov 30 2018 at 13:49)</a>:</h4>
<p>I'm working with Michael on this and understanding the various Medication related resources is only our first layer of getting to all active medications.  To answer Jose's question, our definition of active is our best understanding of what medications a patient is on today.  We are building a SMART on FHIR app that performs some level of analysis on medications that a patient is actively consuming so that providers can adjust the medication regimen to reduce medication risk.</p>
<p>It seems like using MedicationStatement is a good starting place understanding that it may not be perfect and non US EHRs may not use it in the same manner.</p>
<p>The next question we are working to solve is how to look at an individual medication resource, we'll use MedicationOrder in this example, and determine whether or not it is current.  <br>
curl <a href="https://fhir-open.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/MedicationOrder/14205368" target="_blank" title="https://fhir-open.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/MedicationOrder/14205368">https://fhir-open.sandboxcerner.com/dstu2/0b8a0111-e8e6-4c26-a91c-5069cbc6b1ca/MedicationOrder/14205368</a> -H 'accept: application/json'</p>
<p>This MedicationOrder has a status of active, a dateWritten of 2015-07-22, a timing code of daily, and a dispenseRequest.quantity of 30.  No information is presented regarding refills outside of a text field, which would be unreliable.</p>
<p>If we combine dateWritten, timingCode, and quantity, the answer is no, this medication expired a long time ago.  One of our worries is that neither dosageInstruction or dispenseRequest are required fields which could give us inconsistent results if EHRs don't proactively provide this data.</p>
<p>Has anyone come up with a good formula, or know of a public library we could include that helps solve this problem?</p>



<a name="154022372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022372">(Dec 02 2018 at 19:27)</a>:</h4>
<blockquote>
<p>our definition of active is our best understanding of what medications a patient is on today.</p>
</blockquote>
<p>Which is fine, because it is your definition. Other places will have other definitions for "active" or rather consider "relevant" medication - also whatever that is.</p>



<a name="154022373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022373">(Dec 02 2018 at 19:32)</a>:</h4>
<p>here is some old stuff:<br>
<a href="/user_uploads/10155/tjab1u6nSZ3BPwkje05MuhBp/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/tjab1u6nSZ3BPwkje05MuhBp/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/tjab1u6nSZ3BPwkje05MuhBp/pasted_image.png"></a></div>



<a name="154022374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022374">(Dec 02 2018 at 19:35)</a>:</h4>
<p>I'd say the principle is:<br>
1. Use List, capture the other resources<br>
2. Call things what they are. If you have a known prescription and a known dispense, they are no more, no less than that. They may indicate "active" but if you have a statement countering that information, then someone has to make a decision. So, keep the data, don't make assumptions.<br>
3. Don't assume you can define global criteria for what should be in any list. Someone in Europe some time ago made a definition of what should be a medication list, and they took that as the entire truth, and I think they are still regretting that (or at least they should, considering the impact)</p>



<a name="154022375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022375">(Dec 02 2018 at 19:39)</a>:</h4>
<p>Oops, I just wrote a few things, they seem to be lost in ether. Can someone see the picture i posted?</p>



<a name="154022376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022376">(Dec 02 2018 at 19:39)</a>:</h4>
<p>anyway, it is here:<br>
ftp://ftp.ihe.net/Pharmacy/yr6_2014-2015/Technical_Committee/Whitepapers/MedicationManagement/MedicationManagementRelatedConceptsandDefinitions_2014.10.02.docx</p>



<a name="154022377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022377">(Dec 02 2018 at 19:44)</a>:</h4>
<p>in case my other messages were lost: Use List, and use the resources for what they mean. a prescription means a prescription, a dispense another. a statement does not overlap any of those</p>



<a name="154022378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154022378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154022378">(Dec 02 2018 at 19:45)</a>:</h4>
<p>and re-posting the picture <a href="/user_uploads/10155/KNYsH7N1F1maQKlIhyjqylUg/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/KNYsH7N1F1maQKlIhyjqylUg/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/KNYsH7N1F1maQKlIhyjqylUg/pasted_image.png"></a></div>



<a name="154024346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154024346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154024346">(Dec 11 2018 at 02:42)</a>:</h4>
<p>Even if a medication order has expired, that doesn't necessarily mean the patient has finished taking it.  They may not have started when it was first prescribed - or even when it was first dispensed.  They may also have taken a break, then resumed.  The best you can do is make categorical statements of "very likely taking", "possibly taking", "unlikely to still be taking" and "no evidence of taking".</p>



<a name="154025863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20all%20active%20medications/near/154025863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20all.20active.20medications.html#154025863">(Dec 16 2018 at 10:34)</a>:</h4>
<p>yes, and if you do those statements, they are your local interpretation. When we discussed this in IHE a few years ago, there were two ideas:<br>
1. We can make assertions based on the data and send those assertions as well, but it is nice to send the actual data in case your assertions are not following the same rules on both ends of the wire<br>
2. We could (can we?) code some of those assertions or interpretations, e.g. "give me the "active" list of meds , where "active" means xxxxxxxxx..</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
