---
layout: page
title: "FHIR Chat  · References to elements? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html">References to elements?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="263323825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263323825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263323825">(Dec 01 2021 at 17:12)</a>:</h4>
<p>I have a use case where I need to point to a specific attachment inside of a DocumentReference. I was planning to do something like:</p>
<div class="codehilite"><pre><span></span><code>&quot;extension&quot;: [{
  &quot;url&quot;: &quot;https://examle.org/derived-from-attachment&quot;,
  &quot;valueSomething&quot;: {} //???  &quot;DocumentReference/123#abc&quot;
}]
</code></pre></div>
<p>... assuming that <code>#abc</code> is an element id for a specific attachment in <code>DocumentReference/123</code>.</p>
<p>I was initially planning to use a <code>valueReference</code>, but I think that's invalid because I'm not pointing to a <em>resource</em> but rather an <em>element</em>. So, I'm now planning to use a <code>valueUri</code> here to point to a specific attachment.</p>
<p>Does this make sense? Has anyone else used this approach or found something they like better?</p>



<a name="263325660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263325660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263325660">(Dec 01 2021 at 17:25)</a>:</h4>
<p>There is an approved CR from FHIR-I that addresses this but has not been applied. This was approved 16 months ago. I have been waiting for it to be applied as I have CR for Provenance to use it.   <a href="https://jira.hl7.org/browse/FHIR-21284">https://jira.hl7.org/browse/FHIR-21284</a></p>



<a name="263325730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263325730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263325730">(Dec 01 2021 at 17:26)</a>:</h4>
<p>there is no indication in that CR on how FHIR-I expected to solve the need.</p>



<a name="263325998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263325998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263325998">(Dec 01 2021 at 17:27)</a>:</h4>
<p>Yeah, that's not a super helpful resolution, but it's good to know about this. For my use case, I don't think I'd want an extension inside the <code>valueReference</code> of my extension...</p>



<a name="263326842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263326842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263326842">(Dec 01 2021 at 17:33)</a>:</h4>
<p>im not sure I follow you...  is this not what you are trying to do? A Reference not just to a Resource but an element within a Resource?</p>



<a name="263326964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263326964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263326964">(Dec 01 2021 at 17:33)</a>:</h4>
<p>your use-case does bring up a question of not just a named element, but an indexable element.</p>



<a name="263332499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263332499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263332499">(Dec 01 2021 at 18:10)</a>:</h4>
<p>I'm just saying that the following "feels OK" to me in terms of usability:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
  <span class="nt">"resourceType"</span><span class="p">:</span> <span class="s2">"Condition"</span><span class="p">,</span>
  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"789"</span><span class="p">,</span>
  <span class="nt">"extension"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"https://example.org/derived-from-attachment"</span><span class="p">,</span>
    <span class="nt">"valueUri"</span><span class="p">:</span> <span class="s2">"DocumentReference#123"</span>
  <span class="p">}]</span>
<span class="p">}</span>
</code></pre></div>
<p>... whereas the following seems (to me) like it crosses some kind of line into "difficult territory":</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
  <span class="nt">"resourceType"</span><span class="p">:</span> <span class="s2">"Condition"</span><span class="p">,</span>
  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"789"</span><span class="p">,</span>
  <span class="nt">"extension"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"https://example.org/derived-from-attachment"</span><span class="p">,</span>
    <span class="nt">"valueReference"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"reference"</span><span class="p">:</span> <span class="s2">"DocumentReference/123"</span><span class="p">,</span>
      <span class="nt">"extension"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"http://hl7.org/fhir/StructureDefinition/Reference-targetElement"</span><span class="p">,</span>
        <span class="nt">"valueUri"</span><span class="p">:</span> <span class="s2">"abc"</span>
      <span class="p">}]</span>
    <span class="p">}</span>
  <span class="p">}]</span>
<span class="p">}</span>
</code></pre></div>



<a name="263333652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263333652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263333652">(Dec 01 2021 at 18:18)</a>:</h4>
<p>well, I was hoping that your engagement would solve this for more use-cases. But if you see a general solution as combersome, than I am not sure I can convince you otherwise.</p>



<a name="263336601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263336601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263336601">(Dec 01 2021 at 18:38)</a>:</h4>
<p>Let me noodle on this. Fundamentally I think a FHIR "Reference" is supposed to be a pointer  to a resource (not an arbitrary element), so the idea of using an extension to change this would at the very least be a "modiferExtension", which is always a bit of a red flag.</p>



<a name="263337044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263337044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263337044">(Dec 01 2021 at 18:42)</a>:</h4>
<p>I think the intent of the use-cases I have are that it is a pointer to a Resource, with emphasis on an element(s) within that Resource. Not a pointer to ONLY the element within a Resource.   <br>
I was also looking for something in core, something in R5. Not sure it needs to be an extension in my case. In your case, urgency might drive that an extension must be used.</p>



<a name="263337140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263337140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263337140">(Dec 01 2021 at 18:42)</a>:</h4>
<p>but, that question of what is the meaning of an element pointer is a good question</p>



<a name="263337321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263337321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263337321">(Dec 01 2021 at 18:44)</a>:</h4>
<p>seems any element pointer would have that question</p>



<a name="263337475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263337475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263337475">(Dec 01 2021 at 18:45)</a>:</h4>
<p>The use-cases for this that I am aware of:<br>
Provenance -- where one wants to record a provenance statement of a subset of a target Resource. I provided the data in the X element. -- <a href="http://jira.hl7.org/browse/FHIR-23076">FHIR-23076</a></p>



<a name="263337508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263337508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263337508">(Dec 01 2021 at 18:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191651">@Rik Smithies</span> has commented on the FHIR-I approved CR</p>



<a name="263337640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263337640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263337640">(Dec 01 2021 at 18:46)</a>:</h4>
<p>as has <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span> (I think)</p>



<a name="263338148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263338148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263338148">(Dec 01 2021 at 18:49)</a>:</h4>
<p>And my use case is just: pointing to a specific Attachment.</p>



<a name="263340854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263340854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263340854">(Dec 01 2021 at 19:05)</a>:</h4>
<p>I don't follow the use case. The intent of a document reference is that's what you reference - a wrapper around an attachment with metadata</p>



<a name="263343505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263343505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263343505">(Dec 01 2021 at 19:22)</a>:</h4>
<p>The use  case is to point to a specific attachment (e.g., if a DocumentReference has more than one).</p>
<p>In the general case, a DocumentReference can include a whole array of attachments (e.g., different formats of the same content), and the aim here is to be able to say things like "This Condition was derived from bytes 300-325 of a particular attachment". So if I have a DocRef containing a .txt and .pdf attachment with the same clinical content, I want a way to point specifically to the .txt file.</p>



<a name="263343653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263343653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263343653">(Dec 01 2021 at 19:23)</a>:</h4>
<p>(Haven't shared a full proposal yet; I was trying to iron out this one detail of how to point to an Attachment first.)</p>



<a name="263344073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344073">(Dec 01 2021 at 19:26)</a>:</h4>
<p>seems like a very Provenance like use-case... :-)</p>



<a name="263344076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344076">(Dec 01 2021 at 19:26)</a>:</h4>
<blockquote>
<p>I don't follow the use case. </p>
</blockquote>
<p>Let me know if this helps <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="263344211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344211">(Dec 01 2021 at 19:27)</a>:</h4>
<p>how do you intend to further refine to bytes 300-325?</p>



<a name="263344372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344372">(Dec 01 2021 at 19:27)</a>:</h4>
<p>well, it certainly seems very much what the extension is for - 'and I mean this particular element is of interest in the target resource'</p>



<a name="263344556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344556">(Dec 01 2021 at 19:28)</a>:</h4>
<p>but also, why are you using an extension for the reference in the first place. How is this not Condition.evidence.detail?</p>



<a name="263344611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344611">(Dec 01 2021 at 19:29)</a>:</h4>
<blockquote>
<p>how do you intend to further refine to bytes 300-325?</p>
</blockquote>
<p>There's a team at MS looking to make a proposal for NLP annotations as a FHIR Core (complex) extension, if we can work out something simple enough.</p>



<a name="263344795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344795">(Dec 01 2021 at 19:30)</a>:</h4>
<blockquote>
<p>How is this not Condition.evidence.detail?</p>
</blockquote>
<p>Aim is many kinds of derived resources with a consistent approach, not just Conditions.</p>



<a name="263344814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344814">(Dec 01 2021 at 19:30)</a>:</h4>
<p>it might not have been clear that in Provenance there is both a need to say here is the provenance for that specific element in that resource, but also when I created some target, I used (Provenance.entity) this specific element from this specific resource (which seems like Josh use-case). Provenance use-cases are waiting for the FHIR-I CR to get applied.</p>



<a name="263344931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263344931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263344931">(Dec 01 2021 at 19:31)</a>:</h4>
<p>it does seem like provenance to me - need a profile on provenance that provides the details</p>



<a name="263345089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263345089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263345089">(Dec 01 2021 at 19:32)</a>:</h4>
<p>FHIR-I approved, but not yet applied -- <a href="http://jira.hl7.org/browse/FHIR-23076">FHIR-23076</a></p>



<a name="263345138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263345138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263345138">(Dec 01 2021 at 19:32)</a>:</h4>
<p>Agreed that Provenance can convey these semantics; still, externalizing this information into Provenance is going to a tough sell. Same basic reason we see Meta.source used even though Provenance can tell this story.</p>



<a name="263345811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263345811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263345811">(Dec 01 2021 at 19:36)</a>:</h4>
<p>Josh, I am not saying something else should never be done (see fiveWs), but creating extensions for the same function seems like bad governance.  Meaning, I would like you to help get Provenance to be functional for your use-cases, rather than building something else because Provenance seems not usable.  but, I don't have the vsibility into your project that you do.</p>



<a name="263346163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263346163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263346163">(Dec 01 2021 at 19:38)</a>:</h4>
<p>there is an extension to forward reference Provenance. And that would be better than using a really complex extension. Or you put a contained provenance in the resource (no need to forward reference it, and the target reference is just #)</p>



<a name="263346739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263346739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263346739">(Dec 01 2021 at 19:42)</a>:</h4>
<p>yes, but we still don't have, even in Provenance, the ability to say this specific element at this Proveanance.entity.what <br>
so,  as much as I want to push Provenance upon Josh... It still does not solve his specific "element" need... until FHIR-I updates <a href="http://build.fhir.org">build.fhir.org</a> to explain what that kind of a Reference looks like.</p>



<a name="263346844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263346844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263346844">(Dec 01 2021 at 19:43)</a>:</h4>
<p>I put it on my todo list for today or tomorrow</p>



<a name="263346859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263346859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263346859">(Dec 01 2021 at 19:43)</a>:</h4>
<p>thus, short term we need an extension for the "this element within..." this Reference.   but that extension should look very much like what FHIR-I intends for R5 Reference use-case</p>



<a name="263370038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263370038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Alper <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263370038">(Dec 01 2021 at 23:01)</a>:</h4>
<p>Would a "path" element of datatype uri be relevant for "this element within..."?  This is what we are using in ArtifactAssessment Resource when referring to a specific element within the referenced resource.</p>



<a name="263372357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263372357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263372357">(Dec 01 2021 at 23:25)</a>:</h4>
<p>My use case is for an element level Provenance target. A simple extension like Josh showed would do (i.e. extension/valueUrl). But it could also work outside of Provenance. <br>
I don't see the need for an extension that has more than just a single element reference. If you need a list (mentioned in some of the jira referenced threads) then just repeat the extension, keeping it simpler for the majority of cases.</p>



<a name="263465195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263465195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263465195">(Dec 02 2021 at 16:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> Thinking about the use of Provenance here -- let's say I have a whole bunch of resources derived from a single source document, and a whole bunch of individual elements within these resources for which even more detailed attribution can be expressed. So I want to say things like:</p>
<ul>
<li>Condition 123 came from this source doc, character range X</li>
<li>Condition 123's status came from this source doc X'</li>
<li>Condition 123's onset date came from this source doc X''</li>
<li>Condition 456 came from this source doc, character range Y</li>
<li>Condition 456's status came from this source doc Y'</li>
<li>Condition 456's onset date came from this source doc Y''</li>
</ul>
<p>Is there a way to do this with just one Provenance instance, or would I need 2 or 6?</p>



<a name="263465639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263465639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263465639">(Dec 02 2021 at 16:43)</a>:</h4>
<p>I think that would need 6. The way it is today. Your need is not been presented before</p>



<a name="263466242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263466242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263466242">(Dec 02 2021 at 16:47)</a>:</h4>
<p>Understood! Just trying to work through some examples and get an intuition here.</p>



<a name="263471094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263471094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263471094">(Dec 02 2021 at 17:19)</a>:</h4>
<p>A single Provenance can have more than one target, so a single change can point at Condition 123 and 456, and could have several extensions to say which elements were affected. So it could be less than 6. But you would need at least one for doc X and doc Y, because they are different "changes" I assume. <br>
I suppose it depends if we consider that a single "change process" (the source doc)  can cause <em>multiple</em> FHIR level changes. I don't see why it cannot - they are conceptually part of one change. But if there are 2 change processes (2 documents, or 2 users doing different things) then that would presumably need 2 provenances.</p>



<a name="263482416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263482416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263482416">(Dec 02 2021 at 18:41)</a>:</h4>
<p>In a "plain old extension" world, this is pretty easy: you just decorate each resource and element with  a "came from NLP of ..." extension. It's less generic/abstract, which is part of what makes it more ergonomic.</p>



<a name="263485135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263485135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263485135">(Dec 02 2021 at 19:01)</a>:</h4>
<p>ergonomics is a matter of perspective. If an NLP system constructs a resource and litters it with NPL process related extensions, what should another system do when it updates a value? preserve the extensions, or strip some of them, or all of them? </p>
<p>I really think that having the NLP traceability in a separate resource has a lot going for it, even if it's more complex initially</p>



<a name="263488696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263488696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263488696">(Dec 02 2021 at 19:27)</a>:</h4>
<p>FWIW, I believe my prior use cases were all around provenance, per</p>
<ul>
<li><a href="#narrow/search/pop.20and.20health.20and.20person.20and.20patient.20and.20provenance">https://chat.fhir.org/#narrow/search/pop.20and.20health.20and.20person.20and.20patient.20and.20provenance</a> </li>
<li><a href="#narrow/stream/179166-implementers/topic/Source.20of.20information">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Source.20of.20information</a> </li>
</ul>
<p>Both of which led me to log <a href="http://jira.hl7.org/browse/FHIR-20583">J#20583</a> summarizing my two use cases (resolved in 2019, but not applied yet)</p>



<a name="263806246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263806246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263806246">(Dec 06 2021 at 03:53)</a>:</h4>
<p><a href="http://build.fhir.org/extension-targetelement.html">http://build.fhir.org/extension-targetelement.html</a> and <a href="http://build.fhir.org/extension-targetpath.html">http://build.fhir.org/extension-targetpath.html</a></p>



<a name="263843951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/263843951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#263843951">(Dec 06 2021 at 12:43)</a>:</h4>
<p>Can we work up the Provenance examples that <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span> indicated as examples of how to use this in Provenance? I am not exactly sure what it looks like in use.</p>



<a name="265793151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/265793151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#265793151">(Dec 22 2021 at 11:24)</a>:</h4>
<p>I added some examples</p>



<a name="265802687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/References%20to%20elements%3F/near/265802687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/References.20to.20elements.3F.html#265802687">(Dec 22 2021 at 13:12)</a>:</h4>
<p>ah, I had not seen those show up on build Provenance examples.</p>
<ul>
<li>Targeted Provenance Example #1 -- this is a .target use with  targetElement extension. that is to an element by .id.</li>
<li>Targeted Provenance Example #2 -- similar</li>
<li>Targeted Provenance Example #3 -- this is a .target use with targetPath extension.<br>
These address the first usecase in <a href="http://jira.hl7.org/browse/FHIR-20583">FHIR-20583</a>, the second more of the same but use with the extension in .entity.</li>
</ul>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
