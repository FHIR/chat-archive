---
layout: page
title: "FHIR Chat  · Use of HTML entities in JSON narrative · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html">Use of HTML entities in JSON narrative</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="161247204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20HTML%20entities%20in%20JSON%20narrative/near/161247204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ruben Pape <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html#161247204">(Mar 20 2019 at 13:35)</a>:</h4>
<p>Hi, I have a question regarding the use of HTML entities in the narrative when using JSON as representation format. The STU3 specs mention the following about this (<a href="http://www.hl7.org/fhir/STU3/narrative.html" target="_blank" title="http://www.hl7.org/fhir/STU3/narrative.html">http://www.hl7.org/fhir/STU3/narrative.html</a>): <br>
"Note that the XHTML is contained in general XML so there is no support for HTML entities like &amp;nbsp; or &amp;copy; etc. Unicode characters SHALL be used instead. Unicode &amp;#160; substitutes for &amp;nbsp;."<br>
This phrase refers to a narrative in XML format, but it is unclear if the same applies to narratives in JSON. Could someone clarify this? Thanks!</p>



<a name="161248978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20HTML%20entities%20in%20JSON%20narrative/near/161248978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html#161248978">(Mar 20 2019 at 13:54)</a>:</h4>
<p>It applies to JSON too.</p>



<a name="161249426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20HTML%20entities%20in%20JSON%20narrative/near/161249426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ruben Pape <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html#161249426">(Mar 20 2019 at 13:59)</a>:</h4>
<p>Ok clear, thanks! What's the reason to apply this constraint on JSON too, if I may ask?</p>



<a name="161256726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20HTML%20entities%20in%20JSON%20narrative/near/161256726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html#161256726">(Mar 20 2019 at 15:15)</a>:</h4>
<p>The data needs to be portable between the JSON, XML and RDF</p>



<a name="161257625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20HTML%20entities%20in%20JSON%20narrative/near/161257625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ruben Pape <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html#161257625">(Mar 20 2019 at 15:24)</a>:</h4>
<p>Right, that makes sense. Thanks!</p>



<a name="161750152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20HTML%20entities%20in%20JSON%20narrative/near/161750152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gijsbert van den Brink <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html#161750152">(Mar 26 2019 at 10:56)</a>:</h4>
<p>Then hapi-fhir outputs invalid JSON. When using XML, HTML entities in narratives are converted to their unicode characters, but not when using JSON. I made a bug report on GitHub a while ago: <a href="https://github.com/jamesagnew/hapi-fhir/issues/1160" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/1160">https://github.com/jamesagnew/hapi-fhir/issues/1160</a></p>



<a name="161768952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20HTML%20entities%20in%20JSON%20narrative/near/161768952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html#161768952">(Mar 26 2019 at 14:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="162898488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20HTML%20entities%20in%20JSON%20narrative/near/162898488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gijsbert van den Brink <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20HTML.20entities.20in.20JSON.20narrative.html#162898488">(Apr 09 2019 at 10:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Can you please confirm that this is a bug in hapi-fhir? And if it is, any idea when this can be fixed?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
