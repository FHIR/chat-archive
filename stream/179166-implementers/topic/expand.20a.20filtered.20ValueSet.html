---
layout: page
title: "FHIR Chat  · expand a filtered ValueSet · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/expand.20a.20filtered.20ValueSet.html">expand a filtered ValueSet</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="172026508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/expand%20a%20filtered%20ValueSet/near/172026508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katarina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/expand.20a.20filtered.20ValueSet.html#172026508">(Jul 30 2019 at 10:59)</a>:</h4>
<p>When I expand a filtered ValueSet I get the following error "ConceptSets with a filter are not yet supported".</p>
<p>&lt;ValueSet xmlns="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
    &lt;id value="communityFacility"/&gt;<br>
    &lt;url value="https://example.de/fhir/ValueSet/communityFacility"/&gt;<br>
    &lt;version value="0.1"/&gt; <br>
    &lt;name value="CommunityFacility"/&gt; <br>
    &lt;status value="draft"/&gt; <br>
    &lt;description value="Types of organisation, including only community facilities"/&gt; <br>
    &lt;compose&gt; <br>
        &lt;include&gt; <br>
            &lt;system value="https://example.de/fhir/CodeSystem/organisationType"/&gt; <br>
            &lt;filter&gt; <br>
                &lt;property value="concept"/&gt; <br>
                &lt;op value="descendent-of"/&gt; <br>
                &lt;value value="2010100"/&gt; <br>
            &lt;/filter&gt; <br>
        &lt;/include&gt; <br>
    &lt;/compose&gt; <br>
&lt;/ValueSet&gt;</p>
<p>Is expand function not allowed for filtered ValueSets or did I something wrong?</p>



<a name="172054498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/expand%20a%20filtered%20ValueSet/near/172054498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katarina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/expand.20a.20filtered.20ValueSet.html#172054498">(Jul 30 2019 at 16:45)</a>:</h4>
<p>I am using vonk and do POST <a href="http://example.de/vonk/administration/ValueSet/$expand" target="_blank" title="http://example.de/vonk/administration/ValueSet/$expand">http://example.de/vonk/administration/ValueSet/$expand</a> with <br>
&lt;Parameters xmlns="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
                &lt;parameter&gt;<br>
                               &lt;name value="url" /&gt;<br>
                               &lt;valueString<br>
value="<a href="https://example.de/fhir/ValueSet/communityFacility" target="_blank" title="https://example.de/fhir/ValueSet/communityFacility">https://example.de/fhir/ValueSet/communityFacility</a>" /&gt;<br>
                &lt;/parameter&gt;<br>
&lt;/Parameters&gt;<br>
in body.<br>
Can anybody help?</p>



<a name="172058280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/expand%20a%20filtered%20ValueSet/near/172058280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/expand.20a.20filtered.20ValueSet.html#172058280">(Jul 30 2019 at 17:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> ?</p>



<a name="172090780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/expand%20a%20filtered%20ValueSet/near/172090780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/expand.20a.20filtered.20ValueSet.html#172090780">(Jul 31 2019 at 01:13)</a>:</h4>
<p>This may be a Vonk limitation, but there's such no limit on <code>$expand</code> and ValueSets that use a filter (indeed, that's exactly the purpose of <code>$expand</code>).</p>
<p>Note, however, you do have a type error in your Parameters resource - it should be <code>valueUri</code> not <code>valueString</code>:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;Parameters</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;parameter&gt;</span>
<span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;url&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;valueUri</span>
<span class="na">value=</span><span class="s">&quot;https://example.de/fhir/ValueSet/communityFacility&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/parameter&gt;</span>
<span class="nt">&lt;/Parameters&gt;</span>
</pre></div>



<a name="172114720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/expand%20a%20filtered%20ValueSet/near/172114720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katarina <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/expand.20a.20filtered.20ValueSet.html#172114720">(Jul 31 2019 at 10:13)</a>:</h4>
<p>Ok, thank you.</p>



<a name="173655741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/expand%20a%20filtered%20ValueSet/near/173655741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/expand.20a.20filtered.20ValueSet.html#173655741">(Aug 20 2019 at 13:10)</a>:</h4>
<p><span class="user-mention" data-user-id="221154">@Katarina</span> : As <span class="user-mention" data-user-id="191343">@Michael Lawley</span> guessed correctly, this is a limitation of the implementation in Vonk (that is why we report that it is not supported, otherwise we would report that your request is incorrect). This is also mentioned in the documentation: <a href="http://docs.simplifier.net/vonk/features/terminology.html#valueset-expand" target="_blank" title="http://docs.simplifier.net/vonk/features/terminology.html#valueset-expand">http://docs.simplifier.net/vonk/features/terminology.html#valueset-expand</a>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
