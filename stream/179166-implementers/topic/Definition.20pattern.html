---
layout: page
title: "FHIR Chat  · Definition pattern · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html">Definition pattern</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175822550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175822550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175822550">(Sep 16 2019 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <br>
Is there a particular reason why NamingSystem doesn't have a url or version like all of the other resources that map to the definition pattern:<br>
<a href="http://hl7.org/fhir/definition.html" target="_blank" title="http://hl7.org/fhir/definition.html">http://hl7.org/fhir/definition.html</a></p>



<a name="175825844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175825844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175825844">(Sep 16 2019 at 15:58)</a>:</h4>
<p>Yes.  NamingSystem can have multiple URLs and uses the 'preferred' flag to indicate which is the appropriate one for use.  It's also not something one can bind to or declare conformance to, so 'version' isn't really necessary.  (We do have 'period' on each identifier to indicate when they were valid.)  The purpose of having a canonical is that it's a single reliable identifier that can't change.  With naming systems, sometimes it could change.  (We don't <em>like</em> it when that happens, but sometimes business processes make it unavoidable - e.g. when two systems independently define different URLs for the same system and then later one of them needs to migrate.)  Also, having a distinct canonical URL that's independent from the actual URLs to use in the instances would have been confusing.</p>



<a name="175827184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175827184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175827184">(Sep 16 2019 at 16:12)</a>:</h4>
<p>please make a task. It's reasonable for NamingSystem to be consistent, and to have a url for tracking the registration</p>



<a name="175848859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175848859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175848859">(Sep 16 2019 at 20:23)</a>:</h4>
<p>We've had a task.  And rejected that task.  If we're going to revisit, we need considerations not covered by the previously submitted request and would need to vote to re-open the discussion.</p>



<a name="175862178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175862178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175862178">(Sep 16 2019 at 23:22)</a>:</h4>
<p>the canonical would be the URL of the <em>registration</em> not the actual system. that apparently is not a consideration from the previous request.</p>



<a name="175862234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175862234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175862234">(Sep 16 2019 at 23:23)</a>:</h4>
<p>I do not understand why NamingSystem is somehow different in terms of it's own handling and publishing and why we refuse to acknowledge the frequent requests to normalise these</p>



<a name="175862801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175862801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175862801">(Sep 16 2019 at 23:35)</a>:</h4>
<p>NamingSystem's whole purpose is to manage URLs - and the one that's "preferred" is dynamic.  Creating <em>yet another</em> URL for the system purely for consistency's sake is invariably going to create confusion and mis-use.  If we give guidance that that canonical URL should be the preferred URL, what happens if the preferred URL changes?  How do you merge two NamingSystems when you realize that they're talking about the same thing?  If we give guidance that the canonical URL for the naming system should be distinct from the preferred URL, how do we prevent people from using it by accident?  What happens if people want to use the [base]/NamingSystem/id as their canonical URL?  (Which I consider best practice in many cases)</p>



<a name="175862883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175862883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175862883">(Sep 16 2019 at 23:36)</a>:</h4>
<p>Adding NamingSystem.url is going to cause pain for the users in order to save pain for tool-smiths.  I'd much rather cause pain to tool-smiths and save pain for those who are using NamingSystem to manage systems.</p>



<a name="175862919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175862919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175862919">(Sep 16 2019 at 23:37)</a>:</h4>
<blockquote>
<p>Creating yet another URL for the system </p>
</blockquote>
<p>That's exactly what I didn't say.</p>



<a name="175863799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175863799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175863799">(Sep 16 2019 at 23:52)</a>:</h4>
<p>If the NamingSystem.url is the "preferred" URL, what happens when the preferred URL changes?  It's the <em>same</em> NamingSystem.  We don't allow that to happen for anything else that has a canonical URL.  Also, what sense does "version" make for a NamingSystem?</p>



<a name="175863844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175863844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175863844">(Sep 16 2019 at 23:53)</a>:</h4>
<p>NamingSystem.url would be the url of the naming system record, not the system. And version makes sense, so that you can talk about which version of the registration you have - which is most recent</p>



<a name="175864023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175864023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175864023">(Sep 16 2019 at 23:56)</a>:</h4>
<p>Can the NamingSystem.url be one of the NamingSystem.identifier.values?</p>



<a name="175915748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175915748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175915748">(Sep 17 2019 at 15:10)</a>:</h4>
<p>Just as a follow-up, this section of the spec:<br>
<a href="http://hl7.org/fhir/references.html#canonical" target="_blank" title="http://hl7.org/fhir/references.html#canonical">http://hl7.org/fhir/references.html#canonical</a><br>
mentions NamingSystem as something that has a "defined url element"</p>



<a name="175916062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175916062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175916062">(Sep 17 2019 at 15:13)</a>:</h4>
<blockquote>
<p>Can the NamingSystem.url be one of the NamingSystem.identifier.values?</p>
</blockquote>
<p>I think it shouldn't be. It isn't the system that it identifies, it's the registration record. So it shouldn't be the same identifier</p>



<a name="175947378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175947378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175947378">(Sep 17 2019 at 20:46)</a>:</h4>
<p>Ideally, you want the canonical URL to resolve to something - and you want it to resolve stably and reliably.  Having the url be the instance URL for the NamingSystem registry ensures that.</p>



<a name="175965595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175965595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175965595">(Sep 18 2019 at 02:18)</a>:</h4>
<p>But that would prevent you from having several repos with distributed copies of the NamingSystem artifacts. That's why you resolve these by searching on url in a repo - and you would not be able to do so if NamingSystem did not have an url.</p>



<a name="175965690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175965690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175965690">(Sep 18 2019 at 02:20)</a>:</h4>
<p>"Lloyd McKenzie 19:52   <br>
If the NamingSystem.url is the "preferred" URL, what happens when the preferred URL changes? It's the same NamingSystem."</p>
<p>That's the <em>perfect</em> argument for having a canonical and NOT using the preferred URL for it.  The real key of a NamingSystem is an independent canonical, not one of the (possibly changing) uniqueIdentifiers.</p>



<a name="175966679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175966679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175966679">(Sep 18 2019 at 02:51)</a>:</h4>
<p>If the preferred URL of a NamingSystem is the url of the NamingSystem on the registry where it lives, you don't have to worry about it changing - because it's not subject to the organizational changes and/or website redesign of the system owner.  It's a stable FHIR-specific URL.</p>



<a name="175966723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/175966723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#175966723">(Sep 18 2019 at 02:52)</a>:</h4>
<p>You can search for the NamingSystem by URL now - it would match on the URLs that are 'identifiers' for that NamingSystem</p>



<a name="176006285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/176006285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#176006285">(Sep 18 2019 at 13:47)</a>:</h4>
<p>No, I mean that it's almost never the url of the registry.  I would not want a namingsystem to have "simplifier" in its canonical for example. We are looking for a stable canonical that can remain the same across registries for the same NamingSystem, and that does not change when the list of identifiers or the preferred identifier changes, since this canonical might be used in other artifacts to refer to the NamingSystem.</p>



<a name="176008203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Definition%20pattern/near/176008203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Definition.20pattern.html#176008203">(Sep 18 2019 at 14:09)</a>:</h4>
<p>In Canada, most of our entries have "<a href="http://infoway-inforoute.ca/fhir/NamingSystem" target="_blank" title="http://infoway-inforoute.ca/fhir/NamingSystem">http://infoway-inforoute.ca/fhir/NamingSystem</a>" as the root of their canonical URLs - for provincial licensing bodies, etc.  Not all (if someone has a URL and are confident it'll be consistent, we'll use that instead), but that's the default.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
