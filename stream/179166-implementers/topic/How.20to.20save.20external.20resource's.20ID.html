---
layout: page
title: "FHIR Chat  · How to save external resource&#x27;s ID · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html">How to save external resource&#x27;s ID</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173885842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173885842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173885842">(Aug 22 2019 at 14:10)</a>:</h4>
<p>Here is the use case: Hospital A send a resource (e.g. Condition to Hospital B. Hospital B create its own Condition resource with internal id. Hospital B also wants to keep track of Hospital A's id so that it can avoid creating duplicated record when Hospital A send an update of this Condition. Where, in FHIR resource, can external id be saved? I am thinking using identifier field. Is that correct?</p>



<a name="173886476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173886476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173886476">(Aug 22 2019 at 14:17)</a>:</h4>
<p>Maybe you can leverage the common <code>Meta.source</code> field?<br>
<a href="http://hl7.org/fhir/resource-definitions.html#Meta.source" target="_blank" title="http://hl7.org/fhir/resource-definitions.html#Meta.source">http://hl7.org/fhir/resource-definitions.html#Meta.source</a></p>



<a name="173887468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173887468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173887468">(Aug 22 2019 at 14:29)</a>:</h4>
<p>We do use Identifier for that purpose - value = remote id, system = 'synthetic' URI identifying the remote</p>



<a name="173887739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173887739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173887739">(Aug 22 2019 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> That is a good idea but I forgot to mention that I am using STU3. Meta.source was introduced in R4.</p>



<a name="173887945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173887945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173887945">(Aug 22 2019 at 14:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> Do you also populate Identifier.use and Identifier.type? If so, what the value should be?</p>



<a name="173888017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173888017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173888017">(Aug 22 2019 at 14:34)</a>:</h4>
<p>Requiring an identifier seems reasonable in that case.<br>
Ideally this would be set by Hospital A, so they can do a Conditional Update using it (assuming you are using the RESTful API).</p>



<a name="173888218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173888218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173888218">(Aug 22 2019 at 14:37)</a>:</h4>
<p>No, we do not populate use or type</p>



<a name="173888430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173888430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173888430">(Aug 22 2019 at 14:39)</a>:</h4>
<p>Please keep in mind that many, but not all resources define an <code>.identifier</code> field.</p>



<a name="173888445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173888445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173888445">(Aug 22 2019 at 14:39)</a>:</h4>
<p>Regarding the value:<br>
You could either have identifier.system like '<a href="http://hospital-a.com/fhir/identifiers/condition" target="_blank" title="http://hospital-a.com/fhir/identifiers/condition">http://hospital-a.com/fhir/identifiers/condition</a>' with identifier.value simply being identical to the id of the resource in hospital A.<br>
Or just use UUIDs</p>



<a name="173888568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173888568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173888568">(Aug 22 2019 at 14:41)</a>:</h4>
<p>This came up in the $import discussion. In the <a href="https://docs.google.com/document/d/1e9YYtDxc2Yed2RWU27jPLhfyIH0d6IH5Y9ligJUBFZE/edit" target="_blank" title="https://docs.google.com/document/d/1e9YYtDxc2Yed2RWU27jPLhfyIH0d6IH5Y9ligJUBFZE/edit">May 2019 connectathon doc</a> ("Guidance for servers -- preserving Resource ids") it is proposed to preserve them in an extension to Resource.meta. However, this is just a proposal specific to import.</p>



<a name="173888595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173888595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173888595">(Aug 22 2019 at 14:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> true. So this might not be the global solution, but a 80% solution fulfilling 100% of the need in case of Condition ;-)</p>



<a name="173889393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173889393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173889393">(Aug 22 2019 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="197072">@Paul Church</span> If it's useful elsewhere, maybe it shouldn't be specific to $import ?</p>



<a name="173890066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173890066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173890066">(Aug 22 2019 at 14:59)</a>:</h4>
<p>Yes - since $import is meant to be a core part of how bulk data is synced between such systems, it will create conventions that can be used in general. I'm just saying this specific proposal is at an early stage.</p>



<a name="173892897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20save%20external%20resource%27s%20ID/near/173892897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20save.20external.20resource&#x27;s.20ID.html#173892897">(Aug 22 2019 at 15:32)</a>:</h4>
<p>My recommendation has been to capture the full URL for the original identifer as Identifier.value and set the Identifier.system to urn:ietf:rfc:3986.  That way you're not creating 'fake' identifier.systems.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
