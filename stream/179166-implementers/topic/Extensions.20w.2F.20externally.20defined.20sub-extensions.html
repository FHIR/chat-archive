---
layout: page
title: "FHIR Chat  · Extensions w/ externally defined sub-extensions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20w.2F.20externally.20defined.20sub-extensions.html">Extensions w/ externally defined sub-extensions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153869300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20w/%20externally%20defined%20sub-extensions/near/153869300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20w.2F.20externally.20defined.20sub-extensions.html#153869300">(Jan 26 2017 at 22:44)</a>:</h4>
<p>Complex extensions use sub-extensions to define their parts.  In the examples I've found, those sub-extensions are always fully defined inline with their parent complex extension.  I, however, would like to define a complex extension with sub-extensions that are fully defined externally (rather than inline).  Is this possible?</p>
<p>For example, I want to define complex extension <a href="http://example.org/foo" target="_blank" title="http://example.org/foo">http://example.org/foo</a> with two sub-extensions: <a href="http://example.org/bar" target="_blank" title="http://example.org/bar">http://example.org/bar</a> (which is a code) and <a href="http://example.org/baz" target="_blank" title="http://example.org/baz">http://example.org/baz</a> (which is a boolean).  If I were to define the sub-extensions inline, then my complex extension would specify the <a href="http://example.org/bar" target="_blank" title="http://example.org/bar">http://example.org/bar</a> extension with a valueCode element and the <a href="http://example.org/baz" target="_blank" title="http://example.org/baz">http://example.org/baz</a> extension with a valueBoolean element.  But suppose that the two sub-extensions are already defined externally for re-use.  Then I just want to reference them by their uri without re-specifying their value[x] elements -- but I think this would fail validation...  Am I right?</p>



<a name="153869395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20w/%20externally%20defined%20sub-extensions/near/153869395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20w.2F.20externally.20defined.20sub-extensions.html#153869395">(Jan 27 2017 at 23:01)</a>:</h4>
<p>In principle, you can define an extension that prohibits value and allows child extensions but doesn't define what those can be.  And it's perfectly possible to define an extension that has as its context another extension.  The child extensions would have to list their full URL though - they couldn't use a "relative" URL like complex extensions would typically use.  Also, whether the validator will support extensions that have, as their context, another extension, I don't know.  I don't know anyone's done it so it's unlikely it's been well tested and may not have been built in yet.</p>



<a name="153869471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20w/%20externally%20defined%20sub-extensions/near/153869471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20w.2F.20externally.20defined.20sub-extensions.html#153869471">(Jan 30 2017 at 13:08)</a>:</h4>
<p>Yes, I think I was getting confused about where and when the invariant applies.  Since invariants apply to the *data*, I see now that I can just reference other extensions (as sub-extensions) in my StructureDefinition -- although I'll take note that it may not be well-tested.  Thanks again!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
