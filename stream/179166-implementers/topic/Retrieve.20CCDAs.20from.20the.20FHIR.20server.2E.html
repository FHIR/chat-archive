---
layout: page
title: "FHIR Chat  · Retrieve CCDAs from the FHIR server. · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html">Retrieve CCDAs from the FHIR server.</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="253755673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/253755673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priya Mathew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#253755673">(Sep 17 2021 at 14:59)</a>:</h4>
<p>Hello!<br>
What's the best approach to reference CCDAs through FHIR. Looking at § 170.315 (g)(9) Application access – all data request , Cures update test procedure , which says the API must respond to requests for patient data (based on an ID or other token) as a CCD document.  Our CCDAs are generated on demand in an external system. The CCDA document doesn't reside anywhere to be referenced within a documentreference as per the US core IG. <br>
Thanks!</p>



<a name="253771372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/253771372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#253771372">(Sep 17 2021 at 16:48)</a>:</h4>
<p>DocumentReference can 'reference', but it can also 'encapsulate'.  So either store your CDA as a Binary and point to it by DocumentReference, or wrap it directly.</p>



<a name="254087111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254087111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priya Mathew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254087111">(Sep 20 2021 at 17:31)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> . Is there a paradigm that can request a CCDA from the FHIR server , a task perhaps that runs in the background and returns the CCDA later? Like the bulk API processing process.</p>



<a name="254089468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254089468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254089468">(Sep 20 2021 at 17:46)</a>:</h4>
<p>No standard operation that I'm aware of.  In general, if you're using FHIR, you probably don't want to consume a CCDA.  So interfaces that generate CCDAs probably aren't FHIR-based.</p>



<a name="254090685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254090685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254090685">(Sep 20 2021 at 17:54)</a>:</h4>
<p><a href="http://hl7.org/fhir/us/core/StructureDefinition-us-core-documentreference.html#mandatory-operation">US Core defines the $docref operation</a> to generate a CCDA for the g9 criteria.</p>



<a name="254090969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254090969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254090969">(Sep 20 2021 at 17:56)</a>:</h4>
<p>Our (Epic's) DSTU2 DocRef/CCDA API predates that operation, so we just "fudge" it and just generate the CCDA documents on-demand when you do a DocRef search -&gt; Binary dereference.  We've actually seen a decent amount of folks using FHIR to get CCDAs.</p>



<a name="254091804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254091804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254091804">(Sep 20 2021 at 18:01)</a>:</h4>
<p>What would an extension look like for adding the R4 ClinicalImpression.supportingInfo property to an STU3 ClinicalImpression?<br>
(would you have an example of what the compliant JSON for this would look like?).  Thanks.</p>



<a name="254093203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254093203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priya Mathew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254093203">(Sep 20 2021 at 18:10)</a>:</h4>
<p>Yes- thank you <span class="user-mention" data-user-id="191764">@Cooper Thompson</span> ! Looking into docref operation.</p>



<a name="254093564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254093564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254093564">(Sep 20 2021 at 18:13)</a>:</h4>
<p>This is the better link to <a href="http://hl7.org/fhir/us/core/OperationDefinition-docref.html">$docref</a></p>



<a name="254095091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254095091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priya Mathew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254095091">(Sep 20 2021 at 18:23)</a>:</h4>
<p>Yes- thanks, I think that's the way we want to go- this addresses my initial question!</p>



<a name="254108727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254108727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254108727">(Sep 20 2021 at 20:00)</a>:</h4>
<p><span class="user-mention" data-user-id="298707">@John Silva</span>  use the backportinh extension described here:  <a href="http://hl7.org/fhir/r4/versions.html#extensions">http://hl7.org/fhir/r4/versions.html#extensions</a></p>



<a name="254195781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254195781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254195781">(Sep 21 2021 at 12:08)</a>:</h4>
<p>much of this is in the IHE Mobile access to Health Documents (MHD), which is a FHIR infrastructure based way to access documents that are managed in XDS/XCA/XDR environments, and has a MHDS companion IG that is full FHIR infrastructure replacing XDS with just a FHIR server. -- MHD is published using the IG publisher and is available on the IHE site <a href="https://profiles.ihe.net/ITI/MHD/">https://profiles.ihe.net/ITI/MHD/</a></p>



<a name="254213193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254213193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254213193">(Sep 21 2021 at 14:11)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191401">@Eric Haas</span>  First, I realized I piggy-backed this question on this topic; I meant to create this as a new topic since it's not really related to CCDA.</p>
<p>Eric, I went looking at the link you gave and I can't see any mention of "backportin" and the few sample extensions seem to just point to the definition of the element from the StructureDefinition for the specific version, not an extension unless I'm not understanding this (I must admit, extensions are still confusing to me -- I know the intent but the mechanism and the JSON format escapes me.</p>



<a name="254220929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254220929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254220929">(Sep 21 2021 at 14:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="298707">John Silva</span> <a href="#narrow/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E/near/254091804">said</a>:</p>
<blockquote>
<p>What would an extension look like for adding the R4 ClinicalImpression.supportingInfo property to an STU3 ClinicalImpression?<br>
(would you have an example of what the compliant JSON for this would look like?).  Thanks.</p>
</blockquote>
<p>something like this...</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;ClinicalImpression&quot;,
  ...
  &quot;extension&quot;: [
    {
      &quot;url&quot;: &quot;http://hl7.org/fhir/4.0/StructureDefinition/extension-ClinicalImpression.supportingInfo&quot;,
      &quot;valueReference&quot;: {
        &quot;reference&quot;: &quot;&lt;string&gt;&quot;,
        &quot;type&quot;: &quot;&lt;uri&gt;&quot;,
        &quot;identifier&quot;: &quot;&lt;{ Identifier }&gt;&quot;,
        &quot;display&quot;: &quot;&lt;string&gt;&quot;
      }
    }
  ],
  ....
}
</code></pre></div>



<a name="254221214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254221214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Priya Mathew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254221214">(Sep 21 2021 at 14:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  thanks! Wasn't aware of this!</p>



<a name="254254404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Retrieve%20CCDAs%20from%20the%20FHIR%20server./near/254254404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E.html#254254404">(Sep 21 2021 at 18:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span>  Thanks!   Is that a 'standard' FHIR STU3 to R4 extension mapping that can be found somewhere?   I was looking at the ClinicalImpression spec page and it has the R3 Diffs tab and also the FHIR mapping language that shows how to convert one to the other but doesn't show supportingInfo field.</p>
<p>Also, one other 'complication'; the supportingInfo is an array of Reference(Any); would that make a difference with the example. you show?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
