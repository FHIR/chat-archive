---
layout: page
title: "FHIR Chat  · immutable document bundle · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html">immutable document bundle</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="276454121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276454121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Wolf <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276454121">(Mar 24 2022 at 10:12)</a>:</h4>
<p>Hi guys,<br>
i am just reading through the document bundle specifications.<br>
"Once assembled into a bundle, the document is immutable - its content can never be changed, and the document id can never be reused." <br>
Does that mean, on a document bundle query I am not even allowed to reconcile patient information referenced in the bundle?<br>
Or is that just related to a signed document bundle?</p>



<a name="276471138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276471138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276471138">(Mar 24 2022 at 12:57)</a>:</h4>
<p>if you reconcile the data, you will be creating a new document, thus a new Bundle, thus a new id.</p>



<a name="276485653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276485653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Florian Wolf <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276485653">(Mar 24 2022 at 14:44)</a>:</h4>
<p>thanks for the answer... so that means a document bundle is always a kind of snapshot.? even if the document is in status preliminary or something like this?</p>



<a name="276499799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276499799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276499799">(Mar 24 2022 at 16:15)</a>:</h4>
<p>correct. specifically a document Bundle is 'the' instantiation of a snapshot. the original content can be made into many instances. We just call each a unique instance. There is relationships, so the lifecycle of replacement etc is visible. But each document Bundle is a snapshot, and thus given a unique id.</p>



<a name="276500279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276500279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276500279">(Mar 24 2022 at 16:18)</a>:</h4>
<p>I don't think it's absolutely black and white. The language you quote is not normative; there are no "shalls" in it that require a certain behaviour or you're not FHIR-compliant. It describes expectations. I can imagine, in some use cases, something like changing the status could be an update, while in others that might be prohibited. My reading of the intent though, is that the content is not expected to be maintained over time--you wouldn't have a "current medications" document.</p>



<a name="276501272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276501272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276501272">(Mar 24 2022 at 16:24)</a>:</h4>
<p>I hope that is not true. -- I created <a href="http://jira.hl7.org/browse/FHIR-36636">FHIR-36636</a></p>



<a name="276502258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276502258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276502258">(Mar 24 2022 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> , in your POV, can a server process the document on receipt, perhaps replacing the included patient with a patient resource on the local server? What about stripping unknown extensions from the content?</p>



<a name="276502572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276502572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276502572">(Mar 24 2022 at 16:32)</a>:</h4>
<p>A server can 'process' the document however it likes - but if it stores something other than the original document as a Binary blob, then if it spits it out again, it's a different document.</p>



<a name="276502613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276502613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276502613">(Mar 24 2022 at 16:33)</a>:</h4>
<p>that would seem to me to be a new document, with a relationship to the old, and provenance as to why the data was changed.</p>



<a name="276502910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276502910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276502910">(Mar 24 2022 at 16:34)</a>:</h4>
<p>document lifecycle is fully defined and supportable.</p>



<a name="276503010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276503010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276503010">(Mar 24 2022 at 16:35)</a>:</h4>
<p>IMHO, Document lifecycle is poorly defined in Bundle.</p>



<a name="276503130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276503130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276503130">(Mar 24 2022 at 16:36)</a>:</h4>
<p>that is what DocumentReference is about</p>



<a name="276504174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276504174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276504174">(Mar 24 2022 at 16:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/179166-implementers/topic/immutable.20document.20bundle/near/276503130">said</a>:</p>
<blockquote>
<p>that is what DocumentReference is about</p>
</blockquote>
<p>...if you're using DocRef in conjunction with Documents. But if you're not, lifecycle becomes much more difficult.</p>



<a name="276505226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276505226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276505226">(Mar 24 2022 at 16:48)</a>:</h4>
<p>well, no problem in my view.. DocumentReference does have a defined scope and purpose.</p>



<a name="276505389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/immutable%20document%20bundle/near/276505389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/immutable.20document.20bundle.html#276505389">(Mar 24 2022 at 16:49)</a>:</h4>
<p>but a document Bundle also has the Composition within, and thus each instance of a document Bundle can be known the relationship to that Composition, and the lifecycle management that Compostion supports</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
