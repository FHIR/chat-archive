---
layout: page
title: "FHIR Chat  · Vonk - API Function Validations · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html">Vonk - API Function Validations</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="188378056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188378056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Medi Harsini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188378056">(Feb 17 2020 at 13:32)</a>:</h4>
<p>Has anyone got an experience around creating multiple workstream resources/profiles in Vonk which are related? if yes, do you know how to configure a resource creation (Post) if it is dependant on some other resources? For example, if you have got an encounter coming for an appointment but that appointment should have existed as a prereq, how do you check such the existence of appointment and then to allow the encounter publication? Broadly speaking validation a REST transaction based on some rulesVonk Interrelated Queries</p>



<a name="188392207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188392207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Medi Harsini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188392207">(Feb 17 2020 at 16:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Can you please advise how this is done commonly speaking in FHIR</p>



<a name="188394481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188394481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188394481">(Feb 17 2020 at 17:16)</a>:</h4>
<p>In aidbox, we check all references on create/update to ensure referential consistency.</p>



<a name="188400535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188400535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188400535">(Feb 17 2020 at 19:03)</a>:</h4>
<p>The standard mechanism would be to use the REST conditional create functionality (<a href="http://build.fhir.org/http.html#ccreate" target="_blank" title="http://build.fhir.org/http.html#ccreate">http://build.fhir.org/http.html#ccreate</a>).  I don't know if Vonk supports this though</p>



<a name="188429501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188429501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188429501">(Feb 18 2020 at 07:42)</a>:</h4>
<p>Vonk does support it (conditional operations).</p>
<p>Verifying referential integrity has its benefits, but also its drawbacks, so it should be configurable (IMHO) on a server, not mandatory. On HAPI it's terribly hard to do 'garbage collection' when one doesn't require a particular graph of resources any more. Aid box doesn't have a public endpoint, so I don't know whether that suffers the same issue.</p>



<a name="188444903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188444903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Medi Harsini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188444903">(Feb 18 2020 at 12:06)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191372">@René Spronk</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span></p>



<a name="188451894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188451894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188451894">(Feb 18 2020 at 13:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191372">@René Spronk</span> you can have your  own aidbox for free in our demo cloud - <a href="https://aidbox.app" target="_blank" title="https://aidbox.app">https://aidbox.app</a></p>



<a name="188452079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188452079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188452079">(Feb 18 2020 at 13:57)</a>:</h4>
<p>Aidbox treats relative url in reference  as local ref and validates consistency; and skip absolute</p>



<a name="188452362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188452362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188452362">(Feb 18 2020 at 14:01)</a>:</h4>
<p>It skips absolute, even if it resolves to a local reference? In other words, is the distinction made based on format only, or based on local vs. non-local regardless of format?</p>



<a name="188453621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188453621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188453621">(Feb 18 2020 at 14:16)</a>:</h4>
<p>for performance reason, we do not try to resolve absolute urls (just relative)</p>



<a name="188453719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188453719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188453719">(Feb 18 2020 at 14:17)</a>:</h4>
<p>We distinguish based on url format</p>



<a name="188453800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188453800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188453800">(Feb 18 2020 at 14:18)</a>:</h4>
<p>I would like to have this difference explicitly in FHIR Reference :)</p>



<a name="188558976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188558976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188558976">(Feb 19 2020 at 16:19)</a>:</h4>
<p>What's the difference you want to make explicit?</p>
<p>The Google implementation recognizes absolute refs that point to the same store the reference is in, and validates them as local refs. But that's just a matter of checking the URL prefix.</p>



<a name="188610371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188610371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188610371">(Feb 20 2020 at 04:53)</a>:</h4>
<p><span class="user-mention" data-user-id="197072">@Paul Church</span> what if user wants to make absolute reference to resource, which is on different server? How do you distinguish  for validation is it  local or external</p>



<a name="188610451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188610451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188610451">(Feb 20 2020 at 04:55)</a>:</h4>
<p>Ah you are talking about url prefix  - that's reasonable  if you have stable absolute url</p>



<a name="188610502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188610502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188610502">(Feb 20 2020 at 04:56)</a>:</h4>
<p>we have servers with multiple domains and non REST integrations, but yeah  it can be list of prefixes</p>



<a name="188610513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188610513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188610513">(Feb 20 2020 at 04:57)</a>:</h4>
<p>will support same logic in next release  ;)</p>



<a name="188610698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188610698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188610698">(Feb 20 2020 at 05:02)</a>:</h4>
<p><span class="user-mention" data-user-id="197072">@Paul Church</span> one question  - do you store local refs internally as resourceType/id pair?</p>



<a name="188639720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188639720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188639720">(Feb 20 2020 at 14:09)</a>:</h4>
<p>Yes - we keep the original however it was specified (absolute or relative) and split it for internal use so it's consistent.</p>
<p>re: url prefixes - it's not perfect for us either, you could get to the same data through different endpoints. The motivation was just the case where the client is sending a resource to endpoint A, containing absolute urls matching endpoint A, and ref integrity is enabled.</p>



<a name="188723550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Vonk%20-%20API%20Function%20Validations/near/188723550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Vonk.20-.20API.20Function.20Validations.html#188723550">(Feb 21 2020 at 11:30)</a>:</h4>
<p>I'd need to recheck, but I'm pretty sure ours detects local ref's based on known set of prefixes, and then forces it back to local. So as not to cause issues when coming from other endpoints.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
