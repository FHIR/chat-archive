---
layout: page
title: "FHIR Chat  · narrative constraints · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html">narrative constraints</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153833798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833798">(Jun 20 2016 at 17:29)</a>:</h4>
<p>Has anyone considered, either in the base resource or in a profile, constraining the format of the narrative? In particular, I'm thinking about whether ImagingStudy should recommend/require something like "[modality] [procedure type] [accession]". This way, a list of imaging studies from multiple sources would have a similar format, and would list nicely. Details of the actual string aside, is this an appropriate thing to do?</p>
<p>Do we have any expectations for what narratives should looke like? I recognize that Observation and others have such wide use that it is hard to come up with a standard narrative format, but what about for narrower-use resources?</p>



<a name="153833820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833820">(Jun 20 2016 at 21:20)</a>:</h4>
<p>For generated narratives, it really doesn't matter as could be re-generated to conform, however for content that is not, maybe not practical.</p>



<a name="153833821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833821">(Jun 20 2016 at 21:20)</a>:</h4>
<p>Would like to see it at least considered though.</p>



<a name="153833824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833824">(Jun 20 2016 at 21:52)</a>:</h4>
<p>wouldn't middleware that took a structured resource -&gt; text be a better (more flexible/sustainable) solution?</p>



<a name="153833827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833827">(Jun 20 2016 at 22:19)</a>:</h4>
<p>curerntly we have code that generates narratives in several languages, all open source and with permissive licenses. If someone else wanted to package that code into a middleware, or write their own, we think that's a good idea</p>



<a name="153833828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833828">(Jun 20 2016 at 22:21)</a>:</h4>
<p>with regard to the original question: yes, it's been considered, and I've done it for CDA IGs before. HTML is kind of hard to constrain, so people tend to write narrative, but I have done, for instance, there SHALL be a table, there SHALL Be the same number of rows in the table as their are entries in the act as an XPath, But it's really hard to get a useful XPath that's not too restrictive</p>



<a name="153833829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833829">(Jun 20 2016 at 22:24)</a>:</h4>
<p>OK. As I was writing my question, the thought came to me that we could easily generate that text  from the resource elements and ignore the narrative totally, but I wanted to see what the general approach was.</p>



<a name="153833833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833833">(Jun 20 2016 at 22:27)</a>:</h4>
<p>nearly every resource example in the spec has a generated narrative using that code </p>



<a name="153833834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153833834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153833834">(Jun 20 2016 at 22:28)</a>:</h4>
<p>but in production, you might not be able to do that - that's why there's a status code with the narrative. If it contains additional information not in the data (sometimes) then you can't ignore the narrative </p>



<a name="153834728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153834728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153834728">(Jun 24 2016 at 02:49)</a>:</h4>
<p>This gets trickier with FluentPath constraints - it doesn't have the same narrative capabilities.</p>



<a name="153834746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/153834746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#153834746">(Jun 24 2016 at 03:09)</a>:</h4>
<p>no it has none</p>



<a name="185917788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/185917788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lisa Nelson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#185917788">(Jan 17 2020 at 14:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ,  Where can I find the open source code that generates narratives in several languages. can you point me to it?</p>



<a name="185950404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/185950404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#185950404">(Jan 17 2020 at 19:53)</a>:</h4>
<p>several languages? I'm not sure what you're referring to?</p>



<a name="185951775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/185951775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#185951775">(Jan 17 2020 at 20:08)</a>:</h4>
<p>From 2016 above:</p>
<blockquote>
<p>curerntly we have code that generates narratives in several languages, all open source and with permissive licenses.</p>
</blockquote>



<a name="185952908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/narrative%20constraints/near/185952908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/narrative.20constraints.html#185952908">(Jan 17 2020 at 20:21)</a>:</h4>
<p>wooah. thanks. I guess what I was referring to was: <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/utils/NarrativeGenerator.java" target="_blank" title="https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/utils/NarrativeGenerator.java">https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/utils/NarrativeGenerator.java</a> though I'm not exactly sure what I meant by 'multiple langages'</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
