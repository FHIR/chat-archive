---
layout: page
title: "FHIR Chat  · Address and Name text restrictions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html">Address and Name text restrictions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153947506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947506">(Mar 23 2018 at 15:04)</a>:</h4>
<p>We noticed that the HumanName and Address data types have an interesting clause around the text fields. For HumanName, <a href="http://hl7.org/fhir/dstu2/datatypes.html#HumanName" target="_blank" title="http://hl7.org/fhir/dstu2/datatypes.html#HumanName">http://hl7.org/fhir/dstu2/datatypes.html#HumanName</a>:</p>



<a name="153947507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947507">(Mar 23 2018 at 15:05)</a>:</h4>
<p>"Applications updating a name SHALL ensure either that the text and the parts are in agreement, or that only one of the two is present."</p>



<a name="153947508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947508">(Mar 23 2018 at 15:06)</a>:</h4>
<p>This is no longer present in STU 3: <a href="http://hl7.org/fhir/stu3/datatypes.html#HumanName" target="_blank" title="http://hl7.org/fhir/stu3/datatypes.html#HumanName">http://hl7.org/fhir/stu3/datatypes.html#HumanName</a> (and has now stated that applications should populate the text for future robustness)</p>



<a name="153947509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947509">(Mar 23 2018 at 15:07)</a>:</h4>
<p>However, Address has a similar statement (and is still present in latest): <a href="http://hl7.org/fhir/stu3/datatypes.html#Address" target="_blank" title="http://hl7.org/fhir/stu3/datatypes.html#Address">http://hl7.org/fhir/stu3/datatypes.html#Address</a> <br>
"Applications updating an address SHALL ensure either that the text and the parts are in agreement, or that only one of the two is present."</p>



<a name="153947511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947511">(Mar 23 2018 at 15:07)</a>:</h4>
<p>First question: given that HumanName changed, is there a reason Address remains the same/has the same restriction?</p>



<a name="153947512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947512">(Mar 23 2018 at 15:09)</a>:</h4>
<p>Second: As a server that accepts data, we often ignore the text field, assuming there are coded or (in this case) all the expected parts of an address or name present. Our system has its own formatting rules, and will apply this to create a common text. IF there was no other data besides text, we would usually take just the text.</p>



<a name="153947513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947513">(Mar 23 2018 at 15:09)</a>:</h4>
<p>We interpret the restriction on address as something the application calling us needs to do, but not something the server would need to double-check/fail on (assuming the server can find the data it needs)?</p>



<a name="153947514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947514">(Mar 23 2018 at 15:11)</a>:</h4>
<p>We would ensure that the text coming out from our server contained all known parts of an address</p>



<a name="153947526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947526">(Mar 23 2018 at 15:55)</a>:</h4>
<p>I find this really fascinating.  Our system does a bit of the opposite, in that it treats the text string as authoritative, and just passes it along to all the <code>Reference.display</code> fields.  We only use the <code>HumanName.family</code> for indexing.  Otherwise it's mostly ignored in favor of the <code>HumanName.text</code> string.  </p>
<p>I've been seriously considering forking one of the NPM human name parsers, and updating it for the FHIR HumanName resource.  <br>
<a href="https://www.npmjs.com/package/parse-full-name" target="_blank" title="https://www.npmjs.com/package/parse-full-name">https://www.npmjs.com/package/parse-full-name</a></p>



<a name="153947533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947533">(Mar 23 2018 at 16:29)</a>:</h4>
<p>Sounds like a change request is needed as they shouldn't be inconsistent.</p>



<a name="153947564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153947564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153947564">(Mar 23 2018 at 19:35)</a>:</h4>
<p>I don't remember any change like that to HumanName</p>



<a name="153948062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Address%20and%20Name%20text%20restrictions/near/153948062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Address.20and.20Name.20text.20restrictions.html#153948062">(Mar 26 2018 at 15:55)</a>:</h4>
<p>I took a stab at logging a tracker for this: <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15827" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15827">GF#15827</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
