---
layout: page
title: "FHIR Chat  · Extending canonical fails json schema · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html">Extending canonical fails json schema</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244448405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244448405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244448405">(Jun 30 2021 at 16:10)</a>:</h4>
<p>If you add an extension to a field of type canonical (FHIR R4), if I understand correctly for json this should go into '_fieldName' since canonical is a primitive type. However, if you validate this with the JSON schema, it fails. Is extending a canonical not allowed, or is the schema wrong? The Java validator does not complain.</p>



<a name="244467846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244467846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244467846">(Jun 30 2021 at 18:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="244476597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244476597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244476597">(Jun 30 2021 at 19:38)</a>:</h4>
<p>the json schema is supposed to allow this. Please provide an example</p>



<a name="244477945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244477945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244477945">(Jun 30 2021 at 19:48)</a>:</h4>
<p>canonicals extensions worked for me in ImplementationGuide</p>



<a name="244480038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244480038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244480038">(Jun 30 2021 at 20:04)</a>:</h4>
<p>Thanks, I will check to see how it was validated exactly. What I was told, is that the extension was set on the QuestionnaireResponse.questionnaire field and the error thrown on _questionnaire not being a known field.</p>



<a name="244500415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244500415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244500415">(Jun 30 2021 at 23:13)</a>:</h4>
<p>oops, I did not read this thoroughly.  my example validated using fhir validator.  Did not test with the json schema</p>



<a name="244530257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244530257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244530257">(Jul 01 2021 at 07:52)</a>:</h4>
<p><span class="user-mention" data-user-id="387142">@Ilya Sher</span> Maybe you can elaborate on this?</p>



<a name="244530922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244530922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244530922">(Jul 01 2021 at 07:59)</a>:</h4>
<p>I guess we wait for <span class="user-mention" data-user-id="191401">@Eric Haas</span> to reproduce the issue with <code>QuestionnaireResponse.questionnaire</code> / <code>QuestionnaireResponse._questionnaire</code> and with JSON Schema</p>



<a name="244536226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244536226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244536226">(Jul 01 2021 at 08:56)</a>:</h4>
<p>The code at <a href="https://github.com/awslabs/fhir-works-on-aws-routing/blob/mainline/src/router/validation/jsonSchemaValidator.ts">https://github.com/awslabs/fhir-works-on-aws-routing/blob/mainline/src/router/validation/jsonSchemaValidator.ts</a> fails with <code>Failed to parse request body as JSON resource ...</code></p>



<a name="244682814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244682814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher (personal account) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244682814">(Jul 02 2021 at 10:11)</a>:</h4>
<p>Waiting for update from <span class="user-mention" data-user-id="191401">@Eric Haas</span> ... or anyone else :)</p>



<a name="244778316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244778316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244778316">(Jul 03 2021 at 04:07)</a>:</h4>
<p>I misunderstood the issue. I have not tried to use json schemas at all.   So I am unable to comment</p>



<a name="244827587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244827587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244827587">(Jul 03 2021 at 22:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="244950711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/244950711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#244950711">(Jul 05 2021 at 15:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema/near/244778316">said</a>:</p>
<blockquote>
<p>I misunderstood the issue. I have not tried to use json schemas at all.   So I am unable to comment</p>
</blockquote>
<p>... and then I misread your comment :)</p>



<a name="245176421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/245176421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#245176421">(Jul 07 2021 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I've tried this with the Newtonsoft libraries for .Net, and do get an error as soon as I add an extension to the QuestionnaireResponse.questionnaire field. Without it, all works fine. Here is a QuestionnaireResponse that is valid according to both HAPI and Firely Server, but not against the schema:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;QuestionnaireResponse&quot;,
  &quot;_questionnaire&quot;: {
    &quot;extension&quot;: [
      {
        &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,
        &quot;valueCode&quot;: &quot;unknown&quot;
      }
    ]
  },
  &quot;status&quot;: &quot;stopped&quot;
}
</code></pre></div>



<a name="247455444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/247455444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#247455444">(Jul 28 2021 at 13:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191347">Mirjam Baltus</span> <a href="#narrow/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema/near/245176421">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> I've tried this with the Newtonsoft libraries for .Net, and do get an error as soon as I add an extension to the QuestionnaireResponse.questionnaire field. Without it, all works fine. Here is a QuestionnaireResponse that is valid according to both HAPI and Firely Server, but not against the schema:</p>
<p><div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;QuestionnaireResponse&quot;,
  &quot;_questionnaire&quot;: {
    &quot;extension&quot;: [
      {
        &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,
        &quot;valueCode&quot;: &quot;unknown&quot;
      }
    ]
  },
  &quot;status&quot;: &quot;stopped&quot;
}
</code></pre></div><br>
</p>
</blockquote>
<p>How should I proceed with that? Looks like bug in JSON schema. Should I open a Jira issue?</p>



<a name="247461211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/247461211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#247461211">(Jul 28 2021 at 13:50)</a>:</h4>
<p>Do you know what the schema <em>should</em> look like?</p>



<a name="247467203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/247467203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#247467203">(Jul 28 2021 at 14:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema/near/247461211">said</a>:</p>
<blockquote>
<p>Do you know what the schema <em>should</em> look like?</p>
</blockquote>
<p>I have a guess. Add (just after <code>"questionnaire": {...}</code>): </p>
<div class="codehilite"><pre><span></span><code>&quot;_questionnaire&quot;: {
          &quot;description&quot;: &quot;Extensions for questionnaire&quot;,
          &quot;$ref&quot;: &quot;#/definitions/Element&quot;
        }
</code></pre></div>
<p>that's how extension for other elements of primitive types look.</p>



<a name="247467564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/247467564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#247467564">(Jul 28 2021 at 14:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema/near/247461211">said</a>:</p>
<blockquote>
<p>Do you know what the schema <em>should</em> look like?</p>
</blockquote>
<p>There is also quite a few other elements with <code>"$ref": "#/definitions/canonical"</code> which don't have <code>_myElementName</code> extensions. I think maybe all of them.</p>



<a name="247469490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/247469490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#247469490">(Jul 28 2021 at 14:51)</a>:</h4>
<p>If you can test the solution, a change request would be most welcome.</p>



<a name="247545464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/247545464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#247545464">(Jul 29 2021 at 05:16)</a>:</h4>
<p>Not sure yet. Meanwhile have a question - isn't this file generated?</p>



<a name="247581268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/247581268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#247581268">(Jul 29 2021 at 13:15)</a>:</h4>
<p>Yes</p>



<a name="247581298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/247581298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#247581298">(Jul 29 2021 at 13:15)</a>:</h4>
<p>So the fix would be to the generation algorithm</p>



<a name="248206982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/248206982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#248206982">(Aug 03 2021 at 11:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema/near/247581298">said</a>:</p>
<blockquote>
<p>So the fix would be to the generation algorithm</p>
</blockquote>
<p>... and where that one is?</p>



<a name="248219478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/248219478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#248219478">(Aug 03 2021 at 13:21)</a>:</h4>
<p>Here, I believe: <a href="https://github.com/HL7/kindling/blob/main/src/main/java/org/hl7/fhir/definitions/generators/specification/json/SchemaGenerator.java">https://github.com/HL7/kindling/blob/main/src/main/java/org/hl7/fhir/definitions/generators/specification/json/SchemaGenerator.java</a></p>



<a name="248829812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extending%20canonical%20fails%20json%20schema/near/248829812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilya Sher <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extending.20canonical.20fails.20json.20schema.html#248829812">(Aug 09 2021 at 10:55)</a>:</h4>
<p>Meanwhile checked whether other elements have the same issue. Apparently only "canonical" type has the issue:</p>
<div class="codehilite"><pre><span></span><code>[
  {
    &quot;resourceType&quot;: &quot;ActivityDefinition&quot;,
    &quot;element&quot;: &quot;library&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ActivityDefinition&quot;,
    &quot;element&quot;: &quot;profile&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ActivityDefinition&quot;,
    &quot;element&quot;: &quot;transform&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;CapabilityStatement&quot;,
    &quot;element&quot;: &quot;instantiates&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;CapabilityStatement&quot;,
    &quot;element&quot;: &quot;imports&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;CapabilityStatement&quot;,
    &quot;element&quot;: &quot;implementationGuide&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;CarePlan&quot;,
    &quot;element&quot;: &quot;instantiatesCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ChargeItem&quot;,
    &quot;element&quot;: &quot;definitionCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ChargeItemDefinition&quot;,
    &quot;element&quot;: &quot;partOf&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ChargeItemDefinition&quot;,
    &quot;element&quot;: &quot;replaces&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;CodeSystem&quot;,
    &quot;element&quot;: &quot;valueSet&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;CodeSystem&quot;,
    &quot;element&quot;: &quot;supplements&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;Communication&quot;,
    &quot;element&quot;: &quot;instantiatesCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;DeviceRequest&quot;,
    &quot;element&quot;: &quot;instantiatesCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ExampleScenario&quot;,
    &quot;element&quot;: &quot;workflow&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ExampleScenario_Instance&quot;,
    &quot;element&quot;: &quot;resourceType&quot;,
    &quot;should_have_extension&quot;: false,
    &quot;has_extenstion&quot;: true,
    &quot;track_of_refs&quot;: []
  },
  {
    &quot;resourceType&quot;: &quot;FamilyMemberHistory&quot;,
    &quot;element&quot;: &quot;instantiatesCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;GraphDefinition&quot;,
    &quot;element&quot;: &quot;profile&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;Measure&quot;,
    &quot;element&quot;: &quot;library&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;MeasureReport&quot;,
    &quot;element&quot;: &quot;measure&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;MessageDefinition&quot;,
    &quot;element&quot;: &quot;replaces&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;MessageDefinition&quot;,
    &quot;element&quot;: &quot;base&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;MessageDefinition&quot;,
    &quot;element&quot;: &quot;parent&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;MessageDefinition&quot;,
    &quot;element&quot;: &quot;graph&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;MessageHeader&quot;,
    &quot;element&quot;: &quot;definition&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;NutritionOrder&quot;,
    &quot;element&quot;: &quot;instantiatesCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;OperationDefinition&quot;,
    &quot;element&quot;: &quot;base&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;OperationDefinition&quot;,
    &quot;element&quot;: &quot;inputProfile&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;OperationDefinition&quot;,
    &quot;element&quot;: &quot;outputProfile&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;PlanDefinition&quot;,
    &quot;element&quot;: &quot;library&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;Procedure&quot;,
    &quot;element&quot;: &quot;instantiatesCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;Questionnaire&quot;,
    &quot;element&quot;: &quot;derivedFrom&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;QuestionnaireResponse&quot;,
    &quot;element&quot;: &quot;questionnaire&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ResearchDefinition&quot;,
    &quot;element&quot;: &quot;library&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ResearchElementDefinition&quot;,
    &quot;element&quot;: &quot;library&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;SearchParameter&quot;,
    &quot;element&quot;: &quot;derivedFrom&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;ServiceRequest&quot;,
    &quot;element&quot;: &quot;instantiatesCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;StructureDefinition&quot;,
    &quot;element&quot;: &quot;baseDefinition&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;StructureMap&quot;,
    &quot;element&quot;: &quot;import&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  },
  {
    &quot;resourceType&quot;: &quot;Task&quot;,
    &quot;element&quot;: &quot;instantiatesCanonical&quot;,
    &quot;should_have_extension&quot;: true,
    &quot;has_extenstion&quot;: false,
    &quot;track_of_refs&quot;: [
      &quot;#/definitions/canonical&quot;
    ]
  }
]
</code></pre></div>
<p>This was generated by the script I wrote. It is at <a href="https://github.com/ngs-lang/nsd/blob/df1e69f22458713a29291449c008f820ec988768/fhir/check-schema-extensions.ngs">https://github.com/ngs-lang/nsd/blob/df1e69f22458713a29291449c008f820ec988768/fhir/check-schema-extensions.ngs</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
