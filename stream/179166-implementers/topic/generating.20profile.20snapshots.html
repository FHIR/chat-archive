---
layout: page
title: "FHIR Chat  · generating profile snapshots · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html">generating profile snapshots</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153886413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Spencer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886413">(Apr 28 2017 at 10:33)</a>:</h4>
<p>is there a tool (ideally cli) to generate a snapshot from a differential StructureDefinition?</p>



<a name="153886425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886425">(Apr 28 2017 at 13:55)</a>:</h4>
<p>Both the .NET and Java implementations can do this.  I know the Java one isn't set up for command-line invocation and I don't think the Java one is either.  If you wanted to add that capability, we'd be happy to add that into the official code.  My recommendation would be to have it work similar to the validator where you can request multiple instances be processed with a single invocation as there's a large overhead (many seconds) to perform the initial load of the spec and any related implementation guides.</p>



<a name="153886427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Schrijver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886427">(Apr 28 2017 at 14:20)</a>:</h4>
<p>I think snapshot generation was added to the validator.jar about a week ago. Unfortunately, the validator on <a href="http://build.fhir.org/downloads.html" target="_blank" title="http://build.fhir.org/downloads.html">http://build.fhir.org/downloads.html</a> doesn't seem to be working atm (Error "Could not find or load main class org.hl7.fhir.r4.validation.Validator").</p>



<a name="153886431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886431">(Apr 28 2017 at 15:31)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193659">@Ben Spencer</span>, Forge can generate an (offline) profile snapshot, using the open source FHIR .NET API (<a href="https://github.com/ewoutkramer/fhir-net-api" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api">https://github.com/ewoutkramer/fhir-net-api</a>). The API  does not include a command line utility out-of-the box, but it provides all the necessary building blocks to create one fairly easily.</p>



<a name="153886522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886522">(May 01 2017 at 05:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191800">@Ben Schrijver</span> how are you invoking it? Is it still a problem today?</p>



<a name="153886529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Schrijver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886529">(May 01 2017 at 06:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I just tried downloading <a href="http://build.fhir.org/validator.zip" target="_blank" title="http://build.fhir.org/validator.zip">http://build.fhir.org/validator.zip</a>, unpacked it and ran java -jar org.hl7.fhir.validator.jar help and java -jar org.hl7.fhir.validator.jar  practitioner.xml and each time I get "Error: Could not find or load main class org.hl7.fhir.r4.validation.Validator".</p>



<a name="153886533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886533">(May 01 2017 at 07:37)</a>:</h4>
<p>it would probably help if I actually created the class that it was referring to. Wait for revision 11971 to be available (~30min) and try again</p>



<a name="153886547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Schrijver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886547">(May 01 2017 at 09:50)</a>:</h4>
<p>Seems to be working now, thanks!</p>



<a name="153886594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153886594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153886594">(May 01 2017 at 21:03)</a>:</h4>
<p>great</p>



<a name="153890600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153890600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153890600">(May 20 2017 at 11:43)</a>:</h4>
<p>Is there an operation defined on StructureDefinition to generate a snapshot version of a profile?</p>



<a name="153890601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153890601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153890601">(May 20 2017 at 12:15)</a>:</h4>
<p>$generate -implemented on my server. But I see it's not formally defined</p>



<a name="153896451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153896451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153896451">(Jul 10 2017 at 02:42)</a>:</h4>
<p>Should I expect a snapshot to expand (unconstrained) complex data types?  Forge (STU3) seems to be doing this, but I would expect that a snapshot only include the contents of any data type when I have modified it in some way. :(</p>



<a name="153896463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153896463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153896463">(Jul 10 2017 at 07:04)</a>:</h4>
<blockquote>
<p>$generate -implemented on my server. But I see it's not formally defined</p>
</blockquote>
<p>Will this become formally defined? Very useful!</p>



<a name="153896465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153896465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153896465">(Jul 10 2017 at 07:36)</a>:</h4>
<p>it should. want to make a task for us to do that?</p>



<a name="153904671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153904671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael van der Zel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153904671">(Sep 06 2017 at 17:22)</a>:</h4>
<blockquote>
<p>it should. want to make a task for us to do that?</p>
</blockquote>
<p>Forgot to create a task, done now: #13795</p>



<a name="153908652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153908652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153908652">(Sep 14 2017 at 23:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> do we implement this?</p>



<a name="153908657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/generating%20profile%20snapshots/near/153908657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/generating.20profile.20snapshots.html#153908657">(Sep 14 2017 at 23:54)</a>:</h4>
<p>Yes. From the CapabilityStatement:</p>
<div class="codehilite"><pre><span></span>            <span class="s2">&quot;operation&quot;</span><span class="err">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;validate&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;definition&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;reference&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/OperationDefinition/Resource-validate&quot;</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;snapshot&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;definition&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;reference&quot;</span><span class="p">:</span> <span class="s2">&quot;http://vonk.furore.com/OperationDefinition/Snapshot-expand&quot;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
</pre></div>


<p>POST the StructureDefinition with or without snapshot to /StructureDefinition/$snapshot and you get it back with a freshly generated snapshot.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
