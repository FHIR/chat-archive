---
layout: page
title: "FHIR Chat  · Conditional Update URL Syntax · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html">Conditional Update URL Syntax</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153815405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815405">(Mar 14 2016 at 13:02)</a>:</h4>
<p>I just filed a tracker item because I found an inconsistency in the description of the conditional update url syntax:<br>
<a href="http://hl7-fhir.github.io/http.html#2.1.0.10.2" target="_blank" title="http://hl7-fhir.github.io/http.html#2.1.0.10.2">http://hl7-fhir.github.io/http.html#2.1.0.10.2</a><br>
Is it <br>
<code>PUT [base]/[type]/?[search parameters]</code> as in the definition <br>
or <br>
<code>PUT /Observation?identifier=http://my-lab-system|123</code> as in the example?<br>
or in other words: is there a "/" between type and parameters or not?</p>
<p>HAPI doesn't seem to care<br>
HEALTHINTERSECTIONS returns "Bad syntax" on both</p>



<a name="153815406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815406">(Mar 14 2016 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> : BTW I am currently testing conditional Updates. There seems to be a difference.</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;Encounter</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;patient&gt;</span>
         <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">&quot;Patient?given=Heute&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/patient&gt;</span>
<span class="nt">&lt;/Encounter&gt;</span>
</pre></div>


<p>returns <code>Invalid resource reference found at path[Encounter.patient] - Does not contain resource type</code><br>
whereas</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;Encounter</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;patient&gt;</span>
        <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">&quot;Patient/?given=Heute&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/patient&gt;</span>
<span class="nt">&lt;/Encounter&gt;</span>
</pre></div>


<p>returns <code>Resource Patient/?given=Heute not found, specified in path: Encounter.patient</code><br>
Although the search criteria matches exactly one Patient.</p>



<a name="153815407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815407">(Mar 14 2016 at 13:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> So you have conditional update references within an <code>Encounter.patient.reference</code>? Are you updating the Encounter? I don't understand what this means.</p>



<a name="153815408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815408">(Mar 14 2016 at 13:15)</a>:</h4>
<p>We're practicing for this connectathon track ;-)<br>
<a href="http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal" target="_blank" title="http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal">http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal</a></p>



<a name="153815409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815409">(Mar 14 2016 at 13:16)</a>:</h4>
<p>BTW: how do I get my block code snippets to look pretty on ZULIP?</p>



<a name="153815410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815410">(Mar 14 2016 at 13:16)</a>:</h4>
<p>You can use back-ticks <code>code here</code></p>



<a name="153815411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815411">(Mar 14 2016 at 13:17)</a>:</h4>
<p>`\``</p>



<a name="153815412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815412">(Mar 14 2016 at 13:17)</a>:</h4>
<p>Or three back ticks</p>



<a name="153815413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815413">(Mar 14 2016 at 13:18)</a>:</h4>
<div class="codehilite"><pre> `code here`
 three will give you a code block
</pre></div>



<a name="153815414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815414">(Mar 14 2016 at 13:19)</a>:</h4>
<p>Weird. I <strong>am</strong> using three ticks an I get all lines as seperate blocks...</p>



<a name="153815416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815416">(Mar 14 2016 at 13:26)</a>:</h4>
<p>Ah. got it. The ticks want a line by themselves...</p>



<a name="153815419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815419">(Mar 14 2016 at 15:20)</a>:</h4>
<p>Hi Simone- I haven't deployed a new version of the server yet that supports the new experimental syntax. Will do that today.</p>



<a name="153815423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815423">(Mar 14 2016 at 15:44)</a>:</h4>
<p>Oh ok! The error code looked like the server already <strong>tried</strong> to resolve the reference :)</p>



<a name="153815466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815466">(Mar 14 2016 at 20:09)</a>:</h4>
<p>" is there a "/" between type and parameters or not? - no. What is my server returning bad syntax for?</p>



<a name="153815473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815473">(Mar 14 2016 at 20:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> : e.G. a PUT to this URL: Patient?identifier=http://kvnummer.gkvnet.de/|G1 returns <code>Bad Syntax in Patient</code> even though a search for the same condition returns exactly 1 resource</p>



<a name="153815474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815474">(Mar 14 2016 at 20:22)</a>:</h4>
<p>what's the full packet?</p>



<a name="153815479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815479">(Mar 14 2016 at 20:24)</a>:</h4>
<div class="codehilite"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;Patient</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;identifier&gt;</span>
        <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://kvnummer.gkvnet.de/&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;value</span> <span class="na">value =</span><span class="s">&quot;G1&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/identifier&gt;</span>
    <span class="nt">&lt;name&gt;</span>
        <span class="nt">&lt;family</span> <span class="na">value=</span><span class="s">&quot;Test&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;given</span> <span class="na">value=</span><span class="s">&quot;Conditionally-Updated 1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;prefix</span> <span class="na">value=</span><span class="s">&quot;von&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;gender</span> <span class="na">value=</span><span class="s">&quot;female&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;birthDate</span> <span class="na">value=</span><span class="s">&quot;2016-03-14&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/Patient&gt;</span>
</pre></div>



<a name="153815480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815480">(Mar 14 2016 at 20:25)</a>:</h4>
<p>where's the reference then? </p>



<a name="153815481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815481">(Mar 14 2016 at 20:26)</a>:</h4>
<p>Huh? No I'm trying conditional update</p>



<a name="153815482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815482">(Mar 14 2016 at 20:26)</a>:</h4>
<p>so you are posting what to where?</p>



<a name="153815483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815483">(Mar 14 2016 at 20:26)</a>:</h4>
<p>Sorry Simone, I broke my server trying to redeploy..  and then locked myself out of it. Grrrrrrr.... It'll be down for a bit.</p>



<a name="153815484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815484">(Mar 14 2016 at 20:29)</a>:</h4>
<p>I am putting the resource above to <a href="http://fhir-dev.healthintersections.com.au/open/Patient?identifier=http://kvnummer.gkvnet.de/|G1" target="_blank" title="http://fhir-dev.healthintersections.com.au/open/Patient?identifier=http://kvnummer.gkvnet.de/|G1">http://fhir-dev.healthintersections.com.au/open/Patient?identifier=http://kvnummer.gkvnet.de/|G1</a></p>



<a name="153815485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815485">(Mar 14 2016 at 20:29)</a>:</h4>
<p>or alternately to ...Patient?name=Conditionally with the same result</p>



<a name="153815487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815487">(Mar 14 2016 at 20:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> : No problem, It's bedtime over here anyway ;-)</p>



<a name="153815489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815489">(Mar 14 2016 at 20:31)</a>:</h4>
<p>ok I understand now. the syntax above is correct. I will look at why it's not working in 48 hours (mini-crunch here)</p>



<a name="153815496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815496">(Mar 14 2016 at 20:37)</a>:</h4>
<p>Cool, thanks.</p>



<a name="153815704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153815704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153815704">(Mar 15 2016 at 19:05)</a>:</h4>
<p>Ok, I finally got back into my server.... what a nightmare.</p>
<p>Conditional syntax is supported now.</p>



<a name="153816044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20Update%20URL%20Syntax/near/153816044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20Update.20URL.20Syntax.html#153816044">(Mar 17 2016 at 08:47)</a>:</h4>
<p>Awesome :) I will see if I can do some testing. Just to avoid misunderstandings: You support that on plain REST as well as on processing bundles, correct?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
