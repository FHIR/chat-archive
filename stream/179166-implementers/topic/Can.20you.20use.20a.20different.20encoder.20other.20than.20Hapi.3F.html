---
layout: page
title: "FHIR Chat  · Can you use a different encoder other than Hapi? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20you.20use.20a.20different.20encoder.20other.20than.20Hapi.3F.html">Can you use a different encoder other than Hapi?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154010190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20you%20use%20a%20different%20encoder%20other%20than%20Hapi%3F/near/154010190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20you.20use.20a.20different.20encoder.20other.20than.20Hapi.3F.html#154010190">(Oct 18 2018 at 14:14)</a>:</h4>
<p>I would like to know if there are any special scenarios that the Hapi encoder handles that a just any old encoder wouldn't. For example the Java to JSON encoder, would we just be able to use a library like Jackson or something. I would also like to know if there are any metrics for speed performance between the two, is the Hapi encoder slower, and if so, what makes it so?</p>



<a name="154010192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20you%20use%20a%20different%20encoder%20other%20than%20Hapi%3F/near/154010192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20you.20use.20a.20different.20encoder.20other.20than.20Hapi.3F.html#154010192">(Oct 18 2018 at 14:28)</a>:</h4>
<p>Jackson and similar libraries are unable to handle HAPI's structures to produce valid FHIR. There are lots of rules in FHIR's encoding that don't get handled properly without using the right parser.</p>



<a name="154010193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20you%20use%20a%20different%20encoder%20other%20than%20Hapi%3F/near/154010193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jake <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20you.20use.20a.20different.20encoder.20other.20than.20Hapi.3F.html#154010193">(Oct 18 2018 at 14:41)</a>:</h4>
<p>Thanks James,</p>
<p>Is it that Jackson and similar libraries don't produce valid FHIR JSON (for example), or that those libraries wouldn't be able to handle parsing the FHIR classes at all and would fail to produce any JSON?</p>



<a name="154010272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20you%20use%20a%20different%20encoder%20other%20than%20Hapi%3F/near/154010272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20you.20use.20a.20different.20encoder.20other.20than.20Hapi.3F.html#154010272">(Oct 18 2018 at 21:12)</a>:</h4>
<p>I guess basically it's that the HAPI FHIR structures aren't designed for something like Jackson. You could probably create structures that Jackson would be able to turn into FHIR but they would have subtle differences from the HAPI FHIR ones. </p>
<p>E.g. as one simple example: HAPI FHIR knows that a field annotated with @Extension should put the extension URL in an attribute called <code>url</code> on the extension element. Jackson doesn't know anything about FHIR so it creates invalid extensions. I'm sure someone with enough time could work through all of these issues, but I think it's just easier to use the HAPI FHIR parser personally.</p>



<a name="154010297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20you%20use%20a%20different%20encoder%20other%20than%20Hapi%3F/near/154010297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20you.20use.20a.20different.20encoder.20other.20than.20Hapi.3F.html#154010297">(Oct 18 2018 at 22:39)</a>:</h4>
<p>cardinality issues, polymorphism. And the structures for native java json libraries would be incompatible with the structures for native java xml libraries</p>



<a name="154010298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Can%20you%20use%20a%20different%20encoder%20other%20than%20Hapi%3F/near/154010298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Can.20you.20use.20a.20different.20encoder.20other.20than.20Hapi.3F.html#154010298">(Oct 18 2018 at 22:39)</a>:</h4>
<p>and you don't get all the useful decorations in the java classes.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
