---
layout: page
title: "FHIR Chat  · Docker Container Test Installation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html">Docker Container Test Installation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230675491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230675491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> peter stroessler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230675491">(Mar 17 2021 at 11:36)</a>:</h4>
<p>For a college work we like to use a docker container with cors/cross-site-request enabled and in addition with using another than in memory database (mysql or eventually postgresql).  Can anyone give me and my mate a tip. What is the best option <br>
to choose?</p>



<a name="230677069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230677069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> peter stroessler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230677069">(Mar 17 2021 at 11:51)</a>:</h4>
<p>you can also contact me by using the following email address:  <a href="mailto:fapip66931@ichkoch.com">fapip66931@ichkoch.com</a></p>



<a name="230677342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230677342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230677342">(Mar 17 2021 at 11:54)</a>:</h4>
<p>I started with the <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter">jap starter project</a>, which is docker-ized. You can find the link to the prebuilt docker container there, and just using that should do. If I recall correctly, it used the H2 database engine (not in memory)</p>



<a name="230679143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230679143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> peter stroessler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230679143">(Mar 17 2021 at 12:09)</a>:</h4>
<p>Dexter, thank you for the answer we used docker run -p 8080:8080 -e hapi.fhir.default_encoding=xml hapiproject/hapi:latest from the jpa starter site. This led to a non cross-site-request capable resource..The command results into using h2 as datasource but we would prefer mysql instead, if possible.</p>



<a name="230679642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230679642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230679642">(Mar 17 2021 at 12:13)</a>:</h4>
<blockquote>
<p>MySql</p>
</blockquote>
<p>Try <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter#mysql-configuration">these</a> configuration steps? </p>
<blockquote>
<p>CORS</p>
</blockquote>
<p>You'll need to <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/blob/b5c34033c07c2b7b98944bd0d4e955e65d538f96/src/main/resources/application.yaml#L85-L90">edit</a> the <code>application.yaml</code> to allow the domains you need</p>



<a name="230680523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230680523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> peter stroessler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230680523">(Mar 17 2021 at 12:21)</a>:</h4>
<p>cool, thank you! this is the solution. Hope this then works as expected...as a fallback we chose without another.application.yaml, still we can link this, like described in the docu, Thank you very much! Further issue is that the mysql db stays empty still after havin posted data...Is there something wrong...There are the Quartz Spring Errors in the log if I remember right. Another question: What is the suiting local hapi port inside the container, what is the difference between the ports inside the container?</p>



<a name="230681973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230681973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230681973">(Mar 17 2021 at 12:34)</a>:</h4>
<blockquote>
<p>mysql db stays empty</p>
</blockquote>
<p>Hmm I'm not sure then. Does a GET on the resource endpoint return the data as expected? </p>
<blockquote>
<p>Quartz Spring Errors</p>
</blockquote>
<p>I'm not familiar with the framework, but if you post the logs, then maybe someone will help you</p>
<blockquote>
<p>What is the suiting local hapi port inside the container, what is the difference between the ports inside the container?</p>
</blockquote>
<p>Port forwarding allows things outside the container to reach the app inside the container</p>



<a name="230683445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230683445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> peter stroessler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230683445">(Mar 17 2021 at 12:45)</a>:</h4>
<p>We plan to continue tomorrow, I don't exacly know if a get returns something when using mysql datasource...I think it did return a response with the data....We keep the version with the string quartz errors, we contrinue tomorrow in pair programming. Okay then is it okay to use the custom config setup with ports 8080:8080?</p>



<a name="230683750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230683750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230683750">(Mar 17 2021 at 12:47)</a>:</h4>
<blockquote>
<p>is it okay to use the custom config setup with ports 8080:8080</p>
</blockquote>
<p>Yeah first number can be anything, and the second should be the same as where HAPI is listening</p>



<a name="230684121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Docker%20Container%20Test%20Installation/near/230684121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> peter stroessler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Docker.20Container.20Test.20Installation.html#230684121">(Mar 17 2021 at 12:50)</a>:</h4>
<p>Okay very good, thank you  very much Dexter, bye!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
