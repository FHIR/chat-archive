---
layout: page
title: "FHIR Chat  · CapabilityStatemen -HAPI - profiles not matching annotations · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatemen.20-HAPI.20-.20profiles.20not.20matching.20annotations.html">CapabilityStatemen -HAPI - profiles not matching annotations</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="181927444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatemen%20-HAPI%20-%20profiles%20not%20matching%20annotations/near/181927444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias Cervin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatemen.20-HAPI.20-.20profiles.20not.20matching.20annotations.html#181927444">(Nov 26 2019 at 14:46)</a>:</h4>
<p>Can't seem to become friends with CapabilityStatement in our HAPI fhir-server/facade. Even though our Providers and Models have custom profile-urls and look like this:</p>
<div class="codehilite"><pre><span></span><span class="nd">@RegisterProfileClass</span><span class="o">(</span><span class="n">profile</span> <span class="o">=</span> <span class="n">CUSTOM_PROFILE_URL</span><span class="o">,</span> <span class="n">model</span> <span class="o">=</span> <span class="n">EHMMedicationRequest</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@ResourceProviderQualifier</span><span class="o">(</span><span class="n">MedicationRequestResourceProvider</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MedicationRequestResourceProvider</span> <span class="kd">extends</span> <span class="n">AbstractValidatingProvider</span><span class="o">&lt;</span><span class="n">EHMMedicationRequest</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">IFhirResourceProvider</span><span class="o">&lt;</span><span class="n">MedicationRequest</span><span class="o">&gt;</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>

<span class="nd">@ResourceDef</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;MedicationRequest&quot;</span><span class="o">,</span> <span class="n">profile</span><span class="o">=</span><span class="n">CUSTOM_PROFILE_URL</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EHMMedicationRequest</span> <span class="kd">extends</span> <span class="n">MedicationRequest</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
</pre></div>


<p>The "GET [base]/metadata?mode=full" returns:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;MedicationRequest&quot;</span><span class="p">,</span>
          <span class="nt">&quot;profile&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/MedicationRequest&quot;</span><span class="p">,</span>
          <span class="err">...</span>
<span class="p">}</span>
</pre></div>


<p>I have tried debugging at the start of the application and found that RuntimeSourceDefinition has the correct custom myResourceProfile. Anyone else wrestled with this?</p>



<a name="181928712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatemen%20-HAPI%20-%20profiles%20not%20matching%20annotations/near/181928712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatemen.20-HAPI.20-.20profiles.20not.20matching.20annotations.html#181928712">(Nov 26 2019 at 14:57)</a>:</h4>
<p>sounds like a Question for <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>



<a name="181994618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilityStatemen%20-HAPI%20-%20profiles%20not%20matching%20annotations/near/181994618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tobias Cervin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilityStatemen.20-HAPI.20-.20profiles.20not.20matching.20annotations.html#181994618">(Nov 27 2019 at 06:53)</a>:</h4>
<blockquote>
<p>sounds like a Question for <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>
</blockquote>
<p>Ah, perfect. Haven't noticed that stream <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span>. Thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
