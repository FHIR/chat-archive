---
layout: page
title: "FHIR Chat  · Is a compartment identity resource in its own compartment? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20a.20compartment.20identity.20resource.20in.20its.20own.20compartment.3F.html">Is a compartment identity resource in its own compartment?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="269650453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20a%20compartment%20identity%20resource%20in%20its%20own%20compartment%3F/near/269650453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20a.20compartment.20identity.20resource.20in.20its.20own.20compartment.3F.html#269650453">(Jan 27 2022 at 22:34)</a>:</h4>
<p>I've always wondered about this but I don't think I've ever asked...<br>
If you do a compartment search like <code>GET [base]/Patient/123/Patient</code>, should the result set have only Patient resources that have a link to that patient, or should the result set also include Patient/123 as well?</p>



<a name="269651061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20a%20compartment%20identity%20resource%20in%20its%20own%20compartment%3F/near/269651061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20a.20compartment.20identity.20resource.20in.20its.20own.20compartment.3F.html#269651061">(Jan 27 2022 at 22:39)</a>:</h4>
<p>in our current implementation, we do <em>not</em> return the identity resource (because you obviously already know the resource, why would you need to search for it), but this seems to be a source of common confusion...perhaps due to this definition of "membership":</p>
<blockquote>
<p>The patient compartment includes any resources where the subject of the resource is the patient</p>
</blockquote>



<a name="269651074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20a%20compartment%20identity%20resource%20in%20its%20own%20compartment%3F/near/269651074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20a.20compartment.20identity.20resource.20in.20its.20own.20compartment.3F.html#269651074">(Jan 27 2022 at 22:39)</a>:</h4>
<p>This came up in the bulk export discussion for sure -- I don't think the FHIR spec formally states that the "compartment identity resource" (as you nicely put it!) is part of the compartment, but I think we <em>should</em> say this. Do you want to open a ticket?</p>



<a name="269651205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20a%20compartment%20identity%20resource%20in%20its%20own%20compartment%3F/near/269651205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20a.20compartment.20identity.20resource.20in.20its.20own.20compartment.3F.html#269651205">(Jan 27 2022 at 22:40)</a>:</h4>
<p>yes.  i'm sick of it causing confusion and am considering updating our impl so that it returns the identity resource in the search result...will be great to have consensus and clarity on it</p>



<a name="269651214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20a%20compartment%20identity%20resource%20in%20its%20own%20compartment%3F/near/269651214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20a.20compartment.20identity.20resource.20in.20its.20own.20compartment.3F.html#269651214">(Jan 27 2022 at 22:40)</a>:</h4>
<p>thanks josh</p>



<a name="269652235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Is%20a%20compartment%20identity%20resource%20in%20its%20own%20compartment%3F/near/269652235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Is.20a.20compartment.20identity.20resource.20in.20its.20own.20compartment.3F.html#269652235">(Jan 27 2022 at 22:48)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-35888">FHIR#35888</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
