---
layout: page
title: "FHIR Chat  · Policy based Authentication and Authorization · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html">Policy based Authentication and Authorization</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219188556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/219188556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#219188556">(Dec 08 2020 at 09:52)</a>:</h4>
<p>I've been asked to implement a system where patients, practitioners are assigned some policies and access to various resources should be enforced based on those policies. How do I go about implementing this? </p>
<p>For example, a practitioner is assigned a few patients, recorded by using the <code>CareTeam</code> resource. So, a practitioner is a part of a bunch of careteams. Now, I thought of implementing a proxy or an API Gateway to modify the query URL to limit the response to only those they're supposed to see, but this doesn't scale at all, and is a probably going to be a nightmare to extend, debug and maintain. </p>
<p>I also looked at <code>SMART on FHIR</code>, but this doesn't seem to meet the requirements, or am I mistaken? </p>
<p>HAPI FHIR docs suggest I use the <code>@Interceptor</code> to implement custom authentication and authorization checks, but I'm facing some difficulties understanding them. For example, say a practitioner searches for all patients that have BP greater than some threshold, how do I limit the response to only those that have been assigned to him? I'm also worried in case of somewhat larger transactions, it might be possible to figure out some information (say if a patient has a condition) based on how long a response takes to process (exiting early due to access denied) or going through and taking a few seconds. </p>
<p>How do I proceed with implementing this policy based access control?</p>



<a name="219188605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/219188605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#219188605">(Dec 08 2020 at 09:53)</a>:</h4>
<p>I'm pretty new to this, so I hope this place is appropriate to ask such questions. If not, please do let me know, and where such questions are better suited</p>



<a name="219201866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/219201866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#219201866">(Dec 08 2020 at 12:44)</a>:</h4>
<p>In general you'll have to build your own 'access control engine', which may filter a query (decide whether it should be processed at all) as well as the response (remove any matching or included resources that this user isn't allowed to see). This is quite common in implementations. Potentially this could be very tricky depending on the complexity and amount of different policies that may exist in your context, let alone if one starts working with XACML based policies. SMART on FHIR offers an implementation guide for OAuth / OpenID which is one of the core foundations of an access control engine. It also has the concept of scopes which will also impact the functionality of your access control engine. This is the right forum to ask, some who have actually implemented this (I haven't) will undoubtedly pitch in as well.</p>



<a name="219211115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/219211115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#219211115">(Dec 08 2020 at 14:17)</a>:</h4>
<p>You generally won't want to change the API to enforce your access control.  The way clients interact with your interface should remain unchanged even if your access control rules change.  Your access control rules will be handled as "business rules" within your system after a call has hit your interface, but before you've executed your query/returned your results.</p>



<a name="219317992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/219317992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#219317992">(Dec 09 2020 at 10:19)</a>:</h4>
<p>Thank you very much for the info! </p>
<p>So my access control must be based on approaches that use filtering, and perhaps ones that also modify the final query sent to the DB by changing/adding logic to HAPI. Are there examples for both the approaches I can look at, so that I can start to get an idea on how the huge codebase works and interacts?</p>



<a name="219353342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/219353342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#219353342">(Dec 09 2020 at 15:40)</a>:</h4>
<p>That sort of question is probably best raised in the <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a> stream</p>



<a name="219430407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/219430407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#219430407">(Dec 10 2020 at 04:13)</a>:</h4>
<p>Okay, will do, thanks!<br>
On a small sidenote, how do I keep track of all the threads I've started or interracted in?</p>



<a name="272967868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/272967868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim StClair <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#272967868">(Feb 23 2022 at 15:55)</a>:</h4>
<p><span class="user-mention" data-user-id="359486">@Dexter</span> outside of FHIR it sounds like your describing an authorization based access control (ABAC) which is typically enabled through an XACML based system. i'm also not familiar with orchestrating this governance through HAPI.</p>



<a name="272968120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Policy%20based%20Authentication%20and%20Authorization/near/272968120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim StClair <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Policy.20based.20Authentication.20and.20Authorization.html#272968120">(Feb 23 2022 at 15:57)</a>:</h4>
<p>It looks like <span class="user-mention" data-user-id="191372">@René Spronk</span> was heading down the same direction I was suggesting, sorry if I was redundant.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
