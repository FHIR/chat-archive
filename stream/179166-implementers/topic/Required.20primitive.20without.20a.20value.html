---
layout: page
title: "FHIR Chat  · Required primitive without a value · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html">Required primitive without a value</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154024737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Required%20primitive%20without%20a%20value/near/154024737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html#154024737">(Dec 12 2018 at 07:56)</a>:</h4>
<p>It is possible for FHIR primitive element to not have any value (but only extensions). One example would ElementDefinition.type.code, which is required, but in StructureDefinitions for primitive types themselves their ".value" field doesn't have any code.</p>
<p>I find this feature a bit confusing because it means that "type" of primitive value could be something completely different (value is empty and extension gives value of some other type) and "required value" is not really required (because value could be empty).</p>
<p>What was a rationale of that decision and in particular, why ".value" part of primitive is optional? How often this is expected to happen?</p>



<a name="154024743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Required%20primitive%20without%20a%20value/near/154024743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html#154024743">(Dec 12 2018 at 09:27)</a>:</h4>
<p>Note that this behavior is formally defined by fundamental invariant "ele-1", which applies to all elements:<br>
<a href="http://hl7.org/fhir/element.html#definition" target="_blank" title="http://hl7.org/fhir/element.html#definition">http://hl7.org/fhir/element.html#definition</a></p>



<a name="154024744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Required%20primitive%20without%20a%20value/near/154024744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html#154024744">(Dec 12 2018 at 09:32)</a>:</h4>
<p>In general, almost all elements in core FHIR resources and datatypes are optional (Min = 0), to cover widely varying use cases. For a specific implementation, you can create profiles that define additional constraints and remove some of the default optionality.</p>



<a name="154024745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Required%20primitive%20without%20a%20value/near/154024745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html#154024745">(Dec 12 2018 at 09:41)</a>:</h4>
<p>it doesn't happen much. But it can happen on any type</p>



<a name="154024802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Required%20primitive%20without%20a%20value/near/154024802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html#154024802">(Dec 12 2018 at 15:06)</a>:</h4>
<p>As an example, someone might extend Patient.birthDate to have a string that says "summer of either 1931 or 1932".  If you want to check for the existence of a value, you always need to check for the presence of the value, not just the element</p>



<a name="154024901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Required%20primitive%20without%20a%20value/near/154024901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html#154024901">(Dec 12 2018 at 17:26)</a>:</h4>
<p>Right. It basically creates three possible cases:<br>
1. There is a primitive "element" and the value, too (happy case)<br>
2. There are no primitive "element" (nothing case)<br>
3. There are a primitive "element", but no value, only extensions (exciting case)</p>
<p>In my current internal API, #3 have to be explicitly handled, which is kind of painful (because it's a very uncommon case). I guess, I can interpret it as #2, although it is not the same (the value IS there, you just don't know how to interpret it...)</p>



<a name="154024940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Required%20primitive%20without%20a%20value/near/154024940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html#154024940">(Dec 12 2018 at 20:04)</a>:</h4>
<p>yes</p>



<a name="154026048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Required%20primitive%20without%20a%20value/near/154026048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Required.20primitive.20without.20a.20value.html#154026048">(Dec 18 2018 at 09:48)</a>:</h4>
<p>I think it's useful in this context to add that if the element is of a coded type and the cardinality is 1..  and the type of binding is "required", there must be a code.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
