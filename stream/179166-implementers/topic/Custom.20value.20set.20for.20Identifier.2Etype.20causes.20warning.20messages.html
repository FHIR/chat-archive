---
layout: page
title: "FHIR Chat  · Custom value set for Identifier.type causes warning messages · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html">Custom value set for Identifier.type causes warning messages</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153922869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/153922869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ross Shnaper <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#153922869">(Dec 05 2017 at 03:05)</a>:</h4>
<p>I have a Patient profile with custom value set for Identifier.type binding that includes the value of JHN however when running the validator I still see the following warning message: </p>
<div class="codehilite"><pre><span></span>None of the codes provided are in the value set http://hl7.org/fhir/ValueSet/identifier-type (http://hl7.org/fhir/ValueSet/identifier-type, and a code should come from this value set unless it has no suitable code) (codes = http://hl7.org/fhir/v2/0203#JHN)
</pre></div>


<p>Here's the excerpt from my profile:</p>
<div class="codehilite"><pre><span></span>        &lt;element id=&quot;Patient.identifier&quot;&gt;
            &lt;path value=&quot;Patient.identifier&quot;/&gt;
            &lt;slicing&gt;
                &lt;discriminator&gt;
                    &lt;type value=&quot;value&quot;/&gt;
                    &lt;path value=&quot;type.coding.system&quot;/&gt;
                &lt;/discriminator&gt;
                &lt;discriminator&gt;
                    &lt;type value=&quot;value&quot;/&gt;
                    &lt;path value=&quot;type.coding.code&quot;/&gt;
                &lt;/discriminator&gt;
                &lt;rules value=&quot;closed&quot;/&gt;
            &lt;/slicing&gt;
            &lt;min value=&quot;1&quot;/&gt;
            &lt;max value=&quot;2&quot;/&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
        &lt;/element&gt;
        &lt;element id=&quot;Patient.identifier:hcnIdentifier&quot;&gt;
            &lt;path value=&quot;Patient.identifier&quot;/&gt;
            &lt;sliceName value=&quot;hcnIdentifier&quot;/&gt;
            &lt;short value=&quot;A health card number for this patient&quot;/&gt;
            &lt;definition value=&quot;A health card number for this patient.&quot;/&gt;
            &lt;min value=&quot;1&quot;/&gt;
            &lt;max value=&quot;1&quot;/&gt;
            &lt;mustSupport value=&quot;true&quot;/&gt;
            &lt;binding&gt;
                &lt;strength value=&quot;required&quot;/&gt;
                &lt;valueSetReference&gt;
                    &lt;reference value=&quot;http://cihi.ca/fhir/irrs/ValueSet/irrs-identifier-type&quot;/&gt;
                &lt;/valueSetReference&gt;
            &lt;/binding&gt;
        &lt;/element&gt;
</pre></div>


<p>Does anyone know how to get rid of that warning message?</p>



<a name="153922875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/153922875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#153922875">(Dec 05 2017 at 03:13)</a>:</h4>
<p>At present, the validator validates against the base resource as well as any declared profiles.  The warning is triggered when we validate against the base resource.  You could make a change request for us to add enough smarts to the validator that the warning would be suppressed (it would still show up when validating the profile).  However, it won't be an easy change to make and I have no clue when (or if) it'll get made.</p>



<a name="153922877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/153922877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#153922877">(Dec 05 2017 at 03:19)</a>:</h4>
<p>Does this warning pop up even when you have created an extended valueset?</p>



<a name="153922879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/153922879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#153922879">(Dec 05 2017 at 03:24)</a>:</h4>
<p>Yes</p>



<a name="153922880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/153922880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#153922880">(Dec 05 2017 at 03:25)</a>:</h4>
<p>Because it validates against the resource value set when it validates against the resource</p>



<a name="153922885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/153922885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#153922885">(Dec 05 2017 at 03:43)</a>:</h4>
<p>What about if  you validate against the profile when in meta.profile?</p>



<a name="153922888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/153922888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#153922888">(Dec 05 2017 at 04:17)</a>:</h4>
<p>We <em>always</em> validate against the underlying resource whether a profile is specified or not</p>



<a name="215758611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215758611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215758611">(Nov 05 2020 at 19:00)</a>:</h4>
<p>Just to be clear, validator will always generate an error on an extensible binding, even if a profile declares and specifies the expanded valueset? Would there be any way to drop the severity to informational, rather than warning?</p>



<a name="215760913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215760913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215760913">(Nov 05 2020 at 19:19)</a>:</h4>
<p>It shouldn't give you an error, just  a warning</p>



<a name="215761759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215761759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215761759">(Nov 05 2020 at 19:25)</a>:</h4>
<p>Agreed, it's "just a warning", but we're aggressively error-checking and warning-checking values. If the profile binding is properly defined, it feels like this should be informational rather than a warning.</p>



<a name="215762457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215762457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215762457">(Nov 05 2020 at 19:31)</a>:</h4>
<p>Warning says "this is a potential error and requires human review to determine whether it's an error or not" - which is exactly the case here.</p>



<a name="215762529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215762529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215762529">(Nov 05 2020 at 19:31)</a>:</h4>
<p>A human needs to look at the code and figure out whether the associated concept could possibly have been expressed (possibly at a different level of precision) using one of the codes in the bound value set.</p>



<a name="215773326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215773326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215773326">(Nov 05 2020 at 21:00)</a>:</h4>
<p>That makes sense from the perspective of a testing tool, but that makes the validator code impractical for run-time validation, as you're either stuck with a lot of warnings in your logs for otherwise properly-defined profiles and valuesets without the ability to suppress them.</p>



<a name="215773571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215773571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215773571">(Nov 05 2020 at 21:02)</a>:</h4>
<p>I Agree and question why the validator can not validate against the defined value set in the profile. Why is that such an odd request?</p>



<a name="215781173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215781173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215781173">(Nov 05 2020 at 22:12)</a>:</h4>
<p>If i remember the logic it <em>does</em> validate against the binding in the profile, it just also validates against the base binding which is why it ends up throwing the warnings..</p>



<a name="215783935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215783935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215783935">(Nov 05 2020 at 22:44)</a>:</h4>
<p>The issue is if you're using a code that's not from the value set, it's going to raise a warning - because it might be invalid.   If you want to ignore those in production you can, but they're legitimate warnings and it's entirely possible that some of the codes you're receiving are erroneous - because they could have been expressed within the value set.</p>



<a name="215784003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/215784003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#215784003">(Nov 05 2020 at 22:45)</a>:</h4>
<p>All warnings are things that require humans to check.  It's up to the implementer to decide if they care enough about them to have humans actually check them.</p>



<a name="216256175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/216256175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#216256175">(Nov 10 2020 at 18:50)</a>:</h4>
<p>Are there any ways to classify types of Warning messages, e.g. value outside of Extensible valueset, or profile not found, so that they can be easily identified/categorized? And possibly be suppressed via command-line arguments?</p>



<a name="216261743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/216261743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#216261743">(Nov 10 2020 at 19:28)</a>:</h4>
<p>So far, I don't think we've assigned 'codes' to the different issue types, but I suppose it might be possible for us to do that.  You could then filter by looking at the results as an OperationOutcome.  You could submit a change request for that capability to be added to the validator.  I wouldn't count on it happening soon though as it's a pretty big undertaking...</p>



<a name="216450126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/216450126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#216450126">(Nov 12 2020 at 10:23)</a>:</h4>
<p><span class="user-mention" data-user-id="192143">@Ken Sinn</span> several things to say about this:</p>
<ul>
<li>it seems you are using an old version of the validator, because the current validator doesn't make that warning at all if there's a profile for it to validate against </li>
<li>if you are using in the context of HAPI, you can change the level of a message. </li>
<li>if you are running from the command line, then you can't, but I don't think you should need to if you have the current version</li>
</ul>



<a name="216454835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/216454835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#216454835">(Nov 12 2020 at 11:13)</a>:</h4>
<p>I'll double check over the next few days using a stripped-down example profile + valueset, but I was using a validator build from last week. I'll confirm then ping.</p>



<a name="217411051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/217411051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> frank cao <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#217411051">(Nov 20 2020 at 14:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages/near/216450126">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="192143">Ken Sinn</span> several things to say about this:</p>
<ul>
<li>it seems you are using an old version of the validator, because the current validator doesn't make that warning at all if there's a profile for it to validate against </li>
<li>if you are using in the context of HAPI, you can change the level of a message. </li>
<li>if you are running from the command line, then you can't, but I don't think you should need to if you have the current version</li>
</ul>
</blockquote>
<p>Grahame, should we use "-profile" to explicitly specify the profile, or validator will use "-ig" to find the profile? In our mressages, we have meta.profile.</p>



<a name="217593828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/217593828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#217593828">(Nov 23 2020 at 06:50)</a>:</h4>
<p>-ig tells the validator what to load. <br>
-profile tells it to test against a profile. </p>
<p>It will automatically validate on meta.profile if it sees it there, if the profile(s) referred to have been loaded</p>



<a name="217636087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Custom%20value%20set%20for%20Identifier.type%20causes%20warning%20messages/near/217636087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> frank cao <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Custom.20value.20set.20for.20Identifier.2Etype.20causes.20warning.20messages.html#217636087">(Nov 23 2020 at 14:48)</a>:</h4>
<p>Much appreciated!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
