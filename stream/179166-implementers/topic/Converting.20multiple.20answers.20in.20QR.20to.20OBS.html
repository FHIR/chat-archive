---
layout: page
title: "FHIR Chat  · Converting multiple answers in QR to OBS · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html">Converting multiple answers in QR to OBS</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153826261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826261">(May 10 2016 at 04:48)</a>:</h4>
<p>In OO today looking at tracker from <span class="user-mention" data-user-id="191360">@Michelle M Miller</span>  and <span class="user-mention" data-user-id="191689">@Hans Buitendijk</span> to allow for the same code in  code and component.code this use case was posited.  If you have a Questionnaire that allows multiple answer for a question in QuestionnaireAnswer ( e.g. a,b,c)  what is the best practice for converting these to Observation.  I think they transform into three Observations.  An argument is made for a single Observation using Observation.components. </p>



<a name="153826272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826272">(May 10 2016 at 11:02)</a>:</h4>
<p>Our system treats a question with multi-select answer as a single observation.  </p>
<p>For example:</p>
<ul>
<li>Server has a single Alcohol Type code/question, associated to multiple codified values/answers, such as Beer and Wine.</li>
<li>Server has a single Alcohol Type observation status (e.g. Final).</li>
<li>Server has a single Alcohol Type observation comment (e.g. some comment about the beer, such as "Prefers craft beers; employed by Boulevard Brewing Company")</li>
<li>Server has a single id for this Alcohol Type observation.</li>
</ul>
<p>Splitting these up into 2 distinct observations (e.g. Alcohol Type of Wine and Alcohol Type of Beer) has the following consequences:</p>
<ul>
<li>We'd have to make up an <a href="http://Observation.id" target="_blank" title="http://Observation.id">Observation.id</a> since 2 distinct observations can't share the same id. </li>
<li>The single comment about beer gets applied to both observations, such that it is out of context on the Wine observation.</li>
<li>When an application tries to update one of the two observations (e.g. update a comment, status, etc.), the server has unexpected behavior in that we'd be updating both observations, since our server doesn't allow us to in error beer without also in erroring wine.  By contrast, the server would normally consider removing an answer more like a modify action and less like an In Error status change. </li>
</ul>



<a name="153826516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826516">(May 10 2016 at 19:51)</a>:</h4>
<p>But if you're capturing multiple answers for one question, the only way to do that is with component observations because value[x] can't repeat</p>



<a name="153826547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826547">(May 10 2016 at 20:11)</a>:</h4>
<p>Right, we want to leverage Observation.component, but currently can't do so due to the invariant (obs-7: Component code SHALL not be same as observation code), which is what prompted my change request to be logged to remove this invariant.<br>
<a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9375" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9375">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9375</a></p>



<a name="153826574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826574">(May 10 2016 at 20:37)</a>:</h4>
<p>you can have the same component code more than once. I've never understood that task</p>



<a name="153826576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826576">(May 10 2016 at 20:42)</a>:</h4>
<p>But you want to have a code on the root Observation too.  And right now there's a rule that says that code can't be the same as the component codes - and it's not clear what else you could populate the root code with.</p>



<a name="153826578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826578">(May 10 2016 at 20:44)</a>:</h4>
<p>+1 Lloyd -- that is the exact problem.  Currently we are asking to remove the invariant, so that it is possible to have Observation.code = Observation.component.code</p>



<a name="153826579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826579">(May 10 2016 at 20:46)</a>:</h4>
<p>Observation.code and Observation.component.code are both required, so another approach (if we keep the invariant) is to make Observation.component.code optional.</p>



<a name="153826735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826735">(May 11 2016 at 10:28)</a>:</h4>
<p>I'm having trouble following this, actually. You have a code that is simultaineously defined as both a panel and an actual result? </p>



<a name="153826744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826744">(May 11 2016 at 10:39)</a>:</h4>
<p>It's more like a single question (code) with multiple answers (valueCodeableConcept).<br>
Example 1:  code = Respirations with 7 codified values of Abdominal, Gasping, Hyperpnea, Labored, Nasal, flaring, Retracting<br>
Example 2:  code = Respiratory Pattern with 2 codified values = Irregular, Tachypnea<br>
Example 3:  code = Oxygen Therapy with 2 codified values = Humidification, Nasal cannula<br>
Example 4:  code = AlcoholType with 2 coded values = Beer, Wine<br>
etc. </p>



<a name="153826756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826756">(May 11 2016 at 10:50)</a>:</h4>
<p>and these are multi-select lists? So for example one:<br>
Obs.code = Respirations, no value<br>
  obs.componant.code Abdominal, value = true/false</p>



<a name="153826757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826757">(May 11 2016 at 10:50)</a>:</h4>
<p>etc</p>



<a name="153826758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826758">(May 11 2016 at 10:50)</a>:</h4>
<p>?</p>



<a name="153826762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826762">(May 11 2016 at 11:03)</a>:</h4>
<p>If we went with that suggestion, then the values are always true.  It feels a bit awkward to say that in other examples that might not be talking about present state, meaning the component.value is not actually true *right now* based on the question asked, such as:</p>
<ul>
<li>Observation.code = Release Criteria for Restraint </li>
<li>Observation.component.code = Cognitive status improved and no longer interferes with care, with value = true</li>
<li>Observation.component.code = Medical devices, tubes, and dressings removed, with value = true</li>
</ul>
<p>I think it is cleaner to represent as:</p>
<ul>
<li>Observation.code = Release Criteria for Restraint </li>
<li>Observation.component.value= Cognitive status improved and no longer interferes with care</li>
<li>Observation.component.value= Medical devices, tubes, and dressings removed</li>
</ul>



<a name="153826763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826763">(May 11 2016 at 11:04)</a>:</h4>
<p>why would the values always be true? I wasn't suggesting that</p>



<a name="153826764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826764">(May 11 2016 at 11:05)</a>:</h4>
<p>I can't get my head around your alternative actually - doesn't help that it's a different example, because it looks like the same pattern to me</p>



<a name="153826765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826765">(May 11 2016 at 11:05)</a>:</h4>
<p>but I suspect that the core problem here is that Observation.value is 0..1 not 0..* </p>



<a name="153826766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826766">(May 11 2016 at 11:09)</a>:</h4>
<p>Yes, that is the root problem -- that Observation.value is 0..1 -- so an earlier gForge advised me to use components to represent the multiple values.  We don't persist the false (unselected answers) -- only the true (selected answers), so we would be hard-coding all values to true.</p>



<a name="153826767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826767">(May 11 2016 at 11:10)</a>:</h4>
<p>ok well, I understand the problem properly now. The advice is certainly inconsistent with the invariant, that's for sure </p>



<a name="153826768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826768">(May 11 2016 at 11:12)</a>:</h4>
<p>I don't like revoking the invariant, and I don't like the idea of having components without codes, nor inventing a code that say 'instance of value' </p>



<a name="153826769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826769">(May 11 2016 at 11:12)</a>:</h4>
<p>but the requirement is real. </p>



<a name="153826770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826770">(May 11 2016 at 11:12)</a>:</h4>
<p>interesting conundrum</p>



<a name="153826772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826772">(May 11 2016 at 11:30)</a>:</h4>
<p>To summarize options (in case this makes the OO Q1 agenda today):</p>
<ul>
<li>Option A = change Observation.value to be 0..*</li>
<li>Option B = change Observation.component.code to be 0..1 (optional)</li>
<li>Option C = remove the invariant that says Observation.code can't be the same as Observation.component.code</li>
<li>Option D = hard-code the Observation.component.value = true for all "selected" answers, such that the Observation.component.code is now the coded "answer" (which makes the meaning of the component.value "yes, I answered the question with this value" and not "yes, the component.code is true right now")</li>
<li>Option E = treat these as separate, independent Observations (which I contend we can't do per my initial comments because the server can't separate them and maintain separate statuses, comments, etc.)</li>
</ul>



<a name="153826777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826777">(May 11 2016 at 12:07)</a>:</h4>
<p>option A cannot be on the table. Sorry. option D is my least unfavourite...</p>



<a name="153826786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826786">(May 11 2016 at 12:22)</a>:</h4>
<p>I really don't like option D.  The answer is a code, it's not a boolean.  Taking answers to a question from Observation.component.code feels totally wrong.</p>



<a name="153826787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826787">(May 11 2016 at 12:22)</a>:</h4>
<p>Option A is possible, it just requires a wrapper.</p>



<a name="153826788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826788">(May 11 2016 at 12:23)</a>:</h4>
<p>My preference is A (with a wrapper), then B</p>



<a name="153826789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826789">(May 11 2016 at 12:23)</a>:</h4>
<p>implementers will hate the wrapper. with a passion.</p>



<a name="153826790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826790">(May 11 2016 at 12:24)</a>:</h4>
<p>for other readers of this:</p>
<div class="codehilite"><pre>&lt;Observation&gt;
  &lt;valueCodeableConcept&gt;
   &lt;.../&gt;
  &lt;/valueCodeableConcept&gt;
&lt;Observation&gt;
</pre></div>



<a name="153826791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826791">(May 11 2016 at 12:24)</a>:</h4>
<p>would become </p>
<div class="codehilite"><pre>&lt;Observation&gt;
  &lt;value&gt;
   &lt;CodeableConcept&gt;
     &lt;.../&gt;
   &lt;/CodeableConcept&gt;
  &lt;/value&gt;
&lt;Observation&gt;
</pre></div>



<a name="153826792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826792">(May 11 2016 at 12:25)</a>:</h4>
<p>The Json would change equivalently</p>



<a name="153826793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826793">(May 11 2016 at 12:25)</a>:</h4>
<p>Not necessarily.  We could have:<br>
&lt;value[x]/&gt;<br>
&lt;multiValue&gt;<br>
  &lt;value[x]/&gt;<br>
&lt;/multiValue&gt;</p>



<a name="153826794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826794">(May 11 2016 at 12:25)</a>:</h4>
<p>With a constraint that you can only have one of the two</p>



<a name="153826795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826795">(May 11 2016 at 12:25)</a>:</h4>
<p>carumba </p>



<a name="153826796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826796">(May 11 2016 at 12:25)</a>:</h4>
<p>we do love our complexity</p>



<a name="153826797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826797">(May 11 2016 at 12:25)</a>:</h4>
<p>That's much less complex than forcing component observations</p>



<a name="153826798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826798">(May 11 2016 at 12:26)</a>:</h4>
<p>Some types of observations naturally have multiple values</p>



<a name="153826799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826799">(May 11 2016 at 12:26)</a>:</h4>
<p>yeah, the really cool thing about your approach is that a value might be found in value, or in multi-value. That's one all implementers will enjoy</p>



<a name="153826800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826800">(May 11 2016 at 12:26)</a>:</h4>
<p>I can live with value/valueCodeableConcept or a choice of valueCodeableConcept and multiValue/valueCodeableConcept</p>



<a name="153826801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826801">(May 11 2016 at 12:27)</a>:</h4>
<p>Well, the value could be found in Observation/value or Observation/component/value now</p>



<a name="153826802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826802">(May 11 2016 at 12:27)</a>:</h4>
<p>I don't see the difference in complexity there.</p>



<a name="153826995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153826995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153826995">(May 11 2016 at 18:51)</a>:</h4>
<p>This was discussed during Q1 OO session.  The rationale/details are documented within gForge (<a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9375" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9375">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9375</a>), but the outcome/resolution was removing the existing invariant and replacing with a new invariant:  "If .code = .component.code then .value must not exist"</p>



<a name="153827006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153827006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153827006">(May 11 2016 at 19:13)</a>:</h4>
<p>Prohibiting Observation.value when you have componets.  (Back to Pre DSTU)</p>



<a name="153827145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153827145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153827145">(May 12 2016 at 01:56)</a>:</h4>
<p>Not quite when you have components.  If you have an APGAR, you'd have one code on the root observation and a value, and different codes on the components.  However, in the questionnaire example, you'd have the same code on the root observation and the components and because of that, you wouldn't be able to have a value on the root observation.</p>



<a name="153827168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153827168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153827168">(May 12 2016 at 03:31)</a>:</h4>
<p>Right, so the new/revised invariant still allows an Observation.value when the codes differ (e.g. APGAR example).  It only prohibits the Observation.value when the codes are the same (observation.code = observation.component.code)</p>



<a name="153828403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153828403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153828403">(May 18 2016 at 04:10)</a>:</h4>
<p>actually Lloyd is correct you can't have a  value and component.value so APGAR uses .related.  </p>



<a name="153828437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153828437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153828437">(May 18 2016 at 13:28)</a>:</h4>
<p>Why can't you have a value and a component.value?</p>



<a name="153828442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153828442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153828442">(May 18 2016 at 14:18)</a>:</h4>
<p>if the code are the same you can not distinguish the relationship of value to component value.  </p>



<a name="153828443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153828443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153828443">(May 18 2016 at 14:19)</a>:</h4>
<p>use related instead</p>



<a name="153828444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153828444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153828444">(May 18 2016 at 14:26)</a>:</h4>
<p>component values are siblings  value is not .  I believe that is why the DSTU1 and DSTU2 invariants where made in the first place but is not documented anywhere I can locate.</p>



<a name="153828452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Converting%20multiple%20answers%20in%20QR%20to%20OBS/near/153828452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Converting.20multiple.20answers.20in.20QR.20to.20OBS.html#153828452">(May 18 2016 at 15:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Actually I mis- represented the disposition.  I thought we reverted to the original invariant from pre DSTU (Actually that is what I had suggested)  but michelle is correct and <br>
 Apgar can use components if the the codes are different.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
