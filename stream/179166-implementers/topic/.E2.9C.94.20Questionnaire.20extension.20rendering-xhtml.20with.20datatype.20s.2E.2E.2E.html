---
layout: page
title: "FHIR Chat  · ✔ Questionnaire extension rendering-xhtml with datatype s... · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html">✔ Questionnaire extension rendering-xhtml with datatype s...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="265222784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/265222784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#265222784">(Dec 16 2021 at 21:35)</a>:</h4>
<p>We use the <a href="http://hl7.org/fhir/StructureDefinition/rendering-xhtml">rendering-xhtml</a> extension which is defined with a value of datatype string.</p>
<p>When you actually try to use html in that, you will get a datatype error that says you don't match [ \r\t\n\S]+ which is probably correct. Should the datatype on that extension value not have been markdown?</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
  <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"http://hl7.org/fhir/StructureDefinition/rendering-xhtml"</span><span class="p">,</span>
  <span class="nt">"valueString"</span><span class="p">:</span> <span class="s2">"&lt;div&gt;Clinical COPD Questionnaire&lt;/div&gt;"</span>
<span class="p">}</span>
</code></pre></div>



<a name="265225546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/265225546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tilo Christ <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#265225546">(Dec 16 2021 at 21:59)</a>:</h4>
<p>That would be odd, as \S is a match for any non-whitespace character, and  \r\t\n would match any white-space, tabs, etc. This is essentially any unicode string. According to the spec up to 1MB is allowed. The spec also explains that the markdown datatype is declared identically to string. Not sure what the issue is, but HTML is a valid FHIR string.</p>



<a name="265225845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/265225845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#265225845">(Dec 16 2021 at 22:01)</a>:</h4>
<p>Try adding the xhtml namespace to the div - <code>&lt;div xmlns="http://www.w3.org/1999/xhtml"&gt;Clinical COPD Questionnaire&lt;/div&gt;</code></p>



<a name="265230507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/265230507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#265230507">(Dec 16 2021 at 22:43)</a>:</h4>
<p>Thanks both. I think there's something off in Simplifier here instead of in my instance. Filed it there.</p>



<a name="265233435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/265233435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#265233435">(Dec 16 2021 at 23:13)</a>:</h4>
<p>Shouldn't need a namespace and that text should work just fine.  They type definitely <em>shouldn't</em> be markdown.</p>



<a name="266417001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/266417001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abdelhady <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#266417001">(Dec 30 2021 at 10:04)</a>:</h4>
<p>I can not decide should I use the Questionnaire or the Condition resource?</p>
<p>we are getting general information about patients when registering for the first time in our app, information like: do you have an allergy? do you smoke? do you have any kidney disease? …etc</p>
<p>as you see, it’s like general questions.</p>
<p>so I can not decide should I use the questionnaire or the condition resource for this information? or maybe should I use a different type of resource, not the questionnaire or the condition?</p>



<a name="266433478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/266433478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#266433478">(Dec 30 2021 at 14:42)</a>:</h4>
<p>For allergies you should use AllergyIntolerance, for smoking you should use Observation (<a href="https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-smokingstatus.html">https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-smokingstatus.html</a>), for kidney disease you should use Condition</p>



<a name="266521982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/266521982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#266521982">(Dec 31 2021 at 20:16)</a>:</h4>
<p>If you're intending to have a generic intake form(s) and then post process into these specified resources, then questionnaire could be appropriate, but will end up in the others.</p>



<a name="266524992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/266524992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#266524992">(Dec 31 2021 at 21:37)</a>:</h4>
<p><span class="user-mention" data-user-id="466932">@Muhammad Abdelhady</span> , if you intend to have a custom UI that collects information about allergies, smoking, etc. you can populate the target resources (AllergyIntolerance, Condition, etc.) directly.</p>
<p>If you want to design a reusable form, one that might be more dynamic, or leverages an existing questionnaire rendering engine, then you can capture the design of the questionnaire in the Questionnaire resource. In that case, the filled out questions will populate a QuestionnaireResponse, which is used to record what was provided, when, and by whom. Usually, the content of the QuestionnaireResponse is then extracted to create the target resources (AllergyIntolerance, Condition, etc.), in order to be integrated with other clinical information in the patient record. </p>
<p>QuestionnaireResponse is not usually a useful endpoint; and Questionnaire represents the blank form, not a filled out instance of it. Regardless of whether your UI creates the resources directly, or through use of Questionnaire/QuestionnaireResponse, use the various author, "derivedFrom", and other similar elements in your target resources, along with the Provenance resource, to track where the information came from.</p>



<a name="266652022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Questionnaire%20extension%20rendering-xhtml%20with%20datatype%20s.../near/266652022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Questionnaire.20extension.20rendering-xhtml.20with.20datatype.20s.2E.2E.2E.html#266652022">(Jan 03 2022 at 05:04)</a>:</h4>
<p><span class="user-mention" data-user-id="466932">@Muhammad Abdelhady</span> It looks like you raised the same question on the community forum, StackOverflow and here.  Best practice is to ask in only one place and wait a couple of business days before raising the question elsewhere.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
