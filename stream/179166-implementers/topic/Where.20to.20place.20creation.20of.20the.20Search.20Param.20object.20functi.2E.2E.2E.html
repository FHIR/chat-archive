---
layout: page
title: "FHIR Chat  · Where to place creation of the Search Param object functi... · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Where.20to.20place.20creation.20of.20the.20Search.20Param.20object.20functi.2E.2E.2E.html">Where to place creation of the Search Param object functi...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204399581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Where%20to%20place%20creation%20of%20the%20Search%20Param%20object%20functi.../near/204399581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Markku Nikkanen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Where.20to.20place.20creation.20of.20the.20Search.20Param.20object.20functi.2E.2E.2E.html#204399581">(Jul 20 2020 at 08:58)</a>:</h4>
<p>Hello,</p>
<p>I have created a Search Param object for searching Resources based on extension value.</p>
<div class="codehilite"><pre><span></span><code>client.create().resource(createExtensionSearchParam()).execute();

private static SearchParameter createExtensionSearchParam() {
    SearchParameter state = new SearchParameter();
...
    return state;
  }
</code></pre></div>


<p>What would be correct way to run this object to database? I am using fork from the hapi-fhir-jpaserver-starter project. Should I create servlet that creates Search Param resources?</p>
<p>~/repos/my-fhir-service/src/main/webapp/WEB-INF/web.xml</p>
<div class="codehilite"><pre><span></span><code>&lt;servlet&gt;
    &lt;servlet-name&gt;fhirServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;ca.uhn.fhir.jpa.starter.JpaRestfulServer&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
&lt;servlet&gt;
    &lt;servlet-name&gt;myMigration&lt;/servlet-name&gt;
    &lt;servlet-class&gt;my.project.MyMigration&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
</code></pre></div>


<p>Or is there any events (Pointcut?) that are called when JpaRestfulServer initialisation is ready?</p>
<div class="codehilite"><pre><span></span><code>public class JpaRestfulServer extends RestfulServer {

  @Override
  protected void initialize() throws ServletException {
    super.initialize();
  }

  // How to trigger this?
  public void initializeReady() {
    // create search params
  }
}
</code></pre></div>


<p><a href="https://smilecdr.com/hapi-fhir/apidocs/hapi-fhir-base/ca/uhn/fhir/interceptor/api/Pointcut.html">https://smilecdr.com/hapi-fhir/apidocs/hapi-fhir-base/ca/uhn/fhir/interceptor/api/Pointcut.html</a></p>
<p>Or would it be better to have a separate project that run all sort of migrations to database like ads Search Params? Perhaps there is already something ready made frameworks for this e.g.</p>
<p><a href="https://hapifhir.io/hapi-fhir/docs/server_jpa/upgrading.html">https://hapifhir.io/hapi-fhir/docs/server_jpa/upgrading.html</a></p>



<a name="204410574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Where%20to%20place%20creation%20of%20the%20Search%20Param%20object%20functi.../near/204410574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Where.20to.20place.20creation.20of.20the.20Search.20Param.20object.20functi.2E.2E.2E.html#204410574">(Jul 20 2020 at 11:22)</a>:</h4>
<p>Maybe better to ask in <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
