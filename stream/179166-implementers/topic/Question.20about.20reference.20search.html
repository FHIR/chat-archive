---
layout: page
title: "FHIR Chat  · Question about reference search · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html">Question about reference search</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="199370898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/199370898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#199370898">(Jun 01 2020 at 13:46)</a>:</h4>
<p><a href="http://build.fhir.org/search.html#reference">http://build.fhir.org/search.html#reference</a> lists three reference search formats:</p>
<div class="codehilite"><pre><span></span><code>[parameter]=[id] the logical [id] of a resource using a local reference (i.e. a relative reference)
[parameter]=[type]/[id] the logical [id] of a resource of a specified type using a local reference (i.e. a relative reference), for when the reference can point to different types of resources (e.g. Observation.subject)
[parameter]=[url] where the [url] is an absolute URL - a reference to a resource by its absolute location, or by it&#39;s canonical URL
</code></pre></div>


<p>SHALL a server support all three formats?</p>



<a name="199371025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/199371025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#199371025">(Jun 01 2020 at 13:47)</a>:</h4>
<p>SHALL but WON'T</p>



<a name="199377034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/199377034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#199377034">(Jun 01 2020 at 14:41)</a>:</h4>
<p>Why not? Seems like standard reference search.</p>



<a name="199382538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/199382538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#199382538">(Jun 01 2020 at 15:25)</a>:</h4>
<p>Patchy implementation</p>



<a name="199382626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/199382626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#199382626">(Jun 01 2020 at 15:26)</a>:</h4>
<p>Having three ways to specify the same thing does not help with that of course</p>



<a name="206093111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/206093111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#206093111">(Aug 06 2020 at 00:22)</a>:</h4>
<p>Here is a different search question about how to resolve absolute references (external from the server's URL base).</p>
<p>Suppose condition resources were on <strong>http://server-a</strong>, and patient resources <strong>http://server-b</strong> .. if I  <code>GET http://server-a/Condition?_include=Condition:subject</code> shall I expect server-a to follow the condition's references, querying server-b, and combine the results? Or is it an expectation that during search, a server only resolves references to resources it manages?</p>



<a name="206093586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/206093586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#206093586">(Aug 06 2020 at 00:32)</a>:</h4>
<p>I wouldn't expect a server to call another server on your behalf.</p>
<p>There is language in _include that suggests that it won't: "If there is no reference, or no matching resource, the resource cannot be retrieved (e.g. on a different server), then the resource is omitted, and no error is returned."</p>



<a name="206093909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/206093909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#206093909">(Aug 06 2020 at 00:38)</a>:</h4>
<p>Ah, I missed the parenthetical example in the docs. Thanks <span class="user-mention" data-user-id="197072">@Paul Church</span>  Maybe this should be called out more directly in the spec?</p>



<a name="206094703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/206094703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#206094703">(Aug 06 2020 at 00:53)</a>:</h4>
<p>The spec doesn't really exclude the possibility that the server might recognize and follow <em>some</em> URLs - maybe they're public, or a known entity (e.g. part of the same organization).</p>



<a name="206095185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/206095185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#206095185">(Aug 06 2020 at 01:03)</a>:</h4>
<p>I see. Maybe the server's capability statement (in the search operation section) could specify if it follows external references? Or what base URLs it will consider following?</p>



<a name="206095387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Question%20about%20reference%20search/near/206095387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Question.20about.20reference.20search.html#206095387">(Aug 06 2020 at 01:07)</a>:</h4>
<p>it is server discretion on this. We haven't been asked about saying something in the capability statement but it seems reasonable - do you want to make a jira task on this?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
