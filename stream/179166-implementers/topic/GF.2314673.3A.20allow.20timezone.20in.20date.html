---
layout: page
title: "FHIR Chat  · GF#14673: allow timezone in date · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html">GF#14673: allow timezone in date</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153937233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937233">(Feb 13 2018 at 21:21)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14673" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14673">GF#14673</a> proposes that we relax the constraint "There SHALL be no time zone". MnM looks on this favorably, but 2 questions:<br>
- is this a breaking change in theory<br>
- is this a breaking change in prnciple. Specifically: does this break any reference implementationsa</p>



<a name="153937234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937234">(Feb 13 2018 at 21:23)</a>:</h4>
<p>It requires changes to get the to support it, but it's not a big change for Java / pascal reference implementations. What about DotNet? swift? <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> <span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> <span class="user-mention" data-user-id="191319">@James Agnew</span> (<span class="user-mention" data-user-id="194833">@Patrik Sundberg</span> )</p>



<a name="153937238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937238">(Feb 13 2018 at 21:42)</a>:</h4>
<p>The datetime already support timezone, so no extension needed there.<br>
In the Australian context we have an extension for accuracy of the datetime. So you could put the complete value in there, and prove the accuracy indicator</p>



<a name="153937239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937239">(Feb 13 2018 at 21:49)</a>:</h4>
<p><a href="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-date-accuracy-indicator.html" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-date-accuracy-indicator.html">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-date-accuracy-indicator.html</a></p>



<a name="153937240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937240">(Feb 13 2018 at 21:50)</a>:</h4>
<p>this really feels like something else to me</p>



<a name="153937241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937241">(Feb 13 2018 at 21:54)</a>:</h4>
<p>The item is asking to mix date and datetime values in some user interface. Feels like a local interpretation issue. Not something for the spec to me.</p>



<a name="153937243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937243">(Feb 13 2018 at 21:57)</a>:</h4>
<p>it's asking to allow timezone on date. the user interface stuff is requirements</p>



<a name="153937249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937249">(Feb 13 2018 at 22:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> how would you propose representing a Date with a timezone?</p>



<a name="153937250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937250">(Feb 13 2018 at 22:15)</a>:</h4>
<p>exactly per schema spec:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;date&quot;</span> <span class="err">:</span> <span class="s2">&quot;2004-05-06Z&quot;</span>
</pre></div>



<a name="153937251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937251">(Feb 13 2018 at 22:26)</a>:</h4>
<p>In ruby, we would have to parse that as a DateTime and then convert it to a Date.  Otherwise the timezone information would be ignored and parsing would not actually fail.  I could see that being a source of some subtle bugs and would thus be a breaking change.  However, in theory I don't think adding a timezone to a date and not requiring it is a breaking change from the semantic perspective.</p>



<a name="153937252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937252">(Feb 13 2018 at 22:27)</a>:</h4>
<p>how does ruby handle schema dates otherwise?</p>



<a name="153937296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937296">(Feb 14 2018 at 01:31)</a>:</h4>
<p>Is that an offset or time zone?<br>
Eg +10:00 or australia/Melbourne <br>
And only be there if the full date is provided?</p>



<a name="153937303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937303">(Feb 14 2018 at 05:50)</a>:</h4>
<p>it's a timezone</p>



<a name="153937304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937304">(Feb 14 2018 at 05:58)</a>:</h4>
<p>I thought that time zones were identified by offsets from UTC, not by names.<br>
So Melbourne and Sydney are on AEDST (UTC +11:00), while Brisbane is on AEST (UTC + 10:00)</p>



<a name="153937305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937305">(Feb 14 2018 at 06:00)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/List_of_time_zones_by_country" target="_blank" title="https://en.wikipedia.org/wiki/List_of_time_zones_by_country">https://en.wikipedia.org/wiki/List_of_time_zones_by_country</a></p>



<a name="153937306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937306">(Feb 14 2018 at 06:02)</a>:</h4>
<p>yes we don't use names</p>



<a name="153937307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937307">(Feb 14 2018 at 06:02)</a>:</h4>
<p>a few people use an extension for named timezone</p>



<a name="153937317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937317">(Feb 14 2018 at 08:28)</a>:</h4>
<p>I'd personally suggest an extension, no native date format is going to handle this, and expect that will be the tz offset, not the actual time zone. Tied with the actual date, not being the names is fine.<br>
We have some use cases with time only fields to associate a zone, so the when combined with a date can form a valid instant.<br>
Also would be a potentially breaking change otherwise, validations ensuring length is ... Etc</p>



<a name="153937331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937331">(Feb 14 2018 at 11:16)</a>:</h4>
<p>schema date allows this. So why would a native date not handle it? What would dot net do with a schema date with a timezone?</p>



<a name="153937387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937387">(Feb 14 2018 at 15:33)</a>:</h4>
<p>There's a noteable difference between offset and timezone</p>



<a name="153937388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937388">(Feb 14 2018 at 15:33)</a>:</h4>
<p>so may want to clarify that?</p>



<a name="153937389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937389">(Feb 14 2018 at 15:35)</a>:</h4>
<p>We've had issues in our system where we need a timezone and the offset is ambiguous.</p>



<a name="153937390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937390">(Feb 14 2018 at 15:36)</a>:</h4>
<p>but otherwise, I agree, it will be hard for us to parse this. We likely wouldn't allow this type of date either, since we wouldn't have a way to store it in our system.</p>



<a name="153937391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937391">(Feb 14 2018 at 15:36)</a>:</h4>
<p>XML Schema allows it, but is there an actual use case where it is significant? Isn't by definition the use of Date an indication that the precision of interest is 1 day, anything else is insignificant? As for .NET there is only a DateTime...</p>



<a name="153937392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937392">(Feb 14 2018 at 15:36)</a>:</h4>
<p>the question will be how hard it will be to 422 it vs. having the code just ignore the extra data. I would need to try out a few things :)</p>



<a name="153937455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937455">(Feb 14 2018 at 18:59)</a>:</h4>
<p>the use case is in the task. Certainly if you weren't interested, you would drop it</p>



<a name="153937456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937456">(Feb 14 2018 at 19:00)</a>:</h4>
<p>but DateTime doesn't do timezone anyway, so what's the difference for date?</p>



<a name="153937463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937463">(Feb 14 2018 at 19:14)</a>:</h4>
<p>In our system, we have the capability for most instants/dateTimes to store timezone and an offset. We do not have capability to store an offset for a date w/o time (and the libraries that we use to parse don't handle this type of data). We can, for some fields, store a date and time zone, but support for that is use case specific.</p>



<a name="153937464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937464">(Feb 14 2018 at 19:15)</a>:</h4>
<p>so... you can drop timezone then...</p>



<a name="153937466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937466">(Feb 14 2018 at 19:15)</a>:</h4>
<p>Yeah, it just means I need to figure out how to do that properly with our date parsers, assuming that ignoring it is the acceptable path for FHIR</p>



<a name="153937467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937467">(Feb 14 2018 at 19:16)</a>:</h4>
<p>rather than failing it (either path, we would need to update our parsers - as of now, it looks like this gets interpreted as a time not an offset by default)</p>



<a name="153937468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937468">(Feb 14 2018 at 19:17)</a>:</h4>
<p>it would have to be clear that systems are not required to preserve/round-trip the timezone part</p>



<a name="153937470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937470">(Feb 14 2018 at 19:26)</a>:</h4>
<p>This is why i would suggest the extension, means every client has to hands it, not just ignore the extension for the case you have.<br>
Another case may be using information elsewhere such as the location of the service our patient to drive zone.</p>



<a name="153937473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937473">(Feb 14 2018 at 19:36)</a>:</h4>
<p><span class="user-mention" data-user-id="194833">@Patrik Sundberg</span> do you want to comment?</p>



<a name="153937496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Olbrich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937496">(Feb 14 2018 at 22:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span> One possible way to handle this would be to parse it as a DateTime and then convert it to a pure date in the timezone your server is in.  Then you wouldn't need to store the timezone/offset.  In ruby it would be <code>DateTime.parse(date_with_timezone).to_date</code>.</p>



<a name="153937510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrik Sundberg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937510">(Feb 15 2018 at 00:29)</a>:</h4>
<p>I personally find it a bit odd that schema allows timezone offsets on dates (and times) but the fhir spec does not. I can think of multiple use cases where this information is valuable. But it would be quite concerning if a round trip store / retrieve to a fhir server was allowed to drop a provided timezone; I'm pretty sure that would cause bugs of various hard-to-diagnose kinds.</p>
<p>I personally would prefer the direct encoding ("2008-10-20+10:00") over an extension, since it's more natural, but if we do it that way then implementations would have to preserve it in their internal representations. I'll defer to the wisdom of the crowd as to whether the ship has sailed on making a change of that type.</p>
<p>While we're at it, I also think we should allow timezones on DateTimes consisting of only dates (the regex listed on the fhir datatypes page indicates that we don't currently), and possibly on times, though I don't personally need the latter right now.</p>



<a name="153937511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937511">(Feb 15 2018 at 00:33)</a>:</h4>
<p>we don't allow several things the schema spec does, including leap seconds</p>



<a name="153937512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937512">(Feb 15 2018 at 00:34)</a>:</h4>
<p>also, we don't ever say that servers have to round-trip faithfully. Yes, it's more reliable if servers do, but we live in the real world</p>



<a name="153937514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrik Sundberg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937514">(Feb 15 2018 at 00:41)</a>:</h4>
<p>Fair enough, leap second support is certainly quite low on my wish list. Guarantees similar to what exists (or not) for DateTimes with timezones should be sufficient.</p>
<p>So is the main concern implementations that would fail in some way (fail validation, for example) if they were to see a date with a timezone?</p>



<a name="153937515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937515">(Feb 15 2018 at 00:46)</a>:</h4>
<p>yes, and whether the reference implementations show up any structural issues</p>



<a name="153937582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937582">(Feb 15 2018 at 02:53)</a>:</h4>
<p>And any javascript code that handles the date will need to handle it (which is unlikely) where ignoring the extension for the rare case that its there is harmless.</p>



<a name="153937808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937808">(Feb 15 2018 at 15:29)</a>:</h4>
<p>The .NET library internally keeps the dates as strings (since there is no native format to represent partial dates and datetimes) - forcing the library to express it as a .NET DateTimeOffset will do the "natural" thing, that is turn 2014-01-01+01:00 into 2014-01-01 0:00 +01:00. </p>
<p>So, I don't think this is a big change for the API.</p>



<a name="153937909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937909">(Feb 15 2018 at 20:27)</a>:</h4>
<p>so I'm not sure where we stand on this:<br>
- is it a breaking change in theory: probably not?<br>
- is it a breaking change in practice: yes because most parsers will break, and there's downstream consequences<br>
- do people like the change: mostly not so much, but few people have the requirement</p>



<a name="153937910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937910">(Feb 15 2018 at 20:27)</a>:</h4>
<p><span class="user-mention" data-user-id="194833">@Patrik Sundberg</span> do you ever have the situation where the date timezone is different to the implicit timezone of the resource? Would it be better to mark the resource with a source timezone?</p>



<a name="153937984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937984">(Feb 15 2018 at 23:02)</a>:</h4>
<p>Some thoughts <br>
Date can be truncated to level of precision available: 2018, 2018-11, 2018-11-21<br>
Time cannot, it must be to the second: 12:25:36</p>
<p>So imprecision in time is represented by using zeros, and should have another element to indicate that the zero is not significant, e.g. time="12:25:00", precision="h:m" or imprecision="-00:00:00+00:00:59"</p>
<p>DateTime with an unknown time is often done as date with zero for the time. This should have another element to indicate that the zero is not significant, e.g. dateTime="2013-06-08T00:00:00Z", precision="yyyy-mm-dd".<br>
This allows time zones for DateTime with unknown time while accepting that time and date formats represent imprecision in different ways.</p>
<p>It does require us to confront imprecision in time.</p>



<a name="153937986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153937986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153937986">(Feb 15 2018 at 23:04)</a>:</h4>
<p>well, this is an orthogonal issue. We would prefer not to require seconds, but xml schema gives us no choice. No one has ever provided a use case for not having minutes.</p>



<a name="153938068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938068">(Feb 16 2018 at 03:34)</a>:</h4>
<p>XML schema allows it, but ISO 8601 does not as far as I can tell.</p>



<a name="153938164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrik Sundberg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938164">(Feb 16 2018 at 11:18)</a>:</h4>
<p>I can't currently think of a use case where timezones differ between date / datetime fields within a resource, but it doesn't strike me as impossible that it could happen.</p>
<p>I would prefer an extension on the primitive directly over an extension on the resource, to keep information local.</p>
<p>In practice, I think i'll make the protobuf implementation keep timezones for date/datetime/time, and parse from either the main value or from an extension, depending on how this thread pans out. I still would strongly prefer time offsets on the values though, extensions are a bit unwieldy.</p>
<p>Could we say that the SHALL won't apply until R4? Is that enough time to fix / test implementations? Or is this discussion already about R4, with R3 being frozen?</p>



<a name="153938168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938168">(Feb 16 2018 at 11:27)</a>:</h4>
<p>we've always said that a date SHALL not have a timezone. this discussion is about relaxing it for R4. My read is that we don't have enough support to relax that, and it'll be an extension.</p>



<a name="153938299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938299">(Feb 16 2018 at 22:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  ??  I just went to the STU3 data types page and it says this; has this changed in R4?</p>
<p>"A date, date-time or partial date (e.g. just year or year + month) as used in human communication. If hours and minutes are specified, a time zone <strong>SHALL</strong> be populated."</p>
<p>I can't imagine NOT having a timezone unless FHIR prescribed that everything MUST be converted to UTC; otherwise, how do you deal with the 'hour between timezone switches'?   </p>
<p>(There can also be use cases where the data is sourced in a different timezone from where the FHIR server is running or where the clinician is reviewing the data.   I suppose it's up to some user interface to make the presentation of this date/time correct to the human viewer but how can computing algorithms work without knowing the timezone.  For example, think about using observations to calculate daily intake and output totals.)</p>



<a name="153938311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938311">(Feb 17 2018 at 00:47)</a>:</h4>
<p>date, not dateTime</p>



<a name="153938488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrik Sundberg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938488">(Feb 19 2018 at 02:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Since dateTime has become a bit intermingled in this thread, can we clarify whether timezone offsets are allowed on dates within the dateTime type? For example, are "2001+02:00" or "2010-01-02Z" allowed dateTimes? The wording on the stu3 data types page seem to indicate yes, since such patterns are allowed by xs:date and xs:gYear, but the provided regex says no.  (I would like the answer to be yes)</p>



<a name="153938490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938490">(Feb 19 2018 at 02:30)</a>:</h4>
<p>that would be an oversight on our part. The regex is the correct statement of our intent</p>



<a name="153938495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrik Sundberg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938495">(Feb 19 2018 at 02:52)</a>:</h4>
<p>That's unfortunate. In our internal profiles, we require timezones on all dateTimes, dates, and times. It's quite difficult and error-prone to properly convert these types to instants on a timeline without that constraint. This is especially true when dealing with data from various different timezones that are not the same as the local timezone.</p>
<p>Extensions work for this use case but it would be nicer if they were not quite so necessary.</p>



<a name="153938496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/GF%2314673%3A%20allow%20timezone%20in%20date/near/153938496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/GF.2314673.3A.20allow.20timezone.20in.20date.html#153938496">(Feb 19 2018 at 02:55)</a>:</h4>
<p>well, you could propose changing it, but judging by the discussion, it wouldn't get any different reception than the discussion we've already had</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
