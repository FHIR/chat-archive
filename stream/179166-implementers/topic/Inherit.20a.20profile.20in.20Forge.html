---
layout: page
title: "FHIR Chat  · Inherit a profile in Forge · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html">Inherit a profile in Forge</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153921546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153921546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153921546">(Nov 24 2017 at 21:03)</a>:</h4>
<p>Sometime I hate Zulip. I lost my message.<br>
Try again.<br>
In Forge I have created a profile called PhdBaseObservation which contains constrained elements common to all profiles. I want to 'inherit' this profile in, for example, PhdNumericObservation. How do I do that?</p>
<p>Thanks</p>



<a name="153921556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153921556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153921556">(Nov 24 2017 at 21:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span></p>



<a name="153921635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153921635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153921635">(Nov 27 2017 at 10:46)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>, You can create a derived profile in Forge using the "New Derived Profile" command, which you can find in the File menu and in the Explorer toolbar. Forge will then open a file dialog for you to select an existing base profile (on disk).</p>



<a name="153921637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153921637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153921637">(Nov 27 2017 at 11:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span>  Thanks for that. While I am at it, how do I import a 'complete' profile into Simplifier and not just the difference. I think it has something to do with exporting in Forge which now gives me an XML with difference and not 'total' fields.</p>



<a name="153921652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153921652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lilian Minne <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153921652">(Nov 27 2017 at 14:40)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span> , in the Options menu in Forge you can select or deselect the option "Save snapshot component". By default this is not selected and your StructureDefinition is saved as a differential. By selecting this option, Forge will save the complete profile.</p>



<a name="153921653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153921653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153921653">(Nov 27 2017 at 14:41)</a>:</h4>
<blockquote>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span> , in the Options menu in Forge you can select or deselect the option "Save snapshot component". By default this is not selected and your StructureDefinition is saved as a differential. By selecting this option, Forge will save the complete profile.</p>
</blockquote>
<p>Thank you Lilian</p>



<a name="153921822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153921822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153921822">(Nov 28 2017 at 11:55)</a>:</h4>
<p>When you upload to Simplifier from Forge, the application now always emits a snapshot (regardless of the configuratio setting). As of three weeks ago, Simplifier is now capable of expanding the snapshot itself (only for DSTU3 profiles). So you should now always see a snapshot rendering on Simplifier.</p>



<a name="153923413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923413">(Dec 07 2017 at 17:07)</a>:</h4>
<blockquote>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>, You can create a derived profile in Forge using the "New Derived Profile" command, which you can find in the File menu and in the Explorer toolbar. Forge will then open a file dialog for you to select an existing base profile (on disk).</p>
</blockquote>
<p>Okay, that is great but I currently have a set of profiles which I would like to simplify and 'base' upon a single base profile. Is there a way to modify an existing profile such that it is based upon another profile or do I have to do the non-common stuff all over again?</p>



<a name="153923414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923414">(Dec 07 2017 at 17:16)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>, Forge won't let you update the base profile, but you can do it manually by editing the JSON/XML. If you re-open the updated profile in Forge, the application will re-expand the snapshot according to the new base profile. Then Forge will re-calculate the differential and remove any redundant differential constraints (now inherited from the base). You may have to correct some constraints that have become invalid w.r.t. new base. Finally, you can save the new rebased profile.</p>



<a name="153923415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923415">(Dec 07 2017 at 17:19)</a>:</h4>
<p>Okay, lets see if I understand<br>
I have the base profile and I have a profile that I want to inherit that base profile. So I make a new project as stated and open up the base profile. I save it. Then I hand-edit the result and add the material from the profile I want to simplify. Is that correct?</p>



<a name="153923417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923417">(Dec 07 2017 at 17:20)</a>:</h4>
<p>I assume you've already created your new "base" profile, and that you now want to re-base all your existing profiles on top of the new base, right?</p>



<a name="153923418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923418">(Dec 07 2017 at 17:20)</a>:</h4>
<p>YES!!!</p>



<a name="153923419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923419">(Dec 07 2017 at 17:22)</a>:</h4>
<p>Let me try to explain again...</p>



<a name="153923422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923422">(Dec 07 2017 at 17:24)</a>:</h4>
<p>1) Prepare your new custom "base" profile<br>
2) Open an existing profile in a text editor<br>
3) Edit the StructureDefinition.base property, update value to the url of your new "base" profile<br>
4) Save to disk<br>
5) Open the modified profile in Forge<br>
   Forge will re-expand the snapshot w.r.t. the new custom base profile<br>
   Forge will then re-calculate the differential and remove all redundant constraints (already present in new base profile)<br>
6) Correct errors (if any)<br>
7) Save to disk</p>
<p>You have now re-based your existing profile.</p>



<a name="153923423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923423">(Dec 07 2017 at 17:26)</a>:</h4>
<p>Okay,</p>
<p>I give it a whirl!</p>
<p>So I try this<br>
&lt;baseDefinition value="PhdBaseObservation" /&gt;<br>
instead of the old one</p>



<a name="153923425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923425">(Dec 07 2017 at 17:30)</a>:</h4>
<p>Just experiment with a single test profile. Once you understand the process, you can update the others.</p>



<a name="153923426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923426">(Dec 07 2017 at 17:32)</a>:</h4>
<p>Correct, point the value of StructureDefinition.baseDefinition to the canonical url (!) of your new base profile.</p>



<a name="153923427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923427">(Dec 07 2017 at 17:33)</a>:</h4>
<p>I get this error no matter what I try to open ( I deleted a file). But I am only trying to open a single file, not an IG or anything like that.</p>
<p>2017-12-07T12:32:00<br>
Forge Forge 16.5 for HL7 FHIR STU3<br>
Version: Version 16.5.0.0<br>
FHIR Version: FHIR .NET API library for 3.0.1</p>
<hr>
<p>FileNotFoundException in mscorlib:<br>
Could not find file 'E:\projects\FHIR_Profile\PhdNumericObservation.structuredefinition - Copy.xml'.<br>
   at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)<br>
   at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)<br>
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)<br>
   at Hl7.Fhir.Specification.Source.XmlFileConformanceScanner.List()<br>
   at Hl7.Fhir.Specification.Source.DirectorySource.&lt;prepareResources&gt;g__scanPaths37_5(List<code>1 paths)
   at Hl7.Fhir.Specification.Source.DirectorySource.prepareResources()
   at Hl7.Fhir.Specification.Source.DirectorySource.ResolveByCanonicalUri(String uri)
   at Hl7.Fhir.Specification.Source.CachedResolver.InternalResolveByCanonicalUri(String url)
   at Hl7.Fhir.Specification.Source.CachedResolver.&lt;.ctor&gt;b__3_1(String id)
   at Hl7.Fhir.Specification.Source.CachedResolver.Cache</code>1.Get(String identifier, CachedResolverLoadingStrategy strategy)<br>
   at Hl7.Fhir.Specification.Source.CachedResolver.ResolveByCanonicalUri(String url)<br>
   at Hl7.Fhir.Specification.Source.MultiResolver.ResolveByCanonicalUri(String uri)<br>
   at Hl7.Fhir.Specification.Snapshot.SnapshotGenerator.generate(StructureDefinition structure)<br>
   at Hl7.Fhir.Specification.Snapshot.SnapshotGenerator.Generate(StructureDefinition structure)<br>
   at Forge.ViewModels.FhirSnapshots.expandAll(StructureDefinition structureDef, IResourceResolver resolver, Boolean useSnapshot)<br>
   at Forge.ViewModels.StorageHandlerUtils.CreateStorageHandlers(IProfileVM target, String typeName)<br>
   at Forge.ViewModels.ProfileVM.set_ModelElement(Base value)<br>
   at Forge.ViewModels.ProfileVM.Initialize(Base modelElement, Base baseElement)<br>
   at Forge.ViewModels.ProfileVM..ctor(ISessionItem owner, StructureDefinition model, StructureDefinition baseModel, String contentDirectory)<br>
   at Forge.ViewModels.SessionItemVM.CreateResourceVM(SessionItemVM owner, Resource model, String contentDirectory)<br>
   at Forge.ViewModels.SessionItemVM..ctor(ISessionItem owner, IDocument document, Resource model)<br>
   at Forge.ViewModels.SessionItemVM.Open(IDocument document, Boolean dontLoad, Boolean asCopy)<br>
   at Forge.ViewModels.SessionItemVM.Open(Uri url, Boolean dontLoad, Boolean asCopy)<br>
   at Forge.ViewModels.SessionItemVM.Open(Boolean asCopy)<br>
   at Forge.ViewModels.SessionItemVM.Open()<br>
   at Forge.ViewModels.SessionVM.&lt;&gt;c.&lt;onOpen&gt;b__178_0(ISessionItem item)<br>
   at Forge.ViewModels.SessionVM.&lt;&gt;c__DisplayClass162_0.&lt;executeItemCollectionCommand&gt;b__0()<br>
   at Forge.Common.UIServices.ExecuteOnUIThread(Action action)<br>
   at Forge.ViewModels.SessionVM.executeCommand(Action action)</p>



<a name="153923428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923428">(Dec 07 2017 at 17:33)</a>:</h4>
<p>Maybe caching issue. Try to close and re-open the application.</p>



<a name="153923429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Inherit%20a%20profile%20in%20Forge/near/153923429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Inherit.20a.20profile.20in.20Forge.html#153923429">(Dec 07 2017 at 17:36)</a>:</h4>
<blockquote>
<p>Maybe caching issue. Try to close and re-open the application.</p>
</blockquote>
<p>Okay, that solved that problem. Good to know.</p>
<p>NOw I have a URL problem trying to point to my base profile. It says it cannot find my base profile<br>
All I have is </p>
<p>&lt;baseDefinition value="PhdBaseObservation" /&gt;</p>
<p>since the base profile is in the same directory as the profile I am playing with</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
