---
layout: page
title: "FHIR Chat  · fhir-net-api · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir-net-api.html">fhir-net-api</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153880238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir-net-api/near/153880238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir-net-api.html#153880238">(Mar 29 2017 at 11:47)</a>:</h4>
<p>I am using fhir-net-api STU3. I am simply returning a CapabilityStatement object from an api action method like this </p>
<div class="codehilite"><pre>    public IActionResult MetaData()
    {
        CapabilityStatement capabilityStatement = new CapabilityStatement();
        CapabilityStatement.SoftwareComponent softwareComponent = new CapabilityStatement.SoftwareComponent();
        softwareComponent.Name = &quot;Test Fhir Server&quot;;
        capabilityStatement.Software = softwareComponent;

        return Ok(capabilityStatement);
    }
</pre></div>


<p>It is fairly returning json response if I set (_format=json) in url but it gives error “406 Not Acceptable” if I set xml in url.</p>
<p>If I use any simple object say list of strings then it is returning both xml and json.</p>
<p>I don’t know how to resolve it.</p>
<p>I shall be very thankful for the help</p>



<a name="153880248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir-net-api/near/153880248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir-net-api.html#153880248">(Mar 29 2017 at 14:13)</a>:</h4>
<p>There are a bunch of required elements you're missing (status, date, fhirVersion, etc.)  Why the API is happy in JSON but not in XML is a bit weird though.  <span class="user-mention" data-user-id="191319">@James Agnew</span> ?</p>



<a name="153880254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir-net-api/near/153880254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir-net-api.html#153880254">(Mar 29 2017 at 14:27)</a>:</h4>
<p>I believe the question is about .Net rather than HAPI. Maybe <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> can help with this question? <span class="user-mention" data-user-id="193100">@Muhammad Abubakar</span>, please note that there is a "dotnet" stream dedicated to FHIR .Net implementations.</p>



<a name="153880260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir-net-api/near/153880260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir-net-api.html#153880260">(Mar 29 2017 at 14:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191393">@Igor Sirkovich</span> I searched that but I didn'nt found that stream kindly put the link I'll post there.<br>
The problem is that other objects are returning response in both json and xml problem is only with fhir resources that are in fhir net api stu3</p>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I'll look into that</p>



<a name="153880326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir-net-api/near/153880326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir-net-api.html#153880326">(Mar 29 2017 at 20:12)</a>:</h4>
<p>IActionResult is from MVC right?<br>
The fhir-net-api is does not work with the default .net serializers, you need to use the fhir serializers provided in the library.<br>
Servers like Spark and my sqlonfhir server use WebApi instead of MVC.<br>
<a href="http://stackoverflow.com/questions/40242939/custom-async-mediatypeformatter-returning-cannot-access-a-closed-stream/40838823?noredirect=1#comment69332848_40838823" target="_blank" title="http://stackoverflow.com/questions/40242939/custom-async-mediatypeformatter-returning-cannot-access-a-closed-stream/40838823?noredirect=1#comment69332848_40838823">http://stackoverflow.com/questions/40242939/custom-async-mediatypeformatter-returning-cannot-access-a-closed-stream/40838823?noredirect=1#comment69332848_40838823</a><br>
There is also <a href="https://github.com/furore-fhir/spark/tree/dstu2/develop" target="_blank" title="https://github.com/furore-fhir/spark/tree/dstu2/develop">https://github.com/furore-fhir/spark/tree/dstu2/develop</a> which is a DSTU2 implementation, and there is a NuGet package <a href="https://www.nuget.org/packages?q=Spark.Engine" target="_blank" title="https://www.nuget.org/packages?q=Spark.Engine">https://www.nuget.org/packages?q=Spark.Engine</a> which has the infrastructure parts of this in it.</p>



<a name="153880356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir-net-api/near/153880356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Muhammad Abubakar Ikram <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir-net-api.html#153880356">(Mar 30 2017 at 05:42)</a>:</h4>
<p>Oh alright. Sqlonfhir is open source? </p>



<a name="153880357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/fhir-net-api/near/153880357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/fhir-net-api.html#153880357">(Mar 30 2017 at 05:52)</a>:</h4>
<p>Spark is (reference to Github project above), sqlonfhir isn't</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
