---
layout: page
title: "FHIR Chat  · Searching by canonical URI with a fragment · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20by.20canonical.20URI.20with.20a.20fragment.html">Searching by canonical URI with a fragment</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219292272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20by%20canonical%20URI%20with%20a%20fragment/near/219292272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20by.20canonical.20URI.20with.20a.20fragment.html#219292272">(Dec 09 2020 at 02:51)</a>:</h4>
<p>Given that I have some canonical URI with a fragment (<a href="https://www.hl7.org/fhir/references.html#canonical-fragments">as per specification</a>), how should I approach resolving it via FHIR API?<br>
FHIR search API doesn't say anything about fragments.</p>
<p>Should FHIR search support fragments? That would be easiest for the client in the sense that client wouldn't need to know the type of the "container", the search would be simply be <code>ValueSet?uri=http%3A%2F%2Ffhir.acme.com%2FQuestionnaire%2Fexample%7C1.0%23vs1</code> and then it's up to the server to somehow figure that the <code>ValueSet</code> being searched is actually contained inside some <code>Questionnaire</code>.</p>
<p>Another alternative would be for client to resolve canonical URI without the fragment first, then to lookup the contained resource. However, in that case, how would client formulate the search query? You cannot do <code>?uri=http%3A%2F%2Ffhir.acme.com%2FQuestionnaire%2Fexample%7C1.0</code>. Maybe, <code>?_type=CodeSystem,ValueSet,ImplementationGuide&amp;uri=http%3A%2F%2Ffhir.acme.com%2FQuestionnaire%2Fexample%7C1.0</code>? That just looks plain ugly and also requires client to know the types of all possible containers.</p>



<a name="219293017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20by%20canonical%20URI%20with%20a%20fragment/near/219293017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20by.20canonical.20URI.20with.20a.20fragment.html#219293017">(Dec 09 2020 at 03:06)</a>:</h4>
<p>I don't think we've ever discussed whether search should find into contained canonicals. Does it work on <a href="http://test.fhir.org">test.fhir.org</a>?</p>



<a name="219294028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20by%20canonical%20URI%20with%20a%20fragment/near/219294028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ivan Dubrov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20by.20canonical.20URI.20with.20a.20fragment.html#219294028">(Dec 09 2020 at 03:27)</a>:</h4>
<p>No, it doesn't work. I created CodeSystem <a href="http://test.fhir.org/r4/CodeSystem/1">http://test.fhir.org/r4/CodeSystem/1</a> and then searched ValueSet contained in it via <a href="http://test.fhir.org/r4/ValueSet?url=urn%3Auuid%3A49da80fe-107d-4958-aca4-2db07276f0e5%23full">http://test.fhir.org/r4/ValueSet?url=urn%3Auuid%3A49da80fe-107d-4958-aca4-2db07276f0e5%23full</a></p>
<p>This use-case of "entire" ValueSet being contained in the CodeSystem itself is by the way exactly the use-case I'm interested in: it makes sense to me from the tooling point of view (not for all CodeSystems, of course, but for some). Makes it easier to manage that pair of CodeSystem &lt;--&gt; entire ValueSet.</p>



<a name="219296442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%20by%20canonical%20URI%20with%20a%20fragment/near/219296442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.20by.20canonical.20URI.20with.20a.20fragment.html#219296442">(Dec 09 2020 at 04:18)</a>:</h4>
<p>Implicit ValueSets within a CodeSystem?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
