---
layout: page
title: "FHIR Chat  · VA Lighthouse · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html">VA Lighthouse</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153970598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970598">(Jun 19 2018 at 19:00)</a>:</h4>
<p><a href="http://portal.lighthouse.vaftl.us" target="_blank" title="http://portal.lighthouse.vaftl.us">http://portal.lighthouse.vaftl.us</a></p>



<a name="153970619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970619">(Jun 19 2018 at 19:48)</a>:</h4>
<p>I do not see where the smart end points are documented, nor can I get the conformance statement to find out what they are...</p>



<a name="153970638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970638">(Jun 19 2018 at 20:43)</a>:</h4>
<p>...I asked for details using their form...</p>



<a name="153970656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970656">(Jun 20 2018 at 01:16)</a>:</h4>
<p>apparently they have not published a conformance statement... but there's no SMART end point information available anywhere else either</p>



<a name="153970837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970837">(Jun 20 2018 at 17:21)</a>:</h4>
<p>Grahame, sorry for the delay. I was talking to some coworkers to make sure I understood the request clearly.</p>
<p>Our portal in the sandbox is using the following authorize and token endpoint. Actually we are just using authorize currently with an implicit grant.</p>
<p><a href="https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/authorize" target="_blank" title="https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/authorize">https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/authorize</a></p>
<p><a href="https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/token" target="_blank" title="https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/token">https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/token</a></p>
<p>The integration with Okta is a bit of a work in progress. If you select the Register with Okta link available from the portal (select Okta Authentication button) you will create an account and be automatically added to trusted developers group. That will allow you to get tokens from within the portal app.</p>
<p>When you register for an Okta account you also provide the app type and your app redirect for the application you are developing.  I will need to work more with Okta on how a developer can register their app and get their own assigned client Id for direct calls from their own app.</p>
<p>Does this help? If you have more questions, can we get together and discuss Thursday morning with some of my coworkers?</p>
<p>Andy</p>



<a name="153970856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970856">(Jun 20 2018 at 18:35)</a>:</h4>
<p>I also have someone adding the conformance statement to our API in the sandbox. It is in our production deployment but was left out by accIdent in the sandbox during our move to deploy to AWS.</p>



<a name="153970859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970859">(Jun 20 2018 at 18:47)</a>:</h4>
<p>What would be helpful (needed?) is implementing SMART - so that clients can figure out the OAuth end points from the FHIR conformance, and they can get the patient ID</p>



<a name="153970861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970861">(Jun 20 2018 at 18:48)</a>:</h4>
<p>and yes, something is needed to register the apps (and maintain those registrations)</p>



<a name="153970862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970862">(Jun 20 2018 at 18:52)</a>:</h4>
<p>..and SMART = code grant, not implicit</p>



<a name="153970871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970871">(Jun 20 2018 at 19:11)</a>:</h4>
<p>(SMART specs are at <a href="http://docs.smarthealthit.org/authorization/" target="_blank" title="http://docs.smarthealthit.org/authorization/">http://docs.smarthealthit.org/authorization/</a>)</p>



<a name="153970891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970891">(Jun 20 2018 at 20:53)</a>:</h4>
<p>thanks Andy. The the 2 end-points are what I was looking for, but I also need a client id</p>



<a name="153970892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970892">(Jun 20 2018 at 21:03)</a>:</h4>
<p>This is the call the portal makes (all scopes specified) so it has the portal client id; but when you execute outside the portal I'm getting a Page Not Found on the redirect; I'm checking on that. I also have an email out to Okta asking about the ability of developers to register their own app and get their own client id after they have created an Okta account. That might be the best approach. I'll update here when I hear back from them.</p>
<p><a href="https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/authorize?response_type=token&amp;client_id=0oaf386le9GqRz4y80h7&amp;redirect_uri=http://portal.lighthouse.vaftl.us/authorization&amp;scope=patient/Patient.read+patient/AllergyIntolerance.read+patient/Medication.read+patient/Immunization.read+patient/Condition.read&amp;state=fjkldahfkaew3295&amp;nonce=12345" target="_blank" title="https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/authorize?response_type=token&amp;client_id=0oaf386le9GqRz4y80h7&amp;redirect_uri=http://portal.lighthouse.vaftl.us/authorization&amp;scope=patient/Patient.read+patient/AllergyIntolerance.read+patient/Medication.read+patient/Immunization.read+patient/Condition.read&amp;state=fjkldahfkaew3295&amp;nonce=12345">https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/authorize?response_type=token&amp;client_id=0oaf386le9GqRz4y80h7&amp;redirect_uri=http://portal.lighthouse.vaftl.us/authorization&amp;scope=patient/Patient.read+patient/AllergyIntolerance.read+patient/Medication.read+patient/Immunization.read+patient/Condition.read&amp;state=fjkldahfkaew3295&amp;nonce=12345</a></p>



<a name="153970932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153970932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153970932">(Jun 21 2018 at 11:21)</a>:</h4>
<p>I wanted to remind everyone and encourage them to visit the VA API Developer Sandbox (<a href="http://portal.lighthouse.vaftl.us" target="_blank" title="http://portal.lighthouse.vaftl.us">http://portal.lighthouse.vaftl.us</a>) and to register with both the portal and Okta via the Okta Authentication button (via the portal). While the portal will be available beyond this week, the ability to register as an Okta trusted developer so you can request access tokens for use with the API calls to ~7000 synthetic veterans (and growing)  may only be open to all this week. Once you are a registered with Okta, you will be able to request tokens beyond this week. Visit the Getting Started page on the portal for more details. I will be upstairs on the mezzanine from 10-11 today to answer any questions. If you can't find me, you can reach me at 321-272-9516.</p>



<a name="153971035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971035">(Jun 22 2018 at 00:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191912">@Michele Mottini</span>  <span class="user-mention" data-user-id="197476">@Dave Carlson</span>    The conformance statement has been added to the API in the sandbox (<a href="https://lighthouse.vaftl.us/metadata" target="_blank" title="https://lighthouse.vaftl.us/metadata">https://lighthouse.vaftl.us/metadata</a>). I'm verifying with Okta on the client id for each developer and also checking to see if they are supporting more than just implicit grant currently. If not, we will need to change that as well. I will update here as I get those answers.</p>



<a name="153971044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971044">(Jun 22 2018 at 02:42)</a>:</h4>
<p>Thanks Andy. Conformance looks good</p>



<a name="153971078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971078">(Jun 22 2018 at 11:48)</a>:</h4>
<p>@Grahame Grieve @Michele Mottini @Dave Carlson: To get your Okta client id/secret go to <a href="https://va.oktapreview.com" target="_blank" title="https://va.oktapreview.com">https://va.oktapreview.com</a> and login. Then hit "Admin" at upper right. Then "My Applications" link at the top right of the next page. Then select "Manage Your App". Select the hyperlink for your app (should be "DEV - &lt;email&gt; -&lt;client id&gt;"). After that you can go to the "General" tab and you should be able to set up grant types, re-direct, and view client secret. Let me know if that works OK for you.</p>



<a name="153971134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971134">(Jun 22 2018 at 13:51)</a>:</h4>
<p>Tried with out test Web app (<a href="https://demo.careevolution.com/SMARTest/SMARTest.html" target="_blank" title="https://demo.careevolution.com/SMARTest/SMARTest.html">https://demo.careevolution.com/SMARTest/SMARTest.html</a>) and it does not work because the token end point does not support CORS</p>



<a name="153971137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971137">(Jun 22 2018 at 13:51)</a>:</h4>
<p>(Browser console error message: Failed to load <a href="https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/token" target="_blank" title="https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/token">https://va.oktapreview.com/oauth2/ausf3a1z7uI5V3xjU0h7/v1/token</a>: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '<a href="https://demo.careevolution.com" target="_blank" title="https://demo.careevolution.com">https://demo.careevolution.com</a>' is therefore not allowed access.)</p>



<a name="153971158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971158">(Jun 22 2018 at 14:26)</a>:</h4>
<p>Tried with our production app - that has a server and so does not require CORS: I was able to complete the authentication sequence, but there is no support for the launch/patient scope and no patient ID is returned in the token response....how  can an app figure out the FHIR patient ID?</p>



<a name="153971159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971159">(Jun 22 2018 at 14:28)</a>:</h4>
<p>Some things about Okta:</p>



<a name="153971160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971160">(Jun 22 2018 at 14:28)</a>:</h4>
<p>1) It requires two factor authentication and it offers you to save it for no longer than 30 minutes - that is a bit drastic (I think the 'standard' is more like 30 days)</p>



<a name="153971161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971161">(Jun 22 2018 at 14:29)</a>:</h4>
<p>2) Eventually there should be a way to create and manage more than one app</p>



<a name="153971162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971162">(Jun 22 2018 at 14:30)</a>:</h4>
<p>3) There should be some test logins corresponding to test patients to use for apps - now I am logging in with my own identity but it would not match any of you test patient data (maybe they already exist but I could not find them)</p>



<a name="153971163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971163">(Jun 22 2018 at 14:36)</a>:</h4>
<p>We are working with Okta to embed the patient ICN in the token (and support the launch /patient scope); since we are currently supporting a patient getting his/her own records, we will need Okta to use an API to MVI (Master Veteran's Index) to return a veteran's patient ICN and then they can store that in their universal directory and include in future tokens . In the sandbox right now we are not yet matching the patient ICN from the token to the ICN requested in the API call.  So you can read /search any of the 7000 current patients (some provided in the GettingStarted page). But what you are talking about will be coming  So, agree with your #3 above that we need some test patients (with published login credentials) so that we can pre-populate with the synthetic data patient id so the token id would match.</p>



<a name="153971164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971164">(Jun 22 2018 at 14:38)</a>:</h4>
<p>I appreciate you checking this out and your feedback!</p>



<a name="153971165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971165">(Jun 22 2018 at 14:48)</a>:</h4>
<p>OK, great, thanks Andy</p>



<a name="153971166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971166">(Jun 22 2018 at 14:49)</a>:</h4>
<p>Our app expects the patient ID, so I am sort of stuck testing, but maybe I can patch it to use a hard-coded patient ID to try to import some data</p>



<a name="153971197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971197">(Jun 22 2018 at 15:38)</a>:</h4>
<p>I hard-coded one of the test patient ID and I was able to import data (medications and conditions) without problems</p>



<a name="153971198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971198">(Jun 22 2018 at 15:38)</a>:</h4>
<p>Two things I noticed:</p>



<a name="153971199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971199">(Jun 22 2018 at 15:39)</a>:</h4>
<p>1) Various resources references Encounter, but the Encounter resource is not supported, so those references cannot be resolved</p>



<a name="153971203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971203">(Jun 22 2018 at 15:42)</a>:</h4>
<p>2) Searches with _count greater than 20 fail - I think most server just ignore _count values that are out of valid range, defaulting to the closest valid range</p>



<a name="153971208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971208">(Jun 22 2018 at 15:48)</a>:</h4>
<p>Thanks for that. I expect the Encounter issue as the DB tables have  been loaded for 7 resources thus far. More coming. I’ll talk to the team on the _count comment. You can get to all the data by using value 20 or less and then specifying the desired page, correct?</p>



<a name="153971225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971225">(Jun 22 2018 at 16:41)</a>:</h4>
<p>FHIR doesn't support specifying a desired page - you just navigate the "next" link until you get to where you want to be.</p>



<a name="153971241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971241">(Jun 22 2018 at 17:44)</a>:</h4>
<p>Yes, I can get all the data following the next links - works fine</p>



<a name="153971761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971761">(Jun 26 2018 at 11:56)</a>:</h4>
<p>I updated the "Getting Started" page on the portal with the steps to access the assigned client id and secret from Okta for your application as well as how to access the grant type configuration. With this you should be able to integrate the API into your application (as Michele has done).  </p>
<p>We will be changing the API behavior (in production and sandbox) to have the behavior that Michele mentioned in regard to bundles, i.e. don't return an error if _count exceeds the server maximum, but instead use the max _count for the server.</p>
<p>Still need to get with Okta  on the launch/patient scope and including the patient id in the delivered tokens. Also, need to check if we can create a few test patient accounts and publish credentials so developers and use that to simulate a patient logging into the application authorizing access to his/her own information.</p>



<a name="153971772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153971772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153971772">(Jun 26 2018 at 12:42)</a>:</h4>
<p>Thanks Andy</p>



<a name="153975029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153975029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Geiersbach <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153975029">(Jul 13 2018 at 00:48)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="196192">@Andy Stein</span> </p>
<p>Chris from Verily - my other question regarding OAuth was whether there are plans to support the "patient/*.read" scope?</p>
<p>Thanks! Looking forward to when Okta supports the patient ID in the token, for now we'll hardcode a patient ID too for testing.</p>



<a name="153975030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153975030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153975030">(Jul 13 2018 at 00:52)</a>:</h4>
<p><span class="user-mention" data-user-id="195461">@Chris Geiersbach</span>  Yes, wildcard scopes was on our to-do list for Okta. Okta is under a separate agreement with the VA (via FTC) so we are presenting them our wish list, but launch/patient, wildcard read, and patient id embedded in the token are all on our list. We have provided them our needs for supporting SMART on FHIR and they are reviewing. We are supposed to get together with them again next week to review.</p>



<a name="153976873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/VA%20Lighthouse/near/153976873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/VA.20Lighthouse.html#153976873">(Jul 20 2018 at 16:05)</a>:</h4>
<p>@Chris Geiersbach update for you. Okta has added support for the "patient/*.read". We have not put that on our portal yet, but if you are integrating directly from your SMART App, it's there now.  Okta also supports offline_access scope and refresh tokens in the OAuth flow. They are adding support for launch/patient and embedding the patient id in the token. For that, we will add the ability in the portal allowing the developer to set a patient id for his/her own Okta account to that of a synthetic patient in the database. I will publish lists of good synthetic patients for the various resources  as well as diseases/ailments (e.g.. diabetes or lung cancer).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
