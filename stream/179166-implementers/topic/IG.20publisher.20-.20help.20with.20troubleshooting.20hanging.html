---
layout: page
title: "FHIR Chat  · IG publisher - help with troubleshooting hanging · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html">IG publisher - help with troubleshooting hanging</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153926361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926361">(Dec 20 2017 at 00:16)</a>:</h4>
<p>Hello, <br>
We are having issues with the IG publisher hanging at a particular point and have figured out that it has something to do with our company network - not the IG publisher specifically. If we run the same inputs via our home network or via our personal mobile hotspots, all is well. As such we are hypothesising that there may have been some firewall changes that are causing the problem. Note that a few weeks ago, there were no problems and it ran well. I have logged a ticket with our internal IT to try to progress things from that end, but I am wondering if there may be some pointers from this community as to where the problem may lie.</p>
<p>Our implementation guide has profiles that are formally derived from various profiles in the <a href="http://build.fhir.org/ig/hl7au/au-fhir-base/index.html" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base/index.html">HL7 Australia 'au-fhir-base' IG</a>. For example, we have a patient profile derived from the HL7 Au patient profile etc. The json controller file contains this source as a dependencyList entry.<br>
Running a recent IG publisher v3.1.0-12604 (however the version doesn't affect the problem behaviour).<br>
We have also added full verbose logging in the json controller file to better see what is going on. Running the IG publisher on the command line gives the following output:</p>
<div class="codehilite"><pre><span></span>......
Check Generate C:\work\git\dh-participants-ig-forge\qa\tbl_spacer.png            (24.0373sec)
Check Generate C:\work\git\dh-participants-ig-forge\temp\tbl_spacer.png          (24.0374sec)
Initialization complete                                                          (24.0376sec)
Load Content                                                                     (24.0377sec)
Processing Conformance Resources                                                 (25.0628sec)
process type: NamingSystem                                                       (25.0628sec)
process type: CodeSystem                                                         (25.0628sec)
process type: ValueSet                                                           (25.0628sec)
process type: ConceptMap                                                         (25.0628sec)
process type: DataElement                                                        (25.0628sec)
process type: StructureDefinition                                                (25.0628sec)
process res: patient-australianhuman-base                                        (25.0629sec)
</pre></div>


<p>At the point of the first structure definition resource, the command line output just hangs there without further progress and there are no other indications of failure. At this point, if we then switch networks to our personal hotspot, the output then resumes and completes within an expected timeframe.<br>
We are at a loss as to what is specifically occurring at this point of the process in order to inform our IT staff. Any ideas? I'd be happy to provide any further info, not sure what extra helps at the moment.</p>



<a name="153926380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926380">(Dec 20 2017 at 03:23)</a>:</h4>
<p>Do you have the dependency as a source file as well as a url (location)?  <br>
e.g.,</p>
<div class="codehilite"><pre><span></span> &quot;dependencyList&quot;: [

    {
       &quot;name&quot; : &quot;uscore&quot;,
       &quot;location&quot; : &quot;http://hl7.org/fhir/us/core&quot;,
       &quot;source&quot; : &quot;definitions.json.zip&quot;
    }
</pre></div>


<p>also you can run the run the  ig publisher - to run without a terminology server use the '-tx N/A' option and see if that is the issue</p>



<a name="153926414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926414">(Dec 20 2017 at 04:42)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191401">@Eric Haas</span>, </p>
<p><strong>Re dependencyList source</strong><br>
Well spotted. We didn't have the source file listed. But actually, after adding it and when the publisher is then run (with no other changes) this error is given:</p>
<div class="codehilite"><pre><span></span>Connect to Terminology Server at http://tx.fhir.org/r3                           (16.0757sec)
Terminology Server Version has changed from 1.0.152 to 1.0.198, so clearing txCache (18.0994sec)
Load aubase (http://build.fhir.org/ig/hl7au/au-fhir-base) from definitions.json.zip (19.0253sec)
Publishing Content Failed: C:\work\git\dh-participants-ig-forge\definitions.json.zip\definitions.xml.zip (The system cannot find the path specified) (19.0254sec)
                                                                                 (19.0254sec)
Use -? to get command line help                                                  (19.0254sec)
                                                                                 (19.0254sec)
Stack Dump (for debugging):                                                      (19.0254sec)
java.io.FileNotFoundException: C:\work\git\dh-participants-ig-forge\definitions.json.zip\definitions.xml.zip (The system cannot find the path specified)
        at java.io.FileInputStream.open0(Native Method)
        at java.io.FileInputStream.open(Unknown Source)
        at java.io.FileInputStream.&lt;init&gt;(Unknown Source)
        at java.io.FileInputStream.&lt;init&gt;(Unknown Source)
        at org.hl7.fhir.igtools.publisher.Publisher.fetchDefinitions(Publisher.java:1211)
        at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:1120)
        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:855)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:342)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3969)
Exception in thread &quot;main&quot; java.lang.NullPointerException
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3979)
</pre></div>


<p>This file does exist within the resources folder.</p>
<p><strong>Re switching off the terminology server:</strong><br>
Reverting the IG json controller file to remove the dependency source file and running the IG publisher with <code>-tx N/A</code> then does successfully complete (along with the expected warnings about "running without terminology server" etc).</p>
<p>When I combine both of the above, I still get the stack dump error listed first.</p>



<a name="153926422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926422">(Dec 20 2017 at 05:39)</a>:</h4>
<p>The IT staff have indicated there is a known issue with our network regarding authentication handshaking with various websites. And it seems that the FHIR terminology server is now one of them!</p>



<a name="153926426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926426">(Dec 20 2017 at 06:24)</a>:</h4>
<p>When has this started to happen <span class="user-mention" data-user-id="192270">@Rob Eastwood</span> ?</p>



<a name="153926428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926428">(Dec 20 2017 at 06:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span></p>



<a name="153926429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926429">(Dec 20 2017 at 06:25)</a>:</h4>
<p>A couple of weeks ago. IT have been making network changes.</p>



<a name="153926430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926430">(Dec 20 2017 at 06:26)</a>:</h4>
<p>We can run the ig publisher from home.</p>



<a name="153926432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926432">(Dec 20 2017 at 07:24)</a>:</h4>
<p><code>C:\work\git\dh-participants-ig-forge\definitions.json.zip\definitions.xml.zip</code> is not a valid path   looks like definitions.xml.zip  is appended to the definitions.json.zip</p>



<a name="153926434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926434">(Dec 20 2017 at 07:25)</a>:</h4>
<p>if it runs w/o hitting the terminology server then that  could be the network firewall issue.</p>



<a name="153926450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926450">(Dec 20 2017 at 10:05)</a>:</h4>
<p>are they forcing the use of ssl?</p>



<a name="153926556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926556">(Dec 20 2017 at 23:34)</a>:</h4>
<p>Thanks guys for your input.</p>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> - it started on (or 1 day either side of) Tues Dec 5</p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - not sure about the specifics re SSL but I will put that to the IT guys</p>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> - yes this is very curious and it seems to be a second (probably related?) problem. The file <code>definitions.json.zip</code> is located in the resources folder but its content neither includes a <code>definitions.xml.zip</code>or definitions for the specific dependency; that is, it has a bunch of 'us-core' related definitions. This originates from the <a href="https://github.com/Healthedata1/IG-Template" target="_blank" title="https://github.com/Healthedata1/IG-Template">Healthedata1 template</a> that we commenced using some months ago and this zip file has not been updated since. So I have followed the file structure of the Healthedata1 template re the dependencies folders, copied in the definitions.json.zip file from the actual dependency and now the error does not occur. The json controller file now has the added line indicated below:</p>
<div class="codehilite"><pre><span></span>&quot;dependencyList&quot;: [{
       &quot;name&quot; : &quot;aubase&quot;,
       &quot;location&quot; : &quot;http://build.fhir.org/ig/hl7au/au-fhir-base&quot;,
        &quot;source&quot;: &quot;dependencies/aubase&quot;    &lt;&lt;&lt;&lt; Added this line
    }]
</pre></div>


<p>Thanks for pointing me in the right direction.</p>



<a name="153926561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153926561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153926561">(Dec 20 2017 at 23:49)</a>:</h4>
<p>Oh, just to confirm - the above changes re the dependencyList source eliminates the stack dump error listed above, but the IG publisher still only completes its run using the no terminology server switch (<code>-tx N/A</code>)</p>



<a name="153928052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153928052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153928052">(Jan 08 2018 at 22:52)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - re SSL: it looks like at the time of this problem starting, SSL started being enforced (yet to be confirmed but all indications are so). We are still seeking assistance from our IT guys, but is there anything we can do via running the publisher that can help? Thank you</p>



<a name="153928053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153928053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153928053">(Jan 08 2018 at 22:55)</a>:</h4>
<p>remind me what the actual error is?</p>



<a name="153928058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153928058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153928058">(Jan 08 2018 at 23:15)</a>:</h4>
<p>Well, there isn't an actual error per se as the output just hangs at the point it starts processing the first structure definition file. With full logging turned on the output just stops at this (initial output truncated for brevity):</p>
<div class="codehilite"><pre><span></span>.....
Check Generate C:\work\git\dh-participants-ig-forge\qa\tbl_spacer.png            (18.0083sec)
Check Generate C:\work\git\dh-participants-ig-forge\temp\tbl_spacer.png          (18.0084sec)
Initialization complete                                                          (18.0085sec)
Load Content                                                                     (18.0085sec)
Processing Conformance Resources                                                 (18.0954sec)
process type: NamingSystem                                                       (18.0964sec)
process type: CodeSystem                                                         (18.0964sec)
process type: ValueSet                                                           (18.0964sec)
process type: ConceptMap                                                         (18.0964sec)
process type: DataElement                                                        (18.0964sec)
process type: StructureDefinition                                                (18.0965sec)
process res: patient-australianhuman-base                                        (18.0965sec)
</pre></div>



<a name="153928059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153928059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153928059">(Jan 08 2018 at 23:42)</a>:</h4>
<p>maybe you'll have to run it under the debugger?</p>



<a name="153928061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153928061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153928061">(Jan 08 2018 at 23:52)</a>:</h4>
<p>Thanks Grahame - not sure what you mean by that (did a search on zulip and the IG publisher wiki). Not sure if you mean the logging outputs, as I have put this into the ig.json file:</p>
<div class="codehilite"><pre><span></span>&quot;logging&quot;: [&quot;init&quot;, &quot;progress&quot;, &quot;context&quot;, &quot;html&quot;, &quot;tx&quot;],
</pre></div>


<p>Could you poke me in the right direction please</p>



<a name="153928062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153928062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153928062">(Jan 08 2018 at 23:53)</a>:</h4>
<p>all the source is in the main svn (under \build) - use eclipse and run the IG publisher under the java debugger.</p>



<a name="153928063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153928063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153928063">(Jan 08 2018 at 23:53)</a>:</h4>
<p>maybe someone in Phil's team can help</p>



<a name="153928064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20publisher%20-%20help%20with%20troubleshooting%20hanging/near/153928064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20publisher.20-.20help.20with.20troubleshooting.20hanging.html#153928064">(Jan 08 2018 at 23:54)</a>:</h4>
<p>ok thanks Grahame :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
