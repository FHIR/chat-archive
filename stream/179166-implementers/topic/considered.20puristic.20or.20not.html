---
layout: page
title: "FHIR Chat  · considered puristic or not · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html">considered puristic or not</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="165526339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165526339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165526339">(May 13 2019 at 13:08)</a>:</h4>
<p>I'm trying to gather some community input on the general use of the REST API that I can only imagine that most  FHIR implementations contain/support. The question is this: "Whenever your application supports parts or the entire CRUD spectrum on a give resource type, how often do you choose to embed business logic and/or server side effects in that particular operation that modifies or ignores parts of the content from the request - opposed to make a FHIR custom operation instead?" - This is particularly interesting for CREATE and UPDATE operations.</p>



<a name="165528042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165528042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165528042">(May 13 2019 at 13:30)</a>:</h4>
<p>IMHO any large scale implementation which processes (potentially conflicting/overlapping) data from multiple sources will have to do some server-side filtering. $process-message comes to mind (for those who use FHIR Messaging). Like Jens I'd be curious to hear what server implementers have done with this regard.</p>



<a name="165528303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165528303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165528303">(May 13 2019 at 13:32)</a>:</h4>
<p>In a project im currently engaged in we are trying to be puristic about it - meaning that side effects may be present, but they have no or little impact on the resource posted by clients. Instead we have favoured PATCH support (with whitelisted paths) and custom operations</p>



<a name="165529472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165529472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165529472">(May 13 2019 at 13:45)</a>:</h4>
<blockquote>
<p>how often do you choose to embed business logic and/or server side effects in that particular operation that modifies or ignores parts of the content from the request</p>
</blockquote>
<p>All the time because we are mapping to our data model that does not support all the data that _can_ be in a FHIR resource</p>



<a name="165535116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165535116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165535116">(May 13 2019 at 14:46)</a>:</h4>
<p>Some level of filtering will be pretty typical - due to persistence limitations, permission limitations and/or other business rules.  That's why the response to creates and updates can echo back what actually got stored or return an OperationOutcome with warnings.</p>



<a name="165610852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165610852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165610852">(May 14 2019 at 10:35)</a>:</h4>
<p>So as a server I can choose to ignore a PUT or POST as long as I return a warning (stating that I did ignore it) ? Kind of defeats the idea of a client-driven architecture..</p>



<a name="165613871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165613871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165613871">(May 14 2019 at 11:26)</a>:</h4>
<p>I don't see why. 'client-driven' shouldn't be a blank cheque to create chaos</p>



<a name="165616300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165616300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165616300">(May 14 2019 at 12:11)</a>:</h4>
<blockquote>
<p>Some level of filtering will be pretty typical - due to persistence limitations, permission limitations and/or other business rules.  That's why the response to creates and updates can echo back what actually got stored or return an OperationOutcome with warnings.</p>
</blockquote>
<p>Right - I understand that the content posted by the client is echoed back with potential changed content according to the servers business rules - but it just not seem right in a couple of scenarios. I would say that PATCH seems pretty obvious for partial content updating for obvious reasons - it is however a bit harder to implement. AFAIK, there isn't any structured way to document what part of a resource which is entirely determined by the server - or is there?</p>



<a name="165616436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165616436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165616436">(May 14 2019 at 12:13)</a>:</h4>
<p>How would you for instance tell a client that you can do all the updates to a patient resource that you can think of besides altering its identifiers as they are entirely controlled by the business logic of the server</p>



<a name="165616521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165616521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165616521">(May 14 2019 at 12:15)</a>:</h4>
<p>Or even more complex - how will you tell a client that they can update all of the patient instance, except the official name and the official identifier as they are governed by another system/the server - and if you try to it will be entirely ignored</p>



<a name="165616592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165616592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165616592">(May 14 2019 at 12:16)</a>:</h4>
<blockquote>
<p>So as a server I can choose to ignore a PUT or POST as long as I return a warning (stating that I did ignore it) ? Kind of defeats the idea of a client-driven architecture..</p>
</blockquote>
<p>ignore the entirety of the request or parts of it?</p>



<a name="165616706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165616706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165616706">(May 14 2019 at 12:18)</a>:</h4>
<p>What Im probably searching for here as a way to tell a client that parts of a resource is governed elsewhere and cannot be changed by the client itself in a structured fashion.</p>



<a name="165616715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165616715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165616715">(May 14 2019 at 12:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="165616722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165616722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165616722">(May 14 2019 at 12:18)</a>:</h4>
<p>I think you are describing a level of policy driven StructureDefinition Profile that might be needed, but is not expressed today. Expressing these policy based things has not been our focus till this point. I could imagine it being an extension of a StructureDefinition Profile, much like you just narrative described.</p>



<a name="165618380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165618380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165618380">(May 14 2019 at 12:42)</a>:</h4>
<p>Right now, I'd just document it as part of the profile: such and such field will be ignored if you try and change it.</p>



<a name="165618392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165618392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165618392">(May 14 2019 at 12:42)</a>:</h4>
<p>(I'm kind of wary of stuffing even more obscure fields into ElementDefinition...)</p>



<a name="165620661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165620661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165620661">(May 14 2019 at 13:13)</a>:</h4>
<p>Putting stuff in a narrative usually do not catch my attention - icons, flags and gifs however do catch my attention. I guess my suggestion is to add yet another element in the ElementDefinition that says something like "Beware, gory details could be present here"</p>



<a name="165621160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165621160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165621160">(May 14 2019 at 13:19)</a>:</h4>
<p>That’d be awesome; we could set it to true on every element in the base spec ;-)</p>



<a name="165621287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165621287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165621287">(May 14 2019 at 13:20)</a>:</h4>
<p>And for the Infrastructure resources, "Abandon all hope, ye who enter here"</p>



<a name="165621344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165621344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165621344">(May 14 2019 at 13:21)</a>:</h4>
<p>we do have the dragon <a href="http://build.fhir.org/assets/images/dragon.png" target="_blank" title="http://build.fhir.org/assets/images/dragon.png">http://build.fhir.org/assets/images/dragon.png</a></p>
<div class="message_inline_image"><a href="http://build.fhir.org/assets/images/dragon.png" target="_blank" title="http://build.fhir.org/assets/images/dragon.png"><img src="https://uploads.zulipusercontent.net/94d5452c550e0177df74989e95659c038ea6b6c9/687474703a2f2f6275696c642e666869722e6f72672f6173736574732f696d616765732f647261676f6e2e706e67"></a></div>



<a name="165626036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165626036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165626036">(May 14 2019 at 14:18)</a>:</h4>
<p>Im fine with dragons ... but less could also be useful</p>



<a name="165626332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165626332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165626332">(May 14 2019 at 14:22)</a>:</h4>
<p>sort of ... <a href="https://img.memecdn.com/you-cant-touch-this_o_1016714.webp" target="_blank" title="https://img.memecdn.com/you-cant-touch-this_o_1016714.webp">https://img.memecdn.com/you-cant-touch-this_o_1016714.webp</a></p>
<div class="message_inline_image"><a href="https://img.memecdn.com/you-cant-touch-this_o_1016714.webp" target="_blank" title="https://img.memecdn.com/you-cant-touch-this_o_1016714.webp"><img src="https://img.memecdn.com/you-cant-touch-this_o_1016714.webp"></a></div>



<a name="165626351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165626351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165626351">(May 14 2019 at 14:22)</a>:</h4>
<p>every dev loves kittens</p>



<a name="165626488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165626488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165626488">(May 14 2019 at 14:24)</a>:</h4>
<p>or <a href="https://d2gg9evh47fn9z.cloudfront.net/800px_COLOURBOX30078417.jpg" target="_blank" title="https://d2gg9evh47fn9z.cloudfront.net/800px_COLOURBOX30078417.jpg">https://d2gg9evh47fn9z.cloudfront.net/800px_COLOURBOX30078417.jpg</a></p>
<div class="message_inline_image"><a href="https://d2gg9evh47fn9z.cloudfront.net/800px_COLOURBOX30078417.jpg" target="_blank" title="https://d2gg9evh47fn9z.cloudfront.net/800px_COLOURBOX30078417.jpg"><img src="https://d2gg9evh47fn9z.cloudfront.net/800px_COLOURBOX30078417.jpg"></a></div>



<a name="165627767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165627767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165627767">(May 14 2019 at 14:38)</a>:</h4>
<p>We can always add more into CapabilityStatement - and we will always run into use-cases where it would be useful to include "just a bit more".  The key question is what can we reasonably expect clients to computably adapt to when they see what the capabilities of a given server are and what's reasonable for them to adapt to at run-time when the server simply does what it does.  The rules about "can't touch this" could easily vary by time, by who last touched the record or a miriad of other factors.  You'll never be able to account for (or adapt to) all of them no matter how computable we make the capability declaration.  As a result, clients will always need to deal with the fact that what they asked for and what happened won't necessarily be the same.  If that's the case, then the argument for increased computability above what we have now is a tough (though not necesssarily impossible) sell.</p>



<a name="165628148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165628148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165628148">(May 14 2019 at 14:42)</a>:</h4>
<p>its a matter of stating that the selected attributes are not editable even if you try to/if you try to manipulate part of this content it is safely ignored. Its more of a nonfunctional use case - so the meaning is not crystal clear and it shouldn't be. It it about simply stating that this may be governed by another party</p>



<a name="165628665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165628665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165628665">(May 14 2019 at 14:48)</a>:</h4>
<blockquote>
<p>The rules about "can't touch this" could easily vary by time, by who last touched the record or a miriad of other factors.  You'll never be able to account for (or adapt to) all of them no matter how computable we make the capability declaration.  As a result, clients will always need to deal with the fact that what they asked for and what happened won't necessarily be the same.  If that's the case, then the argument for increased computability above what we have now is a tough (though not necesssarily impossible) sell.</p>
</blockquote>
<p>Omitting a statement that says that you cannot expect to receive what you've posted or edited doesn't make it any better.<br>
You can hide complexity (or don't state it in any way which is the current case) but you cannot make it go away</p>



<a name="165630999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165630999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165630999">(May 14 2019 at 15:16)</a>:</h4>
<p>"you cannot expect to receive what you've posted or edited" is a generic statement that applies to all FHIR interfaces.  There's a <a href="http://build.fhir.org/updates.html" target="_blank" title="http://build.fhir.org/updates.html">whole section devoted to it</a> in the spec.  The question is what a client's supposed to do differently if they receive a more fine-grained indicator about the locations of the bits that are more likely to be ignored.  There's no point adjusting the code that writes them given that there's no need to.  The client can't count on such declarations appearing, so they still have to "check and see what actually stuck".  Would there be some other benefit?</p>



<a name="165694139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/considered%20puristic%20or%20not/near/165694139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/considered.20puristic.20or.20not.html#165694139">(May 15 2019 at 07:58)</a>:</h4>
<p>Besides being more explicit? no</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
