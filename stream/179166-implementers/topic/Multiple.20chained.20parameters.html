---
layout: page
title: "FHIR Chat  · Multiple chained parameters · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html">Multiple chained parameters</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229631867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229631867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gou Masuda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229631867">(Mar 10 2021 at 10:08)</a>:</h4>
<p>Hello,</p>
<p>I have a question about multiple chained parameters.<br>
As for multiple chained parameters, the FHIR spec says "chained parameters are applied independently to the target resource." </p>
<p>My understanding is that the search result of the following query illustrated in the spec </p>
<div class="codehilite"><pre><span></span><code>GET Patient?general-practitioner.name=Joe&amp;general-practitioner.address-state=MN
</code></pre></div>
<p>is a UNION of Patients satisfy each condition. </p>
<p>But I'm confusing because when I tried above query on the several public FHIR servers, all servers returned an intersection of all conditions.</p>
<p>Is my understanding correct?</p>



<a name="229654922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229654922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229654922">(Mar 10 2021 at 13:14)</a>:</h4>
<p>Intersection is the expected behavior</p>



<a name="229678565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229678565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229678565">(Mar 10 2021 at 15:18)</a>:</h4>
<p>Multiple conditions are joined via <code>and</code>, so as Michele said, the expected result is the intersection.  If you need the union, you can run multiple queries, or submit a single <code>batch</code> (if the server supports it) to get all the results together.</p>
<p>Also note that the syntax supports multiple 'or' values in a single field (see <a href="https://www.hl7.org/fhir/search.html#combining">Composite Search Parameters</a>), so if you wanted the results for MN and WI, you can submit as <code>general-practitioner.address-state=MN,WI</code></p>



<a name="229701398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229701398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229701398">(Mar 10 2021 at 16:55)</a>:</h4>
<p>The phrase "chained parameters are applied independently to the target resource" is an important limitation that is often misunderstood.</p>
<p>It is <em>only</em> relevant when the reference field has more than one value. If a Patient has only one general-practitioner, then the example always works as expected.</p>
<p>The case that may be unexpected is where a Patient has <em>two</em> general-practitioners, where one matches name=Joe and the other matches address-state=MN. This will match the example search. There is no way to write a chained search that forces the same general-practitioner to match both, i.e. there is no syntax like Patient?general-practitioner.(name=Joe&amp;address-state=MN)</p>



<a name="229706236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229706236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229706236">(Mar 10 2021 at 17:21)</a>:</h4>
<p>If you were to say <code>GET Patient?general-practitioner.name=Joe&amp;general-practioner.name=Smith</code>, the "applied independently" means that you would get back a Patient who had one general-practitioner with a name of Joe and another with a name of Smith - there's no implication that both Joe and Smith appear on the same Practitioner.</p>



<a name="229772840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229772840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gou Masuda <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229772840">(Mar 11 2021 at 00:32)</a>:</h4>
<p>Thank you to everyone. <br>
I recognized my understanding is incorrect. </p>
<p>Multiple conditions via '&amp;' are joined, so intersection is expected.<br>
<em>"chained parameters are applied independently to the target resource"</em> in the spec means one referenced resource doesn't need satisfy all conditions at the same time. </p>
<p>Thank you.</p>



<a name="229867376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229867376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229867376">(Mar 11 2021 at 15:28)</a>:</h4>
<p>I have seen questions about this <code>GET Patient?general-practitioner.name=Joe&amp;general-practitioner.address-state=MN</code> many times here. That means this query example and its explanation is confusing to regular reader.</p>



<a name="229870941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229870941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229870941">(Mar 11 2021 at 15:49)</a>:</h4>
<p>would this be an improvement?</p>
<blockquote>
<p>Note that when search parameters apply to fields that can have more than one value, each chained parameters acts as an isolated filter. Because they share no context, there is no requirement that field value satisfying one search parameter be matched against the same field value satisfying another search parameter.</p>
</blockquote>



<a name="229871097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229871097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229871097">(Mar 11 2021 at 15:49)</a>:</h4>
<p>... followed the the current example text:</p>
<blockquote>
<p>For example,</p>
</blockquote>
<blockquote>
<blockquote>
<p>GET Patient?general-practitioner.name=Joe&amp;general-practitioner.address-state=MN</p>
</blockquote>
</blockquote>



<a name="229871371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229871371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229871371">(Mar 11 2021 at 15:51)</a>:</h4>
<p>perhaps: "there is no requirement that the reference followed to satisfy one search parameter be the same reference followed to satisfy another search parameter"</p>



<a name="229871773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229871773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229871773">(Mar 11 2021 at 15:53)</a>:</h4>
<p>Feel free to submit a change request :)</p>



<a name="229902318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Multiple%20chained%20parameters/near/229902318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Multiple.20chained.20parameters.html#229902318">(Mar 11 2021 at 18:35)</a>:</h4>
<p>I would also add <span class="user-mention" data-user-id="197072">@Paul Church</span> and <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> 's explanation above</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
