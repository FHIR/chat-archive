---
layout: page
title: "FHIR Chat  · XML Serialisation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html">XML Serialisation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153822316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822316">(Apr 18 2016 at 16:40)</a>:</h4>
<p>We have a new team member that is looking at the XML serialisation used in FHIR.<br>
We have a question as to why XML serialises  primitive values in to attributes</p>



<a name="153822317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822317">(Apr 18 2016 at 16:41)</a>:</h4>
<p>So why does FHIR do this<br>
 &lt;name&gt;<br>
    &lt;use value="usual"/&gt;<br>
    &lt;given value="Jim"/&gt;<br>
  &lt;/name&gt;</p>



<a name="153822318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822318">(Apr 18 2016 at 16:41)</a>:</h4>
<p>Instead of this</p>



<a name="153822319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822319">(Apr 18 2016 at 16:42)</a>:</h4>
<p>&lt;name&gt;<br>
    &lt;use&gt;usual&lt;/use&gt;<br>
    &lt;given&gt;Jim&lt;/given&gt;<br>
  &lt;/name&gt;</p>



<a name="153822320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822320">(Apr 18 2016 at 16:42)</a>:</h4>
<p>I know there is a rationale for this and this has been debated extensively in the history of FHIR. I'm struggling to find those reasons documented though.</p>



<a name="153822321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822321">(Apr 18 2016 at 16:44)</a>:</h4>
<p>I seem to recall it had something to do with extensions and/or multiple values....</p>



<a name="153822322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822322">(Apr 18 2016 at 16:44)</a>:</h4>
<p><a href="https://thefhirplace.com/2013/03/16/attributes-versus-elements-in-fhir-xml/" target="_blank" title="https://thefhirplace.com/2013/03/16/attributes-versus-elements-in-fhir-xml/">https://thefhirplace.com/2013/03/16/attributes-versus-elements-in-fhir-xml/</a></p>



<a name="153822331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822331">(Apr 18 2016 at 18:07)</a>:</h4>
<p>yes. we hate mixed content</p>



<a name="153822381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822381">(Apr 18 2016 at 22:46)</a>:</h4>
<p>I know this horse has _long_ bolted, but it is sad.  Mixed content is not at all hard to handle and this "It is however, clearly more painful for those using JSON, where any member is now expanded to a complex object: "birthDate": {"value": "1973-05-31"}" is a ginormous pain in the butt when switching between formats.  Somehow the argument for the more natural "birthDate": "1973-05-31" in JSON won but the not in XML. :(</p>



<a name="153822383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822383">(Apr 18 2016 at 22:49)</a>:</h4>
<p>P.S. The reason you want mixed content in XML is you can allow richer data, even allowing the value to be more XML if you need, e.g. &lt;birthDate&gt;&lt;year&gt;1973&lt;/year&gt;&lt;month&gt;5&lt;/month&gt;&lt;day&gt;31&lt;/day&gt;&lt;/birthDate&gt;.</p>



<a name="153822384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822384">(Apr 18 2016 at 22:50)</a>:</h4>
<p>(Which obviously breaks stuff, but just making the point.)</p>



<a name="153822388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822388">(Apr 18 2016 at 23:10)</a>:</h4>
<p>mixed data is an absolute pain to handle <br>
&lt;code&gt;<br>
  this<br>
 &lt;extension .../&gt;<br>
  that<br>
&lt;/code&gt;</p>



<a name="153822399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822399">(Apr 18 2016 at 23:56)</a>:</h4>
<p>This is not hard to handle.  You can write rules that disallow it if you really want, but actually this is the power of XML and there's very specific rules about what something like that means and how it should be processed.  All you need to do is handle text as a node.  Anyway, the point is moot; it's clearly to late to change it and besides, JSON can't cope with data structures like that; it just would've been nice to maintain consistency with the JSON representation because, out of the box, most converters convert &lt;birthDate&gt;1973-05-31&lt;birthDate&gt; to "birthDate": "1973-05-31" and vice versa.  As it is, to get a JSON format from native XML, I now have to use an intermediate step to convert a resource to XML that uses the hated mixed content and then convert to JSON (and vice versa).</p>



<a name="153822401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822401">(Apr 18 2016 at 23:58)</a>:</h4>
<p>You also have to consider the FHIR schema for several cases when converting anyway.</p>



<a name="153822402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822402">(Apr 19 2016 at 00:00)</a>:</h4>
<p>Not with the converter that comes built in to eXist.  It just works out of the box (except for the nuisance value attribute thing).</p>



<a name="153822403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822403">(Apr 19 2016 at 00:02)</a>:</h4>
<p>I doubt it works correctly. How would it know to create a JSON array when there's just one XML value but the FHIR has a max multiplicity of *, for example</p>



<a name="153822404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822404">(Apr 19 2016 at 00:03)</a>:</h4>
<p>It's schema-aware, that's one of the reasons for using the schemaLocation in the internal storage.</p>



<a name="153822405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/XML%20Serialisation/near/153822405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/XML.20Serialisation.html#153822405">(Apr 19 2016 at 00:08)</a>:</h4>
<p>Although, admittedly, the only resource I'm using in any significant way is StructureDefinition, so I may not have come up against any edge cases.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
