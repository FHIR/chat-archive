---
layout: page
title: "FHIR Chat  · Provenance in the Header · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html">Provenance in the Header</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154008025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008025">(Oct 11 2018 at 14:42)</a>:</h4>
<p>Hi,<br>
During the Baltimore Working Group infrasutrcture/tech dev meeting (Mon, 7pm), there was a discussion about serializing and putting Provenances in the HEADER of resources.  Kinda wonky, but no criticism from me (or the others I've run this by).  But.... we were wondering if there's any API spec for this yet?  In hind sight, I'm not 100% clear whether that had been something proposed and started and going into R4, or if it was an implementation report by a single implementor, or if it was still at a purely ideation stage.<br>
Thanks!</p>



<a name="154008028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008028">(Oct 11 2018 at 14:47)</a>:</h4>
<p>What's the reason for doing that instead of a 'contained' Provenance?</p>



<a name="154008042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008042">(Oct 11 2018 at 14:52)</a>:</h4>
<p>Well, the Provenance acts as a shadow resource; so there's duplicate message overhead, and query search patterns on Provenances are a bit non-obvious.  </p>
<p>But I didn't come up with the idea of putting them in the header.  I'm just confirming what was discussed, and trying to... well, follow the provenance trail, actually.</p>



<a name="154008043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008043">(Oct 11 2018 at 14:55)</a>:</h4>
<p>As contained, there should be no message overhead.  It would mean it wouldn't be independently queriable, but that might not be essential.  I'm not aware of any formal discussions to convey Provenance in a header.</p>



<a name="154008050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008050">(Oct 11 2018 at 15:05)</a>:</h4>
<p>Well, I first heard of the idea from our friends from Australia, so I'm just following along. </p>
<p>To clarify the use case, the Signature on the Provenance is useful for anybody wanting to sign resources; which then leads to auto-generated Provenances that just have a bunch of crypto signatures in them.  That's where querying them becomes non-obvious.  It's the Consent/Contract/Provenance use case.  i.e. can we get a digital signature (i.e. provenance) riding along with a single resource query?</p>



<a name="154008056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008056">(Oct 11 2018 at 15:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - When you have a moment?</p>



<a name="154008120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008120">(Oct 11 2018 at 16:58)</a>:</h4>
<p>Indeed it will be documented in R4 (there's a task for that). It's a pretty simple notion: </p>
<div class="codehilite"><pre><span></span>X-Provenance: {json}
</pre></div>


<p>where the json is a provenance resource with no target. The server fills in the target and commits it to the provenance resources. There's a length limitation, so you don't get to say very much. And the length limitation is variable - some server stacks limit individual headers to 2k or 4k. Some limit total to 8k</p>
<p>I haven't explored signatures on this yet. </p>
<blockquote>
<p>What's the reason for doing that instead of a 'contained' Provenance?</p>
</blockquote>
<p>You can do that if you want a contained provenance - which is bad idea. This is for if you want a normal provenance, but don't want a transaction every time.</p>



<a name="154008135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008135">(Oct 11 2018 at 17:29)</a>:</h4>
<p>Any chance we can get a link to the R4 task?  We have parties interested in tracking this and putting resources towards implementation and a pilot.</p>



<a name="154008137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008137">(Oct 11 2018 at 17:32)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19298" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19298">GF#19298</a></p>



<a name="154008139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Provenance%20in%20the%20Header/near/154008139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Provenance.20in.20the.20Header.html#154008139">(Oct 11 2018 at 17:34)</a>:</h4>
<p>Thank you very much!  :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
