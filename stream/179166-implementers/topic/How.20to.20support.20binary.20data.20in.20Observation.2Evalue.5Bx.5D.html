---
layout: page
title: "FHIR Chat  · How to support binary data in Observation.value[x] · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html">How to support binary data in Observation.value[x]</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271044907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271044907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> frank cao <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271044907">(Feb 07 2022 at 21:32)</a>:</h4>
<p>R4 removed attachment from Observation.value[x]. I plan to use inter version extension like "url= <a href="http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment">http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment</a>", but validator says "observation.valueAttachment" is invalid. Is this the right approach?</p>
<p>&lt;Observation&gt;<br>
... other elements<br>
&lt;value&gt;<br>
  &lt;extension url="<a href="http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment">http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment</a>" &gt;<br>
  &lt;valueAttachment&gt;<br>
    &lt;contentType value="pdf" /&gt;<br>
    &lt;data value="VghpcyBpcyBzYW1wbGUgdGV4dCBpbiBsaWV1IG9mIHRoZSBiaW5hcnkgaW5mb3JtYXRpb24gY29u<br>
dGFpbmVkIGluIGFuIGVtYmVkZGVkIGRvY3VtZW50Lg==" /&gt;<br>
  &lt;/valueAttachment&gt;<br>
  &lt;/extension&gt;<br>
&lt;value&gt;<br>
&lt;/Observation&gt;</p>



<a name="271046037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271046037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271046037">(Feb 07 2022 at 21:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="271048073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271048073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271048073">(Feb 07 2022 at 21:56)</a>:</h4>
<p>I believe that this is a question for <a class="stream" data-stream-id="179256" href="/#narrow/stream/179256-Orders-and-Observation-WG">#Orders and Observation WG</a></p>



<a name="271048823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271048823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271048823">(Feb 07 2022 at 22:01)</a>:</h4>
<p>It's not an OO question, it's a tooling question.</p>



<a name="271048899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271048899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271048899">(Feb 07 2022 at 22:01)</a>:</h4>
<p>I suspect the issue is that the extension is expected to appear on Observation, not within value.  Also, "value" isn't a valid XML tag.</p>



<a name="271080538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271080538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271080538">(Feb 08 2022 at 04:41)</a>:</h4>
<p>valueAttachment is back in R5 can you use unpublished version too as extension.</p>



<a name="271139606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271139606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> frank cao <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271139606">(Feb 08 2022 at 14:57)</a>:</h4>
<p>What would be the right extension url for this? I tried "<a href="http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment">http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment</a>" and it didn't work.</p>



<a name="271141059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271141059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271141059">(Feb 08 2022 at 15:07)</a>:</h4>
<p>Did you declare it on Observation, not Observation.value?</p>



<a name="271302881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271302881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> frank cao <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271302881">(Feb 09 2022 at 16:18)</a>:</h4>
<p>Yes. I put it under Observation, and the validator is okay with it. I used "<a href="http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.value[x]">http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.value[x]</a>" as the extension url and it works. Is this the right url to use?</p>



<a name="271314520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271314520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271314520">(Feb 09 2022 at 17:25)</a>:</h4>
<p>Because Attachment exists in multiple versions, there's more than one option, but the one you've chosen is probably the 'best' one for use.</p>



<a name="271333095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271333095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> frank cao <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271333095">(Feb 09 2022 at 19:22)</a>:</h4>
<p>Great. Thank you.</p>



<a name="271500474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271500474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271500474">(Feb 10 2022 at 21:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I believe the applicable clarifications are <a href="http://jira.hl7.org/browse/FHIR-31721">J#31721</a>, <a href="http://jira.hl7.org/browse/FHIR-31348">J#31348</a> and <a href="http://jira.hl7.org/browse/FHIR-31999">J#31999</a></p>



<a name="271500533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/How%20to%20support%20binary%20data%20in%20Observation.value%5Bx%5D/near/271500533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/How.20to.20support.20binary.20data.20in.20Observation.2Evalue.5Bx.5D.html#271500533">(Feb 10 2022 at 21:53)</a>:</h4>
<p>which would mean that the url should be <code>http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.value</code></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
