---
layout: page
title: "FHIR Chat  · Complex Questionnaire · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html">Complex Questionnaire</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216905477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216905477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216905477">(Nov 16 2020 at 17:41)</a>:</h4>
<p>I was hoping to get some guidance towards complex questionnaire construction. I'm working on the PRAPARE Survey (pdf is here: <a href="https://www.nachc.org/wp-content/uploads/2018/05/PRAPARE_One_Pager_Sept_2016.pdf">https://www.nachc.org/wp-content/uploads/2018/05/PRAPARE_One_Pager_Sept_2016.pdf</a>). The second question gives a codified list of choices (that part is straight forward), what I'm not sure how to do is "other". Using the form builder (<a href="https://lhcformbuilder.nlm.nih.gov/">https://lhcformbuilder.nlm.nih.gov/</a> -&gt; Add Item -&gt; Search for Prapare -&gt; import) it displays the options as you would expect. Any choice (or multiple) can be selected, and even "other" has a code associated with it. However, in the actual survey, if you select "other" you have the option to enter free text. Does FHIR have a way to specify this kind of answer? I can certainly create logic to, for instance, anytime there is an "other" codified answer, if it's chosen by the user display a text box. However, that would be idiosyncratic to my renderer, and not following official FHIR specifications. I've looked through the FHIR documents online (including advanced form rendering and advanced form behavior and calculation), and I couldn't find this kind of behavior defined anywhere. Does anyone have experience with this?</p>



<a name="216933162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216933162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216933162">(Nov 16 2020 at 21:14)</a>:</h4>
<p>I think an open-choice question type supports this.</p>



<a name="216934602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216934602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216934602">(Nov 16 2020 at 21:26)</a>:</h4>
<p>That was my impression as well, but I couldn't find an example of implementation. Is it supposed to be understood by the renderer that if the type is open-choice, they should provide a free-text option? Or is there another way to specify this in FHIR? Also, if I want to cascade so that only if "other" is chosen does it provide the text box, am I going to have to have each answer as a separate item and then use enableWhen?</p>



<a name="216937326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216937326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216937326">(Nov 16 2020 at 21:49)</a>:</h4>
<p>My expectation (without proof) is that an open-choice gets rendered as:</p>
<ul>
<li>(_) Option 1</li>
<li>(_) Option 2</li>
<li>(_) Other: [_______]<br>
And the result goes into a CodeableConcept, which supports either the coded options or the text other option.<br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>?</li>
</ul>



<a name="216937489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216937489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216937489">(Nov 16 2020 at 21:50)</a>:</h4>
<p>I don't think a separate "other" item is needed.</p>



<a name="216937776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216937776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216937776">(Nov 16 2020 at 21:53)</a>:</h4>
<p>Typically you'd represent this with a child question that had an enableWhen based on the answer being 'Other'.  I'm pretty sure there's an example of that in the SDC implementation guide somewhere, but I don't remember exactly where.  <span class="user-mention" data-user-id="217312">@Joee Garcia</span>, you've been digging in them more recently than I :)</p>



<a name="216939169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216939169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216939169">(Nov 16 2020 at 22:05)</a>:</h4>
<p>OK, so then the idea would be something like this:</p>
<div class="codehilite"><pre><span></span><code>&quot;item1&quot;: [
  &quot;type&quot;: &quot;choice&quot;,
  &quot;linkId&quot;: &quot;firstQuestion&quot;,
  &quot;answerOption&quot;: [
       AnswerOption 1,
       AnswerOption 2,
      AnswerOption Other
  ],
  &quot;item1.1&quot;: [
      {
        &quot;type&quot;: &quot;string&quot;,
        &quot;enableWhen&quot;: [
            {
              &quot;answerCoding&quot;: Other,
              &quot;question&quot;: &quot;firstQuestion&quot;,
              &quot;operator&quot;: &quot;=&quot;
            }
          ],```
</code></pre></div>



<a name="216941541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216941541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216941541">(Nov 16 2020 at 22:26)</a>:</h4>
<p>Exactly</p>



<a name="216941587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216941587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216941587">(Nov 16 2020 at 22:26)</a>:</h4>
<p>And if the first question is repeating, there'd potentially be a child question for each answer (provided it was enabled for that answer)</p>



<a name="216941883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216941883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216941883">(Nov 16 2020 at 22:29)</a>:</h4>
<p>Oh, that's not what I was expecting at all. What's the value of open-choice vs. choice then?</p>



<a name="216942154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216942154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216942154">(Nov 16 2020 at 22:32)</a>:</h4>
<p>So there's no reason a child item's enableWhen can't refer to the parent item? I only ask because the lhc form builder (<a href="https://lhcformbuilder.nlm.nih.gov/">https://lhcformbuilder.nlm.nih.gov/</a>) won't allow it (I realize that's not the official FHIR spec, but I still wanted to be sure).</p>



<a name="216945448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216945448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grey Faulkenberry <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216945448">(Nov 16 2020 at 23:05)</a>:</h4>
<p>Also, another question about preferred syntax. I have the following question:<br>
How many family members, including yourself, do you currently live with? ____________<br>
[ ] I choose not to answer this question</p>
<p>The answer is an integer. But there is also an option to choose not to answer. Would this be best represented by a group (the question) and then two sub-items (one for the integer answer and one to allow choosing not to answer). Or would it be better to represent this as a single question, with an integer answer, and then a sub-item to allow the choice not to answer?</p>



<a name="216945782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216945782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216945782">(Nov 16 2020 at 23:08)</a>:</h4>
<p>Open choice allows you to just have an answer where you convey a string instead of one of the choices (rather than as a sub-answer to a specific choice)</p>



<a name="216945821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216945821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216945821">(Nov 16 2020 at 23:09)</a>:</h4>
<p>EnableWhen can absolutely refer to a parent element</p>



<a name="216945933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216945933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216945933">(Nov 16 2020 at 23:10)</a>:</h4>
<p>My leaning would be a group.  But it's more a question of style.  I don't think there's a clear right/wrong.</p>



<a name="216945996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216945996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216945996">(Nov 16 2020 at 23:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Complex.20Questionnaire/near/216945782">said</a>:</p>
<blockquote>
<p>Open choice allows you to just have an answer where you convey a string instead of one of the choices (rather than as a sub-answer to a specific choice)</p>
</blockquote>
<p>So, open choice gives you this?:</p>
<ul>
<li>(_) A</li>
<li>(_) B</li>
<li>(_) [__________]</li>
</ul>



<a name="216946040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216946040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216946040">(Nov 16 2020 at 23:11)</a>:</h4>
<p>Yes</p>



<a name="216946346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216946346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216946346">(Nov 16 2020 at 23:15)</a>:</h4>
<p>Well neither choice nor open-choice look like great solutions. With choice, if you have an answer value set, then it needs to contain an "other" value, which I've been led to believe is bad from a terminology point of view. If you use open-choice, then there is no lead-in text for the string, which is poor user interface.</p>



<a name="216947789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216947789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216947789">(Nov 16 2020 at 23:31)</a>:</h4>
<p>I wouldn</p>



<a name="216947877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216947877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216947877">(Nov 16 2020 at 23:32)</a>:</h4>
<p>I wouldn't worry about terminology practice in a Questionnaire.  You're going to do all sorts of things that are focused on user interface.  You can (and should) transform data when migrating it to resources</p>



<a name="216947896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216947896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216947896">(Nov 16 2020 at 23:32)</a>:</h4>
<p>I think it's not so binary</p>



<a name="216948128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Complex%20Questionnaire/near/216948128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Complex.20Questionnaire.html#216948128">(Nov 16 2020 at 23:35)</a>:</h4>
<p>Well, using choice then means I either include an "Other" value in my base valueset or I define a new valueset, just for use in the questionnaire, that includes my base valueset plus one "Other" value. Neither seem pretty. And neither allow me to use SDC observation data extraction.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
