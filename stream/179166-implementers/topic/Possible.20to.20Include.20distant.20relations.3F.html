---
layout: page
title: "FHIR Chat  · Possible to Include distant relations? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html">Possible to Include distant relations?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223904797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Possible%20to%20Include%20distant%20relations%3F/near/223904797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Toft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html#223904797">(Jan 25 2021 at 14:35)</a>:</h4>
<p>Is it possible to include entities that are not directly related to the current entity, but related through a related entity? </p>
<p>My scenario is I have a Task that is related to an Encounter and the Encounter has a few Observation relations. How can I, in one query, get the task including the Encounter and the Observations?</p>
<p>I have been looking at the _include query syntax and docs, but I am unsure if this is the right approach.</p>



<a name="223905324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Possible%20to%20Include%20distant%20relations%3F/near/223905324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html#223905324">(Jan 25 2021 at 14:39)</a>:</h4>
<p><code>_include:iterate</code> - if the server supports it</p>



<a name="223905337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Possible%20to%20Include%20distant%20relations%3F/near/223905337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html#223905337">(Jan 25 2021 at 14:39)</a>:</h4>
<p>GET /Task?_include=Task.encounter&amp;_revinclude:iterate=Observation.encounter - if you wish to define specific criteria on either Observation or Encounter it gets a bit more tricky, as -(rev)includes don't allow for the expression of any conditions.</p>



<a name="223909507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Possible%20to%20Include%20distant%20relations%3F/near/223909507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Toft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html#223909507">(Jan 25 2021 at 15:08)</a>:</h4>
<p>Thanks for the swift reply. Yes, filtering on a criteria would actually be my next investigation to do. Imagine I wanted to only retrieve the Task entities (and relations) related to a specific Organization. Is something like the below even possible/intended use?</p>
<p>Task?_filter = Task:requester:Organization.identifier eq my_organization_id &amp;_include=Task:encounter&amp;_include=Task:requester:Organization</p>



<a name="223911805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Possible%20to%20Include%20distant%20relations%3F/near/223911805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html#223911805">(Jan 25 2021 at 15:24)</a>:</h4>
<p>Support for _filter is pretty rare in servers (so I'm not very familiar with its syntax), and this can probably be supported by regular search in FHIR ..</p>



<a name="223941064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Possible%20to%20Include%20distant%20relations%3F/near/223941064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonas Toft <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html#223941064">(Jan 25 2021 at 18:38)</a>:</h4>
<p>As you can probably understand, FHIR is new to me. You refer to a regular search, but I dont know what that is. I did read through the docs at <a href="https://www.hl7.org/fhir/search.html">https://www.hl7.org/fhir/search.html</a>, but did not find any evident answers. In essens I am trying to find out if it is possible to do several "joins" and combine that with filtering on any of the joined entities, and returning the entities from the joins. The SQL equivalent would be SELECT x.a,z.b,y.c FROM x JOIN y on x.id=y.id JOIN z on z.Id = x.Id where z.id="z_id"</p>



<a name="223943192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Possible%20to%20Include%20distant%20relations%3F/near/223943192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html#223943192">(Jan 25 2021 at 18:57)</a>:</h4>
<p>FHIR doesn't presume that the underlying data is relational.  FHIR's RESTful search mechanism is focused on a single resource.  Including additional resources is possible with _include or _revinclude.  However, there's no ability to include anything that doesn't have a direct relationship.  So if you want to include A and C where A points to B and B points to C, there's no choice but to get B back as well.</p>



<a name="224014764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Possible%20to%20Include%20distant%20relations%3F/near/224014764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Possible.20to.20Include.20distant.20relations.3F.html#224014764">(Jan 26 2021 at 09:28)</a>:</h4>
<p>Basic search means: everything on <a href="http://build.fhir.org/search.html">http://build.fhir.org/search.html</a> except for _filter and _query. Task?requester:Organization.identifier=XYZ&amp;_include=Task.encounter&amp;_include=Task.requester:Organization</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
