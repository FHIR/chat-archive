---
layout: page
title: "FHIR Chat  · Profiling:- Specify format for valid values · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html">Profiling:- Specify format for valid values</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153868524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868524">(Jan 20 2017 at 04:13)</a>:</h4>
<p>Hi,<br>
I wanted to know, using profile if it is possible to specify a format(Regular Expression) of value for a field.<br>
I will take an example, Suppose we have a Identifier for national-id, it will be good if I can specify a regex for what is a valid value for identifier. This will be helpfull because we can't couple our validation code with fields. </p>
<p>Thanks in advance.</p>



<a name="153868527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868527">(Jan 20 2017 at 04:38)</a>:</h4>
<p>There's an extension that supports this - <a href="http://build.fhir.org/extension-regex.html" target="_blank" title="http://build.fhir.org/extension-regex.html">http://build.fhir.org/extension-regex.html</a></p>



<a name="153868528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868528">(Jan 20 2017 at 04:38)</a>:</h4>
<p>However, it's not currently supported by the validator or authoring tools</p>



<a name="153868542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868542">(Jan 20 2017 at 09:05)</a>:</h4>
<p>we better start supporting it in the validator</p>



<a name="153868575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868575">(Jan 20 2017 at 13:21)</a>:</h4>
<p><span class="user-mention" data-user-id="192421">@Mritunjay Dubey</span> If you like, you can submit a change request for inclusion of this in the validator.</p>



<a name="153868589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868589">(Jan 20 2017 at 14:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I have submitted <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12665" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12665">GF#12665</a> for the same. Thank you</p>



<a name="153868718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868718">(Jan 21 2017 at 09:09)</a>:</h4>
<p>Had a question, if I want to browse the code and implement it (if possible), how should I start. is there a document/steps on it? I thought of checking-out from svn, but it is a huge repo. So I just wanted to confirm if I am going in right direction. It will be great if I can get steps for how do we start contributing to fhir.</p>
<p>I thought of creating a pull-request in github FHIR-svn, but I was not sure since it’s just a mirror, and actual development is in SVN.</p>



<a name="153868727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868727">(Jan 21 2017 at 13:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I just wanted to try out this "extension-regex" in my profile, but I am not sure how exactly I should apply it. I am using furore's forge tool to create profiles. I just wanted to say <strong>patient.name.family</strong> should follow a pattern.</p>
<p>Might be a dumb question but I didn't get any example for this.</p>



<a name="153868732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868732">(Jan 21 2017 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="192421">@Mritunjay Dubey</span> At the moment, I don't think you can do this in Forge - Forge only supports capturing "core" elements in StructureDefinition, not extensions, though I believe adding support for StructureDefinition and ElementDefinition extensions is on their list of "things to do" (there's lots of "things to do" when it comes to profiling . . . :&gt;)  So if you want to experiment with this, you'd need to create your profile in Forge and then hand-edit it to contain the extension (recognizing that Forge will remove the extension if you subsequently edit the profile with Forge again).</p>
<p>In terms of implementing, what exactly do you mean?  You want to update the Java validator to include this?  If that's the case, the class you're going to need to play with is InstanceValidator.java.  Some parts of it are evil, but this piece shouldn't be.  You will however need to check out the whole "publish" folder to make and test your change though.</p>



<a name="153868733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868733">(Jan 21 2017 at 15:24)</a>:</h4>
<p>Generally we don't give committer access to people who aren't doing work on behalf of a work group, but if you get heavily involved with maintenance, we can make exceptions.  For this time around, just send me the updated file once you've got it working - if you still want to take it on once you've looked at the code :)</p>



<a name="153868746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868746">(Jan 22 2017 at 05:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Thanks for your response. I will look into it. Right now I am not sure how exactly to extend the element-definition. Suppose if we want to give the <strong>Patient=&gt;name=&gt;family</strong>, how exactly to hand-edit it in the patient profile(or human-name profile if needed). I tried searching on the web for examples, but I couldn't find one to start with.  It will be great if you can give some inputs on this part.<br>
Thaks</p>



<a name="153868760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868760">(Jan 22 2017 at 15:41)</a>:</h4>
<p>I'd start by using Forge to create your profile and constrain something on Patient.name.family so it'll show up in the generated profile.  Then you'd need to find the element with that path and add this:</p>
<div class="codehilite"><pre>  &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/regex&quot;&gt;
    &lt;valueString value=&quot;[your expression here]&quot;/&gt;
  &lt;/extension&gt;
</pre></div>



<a name="153868769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868769">(Jan 23 2017 at 03:18)</a>:</h4>
<p>Alternately you could use the regex in a fhirpath invariant expression on the property</p>



<a name="153868777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868777">(Jan 23 2017 at 10:32)</a>:</h4>
<p>It of course depends on whether you want to instruct the client (the form) or just make sure invalid data doesn't get into the server.</p>



<a name="153868831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Profiling%3A-%20Specify%20format%20for%20valid%20values/near/153868831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Profiling.3A-.20Specify.20format.20for.20valid.20values.html#153868831">(Jan 23 2017 at 20:25)</a>:</h4>
<p>True</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
