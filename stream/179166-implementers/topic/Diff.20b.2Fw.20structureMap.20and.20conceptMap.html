---
layout: page
title: "FHIR Chat  · Diff b/w structureMap and conceptMap · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html">Diff b/w structureMap and conceptMap</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238293175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238293175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ravishankar P <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238293175">(May 11 2021 at 11:49)</a>:</h4>
<p>Hi All, <br>
what is the difference b/w structureMap and conceptMap ?</p>



<a name="238301628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238301628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238301628">(May 11 2021 at 12:56)</a>:</h4>
<p>ConceptMap maps from concept to concept (e.g. codes), StructureMap from structrures to structures (trees):</p>
<blockquote>
<p>The ConceptMap resource is suitable for representing high level relationships between models, while this StructureMap resource is intended to describe the full details that need to be known in order to transform an instance of data from one structure to another.</p>
</blockquote>
<p>see alsomore info in  boundary and relationships directly in the <a href="https://www.hl7.org/fhir/structuremap.html#bnr">spec</a></p>



<a name="238422485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238422485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ravishankar P <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238422485">(May 12 2021 at 05:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191478">Oliver Egger</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238301628">said</a>:</p>
<blockquote>
<p>ConceptMap maps from concept to concept (e.g. codes), StructureMap from structrures to structures (trees):</p>
<blockquote>
<p>The ConceptMap resource is suitable for representing high level relationships between models, while this StructureMap resource is intended to describe the full details that need to be known in order to transform an instance of data from one structure to another.</p>
</blockquote>
<p>see alsomore info in  boundary and relationships directly in the <a href="https://www.hl7.org/fhir/structuremap.html#bnr">spec</a></p>
</blockquote>
<p>Is it possible to combine structureMap and conceptMap ??</p>



<a name="238423351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238423351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238423351">(May 12 2021 at 05:31)</a>:</h4>
<p>yes, you can embed ConceptMaps to translate between different code systems in a StructureMap with the translate operation <a href="https://www.hl7.org/fhir/mapping-language.html">https://www.hl7.org/fhir/mapping-language.html</a></p>



<a name="238432405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238432405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ravishankar P <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238432405">(May 12 2021 at 07:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191478">Oliver Egger</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238423351">said</a>:</p>
<blockquote>
<p>yes, you can embed ConceptMaps to translate between different code systems in a StructureMap with the translate operation <a href="https://www.hl7.org/fhir/mapping-language.html">https://www.hl7.org/fhir/mapping-language.html</a></p>
</blockquote>
<p>can i get some examples of JSON structures which includes conceptMap and structureMap , ??</p>



<a name="238444338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238444338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238444338">(May 12 2021 at 09:13)</a>:</h4>
<p>Json example is <a href="http://build.fhir.org/ig/hl7ch/cda-fhir-maps/StructureMap-CdaToBundle.json.html">here</a> which translates the gender from CDA to FHIR, I prefere however the Structure map <a href="http://build.fhir.org/ig/hl7ch/cda-fhir-maps/StructureMap-CdaToBundle.html">text representation</a></p>



<a name="238485337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238485337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ravishankar P <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238485337">(May 12 2021 at 14:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191478">Oliver Egger</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238444338">said</a>:</p>
<blockquote>
<p>Json example is <a href="http://build.fhir.org/ig/hl7ch/cda-fhir-maps/StructureMap-CdaToBundle.json.html">here</a> which translates the gender from CDA to FHIR, I prefere however the Structure map <a href="http://build.fhir.org/ig/hl7ch/cda-fhir-maps/StructureMap-CdaToBundle.html">text representation</a></p>
</blockquote>
<p>Thank you so much <span class="user-mention" data-user-id="191478">@Oliver Egger</span></p>



<a name="238726082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238726082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ravishankar P <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238726082">(May 14 2021 at 06:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="410070">Ravishankar P</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238485337">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191478">Oliver Egger</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238444338">said</a>:</p>
<blockquote>
<p>Json example is <a href="http://build.fhir.org/ig/hl7ch/cda-fhir-maps/StructureMap-CdaToBundle.json.html">here</a> which translates the gender from CDA to FHIR, I prefere however the Structure map <a href="http://build.fhir.org/ig/hl7ch/cda-fhir-maps/StructureMap-CdaToBundle.html">text representation</a></p>
</blockquote>
<p>Thank you so much <span class="user-mention silent" data-user-id="191478">Oliver Egger</span></p>
</blockquote>
<p>How i can use StructureMapUtils.class  services in implementation, can i get any examples for this ??</p>



<a name="238735175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238735175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238735175">(May 14 2021 at 08:34)</a>:</h4>
<p>1) It is used in the Java Validator for doing the -transform functionality <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/ValidationEngine.java">here</a>.<br>
2) We expose a $tranform operation on matchbox, source usting StructureMapUtils is <a href="https://github.com/ahdis/matchbox/blob/master/src/main/java/ch/ahdis/mapping/fml/MappingLanguageTransfomer.java">here</a></p>



<a name="238871214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238871214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ravishankar P <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238871214">(May 15 2021 at 05:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191478">Oliver Egger</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238735175">said</a>:</p>
<blockquote>
<p>1) It is used in the Java Validator for doing the -transform functionality <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/ValidationEngine.java">here</a>.<br>
2) We expose a $tranform operation on matchbox, source usting StructureMapUtils is <a href="https://github.com/ahdis/matchbox/blob/master/src/main/java/ch/ahdis/mapping/fml/MappingLanguageTransfomer.java">here</a></p>
</blockquote>
<p>i'm getting below error</p>



<a name="238871237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238871237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ravishankar P <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238871237">(May 15 2021 at 05:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191478">Oliver Egger</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238735175">said</a>:</p>
<blockquote>
<p>1) It is used in the Java Validator for doing the -transform functionality <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/ValidationEngine.java">here</a>.<br>
2) We expose a $tranform operation on matchbox, source usting StructureMapUtils is <a href="https://github.com/ahdis/matchbox/blob/master/src/main/java/ch/ahdis/mapping/fml/MappingLanguageTransfomer.java">here</a></p>
</blockquote>
<p>i'm getting below error</p>
<p>Caused by: java.lang.NoClassDefFoundError: ca/uhn/fhir/interceptor/api/IPointcut</p>



<a name="238875128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238875128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ravishankar P <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238875128">(May 15 2021 at 06:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="410070">Ravishankar P</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238871237">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191478">Oliver Egger</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238735175">said</a>:</p>
<blockquote>
<p>1) It is used in the Java Validator for doing the -transform functionality <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/ValidationEngine.java">here</a>.<br>
2) We expose a $tranform operation on matchbox, source usting StructureMapUtils is <a href="https://github.com/ahdis/matchbox/blob/master/src/main/java/ch/ahdis/mapping/fml/MappingLanguageTransfomer.java">here</a></p>
</blockquote>
<p>i'm getting below error</p>
<p>Caused by: java.lang.NoClassDefFoundError: ca/uhn/fhir/interceptor/api/IPointcut</p>
</blockquote>
<p>&lt;hapi.version&gt;5.4.0-PRE2-SNAPSHOT&lt;/hapi.version&gt;   this version is not availabel in maven</p>



<a name="238898533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238898533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238898533">(May 15 2021 at 13:35)</a>:</h4>
<p>are you trying to compile matchbox? if yes you need to checkout the dev branches for org.hl7.fhir.core and hapi.fhir, see <a href="https://github.com/ahdis/matchbox#developing-matchbox">https://github.com/ahdis/matchbox#developing-matchbox</a></p>



<a name="238910777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/238910777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hamilton Lima <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#238910777">(May 15 2021 at 16:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191478">Oliver Egger</span> <a href="#narrow/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap/near/238898533">said</a>:</p>
<blockquote>
<p>are you trying to compile matchbox? if yes you need to checkout the dev branches for org.hl7.fhir.core and hapi.fhir, see <a href="https://github.com/ahdis/matchbox#developing-matchbox">https://github.com/ahdis/matchbox#developing-matchbox</a></p>
</blockquote>
<p>Hey <span class="user-mention" data-user-id="191478">@Oliver Egger</span> nice job on matchbox, was reading the code to get a sense if that can be used to extend the HAPI server, as an extension of the full server, or is there a way to create a POJO and deploy as WAR or JAR to the HAPI server to implement for example $next-question Operation</p>



<a name="239038474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/239038474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#239038474">(May 17 2021 at 06:12)</a>:</h4>
<p>currently the functioniality is provided via ResourceProviders and fixed wired during startup on a plain hapi rest sever (not JPA). I think it might be possible to inject the functionality via DI (spring-boot), maybe ask on the <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a> stream if  people already have tried to extend the hapi-server in such a way or perhaps <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> or <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span>  have additional thoughts?</p>



<a name="239106061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/239106061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#239106061">(May 17 2021 at 15:08)</a>:</h4>
<p>Seems like you're just talking about a custom operation. Should be able to do that pretty easy in JPA:<br>
<a href="https://hapifhir.io/hapi-fhir/docs/server_plain/rest_operations_operations.html">https://hapifhir.io/hapi-fhir/docs/server_plain/rest_operations_operations.html</a></p>



<a name="239325279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/239325279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#239325279">(May 18 2021 at 21:00)</a>:</h4>
<p>Sure - you can wire whatever custom ResourceProvider you would like to, into HAPI FHIR - and I agree with <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span>  - it sounds like you're taking about a custom operation</p>



<a name="239367573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diff%20b/w%20structureMap%20and%20conceptMap/near/239367573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diff.20b.2Fw.20structureMap.20and.20conceptMap.html#239367573">(May 19 2021 at 05:25)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> . i was looking for a way that the resource provider could be configured in spring-boot that you just add the jar with the resource-provider and not writing any code in hapifhir/hapi-fhir-jpaserver-starter, but I guess that is not that easy becasue you have one jar in the end?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
