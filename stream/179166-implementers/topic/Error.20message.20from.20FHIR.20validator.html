---
layout: page
title: "FHIR Chat  · Error message from FHIR validator · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html">Error message from FHIR validator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153982062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katie Wheatley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982062">(Aug 04 2018 at 06:44)</a>:</h4>
<p>When running the official FHIR validator against the attached file, I received this error message: ITK003D  FAIL    ERROR -- DOCUMENT BUNDLE: Must have either extensions or value[x], not both [extension.exists() != value.exists()] * Location: Bundle.entry[1].resource.extension column: 0 <a href="/user_uploads/10155/4o9YaIJlppmeu9HpXFzKY8oL/ITK-EDIS-TEST-032a.xml" target="_blank" title="ITK-EDIS-TEST-032a.xml">ITK-EDIS-TEST-032a.xml</a><br>
I am not sure what is wrong with the attached file. Please could anyone with knowledge in this area update me on what could be wrong with the file.</p>



<a name="153982066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katie Wheatley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982066">(Aug 04 2018 at 07:12)</a>:</h4>
<p>I have received this error message from the official FHIR validator when running it against the attached file: ERROR -- DOCUMENT BUNDLE: None of the codes provided are in the value set <a href="https://fhir.nhs.uk/STU3/ValueSet/CareSettingType-1" target="_blank" title="https://fhir.nhs.uk/STU3/ValueSet/CareSettingType-1">https://fhir.nhs.uk/STU3/ValueSet/CareSettingType-1</a> (<a href="https://fhir.nhs.uk/STU3/ValueSet/CareSettingType-1" target="_blank" title="https://fhir.nhs.uk/STU3/ValueSet/CareSettingType-1">https://fhir.nhs.uk/STU3/ValueSet/CareSettingType-1</a>, and a code from this value set is required) (codes = <a href="http://snomed.info/sct#893061000000109" target="_blank" title="http://snomed.info/sct#893061000000109">http://snomed.info/sct#893061000000109</a>) * Location: Bundle.entry[1].resource.extension.valueCodeableConcept column: 0. <a href="user_uploads/10155/vlgKBA9EVXbF2OJa-w8kVzzL/ITK-EDIS-TEST-032a.xml" target="_blank" title="user_uploads/10155/vlgKBA9EVXbF2OJa-w8kVzzL/ITK-EDIS-TEST-032a.xml">ITK-EDIS-TEST-032a.xml</a><br>
I am uncertain as to why this error message is being given as I the code I am using is a member of the specified  refset. I attach the valueset file: <a href="/user_uploads/10155/IdvFZ1nbQD9rtz33uj8KVSxJ/032a-20180802151411989718_B02C07.xml" target="_blank" title="032a-20180802151411989718_B02C07.xml">032a-20180802151411989718_B02C07.xml</a> <a href="/user_uploads/10155/9eyylMMia83lAmE5Lt5IL8Vh/ValueSet-CareSettingType-1.xml" target="_blank" title="ValueSet-CareSettingType-1.xml">ValueSet-CareSettingType-1.xml</a></p>



<a name="153982075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982075">(Aug 04 2018 at 13:30)</a>:</h4>
<p>What version of the validator are you running?  You should be using the version from <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a>.</p>



<a name="153982478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katie Wheatley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982478">(Aug 06 2018 at 09:14)</a>:</h4>
<blockquote>
<p>What version of the validator are you running?  You should be using the version from <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a>.</p>
</blockquote>
<p>We are using the HAPI FHIR validator at <a href="http://hapifhir.io/" target="_blank" title="http://hapifhir.io/">http://hapifhir.io/</a>.</p>



<a name="153982479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katie Wheatley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982479">(Aug 06 2018 at 09:16)</a>:</h4>
<p>Regarding the error message I have posted, please could you explain why that error message appeared and whether there is anything wrong with the file I attached which caused the HAPI validator to throw this error message. Thanks.<br>
Apologies, perhaps I should have entitled this thread Error message from the FHIR HAPI validator.</p>



<a name="153982480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982480">(Aug 06 2018 at 10:06)</a>:</h4>
<p>Katie, I think the answer is the valueSet refers to SNOMED Refset which can't be resolved.</p>



<a name="153982482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982482">(Aug 06 2018 at 10:20)</a>:</h4>
<p><a href="/user_uploads/10155/VMvklkeW9v1SznHfClQs3Gxx/Screen-Shot-2018-08-06-at-11.18.51.png" target="_blank" title="Screen-Shot-2018-08-06-at-11.18.51.png">Screen-Shot-2018-08-06-at-11.18.51.png</a> This is ok but the validator doesn't have a way of resolving 999000381000000107</p>
<div class="message_inline_image"><a href="/user_uploads/10155/VMvklkeW9v1SznHfClQs3Gxx/Screen-Shot-2018-08-06-at-11.18.51.png" target="_blank" title="Screen-Shot-2018-08-06-at-11.18.51.png"><img src="/user_uploads/10155/VMvklkeW9v1SznHfClQs3Gxx/Screen-Shot-2018-08-06-at-11.18.51.png"></a></div>



<a name="153982492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982492">(Aug 06 2018 at 11:14)</a>:</h4>
<p>hmm. where does that snomed code come from?</p>



<a name="153982493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982493">(Aug 06 2018 at 11:14)</a>:</h4>
<p>Uk Refset</p>



<a name="153982496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/153982496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#153982496">(Aug 06 2018 at 11:15)</a>:</h4>
<p>hmm should be supported but it's a while since I updated hte UK dirtibution</p>



<a name="163630303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/163630303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#163630303">(Apr 18 2019 at 07:56)</a>:</h4>
<p>Using r4  validation instead of stu3, was faster and more thorough.</p>
<p>Not sure how to handle the stu3 profiles, I can convert them structurally to r4 but the contents aren't converted (so for AllergyIntollerance.clinicalStatus it's still a code not coding).  We don't have r4 profiles. </p>
<p>I'm also noticing a lot issues with profiles themselves (which the r4 validation is discovering).... so I'm thinking: creating r4 profiles with included profile fixes may be the solution?</p>



<a name="163630399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/163630399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#163630399">(Apr 18 2019 at 07:58)</a>:</h4>
<p>there's no framework for auto-upgrading the profiles to describe a different version. that's manual work</p>



<a name="163630418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/163630418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#163630418">(Apr 18 2019 at 07:59)</a>:</h4>
<p>you should be using the r5 validator now - we've moved onto that.</p>



<a name="163645501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/163645501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#163645501">(Apr 18 2019 at 12:18)</a>:</h4>
<p>I'm coming across a few SNOMED ecl statements which our terminology server rejects as too costly. (e.g. the one here <a href="https://fhir.nhs.uk/STU3/ValueSet/CareConnect-MedicationCode-1" target="_blank" title="https://fhir.nhs.uk/STU3/ValueSet/CareConnect-MedicationCode-1">https://fhir.nhs.uk/STU3/ValueSet/CareConnect-MedicationCode-1</a> ). </p>
<p>Is their another way of asking 'is this code in this valueset' rather than trying to attempting to expand it?</p>



<a name="163645527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/163645527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#163645527">(Apr 18 2019 at 12:18)</a>:</h4>
<p>I'm doing this in a validationsupport class</p>



<a name="163646840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/163646840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#163646840">(Apr 18 2019 at 12:37)</a>:</h4>
<p>are you asking about the validator? it should be using $validate-code not $expand</p>



<a name="163649566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/163649566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#163649566">(Apr 18 2019 at 13:10)</a>:</h4>
<p>That would make more sense, to call direct. <br>
At present I'm calling out to a SNOMED term server to answer ecl query (for the ValueSet)</p>



<a name="163649669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Error%20message%20from%20FHIR%20validator/near/163649669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Error.20message.20from.20FHIR.20validator.html#163649669">(Apr 18 2019 at 13:10)</a>:</h4>
<p>well, check - use some http traer. I'm sure it calls $validate-code not $expand</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
