---
layout: page
title: "FHIR Chat  · Realtime Procedure with timestamps · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html">Realtime Procedure with timestamps</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="207958721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/207958721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#207958721">(Aug 25 2020 at 12:57)</a>:</h4>
<p>In the procedure the following is mentioned: "The creation of a resource to support detailed real-time procedure information awaits the identification of a specific implementation use-case to share such information." I don't get, why this is regarded as such a minor use case. Every hospital at least in Germany needs to document timestamps of the operation as it unfolds (Cut, Suture, Anesthesia Start, Anesthesia End, ...), which is possible in every major Hospital Information System there is. Therefore I thought to create a thread for this, as this mandates a specific discussion in my opinion.</p>
<p>Right now we ware creating an application, which urgently needs to support this feature and FHIR doesn't seem to have a straightforward way to do this, or at least there is some confusion about this topic:</p>
<ul>
<li>An extension has been made to support Incision time in a Procedure: procedure-incisionDateTime</li>
<li>Some people recommend to create a number of procedures to for each phase --&gt; Bad, as there are many timestamps, which would each result in a Procedure for the same Procedure.Code that is being done on the patient (36 timestamps, in the standard we are using, ...)</li>
<li>Some people talk about using the Procedure, but adding the timestamps in a later revision of FHIR</li>
</ul>
<p>Right now we are following this process (Simplified):</p>
<p>1. Patient enters the hospital. Doctor diagnoses the Patient and creates a "Condition"<br>
  2. Patient needs to be treated, doctor creates a ServiceRequest with the specific code that heals the patients "Condition"<br>
  3. An appointment is set, when the ServiceRequest should be filled<br>
  4. A Procedure documents the operation and fills the ServiceRequest with the same code.</p>
<p>Major problem:</p>
<ul>
<li>No possibility to fill real timestamps in Procedure, like Cut, Suture, Anesthesia Start, ...</li>
<li>No possibility to document planned timestamps in Appointment</li>
</ul>



<a name="207959158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/207959158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#207959158">(Aug 25 2020 at 13:01)</a>:</h4>
<p>You could use AuditEvent, it is intended to record events as they happen. It is used for some workflow tracking use-cases. I don't know of a profiling effort to use it for procedure step tracking, such as surgery or cath-lab.</p>



<a name="207959678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/207959678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#207959678">(Aug 25 2020 at 13:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps/near/207959158">said</a>:</p>
<blockquote>
<p>You could use AuditEvent, it is intended to record events as they happen. It is used for some workflow tracking use-cases. I don't know of a profiling effort to use it for procedure step tracking, such as surgery or cath-lab.</p>
</blockquote>
<p>An AuditEvent is: A record of an event made for purposes of maintaining a security log. Typical uses include detection of intrusion attempts and monitoring for inappropriate usage.</p>
<p>That doesnt fit in my opinion. I am actively suggesting to adapt the Procedure Resource, as the use case fits perfectly in that resource, or to create a new realtime Procedure resource. This could make use of the known coding structure, like so:</p>
<div class="codehilite"><pre><span></span><code>[
    {
        &quot;code&quot; : {
            &quot;coding&quot; : [
                {
                    &quot;system&quot; : &quot;VOPM&quot;,
                    &quot;code&quot; : &quot;timeOpEnter&quot;
                }
            ],
            &quot;text&quot; : &quot;Patient in OP Raum&quot;
        },
        &quot;performedDateTime&quot; : ISODate(&quot;2020-08-05T05:05:00.000Z&quot;)
    },
    {
        &quot;code&quot; : {
            &quot;coding&quot; : [
                {
                    &quot;system&quot; : &quot;VOPM&quot;,
                    &quot;code&quot; : &quot;timeOpStart&quot;
                }
            ],
            &quot;text&quot; : &quot;Schnitt&quot;
        },
        &quot;performedDateTime&quot; : ISODate(&quot;2020-08-05T05:17:04.000Z&quot;)
    },
    {
        &quot;code&quot; : {
            &quot;coding&quot; : [
                {
                    &quot;system&quot; : &quot;VOPM&quot;,
                    &quot;code&quot; : &quot;timeOpStop&quot;
                }
            ],
            &quot;text&quot; : &quot;Naht&quot;
        },
        &quot;performedDateTime&quot; : ISODate(&quot;2020-08-05T05:36:04.000Z&quot;)
    },
    {
        &quot;code&quot; : {
            &quot;coding&quot; : [
                {
                    &quot;system&quot; : &quot;VOPM&quot;,
                    &quot;code&quot; : &quot;timeOpExit&quot;
                }
            ],
            &quot;text&quot; : &quot;Patient aus OP Raum&quot;
        },
        &quot;performedDateTime&quot; : ISODate(&quot;2020-08-05T05:39:31.000Z&quot;)
    }
]
</code></pre></div>



<a name="207959888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/207959888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#207959888">(Aug 25 2020 at 13:07)</a>:</h4>
<p>That is an very old definition of AuditEvent</p>
<blockquote>
<p>A record of an event relevant for purposes such as operations, privacy, security, maintenance, and performance analysis.</p>
</blockquote>



<a name="207961932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/207961932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#207961932">(Aug 25 2020 at 13:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps/near/207959888">said</a>:</p>
<blockquote>
<p>That is an very old definition of AuditEvent</p>
<blockquote>
<p>A record of an event relevant for purposes such as operations, privacy, security, maintenance, and performance analysis.</p>
</blockquote>
</blockquote>
<p>Thats what I found on <a href="https://www.hl7.org/fhir/auditevent.html">https://www.hl7.org/fhir/auditevent.html</a>. Anyway, thanks for your suggestion, but thats not what I am looking for. I explicitly want to discuss the following sentence in the Procedure: The creation of a resource to support detailed real-time procedure information awaits the identification of a specific implementation use-case to share such information.</p>



<a name="207963610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/207963610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#207963610">(Aug 25 2020 at 13:39)</a>:</h4>
<p>Procedure hasn't been well-exercised for real-time data capture - it's primarily been used (so far) for after-the fact summarization.  Feedback (and change requests) are welcome.  Note that dateTime <em>can</em> capture the full precision of a timestamp, it just doesn't require it.  It's possible to capture sub-procedures for aspects such as individual incisions, etc.</p>



<a name="207963921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/207963921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#207963921">(Aug 25 2020 at 13:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps/near/207963610">said</a>:</p>
<blockquote>
<p>Procedure hasn't been well-exercised for real-time data capture - it's primarily been used (so far) for after-the fact summarization.  Feedback (and change requests) are welcome.  Note that dateTime <em>can</em> capture the full precision of a timestamp, it just doesn't require it.  It's possible to capture sub-procedures for aspects such as individual incisions, etc.</p>
</blockquote>
<p>Thanks. Consider this as feedback ;) The resource Procedure is perfect for our case, however I just can't insert a number of timestamps and I really don't want to split one procedure.code with 36 timestamps, into 18 different procedures in our data.</p>



<a name="207964705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/207964705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#207964705">(Aug 25 2020 at 13:49)</a>:</h4>
<p>Feedback that drive's change needs to be submitted as a formal change request - use the "propose a change" link at the bottom of any page in the spec.</p>



<a name="208028423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208028423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208028423">(Aug 25 2020 at 21:47)</a>:</h4>
<p><span class="user-mention" data-user-id="251626">@René Störmer</span> this seems another thread with same question.</p>



<a name="208028451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208028451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208028451">(Aug 25 2020 at 21:47)</a>:</h4>
<p>I think the German colleagues suggested a standard extension for that use case.</p>



<a name="208028864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208028864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208028864">(Aug 25 2020 at 21:52)</a>:</h4>
<p>And my understanding of your use case is the following: if you make changes for each specific (legal) requirement, you'll need to capture a facet of the information for this requirement, later you will still have to capture other details, and this will grow... My personal opinion is that if your scope grows, you'll be longing for the days when one procedure was only 18+1 resources</p>



<a name="208029382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208029382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208029382">(Aug 25 2020 at 21:57)</a>:</h4>
<p>Why can't you use contained Procedure resources? I think you only need 5attributes for each: status, patient, code, time and partOf</p>



<a name="208029640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208029640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208029640">(Aug 25 2020 at 22:00)</a>:</h4>
<p>I don't see why this would require a change in core</p>



<a name="208083619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208083619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208083619">(Aug 26 2020 at 12:19)</a>:</h4>
<p>I am copying the rest of your reply from another thread over to this place. Thanks for the discussion with you so far!</p>
<hr>
<p>Jose Costa Teixeira: From what I can follow: If you really only ever want the timestamps for those events, you can use the progressStatus extension.</p>
<p>Jose Costa Teixeira: If you want to capture the use of medication, you'd need a medicationAdministration at least. If you want to capture room usage, you'd also better capture some of the different resources.</p>
<p>Jose Costa Teixeira: It seems your use case @René Störmer is about statistics/process control indicators. The "timestamps" are synthetic and are OK for that.<br>
If your case would be OR optimization, you may be interested in capturing more details (e.g. which operating room, which anesthesist, which monitors are used, etc.).</p>
<hr>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps/near/208028864">said</a>:</p>
<blockquote>
<p>And my understanding of your use case is the following: if you make changes for each specific (legal) requirement, you'll need to capture a facet of the information for this requirement, later you will still have to capture other details, and this will grow... My personal opinion is that if your scope grows, you'll be longing for the days when one procedure was only 18+1 resources</p>
</blockquote>
<p>The scope of one procedure is "almost" perfect right now.  Of course I want to track things like used material,  peformers, locations, but that is all there and can be done in one procedure. That way I also only have to track and update the status of one procedure, as it in preparation, in-progress and completed. </p>
<p>I am able to track all performers that took part in the procedure and I really like that logic. The same I would like to do for timestamps, as they give a more detailed view on the "in-progress" status part of the procedure. </p>
<p>In my understanding one procedure tracks the fulfilment of one Procedure.code, which might be a Snomed, OPS or ICD-10-PCS code. So I would like to say:  </p>
<p>We are operating Patient A with the following procedure, which is documented in Procedure.code. This procedure goes through the lifecycle, as documented in Procedure.status. As soon as I set my Procedure to "completed" in Procedure.status, I know that the patient has undergone that Procedure. I don't want to look in multiple other 18 procedures or manage 18 other procedures. What I would do is, to create another Procedure, if two Procedure.code are operated on the patient in the same appointment, maybe even in parallel. That would make total sense and would be possible to handle from a data perspective. </p>
<p>I could use the extension  progressStatus, but in my opinion, tracking timestamps for a procedure is a core requirement (As tracking timestamps is a legal requirement in Germany) and using the extension would definitely disqualify using the Procedure resource as a data saving format (Which I would very much like to do),  as it is not very suitable for performant queries.</p>



<a name="208090754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208090754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208090754">(Aug 26 2020 at 13:32)</a>:</h4>
<blockquote>
<p>using the extension would definitely disqualify using the Procedure resource as a data saving format</p>
</blockquote>
<p>What is the reason for such a disqualification?</p>
<p><a href="http://jira.hl7.org/browse/FHIR-28358">FHIR#28358</a> created. <span class="user-mention" data-user-id="251626">@René Störmer</span>, please create a Jira account at <a href="https://jira.hl7.org/">https://jira.hl7.org/</a> and add yourself to watch this issue (if you want to participate in the Patient Care workgroup discussions on it).</p>



<a name="208093835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208093835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208093835">(Aug 26 2020 at 13:55)</a>:</h4>
<p>The existing mechanisms allow for tracking this in sub-procedures. Tracking timestamps is a core procedure, but tracking timestamps <strong>only </strong>and <strong>in the top resource </strong> is not.</p>



<a name="208093849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208093849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208093849">(Aug 26 2020 at 13:55)</a>:</h4>
<p>I don't see why we'd want to change the core behaviour to accommodate for a requirement that is about monitoring which in my experience always comes with more and more requirements - you will need to drill down to the details, see the timestamp AND performer AND location...</p>



<a name="208094409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208094409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208094409">(Aug 26 2020 at 13:59)</a>:</h4>
<p>The fact that this resource is almost perfect for this one use case is great, but not a requirement that we must make it perfect in that way. This <br>
 seems tweaking the standard to support a specific requirement rather than the diversity we have out there, and I don't think it is a good idea.</p>



<a name="208094551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208094551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208094551">(Aug 26 2020 at 14:00)</a>:</h4>
<p>Maybe I am not understanding well how this could be done without duplicating the functionality we have today, but what  is being asked is already supported.</p>



<a name="208094582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208094582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208094582">(Aug 26 2020 at 14:00)</a>:</h4>
<p>I've commented something along these lines in the tracker issue</p>



<a name="208098223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208098223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208098223">(Aug 26 2020 at 14:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps/near/208090754">said</a>:</p>
<blockquote>
<blockquote>
<p>using the extension would definitely disqualify using the Procedure resource as a data saving format</p>
</blockquote>
<p>What is the reason for such a disqualification?</p>
<p><a href="http://jira.hl7.org/browse/FHIR-28358">FHIR#28358</a> created. <span class="user-mention silent" data-user-id="251626">René Störmer</span>, please create a Jira account at <a href="https://jira.hl7.org/">https://jira.hl7.org/</a> and add yourself to watch this issue (if you want to participate in the Patient Care workgroup discussions on it).</p>
</blockquote>
<p>Because the way extensions are stored don't lead to a good readability and performance when querying. For smaller adaptions to a resource this is okay, but timestamps are a core feature for us as I said,  so it would be bad design for us to do this in a FHIR extension in the Procedure Resource.</p>
<p>Thanks for creating the Ticket! I requested an Account</p>



<a name="208100264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208100264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208100264">(Aug 26 2020 at 14:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps/near/208094409">said</a>:</p>
<blockquote>
<p>The fact that this resource is almost perfect for this one use case is great, but not a requirement that we must make it perfect in that way. This <br>
 seems tweaking the standard to support a specific requirement rather than the diversity we have out there, and I don't think it is a good idea.</p>
</blockquote>
<p>It is not a specific requirement, but a common use case in Europe. Imagine a random example Procedure with the code 039C40Z, which I want to track. This Procedure takes place and has a number of timestamps, which are in this case named by the customer (Easily solvable with the Coding resource). How would you do this using multiple procedure resources and still be able to track the status of the main procedure easily and query after the all timestamps in an efficient manner, based on the main Procedure that we are using in our program logic? </p>
<p>Patient arrived in hospital: 18.02.2020 08:00<br>
Patient requested: 18.02.2020 10:01<br>
Patient in OP Area: 18.02.2020 10:30<br>
Patient waiting time start: 18.02.2020 10:44<br>
Patient waiting time end: 18.02.2020 10:49<br>
Patient Anesthesia Start: 18.02.2020 11:20<br>
Patient Anesthesia Stop: 18.02.2020 11:30<br>
Patient in OP Room: 18.02.2020 11:40<br>
Patient Cut: 18.02.2020 11:45<br>
Patient Suture: : 18.02.2020 12:15<br>
Patient out OP Room: 18.02.2020 12:30<br>
Room clean start: 18.02.2020 12:45<br>
Room clean stop: 18.02.2020 13:00<br>
Patient out OP Area: 18.02.2020 13:30</p>



<a name="208101266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208101266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208101266">(Aug 26 2020 at 14:47)</a>:</h4>
<p>The main question really is, what is the scope of the procedure? I would say that the scope of a procedure is Procedure.code. It should be possible to track the overall status of the scope of a Procedure in a Procedure resource. This can be done in parts by Procedure.status, but not in detail, while the Procedure unfolds in real time, which is what I am asking for --&gt; Procedure.timestamps</p>



<a name="208113455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208113455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208113455">(Aug 26 2020 at 16:16)</a>:</h4>
<p>capturing ONLY the timestamps seems like a very specific requirement.</p>



<a name="208113539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208113539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208113539">(Aug 26 2020 at 16:17)</a>:</h4>
<p>Timestamps alone are core feature for one project, for another project it will be the timestamps and sub-procedures.</p>



<a name="208113907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208113907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208113907">(Aug 26 2020 at 16:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="251626">René Störmer</span> <a href="#narrow/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps/near/208101266">said</a>:</p>
<blockquote>
<p>The main question really is, what is the scope of the procedure? I would say that the scope of a procedure is Procedure.code. It should be possible to track the overall status of the scope of a Procedure in a Procedure resource. This can be done in parts by Procedure.status, but not in detail, while the Procedure unfolds in real time, which is what I am asking for --&gt; Procedure.timestamps</p>
</blockquote>
<p>It seems what you are asking is :<br>
We don't want to use sub-procedures for this use case. But we have a requirement to preserve the timestamps for the evolution of the procedure, and the way our database is working makes the use of extensions less interesting/ less performant, so I suggest changing the core standard.</p>



<a name="208114461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208114461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208114461">(Aug 26 2020 at 16:24)</a>:</h4>
<p>so: </p>
<ol>
<li>Is is clear that you can track the timestamps using sub-procedures? Or is there a gap there?</li>
<li>what is the issue with extensions' "readability and performance"? extensions are for computers to read, and computers can handle a bit of nesting. Did you consider an extension or you just want to change the core to fit that use case?</li>
</ol>



<a name="208114647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208114647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208114647">(Aug 26 2020 at 16:25)</a>:</h4>
<p>An example: A few years ago we needed "serial number" on medications. It was not commonly known that this was a legal requirement, and most systems were not ready, so we accepted to have an extension that then became part of the core. And that was a unique, unmet requirement. What you are asking does not seem a unique, unmet requirement, but a design preference.</p>



<a name="208120715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208120715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208120715">(Aug 26 2020 at 17:15)</a>:</h4>
<p>One thing to consider is that the 'sub-procedures' could be contained resources within the overall Procedure instance.</p>



<a name="208660134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208660134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Störmer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208660134">(Sep 01 2020 at 08:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps/near/208120715">said</a>:</p>
<blockquote>
<p>One thing to consider is that the 'sub-procedures' could be contained resources within the overall Procedure instance.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>  posted the following example in JIRA. To clarify a few questions. I will write a more complete reply in JIRA once I find time:</p>
<ul>
<li>Procedure.code should be used to name the code of the procedure, so what is being done on the patient. It would be confusing to insert a timestamp here in contained resources, as we are using Procedure.code in the main Procedure correctly</li>
<li>I guess instead of occurence[x] you meant performed[x]?</li>
<li>I would only need to specify which timestamp I am referencing and performedDateTime. Procedure.status is required, but I really don't want to track the correct status as of now.</li>
</ul>
<p>In my opinion this is not a clean and explicit solution, but a possible one anyway!</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Procedure&quot;,
    &quot;id&quot;: &quot;mainSurgery&quot;,
    &quot;contained&quot;: [
        {
            &quot;resourceType&quot;: &quot;Procedure&quot;,
            &quot;id&quot;: &quot;prep&quot;,
            &quot;partOf&quot;: [{&quot;reference&quot;: &quot;Procedure/mainSurgery&quot;}],
            &quot;status&quot;: &quot;completed&quot;,
            &quot;code&quot;: {
                &quot;coding&quot;: [{&quot;code&quot;: &quot;#preparation&quot;}]},
            &quot;occurrencePeriod&quot;: {
                &quot;start&quot;: &quot;xxxxx&quot;,
                &quot;end&quot;: &quot;yyyyy&quot;
            }
        },
        {
            &quot;resourceType&quot;: &quot;Procedure&quot;,
            &quot;id&quot;: &quot;anesthesia&quot;,
            &quot;partOf&quot;: [{ &quot;reference&quot;: &quot;Procedure/mainSurgery&quot; }],
            &quot;status&quot;: &quot;completed&quot;,
            &quot;code&quot;: {
                &quot;coding&quot;: [{ &quot;code&quot;: &quot;#anesthesia&quot;}]},
            &quot;occurrencePeriod&quot;: {
                &quot;start&quot;: &quot;xxxxx&quot;,
                &quot;end&quot;: &quot;yyyyy&quot;
            }
        },
...
        {
            &quot;resourceType&quot;: &quot;Procedure&quot;,
            &quot;id&quot;: &quot;recovery&quot;,
            &quot;partOf&quot;: [{
            &quot;reference&quot;: &quot;Procedure/mainSurgery&quot;}],
            &quot;status&quot;: &quot;completed&quot;,
            &quot;code&quot;: {
            &quot;coding&quot;: [{&quot;code&quot;: &quot;#recovery&quot;}]
            },
            &quot;occurrencePeriod&quot;: {
                &quot;start&quot;: &quot;xxxxx&quot;,
                &quot;end&quot;: &quot;yyyyy&quot;
            }
        }
    ],
    &quot;status&quot;: &quot;completed&quot;,
    &quot;code&quot;: {&quot;coding&quot;: [{&quot;code&quot;: &quot;#Appendectomy&quot;}]},
    &quot;occurrencePeriod&quot;: {
        &quot;start&quot;: &quot;xxxxx&quot;,
        &quot;end&quot;: &quot;yyyyy&quot;
    }
}
</code></pre></div>



<a name="208660738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Realtime%20Procedure%20with%20timestamps/near/208660738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Realtime.20Procedure.20with.20timestamps.html#208660738">(Sep 01 2020 at 08:56)</a>:</h4>
<ul>
<li>the contained procedure.code is the code for the detailed activity (as in the other stream, other people have the requirement to track that). If your case does not require that, you can just put the same code as the main procedure.</li>
<li>performed[x] became occurrence[x] in the current build,  so yes, it's the same.</li>
<li>if you know specific status of "anesthesia" or "recovery", you can track it there. Presumably they are completed by the time you finish the procedure.</li>
</ul>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
