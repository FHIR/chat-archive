---
layout: page
title: "FHIR Chat  · Preserving provenance of a FHIR resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Preserving.20provenance.20of.20a.20FHIR.20resource.html">Preserving provenance of a FHIR resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="260847224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Preserving%20provenance%20of%20a%20FHIR%20resource/near/260847224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raheel Sayeed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Preserving.20provenance.20of.20a.20FHIR.20resource.html#260847224">(Nov 09 2021 at 19:19)</a>:</h4>
<p>What would be the recommended way we could preserve the source URI (full) within the resource?  There are potentially two ways: using <code>resource.meta.source</code> and/or <code>Provenance</code></p>
<p>We're implementing an app fetches FHIR data from one source and submitting it to another FHIR server (entirely different entity).  To avoid any potential collision,  all submissions are through <code>POST</code> -which means: remove existing <code>resource.id</code> (prior to POST)</p>
<p>Probably its <code>resource.meta.source</code>? ( <span class="user-mention" data-user-id="191315">@Josh Mandel</span> , <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> )</p>
<p>From the docs:  </p>
<blockquote>
<p>Only one nominated source is allowed; for additional provenance details, a full Provenance resource should be used.  On the RESTful API: On receiving a write operation, the server SHOULD generally leave this unchanged, unless applicable business rules, along with available provenance, dictate otherwise</p>
</blockquote>
<p>However, its unclear if its okay to replace <code>resource.meta.source</code>, if in the event its already filled in?</p>



<a name="260872621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Preserving%20provenance%20of%20a%20FHIR%20resource/near/260872621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Preserving.20provenance.20of.20a.20FHIR.20resource.html#260872621">(Nov 09 2021 at 22:37)</a>:</h4>
<p>I think we might want a common pattern to replace Meta.source  for new implementations, given the limitations around its use. Something like a standardized tag of the form:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;system&quot;: &quot;http://hl7.org/fhir/tags/source-fullUrl&quot;,
  &quot;code&quot;: &quot;https://ehr.example.org/fhir/Observation/123&quot;
}
</code></pre></div>
<p>And maybe also one like the following for cases where the full details are not known or needed:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;system&quot;: &quot;http://hl7.org/fhir/tags/source-baseUrl&quot;,
  &quot;code&quot;: &quot;https://ehr.example.org/fhir&quot;
}
</code></pre></div>



<a name="260872736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Preserving%20provenance%20of%20a%20FHIR%20resource/near/260872736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Preserving.20provenance.20of.20a.20FHIR.20resource.html#260872736">(Nov 09 2021 at 22:38)</a>:</h4>
<p>The idea would be </p>
<p>1)  allow for multiple values, where meta.source purpose only one value<br>
2) assign specific semantics  for different flavors of sources, where meta.source leaves things wide open</p>



<a name="260950220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Preserving%20provenance%20of%20a%20FHIR%20resource/near/260950220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Preserving.20provenance.20of.20a.20FHIR.20resource.html#260950220">(Nov 10 2021 at 06:19)</a>:</h4>
<p>To reference the source of a replicated FHIR resource, instead of using meta.source, we've been adding an "urn:ietf:rfc:3986" identifier, e.g.</p>
<div class="codehilite"><pre><span></span><code>&quot;identifier&quot;: [ {
    &quot;system&quot;: &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot;: &quot;https://ehr.example.org/fhir/Observation/123&quot;
},
...
</code></pre></div>



<a name="261800049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Preserving%20provenance%20of%20a%20FHIR%20resource/near/261800049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Derek Ritz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Preserving.20provenance.20of.20a.20FHIR.20resource.html#261800049">(Nov 17 2021 at 15:28)</a>:</h4>
<p>This thread seems related to this thread: <a href="#narrow/stream/179166-implementers/topic/Uniqueness.20of.20resource.20id.20in.20FHIR">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Uniqueness.20of.20resource.20id.20in.20FHIR</a> <br>
Across a federation of FHIR servers it can be important to know which resources are "copies" of the same underlying "base" resource.</p>



<a name="261950680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Preserving%20provenance%20of%20a%20FHIR%20resource/near/261950680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Preserving.20provenance.20of.20a.20FHIR.20resource.html#261950680">(Nov 18 2021 at 16:21)</a>:</h4>
<p>There is a Linkage resource that can allow tracking that multiple resources are representations of the same underlying clinical/business fact.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
