---
layout: page
title: "FHIR Chat  · StuctureMaps in xver packages · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StuctureMaps.20in.20xver.20packages.html">StuctureMaps in xver packages</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="265553672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StuctureMaps%20in%20xver%20packages/near/265553672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Declan Kieran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StuctureMaps.20in.20xver.20packages.html#265553672">(Dec 20 2021 at 12:03)</a>:</h4>
<p>Hi</p>
<p>I have a question around the URL used for the StructureDefintion targets in the StructureMaps included in the xver packages.  Is there a reason to not use full versioned URL as opposed the generic latest URL?  </p>
<p>I had a look in both the hl7.fhir.xver.r3 and hl7.fhir.xver.r4 packages and for all of the 3to4 StructureMaps, in both packages, the target StructureDefintion is <a href="http://hl7.org/fhir/StructureDefintion/&lt;resource">http://hl7.org/fhir/StructureDefintion/&lt;resource</a>&gt;, as opposed to <a href="http://hl7.org/fhir/4.0/StructureDefintion/&lt;resource">http://hl7.org/fhir/4.0/StructureDefintion/&lt;resource</a>&gt;.  I had thought maybe there was an inference based on the version of the package, but the r4 and r3 xver packages are the same.  Also the source in both sets of StructureMaps is <a href="http://hl7.org/fhir/3.0/StructureDefintion/&lt;resource">http://hl7.org/fhir/3.0/StructureDefintion/&lt;resource</a>&gt;</p>
<p>Based on this inconsistency it seems like this will cause problems, for example when moving to r5, if r4 is used implicitly as the latest version.</p>



<a name="265557203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StuctureMaps%20in%20xver%20packages/near/265557203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Declan Kieran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StuctureMaps.20in.20xver.20packages.html#265557203">(Dec 20 2021 at 12:41)</a>:</h4>
<p>I suppose another question that comes from this is, does the value of the target even matter, is this address even used to determine / retrieve the content of the StructureMap JSON object?  </p>
<p>The reason I ask this question is it does seem to be used to search in other packages in the conversion process, so it does seem to have more importance that being just a name, and depending on the package, the unversioned URL may return different StructureDefinition versions.  It would be good to know any other functional use for it.</p>



<a name="265567545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StuctureMaps%20in%20xver%20packages/near/265567545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Declan Kieran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StuctureMaps.20in.20xver.20packages.html#265567545">(Dec 20 2021 at 14:08)</a>:</h4>
<p>Here's what I used to have a scan through the values in question, just in cases its useful, the second grep can be changed to source etc...</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>find ~/.fhir/packages/hl7.fhir.xver.r4#1.2.0 -name <span class="s2">"*StructureMap*3to4*"</span> <span class="p">|</span> xargs -n <span class="m">1</span> -I <span class="o">{}</span> jq -s <span class="s1">'.'</span> <span class="o">{}</span> <span class="p">|</span> grep -A <span class="m">1</span> url <span class="p">|</span> grep -B <span class="m">1</span> target
</code></pre></div>



<a name="265576852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StuctureMaps%20in%20xver%20packages/near/265576852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StuctureMaps.20in.20xver.20packages.html#265576852">(Dec 20 2021 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
