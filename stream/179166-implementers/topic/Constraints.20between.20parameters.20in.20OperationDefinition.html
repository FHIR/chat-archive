---
layout: page
title: "FHIR Chat  · Constraints between parameters in OperationDefinition · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraints.20between.20parameters.20in.20OperationDefinition.html">Constraints between parameters in OperationDefinition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153972351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraints%20between%20parameters%20in%20OperationDefinition/near/153972351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraints.20between.20parameters.20in.20OperationDefinition.html#153972351">(Jun 28 2018 at 11:50)</a>:</h4>
<p>We have a custom operation for which different subsets of the output parameters are returned depending on the input. That is, we have constraints between the optional output parameters A, B, and C of the form "Either (A AND B) are returned OR C is returned". Going further, the constraints actually depend on the value passed in the input parameters. Is there any (machine-readable) way to encode one of both of such constraints in the <code>OperationDefinition</code> resource, as one would do with FHIRPath constraints for a profile?</p>



<a name="153972352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraints%20between%20parameters%20in%20OperationDefinition/near/153972352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraints.20between.20parameters.20in.20OperationDefinition.html#153972352">(Jun 28 2018 at 11:55)</a>:</h4>
<p>is your "input" a static thing (i.e. something that you define once and always behaves in a similar way or "dynamic", (e.g. it depends on a previous step in the sequence)?</p>



<a name="153972353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraints%20between%20parameters%20in%20OperationDefinition/near/153972353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraints.20between.20parameters.20in.20OperationDefinition.html#153972353">(Jun 28 2018 at 11:57)</a>:</h4>
<p>We have a challenge about dynamic behaviour when looking at "workflow profiling". <br>
example:<br>
After receiving a medicationRequest, and after administration is given, the medicationAdministrationResource <br>
a) MUST contain a .request value filled in<br>
b) the value of the .request MUST be the same as the request ID that was received</p>



<a name="153972381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraints%20between%20parameters%20in%20OperationDefinition/near/153972381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraints.20between.20parameters.20in.20OperationDefinition.html#153972381">(Jun 28 2018 at 13:54)</a>:</h4>
<p>The constraints linked to input would roughly be of the form</p>
<p><em>If input parameter X has value"y", then the return <code>Parameters</code> resource must contain parameters A and B, otherwise it must contain parameter C.</em> </p>
<p>(actually, these would be constraints on the possible parts of a multi-part parameters). Here, "y" would be a fixed value from a ValueSet, so I guess that would make it "static" in your parlance?</p>
<p>For us, even just having fixed constraints with no input dependence to specify possible consistent subsets of return parameters would also be interesting.</p>



<a name="153972382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraints%20between%20parameters%20in%20OperationDefinition/near/153972382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraints.20between.20parameters.20in.20OperationDefinition.html#153972382">(Jun 28 2018 at 13:55)</a>:</h4>
<p>Of course, I suppose any such constraints would be of limited value if there is no way to automatically check them (i.e. to validate a <code>Parameters</code>instance against the corresponding <code>OperationDefinition</code>) and I am not aware of any way to do that. If there was a way to specify constraints in <code>OperationDefinition</code>, I suppose it would be possible to convert it into a profile on <code>Parameters</code>and validate using that.</p>



<a name="153972423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraints%20between%20parameters%20in%20OperationDefinition/near/153972423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraints.20between.20parameters.20in.20OperationDefinition.html#153972423">(Jun 28 2018 at 18:34)</a>:</h4>
<p>In R4, you can use Parameters.inputProfile to specify the profile that applies to the inbound Parameters instance.  And you can declare a constraint on the root that reflects your invariant.  In R3 and R2 you'll need an extension, though we should soon be publishing a standard extension for that purpose.</p>



<a name="153972514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Constraints%20between%20parameters%20in%20OperationDefinition/near/153972514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Constraints.20between.20parameters.20in.20OperationDefinition.html#153972514">(Jun 29 2018 at 11:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Perfect, thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
