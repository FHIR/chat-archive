---
layout: page
title: "FHIR Chat  · Composition vs Bundle Approach to Structured Documents · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20vs.20Bundle.20Approach.20to.20Structured.20Documents.html">Composition vs Bundle Approach to Structured Documents</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153971429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition%20vs%20Bundle%20Approach%20to%20Structured%20Documents/near/153971429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Meredith <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20vs.20Bundle.20Approach.20to.20Structured.20Documents.html#153971429">(Jun 25 2018 at 08:07)</a>:</h4>
<p>I am conducting an excercise trying to take a farily large blob of XML into a FHIR compliant format. The clinical context is of an outpatient appointment containing both history and new observations in support of a diabetes consultation. The source XML is presently aorund 3500 lines.</p>
<p>The first thing is that this document or consultation can happen over a short period of time and by mulitple authors. Depending on where you draw the line of the "composition" it could either be a bundle of documents, each of which has the context of the date, location, coded clinical context plus a series of observations, or alternativly one large all encompassing structure. </p>
<p>The important point is that the blob is designed to self contained with not external references. We do not have yet have a fully operation FHIR server (and are building to that), but in the short term can we develop standardised approach to our documents that paves the way for meaningful reuse in the future. And that's where the use of the com[position resource bothers me as it (as i understand it) is not supposed to be self contained snapshot. I think I am describing the output of a compostion resource operation. </p>
<p>Thoughts welcomed...</p>



<a name="153971431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition%20vs%20Bundle%20Approach%20to%20Structured%20Documents/near/153971431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20vs.20Bundle.20Approach.20to.20Structured.20Documents.html#153971431">(Jun 25 2018 at 08:32)</a>:</h4>
<p>Composition and Bundle (of type "document") go hand in hand.</p>
<p>If you need that XML document represented in a similar (especially: explicitely self contained) way in FHIR, use a Bundle of type "document". The first resource within that Bundle has to be a Composition that lists all other resources contained in there. See <a href="https://www.hl7.org/fhir/documents.html" target="_blank" title="https://www.hl7.org/fhir/documents.html">https://www.hl7.org/fhir/documents.html</a> .<br>
Pro: you have "everything in one place"<br>
Con: you don't have the separate resources available, so you can't easily search and (re-)use them as possibly required</p>
<p>If you don't really need that Bundle stored "as-is" (for legal reasons or such), you would store every resource seperately. You still can have a Composition resource that keeps them together. And you can even generate a Bundle on the fly from that Composition using the $document operation. See <a href="http://build.fhir.org/composition-operation-document.html" target="_blank" title="http://build.fhir.org/composition-operation-document.html">http://build.fhir.org/composition-operation-document.html</a><br>
Pro: you have all the data of the original XML document ready for search and (re-)use. And you still can generate a Bundle of type document.<br>
Con: that document Bundle is generated dynamically, so it does not exist on the server "as-is" (would you need that in your use case?)</p>
<p>I would go with the second variant whereever possible, but it of course depends on the use case.</p>
<p>Of course you can mix up both variants within the business logic of your server, so the two options are not necessarily mutual exclusive. But that would basically add complexity.</p>



<a name="153971476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition%20vs%20Bundle%20Approach%20to%20Structured%20Documents/near/153971476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20vs.20Bundle.20Approach.20to.20Structured.20Documents.html#153971476">(Jun 25 2018 at 10:27)</a>:</h4>
<p>it's perfectly valid and reasonable to use composition outside document</p>



<a name="153971529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Composition%20vs%20Bundle%20Approach%20to%20Structured%20Documents/near/153971529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Meredith <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Composition.20vs.20Bundle.20Approach.20to.20Structured.20Documents.html#153971529">(Jun 25 2018 at 12:07)</a>:</h4>
<p>Excellent - thanks for the feedback <span class="user-mention" data-user-id="191436">@Stefan Lang</span> . The first option seems like the right fit for us right now in order to future proof us.  And hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  - I need to write to you regarding my research -  I'm moving forward with it and your points on ontologies informed it a fair bit.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
