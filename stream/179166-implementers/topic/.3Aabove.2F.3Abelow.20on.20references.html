---
layout: page
title: "FHIR Chat  · :above/:below on references · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html">:above/:below on references</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153938324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938324">(Feb 17 2018 at 06:40)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=8776" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=8776">GF#8776</a> proposes to document use of :above and :below on ... some.. reference parameters. The task says "at least Organization.partOf, Encounter.partOf, Location.partOf"... well, which then. So here's a full list of candidates:</p>



<a name="153938325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938325">(Feb 17 2018 at 06:40)</a>:</h4>
<p><a href="http://build.fhir.org/references.html#circular" target="_blank" title="http://build.fhir.org/references.html#circular">http://build.fhir.org/references.html#circular</a></p>



<a name="153938326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938326">(Feb 17 2018 at 06:41)</a>:</h4>
<p>so which ones? <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> <span class="user-mention" data-user-id="191319">@James Agnew</span> <span class="user-mention" data-user-id="191351">@Chris Grenz</span></p>



<a name="153938354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938354">(Feb 17 2018 at 21:37)</a>:</h4>
<p>Care plan might be useful there too</p>



<a name="153938550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938550">(Feb 19 2018 at 12:43)</a>:</h4>
<p>My suggestions here, pls. add or change when you disagree:<br>
<a href="https://docs.google.com/spreadsheets/d/1BngK1RIRRJdkycYoFd6VXQRHwwtdh7hxerXglSpH6Hs/edit?usp=sharing" target="_blank" title="https://docs.google.com/spreadsheets/d/1BngK1RIRRJdkycYoFd6VXQRHwwtdh7hxerXglSpH6Hs/edit?usp=sharing">https://docs.google.com/spreadsheets/d/1BngK1RIRRJdkycYoFd6VXQRHwwtdh7hxerXglSpH6Hs/edit?usp=sharing</a></p>



<a name="153938912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938912">(Feb 20 2018 at 11:04)</a>:</h4>
<p>well, ok, looking at that, we could simplify and say that the pattern only applies to .partOf and .parent. I think all the other cases do not justify the pattern</p>



<a name="153938913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938913">(Feb 20 2018 at 11:04)</a>:</h4>
<p>I must say, I have no idea how I'll implement this...</p>



<a name="153938939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938939">(Feb 20 2018 at 13:53)</a>:</h4>
<blockquote>
<p>well, ok, looking at that, we could simplify and say that the pattern only applies to .partOf and .parent. I think all the other cases do not justify the pattern</p>
</blockquote>
<p>Yes, that's basically what I did:  looking at whether it was really about parent/child relationships.   Recursive querying like this in SQL has always been hard :-(   Maintaining closure tables is one solution, but not immediately attractive since it is extra bookkeeping....</p>



<a name="153938975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153938975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153938975">(Feb 20 2018 at 16:01)</a>:</h4>
<p>I agree with your selections - partOf and parent/base.  And recursive SQL is probably the way to go since the closure is going to be relatively shallow in most cases and probably not worth the maintenance.  Or, recursive requests in the search code (what we did with <a href="http://elastic.io" target="_blank" title="http://elastic.io">elastic.io</a>) since the depth is usually &lt;10.  Just to reiterate, without this searching by location in an inpatient setting is utterly useless!</p>



<a name="153939068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153939068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153939068">(Feb 20 2018 at 19:56)</a>:</h4>
<p>so do we make a flag on the search parameter? or just say it's by name?</p>



<a name="153939258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%3Aabove/%3Abelow%20on%20references/near/153939258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.3Aabove.2F.3Abelow.20on.20references.html#153939258">(Feb 21 2018 at 01:56)</a>:</h4>
<p>A flag would be more consistent with existing modifiers, yes? Nothing today in search is implied by presence of a named element.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
