---
layout: page
title: "FHIR Chat  · Search issues · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html">Search issues</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153911581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911581">(Oct 02 2017 at 02:36)</a>:</h4>
<p>Can I clarify the expected behaviour if a chained query uses a parameter value that does not match any resource. </p>
<p>eg . GET AllergyIntolerance?patient.identifier=http://mysys|100 .     If there is no patient with that identifier, then what should the response be? My understanding is that it would be an empty bundle (possibly including an informational OO ), but colleagues have looked at the wording here: <a href="https://www.hl7.org/fhir/search.html#errors" target="_blank" title="https://www.hl7.org/fhir/search.html#errors">https://www.hl7.org/fhir/search.html#errors</a> and wonder if it should be an error...</p>



<a name="153911582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Teirney <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911582">(Oct 02 2017 at 02:41)</a>:</h4>
<p>If we can't resolve the received patient identifier to a patient within our overall system (e.g. by asking the patient identity service), our preference is to return an error rather than introduce possible clinical risk if the client doesn't check the operation outcome and just sees the empty collection.</p>



<a name="153911585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Teirney <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911585">(Oct 02 2017 at 02:54)</a>:</h4>
<p>Conversely, as systems are used more widely in a regional context there's a good chance even the patient identity service we use behind the scenes (typically an EMPI) might not have knowledge of a patient identifier that the server receives.</p>



<a name="153911845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911845">(Oct 02 2017 at 17:19)</a>:</h4>
<p>If you do a search and nothing matches the criteria, you return an empty set.  The example provided of <code>[base]/Observation?subject=101</code> is a situation where you can clearly say the query is broken as they're asking for a match on a non-existing record.  But if you're searching patient.identifier, you're just not finding any matching rows.</p>



<a name="153911846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911846">(Oct 02 2017 at 17:19)</a>:</h4>
<p>There's no difference in behavior between patient.identifier=x and patient.gender=x</p>



<a name="153911847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911847">(Oct 02 2017 at 17:20)</a>:</h4>
<p>Nor is there any expectation that there should only be one patient that matches patient.identifier=http://mysys|100 like there would be with subject=101</p>



<a name="153911848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911848">(Oct 02 2017 at 17:22)</a>:</h4>
<p>The wording however is all "SHOULD".  So if you really want to raise an error, you can.  But I'd only do that if I recognized the system and the identifier value was also specified and I know that the expectation is that there should be exactly one match for that particular identifier system in the repository.</p>



<a name="153911849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911849">(Oct 02 2017 at 17:22)</a>:</h4>
<p>It wouldn't be a bad idea for us to add some safety guidance around the creation of chained queries that addresses this issue.</p>



<a name="153911868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20issues/near/153911868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20issues.html#153911868">(Oct 02 2017 at 18:52)</a>:</h4>
<p>Thanks lloyd. Tracker raised: <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13985" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13985">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13985</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
