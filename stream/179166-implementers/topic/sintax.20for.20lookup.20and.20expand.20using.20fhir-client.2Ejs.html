---
layout: page
title: "FHIR Chat  · sintax for lookup and expand using fhir-client.js · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sintax.20for.20lookup.20and.20expand.20using.20fhir-client.2Ejs.html">sintax for lookup and expand using fhir-client.js</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="178509061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sintax%20for%20lookup%20and%20expand%20using%20fhir-client.js/near/178509061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sintax.20for.20lookup.20and.20expand.20using.20fhir-client.2Ejs.html#178509061">(Oct 18 2019 at 20:41)</a>:</h4>
<p>Where can I find the way to perform $lookup, $expand, $validate-code, and $subsumes using the fhir-client.js?</p>
<p>Something like that???</p>
<div class="codehilite"><pre><span></span>            smart.api.search({
                    type: &quot;CodeSystem&quot;,
                    operation: &quot;$lookup&quot;,      &lt;-------- ¿¿¿¿?????
                    url: the_url
                    code: the_code
                })
                .then(function(response) {
                    console.log(response);
                });
</pre></div>



<a name="178541640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sintax%20for%20lookup%20and%20expand%20using%20fhir-client.js/near/178541640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sintax.20for.20lookup.20and.20expand.20using.20fhir-client.2Ejs.html#178541640">(Oct 19 2019 at 11:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191678">@Abigail Watson</span> ?</p>



<a name="178544670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sintax%20for%20lookup%20and%20expand%20using%20fhir-client.js/near/178544670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sintax.20for.20lookup.20and.20expand.20using.20fhir-client.2Ejs.html#178544670">(Oct 19 2019 at 12:45)</a>:</h4>
<blockquote>
<p>Where can I find the way to perform $lookup, $expand, $validate-code, and $subsumes using the fhir-client.js?</p>
<p>Something like that???</p>
</blockquote>
<div class="codehilite"><pre><span></span>        smart.api.search({
                type: &quot;CodeSystem&quot;,
                operation: &quot;$lookup&quot;,      &lt;-------- ¿¿¿¿?????
                url: the_url
                code: the_code
            })
            .then(function(response) {
                console.log(response);
            });
</pre></div>


<div class="codehilite"><pre><span></span>
</pre></div>


<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> is there a way to do  terminology operations using fhir-client.js ?</p>



<a name="178551477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sintax%20for%20lookup%20and%20expand%20using%20fhir-client.js/near/178551477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sintax.20for.20lookup.20and.20expand.20using.20fhir-client.2Ejs.html#178551477">(Oct 19 2019 at 15:47)</a>:</h4>
<p>Josh has helped design the protocol and spec, and the spec says to <a href="https://www.hl7.org/fhir/operations.html" target="_blank" title="https://www.hl7.org/fhir/operations.html">put it all in the URL</a>.   So you probably just want to use <code>.request()</code> and append it to the URL like so:</p>
<div class="codehilite"><pre><span></span>let the_url = &quot;/Patient/smart-1642068/$everything&quot;;
client.request(the_url, {
    resolveReferences: &quot;medicationReference&quot;
}).then(data =&gt; data.entry.map(item =&gt; getMedicationName(
    getPath(item, &quot;resource.medicationCodeableConcept.coding&quot;) ||
    getPath(item, &quot;resource.medicationReference.code.coding&quot;)
)));
</pre></div>



<a name="178551788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sintax%20for%20lookup%20and%20expand%20using%20fhir-client.js/near/178551788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sintax.20for.20lookup.20and.20expand.20using.20fhir-client.2Ejs.html#178551788">(Oct 19 2019 at 15:54)</a>:</h4>
<p>Here are some advanced examples of using the client with parameterized URLs.   <br>
<a href="http://docs.smarthealthit.org/client-js/request.html" target="_blank" title="http://docs.smarthealthit.org/client-js/request.html">http://docs.smarthealthit.org/client-js/request.html</a></p>



<a name="178560326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/sintax%20for%20lookup%20and%20expand%20using%20fhir-client.js/near/178560326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/sintax.20for.20lookup.20and.20expand.20using.20fhir-client.2Ejs.html#178560326">(Oct 19 2019 at 19:44)</a>:</h4>
<p>That's another way I didn't know it. So, I changed part of my code and now I can perform directly the URL inside instead using an object for the query. It works fine now!<br>
Thanks <span class="user-mention" data-user-id="191678">@Abigail Watson</span> !!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
