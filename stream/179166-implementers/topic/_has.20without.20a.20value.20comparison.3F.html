---
layout: page
title: "FHIR Chat  · _has without a value comparison? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html">_has without a value comparison?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="243061264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243061264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243061264">(Jun 17 2021 at 18:20)</a>:</h4>
<p>The examples for _has in the documentation all have a comparison with a value.  Could one use _has like this:</p>



<a name="243061397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243061397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243061397">(Jun 17 2021 at 18:21)</a>:</h4>
<p>GET [base]/Patient?_has:Observation:patient:code</p>



<a name="243061493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243061493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243061493">(Jun 17 2021 at 18:22)</a>:</h4>
<p>Or even:<br>
GET [base]/Patient?_has:Observation:patient</p>



<a name="243061583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243061583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243061583">(Jun 17 2021 at 18:23)</a>:</h4>
<p>The point would be to find all Patients that have an Observation.</p>



<a name="243061967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243061967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243061967">(Jun 17 2021 at 18:25)</a>:</h4>
<p>HAPI is fine with the first syntax, but not the second.  The FHIR search documentation is unclear as to whether either should work.</p>



<a name="243067339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243067339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243067339">(Jun 17 2021 at 19:02)</a>:</h4>
<p>I think that :missing and other qualifiers should work</p>



<a name="243083028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243083028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243083028">(Jun 17 2021 at 20:52)</a>:</h4>
<p>I am not sure how :missing would help (even if enabled, which it is usually not).  I am not trying to find Patients that have something missing.</p>



<a name="243113020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243113020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243113020">(Jun 18 2021 at 03:37)</a>:</h4>
<p><code>GET [base]/Patient?_has:Observation:patient:code:missing=false</code> = all patients that have an observation with a code</p>



<a name="243113503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243113503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243113503">(Jun 18 2021 at 03:48)</a>:</h4>
<p>Or <code>...:missing=false,true</code> to get at Paul's actual request -- which of course is a syntactically silly way to say "all patients with an Observation", but I don't think we can do any better with current FHIR syntax. I'd be happy to see us add the syntax Paul suggested, using <code>_has</code> sans<code>=</code> (or to see us claim it has been valid all along).</p>



<a name="243692957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_has%20without%20a%20value%20comparison%3F/near/243692957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_has.20without.20a.20value.20comparison.3F.html#243692957">(Jun 23 2021 at 18:25)</a>:</h4>
<p>The problem with :missing is it is usually disabled for space and performance reasons.  (I say usually, though my sample size is &lt; 5).  It sounds like the answer to my original question about is that people would expect _has to require a comparator.  I suppose I could do _has:Observation:patient:code:not=someveryunlikelycode.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
