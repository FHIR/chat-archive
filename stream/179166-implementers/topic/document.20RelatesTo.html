---
layout: page
title: "FHIR Chat  · document RelatesTo · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html">document RelatesTo</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229709449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229709449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229709449">(Mar 10 2021 at 17:39)</a>:</h4>
<p>Composition, and DocumentReference, have a relatesTo relationship. But the codes seem to be limited to versions or parts of the same document (replaces, transforms, signs, appends). Is it not meant for a general purpose link? <br>
What is the way to say "this other document relates to this one". They may share a subject, but this would be a more precise link than "all the documents about a patient".</p>



<a name="229715550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229715550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229715550">(Mar 10 2021 at 18:17)</a>:</h4>
<p>In general, we prefer to avoid 'typed' relationships and instead have specific elements for each type of relationship</p>



<a name="229718573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229718573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229718573">(Mar 10 2021 at 18:36)</a>:</h4>
<p>that makes sense. But in the absence of that, how then can this be achieved? The use case is that documents about products come in sets. It's not all the documents about a product ever, and it's not parts of one document. But documents can be released together such as the version with and without certain sections, or the version for experts and the version for patients. How could they be related to each other? The documents themselves have types, so if there was a general "other" relatesTo code, then you could see what other type you were linking to and it wouldn't be a semantic-less relationship overall.</p>



<a name="229719111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229719111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229719111">(Mar 10 2021 at 18:39)</a>:</h4>
<p>Would a List of documents work?</p>



<a name="229719496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229719496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229719496">(Mar 10 2021 at 18:41)</a>:</h4>
<p>I had considered that. To relate A and B would need A, B, a  List, and maybe 2 DocumentReferences.  A bit much and hard to query. But maybe the DocumentReferences are not needed, now I think of it.</p>



<a name="229719740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229719740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229719740">(Mar 10 2021 at 18:43)</a>:</h4>
<p>but still it seems odd to have an element called Composition.relatesTo, and not be able to use it for a related Composition...</p>



<a name="229721380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229721380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229721380">(Mar 10 2021 at 18:53)</a>:</h4>
<p>How this would be done in an XDS world would be through a Folder. In FHIR we use List resoruce for the purpose of grouping DocumetReferenc resources into a folder</p>



<a name="229721428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229721428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229721428">(Mar 10 2021 at 18:53)</a>:</h4>
<p>Fair enough.  Could also try an extension on Composition to start (e.g., <code>partOfGroup</code>) and go for an addition to R5.</p>



<a name="229721618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229721618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229721618">(Mar 10 2021 at 18:54)</a>:</h4>
<p>To make that more clear, we group them by way of a List. This way the List can be modified independent of the DocumentReference</p>



<a name="229721960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229721960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229721960">(Mar 10 2021 at 18:56)</a>:</h4>
<p>The other possibility is to use the DocumentReference.context.related.   This is used in XDS as well for grouping, and has the advantage that it is more flexibile to allow for a grouping accross many registries. The disadvantage is that it is harder to understand the reason for the related link</p>



<a name="229731631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229731631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229731631">(Mar 10 2021 at 19:54)</a>:</h4>
<p>DocumentReference.context.related seems to have gone in R5 with no obvious replacement.<br>
Is it necessary to use a DocumentReference to refer to a directly referenceable Composition (if I don't need the metadata that it offers)? <br>
DocumentReference is intended as a FHIR enabling wrapper for "real" (non-FHIR) documents, at URLs, I assume.<br>
I am thinking that a List of references to Compositions may do the job.</p>



<a name="229731749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229731749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229731749">(Mar 10 2021 at 19:54)</a>:</h4>
<p>Is there a problem with List not being allowed as a target (e.g., can it be used as 'include all these docs')?  If not, that may be awkward.</p>



<a name="229735981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229735981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229735981">(Mar 10 2021 at 20:18)</a>:</h4>
<p>I'm not sure what you mean about List not being allowed as a target Gino? <br>
You can (I assume) have a List of Compositions, that points to them as targets. <br>
You could also have List of Compositions inside the Bundle, so that each document points to itself and all the others. <br>
Updating that could be a problem however.</p>



<a name="229742944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229742944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229742944">(Mar 10 2021 at 20:57)</a>:</h4>
<p>I believe DocumentReference.context.related has moved to DocumentReference.relatesTo, which allows specific relationships to other document references be listed, or DocumentReference.related which can point to any resource, but doesn't indicate the relationship.</p>



<a name="229758923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229758923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229758923">(Mar 10 2021 at 22:28)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191380">@Elliot Silver</span>. But relatesTo only seems to allow links to what is essentially the <em>same</em> document (a version, a translation etc). Can you confirm that is the intention?</p>



<a name="229759484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229759484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229759484">(Mar 10 2021 at 22:33)</a>:</h4>
<p>I believe that is the intention.</p>
<p>By the way, what relationship are you trying to model that can't be expressed using searches based on basedOn, type, category, encounter, event, practiceSetting, or the standard episode-of-care extension?</p>



<a name="229759682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229759682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229759682">(Mar 10 2021 at 22:34)</a>:</h4>
<p>relations between the different documents that apply to drug products, such as the full data sheet and the one that the patient sees</p>



<a name="229759826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229759826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229759826">(Mar 10 2021 at 22:35)</a>:</h4>
<p>these documents are not patient related, so those patient fields don't apply</p>



<a name="229759978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229759978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229759978">(Mar 10 2021 at 22:36)</a>:</h4>
<p>I guess that normally clinical documents are linked by being in the same part of the patient record, so there has not been a need to group documents by other criteria</p>



<a name="229760000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229760000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229760000">(Mar 10 2021 at 22:36)</a>:</h4>
<p>That could be modeled as a translation.</p>



<a name="229760076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229760076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229760076">(Mar 10 2021 at 22:37)</a>:</h4>
<p>well it is not a literal translation. But that is another concept we may also need.</p>



<a name="229760194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229760194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229760194">(Mar 10 2021 at 22:38)</a>:</h4>
<p>but if the sense of translation means "about the same thing" then it might work. but that isn't really what I understand by "translation"</p>



<a name="229760205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229760205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229760205">(Mar 10 2021 at 22:38)</a>:</h4>
<p>Actually, the code is "transform" and I'd be happy to defend that use as a transformation of the document.</p>



<a name="229760292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229760292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229760292">(Mar 10 2021 at 22:39)</a>:</h4>
<p>but then all documents are transforms of each other even if they are neither subsets or supersets. A bit of a broad definition :-) Certainly no machine could do the transform.</p>



<a name="229760490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229760490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229760490">(Mar 10 2021 at 22:41)</a>:</h4>
<p>Or, look at using an extension for subject to point to the drug product resource, and the type/category of the document would indicate full or patient data sheet.</p>



<a name="229760882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229760882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229760882">(Mar 10 2021 at 22:44)</a>:</h4>
<p>Composition.subject can already point at the drug, so that is ok. But the idea is not to find all the documents about the drug, but to have certain documents relate to others.</p>



<a name="229762055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229762055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229762055">(Mar 10 2021 at 22:53)</a>:</h4>
<p>DocumentReference.relatesTo is for lifecycle revisions and transforms of a document. That is why the .relatesTo.code valueset is so limited.</p>



<a name="229762281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229762281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229762281">(Mar 10 2021 at 22:55)</a>:</h4>
<p>the element name "relatesTo" might be the thing that is confusing. as it is really close to "baseOn" found in other resources. In DocumentReference the concept of "basedOn" is handled by the .context.related.</p>



<a name="229762286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229762286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229762286">(Mar 10 2021 at 22:55)</a>:</h4>
<p>So it seems. That isn't conveyed well in its name or description however imho.</p>



<a name="229762375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229762375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229762375">(Mar 10 2021 at 22:56)</a>:</h4>
<p>please submit a CR with a recommendation.</p>



<a name="229762706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229762706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229762706">(Mar 10 2021 at 22:59)</a>:</h4>
<p>in R4 I guess "basedOn" could be either relatesTo or Context, which is perhaps why only relatesTo is there in R5.</p>



<a name="229762853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20RelatesTo/near/229762853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20RelatesTo.html#229762853">(Mar 10 2021 at 23:00)</a>:</h4>
<p>hard to think of a good name but maybe "relatedVersion" would work</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
