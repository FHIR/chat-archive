---
layout: page
title: "FHIR Chat  · Extensions - Representation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html">Extensions - Representation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153852678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20-%20Representation/near/153852678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html#153852678">(Oct 12 2016 at 09:30)</a>:</h4>
<p>I want to raise again the question about extensions representation (at least in JSON).  <br>
It is really convenient to represent extensions in JSON as object not array:</p>
<ul>
<li>Semantically extensions more key-value (dictionary, hash-map), then list - we want to access race like gender</li>
<li>Easy to write profile's restrictions</li>
<li>From UI perspective (binding attributes/elements to widgets) - no conversions from list to object and back</li>
<li>From databases perspectives (access specific extensions by key, not by filter): resource.extension.race vs resource.extensions.filter(url: 'race')</li>
</ul>
<p>Examples:</p>
<div class="codehilite"><pre>[
{&quot;url&quot;:&quot;http://hl7.org/fhir/ValueSet/v3-LivingArrangement&quot;,&quot;valueCodeableConcept&quot;:{....}},
{&quot;url&quot;:&quot;http://hl7.org/fhir/StructureDefinition/us-core-race&quot;,&quot;valueCodeableConcept&quot;:{...},
{&quot;url&quot;:&quot;http://hl7.org/fhir/StructureDefinition/us-core-ethnicity&quot;,&quot;valueCodeableConcept&quot;:{...}},{&quot;url&quot;:&quot;http://hl7.org/fhir/v3/EducationLevel&quot;,&quot;valueCodeableConcept&quot;:{...}},
{&quot;url&quot;:&quot;http://hl7.org/fhir/StructureDefinition/patient-adoptionInfo&quot;,&quot;valueString&quot;:&quot;no&quot;},
{&quot;url&quot;:&quot;http://narus.com/when-adopted&quot;,&quot;valueDate&quot;:&quot;2010-09-03&quot;},
{&quot;url&quot;:&quot;http://hl7.org/fhir/ValueSet/anzsco-occupations&quot;,&quot;valueString&quot;:&quot;Telecommunications Engineer&quot;},
{&quot;url&quot;:&quot;http://narus.com/fhir/date-married&quot;,&quot;valueDate&quot;:&quot;1988-12-23&quot;},
{&quot;url&quot;:&quot;http://narus.com/fhir/supportive-employer&quot;,&quot;valueString&quot;:&quot;true&quot;}
]
</pre></div>


<p>vs </p>
<div class="codehilite"><pre>{                                                                                                                                               
  &quot;http://hl7.org/fhir/ValueSet/v3-LivingArrangement&quot;:  { valueCodeableConcept&quot;:{ ... }},                                                       
  &quot;http://hl7.org/fhir/StructureDefinition/us-core-race&quot;: { valueCdeableConcept:  { ... }},                                                     
  &quot;http://hl7.org/fhir/StructureDefinition/patient-adoptionInfo&quot;: {&quot;valueString&quot;:&quot;no&quot;},                                                         
  &quot;http://narus.com/when-adopted&quot;: {&quot;valueDate&quot;:&quot;2010-09-03&quot;},                                                                                  
  &quot;http://hl7.org/fhir/ValueSet/anzsco-occupations&quot;: {&quot;valueString&quot;:&quot;Telecommunications Engineer&quot;},                                             
  &quot;http://narus.com/fhir/date-married&quot;: {&quot;valueDate&quot;:&quot;1988-12-23&quot;},                                                                             
  &quot;http://narus.com/fhir/supportive-employer&quot;: {&quot;valueBoolean&quot;: true}                                                                           
}                                                                                                                                               
</pre></div>


<p>Or with separation of schema and data:                                                                                                                                 </p>
<div class="codehilite"><pre>{                                                                                                                                               
  $schema: {                                                                                                                                   
    livingArrangement: {url: &quot;http://hl7.org/fhir/ValueSet/v3-LivingArrangement&quot;, type: &#39;CodeableConcept&#39;}                                      
    race: {url: &quot;http://hl7.org/fhir/StructureDefinition/us-core-race&quot;, type: &#39;CodeableConcept&#39;},                                               
    adoption: {url:&quot;http://hl7.org/fhir/StructureDefinition/patient-adoptionInfo&quot;, type:  &#39;string&#39;},                                            
    whenAdopted: {url:&quot;http://narus.com/when-adopted&quot;, type: &#39;date&#39;},                                                                           
    occupation: {url:&quot;http://hl7.org/fhir/ValueSet/anzsco-occupations&quot;, type: &#39;string&#39;}                                                         
    marriedDate: {url:&quot;http://narus.com/fhir/date-married&quot;, type: &#39;date&#39;},                                                                      
    employer: {url:&quot;http://narus.com/fhir/supportive-employer&quot;, type: &#39;boolean&#39;}                                                                
  },                                                                                                                                            

  livingArrangement: {coding: ...},                                                                                                             
  race: {coding: ....},                                                                                                                         
  adoption: &quot;no&quot;,                                                                                                                               
  whenAdopted: &quot;1980&quot;                                                                                                                           
  occupation: &quot;Telecommunications Engineer&quot;,                                                                                                    
  marriedDate: &quot;2001&quot;                                                                                                                           
  employer:  true                                                                                                                               
}                                                                                                                                               
</pre></div>



<a name="153852694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20-%20Representation/near/153852694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Clark C. Evans <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html#153852694">(Oct 12 2016 at 12:47)</a>:</h4>
<p>Nicola, I very much like the latter, separated. representation.  </p>



<a name="153852714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20-%20Representation/near/153852714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html#153852714">(Oct 12 2016 at 19:38)</a>:</h4>
<p>we balloted a variation on the 2nd for DSTU2. It was soundly defeated at ballot. </p>



<a name="153852738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20-%20Representation/near/153852738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html#153852738">(Oct 12 2016 at 21:42)</a>:</h4>
<p>Not a dictionary either, as keys can be duplicated, and also need to extend extensions.</p>



<a name="153852768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20-%20Representation/near/153852768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html#153852768">(Oct 13 2016 at 08:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> In 80% of cases it is key/values, in case of collections it could be done like:</p>
<div class="codehilite"><pre><span></span>extension: {
    someExt: [ &#39;value&#39;,  &#39;value&#39;]
}
</pre></div>


<p>Nested extensions are good example how bad current representation is  :) I would like to see something like:</p>
<div class="codehilite"><pre><span></span>extension: {
     complexExtension: {
          key1: &#39;...&#39;,
          key2:  {
              subkey: &#39;....&#39;
         }
     }
}
</pre></div>


<p>And the question is only how to represent schema for this situation.</p>



<a name="153852822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20-%20Representation/near/153852822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html#153852822">(Oct 14 2016 at 01:28)</a>:</h4>
<p>Remember when we used to have:</p>
<div class="codehilite"><pre>{
  &quot;resourceType&quot;: &quot;Patient&quot;,
  &quot;id&quot;: &quot;123&quot;,
  &quot;http://mydomain/some-extension&quot;: [{
       :-)
  }]
}
</pre></div>


<p>I think I'm the only person who liked it ;-)</p>



<a name="153852852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20-%20Representation/near/153852852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html#153852852">(Oct 14 2016 at 19:11)</a>:</h4>
<p>you weren't the only one, but it was surprisingly less popular than I expected</p>



<a name="153852896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Extensions%20-%20Representation/near/153852896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Extensions.20-.20Representation.html#153852896">(Oct 15 2016 at 01:20)</a>:</h4>
<p>None of the code generators would have ever liked that property name ;)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
