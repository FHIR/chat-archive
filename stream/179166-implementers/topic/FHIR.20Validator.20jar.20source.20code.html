---
layout: page
title: "FHIR Chat  · FHIR Validator jar source code · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html">FHIR Validator jar source code</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189772505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20jar%20source%20code/near/189772505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niranjan Kumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html#189772505">(Mar 05 2020 at 09:20)</a>:</h4>
<p>Hi All , Can anyone point me to the source code of FHIR Validator jar . Jar works fine from command line but i want to use it in my java code to validate incoming FHIR resource.</p>



<a name="189774553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20jar%20source%20code/near/189774553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html#189774553">(Mar 05 2020 at 09:49)</a>:</h4>
<p><a href="https://github.com/hapifhir/org.hl7.fhir.core" target="_blank" title="https://github.com/hapifhir/org.hl7.fhir.core">https://github.com/hapifhir/org.hl7.fhir.core</a>. you want the class org.hl7.fhir.validation.ValidationEngine</p>



<a name="189774615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20jar%20source%20code/near/189774615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html#189774615">(Mar 05 2020 at 09:50)</a>:</h4>
<p>or maybe org.hl7.fhir.validation.NativeHostServices</p>



<a name="189774622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20jar%20source%20code/near/189774622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html#189774622">(Mar 05 2020 at 09:50)</a>:</h4>
<p>but you would be better to use it as hosted in HAPI</p>



<a name="189775319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20jar%20source%20code/near/189775319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niranjan Kumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html#189775319">(Mar 05 2020 at 09:59)</a>:</h4>
<p>"but you would be better to use it as hosted in HAPI " means which one ? Are you trying to say use Hapi Fhir Validation ?</p>



<a name="189776567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20jar%20source%20code/near/189776567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html#189776567">(Mar 05 2020 at 10:16)</a>:</h4>
<p>I think that's generally a better idea. HAPI has more run time wrapping services</p>



<a name="189789172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20jar%20source%20code/near/189789172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niranjan Kumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html#189789172">(Mar 05 2020 at 13:14)</a>:</h4>
<p>I tried using Profile Validator code stated at <a href="https://hapifhir.io/hapi-fhir/docs/validation/profile_validator.html" target="_blank" title="https://hapifhir.io/hapi-fhir/docs/validation/profile_validator.html">https://hapifhir.io/hapi-fhir/docs/validation/profile_validator.html</a>  but getting issues like this :<br>
16:13| INFO | VersionUtil.java 72 | HAPI FHIR version 4.1.0 - Rev 03163c2cf5<br>
16:13| INFO | FhirContext.java 174 | Creating new FHIR context for FHIR version [R4]<br>
16:13| INFO | DefaultProfileValidationSupport.java 227 | Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml<br>
16:13| INFO | DependencyLogImpl.java 75 | FHIR XML procesing will use StAX implementation 'Woodstox' version '5.1.0'<br>
16:13| INFO | DefaultProfileValidationSupport.java 227 | Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml<br>
16:13| INFO | DefaultProfileValidationSupport.java 227 | Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml<br>
16:13| INFO | DefaultProfileValidationSupport.java 227 | Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml<br>
16:13| ERROR | FhirInstanceValidator.java 222 | Failure during validation<br>
java.lang.UnsupportedOperationException<br>
    at org.hl7.fhir.r4.hapi.ctx.HapiWorkerContext.generateSnapshot(HapiWorkerContext.java:242)<br>
    at org.hl7.fhir.r4.elementmodel.ParserBase.getDefinition(ParserBase.java:122)<br>
    at org.hl7.fhir.r4.elementmodel.JsonParser.parse(JsonParser.java:123)<br>
    at org.hl7.fhir.r4.validation.InstanceValidator.validate(InstanceValidator.java:539)<br>
    at org.hl7.fhir.r4.validation.InstanceValidator.validate(InstanceValidator.java:531)<br>
    at org.hl7.fhir.r4.hapi.validation.FhirInstanceValidator.validate(FhirInstanceValidator.java:220)<br>
    at org.hl7.fhir.r4.hapi.validation.FhirInstanceValidator.validate(FhirInstanceValidator.java:242)<br>
    at org.hl7.fhir.r4.hapi.validation.BaseValidatorBridge.doValidate(BaseValidatorBridge.java:20)<br>
    at org.hl7.fhir.r4.hapi.validation.BaseValidatorBridge.validateResource(BaseValidatorBridge.java:43)<br>
    at org.hl7.fhir.r4.hapi.validation.FhirInstanceValidator.validateResource(FhirInstanceValidator.java:33)<br>
    at ca.uhn.fhir.validation.FhirValidator.validateWithResult(FhirValidator.java:243)<br>
    at ca.uhn.fhir.validation.FhirValidator.validateWithResult(FhirValidator.java:198)</p>
<p>This is the code i have executed :</p>
<div class="codehilite"><pre><span></span>FhirContext ctx = FhirContext.forR4();
FhirValidator validator = ctx.newValidator();
FhirInstanceValidator instanceValidator = new FhirInstanceValidator();
validator.registerValidatorModule(instanceValidator);

String resourceText = ResourceStringProvider.getObservationResourceInStringContained(); //get resource json
ValidationResult result2 = validator.validateWithResult(resourceText);

System.out.println(result2.isSuccessful());
</pre></div>


<p>Am i missing something , any pointer to working example  .</p>



<a name="189834249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validator%20jar%20source%20code/near/189834249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validator.20jar.20source.20code.html#189834249">(Mar 05 2020 at 20:42)</a>:</h4>
<p>probably a question for the <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a> stream</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
