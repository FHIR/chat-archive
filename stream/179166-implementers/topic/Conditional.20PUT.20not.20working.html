---
layout: page
title: "FHIR Chat  · Conditional PUT not working · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html">Conditional PUT not working</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244541132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244541132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244541132">(Jul 01 2021 at 09:42)</a>:</h4>
<p>How do I specify resource ID in PUT request of a bundle?</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;type&quot;: &quot;transaction&quot;,
    &quot;entry&quot;: [
        {
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;Group&quot;,
                &quot;id&quot;: &quot;4812&quot;,
                // other fields
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;PUT&quot;,
                &quot;url&quot;: &quot;Group?identifier=3.5&quot;
            }
        }
    ]
}
</code></pre></div>
<p>But this updates the resource which has the identifier <code>3.5</code> (<code>4809</code>). My intention is up update <code>4812</code> when there's no other resource that has the identifier <code>3.5</code></p>



<a name="244541199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244541199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244541199">(Jul 01 2021 at 09:43)</a>:</h4>
<p>I expected <a href="https://www.hl7.org/fhir/http.html#cond-update">this</a> to have happened </p>
<blockquote>
<p><strong>One Match, resource id provided but does not match resource found</strong>: <br>
The server returns a 400 Bad Request error indicating the client id specification was a problem preferably with an OperationOutcome</p>
</blockquote>



<a name="244542355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244542355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244542355">(Jul 01 2021 at 09:56)</a>:</h4>
<p>I just noticed that normal PUT request doesn't work too</p>



<a name="244543331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244543331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244543331">(Jul 01 2021 at 10:05)</a>:</h4>
<p><strong>GET</strong> to <code>/Group?identifier=3.5</code> returns 1 resource with ID <code>4809</code>. </p>
<p>I'm trying to update resource <code>4812</code> only if there's no other resource with identifier <code>3.5</code>.</p>
<p>PUT to <code>/Group?identifier=3.5</code> updates <code>4809</code>, even though a group with that identifier exists (<code>4809</code>)</p>
<p>Body is </p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Group&quot;,
    &quot;id&quot;: &quot;4812&quot;,
    // other fields
}
</code></pre></div>



<a name="244579793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244579793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244579793">(Jul 01 2021 at 14:57)</a>:</h4>
<p>What server are you hitting this issue on?</p>



<a name="244658181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244658181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244658181">(Jul 02 2021 at 04:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Conditional.20PUT.20not.20working/near/244579793">said</a>:</p>
<blockquote>
<p>What server are you hitting this issue on?</p>
</blockquote>
<p>If I'm not mistaken, both on the public <code>hapi.fhir.org</code> and the latest jpa hapi container</p>



<a name="244721047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244721047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244721047">(Jul 02 2021 at 15:44)</a>:</h4>
<p>Suggest raising it on <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>



<a name="244894284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244894284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244894284">(Jul 05 2021 at 04:51)</a>:</h4>
<p>Thanks, just posted that <a href="#narrow/stream/179167-hapi/topic/Conditional.20PUT.20not.20working/near/244894271">here</a></p>



<a name="244935380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Conditional%20PUT%20not%20working/near/244935380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Conditional.20PUT.20not.20working.html#244935380">(Jul 05 2021 at 13:24)</a>:</h4>
<p>(deleted)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
