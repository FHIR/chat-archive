---
layout: page
title: "FHIR Chat  · CapabilitiesStatement2 support · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html">CapabilitiesStatement2 support</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="240036693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240036693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240036693">(May 24 2021 at 11:12)</a>:</h4>
<p>I've just set up <a href="http://test.fhir.org/r5">test.fhir.org/r5</a> - the first end point for 4.6.0, the current draft of R5</p>
<p>This endpoint has support for the R5 CapabilitiesStatement2. To see this:</p>
<ul>
<li><a href="http://test.fhir.org/r5/metadata?mode=capabilities2">http://test.fhir.org/r5/metadata?mode=capabilities2</a> (arbitrarily cut off after the first resource - a testing bug I need to fix)</li>
<li><a href="http://test.fhir.org/r5/$features">http://test.fhir.org/r5/$features</a> - all the features defined in the server (quite a lot)</li>
<li><a href="http://test.fhir.org/r5/$features?feature=rest:server.resource:Account">http://test.fhir.org/r5/$features?feature=rest:server.resource:Account</a> - a filtered list of features.</li>
</ul>



<a name="240036717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240036717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240036717">(May 24 2021 at 11:12)</a>:</h4>
<p>except, of course, that I just found a bug in the last thing</p>



<a name="240041840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240041840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240041840">(May 24 2021 at 12:06)</a>:</h4>
<p>Also maybe server is down?</p>



<a name="240042482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240042482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240042482">(May 24 2021 at 12:13)</a>:</h4>
<p>that was upgrading to fix the bug</p>



<a name="240042498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240042498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240042498">(May 24 2021 at 12:13)</a>:</h4>
<p>which it is now</p>



<a name="240057720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240057720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240057720">(May 24 2021 at 14:21)</a>:</h4>
<p><a href="http://test.fhir.org/r5/$features?feature=rest.Codesystem:http://loinc.org">http://test.fhir.org/r5/$features?feature=rest.Codesystem:http://loinc.org</a></p>



<a name="240099886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240099886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240099886">(May 24 2021 at 19:29)</a>:</h4>
<p>Hello,</p>
<p>I attended the Q2 discussion today about the CapabilityStatement and CapabilityStatement2. The discussion between <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> , <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  and <span class="user-mention" data-user-id="191315">@Josh Mandel</span> was very complex .</p>
<p>I am struggling to understand why we would need a CapabilityStatement with so many features? Is there a usecase where a client application searches for a "capable" server at runtime? In order to be able to process and parse a CapabilityStatement, the software to process and parse it also becomes complex. Is a client application going to "query" using the "features" at run time using code value pairs?  Implementing this type  of parsing of CS2 would be very difficult due to the number of features that may need to be supported and the <br>
ValueSets of the code/value pairs that would need to be maintained by the client application.</p>
<p>Any clarification on the need and usecase would be greatly appreciated,.</p>
<p>Thanks,</p>
<p>Joel and <span class="user-mention" data-user-id="192545">@Alex Goel</span></p>



<a name="240100371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240100371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240100371">(May 24 2021 at 19:32)</a>:</h4>
<p>I generally agree with your question <span class="user-mention" data-user-id="193795">@Joel Francis</span>. In many (most, I'd bet) cases "read the docs out of band" is a good enough alternative to in-band negotiation. And it can convey a ton of nuance that our carefully modeled features sometimes miss.</p>



<a name="240100789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240100789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240100789">(May 24 2021 at 19:35)</a>:</h4>
<p>That said, we do have a lot of variability across server behaviors, and as we look at more flexible/dynamic ways of creating connections, I totally get why there's interest here.</p>



<a name="240102483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240102483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240102483">(May 24 2021 at 19:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I am not sure what "flexible/dynamic ways of creating connections" necessarily means in this context, unless you are suggesting that a client application is expected to query for what features are available at runtime, which as <span class="user-mention" data-user-id="193795">@Joel Francis</span> mentioned would be very difficult to implement in a production client application. </p>
<p>From our perspective the main time when the content from the CapabilityStatement would be leveraged is when a Service Level Agreement (SLA) and/or Data Sharing Agreement (DSA) is established. This SLA/DSA will likely specify what is contractually required to be shared between two entities. It is unlikely given the security and privacy constraints of healthcare that anyone would need to do this on the fly. Is our interpretation of the potential use case incorrect?</p>



<a name="240102825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240102825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240102825">(May 24 2021 at 19:52)</a>:</h4>
<p>Agreed. Honestly I  do not see a situation where a production application queries features on the fly. I think the only time this  would happen is at the Connectathon or during initial testing</p>



<a name="240102899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240102899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240102899">(May 24 2021 at 19:52)</a>:</h4>
<blockquote>
<p>I am not sure what "flexible/dynamic ways of creating connections" necessarily means in this context, unless you are suggesting that a client application is expected to query for what features are available at runtime, which as @Joel Francis mentioned would be very difficult to implement in a production client application.</p>
</blockquote>
<p>Yeah, these are patterns that groups like <a href="https://confluence.hl7.org/display/SEC/FHIR+at+Scale+%28FAST%29%3A+Scalable+Registration%2C+Authentication%2C+and+Authorization+for+FHIR+Ecosystem+Participants+PSS">"FAST"</a> are looking at. There's significant complexity here, as you note.</p>



<a name="240102995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240102995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240102995">(May 24 2021 at 19:53)</a>:</h4>
<p>Our (production) client queries feature on the fly. It checks for availability of search parameters to decide which query to generate</p>



<a name="240103087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240103087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240103087">(May 24 2021 at 19:54)</a>:</h4>
<blockquote>
<p>SLA/DSA will likely specify what is contractually required to be shared between two entities</p>
</blockquote>
<p>I think you're describing a kind of offline or static use case for publishing and/or evaluating a CapabilityStatement, which is certainly fair game. Even in this context, knowing specific features (whether documented in prose, or in concrete tags/extensions/feature-json format) matters.</p>



<a name="240104717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240104717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240104717">(May 24 2021 at 20:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> <br>
Given that the CS2 is brand new for FHIR R5, I assume that your production application dynamically generates search parameters (which is something I would expect a production app to do), and does not query for features. Is that correct? Does it search the CapabilityStatement for what REST parameters are accepted by the server?</p>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> In the registration use case for FAST, what is the purpose of the CapabilityStatement? What would it be used for? From the PSS, this appears to mostly be focused on registering authentication endpoints. It seems for this use case a client app would not need to dynamically process a CapabilityStatement, it would be known once the app was registered automatically. Am I missing something? </p>
<p>I agree that having these features documented, especially from a testing perspective in a CapabilityStatement is necessary and valuable, but where I do not understand when a client server would dynamically respond to what is in a CapabilityStatement.  </p>
<p>I think a key point we want to emphasize is that we are asking when this would need to be done at runtime.</p>



<a name="240105155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240105155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240105155">(May 24 2021 at 20:10)</a>:</h4>
<blockquote>
<p>It seems for this use case a client app would not need to dynamically process a CapabilityStatement, it would be known once the app was registered automatically. Am I missing something?</p>
</blockquote>
<p>I'm just saying that in the FAST pattern there's an expectation of more flexible config, where clients and servers might be introduced automatically and start interacting right away without developers "doing an integration" or reading a specific server's docs. I'm not the best person to weigh in on this; just trying to infer what I can about where folks are trying to take this work in the future.</p>



<a name="240105298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240105298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240105298">(May 24 2021 at 20:11)</a>:</h4>
<blockquote>
<p>I think a key point we want to emphasize is that we are asking when this would need to be done at runtime.</p>
</blockquote>
<p>For any given use case, there may not be a need. Clearly we can imagine some use cases where there <em>is</em> a need; whether these are going to be important and achievable (from a pragmatic perspective) isn't totally clear; that's part of what we want to figure out through use case discussion and a connectathon track.</p>



<a name="240105767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240105767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240105767">(May 24 2021 at 20:15)</a>:</h4>
<blockquote>
<p>Does it search the CapabilityStatement for what REST parameters are accepted by the server?</p>
</blockquote>
<p>Yes</p>



<a name="240119318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240119318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240119318">(May 24 2021 at 22:11)</a>:</h4>
<p>My main concern here is how complex this is becoming, before we can do the simple things at a wide scale. I agree that we need to innovate through discussion and testing, but we need clear problems to solve otherwise we're just adding complexity which could actively hurt how easy FHIR is to implement</p>



<a name="240119491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240119491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240119491">(May 24 2021 at 22:13)</a>:</h4>
<p>I strongly agree!</p>



<a name="240124073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240124073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240124073">(May 24 2021 at 23:02)</a>:</h4>
<p>I think the primary initial application here is safety. There is very definitely a desire to right smart applications that are portable across applications, and that don't require redevelopment across servers. </p>
<p>Either the servers can be forced to be consistent, which is not possible even amongst ourselves, or we let the applications find out information about the servers, or at least, insist that some kinds of server behaviors be true</p>



<a name="240124192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240124192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240124192">(May 24 2021 at 23:04)</a>:</h4>
<blockquote>
<p>Is there a usecase where a client application searches for a "capable" server at runtime? I</p>
</blockquote>
<p>there is, but for me, the use cases are less ambitious, and more compelling</p>
<blockquote>
<p>In order to be able to process and parse a CapabilityStatement, the software to process and parse it also becomes complex</p>
</blockquote>
<p>The point is to avoid that. Make a list of features you need, ask the server if it supports them all. No processing needed.</p>



<a name="240124328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240124328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240124328">(May 24 2021 at 23:05)</a>:</h4>
<blockquote>
<p>we need clear problems to solve otherwise we're just adding complexity which could actively hurt how easy FHIR is to implement</p>
</blockquote>
<p>Well, there's a tension between narrowly defined fragile software that is easier to write, and where you do not want to have to deal with that complexity, and robust adaptable software where you have no choice but to engage with it. That's a trade-off that runs through all of what we do</p>



<a name="240125361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240125361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240125361">(May 24 2021 at 23:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/CapabilitiesStatement2.20support/near/240124192">said</a>:</p>
<blockquote>
<p>In order to be able to process and parse a CapabilityStatement, the software to process and parse it also becomes complex</p>
<p>The point is to avoid that. Make a list of features you need, ask the server if it supports them all. No processing needed.</p>
</blockquote>
<p>To this point, the CapabilityStatement would be retrieved during app development/testing to ensure that the correct data could be retrieved. It wouldn't necessarily be done at run time correct? <br>
<span class="user-mention" data-user-id="193795">@Joel Francis</span> please jump in</p>



<a name="240126281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240126281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240126281">(May 24 2021 at 23:30)</a>:</h4>
<p>Sharing my understanding......The whole SMART concept is to make apps that are substitutable and reuseable. The fact that their on FHIR and a particular version on FHIR meant that I can interchange without any redevelopment and simply have to sign a service level agreement .While signing the service level agreement I will make sure the FHIR server can provide that data otherwise my app would be useless. So based on that why would my app need to re-query the capabilities of the server???</p>



<a name="240129625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240129625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240129625">(May 25 2021 at 00:20)</a>:</h4>
<p>It sounds like you may be expecting too much from FHIR; it's best to keep in mind that the specification defines a wide surface area and different servers implement different subsets and make different choices around optional features</p>



<a name="240132345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240132345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240132345">(May 25 2021 at 01:08)</a>:</h4>
<p>Some of the use-cases for FHIR involve developing clients where the developer will <em>never</em> read the documentation of the server - or even know what servers it will be connected to.  That application will have to determine when pointed at an arbitrary server:<br>
a) whether it is capable of safely operating at all; and<br>
b) if it needs to alter what it does based on the server's limitations</p>
<p>And that's actually a desirable target state for much of the FHIR environment.  We're trying, where we can, to reduce the amount of site-to-site negotiation and customization necessary for systems to operate.  One of the primary purposes of CapabilityStatement is to allow that runtime negotiation.</p>
<p>The other purpose of CapabilityStatement is to make clear what a system does from a conformance perspective.  The more implementation guides define variations in potential behavior, the greater the set of things a server may need to declare.</p>



<a name="240216189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240216189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240216189">(May 25 2021 at 16:42)</a>:</h4>
<p>From a safety perspective the CapabilityStatement makes sense, but we're wondering what is the necessity of CS2? It seems like this would be negotiated well in advance, even if the developers did not have an SLA to work of. It wouldn't be negotiated at run time. </p>
<p>Patient safety would also likely be negotiated in an SLA, since you wouldn't want to share any data with an entity you are allowed to share data with. Data should not be opened up to potential privacy breaches in this regard. We believe that if you're connecting to a FHIR server, in the majority of use cases (certainly 80%) you'd be connecting to a known FHIR server; one which you have an SLA and Data Sharing Agreement with.</p>



<a name="240216478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240216478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240216478">(May 25 2021 at 16:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> <a href="#narrow/stream/179166-implementers/topic/CapabilitiesStatement2.20support/near/240129625">said</a>:</p>
<blockquote>
<p>It sounds like you may be expecting too much from FHIR; it's best to keep in mind that the specification defines a wide surface area and different servers implement different subsets and make different choices around optional features</p>
</blockquote>
<p>I don't think we're expecting too much from FHIR, I believe we're anticipating how real world implementations of FHIR will operate at a governance level. People will need to agree to use the same specifications, and profiles from FHIR, IHE, etc. to ensure what can be shared is interoperable. FHIR provides a data sharing model, not governance on how data can, should, and will be shared. It's still up to legal agreements to determine that</p>



<a name="240217756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240217756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240217756">(May 25 2021 at 16:53)</a>:</h4>
<p>I was referring specifically to this assertion:</p>
<blockquote>
<p>The fact that their on FHIR and a particular version on FHIR meant that I can interchange without any redevelopment and simply have to sign a service level agreement .</p>
</blockquote>



<a name="240220551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240220551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240220551">(May 25 2021 at 17:15)</a>:</h4>
<p>Sorry for being vague, but what I meant to say is, a SMART app would need to know what it will retrieve (and what is available) from a FHIR server it is interacting with. What I meant by this was that assertion is that if during the SLA, if a SMART client knew that the server was not capable of providing data in a specific version of the FHIR model, not understood by both the server of the client, regardless of if it was FHIR or any other data exchange format, then it would be pointless to sign the service level agreement.</p>



<a name="240220739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240220739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240220739">(May 25 2021 at 17:17)</a>:</h4>
<p>In most cases there is no SLA not any direct contact between the client developer and the server. This is the case for all patient apps in the US market</p>



<a name="240221492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240221492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240221492">(May 25 2021 at 17:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> so there's no legal agreement or business rules around what patient data is allowed to be exchanged?</p>



<a name="240222253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222253">(May 25 2021 at 17:28)</a>:</h4>
<p>Yes, there is no legal agreement between patient app developers and providers / payers hosting the FHIR APIs. Providers and payers have to make the API available  and allow any app to connect.</p>



<a name="240222375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222375">(May 25 2021 at 17:29)</a>:</h4>
<p>not an explicit one between developer and server, no. Now you might always ensure that this is the case - fine, you can. And if you do, then you won't value any reflection features we add, since this is all sorted out by engineers during contract negotiations. </p>
<p>but that's not how all exchanges will work, and we're added reflection features and feature negotiation to support other users</p>



<a name="240222396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222396">(May 25 2021 at 17:29)</a>:</h4>
<p>Yes but there are still rules around what data is to be made available, and in what format, and there is still negotiation of those rules. I assume you're referring to information blocking <span class="user-mention" data-user-id="191912">@Michele Mottini</span></p>



<a name="240222444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222444">(May 25 2021 at 17:29)</a>:</h4>
<p>+1 to Michele - there are a lot of providers (and payors) in the US, and a lot of patient apps. Most of them have no contractual relationship to each other. Capability statements are very useful here, although I'm skeptical that many of the smaller apps are truly sophisticated enough to adapt their behaviour according to the server's capabilities.</p>
<p>I would consider the use case where a data holder and a data consumer have an SLA and a data sharing agreement as distinct from that model.</p>



<a name="240222635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222635">(May 25 2021 at 17:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197072">Paul Church</span> <a href="#narrow/stream/179166-implementers/topic/CapabilitiesStatement2.20support/near/240222444">said</a>:</p>
<blockquote>
<p>I'm skeptical that many of the smaller apps are truly sophisticated enough to adapt their behaviour according to the server's capabilities.</p>
</blockquote>
<p>Agreed</p>



<a name="240222636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222636">(May 25 2021 at 17:31)</a>:</h4>
<blockquote>
<p>I'm skeptical that many of the smaller apps are truly sophisticated enough to adapt</p>
</blockquote>
<p>It's not first about <em>adapt</em>. First, it's <em>check</em>, and we all have a vested interest in that</p>



<a name="240222798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222798">(May 25 2021 at 17:32)</a>:</h4>
<p>Agreed, I think the first bar to clear is "don't talk to the server if it doesn't have enough capabilities for your expectations"</p>



<a name="240222852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222852">(May 25 2021 at 17:32)</a>:</h4>
<p><span class="user-mention" data-user-id="192545">@Alex Goel</span> Yes, there are rules about the minimum set of resources providers and payers have to make available, but beyond that there are a lot of variations, and as I wrote our app definitely use the CapabilityStatement at run time to detect these variations and act accordingly</p>



<a name="240222933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222933">(May 25 2021 at 17:33)</a>:</h4>
<p>Ok, but if the use case is check if the capability is there, that's different than dynamically responding to the server's capabilities at run time - which if you return to the beginning of this conversation, where <span class="user-mention" data-user-id="193795">@Joel Francis</span> and I had an issue</p>



<a name="240222961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240222961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240222961">(May 25 2021 at 17:33)</a>:</h4>
<p>CareEvolution is a good example of the next level up, adapt your approach according to the capabilities</p>



<a name="240223170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240223170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240223170">(May 25 2021 at 17:34)</a>:</h4>
<blockquote>
<p>where @Joel Francis and I had an issue</p>
</blockquote>
<p>your issue has always appeared to be "I don't want to do this, so no one else can reasonably want to"</p>



<a name="240223316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240223316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240223316">(May 25 2021 at 17:35)</a>:</h4>
<p>If you set the system to favour these level'd up apps only, you're creating an uneven playing field for all of the small apps, and preventing those small apps from being innovative, our issue is that, dynamically responding to CapabilityStatements is an unfair expectations for all interactions</p>



<a name="240223702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240223702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240223702">(May 25 2021 at 17:38)</a>:</h4>
<p>OK. It's reasonable concern, and I'm happy to make sure that the final outcome doesn't require servers and clients to adapt to feature availability, or even perform feature negotiation, or have dynamically adjusting capability statements, though IGs will be able to require those things</p>



<a name="240224101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240224101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240224101">(May 25 2021 at 17:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/CapabilitiesStatement2.20support/near/240223702">said</a>:</p>
<blockquote>
<p>OK. It's reasonable concern, and I'm happy to make sure that the final outcome doesn't require servers and clients to adapt to feature availability, or even perform feature negotiation, or have dynamically adjusting capability statements, though IGs will be able to require those things</p>
</blockquote>
<p>That's all I was hoping for you to say <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> :) . This is was fun!</p>



<a name="240224213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/240224213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#240224213">(May 25 2021 at 17:42)</a>:</h4>
<p>Thank you! I think that's a good conclusion</p>



<a name="241156149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/CapabilitiesStatement2%20support/near/241156149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/CapabilitiesStatement2.20support.html#241156149">(Jun 02 2021 at 14:26)</a>:</h4>
<p>Sorry for my late input. Inferno uses server's CapabilityStatement to decide which test case to run. For example, if the server's CS does not indicate searchparameter for patient's name, Inferno assumes that server does not support search patient by name and skips the corresponding test.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
