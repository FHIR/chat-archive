---
layout: page
title: "FHIR Chat  · Forge FHIRPath Expression Error · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20FHIRPath.20Expression.20Error.html">Forge FHIRPath Expression Error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="168513969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20FHIRPath%20Expression%20Error/near/168513969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20FHIRPath.20Expression.20Error.html#168513969">(Jun 19 2019 at 14:55)</a>:</h4>
<p>I'm trying to add a constraint on the value field of an identifier slice (sliced by system). I want to use the "matches" function and a regular expression to validate the identifier value, but Forge tells me: Invalid FHIR path expression: Compilation failed: Parsing failure: unexpected '('; expected end of input (Line 1, Column 8); recently consumed: matches<br>
Severity: Warning<br>
Source  : Expression<br>
Context : [Biobank] Organization.identifier:Bbmri-EricId.value::constraint&lt;bbmri-id-1&gt;.expression<br>
<a href="user_uploads/10155/AZro2yPui1zDsrCZAlB1eppp/regex.png" target="_blank" title="user_uploads/10155/AZro2yPui1zDsrCZAlB1eppp/regex.png">regex.png</a></p>
<div class="message_inline_image"><a href="user_uploads/10155/AZro2yPui1zDsrCZAlB1eppp/regex.png" target="_blank" title="regex.png"><img src="user_uploads/10155/AZro2yPui1zDsrCZAlB1eppp/regex.png"></a></div><p>I'm unable to find the error in my FHIRPath, can anyone help me?</p>



<a name="168519547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20FHIRPath%20Expression%20Error/near/168519547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20FHIRPath.20Expression.20Error.html#168519547">(Jun 19 2019 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> ?</p>



<a name="168571996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20FHIRPath%20Expression%20Error/near/168571996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20FHIRPath.20Expression.20Error.html#168571996">(Jun 20 2019 at 07:11)</a>:</h4>
<p>Can you paste the expression here and I'll check it over.</p>



<a name="168582991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20FHIRPath%20Expression%20Error/near/168582991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20FHIRPath.20Expression.20Error.html#168582991">(Jun 20 2019 at 10:14)</a>:</h4>
<p>Forge tries to verify the syntax of FHIR path expressions, using the FHIRPath parser in the API. I'm not sure why the parser trips on this specific expression. <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> may be able to explain?</p>



<a name="168664745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20FHIRPath%20Expression%20Error/near/168664745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20FHIRPath.20Expression.20Error.html#168664745">(Jun 21 2019 at 08:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> </p>
<blockquote>
<p>Can you paste the expression here and I'll check it over.</p>
</blockquote>
<p>matches('^([a-z]){2}_([a-zA-Z\d])+$')</p>
<p>I'm not sure if it's my FHIRPath expression or an error in the API.</p>



<a name="168821129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20FHIRPath%20Expression%20Error/near/168821129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20FHIRPath.20Expression.20Error.html#168821129">(Jun 24 2019 at 04:16)</a>:</h4>
<p>The \ needs to be delimitted<br>
matches('^([a-z]){2}_([a-zA-Z\\d])+$')<br>
see <br>
<a href="http://hl7.org/fhirpath/2018Sep/index.html#replacematchesregex-string-substitution-string-string" target="_blank" title="http://hl7.org/fhirpath/2018Sep/index.html#replacematchesregex-string-substitution-string-string">http://hl7.org/fhirpath/2018Sep/index.html#replacematchesregex-string-substitution-string-string</a><br>
Glad Forge picks this one up <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> an easy one to make and easily missed.<br>
(one of the reasons that I did that validation code in the fhirpathtester tool, and contributed it to Forge)</p>



<a name="168831431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20FHIRPath%20Expression%20Error/near/168831431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20FHIRPath.20Expression.20Error.html#168831431">(Jun 24 2019 at 08:32)</a>:</h4>
<p>Thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
