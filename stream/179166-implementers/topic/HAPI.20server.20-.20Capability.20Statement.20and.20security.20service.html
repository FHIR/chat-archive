---
layout: page
title: "FHIR Chat  · HAPI server - Capability Statement and security service · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html">HAPI server - Capability Statement and security service</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203119220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/203119220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#203119220">(Jul 07 2020 at 15:37)</a>:</h4>
<p>I'm implementing a server using the HAPI FHIR server. One of the neat features of this server is that it automatically generates a Capability Statement based on your particular implementation.</p>
<p>I also need to provide the OAuth endpoints in the Rest -&gt; Security -&gt; Service sections of this resource, but I'm not sure how to include this in the auto-generated CS resource. Is there a way to amend the auto-generated resource to do this?</p>



<a name="203122141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/203122141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#203122141">(Jul 07 2020 at 16:00)</a>:</h4>
<p>You might ask on <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>



<a name="203126077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/203126077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#203126077">(Jul 07 2020 at 16:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service/near/203122141">said</a>:</p>
<blockquote>
<p>You might ask on <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>
</blockquote>
<p>Thanks. Subscribed and reposted.</p>



<a name="204641042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204641042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PKumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204641042">(Jul 22 2020 at 08:28)</a>:</h4>
<p>Good Morning/Good Evening. </p>
<p>I am looking to understand about the implementation of capability statement. I went through the HL7 FHIR documentation but in business use case stand point...when should we use capability statement? and does this solve the problem to restricting the users access to specific resource...</p>
<p>Trying to understand the workflow here....lets say client wants to access patient resource. Does this user/client request hits the capability statement resource data to validate the level of permissions defined for this user/client and then proceed with allowing access to the actual resource (lets say patient resource)?</p>
<p>Looking forward to hearing from you. Thanks in Advance.</p>



<a name="204672928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204672928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204672928">(Jul 22 2020 at 14:28)</a>:</h4>
<p>CapabilityStatement doesn't constrain users.  CapabilityStatement declares what a server is capable of doing.  It's possible for a server to expose distinct CapabilityStatements to each user based on their permissions.  So if you hit a server without authenticating, you would see what the server can do "in general".  If you hit it after authenticating as a user, the server would expose a CapabilityStatement constrained to the operations you're actually allowed to invoke.</p>



<a name="204796236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204796236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PKumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204796236">(Jul 23 2020 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> ,I understand it now, Thank You!</p>
<p>Is it <strong>mandatory</strong> to implement capability statements when I create FHIR server? or it is a best practice to create and expose to the potential/existing clients to ensure they are aware of what actions they can perform?</p>



<a name="204796937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204796937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204796937">(Jul 23 2020 at 13:31)</a>:</h4>
<p>Exposing the CapabilityStatement through the capabilities interaction ([base url]/metadata) is required for RESTful FHIR servers.  See <a href="https://www.hl7.org/fhir/capabilitystatement.html#notes">https://www.hl7.org/fhir/capabilitystatement.html#notes</a></p>



<a name="204809932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204809932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PKumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204809932">(Jul 23 2020 at 15:08)</a>:</h4>
<p>Thats interesting to know. So, it falls under best practice of implementation then. Thanks <span class="user-mention" data-user-id="192576">@Robert Scanlon</span></p>



<a name="204810280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204810280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204810280">(Jul 23 2020 at 15:11)</a>:</h4>
<p>I believe is stronger than best practice, and is a mandatory requirement for RESTful servers.  "RESTful servers are required to provide this resource on demand. Servers SHALL specify what resource types and operations are supported, and SHOULD also specify profiles for each resource type."</p>



<a name="204811435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204811435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PKumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204811435">(Jul 23 2020 at 15:19)</a>:</h4>
<p>Ok, now I got more clarity to it. <span class="user-mention" data-user-id="192576">@Robert Scanlon</span>   What <strong>other resources</strong> fall under this bucket of mandatory requirements?</p>



<a name="204813332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204813332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204813332">(Jul 23 2020 at 15:33)</a>:</h4>
<p>For a FHIR server, the only mandatory thing is CapabilityStatement at the metadata endpoint.  You are a fully conformant FHIR system if you expose metadata and you have a CapabilityStatement that declares that you support no RESTful resources, no messages and no documents.  (You're not a useful system, but you're FHIR-conformant :&gt;)  Beyond meta, the only requirement is that you do whatever your CapabilityStatement says that you do.</p>



<a name="204823460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/204823460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PKumar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#204823460">(Jul 23 2020 at 16:53)</a>:</h4>
<p>Great!! Thanks for the details <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="210136471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/210136471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#210136471">(Sep 15 2020 at 14:26)</a>:</h4>
<p>Has there been any concern expressed about the amount of times an application or client may access the metadata endpoint as it is unsecured?  On Demand, as the spec says, means to me it is available at all times regardless of timing, number of accesses, etc.</p>



<a name="210138888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/210138888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#210138888">(Sep 15 2020 at 14:43)</a>:</h4>
<p>Why do you presume that it's unsecured?  I don't think there's any language that would prevent a system from appropriately responding to DoS attacks or something similar.</p>



<a name="210155587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/210155587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#210155587">(Sep 15 2020 at 16:48)</a>:</h4>
<p>I was referring to the language in the spec that says 'should' return a CapabilityStatement before authorization/authentication.</p>



<a name="210156062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/210156062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#210156062">(Sep 15 2020 at 16:51)</a>:</h4>
<p>Right, but that doesn't mean you can't put in place denial of service protections</p>



<a name="210161811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/210161811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#210161811">(Sep 15 2020 at 17:33)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> for some reason there was an expectation coming out of Connecathon on my side that authorization/authentication was required and I wanted to double check.</p>



<a name="210161984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/210161984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#210161984">(Sep 15 2020 at 17:34)</a>:</h4>
<p>or rather that the metadata endpoint was to always remain open/unsecured.</p>



<a name="210165046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/HAPI%20server%20-%20Capability%20Statement%20and%20security%20service/near/210165046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/HAPI.20server.20-.20Capability.20Statement.20and.20security.20service.html#210165046">(Sep 15 2020 at 17:56)</a>:</h4>
<p>One common behavior is that if someone hits the endpoint without authentication, it provides basic capability information (including how to authenticate) and if you hit it <em>with</em> authentication, it tells you what you're allowed to do with your current authorization.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
