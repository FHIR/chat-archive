---
layout: page
title: "FHIR Chat  · IG Publisher doesn&#x27;t properly escape Simplifier resolve url · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20doesn&#x27;t.20properly.20escape.20Simplifier.20resolve.20url.html">IG Publisher doesn&#x27;t properly escape Simplifier resolve url</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203366072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20doesn%27t%20properly%20escape%20Simplifier%20resolve%20url/near/203366072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20doesn&#x27;t.20properly.20escape.20Simplifier.20resolve.20url.html#203366072">(Jul 09 2020 at 09:26)</a>:</h4>
<p>Hi,<br>
I'm using  IG Publisher v1.1.2 to create an IG which has a dependency on a package published on Simplifier. To do so, I include the following snippet in my ImplementationGuide resource:</p>
<div class="codehilite"><pre><span></span><code> <span class="nt">&lt;dependsOn&gt;</span>
    <span class="nt">&lt;uri</span> <span class="na">value=</span><span class="s">&quot;http://nictiz.nl/fhir/zib2017/prerelease&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;packageId</span> <span class="na">value=</span><span class="s">&quot;nictiz.fhir.nl.stu3.zib2017-prerelease&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;version</span> <span class="na">value=</span><span class="s">&quot;2.0.0-beta3&quot;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/dependsOn&gt;</span>
</code></pre></div>


<p>(the uri is made up).</p>
<p>The resulting qa.html contains a lot of errors about the generated HTML pages for profiles (so about the FHIR profiles themselves), in the form of "unable to parse character reference ...". Upon inspection, this seems to be caused by generated Simplifier links like:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://simplifier.net/resolve?scope=nictiz.fhir.nl.stu3.zib2017-prerelease@2.0.0-beta3&amp;canonical=http://fhir.nl/fhir/StructureDefinition/nl-core-patient&quot;</span><span class="p">&gt;</span>http://fhir.nl/fhir/StructureDefinition/nl-core-patient<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</code></pre></div>


<p>The ampersand is not properly escaped here. This is about the link that is on the "Text Summary"</p>



<a name="203371548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20doesn%27t%20properly%20escape%20Simplifier%20resolve%20url/near/203371548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20doesn&#x27;t.20properly.20escape.20Simplifier.20resolve.20url.html#203371548">(Jul 09 2020 at 10:39)</a>:</h4>
<p>exactly where? I thought I had hunted all those locations down?</p>



<a name="203373464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20doesn%27t%20properly%20escape%20Simplifier%20resolve%20url/near/203373464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20doesn&#x27;t.20properly.20escape.20Simplifier.20resolve.20url.html#203373464">(Jul 09 2020 at 11:11)</a>:</h4>
<p>It happens for example in this file: <a href="user_uploads/10155/GDaeQwtgNXdKlCIcuP2ZiHwc/StructureDefinition-Bundle-MedicationOverview.html">StructureDefinition-Bundle-MedicationOverview.html</a></p>



<a name="203447295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20doesn%27t%20properly%20escape%20Simplifier%20resolve%20url/near/203447295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20doesn&#x27;t.20properly.20escape.20Simplifier.20resolve.20url.html#203447295">(Jul 09 2020 at 22:04)</a>:</h4>
<p>well, that file had 2 errors, from the same piece of code. Will be fixed next release. Did all your errors come from "this structure refers to these other structures"?</p>



<a name="203942147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20doesn%27t%20properly%20escape%20Simplifier%20resolve%20url/near/203942147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20doesn&#x27;t.20properly.20escape.20Simplifier.20resolve.20url.html#203942147">(Jul 15 2020 at 11:19)</a>:</h4>
<p>Yes, as far as I could see, this was the only source of errors.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
