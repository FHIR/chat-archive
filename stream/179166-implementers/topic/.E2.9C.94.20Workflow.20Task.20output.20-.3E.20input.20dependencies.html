---
layout: page
title: "FHIR Chat  · ✔ Workflow Task output -&gt; input dependencies · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html">✔ Workflow Task output -&gt; input dependencies</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="262567718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/262567718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes Becker <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#262567718">(Nov 24 2021 at 10:03)</a>:</h4>
<p>Hi, thanks for working on FHIR. We're wondering how the spec covers task output -&gt; input dependencies? We are using RequestGroups to define task execution order via action.relatedAction, but it is unclear to us whether and how it can be defined which Task.output is put into the next Task.input.</p>
<p>One way we see would be to re-use the action.relatedAction for that if the involved actions are all tasks, but that doesn't seem to help with actually mapping a specific task output to another specific task input, potentially including transformation of the output before providing it as input.</p>



<a name="262663638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/262663638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#262663638">(Nov 25 2021 at 03:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="263027552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/263027552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes Becker <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#263027552">(Nov 29 2021 at 15:59)</a>:</h4>
<p>Update:<br>
We have seen, that Task.input/output.type seems to be the specified way. We understand the input.type to be a code, that defines which output with the appropriate output.type should be used as input for the related next task. The task dependencies as per relatedAction help with defining when these data transfers happen. Sadly, this functionality does not seem to suffice for our workflow procedure.</p>
<p>Our data dependency definition requirements are similar to general workflow definitions. For example, there is some tasks T1, T2 and T3.<br>
T1 outputs type X<br>
T2 needs input type X<br>
T3 needs input types A and B<br>
T1's output X should be put into T2's input X, but also into T3's input A. X, A and B are all the same datatype, they are just used for different purposes.</p>
<p>We have two ideas to solve the issue and define clear data requirements, with a mapping of specific output types to specified input types:</p>
<ol>
<li>A custom (modifier)extension in relatedAction, which defines the data requirements (/mappings).</li>
<li>A custom (modifier)extension with a StructureMap inside, which performs mapping from one Task resource to another. However, this would only modify an existing target Task resource partly (adding new inputs).</li>
</ol>
<p>Did we miss anything in the spec that could help us? How should such a case be handled the best up to the spec?<br>
How should such a StructureMap look like to perform such mapping?</p>



<a name="263080951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/263080951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#263080951">(Nov 29 2021 at 23:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="263080985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/263080985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#263080985">(Nov 29 2021 at 23:13)</a>:</h4>
<p>You've found the right part of the spec, but Bryn is the best person to help with the detailed usage.</p>



<a name="263600599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/263600599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#263600599">(Dec 03 2021 at 16:07)</a>:</h4>
<p><span class="user-mention" data-user-id="459548">@Johannes Becker</span> , in the R4 PlanDefinition and content, we typically use the <code>id</code> of the input/output elements to coordinate data flow through the actions. In R5, we have formalized this approach with a new <code>relatedData</code> element: <a href="https://build.fhir.org/plandefinition-definitions.html#PlanDefinition.action.input.relatedData">https://build.fhir.org/plandefinition-definitions.html#PlanDefinition.action.input.relatedData</a></p>



<a name="263853367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/263853367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes Becker <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#263853367">(Dec 06 2021 at 14:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> Thanks for pointing out the R5 change, that looks like exactly what we need!</p>
<p>I'm curious, are there workflow-specific FHIR spec meetings that implementers can attend as well? Mostly to follow progress and maybe also to give insights on how our experience with implementing the FHIR Workflow spec progresses if there's interest in that.</p>



<a name="263867395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/263867395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#263867395">(Dec 06 2021 at 15:34)</a>:</h4>
<p>There is a regular FHIR workflow project on Mondays at 2 Eastern.  Details here: <a href="https://confluence.hl7.org/pages/viewpage.action?pageId=40743450">https://confluence.hl7.org/pages/viewpage.action?pageId=40743450</a></p>
<p>It's pretty wide-ranging, but we do touch on PlanDefinition/ActivityDefinition occasionally.</p>



<a name="264143931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/%E2%9C%94%20Workflow%20Task%20output%20-%3E%20input%20dependencies/near/264143931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/.E2.9C.94.20Workflow.20Task.20output.20-.3E.20input.20dependencies.html#264143931">(Dec 08 2021 at 11:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="459548">Johannes Becker</span> has marked this topic as resolved.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
