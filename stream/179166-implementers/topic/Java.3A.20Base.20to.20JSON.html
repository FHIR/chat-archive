---
layout: page
title: "FHIR Chat  · Java: Base to JSON · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html">Java: Base to JSON</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="241696215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241696215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241696215">(Jun 06 2021 at 15:13)</a>:</h4>
<p>I'm curently trying to get a JSON/XML, or at least String representation of <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/2e640accced5f5689e18abca57f0b4a8e45c9821/org.hl7.fhir.r4/src/main/java/org/hl7/fhir/r4/model/Base.java">Base</a> Instances.</p>



<a name="241696303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241696303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241696303">(Jun 06 2021 at 15:15)</a>:</h4>
<p>I couldn't find an encoder for encoding Base Instances, or Elements. Did i miss something?<br>
If there is no code existent i would use: listChildrenByName in Base, check if these are primitives -&gt; get primitive Value, if non-primitive, iterate deeper.</p>



<a name="241696358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241696358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241696358">(Jun 06 2021 at 15:16)</a>:</h4>
<p>This could get me some kind of String representation, but i was wondering if i just missed existing code which produces nice XML or JSON fragments from Base/Element</p>



<a name="241696383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241696383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241696383">(Jun 06 2021 at 15:17)</a>:</h4>
<p>I'm getting the Base Instances while evaluating FHIRPaths, also tried: evaluateToString in the FhirPathEngine, wich isn't that helpful at the moment.</p>



<a name="241718136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241718136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241718136">(Jun 07 2021 at 00:30)</a>:</h4>
<p>is this a #hapi question? I'm not sure what to make of it in general; there is no representation for Base since it's abstract. Or are you looking for org.hl7.fhir.r5.elementmodel ?</p>



<a name="241734900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241734900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241734900">(Jun 07 2021 at 06:40)</a>:</h4>
<p>When evaluation FHIR Paths you end up with a List&lt;Base&gt;. I wanted to encode these Base Objects/Elements to Json, but failed to do so.<br>
I then looked at the hapi and Java Json Parser classes, but couldn't find methods to serialize a Base or Element Objekt.</p>



<a name="241735057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241735057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241735057">(Jun 07 2021 at 06:42)</a>:</h4>
<p>The code for creating Json/XML representations for Fhir elements seems to be only inluded online in the resource creating parts of the parser. I had the hope for a  method like this: <code>JSONObject getJsonFromBase(Base base)</code></p>



<a name="241735371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241735371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241735371">(Jun 07 2021 at 06:47)</a>:</h4>
<p>hmm yes. that's complicated since you might want either composer, depending on the actual specialization in the list of base objects. I can't get to it today, but I could add a method for that. Not exactly sure where, but it's certainly possible. Just a bit of  rooting around</p>



<a name="241735511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241735511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241735511">(Jun 07 2021 at 06:49)</a>:</h4>
<p>Sounds great. I think this could also lead to some structural refactoring of the JsonEncoder. Extracting the String creator parts for elements into their own methods.</p>



<a name="241735584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241735584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241735584">(Jun 07 2021 at 06:50)</a>:</h4>
<p>really? which methods are you talking about?</p>



<a name="241737469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/241737469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#241737469">(Jun 07 2021 at 07:14)</a>:</h4>
<p>it was too late yesterday.. i only saw the handling for meta and id in the hapi parser and assumed that every dataType is handled by its own code. Which was wrong.</p>



<a name="247084912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Java%3A%20Base%20to%20JSON/near/247084912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Java.3A.20Base.20to.20JSON.html#247084912">(Jul 24 2021 at 17:25)</a>:</h4>
<p>should i add an issue for this one on fhir.core?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
