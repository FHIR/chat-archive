---
layout: page
title: "FHIR Chat  · Diagnostic Order with multiple items to ProcedureRequest · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html">Diagnostic Order with multiple items to ProcedureRequest</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153881071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881071">(Apr 06 2017 at 04:06)</a>:</h4>
<p>Hello people,<br>
In DSTU2 we have few DiagnosticOrder with multiple items. For a test panel, we were populating all the test orders as multiple items of same diagnostic order. Now while converting we are getting issues since procedurerequest is for used for a single item. </p>
<p>I read about compound-requests(<a href="http://hl7.org/fhir/STU3/request.html#compound" target="_blank" title="http://hl7.org/fhir/STU3/request.html#compound">http://hl7.org/fhir/STU3/request.html#compound</a>). I thought I can use <code>Request.requisitionId</code> because the definition says "by the same practitioner at the same time for the same subject" , which is the same scenario for a panel.</p>
<p>Here is what I think the conversion should be. Below is the structure of a diagnostic order with multiple items</p>
<div class="codehilite"><pre>DiagnosticOrder
    Item A
        code
        event
            status =&gt; created
    Item B
        code
        event 
            status =&gt; created
</pre></div>


<p>I think it can be converted in below structure</p>
<div class="codehilite"><pre>ProcedureRequest A
    code ?(Not sure what this should be)
ProcedureRequest B
    requisition =&gt; A
    code =&gt;  Item A.code
    status active
ProcedureRequest C
    requisition =&gt; A
    code =&gt; Item B.code
    status active
</pre></div>


<p>In above structure ProcedureRequestA is a composite request, and ProcedureRequestB and ProcedureRequestC are the concrete which will refer to ProcedureRequestA as requisition. Here I want to validate my idea. is this the way this should be converted or there should be a different approach to it. Another question, since <code>ProcedureRequest.code</code> is a mandatory field what should that be ideally.</p>



<a name="153881079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sunanda Veeraganti <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881079">(Apr 06 2017 at 09:28)</a>:</h4>
<p>Procedure B and Procedure C are not clear. In ProcedureRequest B,  code =&gt;  Item A.code and in ProcedureRequest C,  code =&gt; Item B.code. Does that mean Procedure B is also composite and Procedure C is concrete?</p>



<a name="153881080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881080">(Apr 06 2017 at 09:33)</a>:</h4>
<p>No! Actully, what I meant there is one Composite PRequest "A" and there are two concerete PRequests "B" and "C" for each item. Both concrete PRequests will be referring to "A" as requisition.  </p>



<a name="153881083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sunanda Veeraganti <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881083">(Apr 06 2017 at 11:04)</a>:</h4>
<p>ProcedureRequest.code  is a codeable concept.  For a Diagnostic Procedure the code is  - 103693007  Diagnostic procedure</p>



<a name="153881084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881084">(Apr 06 2017 at 11:07)</a>:</h4>
<p>Shouldn't that be procedurerequest.category i.e. what type of procedurerequest is this? procedurerequest.code should be specifying what is being ordered as in "Test Name"</p>



<a name="153881085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sunanda Veeraganti <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881085">(Apr 06 2017 at 11:17)</a>:</h4>
<p>Both Category and code are codeable concepts. yes you are correct. The Value set is defined here. <a href="http://hl7.org/fhir/STU3/valueset-procedure-code.html" target="_blank" title="http://hl7.org/fhir/STU3/valueset-procedure-code.html">http://hl7.org/fhir/STU3/valueset-procedure-code.html</a></p>



<a name="153881086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881086">(Apr 06 2017 at 11:27)</a>:</h4>
<p>Yeah correct! This is an example binding, this can be totally different in my context.</p>



<a name="153881087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881087">(Apr 06 2017 at 11:30)</a>:</h4>
<p>Sorry, I think we have deviated from the main question? My question was more about, is that the proper use of  <code>PRequest. requisition</code>. If yes what should be code for the composite PRequest.</p>



<a name="153881090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sunanda Veeraganti <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881090">(Apr 06 2017 at 12:01)</a>:</h4>
<p>A new code should be defined for composite PRequest. Prequest code is not appropriate. solution.</p>



<a name="153881091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881091">(Apr 06 2017 at 12:03)</a>:</h4>
<p>Okey I agree to that. Otherwise that I just wanted to know is this a proper use of <code>PRequest. requisition</code> ?</p>



<a name="153881102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881102">(Apr 06 2017 at 14:04)</a>:</h4>
<p><span class="user-mention" data-user-id="192421">@Mritunjay Dubey</span> ProcedureRequest.requisition is an unique identifier. You don't need to create instance of a ProcedureRequest to hold that identifier. As long as all the requests have the same identifier, they are treated as in a composition. Here is the description from STU3: Requests are linked either by a "basedOn" relationship (i.e. one request is fulfilling another) or by having a common requisition. Requests that are part of the same requisition are generally treated independently from the perspective of changing their state or maintaining them after initial creation.<br>
And PrcoedureRequestB.code and ProcedureRequestC.code should be their own SNOMED CT procedure code.<br>
Your example is kind of confusing.</p>



<a name="153881105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881105">(Apr 06 2017 at 14:48)</a>:</h4>
<p>There's no need to introduce an addtional ProcedureRequest A.  You just have one ProcedureRequest for each item and a common requisitionId on both.  There's no need to introduce a composite order in most cases.  The exception is if there are timing dependencies or conditionality dependencies for the child items - e.g. an order to do A or B, but not both.  In that case, ProcedureRequestB and ProcedureRequestC would have a ProcedureRequest.intent of "option" and you'd have a RequestGroupA that pointed to both.  The RequestGroupA would manage the relevant status, timing, etc. for all of its options. </p>



<a name="153881130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881130">(Apr 06 2017 at 16:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191506">@Yunwei Wang</span> thanks! That was helpful.</p>



<a name="153881553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881553">(Apr 10 2017 at 06:56)</a>:</h4>
<p>Hello guys, As we discussed above A diagnosticorder with multiple items will be converted to separate procedure requests. Right now we have just one value <code>identifier</code> and <code>id</code> field populated for whole diagnostic order. Now we need multiple <code>identifier</code> and <code>id</code> one each for every procedure request. is there a standard way to deal with this problem? </p>



<a name="153881554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881554">(Apr 10 2017 at 06:57)</a>:</h4>
<p>The same problem is with entry.fullUrl since a single entry will be changed to multiple entries</p>



<a name="153881564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sunanda Veeraganti <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881564">(Apr 10 2017 at 09:27)</a>:</h4>
<p>@Mritunjay Dubey Will there be a problem using multiple identifiers in your scenario?</p>



<a name="153881565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881565">(Apr 10 2017 at 09:36)</a>:</h4>
<p>Yeah! We just thought of going with multiple identifier which we will generate. I was just wondering if there is a standard rule/guideline by fhir.</p>



<a name="153881566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sunanda Veeraganti <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881566">(Apr 10 2017 at 09:38)</a>:</h4>
<p>If you are creating multiple procedure requests then it is better to have identifers for each request. It will be clean. I am also curious to see if any one proposes a better solution</p>



<a name="153881599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881599">(Apr 10 2017 at 14:10)</a>:</h4>
<p>If you don't have identifiers for each order entry, just append ".1", ".2" or "-1" or "-2".  There's no particular guidance because only you know what's going to be unique and reliable in your environment.</p>



<a name="153881603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153881603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153881603">(Apr 10 2017 at 14:43)</a>:</h4>
<p>yeah true! Even I thought of appending something, but just wanted to make sure that it is not wrong. Thanks</p>



<a name="153885083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153885083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153885083">(Apr 19 2017 at 09:29)</a>:</h4>
<p>A new question, The conversion scripts are adding an extension with url "<a href="http://hl7.org/fhir/diagnosticorder-r2-marker" target="_blank" title="http://hl7.org/fhir/diagnosticorder-r2-marker">http://hl7.org/fhir/diagnosticorder-r2-marker</a>" while converting DiagnosticOrder to ProcedureRequest, but it says it is unknown. Am I missing anything here?</p>



<a name="153885099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153885099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153885099">(Apr 19 2017 at 12:17)</a>:</h4>
<p>that's so the mapping can round trip back to DiagnosticOrder, but it's not a formally defined extension </p>



<a name="153885102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153885102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mritunjay Dubey <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153885102">(Apr 19 2017 at 12:20)</a>:</h4>
<p>ohh okey, it is just to identify that this ProcedureRequest is converted from DiagnosticOrder.</p>



<a name="153885105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Diagnostic%20Order%20with%20multiple%20items%20to%20ProcedureRequest/near/153885105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Diagnostic.20Order.20with.20multiple.20items.20to.20ProcedureRequest.html#153885105">(Apr 19 2017 at 12:22)</a>:</h4>
<p>yes</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
