---
layout: page
title: "FHIR Chat  · OrderSets · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html">OrderSets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153816119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816119">(Mar 17 2016 at 15:37)</a>:</h4>
<p>We're making a CDS system that recommends templates for sets of treatments. We're planning on using OrderSet to represent these recommendations because it seems tailored to do just that. However, these treatment set templates need codings because they need to be mapped across different systems. We're thinking of using OrderSet.action.concept for those codings. Just want to sanity-check all of that -- does that seem sound?</p>



<a name="153816122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816122">(Mar 17 2016 at 15:43)</a>:</h4>
<p>Hi Andrew, yes, that's the intent of that element, to provide meaning to the action so it can be shared between different systems.</p>



<a name="153816123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816123">(Mar 17 2016 at 15:43)</a>:</h4>
<p>And I don't know if you saw it yet, but I added the relatedAction element there to support relationships between actions, I still owe you an example there, but does that element look like it will support the relationships you need?</p>



<a name="153816124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816124">(Mar 17 2016 at 15:45)</a>:</h4>
<p>cool. The other question we have is -- let's say the doctor decides to use this particular OrderSet. We'd want to then create a CarePlan based off of the OrderSet</p>



<a name="153816125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816125">(Mar 17 2016 at 15:45)</a>:</h4>
<p>We could programmatically construct the exact CarePlan, but we'd actually prefer to just make a POST with a reference to the OrderSet</p>



<a name="153816126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816126">(Mar 17 2016 at 15:46)</a>:</h4>
<p>How would you recommend structuring that CarePlan POST request to reference the OrderSet?</p>



<a name="153816127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816127">(Mar 17 2016 at 15:47)</a>:</h4>
<p>maybe just <code>CarePlan.activity.detail.code</code>?</p>



<a name="153816128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816128">(Mar 17 2016 at 15:48)</a>:</h4>
<p>er, or <code>CarePlan.activity.reference</code>?</p>



<a name="153816131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816131">(Mar 17 2016 at 16:05)</a>:</h4>
<p>So, typically with the order sets that we've encountered, there are choices that the practitioner makes as part of using the order set. Do you have that in your order sets?</p>



<a name="153816137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816137">(Mar 17 2016 at 17:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> could you clarify what you mean by that? we're considering each order set (each template of treatments) as an individual choice, and the doctor just picks one of them. it's possible there could be sub-choices/sub-options eventually within the order set, so i guess if we structured everything to support that possibility it wouldn't be the end of the world</p>



<a name="153816138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816138">(Mar 17 2016 at 17:30)</a>:</h4>
<p>but even so, what the practitioner would be choosing is still something like a full OrderSet</p>



<a name="153816143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816143">(Mar 17 2016 at 17:39)</a>:</h4>
<p>Okay, that makes sense, but I wonder if it wouldn't be an operation against the OrderSet? Something like OrderSet/XYZ$place...?</p>



<a name="153816145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816145">(Mar 17 2016 at 17:39)</a>:</h4>
<p>That operation would then be where the realization of the OrderSet actually occurred.</p>



<a name="153816146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816146">(Mar 17 2016 at 17:40)</a>:</h4>
<p>Sure, that makes sense</p>



<a name="153816147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816147">(Mar 17 2016 at 17:40)</a>:</h4>
<p>I'll mock something up then so we can have an example to discuss further.</p>



<a name="153816148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816148">(Mar 17 2016 at 17:40)</a>:</h4>
<p>it wouldn't be POST /OrderSets, because we're not creating an OrderSet, but it could be POST /OrderSets/:id/place? with patient params</p>



<a name="153816149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816149">(Mar 17 2016 at 17:40)</a>:</h4>
<p>ok</p>



<a name="153816150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816150">(Mar 17 2016 at 17:41)</a>:</h4>
<p>Right, exactly.</p>



<a name="153816151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816151">(Mar 17 2016 at 17:41)</a>:</h4>
<p>but the resource that gets created probably would be a CarePlan, at least in our case</p>



<a name="153816152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816152">(Mar 17 2016 at 17:41)</a>:</h4>
<p>maybe not in every case</p>



<a name="153816153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816153">(Mar 17 2016 at 17:41)</a>:</h4>
<p>The intention is to update CarePlan (and all other "requestish" resources to be able to point to a "Protocol/Orderset" they're based on.  Note that this won't generate a fully populated care plan.  If you want that, you'll need an operation, not a simple POST.</p>



<a name="153816154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816154">(Mar 17 2016 at 17:41)</a>:</h4>
<p>ok</p>



<a name="153816155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816155">(Mar 17 2016 at 17:42)</a>:</h4>
<p>that makes sense to me</p>



<a name="153816156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816156">(Mar 17 2016 at 17:42)</a>:</h4>
<p>Right, this would be an operation, but against the OrderSet that may generate a CarePlan.</p>



<a name="153816157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816157">(Mar 17 2016 at 17:42)</a>:</h4>
<p>i feel like it's more RESTful to POST to the resource you're hoping to create</p>



<a name="153816158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816158">(Mar 17 2016 at 17:42)</a>:</h4>
<p>but perhaps both could be supported?</p>



<a name="153816160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816160">(Mar 17 2016 at 17:43)</a>:</h4>
<p>for "template" resources like this it needs to be clear how to create the realized resource given the necessary patient/time/practitioner context</p>



<a name="153816161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816161">(Mar 17 2016 at 17:43)</a>:</h4>
<p>Well, I think the POST to a CarePlan would be if you manually realized the OrderSet, but if you want the server to realize it, seems like an operation would be necessary.</p>



<a name="153816163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816163">(Mar 17 2016 at 17:46)</a>:</h4>
<p>right. i guess in our case the main server we're integrating with already knows how to draft a care plan (or its internal representation of this type of care plan) from a reference to the order set</p>



<a name="153816164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816164">(Mar 17 2016 at 17:46)</a>:</h4>
<p>but we want to structure that request in a way that will be compatible with other systems we integrate with</p>



<a name="153816165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816165">(Mar 17 2016 at 17:47)</a>:</h4>
<p>all of whom will have pretty formalized representations of this type of care plan (template), but not necessarily identical ones</p>



<a name="153816166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816166">(Mar 17 2016 at 17:54)</a>:</h4>
<p>also -- apologies, this is a very nitpicky question, but <code>ActionDefinition.concept</code> appears to be an array (<code>0..*</code> elements) even though each element is itself a <code>CodeableConcept</code> with <code>0..*</code> elements in <code>coding</code>. Is there any reason why we should have an array of arrays of codings on an <code>ActionDefinition</code>?</p>



<a name="153816167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816167">(Mar 17 2016 at 17:56)</a>:</h4>
<p>and another nitpicky question -- it looks like <code>OrderSet.action</code> is a <code>0..*</code> array too. we were hoping to use <code>OrderSet.action.concept</code> to represent the entire order set's coding, but if there can be multiple actions, shouldn't that codeable concept be at the top level?</p>



<a name="153816168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816168">(Mar 17 2016 at 17:58)</a>:</h4>
<p>if there was always _one_ top-level action (which could have <code>0..*</code> sub-actions), that would work, but i guess it would be best to just have <code>OrderSet.concept</code>.</p>



<a name="153816169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816169">(Mar 17 2016 at 18:00)</a>:</h4>
<p>that or have <code>moduleMetadata.concept</code></p>



<a name="153816172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816172">(Mar 17 2016 at 18:10)</a>:</h4>
<p>The reason there are multiple concepts on the action is that each Coding within a given CodeableConcept should be equivalent, so to express two different concepts, you'd need two different CodeableConcepts. And you may have multiple meanings (from different perspectives) that you want to attach to each action within the order set.</p>



<a name="153816173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816173">(Mar 17 2016 at 18:10)</a>:</h4>
<p>As far as a concept to represent the entire order set, yes, that would be more appropriate in the metadata.</p>



<a name="153816174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153816174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153816174">(Mar 17 2016 at 18:10)</a>:</h4>
<p>ok</p>



<a name="153818423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818423">(Mar 28 2016 at 20:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> , from before -- any updates on how relative timings of actions should be specified</p>



<a name="153818432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818432">(Mar 28 2016 at 20:52)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191516">@Andrew Ross</span>, yes, the relatedAction element of the ActionDefinition that is used to specify the actions of an order set can be used to define relative timings between items in the order set:</p>



<a name="153818433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818433">(Mar 28 2016 at 20:52)</a>:</h4>
<p><a href="https://hl7-fhir.github.io/actiondefinition-definitions.html#ActionDefinition.relatedAction" target="_blank" title="https://hl7-fhir.github.io/actiondefinition-definitions.html#ActionDefinition.relatedAction">https://hl7-fhir.github.io/actiondefinition-definitions.html#ActionDefinition.relatedAction</a></p>



<a name="153818434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818434">(Mar 28 2016 at 20:53)</a>:</h4>
<p>Each action defines an identifier that you can use to point to it.</p>



<a name="153818435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818435">(Mar 28 2016 at 20:53)</a>:</h4>
<p>The relationship allows you to specify before/after and a relative offset.</p>



<a name="153818436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818436">(Mar 28 2016 at 20:53)</a>:</h4>
<p>great, thank you!</p>



<a name="153818797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818797">(Mar 29 2016 at 14:11)</a>:</h4>
<p>hi <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> , one more question about action definitions and timings. Right now I've found a really good way to represent everything about the relative timings of my actions, except for the total length of time of an action. And I have a way of getting around it but it makes things less modular.</p>
<p>Let me give a bit more detail -- I'm working with chemotherapy regimens, and there are 2 "courses" of chemotherapy, each of which I want to represent as their own top-level action. The second course starts after the first course. What I would like to do is say that the second course has a related action equal to the first course, and it starts after the first course ends. However, it seems like I have no way of specifying exactly how long the first course lasts (the first  course has subactions with relative offsets, but its full length is a little bit longer than the longest offset).</p>
<p>I could get around this by just creating a parent action that represents both courses, then giving the second course a relative offset of the exact amount of time of the first course. However, it feels hacky, because I'm specifying the length of the first course on the second course, and also if the first course ends up being lengthened for any reason, the second course would be delayed, so I'd like to express it more semantically.</p>
<p>Any thoughts? I can make what is there work (and once again, it's awesome), but I feel like the current spec is missing a "duration" attribute for action definitions.</p>



<a name="153818804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818804">(Mar 29 2016 at 14:16)</a>:</h4>
<p>also... if i wanted to be really greedy, I would also ask for a "repeat" attribute as well, but it's not as necessary</p>



<a name="153818806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818806">(Mar 29 2016 at 14:17)</a>:</h4>
<p>that one might not make as much sense, maybe. but the duration seems important</p>



<a name="153818809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818809">(Mar 29 2016 at 14:32)</a>:</h4>
<p>What are the targets of your action? MedicationAdministration?</p>



<a name="153818810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818810">(Mar 29 2016 at 14:32)</a>:</h4>
<p>yes</p>



<a name="153818811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818811">(Mar 29 2016 at 14:32)</a>:</h4>
<p>or MedicationOrder, not sure which is more appropriate</p>



<a name="153818813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818813">(Mar 29 2016 at 14:35)</a>:</h4>
<p>MedicationOrder, which would then be converted to a MedicationAdministration by the workflow of actually doing the administering. Or at least, that's my reading of it. So you're using the Timing within the MedicationOrder, but it doesn't allow you to specify both the overall duration and the timing of the specific instance, right?</p>



<a name="153818814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818814">(Mar 29 2016 at 14:36)</a>:</h4>
<p>Because it's something like "administer this medication weekly for 12 weeks"?</p>



<a name="153818815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818815">(Mar 29 2016 at 14:36)</a>:</h4>
<p>something like that. i think it's fine for us to just make 12 separate sub-actions for each order</p>



<a name="153818816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818816">(Mar 29 2016 at 14:37)</a>:</h4>
<p>but we want to say "this whole cycle is 12 full weeks"</p>



<a name="153818817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818817">(Mar 29 2016 at 14:37)</a>:</h4>
<p>because the last sub-action takes place at the start of the 12th week</p>



<a name="153818818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818818">(Mar 29 2016 at 14:37)</a>:</h4>
<p>not the end</p>



<a name="153818819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818819">(Mar 29 2016 at 14:37)</a>:</h4>
<p>and then we want the next cycle to start at the start of the 13th week</p>



<a name="153818821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818821">(Mar 29 2016 at 14:39)</a>:</h4>
<p>Yeah, would be nice to be able to model that with a repeat somehow so you don't have to repeat each action.</p>



<a name="153818822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818822">(Mar 29 2016 at 14:39)</a>:</h4>
<p>it's true, but sometimes there are slight differences in later repeats</p>



<a name="153818823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818823">(Mar 29 2016 at 14:39)</a>:</h4>
<p>so it might be too complicated</p>



<a name="153818824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818824">(Mar 29 2016 at 14:39)</a>:</h4>
<p>and it's maybe harder for implementers</p>



<a name="153818825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818825">(Mar 29 2016 at 14:39)</a>:</h4>
<p>but -- the main thing is to say that the second cycle should start after the first cycle</p>



<a name="153818826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818826">(Mar 29 2016 at 14:40)</a>:</h4>
<p>i guess the "anchor"ing doesn't make sense without the duration</p>



<a name="153818827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818827">(Mar 29 2016 at 14:40)</a>:</h4>
<p>Right, so put all the first cycle actions within a containing action, and then set up the relationship to that container.</p>



<a name="153818828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818828">(Mar 29 2016 at 14:40)</a>:</h4>
<p>right, that works, but it requires specifying the second cycle relative to the root</p>



<a name="153818829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818829">(Mar 29 2016 at 14:40)</a>:</h4>
<p>rather than the first</p>



<a name="153818830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818830">(Mar 29 2016 at 14:41)</a>:</h4>
<p>e.g. saying the second cycle starts 13 weeks after the start</p>



<a name="153818831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818831">(Mar 29 2016 at 14:41)</a>:</h4>
<p>so we're effectively defining the length of the first cycle but only on the second cycle</p>



<a name="153818834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818834">(Mar 29 2016 at 14:46)</a>:</h4>
<p>I see, you could set it to be after the last action of the first cycle though, right?</p>



<a name="153818835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818835">(Mar 29 2016 at 14:47)</a>:</h4>
<p>So each action in the first cycle starts after the previous one by a week.</p>



<a name="153818839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818839">(Mar 29 2016 at 14:55)</a>:</h4>
<p>it's true, but it feels a bit icky to me</p>



<a name="153818840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818840">(Mar 29 2016 at 14:55)</a>:</h4>
<p>semantically, the second cycle starts after the end of the first one</p>



<a name="153818841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818841">(Mar 29 2016 at 14:55)</a>:</h4>
<p>that's what the current modeling seems to encourage</p>



<a name="153818842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818842">(Mar 29 2016 at 14:55)</a>:</h4>
<p>it's just missing a way to say when "the end of the first one" is</p>



<a name="153818843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818843">(Mar 29 2016 at 14:56)</a>:</h4>
<p>if you're going to have a concept of anchoring something to the end of an action, there needs to be a way to specify when that action ends</p>



<a name="153818844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818844">(Mar 29 2016 at 14:57)</a>:</h4>
<p>Yeah, the reason I didn't put that in though was that's dependent on the type of the target. So a MedicationOrder has a Timing that says how long it is.</p>



<a name="153818845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818845">(Mar 29 2016 at 14:57)</a>:</h4>
<p>right, it's true</p>



<a name="153818848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818848">(Mar 29 2016 at 14:57)</a>:</h4>
<p>that works when the action is a single resource</p>



<a name="153818849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818849">(Mar 29 2016 at 14:58)</a>:</h4>
<p>anyway, it's just a suggestion -- we can work around it by adding a parent action</p>



<a name="153818850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818850">(Mar 29 2016 at 14:58)</a>:</h4>
<p>I realize that then becomes an implementation complexity, but I wanted to avoid introducing a redundant element if possible.</p>



<a name="153818851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818851">(Mar 29 2016 at 14:58)</a>:</h4>
<p>yeah</p>



<a name="153818852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818852">(Mar 29 2016 at 14:58)</a>:</h4>
<p>i just feel like it completes what's there, logically</p>



<a name="153818853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818853">(Mar 29 2016 at 14:59)</a>:</h4>
<p>but maybe it's worth sitting and thinking about it more</p>



<a name="153818854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818854">(Mar 29 2016 at 15:00)</a>:</h4>
<p>Yeah it makes sense and the chemotherapy order sets are particularly detailed so it's a great use case and I appreciate you working through it. I'll look at adding a duration there. With the repeat it would allow for some economy there too.</p>



<a name="153818855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818855">(Mar 29 2016 at 15:02)</a>:</h4>
<p>sounds good, and thanks.</p>



<a name="153818856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McNicoll <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818856">(Mar 29 2016 at 15:06)</a>:</h4>
<p>Is this chemotherapy use case published / available anywhere? I am working on an equivalent openEHR medication order /timing model for use inside systems, but high expectation that FHIR will be used for data exchange, and I am trying to ensure that we stay closely aligned.  The chemo test case would be a helpful 'stress test'.</p>



<a name="153818857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818857">(Mar 29 2016 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191650">@Ian McNicoll</span> i might be able to send you some of what we've been working on, and we've been talking to other organizations that are doing the same thing. let me get back to you after i check if it's okay</p>



<a name="153818858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153818858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian McNicoll <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153818858">(Mar 29 2016 at 15:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191516">@Andrew Ross</span> many thanks</p>



<a name="153819116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153819116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153819116">(Mar 30 2016 at 15:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191650">@Ian McNicoll</span> and <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> -- here is a gist where I laid out how we're thinking of representing and querying chemotherapy templates as order sets: <a href="https://gist.github.com/asross/e32c7735e20f356d34fc16b49c261cb9" target="_blank" title="https://gist.github.com/asross/e32c7735e20f356d34fc16b49c261cb9">https://gist.github.com/asross/e32c7735e20f356d34fc16b49c261cb9</a></p>



<a name="153819117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153819117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153819117">(Mar 30 2016 at 15:14)</a>:</h4>
<p>let me know what you think. i did add <code>duration</code> to <code>ActionDefinition</code> because it made the representation more concise, let me know what you think</p>



<a name="153819118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153819118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153819118">(Mar 30 2016 at 15:14)</a>:</h4>
<p>also important is whether we're using <code>moduleMetadata.identifier</code> and <code>moduleMetadata.topic</code> correctly</p>



<a name="153819119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153819119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153819119">(Mar 30 2016 at 15:15)</a>:</h4>
<p>...and finally, if there's any update on how a <code>CarePlan</code> might eventually point back to the <code>OrderSet</code> it was placed from, let me know (cc <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> )</p>



<a name="153819131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153819131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153819131">(Mar 30 2016 at 16:56)</a>:</h4>
<p>There's an intention that all "request" type resources, including CarePlan will have the ability to point to a protocol.  That was recently approved for CarePlan by PC.  It will point to Questionnaire, Protocol and OrderSet (though there's some rationalization that needs to happen for Protocol/OrderSet)</p>



<a name="153819592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153819592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153819592">(Apr 01 2016 at 01:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191516">@Andrew Ross</span> Very nice, I commented on the gist. And I have on my list to bring up adding a duration element to the action definition.</p>



<a name="153819666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153819666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153819666">(Apr 02 2016 at 00:59)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> . I replied with a few more thoughts.</p>



<a name="153820930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153820930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153820930">(Apr 11 2016 at 21:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191516">@Andrew Ross</span> thanks for putting together the sample.  I'm working with NCCN to express their order templates in FHIR and we have similarities and differences with your approach.  In particular, I have some concerns with the 'flattening' of the schedule data</p>



<a name="153820931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153820931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153820931">(Apr 11 2016 at 21:16)</a>:</h4>
<p>two different reasons<br>
1. in definitional resources like these we often have optionality that makes it hard to flatten.<br>
example:  14- or 21-day cycle for 2 – 4 cycles <br>
2. ongoing/pattern-based definitions where you repeat some cycle indefinitely or until some condition is met</p>



<a name="153820932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153820932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153820932">(Apr 11 2016 at 21:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> I discussed our current approach with Andrew where we use Timing datatype to represent the cycle definition.  Wondering if it would make sense to add that datatype to your ActionDefinition so that it could still be used to express the definition of some repeating schedule</p>



<a name="153820945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153820945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153820945">(Apr 12 2016 at 02:27)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191676">@Lee Surprenant</span> thanks for the suggestion, I will add it to the discussion for Wednesday morning's CQF-on-FHIR call, as well as bring it up in the CDS WG.</p>



<a name="153821220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821220">(Apr 12 2016 at 13:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> <span class="user-mention" data-user-id="191676">@Lee Surprenant</span> one difficulty i foresee with that kind of optionality is that it makes the OrderSet $place operation ambiguous unless you provide additional parameters to resolve it</p>



<a name="153821221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821221">(Apr 12 2016 at 13:51)</a>:</h4>
<p>e.g. if the second chemo course is 2-4 cycles, you need to pass or be able to pass some kind of structured parameter to nail it down</p>



<a name="153821222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821222">(Apr 12 2016 at 13:51)</a>:</h4>
<p>as an architectural question, what should a "template" require to be realized?</p>



<a name="153821223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821223">(Apr 12 2016 at 13:52)</a>:</h4>
<p>right now i think the vision is that OrderSet just needs a patient and some basic clinical context to generate a CarePlan</p>



<a name="153821224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821224">(Apr 12 2016 at 13:53)</a>:</h4>
<p>but we are encountering looser concepts of templates that might require more parameters</p>



<a name="153821227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821227">(Apr 12 2016 at 13:59)</a>:</h4>
<p>it's also worth noting that the medication quantities in these regimens are expressed over patient weight or patient body surface area (or other characteristics) -- so to be translated into a "real" care plan, they need to potentially query patient observations and do unit-aware multiplication</p>



<a name="153821228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821228">(Apr 12 2016 at 14:03)</a>:</h4>
<p>I have heard from others that these medications are often ordered this way as well (by mg/m2)...not sure when it finally resolves to an actual amount</p>



<a name="153821229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821229">(Apr 12 2016 at 14:04)</a>:</h4>
<p>ah, ok. i guess if they don't need to be resolved before ordering, we don't need that as a parameter</p>



<a name="153821230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821230">(Apr 12 2016 at 14:05)</a>:</h4>
<p>but I think your point about other optionality is still spot-on.  in my example above the 14 or 21 day cycle bit could probably be split into two different regimen options, but I don't think we'd want to do that with the 2-4 cycles part</p>



<a name="153821231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821231">(Apr 12 2016 at 14:05)</a>:</h4>
<p>we have had to deal with that issue in our CDS system a few times, e.g. when computing the expected cost</p>



<a name="153821232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821232">(Apr 12 2016 at 14:05)</a>:</h4>
<p>right</p>



<a name="153821234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821234">(Apr 12 2016 at 14:05)</a>:</h4>
<p>especially if there are multiple axes of optionality, the total number of options will combinatorically explode</p>



<a name="153821237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821237">(Apr 12 2016 at 14:08)</a>:</h4>
<p>realistically though, i think in the systems we've worked with where we're actually dealing with placing orders, we might help pick the regimen but the doctor is still taken to a (domain-specific) order placing page where they resolve all of the ambiguities themselves, and can finalize the order. so ultimately the final details of the chemotherapy aren't being set through a standards-based API, the doctor is entering them on an application-specific UI screen</p>



<a name="153821238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821238">(Apr 12 2016 at 14:10)</a>:</h4>
<p>but we want to try to get past that if we can</p>



<a name="153821252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153821252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153821252">(Apr 12 2016 at 15:14)</a>:</h4>
<p>That's true. The intent of the OrderSet was always to enable that kind of functionality though. I do like the idea of having different levels of support, so a consuming system could work with the level of Order Set appropriate to their capabilities.</p>



<a name="153822595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153822595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Krauss <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153822595">(Apr 20 2016 at 11:10)</a>:</h4>
<p>Hello,  I have questions concerning OrderSet/Protocol.  </p>
<p>Should Protocol/OrderSet also support organizational processes such as tumor boards or is there a different Resource planned for this?</p>
<p>Should we think about process-abstraction? For example re-usable process steps/activities in Protocol, similar to how ActionDefinition is reusable in OrderSet. To my recollection we didn't talk about reusability yet in the workflow-calls.</p>



<a name="153822608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153822608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153822608">(Apr 20 2016 at 13:46)</a>:</h4>
<p>See discussion here: <a href="https://chat.fhir.org/#narrow/stream/workflow/subject/Protocol" target="_blank" title="https://chat.fhir.org/#narrow/stream/workflow/subject/Protocol">https://chat.fhir.org/#narrow/stream/workflow/subject/Protocol</a></p>



<a name="153824658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824658">(May 05 2016 at 14:58)</a>:</h4>
<p>just finished first attempt at mapping nccn chemo order template to OrderSet resource:  <a href="https://gist.github.com/lmsurpre/1c0e38ab868b503b37df352dddc39626" target="_blank" title="https://gist.github.com/lmsurpre/1c0e38ab868b503b37df352dddc39626">https://gist.github.com/lmsurpre/1c0e38ab868b503b37df352dddc39626</a></p>



<a name="153824659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824659">(May 05 2016 at 14:58)</a>:</h4>
<p>main differences from what <span class="user-mention" data-user-id="191516">@Andrew Ross</span> did earlier are<br>
1. included additional info like indications / emetic risk schedule / cautionary notes<br>
2. used a timing extension in the parent activity instead of attempting to flatten the schedule<br>
3. included relativeTime extension on the medicationOrder resources instead of putting all timing data into the action attribute</p>



<a name="153824662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824662">(May 05 2016 at 15:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191676">@Lee Surprenant</span> awesome, thanks for sharing. the only thing i feel a little strange about is how the <code>MedicationOrder</code> combines days 1 and 8 (and requires a reference to <code>periodStart</code> outside of the <code>ActionDefinition</code>). i feel like, especially for systems that have already implemented <code>MedicationOrder</code> processing using FHIR, it would be hard to make that work. instead I would just list two actions within the <code>ActionDefinition</code> section, with offsets of 1 and 8 days, since there's already support for that within that resource</p>



<a name="153824663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824663">(May 05 2016 at 15:33)</a>:</h4>
<p>i do like the <code>cycle</code> extension within the <code>ActionDefinition</code> though, and I think that's a great candidate for inclusion in the actual spec</p>



<a name="153824664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824664">(May 05 2016 at 15:34)</a>:</h4>
<p>if <code>ActionDefinition</code> supports cycles with variable length/repeats, then I think we can represent everything else without the need for any more timing-related extensions</p>



<a name="153824665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824665">(May 05 2016 at 15:34)</a>:</h4>
<p>I really wonder how these things are 'ordered' in practice.  Are they ordered 1 day at a time?</p>



<a name="153824666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824666">(May 05 2016 at 15:34)</a>:</h4>
<p>what if it was days 1-4</p>



<a name="153824667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824667">(May 05 2016 at 15:35)</a>:</h4>
<p>right, would you really want to list out four orders?</p>



<a name="153824668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824668">(May 05 2016 at 15:35)</a>:</h4>
<p>that doesn't seem terrible to me, but it could get worse</p>



<a name="153824669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824669">(May 05 2016 at 15:35)</a>:</h4>
<p>i can ask people that actually work on that part of the EHR we're interfacing with</p>



<a name="153824670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824670">(May 05 2016 at 15:35)</a>:</h4>
<p>that would be awesome</p>



<a name="153824671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824671">(May 05 2016 at 15:36)</a>:</h4>
<p>i can ask around a bit as well</p>



<a name="153824672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824672">(May 05 2016 at 15:36)</a>:</h4>
<p>cool. might take me a little bit of time to get back but i should be able to get input from them within a week or so.</p>



<a name="153824673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824673">(May 05 2016 at 15:36)</a>:</h4>
<p>great</p>



<a name="153824675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824675">(May 05 2016 at 15:36)</a>:</h4>
<p>you planning to attend WGM next week in Montreal?</p>



<a name="153824676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824676">(May 05 2016 at 15:36)</a>:</h4>
<p>or maybe Daniel/someone else from the group gonna be there?</p>



<a name="153824677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824677">(May 05 2016 at 15:37)</a>:</h4>
<p>i was hoping to go, but i've got family in town that weekend</p>



<a name="153824678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824678">(May 05 2016 at 15:37)</a>:</h4>
<p>i'm not sure if anyone else from our group is going</p>



<a name="153824679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824679">(May 05 2016 at 15:37)</a>:</h4>
<p>definitely seems like it would be super useful</p>



<a name="153824680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824680">(May 05 2016 at 15:37)</a>:</h4>
<p>ok, we made last-second decision to go.  would be pretty cool to meet up if someone is gonna be there (wednesday looking best)</p>



<a name="153824681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824681">(May 05 2016 at 15:38)</a>:</h4>
<p>hmm, middle of the week might be more plausible. i'll check in with folks here again and see if something can happen</p>



<a name="153824682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824682">(May 05 2016 at 15:38)</a>:</h4>
<p>if there's any more detailed schedule information about oncology-specific FHIR things happening, let me know</p>



<a name="153824683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824683">(May 05 2016 at 15:39)</a>:</h4>
<p>k.  i'm not that well hooked in, just know that CDS has convo with CarePlan on wed 3Q that Bryn thinks it would be good to attend (think i copied you on that note)</p>



<a name="153824893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153824893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153824893">(May 06 2016 at 22:33)</a>:</h4>
<p>We could organize an informal "birds of a feather" session on OrderSet/Protocol Wed. Q6 as well (after the reception)</p>



<a name="153826550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826550">(May 10 2016 at 20:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191676">@Lee Surprenant</span> here's my attempt at structuring an OrderSet with cycles, using only one very basic extension: <a href="https://gist.github.com/asross/65077e4237f43692f519794fe171b768" target="_blank" title="https://gist.github.com/asross/65077e4237f43692f519794fe171b768">https://gist.github.com/asross/65077e4237f43692f519794fe171b768</a></p>



<a name="153826555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826555">(May 10 2016 at 20:22)</a>:</h4>
<p>Thanks, Andrew.  Looks like you were able to represent 'Days 1 and 8' using the standard Timing datatype (via a period of 7 days)</p>



<a name="153826556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826556">(May 10 2016 at 20:22)</a>:</h4>
<p>Bryn and I discussed that as well, it may be a possibility but some of these regimen get pretty complicated</p>



<a name="153826557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826557">(May 10 2016 at 20:22)</a>:</h4>
<p>Days 1 – 4, 9 – 12, and 17 – 20</p>



<a name="153826558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826558">(May 10 2016 at 20:23)</a>:</h4>
<p>Days 1, 2, 4, 5, 8, 9, 11, and 12</p>



<a name="153826560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826560">(May 10 2016 at 20:24)</a>:</h4>
<p>ah, right. it would be nice if Timing could support a list of offsets like that -- and it ought to, if that's how individual orders are represented in EHRs</p>



<a name="153826561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826561">(May 10 2016 at 20:24)</a>:</h4>
<p>so, there is a pattern to all of the ones I've looked at so far, but expressing those just via period seems a quite tricky</p>



<a name="153826563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826563">(May 10 2016 at 20:24)</a>:</h4>
<p>maybe a question for your colleagues?</p>



<a name="153826564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826564">(May 10 2016 at 20:24)</a>:</h4>
<p>i can ask if a regimen to be administered on days 1 – 4, 9 – 12, and 17 – 20 would still be represented by a single order</p>



<a name="153826565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826565">(May 10 2016 at 20:25)</a>:</h4>
<p>yeah, good quesiton</p>



<a name="153826566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826566">(May 10 2016 at 20:26)</a>:</h4>
<p>it still really feels like those "on days" timings are a concern of the MedicationOrder, while cycle start date, "on day of cycle," and "in cycles"  are all concerns of the OrderSet/Protocol</p>



<a name="153826567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Lanphear <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826567">(May 10 2016 at 20:26)</a>:</h4>
<blockquote>
<p>days 1 – 4, 9 – 12, and 17 – 20 </p>
</blockquote>
<p>That would most commonly be one order</p>



<a name="153826568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826568">(May 10 2016 at 20:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191791">@Daniel Lanphear</span> that matches what NCCN pharmacists have told me as well</p>



<a name="153826570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826570">(May 10 2016 at 20:30)</a>:</h4>
<p>which i think would make it hard to support with the 'period' construct of the current timing datatype...</p>



<a name="153826571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826571">(May 10 2016 at 20:31)</a>:</h4>
<p>pardon the pseudo-code, but hopefully a bit easier to see the structure than full json/xml:</p>
<div class="codehilite"><pre>action
  &lt;!-- would be nice if actionDefinition supported this type of timing info directly --&gt;
  extension cycle
    valueTiming
      repeat count=6 duration=21 durationUnit=d

  actionIdentifier
    http://nccn.org/ordertemplates/KDN5/1
  textEquivalent &quot;21-day cycle for 6 cycles&quot;
  behavior
    type &quot;cardinality&quot;
    value &quot;multiple&quot;
  action
    detail
      code http://www.nlm.nih.gov/research/umls/rxnorm/12574 gemcitabine
      dosageInstruction
        text &quot;1250 mg/m² IV over 30 minutes on days 1 and 8&quot;
        timing
          extension relativeTime
            base periodStart
            offset 0d, 7d
          repeat
            duration 30 min
        route &quot;IV&quot;
        doseQuantity 1250 mg/m²

  action
    detail
      code http://www.nlm.nih.gov/research/umls/rxnorm/40048 CARBOplatin
      dosageInstruction
        text &quot;AUC 5 IV over 30 minutes on Day 1&quot;
        timing
          extension relativeTime
            base periodStart
            offset 0d
          repeat
            duration 30 min
          route &quot;IV&quot;
          doseQuantity AUC 5 http://snomed.info/sct/413573002
</pre></div>



<a name="153826572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826572">(May 10 2016 at 20:32)</a>:</h4>
<p>then, a system that knows how to convert an orderset to a set of MedicationOrder would probably need to resolve that relativeTime extension down into actual days</p>



<a name="153826575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826575">(May 10 2016 at 20:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> ^ above is what i put together after our talk today. ideally each action in OrderSet could define its own timing using a relativeTime which some order placement system/service could help the physician to place for a particular patient with absolute timings (using Timing.event)</p>



<a name="153826577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826577">(May 10 2016 at 20:44)</a>:</h4>
<p>that would allow actions to repeat without having a different action for each repetition</p>



<a name="153826582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826582">(May 10 2016 at 20:52)</a>:</h4>
<p>My thought on offsets is that there should be a standard extension for datetime that allows you to express both an offset and either a URI or a code to indicate "offset from what".  Because offsets are going to be needed pretty much anywhere we allow datetime (including inside Period and inside Timing) and we can't really argue that's a core property for those types.</p>



<a name="153826583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826583">(May 10 2016 at 20:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> we actually don't need to reference "offset from what" for this example, because the "what" is the top-level date of the medication order. all we need is the ability to specify an arbitrary number doses to be administered at specific offsets from that top-level date</p>



<a name="153826584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826584">(May 10 2016 at 20:53)</a>:</h4>
<p>(which is defined by the actionDefinition that references the order)</p>



<a name="153826585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826585">(May 10 2016 at 20:55)</a>:</h4>
<p>Which date is that?  The creation date?  How does someone know that's the intended anchor point for an arbitrary resource?</p>



<a name="153826589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826589">(May 10 2016 at 20:57)</a>:</h4>
<p>hmm. I was thinking <code>MedicationOrder</code> had an <code>effectiveDateTime</code> but that's <code>MedicationAdministration</code></p>



<a name="153826590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826590">(May 10 2016 at 20:58)</a>:</h4>
<p>nevertheless, if you have a <code>MedicationOrder</code> now whose timing has a repeat with <code>count</code> equal to 2 and <code>period</code> equal to 7 days, what does that mean?</p>



<a name="153826591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826591">(May 10 2016 at 20:58)</a>:</h4>
<p>if there's a problem with what i'm proposing, there's also a problem with the standard as-is</p>



<a name="153826592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826592">(May 10 2016 at 21:00)</a>:</h4>
<p>does that make sense <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> ?</p>



<a name="153826594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826594">(May 10 2016 at 21:02)</a>:</h4>
<p>unless all <code>MedicationOrder</code>s are supposed to be "effective immediately", or at least until <code>dateEnded</code></p>



<a name="153826596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826596">(May 10 2016 at 21:03)</a>:</h4>
<p>it could also be relative to <code>dispenseRequest.validityPeriod</code></p>



<a name="153826597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826597">(May 10 2016 at 21:03)</a>:</h4>
<p>that actually might make the most sense</p>



<a name="153826598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826598">(May 10 2016 at 21:05)</a>:</h4>
<p>so, to reiterate, we're thinking it would make sense to be able to schedule 1..* doses to be administered 0-N days after <code>dispenseRequest.validityPeriod.start</code>, or maybe reusing the same anchoring structure</p>



<a name="153826599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826599">(May 10 2016 at 21:06)</a>:</h4>
<p>and i guess that could be made relative pretty easily, but it seems easiest from an EHR implementation perspective if the medication order is somewhat self-contained</p>



<a name="153826600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826600">(May 10 2016 at 21:11)</a>:</h4>
<p>i think 'bounds' *could* be used for start period as well, but i guess your point is valid that if its not there then the repeat is sort of just a pattern without an explicit base (i took it to mean effective immediately unless a bounds is provided)</p>



<a name="153826601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826601">(May 10 2016 at 21:11)</a>:</h4>
<p>anyway, in this case I was more focused on the OrderSet resource (presuming we go with the Protocol approach of putting the details in-line rather than referencing an external/contained resource like MedicationOrder)</p>



<a name="153826602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826602">(May 10 2016 at 21:12)</a>:</h4>
<p>ah, yes, i guess it should be bounds.</p>



<a name="153826603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826603">(May 10 2016 at 21:16)</a>:</h4>
<p>BTW, for me I think a standard relativeTime extension *could* work...but part of me still wondering if there is a way to do it in 'core' for Protocol/OrderSet since it seems so common in this definitional space</p>



<a name="153826604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826604">(May 10 2016 at 21:17)</a>:</h4>
<p>especially if that relativeTime could be resolved to events as part of the $place operation</p>



<a name="153826606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826606">(May 10 2016 at 21:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> another question Bryn raised:  is 'relativeTime' extension on Timing even allowed?  modifierExtensions not allowed on dataTypes but i could argue this doesn't modify meaning of other attributes.  still, it would be rather important to understand.  is it possible for an extension to be marked as mustSupport without it being a modifier?</p>



<a name="153826607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826607">(May 10 2016 at 21:25)</a>:</h4>
<p><a href="https://www.hl7.org/fhir/profiling.html#mustsupport" target="_blank" title="https://www.hl7.org/fhir/profiling.html#mustsupport">https://www.hl7.org/fhir/profiling.html#mustsupport</a> makes it sound like a yes...we just need to declare it as such in a profile</p>



<a name="153826636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826636">(May 10 2016 at 23:59)</a>:</h4>
<p>The start time for most prescriptions, in the absence of a value in <code>dosageInstruction.timing.repeat.bounds.start</code> is "when the patient gets their hands on the med", which in a hospital setting is usually shortly after authorship and could be several days in a community setting.</p>



<a name="153826637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826637">(May 11 2016 at 00:01)</a>:</h4>
<p>My concern with having a relative expression that doesn't anchor the relativity is there's no way to know what the anchor should be.  Is it <code>MedicationOrder.dateWritten</code>?  <code>MedicationOrder.dispenseRequest.validityPeriod.start</code>?  <code>MedicationOrder.dosageInstruction.timing.repeat.bounds.start</code>?  Something else?</p>



<a name="153826638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826638">(May 11 2016 at 00:03)</a>:</h4>
<p>And the rules could be different for each attribute in each resource</p>



<a name="153826956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826956">(May 11 2016 at 17:30)</a>:</h4>
<p>It seems like <code>MedicationOrder.dosageInstruction.timing.repeat.bounds</code> is the most intuitive/possibly only sensical choice for anchoring. <code>dateWritten</code> clearly has no relationship to when the medication should be administered, and while <code>dispenseRequest.validityPeriod</code> probably overlaps with <code>dosageInstruction...bounds</code>, it's really about when the medication can be dispensed, not when it should be taken.</p>



<a name="153826957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153826957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Ross <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153826957">(May 11 2016 at 17:32)</a>:</h4>
<p>basically i think the anchoring has to be to a start or end time within <code>MedicationOrder.dosageInstruction</code> for its timing to make sense without needing to reference other resources</p>



<a name="153827141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153827141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153827141">(May 12 2016 at 01:51)</a>:</h4>
<p>But what if the expression was on <code>dispenseRequest.validityPeriod</code>?  What would the anchor point be then?  The point is that the anchor point could potentially be different for each attribute you chose to make "relative" and would be different for each resource.  And while you could hope that recipients would make the same presumption about the anchor point as you did, it's hard to guarantee that.</p>



<a name="153827142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OrderSets/near/153827142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OrderSets.html#153827142">(May 12 2016 at 01:52)</a>:</h4>
<p>We could certainly define distinct extensions for each attributes and embed within the definition of the extension what the extension was relative to, but that's a lot of extensions, and a lot of complexity for systems to deal with in other ways.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
