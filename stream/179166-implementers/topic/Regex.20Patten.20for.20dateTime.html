---
layout: page
title: "FHIR Chat  · Regex Patten for dateTime · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html">Regex Patten for dateTime</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="158607173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158607173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158607173">(Feb 15 2019 at 11:18)</a>:</h4>
<p>Its been brought to my attention that the regex pattern for dateTime differs from that declared in the schema files to that on the data type definition pages<br>
<a href="http://hl7.org/fhir/STU3/datatypes.html#dateTime" target="_blank" title="http://hl7.org/fhir/STU3/datatypes.html#dateTime">http://hl7.org/fhir/STU3/datatypes.html#dateTime</a><br>
Regex: <br>
-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5]<a href="http://\.[0-9]+" target="_blank" title="http://\.[0-9]+">0-9</a>?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?<br>
In HL7 fhir schema<br>
-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5]<a href="http://\.[0-9]+" target="_blank" title="http://\.[0-9]+">0-9</a>?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?)?)?)?<br>
Which is correct (I'm assuming the schema?)</p>



<a name="158616424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158616424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158616424">(Feb 15 2019 at 14:11)</a>:</h4>
<p><span class="user-mention" data-user-id="192158">@Dave Barnet</span>  - I don't know the answer but I used <a href="https://text-compare.com/" target="_blank" title="https://text-compare.com/">https://text-compare.com/</a> to see that the difference is the fourth question mark from the end.    <strong>?</strong>)?)?)?</p>
<p>Maybe this RegEx online parser page would be useful to test out which of the above is 'correct' with sample FHIR date/times:  <a href="https://regex101.com/" target="_blank" title="https://regex101.com/">https://regex101.com/</a></p>



<a name="158620263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158620263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcus Fearnett <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158620263">(Feb 15 2019 at 15:03)</a>:</h4>
<p><span class="user-mention" data-user-id="192158">@Dave Barnet</span>   <br>
Top one from the spec is correct.<br>
In FHIR spec, 'If hours and minutes are specified, a time zone SHALL be populated' so it's:<br>
-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5]0-9?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?</p>
<p>-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5]0-9?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?)?)?)?<br>
leaves the offset part of a dateTime optional by lazy matching the group starting (Z|...)</p>
<p>p.s. It's only the STU3 schema that's off. The R4 version has got it correct.</p>



<a name="158623167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158623167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158623167">(Feb 15 2019 at 15:41)</a>:</h4>
<p>Can you submit a change request?  We're doing an R3 patch soon and we might be able to fix this.</p>



<a name="158743574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158743574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158743574">(Feb 17 2019 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span></p>



<a name="158750236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158750236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158750236">(Feb 17 2019 at 16:49)</a>:</h4>
<p>looking @ R4:<br>
what about the regex for time:  <code>([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?</code></p>



<a name="158750323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158750323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158750323">(Feb 17 2019 at 16:51)</a>:</h4>
<p>i think the last capture group is wrong? What is the purpose of it?<br>
Now something like: 08:23:12.2234323434534646234485767843756872980 would be valid</p>



<a name="158750525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158750525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158750525">(Feb 17 2019 at 16:57)</a>:</h4>
<p>not sure what the limits are on decimal places. I support up to 9</p>



<a name="158750580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158750580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158750580">(Feb 17 2019 at 16:58)</a>:</h4>
<p>spec says: <code>A time during the day, in the format hh:mm:ss</code> whereas the regex allows infinite milliseconds</p>



<a name="158750583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158750583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158750583">(Feb 17 2019 at 16:58)</a>:</h4>
<p>fractions are allowed</p>



<a name="158750654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158750654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158750654">(Feb 17 2019 at 17:00)</a>:</h4>
<p>ok. Couldn't find it in the spec here: <a href="http://build.fhir.org/datatypes.html#time" target="_blank" title="http://build.fhir.org/datatypes.html#time">http://build.fhir.org/datatypes.html#time</a></p>



<a name="158750678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158750678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158750678">(Feb 17 2019 at 17:01)</a>:</h4>
<p>would be nice to have it explicitly stated to avoid misunderstandings</p>



<a name="158759992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158759992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158759992">(Feb 17 2019 at 21:34)</a>:</h4>
<p>Wow, where is that time machine that supports 'infinite milliseconds'  ? :-)</p>



<a name="158803623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158803623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158803623">(Feb 18 2019 at 14:27)</a>:</h4>
<p>i made a ticket: <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20400" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20400">GF#20400</a>]</p>



<a name="158912776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158912776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158912776">(Feb 19 2019 at 19:47)</a>:</h4>
<p>What are infinite milliseconds? There are either milliseconds ([0-9]{1,3}) or infinite precision ([0-9]+).</p>



<a name="158914737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Regex%20Patten%20for%20dateTime/near/158914737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Regex.20Patten.20for.20dateTime.html#158914737">(Feb 19 2019 at 20:08)</a>:</h4>
<p>please excuse my fuzzy language, i meant infinitely accurate fractions of a second = infinite precision</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
