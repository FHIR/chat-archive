---
layout: page
title: "FHIR Chat  · Cardinality constrain but retain array · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cardinality.20constrain.20but.20retain.20array.html">Cardinality constrain but retain array</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154000090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cardinality%20constrain%20but%20retain%20array/near/154000090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shamil Nizamov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cardinality.20constrain.20but.20retain.20array.html#154000090">(Sep 26 2018 at 18:51)</a>:</h4>
<p>Is that possible or do we need a special symbol to indicate that when 0..* or 1..* cardinality is constrained to 0..1/1..1 the array representation in JSON still should be preserved?</p>



<a name="154000099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cardinality%20constrain%20but%20retain%20array/near/154000099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cardinality.20constrain.20but.20retain.20array.html#154000099">(Sep 26 2018 at 20:21)</a>:</h4>
<p>My understanding is that if it's an array (i.e., max is <code>'*'</code>) in the base resource, then it's <em>always</em> represented as an array in instances, even if the instance conforms to a profile that narrows it to max <code>1</code>.  Although not explicitly stated for this exact use case, I think the general spirit is reflected in <a href="http://hl7.org/fhir/STU3/json.html#repeat" target="_blank" title="http://hl7.org/fhir/STU3/json.html#repeat">2.6.2.2</a>:</p>
<blockquote>
<p>An item that may repeat is represented as an array even in the case that it doesn't repeat so that the process of parsing the resource is the same either way</p>
</blockquote>



<a name="154000101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cardinality%20constrain%20but%20retain%20array/near/154000101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cardinality.20constrain.20but.20retain.20array.html#154000101">(Sep 26 2018 at 20:43)</a>:</h4>
<p>Correct.  If it's an array in the base spec, it's always an array, even if the maximum repetitions is constrained to 1</p>



<a name="154000116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cardinality%20constrain%20but%20retain%20array/near/154000116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cardinality.20constrain.20but.20retain.20array.html#154000116">(Sep 26 2018 at 21:51)</a>:</h4>
<p>FYI this aspect is explicitly captured by ElementDefinition.base.max:<br>
<a href="http://hl7.org/fhir/elementdefinition-definitions.html#ElementDefinition.base.max" target="_blank" title="http://hl7.org/fhir/elementdefinition-definitions.html#ElementDefinition.base.max">http://hl7.org/fhir/elementdefinition-definitions.html#ElementDefinition.base.max</a></p>



<a name="154000290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Cardinality%20constrain%20but%20retain%20array/near/154000290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shamil Nizamov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Cardinality.20constrain.20but.20retain.20array.html#154000290">(Sep 27 2018 at 15:05)</a>:</h4>
<p>Great, thank you all.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
