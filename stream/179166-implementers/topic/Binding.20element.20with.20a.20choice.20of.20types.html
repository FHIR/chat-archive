---
layout: page
title: "FHIR Chat  · Binding element with a choice of types · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html">Binding element with a choice of types</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="268805244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/268805244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#268805244">(Jan 21 2022 at 07:43)</a>:</h4>
<p>The <a href="http://hl7.org/fhir/R4/vitalsigns.html">vital signs profile</a> binds component.value to <a href="http://hl7.org/fhir/R4/valueset-ucum-vitals-common.html">Vital Signs Units</a>. The validator enforces this against valueQuantity. Nice.</p>
<p>But the validator does not enforce it against ValueCodeableConcept. Just as well, that would make the profile less useful.</p>
<p>Where in the docco does it say that a binding on an element with a choice of data types affects some of the data types and not others? The most relevant docco I could find was at <a href="http://hl7.org/fhir/R4/terminologies.html">Using Codes in Resources</a>, but that does not cover this topic.</p>
<p>Does binding only affect the first listed data type?</p>



<a name="268850075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/268850075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#268850075">(Jan 21 2022 at 14:31)</a>:</h4>
<p>How exactly does the validator enforce it?</p>



<a name="268850171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/268850171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#268850171">(Jan 21 2022 at 14:32)</a>:</h4>
<p>I don't see why it should disallow other datatypes - all the profile says is that if it's a type that can take in a code, it should be a code from this valueset.</p>



<a name="268868578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/268868578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#268868578">(Jan 21 2022 at 16:42)</a>:</h4>
<p>The general page you are looking for is <a href="http://build.fhir.org/profiling.html">Profiling</a>, and I am guessing the exact part you are looking for is in <a href="http://build.fhir.org/profiling.html#slicing">Slicing</a> or <a href="http://build.fhir.org/profiling.html#discriminator">Discriminator</a>.</p>



<a name="268917270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/268917270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#268917270">(Jan 21 2022 at 23:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191682">@Richard Townley-O'Neill</span> The required binding to the ucum-vitals-common value set is on Observation.component.value[x].  So the binding <strong>should</strong> apply to all of the data type slices (e.g., including both valueQuantity <strong>and</strong> valueCodeableConcept).  If the Validator <strong>isn't</strong> enforcing that binding on valueCodeableConcept, then that is not what I would expect from the StructureDefinition - and I think it probably would indicate that there is actually an issue with the Validator.  I think the reality is that the binding was done that way because there probably isn't any expected use of the Vital Signs profile with valueCodeableConcept, so it really might not matter much whether or not the validator does what is expected there.  Probably, it might have made sense and would be more clear if the binding to ucum-vitals-common was made directly on the valueQuantity slice, which is where it logically applies.  But, again, practically that may not matter too much in this case.</p>



<a name="269048083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269048083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269048083">(Jan 24 2022 at 00:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191405">Rob Hausam</span> <a href="#narrow/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types/near/268917270">said</a>:</p>
<blockquote>
<p>I think the reality is that the binding was done that way because there probably isn't any expected use of the Vital Signs profile with valueCodeableConcept, so it really might not matter much whether or not the validator does what is expected there.  Probably, it might have made sense and would be more clear if the binding to ucum-vitals-common was made directly on the valueQuantity slice, which is where it logically applies.  But, again, practically that may not matter too much in this case.</p>
</blockquote>
<p>That makes sense to me as history. <br>
However, I suspect that the VitalSigns profiles are being extensively used as design patterns and so obscure mistakes like that will be reproduced frequently. <br>
Suggestions<br>
1 / On the terminologies page clarify that binding an element with multiple types applies to all bindable types,<br>
2/  Revise the VitalSigns profile in R5 to put the binding in the correct place.<br>
3/ Revise the validator to apply the binding test as documented.</p>



<a name="269534004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269534004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269534004">(Jan 27 2022 at 07:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span>  If the binding is a good idea on VitalSigns.component.valueQuantity, why not also have it on VitalSigns.valueQuantity?</p>



<a name="269534306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269534306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269534306">(Jan 27 2022 at 07:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> should I create a Jira issue to request that the terminologies page clarify that binding an element with multiple types applies to all bindable types.</p>



<a name="269534318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269534318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269534318">(Jan 27 2022 at 07:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> should I create a GitHub issue to revise the validator to apply the binding test as documented?</p>



<a name="269622346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269622346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269622346">(Jan 27 2022 at 19:10)</a>:</h4>
<p>sure create a test case that demonstrates the problem</p>



<a name="269642311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269642311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269642311">(Jan 27 2022 at 21:39)</a>:</h4>
<p>You could also submit a Git issue against the publisher asking for a warning if a polymorphic element has a binding.  Best practice is generally to slice and put bindings on the slices.</p>



<a name="269685406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269685406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269685406">(Jan 28 2022 at 04:33)</a>:</h4>
<p>Jira issues:</p>
<ul>
<li>VitalSigns binding problem <a href="https://jira.hl7.org/browse/FHIR-35803">FHIR-35803</a></li>
<li>Document binding to multi data type element: <a href="https://jira.hl7.org/browse/FHIR-35891">FHIR-35891</a></li>
</ul>



<a name="269691690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269691690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269691690">(Jan 28 2022 at 06:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
Validator seems fine. It tests the binding on Quantity, CodeableConcept and string, and not on Range (which includes two Quantity elements, but is not mentioned as bindable on <a href="http://hl7.org/fhir/R4/terminologies.html">http://hl7.org/fhir/R4/terminologies.html</a>)</p>



<a name="269691803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269691803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269691803">(Jan 28 2022 at 06:16)</a>:</h4>
<ul>
<li>GitHub request for validator warning <a href="https://github.com/HL7/fhir-ig-publisher/issues/384">#384</a></li>
</ul>



<a name="269750667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Binding%20element%20with%20a%20choice%20of%20types/near/269750667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Binding.20element.20with.20a.20choice.20of.20types.html#269750667">(Jan 28 2022 at 15:12)</a>:</h4>
<p>Agree with this and with handling VitalSigns.valueQuantity and VitalSigns.component.valueQuantity the same.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
