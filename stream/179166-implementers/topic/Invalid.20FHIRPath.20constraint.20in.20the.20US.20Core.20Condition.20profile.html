---
layout: page
title: "FHIR Chat  · Invalid FHIRPath constraint in the US Core Condition profile · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20FHIRPath.20constraint.20in.20the.20US.20Core.20Condition.20profile.html">Invalid FHIRPath constraint in the US Core Condition profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="190914111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20FHIRPath%20constraint%20in%20the%20US%20Core%20Condition%20profile/near/190914111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20FHIRPath.20constraint.20in.20the.20US.20Core.20Condition.20profile.html#190914111">(Mar 17 2020 at 21:38)</a>:</h4>
<p>The following constraint is present in the US Core Condition profile:</p>
<div class="codehilite"><pre><span></span>where(category in &#39;http://hl7.org/fhir/us/core/ValueSet/us-core-condition-category&#39;).exists()
</pre></div>


<p>Nowhere in the FHIRPath specification does it state that the behavior of the "in" operator can be overloaded to function like the "memberOf" function and if such was the case, then it would need to be documented here:</p>
<p><a href="http://hl7.org/fhir/fhirpath.html#changes" target="_blank" title="http://hl7.org/fhir/fhirpath.html#changes">http://hl7.org/fhir/fhirpath.html#changes</a></p>
<p>and/or here:</p>
<p><a href="http://hl7.org/fhirpath/N1/#in-membership" target="_blank" title="http://hl7.org/fhirpath/N1/#in-membership">http://hl7.org/fhirpath/N1/#in-membership</a></p>
<p>I believe that this is an error in the current version of the US Core Implementation Guide STU3 (v3.1.0). Please advise.</p>



<a name="190914766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20FHIRPath%20constraint%20in%20the%20US%20Core%20Condition%20profile/near/190914766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20FHIRPath.20constraint.20in.20the.20US.20Core.20Condition.20profile.html#190914766">(Mar 17 2020 at 21:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="190917461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20FHIRPath%20constraint%20in%20the%20US%20Core%20Condition%20profile/near/190917461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20FHIRPath.20constraint.20in.20the.20US.20Core.20Condition.20profile.html#190917461">(Mar 17 2020 at 22:10)</a>:</h4>
<p>I believe it is mentioned here (i.e. B.4.2): <a href="http://hl7.org/fhirpath/2017Jan/index.html#changes-to-operators" target="_blank" title="http://hl7.org/fhirpath/2017Jan/index.html#changes-to-operators">http://hl7.org/fhirpath/2017Jan/index.html#changes-to-operators</a></p>
<p>I think it got replaced with <code>memberOf()</code> function in R4: <a href="https://www.hl7.org/fhir/fhirpath.html#functions" target="_blank" title="https://www.hl7.org/fhir/fhirpath.html#functions">https://www.hl7.org/fhir/fhirpath.html#functions</a></p>



<a name="190920903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20FHIRPath%20constraint%20in%20the%20US%20Core%20Condition%20profile/near/190920903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20FHIRPath.20constraint.20in.20the.20US.20Core.20Condition.20profile.html#190920903">(Mar 17 2020 at 22:48)</a>:</h4>
<p>I’ll file a ticket for US core to get this updated.</p>



<a name="190936451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20FHIRPath%20constraint%20in%20the%20US%20Core%20Condition%20profile/near/190936451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20FHIRPath.20constraint.20in.20the.20US.20Core.20Condition.20profile.html#190936451">(Mar 18 2020 at 03:35)</a>:</h4>
<p>Yes, the current spec does not support that. Early versions explored it but switched to the .memberOf() and %terminologies approaches.</p>



<a name="190989012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Invalid%20FHIRPath%20constraint%20in%20the%20US%20Core%20Condition%20profile/near/190989012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Invalid.20FHIRPath.20constraint.20in.20the.20US.20Core.20Condition.20profile.html#190989012">(Mar 18 2020 at 14:39)</a>:</h4>
<p><a href="https://jira.hl7.org/projects/FHIR/issues/FHIR-26605" target="_blank" title="https://jira.hl7.org/projects/FHIR/issues/FHIR-26605">https://jira.hl7.org/projects/FHIR/issues/FHIR-26605</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
