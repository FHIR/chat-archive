---
layout: page
title: "FHIR Chat  · codeSystem &amp; valueSet (STU3) · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html">codeSystem &amp; valueSet (STU3)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153831995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153831995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153831995">(Jun 08 2016 at 08:59)</a>:</h4>
<p>Has anyone got a working example that I could have a look at where a valueSet selects codes and concepts from a codeSystem (probably defined on the same FHIR server). What I want is to add codeSystems with explicit concepts/codes defined to our STU3 Hapi server, then define a valueSet that selects codes from the codeSystems via the "filter" option.</p>



<a name="153832097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153832097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153832097">(Jun 08 2016 at 22:44)</a>:</h4>
<p><span class="user-mention" data-user-id="192158">@Dave Barnet</span>. There are examples of the operations for the ValueSet and CodeSystem resources in the spec itself - including parameters and filters for specific Code Systems such as SNOMED CT, LOINC and UCUM. I've found just about everything that I've needed on there; and the Implementation--&gt;Services--&gt;Terminology Service page is particularly helpful with links to all the Code System specific information... <a href="http://hl7-fhir.github.io/terminology-service.html" target="_blank" title="http://hl7-fhir.github.io/terminology-service.html">http://hl7-fhir.github.io/terminology-service.html</a>. A small caveat is that some of the CodeSystem material is a bit 'green' and the $lookup properties example on that page still needs to be corrected.</p>



<a name="153832104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153832104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153832104">(Jun 08 2016 at 23:20)</a>:</h4>
<p>Here is an example: <a href="http://hl7-fhir.github.io/valueset-example-intensional.xml.html" target="_blank" title="http://hl7-fhir.github.io/valueset-example-intensional.xml.html">http://hl7-fhir.github.io/valueset-example-intensional.xml.html</a></p>



<a name="153835883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835883">(Jun 30 2016 at 13:56)</a>:</h4>
<p>I'm trying to implement a set of codes using codeSystem &amp; valueSet, where he codes are in a hierarchy. I noticed that in the definition of codeSystem, you appear to be able to nest concepts, so I set up a codeSystem with some nested concepts, along the lines of    <br>
&lt;concept&gt;<br>
      &lt;code value="MA00"/&gt;<br>
      &lt;display value="Mainstream Housing"/&gt;<br>
      &lt;concept&gt;&lt;code value="MA01"/&gt;&lt;display value="Owner occupier"/&gt;&lt;/concept&gt;<br>
      &lt;concept&gt;&lt;code value="MA02"/&gt;&lt;display value="Settled mainstream housing with family/friends"/&gt;&lt;/concept&gt;<br>
&lt;/concept&gt;<br>
   &lt;concept&gt;<br>
      &lt;code value="HM00"/&gt;<br>
      &lt;display value="Homeless"/&gt;<br>
        &lt;concept&gt;&lt;code value="HM01"/&gt;&lt;display value="Rough sleeper"/&gt;&lt;/concept&gt;<br>
        &lt;concept&gt;&lt;code value="HM02"/&gt;&lt;display value="Squatting"/&gt;&lt;/concept&gt;<br>
&lt;/concept&gt;</p>
<p>I then set up a valueSet to query (include) the codeSystem. However, when I expand the valueSet, the codes appear in a flat list, rather then in a nested list as I expected - they appeared like this<br>
    "contains": [<br>
      {<br>
        "system": "<a href="http://fhir.nhs.net/CodeSystem/AccommodationStatusCode" target="_blank" title="http://fhir.nhs.net/CodeSystem/AccommodationStatusCode">http://fhir.nhs.net/CodeSystem/AccommodationStatusCode</a>",<br>
        "code": "MA00",<br>
        "display": "Mainstream Housing"<br>
      },<br>
      {<br>
        "system": "<a href="http://fhir.nhs.net/CodeSystem/AccommodationStatusCode" target="_blank" title="http://fhir.nhs.net/CodeSystem/AccommodationStatusCode">http://fhir.nhs.net/CodeSystem/AccommodationStatusCode</a>",<br>
        "code": "MA01",<br>
        "display": "Owner occupier"<br>
      },<br>
      {<br>
        "system": "<a href="http://fhir.nhs.net/CodeSystem/AccommodationStatusCode" target="_blank" title="http://fhir.nhs.net/CodeSystem/AccommodationStatusCode">http://fhir.nhs.net/CodeSystem/AccommodationStatusCode</a>",<br>
        "code": "MA02",<br>
        "display": "Settled mainstream housing with family/friends"<br>
      },<br>
etc...<br>
Anyone any idea what I'm doing wrong? I need to store and retrieve a list of codes that have a structure (hierarchy) within the codeSystem. <br>
I've tested this on our (NHS) internal STU3 HAPI server, and on the public <a href="http://fhirtest.uhn.ca/" target="_blank" title="http://fhirtest.uhn.ca/">http://fhirtest.uhn.ca/</a> STU3 HAPI server, and get the same results (as above)</p>



<a name="153835950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835950">(Jun 30 2016 at 21:25)</a>:</h4>
<p>what the spec says about this is: </p>



<a name="153835951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835951">(Jun 30 2016 at 21:26)</a>:</h4>
<p>Note that the expansion structure is inherently ordered, and also provides support for a hierarchical tree of items. This specification does not fix the meaning of use of either of these, and the conceptual approach described should not be understood to prohibit any implementation approach in these regards. </p>



<a name="153835952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835952">(Jun 30 2016 at 21:26)</a>:</h4>
<p>you[re not doing anything wrong, just that the servers do not generate heirarchical expansions. </p>



<a name="153835953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835953">(Jun 30 2016 at 21:26)</a>:</h4>
<p>perhaps you could describe why this is important?</p>



<a name="153835954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835954">(Jun 30 2016 at 21:27)</a>:</h4>
<p>*may* not....</p>



<a name="153835955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835955">(Jun 30 2016 at 21:27)</a>:</h4>
<p>we do...</p>



<a name="153835959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835959">(Jun 30 2016 at 21:31)</a>:</h4>
<p>ok, the particular servers referenced don't</p>



<a name="153835988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835988">(Jun 30 2016 at 23:15)</a>:</h4>
<p>is this related to my question about consistent concept representation<br>
?</p>



<a name="153835989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835989">(Jun 30 2016 at 23:22)</a>:</h4>
<p>don't know. what question is that?</p>



<a name="153835990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835990">(Jun 30 2016 at 23:53)</a>:</h4>
<p><a href="https://chat.fhir.org/#narrow/stream/CQL/topic/subsumption.20in.20CQL" target="_blank" title="https://chat.fhir.org/#narrow/stream/CQL/topic/subsumption.20in.20CQL">this one</a></p>



<a name="153835991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835991">(Jun 30 2016 at 23:54)</a>:</h4>
<p>ie "how to represent ideas like asthma and diabetes etc etc in a succinct, standard manner within the text of CQL logic?"</p>



<a name="153835992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835992">(Jun 30 2016 at 23:54)</a>:</h4>
<p>no. I don't think it's releated</p>



<a name="153835993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835993">(Jul 01 2016 at 00:00)</a>:</h4>
<p>you sure? it seems related but I'm possibly confused</p>



<a name="153835994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835994">(Jul 01 2016 at 00:02)</a>:</h4>
<p>distantly related - the question relates to terminology service API, which should underpin CQL terminology usage (but doesn't right now). But CQL fan bois are easily confused...</p>



<a name="153835995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153835995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153835995">(Jul 01 2016 at 00:04)</a>:</h4>
<p>yes apparently - sorry I should have clicke 'more' on Dave's question</p>



<a name="153836035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836035">(Jul 01 2016 at 08:42)</a>:</h4>
<p>[Note  that I've re-posted the original query to the hapi stream for a view from them, so don't get confused that there are 2 threads that look the same]</p>
<p>We are looking to create a value set server to support NHS applications (such as the NHS Data Dictionary). The NHS Data Dictionary contains definitions of data sets that care providers should fill out and return to the "centre" on a regular basis. The level of data captured by care providers varies, some may capture detailed information, others less detailed. <br>
To cater for this (as one example), some of the codeSystem in the NHS Data Dictionary have a high level code, and lower level codes. You return the information at the level your operational system captures. In the example I gave above, the values come from an Accommodation Status data item used in a Young Persons Health Service data set. Some operational systems may capture the fact that a young person is Homeless, whereas other may be more detailed, and capture the fact that the young person sleeps rough. The NHS Data Dictionary codeSystem maintains the fact that sleeping rough is a sub-code of homelessness; so the codeSystem is represented as a hierarchically, generally in the format<br>
High level code<br>
lower level related to high level<br>
lower level related to high level<br>
High level code<br>
lower level related to high level<br>
lower level related to high level</p>
<p>It was my hope that nesting concepts in the codeSystem would maintain this hierarchy, and the high level/ lower level be apparent in the valueSet that includes the codeSystem when expanded.</p>
<p>If it is the intention of valueSets NOT to expand the hierarchy captured in a FHIR codeSystem, what's the point of being able to express a hierarchy in a codeSystem?</p>



<a name="153836049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836049">(Jul 01 2016 at 13:18)</a>:</h4>
<p>heirarchy defines the meaning of the relationships between the terms.</p>



<a name="153836050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836050">(Jul 01 2016 at 13:18)</a>:</h4>
<p>there are ways to use the relationships between the terms without having them be explicit in the value sets. </p>



<a name="153836051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836051">(Jul 01 2016 at 13:19)</a>:</h4>
<p>and using a filter - value set - to consider the relationships between codes is inherently dangerous because concepts may be excluded, and therefore relationships are omitted</p>



<a name="153836052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836052">(Jul 01 2016 at 13:19)</a>:</h4>
<p>most uses of expansions, there's no need for heirachy either. </p>



<a name="153836053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836053">(Jul 01 2016 at 13:20)</a>:</h4>
<p>but since there are some, we define a heirarchical structure</p>



<a name="153836054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836054">(Jul 01 2016 at 13:20)</a>:</h4>
<p>however the challenge of delivering structure correctly while filtering a DAG is considerable, so (a) we have no required this and (b) the open source servers don't do it. </p>



<a name="153836055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836055">(Jul 01 2016 at 13:21)</a>:</h4>
<p>that doesn't mean you can't do it. or that you can't talk to the server maintainers (including me) about doing it</p>



<a name="153836056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836056">(Jul 01 2016 at 13:37)</a>:</h4>
<p>hierarchies are kinda important...</p>



<a name="153836057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836057">(Jul 01 2016 at 13:37)</a>:</h4>
<p>and not really that hard...</p>



<a name="153836058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836058">(Jul 01 2016 at 13:38)</a>:</h4>
<p>just needs an internal ancestor (aka <code>transitive subsumption closure</code>) table - creating that is a 10 line operation</p>



<a name="153836146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836146">(Jul 02 2016 at 04:22)</a>:</h4>
<p><span class="user-mention" data-user-id="192001">@Erich Schulz</span> note that "hierarchy" != "is-a" or subsumption - it may just indicate a useful presentation structure for a pick list</p>



<a name="153836151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836151">(Jul 02 2016 at 08:46)</a>:</h4>
<p>not sure what you are getting at <span class="user-mention" data-user-id="191343">@Michael Lawley</span> ...  my understanding is that hierarchies (either tree or DAG) support both compositional meronies (part-of) and classification taxonomies (is-a) and in order to do clincial logic at scale then subsumption operations are important. From a software algorithm perspective for DAG operations, then regardless of the purity of the semantic links, an ancestor table is the simple solution... and is very simple to implement. Am I missing something?</p>



<a name="153836153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836153">(Jul 02 2016 at 09:31)</a>:</h4>
<p>or do you mean sometime we just need to grab immediate parents/children</p>



<a name="153836164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836164">(Jul 02 2016 at 14:23)</a>:</h4>
<p>hierarchy in a FHIR CodeSystem may be purely presentational and carry no semantics what so ever: "Defines children of a concept to produce a hierarchy of concepts. *The nature of the relationships is variable* (is-a/contains/categorizes) and can only be determined by examining the definitions of the concepts."  You cannot assume that it necessarily conveys any informtion suitable for clinical logic, in the general case.  Naturally some code systems do support this, that depends on teh code system, not the presence of hierarchy (perhaps better termed "nesting"?)</p>



<a name="153836192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836192">(Jul 02 2016 at 23:20)</a>:</h4>
<p>unless you are using a system that tries to use pure semantics</p>



<a name="153836193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836193">(Jul 02 2016 at 23:22)</a>:</h4>
<p>the point being that for clinical logic there is no choice but to rely on hierarchies specified in systems like SNOMED for clinical logic</p>



<a name="153836195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836195">(Jul 02 2016 at 23:25)</a>:</h4>
<p>undoubtedly there will be mortality and morbidity meetings and root-cause analyses where the problems in the ontology contributed to an adverse outcome but that is just another risk to be managed</p>



<a name="153836196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836196">(Jul 02 2016 at 23:26)</a>:</h4>
<p>I say that because I get a sense of this issue being ducked because of the risk</p>



<a name="153836197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836197">(Jul 02 2016 at 23:26)</a>:</h4>
<p>"we cant do that because its not safe"</p>



<a name="153836198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836198">(Jul 02 2016 at 23:27)</a>:</h4>
<p>at some point we're just going to have to suck it up and take a risk</p>



<a name="153836199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836199">(Jul 02 2016 at 23:28)</a>:</h4>
<p>then you are welcome to implement a terminology server that behaves how you think it should be behave. It's not polite to lecture the professional terminology server developers about their choices - especially when you do not understand why they have made them </p>



<a name="153836200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836200">(Jul 02 2016 at 23:32)</a>:</h4>
<p>sorry not meaning to be impolite or lecture</p>



<a name="153836201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836201">(Jul 02 2016 at 23:32)</a>:</h4>
<p>I'm trying to understand what I'm missing and also seeking an answer about the standard method to do this kind of clinical logic</p>



<a name="153836202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836202">(Jul 02 2016 at 23:33)</a>:</h4>
<p>with particular reference to<a href="https://chat.fhir.org/#narrow/stream/CQL/topic/subsumption.20in.20CQL" target="_blank" title="https://chat.fhir.org/#narrow/stream/CQL/topic/subsumption.20in.20CQL">this context</a></p>



<a name="153836204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836204">(Jul 03 2016 at 00:00)</a>:</h4>
<p>if you are filtering and ordering, then it is unclear what a heirarchy means, either algorithmically, or to a consumer. The combination of filtering, ordering, and paging, means that most implementers have just taken it as a flat list, since the use cases for value set do not include reasoning. Code system views are for reasoning. hence we have meaning based queries on code system - lookup, subsumption, and infer.</p>



<a name="153836206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836206">(Jul 03 2016 at 00:18)</a>:</h4>
<p>sorry I'm so ignorant about all this - but to test my understanding of what you are saying: FHIR Codesystem resources support transitive subsumption operations, but not single step tree walk (children, parent(s)) operations? </p>



<a name="153836209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836209">(Jul 03 2016 at 04:11)</a>:</h4>
<p>I guess its worth noting that in both Dave's inititial request and in the clinical logic domain I'm interested in that the hierarchies are classication/is-a based</p>



<a name="153836210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836210">(Jul 03 2016 at 04:16)</a>:</h4>
<p>so even tho there be dragons around edge cases the solutions that are being sought are for bread and butter cases so seems like there ought to be a simple solution for each of our issues</p>



<a name="153836211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836211">(Jul 03 2016 at 04:17)</a>:</h4>
<p>sorry if sound like i'm attempting to teach gran to suck eggs, and if solution is right in front of me...</p>



<a name="153836213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836213">(Jul 03 2016 at 06:12)</a>:</h4>
<p>I think you are largely confused about value set vs code system</p>



<a name="153836216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836216">(Jul 03 2016 at 06:59)</a>:</h4>
<p>ok it maybe better to come back to the requirements...</p>



<a name="153836217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836217">(Jul 03 2016 at 07:09)</a>:</h4>
<p>I'm going to attempt explain them in words that deliberately avoid terms that may have been given another meaning... I think <span class="user-mention" data-user-id="192158">@Dave Barnet</span> is seeking <code>to  put ideas into a hierarchy</code> (REQ1) and then <code>make that hierarchy accessible via some kind of FHIR resource</code> (REQ2).  Slightly related to that is my desire <code>to have a standard, concise syntax to express the idea of a hierarchically defined subset</code> (REQ3 aka <code>the blah.blah.blah problem</code>) in order to use that syntax in CQL shareable knowledge artefacts</p>



<a name="153836252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836252">(Jul 03 2016 at 21:33)</a>:</h4>
<p>perhaps there's a use for an operation on code system that returns a subset of it - e.g. a particular snomed heirarchy. </p>



<a name="153836255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836255">(Jul 03 2016 at 22:21)</a>:</h4>
<p>Would that satisfy a use case that differs from expanding an SCT implicit value set using an is-a filter?</p>



<a name="153836274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836274">(Jul 04 2016 at 02:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191364">@Peter Jordan</span> i think a standard syntax that allowed expression of the idea of "all the is-a descendants of code X" would meet my requirements (REQ3) - I think that Dave is after a subset of the actual relationships (although that is reading between the lines)</p>



<a name="153836275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Erich Schulz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836275">(Jul 04 2016 at 02:56)</a>:</h4>
<p>It did occur to me that if a subset of the a full ancestor table was filtered to only include those links that didn't have a less direct alternative expression then that would meet the need of filtering the hierarchy - that wouldn't be too hard to implement in sql... (delete link A-C where there is a link "A-B" and a link "B-C") - i'm not sure if that is the DAG operation that <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> felt was problematic for implementers </p>



<a name="153836276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Donna Truran <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836276">(Jul 04 2016 at 03:03)</a>:</h4>
<p>(deleted)</p>



<a name="153836291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836291">(Jul 04 2016 at 11:12)</a>:</h4>
<p>I'll try and restate the requirement, this time avoiding the word "hierarchy". I enter concepts into a codeSystem that are nested (codeSystem allows you to do this), I then create a valueSet which includes the codeSystem. How do I retrieve the concepts and still have the nesting maintained? <br>
If I do a GET (something like [base]/ValueSet/150/$expand - where 150 is the value set that includes the nested codeSystem) I get back a flat list of concepts.</p>



<a name="153836299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Naminder Soorma <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836299">(Jul 04 2016 at 12:59)</a>:</h4>
<p>Hi All, I'm working with Dave Barnet on this one. My question: is the Expansion Profile linked to this in any way? I realise that CodeSystem came after ValueSet and Expansion Profile so has the CodeSystem replaced elements of the original functionality held in ValueSet and Expansion profile. The CodeSystem concepts seem to repeat in the ValueSet profile. It would be a good idea to maybe show the deprecated values in ValueSet that are now covered in CodeSystem.</p>



<a name="153836310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836310">(Jul 04 2016 at 21:57)</a>:</h4>
<p>there's no things in value set that are deprecated and covered in value set. They do have overlap but the content that appear in both has different purposes</p>



<a name="153836311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836311">(Jul 04 2016 at 21:58)</a>:</h4>
<p><span class="user-mention" data-user-id="192158">@Dave Barnet</span> you still haven't said what you are actually trying to achieve. But yes, see ExpansionProfile.excludeNested</p>



<a name="153836321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836321">(Jul 04 2016 at 22:38)</a>:</h4>
<p>Hey all. Back from family time and doing some perusing... I would expect that there would be a way of using the expand to get the identified value set concepts and then determine the hierarchy by obtaining the hierarchy structure from the code system. Is that what happens? Perhaps a special way of using expand that gets the hierarchy in addition to the value set expansion set.</p>



<a name="153836371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153836371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Barnet <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153836371">(Jul 05 2016 at 09:14)</a>:</h4>
<p>See the thread on the hapi stream for more detail on what we are trying to achieve. ( <a href="https://chat.fhir.org/#narrow/stream/hapi/subject/codeSystem.20.26.20valueSet.20(STU3)" target="_blank" title="https://chat.fhir.org/#narrow/stream/hapi/subject/codeSystem.20.26.20valueSet.20(STU3)">https://chat.fhir.org/#narrow/stream/hapi/subject/codeSystem.20.26.20valueSet.20(STU3)</a> )</p>



<a name="153839568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153839568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153839568">(Jul 19 2016 at 00:47)</a>:</h4>
<p>Can I validate my understanding of an implicit ValueSet. <br>
If I have a CodeSystem and I require a ValueSet that contains all codes from the given CodeSystem. Then it is my understanding that I am not required to create a ValueSet resource instance, rather I can set the ‘valueSet’ property of my CodeSystem resource to a canonical URL that represents the CodeSystem’s implicit ValueSet. On expansion of this valueSet canonical URL, a terminology server using only the CodeSystem resource instance would construct the required ValueSet expansion.<br>
Is this correct?<br>
Should I creates a ValueSet instance regardless of this functionality?<br>
If I was how would I select all code from the CodeSystem without listing them off in the ‘include’ element.</p>



<a name="153839570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153839570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153839570">(Jul 19 2016 at 00:51)</a>:</h4>
<p>I believe you still need to define the value set (though you could generate it programatically on the fly and not actually persist it).  The purpose of the link is to just make it easy to find the "value set of everything"</p>



<a name="153839575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153839575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153839575">(Jul 19 2016 at 01:09)</a>:</h4>
<p>So If I was to create a ValueSet that includes all codes from the CodeSystem then how to I select all codes in a dynamic fashion. I don’t want to statically list the codes off in the ‘include’ element. How do I set a filter to capture all codes? This is a simple CodeSystem with no Parent / Child hierarchy. </p>



<a name="153839576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153839576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153839576">(Jul 19 2016 at 01:17)</a>:</h4>
<p>You don't specify a filter at all.  If you define a value set referencing the system with no filter or enumeration of codes, then you get all of the codes</p>



<a name="153839577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153839577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153839577">(Jul 19 2016 at 01:18)</a>:</h4>
<p>Arh, yes! Thanks you Lloyd. </p>



<a name="153839580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153839580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153839580">(Jul 19 2016 at 01:20)</a>:</h4>
<p>in Ontoserver, if you put a uri in the CodeSystem.valueSet property, then there will  be an (implicit) ValueSet with that uri</p>



<a name="153839582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/codeSystem%20%26%20valueSet%20%28STU3%29/near/153839582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angus Millar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/codeSystem.20.26.20valueSet.20(STU3).html#153839582">(Jul 19 2016 at 01:21)</a>:</h4>
<p>Yes Jim I understood that but thought for simplicity for users that a ValueSet instance helps.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
