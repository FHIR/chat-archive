---
layout: page
title: "FHIR Chat  · Identity stability / persistence · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html">Identity stability / persistence</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153886119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Identity%20stability%20/%20persistence/near/153886119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html#153886119">(Apr 26 2017 at 11:00)</a>:</h4>
<p>Hi, I have some concerns about the stability of references using URL-based identifiers. My worry is that over time, as systems are upgraded or replaced with competing products but resources are migrated to the replacement system, the URL that makes up the identity will become stale. Also, changes in network naming policy, splitting machines for load balancing, or similar might cause the server part of the identity to change.</p>
<p>Ideally I would have preferred if the identity was more like a URN, i.e. retains the same name regardless of the where it is physically stored. Then I could use a directory to determine where to find a particular resource.</p>
<p>Are there any thoughts / guidance / recommendations concerning this? Is it required that an identity's URL goes to a physical machine, or could it be used more like an XML namespace?</p>



<a name="153886125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Identity%20stability%20/%20persistence/near/153886125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html#153886125">(Apr 26 2017 at 11:22)</a>:</h4>
<p>The expectation is that the URL resolve.  The whole point is that a server with a reference can execute a GET against that reference.  The ecosystem is such that it wouldn't be obvious to a lot of clients what servers to look at to resolve a URN.  It's certainly possible that, in time, a referenced resource may "go away", but HTTP provides redirects and other mechanisms to make load balancing transparent to clients.  Servers absolutely need to be aware of the impact of changing their base URL on interoperability - and try hard to avoid doing that.  If you think stronger guidance is needed in the specification, feel free to submit a change request.</p>



<a name="153886126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Identity%20stability%20/%20persistence/near/153886126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html#153886126">(Apr 26 2017 at 11:26)</a>:</h4>
<p>OK, thanks. I wouldn't consider it part of the specification per se, but "best practice" perhaps. As such it can be documented anywhere really as long as Google will find it. :)</p>



<a name="153886131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Identity%20stability%20/%20persistence/near/153886131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html#153886131">(Apr 26 2017 at 12:10)</a>:</h4>
<p>You can use URN identifiers in the Patient.identifier; and do just what you describe...</p>



<a name="153886133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Identity%20stability%20/%20persistence/near/153886133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html#153886133">(Apr 26 2017 at 12:19)</a>:</h4>
<p>Hmm, indeed. But on <a href="http://www.hl7.org/fhir/managing.html" target="_blank" title="http://www.hl7.org/fhir/managing.html">http://www.hl7.org/fhir/managing.html</a> it seems that the canonical identity is a URL. When does that apply in practice?</p>



<a name="153886136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Identity%20stability%20/%20persistence/near/153886136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html#153886136">(Apr 26 2017 at 12:23)</a>:</h4>
<p>I understood your interest in using URI vs URL; as being a client side or remote app interest... I would expect that a REST server will have appropriate management to always keep internally consistent. Keeping internally consistent for a server is not hard. The breakage of URL vs URI is caused by two distinct systems drifting over time. That can be managed using business identifier, vs resource ID.</p>



<a name="153886138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Identity%20stability%20/%20persistence/near/153886138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mattias Flodin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html#153886138">(Apr 26 2017 at 12:36)</a>:</h4>
<p>I'm building a hub to act as a facade for potentially hundreds of systems, for integration purposes, and I'm trying to base it on the FHIR data model. For me the main challenge is to route an incoming request for a resource to the appropriate subsystem, based on its identity. So I'm trying to understand the identity model in order to figure out ways to reduce the complexity of the task.</p>



<a name="153886141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Identity%20stability%20/%20persistence/near/153886141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Identity.20stability.20.2F.20persistence.html#153886141">(Apr 26 2017 at 12:53)</a>:</h4>
<p>okay. so it is useful for you to understand the difference intended between .identifier in FHIR as the 'business' identifier, vs all the URL stuff. </p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
