---
layout: page
title: "FHIR Chat  · Use of FHIR resources in a non-FHIR API · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html">Use of FHIR resources in a non-FHIR API</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="182136503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182136503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182136503">(Nov 28 2019 at 21:22)</a>:</h4>
<p>We have two sibling APIs - one FHIR-conformant, and one non-FHIR (returns mimetype=application/pdf). Their request input parameters are identical, so we plan to re-use the same FHIR resources for the non-FHIR API, simply as json, The non-FHIR API will be at a separate endpoint, and will not claim FHIR-conformance. Is there anything preventing us from using this approach (aside from being slightly unsightly)? This simplifies the transactions for our implementers -- just pass the same input to both endpoints, rather than stripping the FHIR structure for the non-FHIR API call.</p>



<a name="182136580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182136580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182136580">(Nov 28 2019 at 21:24)</a>:</h4>
<p>As a follow-up question, would the use of error code "422 - FHIR Validation Error" for the non-FHIR API be wrong (i.e. breaking terms of use of FHIR), or just simply confusing?</p>



<a name="182137241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182137241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182137241">(Nov 28 2019 at 21:39)</a>:</h4>
<p>neither would be wrong, just potentially confusin.</p>



<a name="182137302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182137302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182137302">(Nov 28 2019 at 21:40)</a>:</h4>
<p>but note that if your FHIR end-point returned application/pdf on request, that would be perfectly conformant. you don't need a different end-point for that</p>



<a name="182137758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182137758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182137758">(Nov 28 2019 at 21:52)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> . For business purposes, we need to call and resolve the PDF-endpoint before calling the FHIR-endpoint, both passing in a Consent Resource, so we can't return the PDF as part of the FHIR-endpoint response. We considered using a custom $operation, but can a FHIR $operation return an application/pdf as a response, without any additional FHIR wrappers? We didn't think the response type could be application/pdf on its own, and that it needed a DocumentReference or something other FHIR wrapper/redirection.</p>



<a name="182138245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182138245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182138245">(Nov 28 2019 at 22:06)</a>:</h4>
<blockquote>
<p>We didn't think the response type could be application/pdf on its own</p>
</blockquote>
<p>If the client asked for it, it could be, I think. FHIR only sets expected responses for the FHIR meida types. Other media types are considered outside the spec</p>



<a name="182140131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182140131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182140131">(Nov 28 2019 at 22:57)</a>:</h4>
<p>Interesting. Can a FHIR $operation only support Accept headers of application/pdf and nothing else?</p>



<a name="182140188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182140188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182140188">(Nov 28 2019 at 22:58)</a>:</h4>
<p>I don't think we've discussed that. But an end-point that only works for non-FHIR media types and isn't declared in the capability statement is not a FHIR end point and so is not subject to any considerations of conformance</p>



<a name="182140189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182140189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182140189">(Nov 28 2019 at 22:58)</a>:</h4>
<p>I think</p>



<a name="182140714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182140714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182140714">(Nov 28 2019 at 23:14)</a>:</h4>
<p>This proposed endpoint would have an OperationDefinition resource, so it could be declared in the CapabilityStatement.rest.resource.operation; however, there isn't any place to document that there is only support of an application/pdf type.  There's CapabilityStatement.format which doesn't distinguish (at least not in the current description) whether this is the supported formats of the request, or the format of the response. (Additionally, there is no way to define separate supported formats for different restful interactions under the single CapabilityStatement for this endpoint.)</p>



<a name="182141202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182141202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182141202">(Nov 28 2019 at 23:30)</a>:</h4>
<p>no you've moved into an area that we've not covered</p>



<a name="182141273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182141273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182141273">(Nov 28 2019 at 23:32)</a>:</h4>
<p>Thank you for your responses! Are there any plans to look at this kind of use case?</p>



<a name="182141348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/182141348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#182141348">(Nov 28 2019 at 23:35)</a>:</h4>
<p>no particular plans unless people ask. And here you are asking. though where we go from here, I'm not sure. has anyone elese run into this situation before?</p>



<a name="187069836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Use%20of%20FHIR%20resources%20in%20a%20non-FHIR%20API/near/187069836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Use.20of.20FHIR.20resources.20in.20a.20non-FHIR.20API.html#187069836">(Jan 31 2020 at 09:59)</a>:</h4>
<p>That could be a binary resource result, which could then do that sort of thing?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
