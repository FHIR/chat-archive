---
layout: page
title: "FHIR Chat  · Appointment start/end · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html">Appointment start/end</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153885490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/153885490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Spencer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#153885490">(Apr 21 2017 at 15:13)</a>:</h4>
<p>instant seems like an odd data type for Appointment start/end, they're 'human times' rather than 'system times'<br>
unless I've misunderstood and they're intended to be filled in automatically when a patient arrives/leaves?</p>



<a name="153885493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/153885493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#153885493">(Apr 21 2017 at 15:30)</a>:</h4>
<p>Feel free to submit a change request.  I agree that expecting systems to capture down to the second seems a little odd</p>



<a name="153886059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/153886059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#153886059">(Apr 26 2017 at 02:56)</a>:</h4>
<p>Instant as a datatype is the appropriate one.<br>
Appointments require the time (and zone) that the appointment is to start/end.<br>
Using the datetime datatype would then mean we'd need to profile it to require the time, which is what the instant datatype is.<br>
If a user interface wants to only display a portion of the data, that's also fine, but note that you should always have the timezone information there.<br>
If you don't know the times, then leave the start/end blank, use a status of proposed, and put the requested dates in the requestedPeriod field (along with the required duration)</p>



<a name="229861827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229861827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229861827">(Mar 11 2021 at 14:58)</a>:</h4>
<p>Need to record historical information for an Appointment - start/end times are available, but not the timezone, and the dataset is worldwide.</p>
<p>Can either:<br>
1) not populate <code>start</code>/<code>end</code>, add nullFlavour <code>invalid</code>, use extensions with <code>dateTime</code>s recording the times<br>
2) assume UTC and populate with that, use a new extension to specify that the timezone was assumed</p>
<p>What's the lesser evil?</p>
<p>(1) would severely hamper structural interoperability, (2) would be smudging on semantic interoperability.</p>



<a name="229862598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229862598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229862598">(Mar 11 2021 at 15:01)</a>:</h4>
<p>The timezone offset is not enough?</p>



<a name="229870553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229870553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229870553">(Mar 11 2021 at 15:46)</a>:</h4>
<p>The timezone offset is unknown</p>



<a name="229871672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229871672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229871672">(Mar 11 2021 at 15:53)</a>:</h4>
<p>So you know the appointment ran from 15:00 to 15:30, but not if it was Eastern, Pacific or Zulu?  That's a really good question.  From a historical perspective, you probably don't care or a human can infer "close enough" by associated location information, time of year, etc.  Realistically, we need to come up with a generic solution to convey "Timezone is unknown".  Can you submit a change request for this?  My current leaning is to put an extension on dateTime that allows conveying a 'time' (with no offset).  When the timezone is unknown, you'd convey the dateTime just to the 'date' level of precision and send the time in an extension.  Still 'mostly' computable - and as computable is reasonably safe, while retaining the time information and potentially allowing it for human display.</p>



<a name="229874218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229874218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229874218">(Mar 11 2021 at 16:03)</a>:</h4>
<p>Sorry, I misunderstood the question, now I get it</p>



<a name="229922891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229922891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229922891">(Mar 11 2021 at 20:46)</a>:</h4>
<p>Wouldn't it just be easier to take the hit on validation and assign it to "historical data" than to come up with a convoluted process to circumvent the rule that all times have offsets? Specify the date/time in X, unless you don't know the offset, in which case specify flag Z put the date in X and the time in Y. Then the recipient of it has to say If I see flag Z then get the date from X and the time from Y and the recipient has to make some decision as to what offset do WE think the value should be and they are at least 1 more degree away from the source. </p>
<p>Or the source could say, "By rule, any timestamp in our system that does not have an offset is understood to be Zulu." Problem solved. There is now an offset for every timestamp (by literal or by rule).</p>



<a name="229929144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229929144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229929144">(Mar 11 2021 at 21:28)</a>:</h4>
<p>Zulu time means zulu time - it does <em>not</em> mean unknown timezone and it's not conformant to use it for that purpose.  If you make the determination that it is safe for all purposes to treat the time as if it was zulu when it's unknown, then you can choose to do so, but any consumers will be expected to treat the data as if that's the right timezone.</p>



<a name="229932950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229932950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229932950">(Mar 11 2021 at 21:52)</a>:</h4>
<p>The FHIR spec requires the offset. If the reality is that offset often isn't known, then creating a dodge to avoid having to specify the offset in FHIR could be easier solved with changing the field type that doesn't require offset or the definition of type. </p>
<p>What's next, FHIR requires you to have a code, but if you don't then put this other thing over here instead with this flag that will allow you to pass validation without the required code. FHIR requires a string value, but if you don't have one put in NMI to pass validation and we'll document that NMI means "not known".  When the spec requires data to be conformant there are 3 choices, change the spec so that the actual data is conformant, change the data to be conformant, ignore the conformant violations.</p>
<p>As you can probably tell from this and previous thread, I don't care for the idea that data which was collected prior to current requirements has to meet  those requirements. My system is capable of meeting the requirements when the data is available, if some auditor fails my system because I didn't record the offset on a transaction that happened 10 years ago... Ding they are all zulu, pass! (Prove to me they are not.)</p>



<a name="229934981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229934981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229934981">(Mar 11 2021 at 22:02)</a>:</h4>
<p>At this point, dateTime is normative, so we can't relax the constraint on offset being mandatory with time.  (Once a part of the spec goes normative, breaking changes aren't allowed - that has benefits, but there are obviously costs.)  Nor can we assign it a meaning other than what it has.  The only 'dodge' available is the use of extensions.  We can't have modifier extensions on data types, and an extension that says "the offset specified isn't actually the offset" would be a modifier.  That then leaves the only solution being "don't send the time and offset and instead convey the time without an offset in an extension".</p>
<p>You're certainly free to mark stuff as Zulu if you wish.  But you <em>can't</em> say in an implementation guide "if you see Zulu, it doesn't actually mean Zulu, it means time offset unknown".  Or more specifically, you can't claim that the IG is FHIR-conformant if you do.</p>



<a name="229935887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229935887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229935887">(Mar 11 2021 at 22:06)</a>:</h4>
<p>What about putting a 'best effort' offset in (e.g., based on the location of the server/client/whatever), and then an extension flagging that the time offset is 'unconfirmed' or some such?</p>
<p>Curious if that would be a) allowed and b) satisfactory.</p>



<a name="229939638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229939638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229939638">(Mar 11 2021 at 22:26)</a>:</h4>
<p>"unconfirmed" wouldn't be a modifier, so yes that would fly.  And if you knew it was North America, defaulting to Central or Eastern would mean, on average, you wouldn't be off my much.  That'd be better than defaulting to Zulu, though if your data was global, Zulu might be the best you could do.</p>



<a name="229991874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/229991874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#229991874">(Mar 12 2021 at 08:20)</a>:</h4>
<p>Sounds like we're leaning towards the (2) solution. I didn't see an available extension for this and I imagine another system importing historical data running into this constraint - I'll file a ticket.</p>



<a name="230748071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Appointment%20start/end/near/230748071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Appointment.20start.2Fend.html#230748071">(Mar 17 2021 at 18:59)</a>:</h4>
<p>I would not serverside be guessing about the timezone. I would leave such fuzzyness for clients. I agree with <span class="user-mention" data-user-id="222054">@Gino Canessa</span> and you might even consider making this a standardized extension if it is a common case</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
