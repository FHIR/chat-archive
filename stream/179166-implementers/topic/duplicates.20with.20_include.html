---
layout: page
title: "FHIR Chat  · duplicates with _include · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/duplicates.20with.20_include.html">duplicates with _include</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="268740568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/duplicates%20with%20_include/near/268740568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caitlin Voegele <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/duplicates.20with.20_include.html#268740568">(Jan 20 2022 at 18:56)</a>:</h4>
<p>When using _include in search, is there a place in the spec that specifies that a single resource shouldn't be returned twice as "matched" and "included" in the search results? If you only have one returned, what should the search be ("matched" or "included") on the resource?</p>



<a name="268741085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/duplicates%20with%20_include/near/268741085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/duplicates.20with.20_include.html#268741085">(Jan 20 2022 at 19:00)</a>:</h4>
<p>I don't know of a place that it is specified cleanly, but the <a href="http://hl7.org/fhir/bundle.html#invs">Constraints</a> on bundle include a combination of rules that I believe force it:</p>
<ul>
<li><code>fullUrl</code> must be unique</li>
<li><code>fullUrl</code> cannot be version specific</li>
</ul>
<p>In the comments for <a href="http://hl7.org/fhir/bundle-definitions.html#Bundle.entry.search.mode">Bundle.entry.search.mode</a>, there is the line:</p>
<blockquote>
<p>There is only one mode. In some corner cases, a resource may be included because it is both a match and an include. In these circumstances, 'match' takes precedence.</p>
</blockquote>
<p>So, while well-hidden, <code>match</code> takes priority.</p>



<a name="268741824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/duplicates%20with%20_include/near/268741824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Caitlin Voegele <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/duplicates.20with.20_include.html#268741824">(Jan 20 2022 at 19:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="222054">Gino Canessa</span> <a href="#narrow/stream/179166-implementers/topic/duplicates.20with.20_include/near/268741085">said</a>:</p>
<blockquote>
<p>I don't know of a place that it is specified cleanly, but the <a href="http://hl7.org/fhir/bundle.html#invs">Constraints</a> on bundle include a combination of rules that I believe force it:</p>
<ul>
<li><code>fullUrl</code> must be unique</li>
<li><code>fullUrl</code> cannot be version specific</li>
</ul>
<p>In the comments for <a href="http://hl7.org/fhir/bundle-definitions.html#Bundle.entry.search.mode">Bundle.entry.search.mode</a>, there is the line:</p>
<blockquote>
<p>There is only one mode. In some corner cases, a resource may be included because it is both a match and an include. In these circumstances, 'match' takes precedence.</p>
</blockquote>
<p>So, while well-hidden, <code>match</code> takes priority.</p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="222054">@Gino Canessa</span> !</p>



<a name="268743456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/duplicates%20with%20_include/near/268743456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/duplicates.20with.20_include.html#268743456">(Jan 20 2022 at 19:18)</a>:</h4>
<p>Although, it might be included as a match on one page, and an include on another page of the search.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
