---
layout: page
title: "FHIR Chat  · how should duplicate mappings in diff be handled? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/how.20should.20duplicate.20mappings.20in.20diff.20be.20handled.3F.html">how should duplicate mappings in diff be handled?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="263219321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/how%20should%20duplicate%20mappings%20in%20diff%20be%20handled%3F/near/263219321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/how.20should.20duplicate.20mappings.20in.20diff.20be.20handled.3F.html#263219321">(Nov 30 2021 at 22:38)</a>:</h4>
<p>For US Core Organization I had a redundant mapping and it resulted in a repeated mapping in the snapshot.... apparently this is a feature but should it be?  (It's currently not prohibited to have more than one mapping to the same source.) Should mappings in a differential override or add?  Would like this to be explicitly documented whatever is decided.</p>
<div class="codehilite" data-code-language="YAML"><pre><span></span><code><span class="c1"># ==== US Core Organization profile snapshot for Organization.identifier element =====</span>
      <span class="nt">mustSupport</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">isModifier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
      <span class="nt">isSummary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">mapping</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">identity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">w5</span>
          <span class="nt">map</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">FiveWs.identifier</span>
        <span class="p p-Indicator">-</span> <span class="nt">identity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v2</span>
          <span class="nt">map</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">XON.10 / XON.3</span>
        <span class="p p-Indicator">-</span> <span class="nt">identity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rim</span>
          <span class="nt">map</span><span class="p">:</span> <span class="s">'.scopes[Role](classCode=IDENT)'</span>
        <span class="p p-Indicator">-</span> <span class="nt">identity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">servd</span> <span class="c1">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Repeats !</span>
          <span class="nt">map</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./Identifiers</span>
        <span class="p p-Indicator">-</span> <span class="nt">identity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">servd</span> <span class="c1">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Repeats !</span>
          <span class="nt">map</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">n/a</span>
   <span class=" -Error"> </span><span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Organization.identifier.id</span>
      <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Organization.identifier.id</span>
<span class="c1">#...</span>
<span class="c1"># ==== US Core Organization profile diff for Organization.identifier element =====</span>
  <span class=" -Error"> </span><span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Organization.identifier</span>
      <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Organization.identifier</span>
      <span class="l l-Scalar l-Scalar-Plain">slicing</span><span class="p p-Indicator">:</span>
        <span class="nt">discriminator</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pattern</span>
            <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$this</span>
        <span class="nt">rules</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">open</span>
     <span class=" -Error"> </span><span class="nt">comment</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NPI preferred.</span>
      <span class="nt">mustSupport</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">mapping</span><span class="p">:</span>  <span class="c1">#&lt;&lt;&lt;&lt;&lt;&lt; redundant mapping in the diff</span>
        <span class="p p-Indicator">-</span> <span class="nt">identity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">servd</span>
          <span class="nt">map</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">n/a</span>
<span class="c1"># ....</span>
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
