---
layout: page
title: "FHIR Chat  · Unicode Regex Question · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html">Unicode Regex Question</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153979003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979003">(Jul 29 2018 at 01:50)</a>:</h4>
<p>I'm trying to improve the string regex. For the non-unicode characters, this is the correct regex:</p>



<a name="153979004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979004">(Jul 29 2018 at 01:50)</a>:</h4>
<div class="codehilite"><pre><span></span>[\S\r\n\t ]*
</pre></div>



<a name="153979005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979005">(Jul 29 2018 at 01:51)</a>:</h4>
<p>that is, any character, or end of line or tab or space</p>



<a name="153979006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979006">(Jul 29 2018 at 01:52)</a>:</h4>
<p>but I can't be convinced from reading the doco what that means for unicode whitespace characters</p>



<a name="153979007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979007">(Jul 29 2018 at 01:52)</a>:</h4>
<p>maybe this is better:</p>



<a name="153979008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979008">(Jul 29 2018 at 01:53)</a>:</h4>
<div class="codehilite"><pre><span></span>[\r\n\t\x{0020}-\x{FFFF}]*
</pre></div>



<a name="153979009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979009">(Jul 29 2018 at 01:53)</a>:</h4>
<p>or</p>



<a name="153979010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979010">(Jul 29 2018 at 01:53)</a>:</h4>
<div class="codehilite"><pre><span></span>[\r\n\t\u0020-\uFFFF]*
</pre></div>



<a name="153979011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979011">(Jul 29 2018 at 01:53)</a>:</h4>
<p>depending your flavor.... ;-(</p>



<a name="153979012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979012">(Jul 29 2018 at 01:54)</a>:</h4>
<p>I think that the latter is the intent, but is there a correct standard syntax?</p>



<a name="153979013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979013">(Jul 29 2018 at 01:54)</a>:</h4>
<p>all very messy....</p>



<a name="153979326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979326">(Jul 30 2018 at 09:33)</a>:</h4>
<p>According to the dotNET documentation, <code>\S</code> (non-whitespace) is a shortcut for <code>[^\f\n\r\t\v\x85\p{Z}]</code>where `\p{Z}' represents a Unicode block/category that "matches any separator character":<br>
<a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions#non-white-space-character-s" target="_blank" title="https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions#non-white-space-character-s">https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions#non-white-space-character-s</a></p>



<a name="153979334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979334">(Jul 30 2018 at 10:33)</a>:</h4>
<p>\x85? weird</p>



<a name="153979335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979335">(Jul 30 2018 at 10:33)</a>:</h4>
<p>does that help though?</p>



<a name="153979337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979337">(Jul 30 2018 at 11:03)</a>:</h4>
<p>According to MSDN, <code>\x85</code> represents "The ellipsis or NEXT LINE (NEL) character (…), \u0085.":<br>
<a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions" target="_blank" title="https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions">https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions</a></p>



<a name="153979338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979338">(Jul 30 2018 at 11:04)</a>:</h4>
<p>Never encountered this one in the wild</p>



<a name="153979492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979492">(Jul 30 2018 at 17:37)</a>:</h4>
<p>What about for non- dotNet implementations of RegEx parsers?   This website has a RegEx tester (<a href="https://regex101.com/" target="_blank" title="https://regex101.com/">https://regex101.com/</a> ) and they list \s as:<br>
\s matches any whitespace character (equal to [\r\n\t\f\v ])</p>
<p>[The ellipsis might be auto-generated by MS-Word when you type three '.' together; I think Word does something similar when you use single quotes, it turns them into left apostrophe and right apostrophe.]</p>



<a name="153979516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979516">(Jul 30 2018 at 18:39)</a>:</h4>
<p>so it seems to me that regex is just basically broken when it comes to unicode.</p>



<a name="153979522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979522">(Jul 30 2018 at 18:53)</a>:</h4>
<p>Not sure that's true -- some simple Google searches seem to indicate there is more RegEx Unicode support than we typically think of (or have to deal with).   </p>
<p>This MS page talks about the difference between how .NET and JavaScript (ECMAScript) handle \s:<br>
<a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions#white-space-character-s" target="_blank" title="https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions#white-space-character-s">https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions#white-space-character-s</a></p>
<p>If ECMAScript-compliant behavior is specified, \s is equivalent to [ \f\n\r\t\v]. For information on ECMAScript regular expressions, see the "ECMAScript Matching Behavior" section in Regular Expression Options.</p>
<p>Then there's this page that talks about a bunch of 'fancy' RegEx patterns for Unicode support:</p>
<p><a href="https://www.regular-expressions.info/unicode.html" target="_blank" title="https://www.regular-expressions.info/unicode.html">https://www.regular-expressions.info/unicode.html</a></p>
<p>Then the question becomes; how much Unicode RegEx support does FHIR (or FHIR test servers) want/need to support?</p>



<a name="153979524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979524">(Jul 30 2018 at 18:56)</a>:</h4>
<p>so it appears to me that the implementations are split between \p and \x</p>



<a name="153979525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unicode%20Regex%20Question/near/153979525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unicode.20Regex.20Question.html#153979525">(Jul 30 2018 at 18:56)</a>:</h4>
<p>and the specific question is this particular regex, not a general question</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
