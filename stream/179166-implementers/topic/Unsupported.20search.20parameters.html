---
layout: page
title: "FHIR Chat  · Unsupported search parameters · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html">Unsupported search parameters</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153826697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Heath Frankel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826697">(May 11 2016 at 03:13)</a>:</h4>
<p>The specification is clear that unsupported search parameter modifiers should be rejected, but I couldn't find any guidance about unsupported search parameters. Should unsupported search parameters result in the request being rejected or is the parameter ignored and the result returned as though the parameter was not provided?</p>



<a name="153826698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826698">(May 11 2016 at 03:21)</a>:</h4>
<p>Unsupported search parameters are ignored.  You echo back what search parameters you actually use in the location header</p>



<a name="153826699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826699">(May 11 2016 at 03:21)</a>:</h4>
<p><a href="http://hl7-fhir.github.io/compatibility.html#1.10.3" target="_blank" title="http://hl7-fhir.github.io/compatibility.html#1.10.3">http://hl7-fhir.github.io/compatibility.html#1.10.3</a></p>



<a name="153826701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826701">(May 11 2016 at 03:22)</a>:</h4>
<p>In theory, we specify that:</p>
<blockquote>
<p>Unrecognized search criteria SHALL always be ignored</p>
</blockquote>
<p>In practice some popular servers don't find this approach palatable.</p>



<a name="153826702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826702">(May 11 2016 at 03:23)</a>:</h4>
<p>Also, the only way I was able to find that quote was by knowing it existed and googling carefully. It's totally undiscoverable information.</p>



<a name="153826703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826703">(May 11 2016 at 03:24)</a>:</h4>
<p>On <code>search.html</code> we say:</p>
<blockquote>
<p>server SHALL reject any search request that contains is suffixed by a modifier that the server does not support</p>
</blockquote>
<p>but we say nothing about "unrecognized search criteria".</p>



<a name="153826710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Heath Frankel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826710">(May 11 2016 at 03:52)</a>:</h4>
<p>Glad to know I wasn't the only one that couldn't find it. I had a feeling I had read it before but couldn't find it when I reread looking for it again.</p>



<a name="153826748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826748">(May 11 2016 at 10:43)</a>:</h4>
<p>what we specifically say is that don't reject a search because of unknown url parameters. </p>



<a name="153826749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826749">(May 11 2016 at 10:44)</a>:</h4>
<p>we do not make any rules about recognised but unsupported search parameters. A server can ignore them, return a bigger result set than expected, and let the client now in the _self link. or it can refuse to perform the search. </p>



<a name="153826750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826750">(May 11 2016 at 10:44)</a>:</h4>
<p>I do not think that forcing all servers to do one or the other is a good thing</p>



<a name="153826751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826751">(May 11 2016 at 10:44)</a>:</h4>
<p>(deleted)</p>



<a name="153826775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826775">(May 11 2016 at 11:51)</a>:</h4>
<p>I agree strongly.  :)</p>



<a name="153826779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826779">(May 11 2016 at 12:15)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9985" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9985">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9985</a></p>



<a name="153826969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Moore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826969">(May 11 2016 at 18:03)</a>:</h4>
<p>After talking with <span class="user-mention" data-user-id="191936">@Michael Donnelly</span>  for a bit in the real world, I would say that I'm more in favor of at minimum specifying the servers SHOULD ignore these parameters rather than return an error. From a client perspective, allowing servers to error on unsupported search parameters means that clients need to bake in behavior to avoid errors emitted from servers due to differing search parameter support. by saying servers should ignore, the likely case is that clients will get additional data back that they did not expect, and good clients will filter themselves anyway.</p>



<a name="153826970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Moore <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826970">(May 11 2016 at 18:04)</a>:</h4>
<p>Ignoring the parameters seems far more likely to allow clients to work across server implementations</p>



<a name="153826993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153826993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153826993">(May 11 2016 at 18:40)</a>:</h4>
<p>I continue to be surprised that so many people would want servers to more-or-less silently ignore search parameters they don't understand. I mean yeah, you can figure it out by examining the self link, but the behaviour "you asked for X but I'm going to give you Y instead because I don't understand X" just seems to me like a recipe for bugs (at best), or just plain unsafe at worst.</p>
<p>Ultimately I'm glad we're in agreement that this should not be prescriptive on the part of FHIR. I guess this should really be configurable in HAPI.</p>



<a name="153827007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827007">(May 11 2016 at 19:20)</a>:</h4>
<p>I agree with <span class="user-mention" data-user-id="191319">@James Agnew</span> -- it's dangerous for a server to return an answer that is not for the question it was asked.  I think that in something as life-and-death as healthcare, we should not design on the assumption that clients will employ well-written, defensive code.  &lt;horrible-analogy&gt; Sam has a gluten allergy.  Sam goes to the store and buys a box of cookies from the "gluten-free" aisle.  He eats them and gets sick.  When he complains to the store, they tell him that even though the cookies were in the gluten-free aisle, it's his fault because he should have read the ingredients label. &lt;/horrible-analogy&gt;.  Aren't supported search params part of the conformance statement?  If so, then the "good clients" should already know not to issue the search anyway -- and the "not-so-good clients" will get the error they deserve (and that won't harm anyone).</p>



<a name="153827008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827008">(May 11 2016 at 19:25)</a>:</h4>
<p>I think this is recognition that in REST a query is an ask of the server to do the best job it can to find the results, and not an expectation that the query is a perfect query that produced absolute results.</p>



<a name="153827010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827010">(May 11 2016 at 19:27)</a>:</h4>
<p>Where does that principle come from?</p>



<a name="153827012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827012">(May 11 2016 at 19:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> - This is the behavior of every website that I can think of when I pass it a query parameter that it doesn't understand. It just ignores it because it isn't looking for that particular param. Eg: <a href="http://www.google.com/search?btnG=1&amp;pws=0&amp;q=fhir&amp;unknownParameter=foo" target="_blank" title="http://www.google.com/search?btnG=1&amp;pws=0&amp;q=fhir&amp;unknownParameter=foo">http://www.google.com/search?btnG=1&amp;pws=0&amp;q=fhir&amp;unknownParameter=foo</a></p>



<a name="153827016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827016">(May 11 2016 at 19:37)</a>:</h4>
<p>I feel like using how websites work isn't the best way of informing our choices..... I mean, google's homepage isn't a REST API, it's a website. They want to maximize eyeballs on their page, not maximize safe use of their data.</p>



<a name="153827021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827021">(May 11 2016 at 19:39)</a>:</h4>
<p>Well, that is what REST is -- the web.</p>



<a name="153827024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827024">(May 11 2016 at 19:40)</a>:</h4>
<p>Part of the reasoning for using REST (and the success of it) is the conventions that are part of REST and what make it nice/easy to work with as a developer</p>



<a name="153827027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827027">(May 11 2016 at 19:41)</a>:</h4>
<p>I think there is a difference between an unknown search parameter (not listed in the specs) - that is quite safe to ignore - and a parameter that is in the spec but the server does not implement</p>



<a name="153827029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827029">(May 11 2016 at 19:41)</a>:</h4>
<p>I do believe that so far we have found strong support for my contention that we should not force behaviour either way</p>



<a name="153827034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827034">(May 11 2016 at 19:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> - Good point. A well designed server will advertise the search params it honors in the Conformance and a well designed client will check this</p>



<a name="153827037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827037">(May 11 2016 at 19:45)</a>:</h4>
<p>Heh, on that there is no doubt.</p>



<a name="153827039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827039">(May 11 2016 at 19:49)</a>:</h4>
<p>Yeah, it's the assumption of a "well designed client" that concerns me.  In so many spaces, it doesn't matter too much if the server "does its best"-- but I feel that in <strong>this</strong> space, a well-intentioned best effort can lead to disastrous results.</p>



<a name="153827040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827040">(May 11 2016 at 19:50)</a>:</h4>
<p>it depends on the search parameter. </p>



<a name="153827041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827041">(May 11 2016 at 19:51)</a>:</h4>
<p>ignoring subject/patient search parameter is probably going to be a disaster, but ignoring some qualifier will lead to too many matches in a way that is obvious to the user immediately</p>



<a name="153827042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827042">(May 11 2016 at 19:52)</a>:</h4>
<p>/AllergyIntolerance?substance=http://snomed.info/sct| 227493005&amp;status=refuted</p>
<p>Deadly if status is not supported.</p>



<a name="153827043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827043">(May 11 2016 at 19:54)</a>:</h4>
<p>Given that so many fhir resources can have their meaning totally changed (or even inverted) by a single attribute, there are many examples where this can be very bad.</p>



<a name="153827048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827048">(May 11 2016 at 20:01)</a>:</h4>
<p>1. This is the predominant convention of the web -- ignore unknown query params<br>
2. You're calling out a poorly designed client which is the root problem -- not the lack of an error on the unhandled <code>status</code> param. If the client is getting this wrong by wrongly assuming the server can handle <code>status</code>, it's probably missing a bunch of other stuff too</p>



<a name="153827049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827049">(May 11 2016 at 20:06)</a>:</h4>
<p>(disclaimer here: I'm happy with where we've landed, and I'm certainly not trying to feed a war or change anyone's mind.. I just find this topic interesting)</p>
<p>I don't see why web conventions apply here. REST APIs and websites use the same underlying protocol, but that doesn't mean they are the same thing. Do Google's AdWords APIs ignore things they don't understand? (maybe they do, i have no idea)</p>



<a name="153827055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827055">(May 11 2016 at 20:11)</a>:</h4>
<p>I don't know if Google's AdWords API ignores them but I'd bet you a beer they do. :-)<br>
Every JSON API I've seen ignores any key that it doesn't know about</p>



<a name="153827056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827056">(May 11 2016 at 20:13)</a>:</h4>
<p>Strictly, this is not a fair comparison - google are not choosing to implement a spec they didn't write, and interop spec, They are - as we already recommend - ignoring unknown parameters </p>



<a name="153827057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827057">(May 11 2016 at 20:13)</a>:</h4>
<p>but I stil agree with Kevin in general</p>



<a name="153827058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827058">(May 11 2016 at 20:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191355">@Kevin Shekleton</span>: I'm OK with ignoring truly <strong>unkown</strong> parameters, but as <span class="user-mention" data-user-id="191912">@Michele Mottini</span> noted -- there is a difference between unknown (not in the spec) and unsupported (in the spec but not supported).  And yep -- I am calling out a poorly designed client because I have a hunch that if we look at all of the clients making queries to fhir, we'd find more than a few that neither check the server conformance nor check the self url to ensure support of the parameters they are using.  But it is only a hunch (I haven't researched it).</p>



<a name="153827059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827059">(May 11 2016 at 20:15)</a>:</h4>
<p>I agree with you <span class="user-mention" data-user-id="191469">@Chris Moesel</span>, I'm sure there are lots of badly behaving clients out there. Bugs exist anywhere, even in (unfortunately) our space (healthcare)</p>



<a name="153827061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827061">(May 11 2016 at 20:16)</a>:</h4>
<p>I supposed there is the flipside -- if we say servers must return an error for unsupported parameters, then badly behaved servers (who don't return errors) will cause problems for technically spec-compliant clients.</p>



<a name="153827062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827062">(May 11 2016 at 20:17)</a>:</h4>
<p>Also - defining what "truly unknown" is becomes problematic. What if my poorly behaving client is running an STU 3 client against a DSTU 2 server. They can check conformance for that as well, but that's also where the param support is documented :)</p>



<a name="153827065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827065">(May 11 2016 at 20:20)</a>:</h4>
<p>Does this mean someone owes someone else a beer?<br>
<a href="https://developers.google.com/doubleclick-search/v2/standard-error-responses#BAD_REQUEST" target="_blank" title="https://developers.google.com/doubleclick-search/v2/standard-error-responses#BAD_REQUEST">https://developers.google.com/doubleclick-search/v2/standard-error-responses#BAD_REQUEST</a></p>



<a name="153827067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827067">(May 11 2016 at 20:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> - Note that we could take this entire discussion and apply it to FHIR resources and a 404 response. In this case the client doesn't know if it got a 404 because the FHIR resource isn't implemented in the server (since we're assuming they are poorly designed client that isn't checking Conformance) or the server cannot find the resource.</p>



<a name="153827068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827068">(May 11 2016 at 20:20)</a>:</h4>
<p>Maybe :-)</p>



<a name="153827069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827069">(May 11 2016 at 20:22)</a>:</h4>
<p>It does look like it. This is the first API I've seen with this behavior. Still doesn't change my opinion on this, but I'll honor that beer bet with <span class="user-mention" data-user-id="191319">@James Agnew</span>  nevertheless :-)</p>



<a name="153827070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827070">(May 11 2016 at 20:24)</a>:</h4>
<p>Two beers?<br>
<a href="https://msdn.microsoft.com/en-us/library/azure/dd179357.aspx" target="_blank" title="https://msdn.microsoft.com/en-us/library/azure/dd179357.aspx">https://msdn.microsoft.com/en-us/library/azure/dd179357.aspx</a></p>
<blockquote>
<p>UnsupportedQueryParameter: One of the query parameters specified in the request URI is not supported.</p>
</blockquote>



<a name="153827071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827071">(May 11 2016 at 20:25)</a>:</h4>
<p><a href="https://developer.github.com/v3/#client-errors" target="_blank" title="https://developer.github.com/v3/#client-errors">Github's API</a> ignores unknown params so -1</p>



<a name="153827073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827073">(May 11 2016 at 20:25)</a>:</h4>
<p>just because they have an error code doesn't mean they actually raise it on a search, for instance</p>



<a name="153827079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827079">(May 11 2016 at 20:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191355">@Kevin Shekleton</span>:  I think the 404 response is a little different, in that 404 is usually returned as the result of the client asking for something specific (by ID) that it believes exists.  So if it gets a 404, then it probably suspects something is off since it really expected something.  That's a little different than a server returning 10 results versus 8.  As far as I recall, FHIR search never returns a 404, but I could be wrong...</p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> and <span class="user-mention" data-user-id="191355">@Kevin Shekleton</span> : Yeah.  I was actually about to admit that when I quickly googled I found several well-regarded APIs that indicated they ignored unknown parameters.  But... when they own the API, then unknown parameters tend to only be unspecified parameters.  It would be weird for Google to create a REST API and then not support the parameters it specified itself.</p>
<p>BTW-- I've made the arguments I wanted to make.  I will leave you in peace. ;-)  </p>



<a name="153827087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827087">(May 11 2016 at 20:39)</a>:</h4>
<p>From Google calendar (I can try the add ones in a sec): GET /calendar/v3/users/me/calendarList?maxResults=10&amp;holyfoocow=100 HTTP/1.1</p>
<p>Response: HTTP/1.1 200 OK<br>
Content-length: 6628 ...</p>



<a name="153827088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827088">(May 11 2016 at 20:40)</a>:</h4>
<p>"holyfoocow"? How do you know this is not supported? </p>



<a name="153827089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827089">(May 11 2016 at 20:40)</a>:</h4>
<p>true... ;)</p>



<a name="153827090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827090">(May 11 2016 at 20:40)</a>:</h4>
<p>that was nasty, actually, I can't really laugh out loud in a committee meeting</p>



<a name="153827091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827091">(May 11 2016 at 20:41)</a>:</h4>
<p>LMAO</p>



<a name="153827094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827094">(May 11 2016 at 20:43)</a>:</h4>
<p>I can't try out double-click specifically because I don't have an account :) If someone does, I can tell you how to try it. You can choose evilfoocow as your extra param if you so want</p>



<a name="153827097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827097">(May 11 2016 at 20:46)</a>:</h4>
<p>Ha.  <span class="user-mention" data-user-id="191356">@Jenni Syed</span>, I don't think that will be necessary!  I have the feeling that the results of that experiment won't really affect the outcome of this discussion either way.  On the other hand, if that's how we have fun around here (issuing evilfoocow queries), then don't let me get in anyone's way! ;-)</p>



<a name="153827098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827098">(May 11 2016 at 20:49)</a>:</h4>
<p>it will be a holyfoocow and evilfoocow duel</p>



<a name="153827099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827099">(May 11 2016 at 20:49)</a>:</h4>
<p>I think I might have to add something to my server. </p>



<a name="153827100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827100">(May 11 2016 at 20:50)</a>:</h4>
<p>Don't leave out the agnosticfoocow.</p>



<a name="153827101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827101">(May 11 2016 at 20:50)</a>:</h4>
<p>if url.hasParameter('evilfoocow') <br>
  throw new Exception("Jenni, please do not hack with the server, it's very fragile today");</p>



<a name="153827102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827102">(May 11 2016 at 20:52)</a>:</h4>
<p>If we can't decide between returning an error or ignoring parameters, there is an option to leave it to the client.</p>
<p>I see three types of clients (for this discussion):<br>
1. Client written for a local setting, that will always query the same server. Returning an error is appropriate, since the client should be aware of the server's capabilities.<br>
2. Client written to target potentially any server (like an app), subdivided in:<br>
2a: Potentially leading to severe injury when search results are not checked properly. Returning an error is helpful here.<br>
2b: Not leading to severe injury, but the maker just wants her/his app to run against any server without bothering the user with errors. A server could help the maker by allowing a 'loose' mode.</p>
<p>To cater for the cases 1 and 2a, a 'strict' mode should be the default. So a server should at a minimum return an error on unsupported parameters.<br>
The loose mode is optional for servers to support, and the client has to ask for it specifically. </p>
<p>But it would be yet another addition to the already rich search api.</p>



<a name="153827103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827103">(May 11 2016 at 20:54)</a>:</h4>
<p>PS: I don't mind to rename the modes to holyfoocow and evilfoocow, but I'm still figuring out which should mean 'strict'.</p>



<a name="153827106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827106">(May 11 2016 at 20:59)</a>:</h4>
<p>Yeah I just spent too long trying to sign up for adwords to see what they actually *do*. But I've given up :p</p>



<a name="153827108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827108">(May 11 2016 at 21:00)</a>:</h4>
<p>Me too. :-) It's an extremely complicated process involving manager production accounts, test accounts, manager API keys, test API keys. Ugh</p>



<a name="153827109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827109">(May 11 2016 at 21:01)</a>:</h4>
<p>So U have learned. I got all the way to a developer token and a local download of the python API. I'm still not sure it's not a SOAP API  (one of their docs mentions the 'suds' python package).</p>



<a name="153827111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827111">(May 11 2016 at 21:01)</a>:</h4>
<p>Ha, I went the route of cloning their Ruby &amp; Rails API and was setting up the example server</p>



<a name="153827123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827123">(May 11 2016 at 21:58)</a>:</h4>
<p>FINE FINE FINE you all win.</p>
<p>Holyfoocow has been implemented: <a href="http://fhirtest.uhn.ca/baseDstu3/Patient?holyfoocow=true" target="_blank" title="http://fhirtest.uhn.ca/baseDstu3/Patient?holyfoocow=true">http://fhirtest.uhn.ca/baseDstu3/Patient?holyfoocow=true</a></p>
<p>I'll be proposing this as a stream at the baltimore connectathon, testing partners welcome.</p>



<a name="153827128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827128">(May 11 2016 at 23:31)</a>:</h4>
<p>James and Jenni win the FHIR prize</p>



<a name="153827139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827139">(May 12 2016 at 01:37)</a>:</h4>
<p>Could we have a behavior where, by default, servers error if they receive an unexpected search parameter, but you can send an extra search parameter (e.g. softFail=true or something) that causes the server to ignore extra search parameters?  That way clients explicitly tell the server to ignore extra parameters and therefore explicitly take responsibility for checking what was actually processed?</p>



<a name="153827140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827140">(May 12 2016 at 01:37)</a>:</h4>
<p>I think that approach keeps the client in charge of behavior, which is desirable, and also helps ensure safety.</p>



<a name="153827153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827153">(May 12 2016 at 03:07)</a>:</h4>
<p>What's the default behaviour for servers that don't support softFail?</p>



<a name="153827165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827165">(May 12 2016 at 03:27)</a>:</h4>
<p>They'd have to raise an error when receiving unexpected search parameters</p>



<a name="153827166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827166">(May 12 2016 at 03:29)</a>:</h4>
<p>And you don't see any inherent contradiction in this behaviour?</p>



<a name="153827167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827167">(May 12 2016 at 03:30)</a>:</h4>
<p>The default is the safe behavior</p>



<a name="153827171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827171">(May 12 2016 at 03:46)</a>:</h4>
<p>So there's no problem then with a query that would have otherwise been successful, but now fails because of the addition of "shotFail-true"?</p>



<a name="153827292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827292">(May 12 2016 at 14:11)</a>:</h4>
<p>I prefer less optionality rather than more.  If a client wants to be sure that what was returned is what it asked for (effectively, hardFail=true), the client can compare its search URL to the one returned by the server.  </p>



<a name="153827294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827294">(May 12 2016 at 14:12)</a>:</h4>
<p>I'm concerned about having two different options for servers, sort of for the same thing that concerns people about soft failing.  </p>



<a name="153827295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827295">(May 12 2016 at 14:12)</a>:</h4>
<p>If some servers - particularly reference servers - return errors, a client may assume that will always happen.</p>



<a name="153827296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827296">(May 12 2016 at 14:12)</a>:</h4>
<p>Yeah, this whole thread of discussion seems over the top to me.</p>



<a name="153827299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827299">(May 12 2016 at 14:13)</a>:</h4>
<p>If all servers ignore unknown or unsupported parameters, clients are less likely to make this error.</p>



<a name="153827315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827315">(May 12 2016 at 14:31)</a>:</h4>
<p>Most test servers support most parameters.  As well, the failure to pay attention to inbound parameters isn't necessarily immediately noticable when you're testing.  So I don't think we can count on all client implementers picking up on this "feature" before they hit production.  As well, clients created to talk to a specific server may work just fine until the server's support changes (or even changes what name they use for a given parameter - which can happen too).  So I think "failing safe" is important here.</p>



<a name="153827319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827319">(May 12 2016 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Bonus points for using the I'm a Teapot http error status</p>



<a name="153827337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827337">(May 12 2016 at 15:29)</a>:</h4>
<p>So I think we need to be clearer about this at the top of the search page, but otherwise the discussion bears out my original statement: we won't get to consensus on this </p>



<a name="153827403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827403">(May 12 2016 at 17:26)</a>:</h4>
<p>Well, non-consensus on this is even less safe - because clients will expect one behavior and may get another and have no control over what happens.  Why would we *not* want to leave the choice of behavior in the client's hands?  The only reasons for driving server behavior I've heard so far is "what's typical" and "safety" - I don't see why those two concerns couldn't be addressed by giving the client the control of what happens.  Are there any technical reasons why a server *couldn't* error on or *couldn't* ignore unsupported extensions if the client told them their desired behavior?</p>



<a name="153827410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827410">(May 12 2016 at 17:58)</a>:</h4>
<p>Personally I side with Lloyd. The inherent contradiction of a server providing an error on an invalid parameter (softFail) when it does not support erring on invalid parameters is not lost on me. Pragmatically, in that case, the requirement is that all servers would have to support an indication as to whether softFail is supported. <br>
We are talking about health information here. Much more critical than many APIs dealing with Ads and the like. We certainly can debate the details, but it seems some sort of feedback regarding the validity of requests is warranted.</p>



<a name="153827431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827431">(May 12 2016 at 18:05)</a>:</h4>
<p>Keep in mind that if a server does this, there are still going to be "holes." For example, if we state that a server errors when it sees "known unknown" parameters (parameters it chooses not to implement), what happens when an app is expecting the server to be running a different version of the spec?</p>



<a name="153827435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827435">(May 12 2016 at 18:07)</a>:</h4>
<p>What about custom parameters that the server doesn't know about (AFAIK, there is no "parameter extension" syntax)? EG: when an IG defines a new param?</p>



<a name="153827438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827438">(May 12 2016 at 18:09)</a>:</h4>
<p>I know we say "this is healthcare" but if our stance is to ignore the underlying norms of the transport/architecture we're on top of because we're special, we may get unintended results. Google apis deal with many different aspects of data that have financial and personal privacy impact, so it's not like data there isn't also sensitive</p>



<a name="153827458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827458">(May 12 2016 at 18:46)</a>:</h4>
<p>This doesn't prevent following underlying norms, it just forces an explicit acknowledgment in the instance that the client knows that's what's going on and has taken responsibility for the ramifications.  To resolve the contradiction, one possibility is to say that all servers have to support the "softFail" parameter - then you don't have to worry about it not being supported.  If a client is wanting to pass extra stuff that the server is going to ignore, they have a choice - trim those before going to the server or make sure their client detects what clients are paid attention to.</p>



<a name="153827467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827467">(May 12 2016 at 18:53)</a>:</h4>
<p>Despite my belief that ignoring unknown parameters is the wrong default, this probably isn't a spot where we could make a hard and fast rule.</p>
<p>There are going to be times when the client doesn't even know it is adding parameters. Lots of reverse proxies add things along the way, caching or session-pinning mechanisms may too..</p>



<a name="153827469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827469">(May 12 2016 at 18:53)</a>:</h4>
<p>there's a difference between unknown parameters and unsupported search parameters </p>



<a name="153827472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827472">(May 12 2016 at 18:57)</a>:</h4>
<p>There is, but there will be "unknown FHIR parameters" IE: A paramenter added in an IG that the server isn't aware of, a client running a different version of the FHRI spec that the server, etc...</p>



<a name="153827474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153827474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153827474">(May 12 2016 at 18:59)</a>:</h4>
<p>Right.  There's no way of knowing what a server knows about and doesn't support.</p>



<a name="153828025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153828025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153828025">(May 16 2016 at 19:09)</a>:</h4>
<p>+1 for Lloyd's softFail idea, making "failing safe" (or failing fast) the default.  The alternative seems dangerously similar to exception eating.</p>



<a name="153828026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153828026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153828026">(May 16 2016 at 19:11)</a>:</h4>
<p>there is a way of knowing what a server supports. Maybe we should say that a server cannot ignore a parameter it claims to support in it's conformance statement. </p>



<a name="153828579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153828579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153828579">(May 19 2016 at 09:57)</a>:</h4>
<p>Or maybe we should look into how we could return an OperationOutcome in a bundle. I know Lloyd has been asking for it, and it keeps popping up. A server could at least then return a warning status with a specific code about the search parameter. </p>



<a name="153828791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153828791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153828791">(May 19 2016 at 21:49)</a>:</h4>
<p>well, we could add a new search mode 'commentary'</p>



<a name="153828842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153828842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Scholz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153828842">(May 20 2016 at 10:34)</a>:</h4>
<p>IMHO it is potentially dangerous to ignore unknown parameters.<br>
so I would still leave it up to the server to decide how to handle this situation.</p>
<p>But on the other hand, giving the client the opportunity to suggest a behaviour would be a good idea.</p>
<p>But if we do so, I think there is a better place than an additional parameter.<br>
I would prefer to designate this using a <br>
Prefer: handling=strict  resp. handling=lenient in the header as described in<br>
<a href="https://tools.ietf.org/html/rfc7240#section-4.4" target="_blank" title="https://tools.ietf.org/html/rfc7240#section-4.4">https://tools.ietf.org/html/rfc7240#section-4.4</a></p>



<a name="153828846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Unsupported%20search%20parameters/near/153828846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Unsupported.20search.20parameters.html#153828846">(May 20 2016 at 11:27)</a>:</h4>
<p>interesting idea</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
