---
layout: page
title: "FHIR Chat  · Attachment.url relative reference · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html">Attachment.url relative reference</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153819594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819594">(Apr 01 2016 at 03:49)</a>:</h4>
<p>Hi all - looking for advice on use of Attachement.url (in a DocumentReference) making a relative reference to a Binary resource all in the same Bundle (in this case a message) - so this is not a ResourceReference so what is the right way to do it...</p>



<a name="153819595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819595">(Apr 01 2016 at 03:51)</a>:</h4>
<p>btw did not want to embed the data in the Attachment - wanted to keep a Binary resource</p>



<a name="153819596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819596">(Apr 01 2016 at 04:13)</a>:</h4>
<p>Why use a Binary resource in that case, why not just use the content element of the Attachment?</p>



<a name="153819597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819597">(Apr 01 2016 at 04:20)</a>:</h4>
<p>true - sender has a preference .... after some discussion landed on</p>
<div class="codehilite"><pre>  <span class="nt">&lt;entry&gt;</span>
     <span class="nt">&lt;fullUrl</span> <span class="na">value=</span><span class="s">&quot;urn:uuid:6380E47C-9C9C-43CD-9206-7AE57C0C7247&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;resource&gt;</span>
      <span class="nt">&lt;Binary&gt;</span>
      <span class="nt">&lt;/Binary&gt;</span>
    <span class="nt">&lt;/resource&gt;</span>
  <span class="nt">&lt;entry&gt;</span>
  <span class="nt">&lt;entry&gt;</span>
     <span class="nt">&lt;fullUrl</span> <span class="na">value=</span><span class="s">&quot;urn:uuid:15EF8B27-9977-4DC0-AF16-4D379907EC72&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;resource&gt;</span>
      <span class="nt">&lt;DocumentReference&gt;</span>
        <span class="nt">&lt;content&gt;</span>
            <span class="nt">&lt;attachment&gt;</span>
               <span class="nt">&lt;url</span> <span class="na">value=</span><span class="s">&quot;urn:uuid:6380E47C-9C9C-43CD-9206-7AE57C0C7247&quot;</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;/attachment&gt;</span>
       <span class="nt">&lt;/content&gt;</span>
      <span class="nt">&lt;/DocumentReference&gt;</span>
    <span class="nt">&lt;/resource&gt;</span>
  <span class="nt">&lt;entry&gt;</span>
</pre></div>



<a name="153819598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819598">(Apr 01 2016 at 04:23)</a>:</h4>
<p>as per description in <a href="http://hl7.org/fhir/bundle.html#references" target="_blank" title="http://hl7.org/fhir/bundle.html#references">http://hl7.org/fhir/bundle.html#references</a></p>



<a name="153819600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819600">(Apr 01 2016 at 05:51)</a>:</h4>
<p>The binary content in this instance is a PDF, and some systems enjoy storing the binary content outside the database, and can decide based on size of the content.</p>



<a name="153819651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819651">(Apr 01 2016 at 16:42)</a>:</h4>
<p>The content element of Attachment is evil. I really would like to be able to retrieve the information about the content independent of the retrieving the content. And since Attachment is a datatype, not a referenced resource, if you have a resource with an attachmet (or worse, multiple attachments), you never know when retrieving the resource that you might end downloading multiple megabytes (or gigabytes) of data.</p>



<a name="153819669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819669">(Apr 02 2016 at 04:40)</a>:</h4>
<p>you can ask for a _summary</p>



<a name="153819875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819875">(Apr 04 2016 at 16:03)</a>:</h4>
<p>or profile it out of the datatype.</p>



<a name="153819889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153819889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153819889">(Apr 04 2016 at 18:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> yup, and that's a recent improvement, but if there are multiple Attachments, _summary only gives you the ability to retrieve all or none. If there are multiple Attachments, you can't get one at a time. Hmm, I support combining one _summary fetch, with follow-up use of _elements might solve some problems, but can you use _elements to get the first, second, third repetition of an element separately? <span class="user-mention" data-user-id="191401">@Eric Haas</span> yes, can profile, but unless there is some guarantee that all sources (or the server itself) will tag the resources compying with that profiles, and you can thus filter on profile in your fetches, you need to be prepared to encounter non-compliant resources with inline content.</p>



<a name="153820383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Attachment.url%20relative%20reference/near/153820383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Attachment.2Eurl.20relative.20reference.html#153820383">(Apr 07 2016 at 20:48)</a>:</h4>
<p>yes. agree. but I don't think we can do something useful about this without losing control of complexity</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
