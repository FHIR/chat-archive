---
layout: page
title: "FHIR Chat  · Validation Time · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html">Validation Time</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208169734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208169734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208169734">(Aug 27 2020 at 01:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  just wondering if there is any way to find out the total time taken by the IG Publisher while validating all the resources (instance) as referenced from the IG? <br>
I can see a log: "Finished. 01:22.0309. Validation output in C:\Users\...\qa.html<br>
Errors: 0, Warnings: 8, Info: 11, Broken Links = 0 (01:47.0235)<br>
Done"</p>
<p>Does it mean "01:22.0309" is the total validation time?</p>



<a name="208174253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208174253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208174253">(Aug 27 2020 at 03:07)</a>:</h4>
<p>no that's just the time since the process started. That's a real long time...</p>



<a name="208174987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208174987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208174987">(Aug 27 2020 at 03:25)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , yeah I though so, any log being produced for validation time?</p>



<a name="208176187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208176187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208176187">(Aug 27 2020 at 03:56)</a>:</h4>
<p>not at the moment</p>



<a name="208176740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208176740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208176740">(Aug 27 2020 at 04:10)</a>:</h4>
<p>ok, is there any way I can run the validator_cli.jar locally with local profiles?. I looked at the <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a>, but not able to figure out how I can run a resource instance pointing to a profile available in my computer (local system). </p>
<p>Background: I have been trying to figure-out the performance optimal way to draft a FHIR document profile which has entry slicing. At this moment all of my profiles have 'profile:resolve()' as slicing discriminator. I have noticed that pattern:$this.resolve().code.coding works now and could be more performant model. just have to find out benefit comparison. So trying options to record validation time.</p>



<a name="208180825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208180825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208180825">(Aug 27 2020 at 06:03)</a>:</h4>
<p>you can add your local profile with the -ig parameter to the validator, just pass in the file/folder or ig of your local profile(s)</p>



<a name="208182175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208182175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208182175">(Aug 27 2020 at 06:34)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191478">@Oliver Egger</span> , let me try that. "just pass in the file/folder " .. is this it he folder where all the profiles are placed?</p>



<a name="208184317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208184317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208184317">(Aug 27 2020 at 07:11)</a>:</h4>
<p>yes</p>



<a name="208284732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208284732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208284732">(Aug 27 2020 at 22:33)</a>:</h4>
<p>I'm still unable to run the validator in my local.</p>
<p>I'm using 'dev' as the version of my local package. any suggestion would be very helpful.</p>
<p><a href="/user_uploads/10155/h1iBMgo1RIhI4DasvTAXhYZZ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/h1iBMgo1RIhI4DasvTAXhYZZ/image.png" title="image.png"><img src="/user_uploads/10155/h1iBMgo1RIhI4DasvTAXhYZZ/image.png"></a></div>



<a name="208292566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208292566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208292566">(Aug 28 2020 at 00:32)</a>:</h4>
<p>finally it worked. </p>
<p>I was using 'validator_cli.jar' as provided in the link: <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a> and I was getting the errors. It started working when I downloaded the 'org.hl7.fhir.validator.jar' and used it. </p>
<p>May be it would be a good idea to update the page: <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></p>



<a name="208309340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208309340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208309340">(Aug 28 2020 at 06:18)</a>:</h4>
<p><span class="user-mention" data-user-id="193760">@Shovan Roy</span> confluence is pointing to the new validator (validator_cli.jar) and it should work with that one. Where did you still find a link to the org.hl7.fhir.validator.jar? Can you make your profile and bundle available?</p>



<a name="208309421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208309421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208309421">(Aug 28 2020 at 06:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191478">@Oliver Egger</span>  I found it from the fhir download page: <a href="https://www.hl7.org/fhir/downloads.html">https://www.hl7.org/fhir/downloads.html</a></p>



<a name="208309480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208309480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208309480">(Aug 28 2020 at 06:22)</a>:</h4>
<p>Attached the package and the sample used: <a href="/user_uploads/10155/sEaGQPK4EdsCW1EFKk5Zr8dN/Bundle-ncdhc-document-nb-exam-example.json">Bundle-ncdhc-document-nb-exam-example.json</a> <a href="/user_uploads/10155/jc0uJKpZdW9DAxTmpLzObyaG/package.tgz">package.tgz</a></p>



<a name="208311107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208311107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208311107">(Aug 28 2020 at 06:56)</a>:</h4>
<p>added for the link jira <a href="http://jira.hl7.org/browse/FHIR-28368">FHIR#28368</a></p>



<a name="208314886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208314886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208314886">(Aug 28 2020 at 07:57)</a>:</h4>
<p><span class="user-mention" data-user-id="193760">@Shovan Roy</span> I can reproduce the error here locally. It tries to resolve PractitionerRole/a01bacd2-pr5c-11ea-b3de-0242ac130003 in a FHIRPath expression and it looks likes in an observation context instead of the bundle. It appears that the invariant (dataAbsentReason.empty()) implies (performer.reference.resolve().where($this is PractitionerRole).exists()) is causing this. Not knowing your ig exactly i guess that this is an invariant on Obseration?  I think the validator functionality would probably need to be enhanced that it could resolve the resource in the bundle (indicated by not done yet erorr message) . Next step would be probably to isolate this case and add it to the Validation TestSuite.</p>



<a name="208510323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208510323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208510323">(Aug 30 2020 at 23:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191478">@Oliver Egger</span>  thanks heaps for looking into it.<br>
some interesting facts:<br>
Fact 1: When the publisher is running, it's not popping up with any validation error but I can see you are getting validation error with 'validator_cli.jar' on the same artifacts<br>
Fact 2: As per our project requirement, we have two invariants added on Observation to check that two performers exits ( a PractitionerRole and Organization)in the instance. Sounds like the invariant is not working. I'll have to check on that. <br>
Fact 3: Yes, more details in the error message showing the Bundle path would be definitely useful. <br>
Fact 4: The validator_cli.jar is not working at all in my local.  But it seems it's working for you. I'm using the following command and I'm getting the following errors. not sure what's missing here. I'm using java 1.8<br>
Command: java -jar validator_cli.jar -ig package.tgz -version 4.0 Observation-p04bacd2-ob1c-01ea-b3de-0242ac130001.json -output validation-output.json<br>
Error:<br>
<strong>Exception in thread "main" java.lang.Error: Not done yet</strong><br>
        at org.hl7.fhir.validation.cli.services.StandAloneValidatorFetcher.fetch(StandAloneValidatorFetcher.java:41)<br>
        at org.hl7.fhir.validation.ValidationEngine.fetch(ValidationEngine.java:1850)</p>



<a name="208511342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208511342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208511342">(Aug 31 2020 at 00:31)</a>:</h4>
<p>try the next version when it is released</p>



<a name="208511441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208511441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208511441">(Aug 31 2020 at 00:34)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="208522916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208522916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208522916">(Aug 31 2020 at 06:05)</a>:</h4>
<p><span class="user-mention" data-user-id="193760">@Shovan Roy</span> i had the same error like you (Fact 4) i got the information for using the validator in a development env.</p>



<a name="208525038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208525038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208525038">(Aug 31 2020 at 06:51)</a>:</h4>
<p>try with the latest PRs</p>



<a name="208643364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Validation%20Time/near/208643364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Validation.20Time.html#208643364">(Sep 01 2020 at 04:17)</a>:</h4>
<p>I can see the new publisher reports the time taken for each steps and this includes the validation time. This will be very helpful. thanks a lot <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
<a href="/user_uploads/10155/uwUdlgeWicygdjpUmZGot_el/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/uwUdlgeWicygdjpUmZGot_el/image.png" title="image.png"><img src="/user_uploads/10155/uwUdlgeWicygdjpUmZGot_el/image.png"></a></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
