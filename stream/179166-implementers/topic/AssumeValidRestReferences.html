---
layout: page
title: "FHIR Chat  · AssumeValidRestReferences · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html">AssumeValidRestReferences</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200857105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200857105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200857105">(Jun 15 2020 at 07:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I believe we've found a bug when using assumeValidRestReferences in the version biggybagged with HAPI 5.0.2, but I can't remember where the github repo is, where you prefer samples</p>



<a name="200858877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200858877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200858877">(Jun 15 2020 at 07:58)</a>:</h4>
<p><a href="https://github.com/FHIR/fhir-test-cases/pulls">https://github.com/FHIR/fhir-test-cases/pulls</a></p>



<a name="200863689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200863689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200863689">(Jun 15 2020 at 08:55)</a>:</h4>
<p>and test cases for STU3? ... should I just create that folder?</p>



<a name="200915170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200915170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200915170">(Jun 15 2020 at 16:47)</a>:</h4>
<p>sure</p>



<a name="200915272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200915272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200915272">(Jun 15 2020 at 16:47)</a>:</h4>
<p>oh no - hang on. For validation test cases, just use /validation. you specify the version in manifest.json</p>



<a name="200957005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200957005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200957005">(Jun 15 2020 at 23:16)</a>:</h4>
<p>my case is a bit convoluted ... we're experiencing that the validator behaves a bit different depending on the context is it invoked in. When validating resources (in my setup this is done on all invocations automatically), it works like a charm, but when wrapping it in Parameters, like when calling $validate, it seems like the profile is not picked correctly in combination with assumeValidRestReferences.</p>
<p>When validated within a Parameters section (see example below), the error from the InstanceValidator (with assumeValidRestReferences set to true) is the following: </p>
<p>Parameters.parameter[0].resource.ofType(Communication).partOf[0],message=The type "CarePlan" implied by the reference URL <a href="http://careplan.fut.trifork.com/CarePlan/42">http://careplan.fut.trifork.com/CarePlan/42</a> is not a valid Target for this element (must be one of [Resource]) </p>
<p>I believe this error message is wrong as CarePlan is in fact a <em>Resource</em>, hence it should be legal. Also, I've looked into it. I believe profile checks that are declared within the parameters can be checked using the following (replacing this line <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/49c35b1de2bd40f880dfdca7029df5941be69c91/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/instance/InstanceValidator.java#L3577">https://github.com/hapifhir/org.hl7.fhir.core/blob/49c35b1de2bd40f880dfdca7029df5941be69c91/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/instance/InstanceValidator.java#L3577</a> with this):</p>
<div class="codehilite"><pre><span></span><code>  var profiles = element.getChildren(&quot;meta&quot;)
                        .stream()
                        .map(c -&gt; c.getChildren(&quot;profile&quot;))
                        .filter(Objects::nonNull)
                        .flatMap(List::stream)
                        .map(Element.class::cast)
                        .map(Element::getValue)
                        .map(s -&gt; this.context.fetchRawProfile(s))
                        .collect(Collectors.toList());
                if(profiles.isEmpty())
                    validateResource(hc, errors, resource, element, profile, idstatus, stack);
                else
                    // Any of the profiles may do ...?
                    validateResource(hc, errors, resource, element, profiles.get(0), idstatus, stack);
</code></pre></div>


<p>I've tested it manually - seems to work as intended. Let me know if you would like a PR, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> .</p>
<p>---- example</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;Parameters&quot;,
  &quot;parameter&quot;: [
    {
      &quot;name&quot;: &quot;resource&quot;,
      &quot;resource&quot;: {
        &quot;resourceType&quot;: &quot;Communication&quot;,
        &quot;meta&quot;: {
          &quot;profile&quot;: [
            &quot;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-message&quot;
          ]
        },
        &quot;extension&quot;: [
          {
            &quot;url&quot;: &quot;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-communication-recipientCareTeam&quot;,
            &quot;valueReference&quot;: {
              &quot;reference&quot;: &quot;https://inttest.ehealth.sundhed.dk/organization/fhir/CareTeam/50&quot;
            }
          },
          {
            &quot;url&quot;: &quot;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-restriction-category&quot;,
            &quot;valueCodeableConcept&quot;: {
              &quot;coding&quot;: [
                {
                  &quot;system&quot;: &quot;http://ehealth.sundhed.dk/cs/restriction-category&quot;,
                  &quot;code&quot;: &quot;None&quot;
                }
              ]
            }
          }
        ],
        &quot;partOf&quot;: [
          {
            &quot;reference&quot;: &quot;http://careplan.fut.trifork.com/CarePlan/42&quot;
          }
        ],
        &quot;status&quot;: &quot;preparation&quot;,
        &quot;category&quot;: [
          {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;http://ehealth.sundhed.dk/cs/message-category&quot;,
                &quot;code&quot;: &quot;message&quot;
              }
            ],
            &quot;text&quot;: &quot;Besked&quot;
          }
        ],
        &quot;medium&quot;: [
          {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v3-ParticipationMode&quot;,
                &quot;code&quot;: &quot;WRITTEN&quot;
              }
            ],
            &quot;text&quot;: &quot;WRITTEN&quot;
          }
        ],
        &quot;sender&quot;: {
          &quot;reference&quot;: &quot;http://inttest.ehealth.sundhed.dk/trifork-fhir-server/Patient/100&quot;
        },
        &quot;reasonCode&quot;: [
          {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;http://ehealth.sundhed.dk/cs/task-category&quot;,
                &quot;code&quot;: &quot;MissingMeasurementResolving&quot;
              }
            ]
          }
        ],
        &quot;payload&quot;: [
          {
            &quot;contentString&quot;: &quot;Hello world&quot;
          }
        ]
      }
    }
  ]
}
</code></pre></div>



<a name="200961866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200961866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200961866">(Jun 16 2020 at 00:31)</a>:</h4>
<p>I don't think we're up to a PR yet. My interpretation of the error is that assumeValidRestReferences is true, but CarePlan is not a known resource - the StructureDefinition is not loaded?</p>



<a name="200961919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200961919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200961919">(Jun 16 2020 at 00:32)</a>:</h4>
<p>Also, I won't accept a PR to use streaming - the code looks nice but I typically find it impossible to debug</p>



<a name="200979260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200979260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200979260">(Jun 16 2020 at 07:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200961866">said</a>:</p>
<blockquote>
<p>I don't think we're up to a PR yet. My interpretation of the error is that assumeValidRestReferences is true, but CarePlan is not a known resource - the StructureDefinition is not loaded?</p>
</blockquote>
<p>If that was the case, I would have stumbled across the problem when I created the resource as I also validate it during the creation flow which is not the case. The problem is that the profile stated in the resource (in meta) in the parameter is not loaded in <code>validateContains</code>. My code fixes that - for loop or not.</p>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200961919">said</a>:</p>
<blockquote>
<p>Also, I won't accept a PR to use streaming - the code looks nice but I typically find it impossible to debug</p>
</blockquote>
<p>1) that is a matter of (your) taste. I am willing to convert it to a eg. 'for loop' but it would be at the cost of readability (you said "it looks nice". Readability is a quality of code that should never be underestimated).<br>
2) if you were to accept it in its current state, debugging streams has been improved in IntelliJ (<a href="https://www.baeldung.com/intellij-debugging-java-streams">https://www.baeldung.com/intellij-debugging-java-streams</a>)</p>



<a name="200979655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200979655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200979655">(Jun 16 2020 at 07:09)</a>:</h4>
<p>as for loop:</p>
<div class="codehilite"><pre><span></span><code>for (Element c : element.getChildren(&quot;meta&quot;)) {
                    List&lt;Element&gt; children = c.getChildren(&quot;profile&quot;);
                    if (children != null) {
                        for (Element element1 : children) {
                            Element element2 = element1;
                            String s = element2.getValue();
                            StructureDefinition structureDefinition = this.context.fetchRawProfile(s);
                            profiles.add(structureDefinition);
                        }
                    }
                }
</code></pre></div>



<a name="200998903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/200998903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#200998903">(Jun 16 2020 at 11:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> comments?</p>



<a name="201117972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201117972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201117972">(Jun 17 2020 at 09:21)</a>:</h4>
<p>Do you follow me on the argument:</p>
<blockquote>
<p>If that was the case, I would have stumbled across the problem when I created the resource as I also validate it during the creation flow which is not the case. The problem is that the profile stated in the resource (in meta) in the parameter is not loaded in validateContains. My code fixes that - for loop or not.</p>
</blockquote>



<a name="201203735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201203735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201203735">(Jun 17 2020 at 21:35)</a>:</h4>
<p>I'll tell you where I will accept a PR: if you add a test case that demonstrates the problem by failing to validate properly  to <a href="https://github.com/FHIR/fhir-test-cases">https://github.com/FHIR/fhir-test-cases</a></p>



<a name="201269649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201269649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201269649">(Jun 18 2020 at 13:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  sure - I would gladly do so, but that repo looks like a bunch of test files - I can't see any unit tests there - and AFAIK, I can't toggle the assumeValidRestReferences from commandline which would be needed, right?</p>



<a name="201269958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201269958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201269958">(Jun 18 2020 at 13:49)</a>:</h4>
<p>I think it would be easier for me to show the bug if I make a github project myself and write it as unit tests. Would you be willing to have a look at that?</p>



<a name="201269982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201269982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201269982">(Jun 18 2020 at 13:49)</a>:</h4>
<p>(I promise to keep it simple)</p>



<a name="201302437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201302437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201302437">(Jun 18 2020 at 17:43)</a>:</h4>
<p>no, use the test cases. The file validation\manifest.json drives the unit tests - the Java class org.hl7.fhir.validation.tests.ValidationTests executes them. <code>"assumeValidRestReferences" : true</code> is the equivalent</p>



<a name="201327348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201327348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201327348">(Jun 18 2020 at 21:17)</a>:</h4>
<p>Got it</p>



<a name="201963655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201963655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201963655">(Jun 25 2020 at 12:46)</a>:</h4>
<p>hmmm .... this issue is not reproducible using the fhir-test-cases repo</p>



<a name="201963897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201963897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201963897">(Jun 25 2020 at 12:49)</a>:</h4>
<p>that indicates that the validator is working properly and the problem is somewhere else?</p>



<a name="201966453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/201966453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#201966453">(Jun 25 2020 at 13:12)</a>:</h4>
<p>maybe the context that the validator is started in - .... I'll keep digging ... or maybe just right in front of the screen ... I'll keep you posted</p>



<a name="203255789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203255789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203255789">(Jul 08 2020 at 11:21)</a>:</h4>
<p>ok <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  - I'm pretty sure I've found something now. It's not directly related, but it is a bug. When validating a Communication resource with eg. a Communication.topic, where the topic is not constrained in the profile, the type returned on <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/f40f012dfb42d6579e8d3eb02c1b9a170642eb0e/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/instance/InstanceValidator.java#L2463">https://github.com/hapifhir/org.hl7.fhir.core/blob/f40f012dfb42d6579e8d3eb02c1b9a170642eb0e/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/instance/InstanceValidator.java#L2463</a>  when using "assumeValidRestReferences", will be a reference to a "Resource". When an instance of a Communication that eg. refers to an EpisodeOfCare gets validated, it will end up failing with eg. </p>
<div class="codehilite"><pre><span></span><code>The type &quot;EpisodeOfCare&quot; implied by the reference URL https://careplan.inttest.ehealth.sundhed.dk/fhir/EpisodeOfCare/26869 is not a valid Target for this element (must be one of [Resource])
</code></pre></div>



<a name="203255933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203255933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203255933">(Jul 08 2020 at 11:23)</a>:</h4>
<p>while the github link points to latest, this is also present when using HAPI 5.0.2 as it uses the 5.0.0 version</p>



<a name="203258300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203258300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203258300">(Jul 08 2020 at 11:53)</a>:</h4>
<p>yes that looks like a bug. do you have time to turn it into a test case for me? - that is, a profile and an instance that passes and one that fails</p>



<a name="203258929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203258929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203258929">(Jul 08 2020 at 12:00)</a>:</h4>
<p>would you like it as a unit test or as a part of <a href="https://github.com/FHIR/fhir-test-cases">https://github.com/FHIR/fhir-test-cases</a></p>



<a name="203259167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203259167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203259167">(Jul 08 2020 at 12:03)</a>:</h4>
<p>I will put it in <a href="https://github.com/FHIR/fhir-test-cases">https://github.com/FHIR/fhir-test-cases</a> but I can put it in there if you just create the relevant resources. But if you want to make it as a PR, you put it it /validator  and add it to /validator/manifest.xml</p>



<a name="203259767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203259767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203259767">(Jul 08 2020 at 12:11)</a>:</h4>
<p>I'll give it a go later today</p>



<a name="203259781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203259781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203259781">(Jul 08 2020 at 12:11)</a>:</h4>
<p>thx.</p>



<a name="203260680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203260680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203260680">(Jul 08 2020 at 12:23)</a>:</h4>
<p>(I'm guessing I'm the only person currently using this feature then :) )</p>



<a name="203261045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203261045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203261045">(Jul 08 2020 at 12:28)</a>:</h4>
<p>no you're not. You're probably the only one using that combination</p>



<a name="203309560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203309560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203309560">(Jul 08 2020 at 19:12)</a>:</h4>
<p>awesome</p>



<a name="203314757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203314757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203314757">(Jul 08 2020 at 19:56)</a>:</h4>
<p>Hmmm ... before I add my examples - I'm seeing other stuff as well: <a href="/user_uploads/10155/A03p1jRcpmOZYmcgS-A0U2wY/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/A03p1jRcpmOZYmcgS-A0U2wY/image.png" title="image.png"><img src="/user_uploads/10155/A03p1jRcpmOZYmcgS-A0U2wY/image.png"></a></div>



<a name="203315126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203315126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203315126">(Jul 08 2020 at 19:59)</a>:</h4>
<p>well, I'm not surprised. how can you fix the value of a Reference?</p>



<a name="203315254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203315254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203315254">(Jul 08 2020 at 20:00)</a>:</h4>
<p>call it a monkey test in forge ;)</p>



<a name="203315338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203315338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203315338">(Jul 08 2020 at 20:01)</a>:</h4>
<p>well, you found a corner case i had not implemented because my time is limited</p>



<a name="203315357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203315357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203315357">(Jul 08 2020 at 20:01)</a>:</h4>
<p>its mostly the error message here: the IG is v4 - so how come there's a message saying something about an r5 model</p>



<a name="203315373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203315373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203315373">(Jul 08 2020 at 20:01)</a>:</h4>
<p>(i know internally its v5)</p>



<a name="203315394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203315394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203315394">(Jul 08 2020 at 20:01)</a>:</h4>
<p>because internally it's all r5 and you've managed to produce an internal error message</p>



<a name="203317761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203317761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203317761">(Jul 08 2020 at 20:21)</a>:</h4>
<p><a href="https://github.com/FHIR/fhir-test-cases/pull/63">https://github.com/FHIR/fhir-test-cases/pull/63</a> - I'm not entirely sure on the syntax in manifest file regarding the errors. There should be no errors in my profile - only in the invalid example</p>



<a name="203318394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203318394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203318394">(Jul 08 2020 at 20:27)</a>:</h4>
<p>And FWIW - I hope your fix is not limited to r4, as I need it to work in STU3</p>



<a name="203320860"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203320860" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203320860">(Jul 08 2020 at 20:46)</a>:</h4>
<p>so your PR says taht mycommunication.invalid.json is invalid against the base spec, but valid against the profile. That's a super rare combination, so I assume you meant the opposite</p>



<a name="203320939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203320939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203320939">(Jul 08 2020 at 20:47)</a>:</h4>
<p>yep</p>



<a name="203321034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321034">(Jul 08 2020 at 20:48)</a>:</h4>
<p>while it may be super rare, i guess it would also be super useless ;)</p>



<a name="203321354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321354">(Jul 08 2020 at 20:51)</a>:</h4>
<p>I get these 4 errors validating against the profile:</p>
<div class="codehilite"><pre><span></span><code>ERROR: Communication.basedOn[0].reference: The element reference is present in the instance but not allowed in the applicable fixed value specified in profile
ERROR: Communication.basedOn[0].type: Missing element &quot;type&quot; - required by fixed value assigned in profile http://hl7.dk/fhir/core/StructureDefinition/MyCommunication
ERROR: Communication.basedOn[0]: The type &quot;Patient&quot; implied by the reference URL Patient/pat-good is not a valid Target for this element (must be one of [Resource])
ERROR: Communication.about[0]: The type &quot;Patient&quot; implied by the reference URL Patient/pat-good is not a valid Target for this element (must be one of [Resource])
</code></pre></div>



<a name="203321535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321535">(Jul 08 2020 at 20:52)</a>:</h4>
<p>nr.3 and 4 are the ones that hit me in production</p>



<a name="203321670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321670">(Jul 08 2020 at 20:53)</a>:</h4>
<p>well, ok. but this can never be valid if the reference is prohibited</p>



<a name="203321775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321775">(Jul 08 2020 at 20:54)</a>:</h4>
<p>sry - no ... nr 4 hit me in production</p>



<a name="203321882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321882">(Jul 08 2020 at 20:55)</a>:</h4>
<p>which errors were present with mycommunication.invalid.json</p>



<a name="203321890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321890">(Jul 08 2020 at 20:55)</a>:</h4>
<p>?</p>



<a name="203321949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321949">(Jul 08 2020 at 20:56)</a>:</h4>
<p>I'm looking at the valid one here</p>



<a name="203321972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203321972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203321972">(Jul 08 2020 at 20:56)</a>:</h4>
<p>oh</p>



<a name="203322093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203322093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203322093">(Jul 08 2020 at 20:57)</a>:</h4>
<p>the 'basedOn' stuff was made up spontaneously</p>



<a name="203322263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203322263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203322263">(Jul 08 2020 at 20:58)</a>:</h4>
<p>disregard those ... even though nr. 3 seems like its a valid bug</p>



<a name="203322705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203322705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203322705">(Jul 08 2020 at 21:02)</a>:</h4>
<p>and nr.1  ... what are the rules again on fixed stuff? it seems weird that you can specify that the value is fixed without stating the fixed value itself - is that intentional?</p>



<a name="203323464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203323464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203323464">(Jul 08 2020 at 21:08)</a>:</h4>
<p>nr. 2 seems redundant/void in the case where type is computed due to assumeValidRestReferences</p>



<a name="203323586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203323586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203323586">(Jul 08 2020 at 21:09)</a>:</h4>
<p>so - if my understanding of fixed is correct, I would say that nr. 1 is an error in the profile AND the resource</p>



<a name="203323726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203323726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203323726">(Jul 08 2020 at 21:11)</a>:</h4>
<p>well, here's quoting from your profile:</p>
<div class="codehilite"><pre><span></span><code>     <span class="nt">&lt;fixedReference&gt;</span>
        <span class="nt">&lt;type</span> <span class="na">value=</span><span class="s">&quot;Patient&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/fixedReference&gt;</span>
</code></pre></div>



<a name="203323748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203323748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203323748">(Jul 08 2020 at 21:11)</a>:</h4>
<p>yep</p>



<a name="203323786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203323786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203323786">(Jul 08 2020 at 21:11)</a>:</h4>
<p>you're saying that the vaule is fixed to not have a reference; it can only have a type, and the value of the type is "Patient"</p>



<a name="203323817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203323817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203323817">(Jul 08 2020 at 21:11)</a>:</h4>
<p>oh my bad</p>



<a name="203323823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203323823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203323823">(Jul 08 2020 at 21:11)</a>:</h4>
<p>misread it</p>



<a name="203324018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324018">(Jul 08 2020 at 21:13)</a>:</h4>
<p>and nr. 2 then ...</p>



<a name="203324049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324049">(Jul 08 2020 at 21:13)</a>:</h4>
<p>it says the resource should state a type in its reference ...</p>



<a name="203324134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324134">(Jul 08 2020 at 21:14)</a>:</h4>
<p>that's what your profile says</p>



<a name="203324194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324194">(Jul 08 2020 at 21:14)</a>:</h4>
<p>nop</p>



<a name="203324217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324217">(Jul 08 2020 at 21:14)</a>:</h4>
<p>indeed it does</p>



<a name="203324288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324288">(Jul 08 2020 at 21:15)</a>:</h4>
<p>wait ...</p>



<a name="203324316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324316">(Jul 08 2020 at 21:15)</a>:</h4>
<p>you're right</p>



<a name="203324406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324406">(Jul 08 2020 at 21:16)</a>:</h4>
<p>check out my fixed up tests - just committed</p>



<a name="203324787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324787">(Jul 08 2020 at 21:19)</a>:</h4>
<p>ok ... seems sane, now what about the invalid one</p>



<a name="203324846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203324846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203324846">(Jul 08 2020 at 21:19)</a>:</h4>
<p>wait ...<br>
your commit shows that</p>



<a name="203325602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203325602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203325602">(Jul 08 2020 at 21:26)</a>:</h4>
<p>the question from is now) when will the fix be available and released? - and) does the release contain breaking changes towards HAPI 5.0.2?</p>



<a name="203325706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203325706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203325706">(Jul 08 2020 at 21:26)</a>:</h4>
<p>if the release contains breaking changes, I'll do the fix myself and do class shadowing</p>



<a name="203326190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203326190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203326190">(Jul 08 2020 at 21:31)</a>:</h4>
<p><a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/270">https://github.com/hapifhir/org.hl7.fhir.core/pull/270</a></p>
<p>no change to the interface but I can't comment on the HAPI release timeline. you'll have to ask on <a class="stream" data-stream-id="179167" href="/#narrow/stream/179167-hapi">#hapi</a></p>



<a name="203326570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203326570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203326570">(Jul 08 2020 at 21:34)</a>:</h4>
<p>I can overwrite the validator dependency - so If you haven't changed the interface contract of how HAPI uses the validation framework, it should be safe for me to import it I suppose</p>



<a name="203326607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203326607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203326607">(Jul 08 2020 at 21:34)</a>:</h4>
<p>(I like you call the branch 'work')</p>



<a name="203326618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203326618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203326618">(Jul 08 2020 at 21:34)</a>:</h4>
<p><a href="/user_uploads/10155/h-wx6_OTAkuPY-1oWgmzjeSc/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/h-wx6_OTAkuPY-1oWgmzjeSc/image.png" title="image.png"><img src="/user_uploads/10155/h-wx6_OTAkuPY-1oWgmzjeSc/image.png"></a></div>



<a name="203326687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203326687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203326687">(Jul 08 2020 at 21:35)</a>:</h4>
<p><span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="203326973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/AssumeValidRestReferences/near/203326973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/AssumeValidRestReferences.html#203326973">(Jul 08 2020 at 21:37)</a>:</h4>
<p>but thx for the fix</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
