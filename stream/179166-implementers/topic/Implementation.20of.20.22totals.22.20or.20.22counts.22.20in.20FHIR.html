---
layout: page
title: "FHIR Chat  · Implementation of &quot;totals&quot; or &quot;counts&quot; in FHIR · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html">Implementation of &quot;totals&quot; or &quot;counts&quot; in FHIR</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="228387898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implementation%20of%20%22totals%22%20or%20%22counts%22%20in%20FHIR/near/228387898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katie Wheatley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html#228387898">(Mar 02 2021 at 10:40)</a>:</h4>
<p>We have a requirement to implement two count of record totals. Currently the only way which we have considered doing this is by adding two extensions to our models (although we are still in the process of considering which resource we should extend). I attach two possible design options. I would really appreciate advice on</p>
<ol>
<li>Which of the designs attached appears the best of the two.</li>
<li>Are there any generic ways in FHIR which can be used to model a total or count which I may not be aware of ?<br>
Many thanks in advance for assistance with this.<br>
<a href="/user_uploads/10155/PbZ8rUw2MDzvaOyRkOzireqO/CP-IS-DesignOptions1.jpg">CP-IS-DesignOptions1.jpg</a> <br>
<a href="/user_uploads/10155/ZefRS7qnDFfTmap_tjfrbSwS/CP-IS-DesignOptions2.jpg">CP-IS-DesignOptions2.jpg</a><div class="message_inline_image"><a href="/user_uploads/10155/PbZ8rUw2MDzvaOyRkOzireqO/CP-IS-DesignOptions1.jpg" title="CP-IS-DesignOptions1.jpg"><img src="/user_uploads/10155/PbZ8rUw2MDzvaOyRkOzireqO/CP-IS-DesignOptions1.jpg"></a></div><div class="message_inline_image"><a href="/user_uploads/10155/ZefRS7qnDFfTmap_tjfrbSwS/CP-IS-DesignOptions2.jpg" title="CP-IS-DesignOptions2.jpg"><img src="/user_uploads/10155/ZefRS7qnDFfTmap_tjfrbSwS/CP-IS-DesignOptions2.jpg"></a></div></li>
</ol>



<a name="228414504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implementation%20of%20%22totals%22%20or%20%22counts%22%20in%20FHIR/near/228414504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html#228414504">(Mar 02 2021 at 14:07)</a>:</h4>
<p>To me count is relevant 'upon disclosure' / 'upon communication', so Bundle (which already has a total data element), or perhaps AuditEvent (if you're not using a bundle) would be the best candidates for an extension.</p>



<a name="228421861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implementation%20of%20%22totals%22%20or%20%22counts%22%20in%20FHIR/near/228421861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html#228421861">(Mar 02 2021 at 14:50)</a>:</h4>
<p>Can you explain more about what the total covers?</p>



<a name="228588580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implementation%20of%20%22totals%22%20or%20%22counts%22%20in%20FHIR/near/228588580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Katie Wheatley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html#228588580">(Mar 03 2021 at 13:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR/near/228421861">said</a>:</p>
<blockquote>
<p>Can you explain more about what the total covers?</p>
</blockquote>
<p>The totals cover the total returned records (data aggregated from the AuditEvent(s)) and the total returned CarePlans (data aggregated from the CarePlans returned) for a given patient NHS number parameter.<br>
The background is that a Care professional is querying  a relevant database by Patient NHS number to determine a) who has previously queried the database for this NHS number b) how many CarePlans exist (with or without end dates) for the specified NHS number.</p>



<a name="228595546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implementation%20of%20%22totals%22%20or%20%22counts%22%20in%20FHIR/near/228595546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html#228595546">(Mar 03 2021 at 14:00)</a>:</h4>
<p>If those can be expressed as searches (as they seem) you can simply use <code>_summary=count</code></p>



<a name="228595793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implementation%20of%20%22totals%22%20or%20%22counts%22%20in%20FHIR/near/228595793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html#228595793">(Mar 03 2021 at 14:02)</a>:</h4>
<p>(<a href="https://www.hl7.org/fhir/search.html#summary-count">https://www.hl7.org/fhir/search.html#summary-count</a>)</p>



<a name="228603316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implementation%20of%20%22totals%22%20or%20%22counts%22%20in%20FHIR/near/228603316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html#228603316">(Mar 03 2021 at 14:45)</a>:</h4>
<p>Agree.  The first sounds like a search against AuditEvent - returning a count.  This wouldn't generally be a persisted value because it would be continuously changing.  The latter would be a search against CarePlan.  Those wouldn't change as often, but they'd still be dynamic.</p>



<a name="228610665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Implementation%20of%20%22totals%22%20or%20%22counts%22%20in%20FHIR/near/228610665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Implementation.20of.20.22totals.22.20or.20.22counts.22.20in.20FHIR.html#228610665">(Mar 03 2021 at 15:27)</a>:</h4>
<p>The focus of the search should be CarePlan, so total would be number of CarePlan's returned. We have a requirement to also return number of AuditEvents (counting them or a seperate API would be our preferred approach BUT.........)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
