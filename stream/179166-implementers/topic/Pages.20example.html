---
layout: page
title: "FHIR Chat  · Pages example · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html">Pages example</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189668445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189668445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roberth Blum <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189668445">(Mar 04 2020 at 07:57)</a>:</h4>
<p>Anyone have a good example, or a link to an example, of using pages to retrieve a very large data set via a FHIR REST API?</p>



<a name="189679711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189679711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189679711">(Mar 04 2020 at 10:57)</a>:</h4>
<p>What do you mean with 'pages'?</p>



<a name="189680205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189680205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abel Stolz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189680205">(Mar 04 2020 at 11:03)</a>:</h4>
<p>FHIR searches return large results in sets of pages (search parameter 'count'). This is like web site which displays search results in sets of 10, 25, 100, whatever you specify. The first result set (first page) contains a link to the next page with the next search results.</p>



<a name="189689537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189689537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roberth Blum <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189689537">(Mar 04 2020 at 13:25)</a>:</h4>
<p>Thanks for your responses. <br>
I have this example in XML <a href="https://www.hl7.org/fhir/http.html#paging" target="_blank" title="https://www.hl7.org/fhir/http.html#paging">https://www.hl7.org/fhir/http.html#paging</a>. As I understand I must define what the first/last, previous/next page is in the bundle Meta. However, where can I find a more real life example? And how do I implement this in json?</p>



<a name="189689851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189689851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189689851">(Mar 04 2020 at 13:29)</a>:</h4>
<p><a href="#narrow/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F" title="#narrow/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/result.20pagination.20-.20_count.20.2F.20offset.3F</a></p>



<a name="189689931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189689931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189689931">(Mar 04 2020 at 13:30)</a>:</h4>
<p>you do a search with the parameter ?_count=x, where x is the amount of results you want to return</p>



<a name="189690000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189690000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189690000">(Mar 04 2020 at 13:31)</a>:</h4>
<p>in the search result - depending on which server - you get the links to the next set</p>



<a name="189690003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189690003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189690003">(Mar 04 2020 at 13:31)</a>:</h4>
<p><a href="http://test.fhir.org/r4/Patient/?_count=5" target="_blank" title="http://test.fhir.org/r4/Patient/?_count=5">http://test.fhir.org/r4/Patient/?_count=5</a></p>



<a name="189690023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189690023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189690023">(Mar 04 2020 at 13:31)</a>:</h4>
<p>is that what you are asking <span class="user-mention" data-user-id="258195">@Roberth Blum</span> ?</p>



<a name="189691689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189691689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roberth Blum <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189691689">(Mar 04 2020 at 13:52)</a>:</h4>
<p>Yes, kind of close. Just something I am missing is <a href="http://test.fhir.org/r4/Patient/?_count=1" target="_blank" title="http://test.fhir.org/r4/Patient/?_count=1">http://test.fhir.org/r4/Patient/?_count=1</a> where do I find the link to the next set? I seem to not be able to find it.</p>



<a name="189692783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189692783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roberth Blum <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189692783">(Mar 04 2020 at 14:02)</a>:</h4>
<p>OK, i think I understand, If I build the API I need to store the search and let the requester offset with 1. <br>
E.g. <a href="http://test.fhir.org/r4/Patient?_format=text/xhtml&amp;search-id=aba873f1-7731-4600-ba67-0259d3efd6&amp;search-offset=2&amp;_count=1" target="_blank" title="http://test.fhir.org/r4/Patient?_format=text/xhtml&amp;search-id=aba873f1-7731-4600-ba67-0259d3efd6&amp;search-offset=2&amp;_count=1">http://test.fhir.org/r4/Patient?_format=text/xhtml&amp;search-id=aba873f1-7731-4600-ba67-0259d3efd6&amp;search-offset=2&amp;_count=1</a></p>
<p>I was under the impression that there is a possibility to not have to store the searches as Search ID.</p>
<p>As the example provided in <a href="https://www.hl7.org/fhir/http.html#paging" target="_blank" title="https://www.hl7.org/fhir/http.html#paging">https://www.hl7.org/fhir/http.html#paging</a></p>



<a name="189693259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189693259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189693259">(Mar 04 2020 at 14:07)</a>:</h4>
<p>If you are building the server API, please note that you do not need to support an explicit <code>offset</code> parameter. You can internally track searches in any way you like and the only interface that you need to expose is to include a next page link and a previous page link on each page you return. These may embed parameters that are totally opaque to the client, rather than a transparent parameter like <code>offset</code> (or indeed they may point to totally distinct paths).</p>



<a name="189694050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189694050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roberth Blum <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189694050">(Mar 04 2020 at 14:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> <a href="#narrow/stream/179166-implementers/topic/Pages.20example/near/189693259" title="#narrow/stream/179166-implementers/topic/Pages.20example/near/189693259">said</a>:</p>
<blockquote>
<p>If you are building the server API, please note that you do not need to support an explicit <code>offset</code> parameter. You can internally track searches in any way you like and the only interface that you need to expose is to include a next page link and a previous page link on each page you return. These may embed parameters that are totally opaque to the client, rather than a transparent parameter like <code>offset</code> (or indeed they may point to totally distinct paths).</p>
</blockquote>
<p>Yes exactly this is what I would like to achieve. This is what I am searching for an example for in json for inspiration, to just send the "next" URL in the response.</p>



<a name="189710878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189710878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189710878">(Mar 04 2020 at 16:55)</a>:</h4>
<p>OK -- you can try <a href="http://hapi.fhir.org/baseR4/Patient?_count=1" target="_blank" title="http://hapi.fhir.org/baseR4/Patient?_count=1">http://hapi.fhir.org/baseR4/Patient?_count=1</a> for example and you'll see:</p>
<div class="codehilite"><pre><span></span>  &quot;link&quot;: [
    {
      &quot;relation&quot;: &quot;self&quot;,
      &quot;url&quot;: &quot;http://hapi.fhir.org/baseR4/Patient?_count=1&quot;
    },
    {
      &quot;relation&quot;: &quot;next&quot;,
      &quot;url&quot;: &quot;http://hapi.fhir.org/baseR4?_getpages=bb1387b5-45ec-4263-868a-aeb173a6bf14&amp;_getpagesoffset=1&amp;_count=1&amp;_pretty=true&amp;_bundletype=searchset&quot;
    }
  ],
</pre></div>



<a name="189710991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189710991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189710991">(Mar 04 2020 at 16:56)</a>:</h4>
<p>If you follow the <code>next </code>link (which, note, is totally opaque, and doens't look at all like the <code>self</code> link), you'll see examples of <code>next</code> and <code>previous</code>:</p>
<div class="codehilite"><pre><span></span>  &quot;link&quot;: [
    {
      &quot;relation&quot;: &quot;self&quot;,
      &quot;url&quot;: &quot;http://hapi.fhir.org/baseR4?_getpages=bb1387b5-45ec-4263-868a-aeb173a6bf14&amp;_getpagesoffset=1&amp;_count=1&amp;_pretty=true&amp;_bundletype=searchset&quot;
    },
    {
      &quot;relation&quot;: &quot;next&quot;,
      &quot;url&quot;: &quot;http://hapi.fhir.org/baseR4?_getpages=bb1387b5-45ec-4263-868a-aeb173a6bf14&amp;_getpagesoffset=2&amp;_count=1&amp;_pretty=true&amp;_bundletype=searchset&quot;
    },
    {
      &quot;relation&quot;: &quot;previous&quot;,
      &quot;url&quot;: &quot;http://hapi.fhir.org/baseR4?_getpages=bb1387b5-45ec-4263-868a-aeb173a6bf14&amp;_getpagesoffset=0&amp;_count=1&amp;_pretty=true&amp;_bundletype=searchset&quot;
    }
  ],
</pre></div>



<a name="189714654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189714654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189714654">(Mar 04 2020 at 17:31)</a>:</h4>
<p>What the next and previous links look like will vary from server to server.  There's no expectation for the mechanisms to be consistent.  From a client perspective it's an opaque URL you invoke to navigate from page to page.</p>



<a name="189764666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Pages%20example/near/189764666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roberth Blum <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Pages.20example.html#189764666">(Mar 05 2020 at 06:50)</a>:</h4>
<p>Thanks, very helpful! I will test an adaption of this and see how it fit our need.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
