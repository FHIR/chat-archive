---
layout: page
title: "FHIR Chat  · Slicing validation question · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html">Slicing validation question</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="166211459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166211459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166211459">(May 21 2019 at 20:50)</a>:</h4>
<p>Hi, can anyone help me understand this error message: I'm trying to validate this instance (<a href="https://www.hl7.org/fhir/observation-example-bloodpressure.json.html" target="_blank" title="https://www.hl7.org/fhir/observation-example-bloodpressure.json.html">https://www.hl7.org/fhir/observation-example-bloodpressure.json.html</a>) against this profile (<a href="http://hl7.org/fhir/bp.html" target="_blank" title="http://hl7.org/fhir/bp.html">http://hl7.org/fhir/bp.html</a>) using  this syntax (java -jar org.hl7.fhir.validator.jar fixed_observation_bp_example.json -profile <a href="http://hl7.org/fhir/StructureDefinition/bp" target="_blank" title="http://hl7.org/fhir/StructureDefinition/bp">http://hl7.org/fhir/StructureDefinition/bp</a>) and I'm getting these error messages:</p>



<a name="166211464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166211464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Dolin <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166211464">(May 21 2019 at 20:50)</a>:</h4>
<p>Error @ Observation.component[1] (line 80, col6) : Error in discriminator at Observation.component:DiastolicBP.code.coding: slicing found<br>
 Error @ Observation.component[1] (line 80, col6) : Error in discriminator at Observation.component:SystolicBP.code.coding: slicing found<br>
 Error @ Observation.component[2] (line 119, col6) : Error in discriminator at Observation.component:DiastolicBP.code.coding: slicing found<br>
 Error @ Observation.component[2] (line 119, col6) : Error in discriminator at Observation.component:SystolicBP.code.coding: slicing found</p>



<a name="166211650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166211650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166211650">(May 21 2019 at 20:52)</a>:</h4>
<p>It sounds like you have slicing declared on the element that's a discriminator for a higher-level slice.  That's not supported.</p>



<a name="166211679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166211679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166211679">(May 21 2019 at 20:52)</a>:</h4>
<p>it's not Bob who has that problem. I'll investigate</p>



<a name="166213061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166213061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166213061">(May 21 2019 at 21:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> see  also <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21472" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21472">GF#21472</a>. I documented the different cases in the validator test suite, problem is that the bp profile from fhir is causing the validator to fail. One possibe fix it is to simplify the slicing and use patternCodeableConcept for the components.code in the slicing for the Blood Pressure profile as illustrated in observation-bp-profile.xml, but that would need an update to <a href="http://hl7.org/fhir/StructureDefinition/bp" target="_blank" title="http://hl7.org/fhir/StructureDefinition/bp">http://hl7.org/fhir/StructureDefinition/bp</a>.</p>



<a name="166215233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166215233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166215233">(May 21 2019 at 21:38)</a>:</h4>
<p>well, it would be simpler to do that, I think. but it should still work anyway</p>



<a name="166215345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166215345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166215345">(May 21 2019 at 21:39)</a>:</h4>
<p>the same structure works fine for Observation.code.coding... some bug in the code....</p>



<a name="166229971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166229971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166229971">(May 22 2019 at 01:47)</a>:</h4>
<p>ok releasing a fix for this now</p>



<a name="166296095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166296095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Soujanya Rao <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166296095">(May 22 2019 at 18:31)</a>:</h4>
<p>Thank you fixing the bug. Is this released? If yes, from where can I grab it? I used the link:  download the validator: [https://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=ca.uhn.hapi.fhir&amp;a=org.hl7.fhir.validation.cli&amp;v=LATEST&amp;e=jar]  from <a href="http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator" target="_blank" title="http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator">http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator</a> for the earlier version.</p>



<a name="166298622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166298622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166298622">(May 22 2019 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Are we going to move to the new approach for sharing releases of the validator too?</p>



<a name="166301382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166301382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166301382">(May 22 2019 at 19:29)</a>:</h4>
<p>you can make a tracker for bp - check if there already is one first.</p>



<a name="166303928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166303928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166303928">(May 22 2019 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> what would the task be for ?<br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> yes</p>



<a name="166304030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166304030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166304030">(May 22 2019 at 20:00)</a>:</h4>
<p>change slicing for bp to pattern</p>



<a name="166304087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Slicing%20validation%20question/near/166304087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Slicing.20validation.20question.html#166304087">(May 22 2019 at 20:01)</a>:</h4>
<p>ok worth a task, I think</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
