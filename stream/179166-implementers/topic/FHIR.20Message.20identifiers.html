---
layout: page
title: "FHIR Chat  · FHIR Message identifiers · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html">FHIR Message identifiers</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215292937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215292937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215292937">(Nov 02 2020 at 08:59)</a>:</h4>
<p>I'm a bit confused around the use of identifiers.</p>



<a name="215293155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215293155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215293155">(Nov 02 2020 at 09:01)</a>:</h4>
<p>Official guidance mentions the use of <a href="http://Bundle.id">Bundle.id</a> and <a href="http://MessageHeader.id">MessageHeader.id</a>  <a href="https://www.hl7.org/fhir/messaging.html#3.4.1.4">https://www.hl7.org/fhir/messaging.html#3.4.1.4</a> I'm presuming this is meant to be identifiers not id.<br>
This matches a page on simplifier Profiling Academy section 1.4 of <a href="https://simplifier.net/guide/ProfilingAcademy/FHIRmessaging">https://simplifier.net/guide/ProfilingAcademy/FHIRmessaging</a></p>
<p>MessageHeader doesn't have identifier?</p>



<a name="215293257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215293257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215293257">(Nov 02 2020 at 09:02)</a>:</h4>
<p>Both refer to id, is that correct? Should it not read identifier.</p>



<a name="215306417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215306417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215306417">(Nov 02 2020 at 11:27)</a>:</h4>
<p>In addition. </p>
<p>MessageHeader.responese.identifier points to an id type. I'm presuming this is meant to refer to Bundle.identifier and should have the same data type, so an identifier. </p>
<p>This is a fault in the specification?</p>



<a name="215320987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215320987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215320987">(Nov 02 2020 at 13:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> Possibly helpful discussion:  <a href="http://build.fhir.org/resource.html#identification">http://build.fhir.org/resource.html#identification</a></p>



<a name="215322144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215322144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215322144">(Nov 02 2020 at 14:06)</a>:</h4>
<p>MessageHeader.response.identifier will refer to the Bundle.identifier of the original message.  Agree that the wording is confusing - can you submit a change request to make it clearer we're talking about 'identifier'?</p>



<a name="215323302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215323302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215323302">(Nov 02 2020 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Thanks will do.</p>



<a name="215331420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215331420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215331420">(Nov 02 2020 at 15:14)</a>:</h4>
<p>Is this indeed the intent? The definition of MessageHeader.response.identifier states:</p>
<blockquote>
<p>The <a href="http://MessageHeader.id">MessageHeader.id</a> of the message to which this message is a response.</p>
</blockquote>
<p>All the discussion in 3.4.1.4 seems to be explicitly about .id, not .identifier.</p>



<a name="215345921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215345921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215345921">(Nov 02 2020 at 16:52)</a>:</h4>
<p>I've taken it to mean identifier.  To replace <a href="http://MessageHeader.id">MessageHeader.id</a> and I've created an identifier extension. Early draft profile <br>
<a href="https://simplifier.net/guide/nhsdigitalspine/Spine-MessageHeader">https://simplifier.net/guide/nhsdigitalspine/Spine-MessageHeader</a></p>



<a name="215347682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215347682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215347682">(Nov 02 2020 at 17:04)</a>:</h4>
<p>I believe there was a <a href="#narrow/stream/179263-fhir-messages/topic/Absence.20of.20Reliable.20Messaging.20Documentation/near/185460000">deliberate decision NOT to have a MessageHeader.identifier</a>. Adding an extension for that seems ill-advised. Changing the data type of MessageHeader.response.identifier on top of that, and now you have an incompatible IG that doesn't match any other implementation.</p>



<a name="215355641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215355641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215355641">(Nov 02 2020 at 18:02)</a>:</h4>
<p>Definitely you don't want an extension for identifier on MessageHeader.  The identifier for a message is always Bundle.identifier.</p>



<a name="215363640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215363640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215363640">(Nov 02 2020 at 19:07)</a>:</h4>
<p>I read this as the id not identifier for both</p>



<a name="215420095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215420095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215420095">(Nov 03 2020 at 07:33)</a>:</h4>
<p><strong>resource.id</strong> seems ill suited as its transient and seems to go against rules for Bundles (plus it creates complications with libraries like HAPI).</p>
<p>I'm seeing the requirement for two types of message Identifiers:</p>
<ul>
<li>Correlation 'ID' - for use on multi hop/leg messages. i.e. A-&gt;B-&gt;C </li>
<li>Request/Message 'ID' - for use on individual legs. These legs may use different transports (http and message queue) and payloads differ slightly.  In the scenario I'm working on, some of the legs are HL7v3 and it is probable the first leg is HL7v2. </li>
</ul>
<p>These message identifiers may be the same and some may not practical for some legs/hops.</p>
<p>I'm happy to stick with Bundle.identifier as the request/message ID but I don't have a place for the Correlation ID. Probably useful to include prior request/message ID's in the message somewhere.</p>



<a name="215420647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215420647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215420647">(Nov 03 2020 at 07:43)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191401">@Eric Haas</span> for the link. Are you working on the US Da Vinci alerts?  If so have you created any documentation on messageHeader.</p>



<a name="215423736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215423736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokesh G S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215423736">(Nov 03 2020 at 08:30)</a>:</h4>
<p>Hi team , i have doubt  on fhir audit events, how to set up it ? does it capture automatically? or do we write when an event is done?</p>



<a name="215424288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215424288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215424288">(Nov 03 2020 at 08:37)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="356954">@Lokesh G S</span>. This seems to be the wrong stream for your question, as this is a stream about FHIR Message identifiers.  Please re-ask your question in a more fitting stream or make a new stream. Thank you.</p>



<a name="215424377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215424377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokesh G S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215424377">(Nov 03 2020 at 08:38)</a>:</h4>
<p>No one is helping me what to do <span class="user-mention" data-user-id="196115">@Mareike Przysucha</span> . Can you please tell me any person who can help me on audit events</p>



<a name="215424511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215424511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215424511">(Nov 03 2020 at 08:39)</a>:</h4>
<p>Sorry, I mixed stream and topic. There is a topic "AuditEvents in pure FHIR Servers" in the implementers stream. Probably that is a better place.</p>



<a name="215424722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215424722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokesh G S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215424722">(Nov 03 2020 at 08:42)</a>:</h4>
<p>Yes i did in AuditEvents in pure FHIR Servers but no one is replying</p>



<a name="215424900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215424900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215424900">(Nov 03 2020 at 08:44)</a>:</h4>
<p>First: I will answer in that topic, not here any more.</p>



<a name="215425229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215425229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215425229">(Nov 03 2020 at 08:48)</a>:</h4>
<p>sorry, this sounded more strict than it was meant to.</p>



<a name="215425407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215425407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lokesh G S <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215425407">(Nov 03 2020 at 08:50)</a>:</h4>
<p>I understand it <span class="user-mention" data-user-id="196115">@Mareike Przysucha</span>  sorry for it</p>



<a name="215439725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215439725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215439725">(Nov 03 2020 at 11:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/FHIR.20Message.20identifiers/near/215355641">said</a>:</p>
<blockquote>
<p>Definitely you don't want an extension for identifier on MessageHeader.  The identifier for a message is always Bundle.identifier.</p>
</blockquote>
<p>Not sure if I agree. This works for point to point messages but it's not so straight forward for those going through a series of message channels. <br>
I would want to use an identifier with a wider scope than just 'point to point' Bundle.identifiers. Which is why I'm thinking of a 'end to end' Correlation ID.</p>



<a name="215478224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215478224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215478224">(Nov 03 2020 at 16:36)</a>:</h4>
<p>The <a href="http://hl7.org/fhir/us/davinci-alerts/">Alerts guide</a> is published.  The Bundle  and MessageHeader ids are both required they are transacted using the $process-message operation.  We have guidance on how intermediaries need to update them <a href="file:///Users/ehaas/Documents/FHIR/Davinci-Alerts/output/guidance.html#additional-intermediary-steps">here</a>.  Here is the simulation of it: <a href="http://ehaas.pythonanywhere.com/">http://ehaas.pythonanywhere.com/</a></p>



<a name="215501442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215501442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215501442">(Nov 03 2020 at 19:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> A message passing through multiple endpoints may change <a href="http://Bundle.id">Bundle.id</a>, but should <em>never</em> change Bundle.identifier.</p>



<a name="215547915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Message%20identifiers/near/215547915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Message.20identifiers.html#215547915">(Nov 04 2020 at 07:18)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191401">@Eric Haas</span>  I'll create a thread on <a class="stream" data-stream-id="179263" href="/#narrow/stream/179263-fhir-messages">#fhir-messages</a>  to track differences between Da Vinci and UK Core (currently know as Spine). I want to lean towards Da Vinci if possible. <br>
Main difference i'm seeing at the mo is UK trend is leaning towards HL7v2 and to a lesser extent HL7v3 (but it's limited feedback at present)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
