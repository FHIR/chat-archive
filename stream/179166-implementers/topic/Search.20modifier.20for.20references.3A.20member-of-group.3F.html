---
layout: page
title: "FHIR Chat  · Search modifier for references: member-of-group? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html">Search modifier for references: member-of-group?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="165158418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/165158418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#165158418">(May 08 2019 at 12:34)</a>:</h4>
<p>I think there's no good way to query for Encounters about a patient who is in my group, other than maaaaybe</p>
<div class="codehilite"><pre><span></span> Encounter?patient:_has:Group:patient:_id=my-group-id
</pre></div>


<p>What would people think about an explicit modifier on reference searches like:</p>
<div class="codehilite"><pre><span></span>Encounter?patient:member-of-group=my-group-id
</pre></div>


<p>This is similar to "in" for valueset membership. For example it can apply to intensionally defined groups, where no materialized list of patients exists on the server. It's also similar to the <code>_list</code> search parameter, so in theory it could be addressed with a kind of <code>_group</code> parameter, but this feels kind of implicit.</p>
<p>This is all relevant because of subscriptions use cases, so we might wind up doing something special just for subsriptions, but seemed worth some broader discussion.</p>



<a name="165677935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/165677935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#165677935">(May 15 2019 at 01:22)</a>:</h4>
<p>I would actually like to consider just using the :in modifier.</p>



<a name="165680570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/165680570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#165680570">(May 15 2019 at 02:23)</a>:</h4>
<p>Sure, it seems like a reasonable extension of the semantics. As long as we pick something :-)</p>



<a name="167867900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/167867900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#167867900">(Jun 11 2019 at 16:46)</a>:</h4>
<p>Added <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22690" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22690">GF#22690</a></p>



<a name="173578843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173578843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173578843">(Aug 19 2019 at 21:00)</a>:</h4>
<p>Just took this up in FHIR-I. We have a draft disposition but wanted to check here for feedback from server authors about a few different ways we might define the <code>:in</code> modifier for reference-type searches. We'd say that <code>:in</code> modifier can be used to search for references that belong to a specific <code>List</code> (as in <code>List.entry.item</code>) or <code>Group</code> (as in <code>Group.member.entity</code>).</p>



<a name="173578844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173578844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173578844">(Aug 19 2019 at 21:00)</a>:</h4>
<p>For the case of Lists and enumeration-based Groups, supporting this kind of lookup basically boils down (for server developers) to filtering based on a known set of references in the specified List (or Group). But for characteristic-based Groups, there is no pre-computed enumeration of members -- which would make support for <code>:in</code> quite a bit more challenging.</p>



<a name="173578883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173578883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173578883">(Aug 19 2019 at 21:01)</a>:</h4>
<p>Among the following options, what would folks prefer to see? (Please thumbs-up your preferred options.)</p>



<a name="173578946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173578946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173578946">(Aug 19 2019 at 21:02)</a>:</h4>
<p>1. The <code>:in</code> modifier for reference-based searches is defined for Lists and for enumeration-based Groups but is undefined for characteristics-based (non-enumerated) Groups.</p>



<a name="173579041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173579041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173579041">(Aug 19 2019 at 21:03)</a>:</h4>
<p>2. The <code>:in</code> modifier for reference-based searches is defined for all Lists and Groups, but some servers supporting <code>:in</code> MAY refuse to work on non-enumerated Groups.</p>



<a name="173579120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173579120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173579120">(Aug 19 2019 at 21:04)</a>:</h4>
<p>(Or feel free to present other options here ;-))</p>



<a name="173581617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173581617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173581617">(Aug 19 2019 at 21:35)</a>:</h4>
<p>To the extent that group characteristics can be evaluated in terms of search parameters, I can see :in being an indirection that retrieves some criteria from the group and evaluates them. Even if those criteria are internal server magic rather than expressed in standard search terms, that still makes sense.</p>
<p>But I don't see how this makes sense in more abstract characteristic groups - for example, the R4 Group examples include a characteristic group for <a href="http://hl7.org/implement/standards/fhir/group-example-herd1.json.html" target="_blank" title="http://hl7.org/implement/standards/fhir/group-example-herd1.json.html">"Herd of 2500 breeding sows"</a>. How do I know if Patient/123, which is a pig and matches the characteristics, is one of those 2500 specifically? Or is that not a valid and relevant example?</p>



<a name="173581634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173581634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173581634">(Aug 19 2019 at 21:35)</a>:</h4>
<p>Why adding this at all? Can't you just use <code>_has</code> ?</p>



<a name="173581868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173581868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173581868">(Aug 19 2019 at 21:38)</a>:</h4>
<p><code>Encounter?patient._has:Group:member:</code>  ....? I just got lost.</p>



<a name="173581927"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173581927" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173581927">(Aug 19 2019 at 21:39)</a>:</h4>
<p><code>Encounter?patient._has:Group:member: _id=xxxx</code> (xxx is the id of the group)</p>



<a name="173581939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173581939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173581939">(Aug 19 2019 at 21:39)</a>:</h4>
<p>Right.</p>



<a name="173581998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173581998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173581998">(Aug 19 2019 at 21:40)</a>:</h4>
<p>I think this technically works but I'm not sure that argues against adding a more explicit/limited modifier.</p>



<a name="173582046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173582046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173582046">(Aug 19 2019 at 21:41)</a>:</h4>
<p>i.e., I think the readability of <code>Encounter?patient:in=Group/123</code> is itself a value proposition.</p>



<a name="173582144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173582144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173582144">(Aug 19 2019 at 21:43)</a>:</h4>
<p><span class="user-mention" data-user-id="197072">@Paul Church</span> regarding the specific example with those pigs, I think that's not a group that's well-defined enough to ever resolve individuals. (If it said "Group of Farmer John's Breeding Sows" and had no <code>quantity</code> and instead characterics that established the sow-ness and belonging-to-farmer-john-ness, then I guess it could apply, since you could deterministically evaluate a particular Patient against the characateristics to resolve membership. But I think this is a separate discussion about Groups.)</p>



<a name="173583215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173583215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173583215">(Aug 19 2019 at 21:59)</a>:</h4>
<p>I don't see how a general-purpose server can decide whether a particular characteristic group is or is not the kind that is well-defined enough to do this operation. It's fine for facade or customized servers, but from an interoperability perspective it seems like enumerated groups are the only case a client can rely on.</p>



<a name="173583524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173583524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173583524">(Aug 19 2019 at 22:04)</a>:</h4>
<p>Yeah, I wonder if there is any way to tell whether a group is fully defined by its characteristics vs merely described by them. <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  has there been anything on this question? (It has echoes of modeling concepts in description logic like SNOMED.)</p>



<a name="173583571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173583571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173583571">(Aug 19 2019 at 22:04)</a>:</h4>
<p>I think the readability of :in for enumerated groups/lists is a plus, and potentially an opportunity for optimization over _has.</p>



<a name="173583612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173583612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173583612">(Aug 19 2019 at 22:05)</a>:</h4>
<p>In theory we could resolve this issue with an additional flag on Group. I wonder how often we expect to see non-enumerated groups with characteristics that are merely descriptive (like the example from the spec).</p>



<a name="173583636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173583636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173583636">(Aug 19 2019 at 22:05)</a>:</h4>
<p>my server will resolve some groups - e.g. gender = female</p>



<a name="173583651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173583651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173583651">(Aug 19 2019 at 22:05)</a>:</h4>
<p>it knows what group characteristics it knows how to resolve or not</p>



<a name="173583702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173583702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173583702">(Aug 19 2019 at 22:06)</a>:</h4>
<p>though I do not pre-index this. I could, if I did the work</p>



<a name="173583756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173583756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173583756">(Aug 19 2019 at 22:07)</a>:</h4>
<p>I prefer the :in based syntax</p>



<a name="173623089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173623089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173623089">(Aug 20 2019 at 02:08)</a>:</h4>
<p>The intention for Group was that the characteristics are the definition.  Enumeration of members is optional and not necessarily complete.  Some characteristics may not be searchable.  E.g.  "Everyone who came within 2 miles of coordinates xyz between start date and end date" is a completely logical group definition for certain public health scenarios, but certainly not something you could hope to search by.  (Though the public health folks would surely love us if we could come up with a way :&gt;)</p>



<a name="173623164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173623164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173623164">(Aug 20 2019 at 02:10)</a>:</h4>
<p>In practice, I think Group is being used in two different ways.  In some cases, the members are simply enumerated and the criteria are either missing or informational.  This would be things like practice groups and capitation groups.  On the other hand, for clinical trial definitions and public health, the criteria hold sway and members might not be enumerated at all.  In some cases, you'll start with a set of criteria and eventually have a full enumeration (e.g. a clinical trial where the group eventually enumerates all enrolled participants).</p>



<a name="173625945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173625945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173625945">(Aug 20 2019 at 03:28)</a>:</h4>
<p>But Paul's example <a href="http://hl7.org/implement/standards/fhir/group-example-herd1.json.html" target="_blank" title="http://hl7.org/implement/standards/fhir/group-example-herd1.json.html">http://hl7.org/implement/standards/fhir/group-example-herd1.json.html</a> is not enumerated, and doesn't have fully definitional characteristics. Is that invalid?</p>



<a name="173632899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173632899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173632899">(Aug 20 2019 at 06:39)</a>:</h4>
<p>I don't think so.</p>



<a name="173669926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173669926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173669926">(Aug 20 2019 at 15:51)</a>:</h4>
<p>Okay -- and what's <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>'s take?</p>



<a name="173671837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173671837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173671837">(Aug 20 2019 at 16:14)</a>:</h4>
<p>Yet another use-case for group.  In this case, the "identity" of the group is in its identifier.  The herd of cows or crate of mice is managed by its identifier.  The criteria <em>could</em> be fully specified by designating owner or crate number or barn or something, but for the intended use, that would be unnecessary.  Someone, somewhere should know exactly which cows are in the herd or mice are in the crate, but that information might not always be shared.</p>



<a name="173679493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173679493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173679493">(Aug 20 2019 at 17:48)</a>:</h4>
<p>Okay -- and do you think there's value in expressing this distinction (i.e. "This group is defined by its characteristics" vs "This group is described by its characteristics but not defined") in our model (e.g., <code>Group.fullyDefinedByCharacteristics</code>: Boolean)? To <span class="user-mention" data-user-id="197072">@Paul Church</span>'s point it's impossible for a generic server to navigate these distinctions otherwise.</p>



<a name="173679508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173679508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173679508">(Aug 20 2019 at 17:48)</a>:</h4>
<p>I'll add a GForge item for this unless folks find it abhorrent here :)</p>



<a name="173681351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173681351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173681351">(Aug 20 2019 at 18:10)</a>:</h4>
<p>Added <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23724" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23724">GF#23724</a>.</p>



<a name="173681977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173681977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173681977">(Aug 20 2019 at 18:17)</a>:</h4>
<p>As an alternative, could change "actual" from a bool to an enum with 3 values. Otherwise there are 2x2 possible values, one of which doesn't make sense.</p>



<a name="173682060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173682060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173682060">(Aug 20 2019 at 18:18)</a>:</h4>
<p>The one that doesn't make sense is "actual: false" and "fullyDefined: true"?</p>



<a name="173682117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173682117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173682117">(Aug 20 2019 at 18:19)</a>:</h4>
<p>Yes. (Or does it? I'm not sure how actual: false is used.)</p>



<a name="173682209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173682209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173682209">(Aug 20 2019 at 18:20)</a>:</h4>
<p>I'm not totally sure either, but I think you're right. I updated the GF issue to include this point.</p>



<a name="173824710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173824710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173824710">(Aug 21 2019 at 19:27)</a>:</h4>
<p>I already had a task about this</p>



<a name="173825083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173825083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173825083">(Aug 21 2019 at 19:30)</a>:</h4>
<p>I was thinking of <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17457" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17457">GF#17457</a></p>



<a name="173826673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173826673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173826673">(Aug 21 2019 at 19:51)</a>:</h4>
<p>Yeah, it's related but distinct.</p>



<a name="173826756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/173826756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#173826756">(Aug 21 2019 at 19:52)</a>:</h4>
<p>(<a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17457" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17457">GF#17457</a> gets at the question of whether enumerations are always expected to be complete, but <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23724" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23724">GF#23724</a> gets at the question of whether membership can automatically be inferred. For the "pile of pigs" Group, the characteristics don't actually define the group, so membership couldn't automatically be inferred.)</p>



<a name="174674397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/174674397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#174674397">(Sep 01 2019 at 19:42)</a>:</h4>
<p>Could this also be applied to organization or location hierarchies?</p>



<a name="174674401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/174674401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#174674401">(Sep 01 2019 at 19:42)</a>:</h4>
<p>Or is that a seperate tracker?</p>



<a name="174748520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/174748520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#174748520">(Sep 02 2019 at 23:54)</a>:</h4>
<p>I think it's a separate tracker (or should be) but I'd like to see it</p>



<a name="176265122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/176265122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Alper <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#176265122">(Sep 21 2019 at 13:35)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=24849" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=24849">GF#24849</a> added to suggest Group.characteristicCombination to enable specifying union (combine characteristics with OR) in addition to the 'default' intersection (combine characteristics with AND). This element could also have codes that would capture 'definedByCharacteristics' and 'characteristicsAsNondefinitionalDescriptions'</p>



<a name="176508727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/176508727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#176508727">(Sep 24 2019 at 21:35)</a>:</h4>
<p>Reviewing where we are with <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22690" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22690">GF#22690</a> -- I'd like to suggest we move ahead with defining <code>:in</code> as a modifier on reference-type searches, enabling search by <code>Group</code> and <code>List</code> to start. Are there concerns / comments on this approach before we take up in FHIR Infrastructure?</p>



<a name="176508769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/176508769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#176508769">(Sep 24 2019 at 21:35)</a>:</h4>
<p>(We've been through discussion above; just checking back here before we more ahead.)</p>



<a name="176508884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/176508884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#176508884">(Sep 24 2019 at 21:37)</a>:</h4>
<p>Would there need to be a matching <code>:not-in</code>, or is that a solution to a problem that doesn't exist?</p>



<a name="176567321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/176567321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#176567321">(Sep 25 2019 at 14:02)</a>:</h4>
<p><code>:not-in</code> hasn't really come up -- so I'm comfortable moving ahead without it. The problem may exist  but we can add negation if/when we hit that problem.</p>



<a name="178587137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/178587137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#178587137">(Oct 20 2019 at 10:13)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191315">@Josh Mandel</span>  why not simply using:</p>
<div class="codehilite"><pre><span></span>Encounter?subject:Group/123
</pre></div>



<a name="178587258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/178587258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#178587258">(Oct 20 2019 at 10:17)</a>:</h4>
<p>this apply to any resource referecing a group.</p>
<p>The only corner case is for patients (give me all patients in this group):</p>
<div class="codehilite"><pre><span></span>Patient?_has:Group:member:_id=xxxx
</pre></div>



<a name="178587544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/178587544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#178587544">(Oct 20 2019 at 10:27)</a>:</h4>
<p>I was wrong, encounter.group is for people present during the encounter.<br>
Then both would use reverse chaining (in my case xxxx is a patient cohort):</p>
<div class="codehilite"><pre><span></span>Encounter?patient._has:Group:member:_id=xxxx
Patient?_has:Group:member:_id=xxxx
</pre></div>



<a name="178587654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/178587654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#178587654">(Oct 20 2019 at 10:30)</a>:</h4>
<p>In case <code>Encounter?patient:in=Group/123</code> is adopted, how would this apply for patient ?</p>
<div class="codehilite"><pre><span></span>Patient?_id:in=Group/123
</pre></div>


<p>?</p>



<a name="178588498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/178588498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#178588498">(Oct 20 2019 at 10:58)</a>:</h4>
<p>As an alternative:</p>
<p><code>List</code> resource can be linked to a <code>Group</code>. So in order to retrieve the members of an <code>Encouter</code> from a given <code>Group</code> doing so:</p>
<div class="codehilite"><pre><span></span>List?subject=Group/123 // get the list for the given group ; returns 456
Encounter?_list=456 // returns the encounters of patients within the group 123
</pre></div>



<a name="181306537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181306537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cindy Jiang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181306537">(Nov 21 2019 at 14:01)</a>:</h4>
<p>We have a use case 'return all DiagnosticReport where DiagnosticReport.subject is in myPatientList'. We did some testing on <a href="http://test.fhir.org/r4" target="_blank" title="http://test.fhir.org/r4">test.fhir.org/r4</a> and HAPI fhir server.</p>
<p>1) on <a href="http://test.fhir.org/r4" target="_blank" title="http://test.fhir.org/r4">test.fhir.org/r4</a>: created a new group <br>
<a href="http://test.fhir.org/r4/Group/105" target="_blank" title="http://test.fhir.org/r4/Group/105">http://test.fhir.org/r4/Group/105</a>  containing the patient <br>
<a href="http://test.fhir.org/r4/Patient/0379d9a0-a010-49b8-9aa3-defd2c3fb2" target="_blank" title="http://test.fhir.org/r4/Patient/0379d9a0-a010-49b8-9aa3-defd2c3fb2">http://test.fhir.org/r4/Patient/0379d9a0-a010-49b8-9aa3-defd2c3fb2</a></p>
<p>1.a) the following reverse chaining using the group ID did not work as expected - it returned all the records without filtering. <br>
<a href="http://test.fhir.org/r4/Patient?_has:Group:member:_id=105" target="_blank" title="http://test.fhir.org/r4/Patient?_has:Group:member:_id=105">http://test.fhir.org/r4/Patient?_has:Group:member:_id=105</a><br>
1.b) tried to query DiagnosticReport based on the group of patient but got an error.<br>
<a href="http://test.fhir.org/r4/DiagnosticReport?patient:_has:Group:member:_id=105" target="_blank" title="http://test.fhir.org/r4/DiagnosticReport?patient:_has:Group:member:_id=105">http://test.fhir.org/r4/DiagnosticReport?patient:_has:Group:member:_id=105</a></p>
<p>2) on the HAPI test server, the query outlined in 1.b above didn't return any record however it didn't error out either. </p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> &amp; <span class="user-mention" data-user-id="191319">@James Agnew</span> , are the queries in 1.a and 1.b above syntactically correct in FHIR R4 for our use case? The proposed :in modifier definitely will make the query more readable, however we need to figure out how to support our use case in R4 for the time being. Look forward to your advice!</p>



<a name="181308101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181308101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181308101">(Nov 21 2019 at 14:18)</a>:</h4>
<p>Your query on 1b looks invalid: You have "patient:_has:..." but I'm<br>
assuming you intended that to be "_has:patient:..."</p>



<a name="181716050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181716050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjaai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181716050">(Nov 23 2019 at 13:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>  thanks for your suggestion.  with the following queries, still not successful.</p>



<a name="181716183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181716183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjaai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181716183">(Nov 23 2019 at 13:35)</a>:</h4>
<ol>
<li>
<p>Original query <br>
<a href="http://hapi.fhir.org/baseR4/DiagnosticReport?patient:_has:Group:member:_id=52152" target="_blank" title="http://hapi.fhir.org/baseR4/DiagnosticReport?patient:_has:Group:member:_id=52152">http://hapi.fhir.org/baseR4/DiagnosticReport?patient:_has:Group:member:_id=52152</a> <br>
no syntax errors, returns empty result set. however there are matching DIagnosticReports</p>
</li>
<li>
<p>Tried following, per suggestion,<br>
2.1. <a href="http://hapi.fhir.org/baseR4/DiagnosticReport?_has:patient:_has:Group:member:_id=52152" target="_blank" title="http://hapi.fhir.org/baseR4/DiagnosticReport?_has:patient:_has:Group:member:_id=52152">http://hapi.fhir.org/baseR4/DiagnosticReport?_has:patient:_has:Group:member:_id=52152</a> <br>
2.2. <a href="http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:_has:Group:member:_id=52152" target="_blank" title="http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:_has:Group:member:_id=52152">http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:_has:Group:member:_id=52152</a><br>
2.3 <a href="http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:Group:member:_id=52152" target="_blank" title="http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:Group:member:_id=52152">http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:Group:member:_id=52152</a><br>
2.4 <a href="http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:group:member:_id=52152" target="_blank" title="http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:group:member:_id=52152">http://hapi.fhir.org/baseR4/DiagnosticReport?_has:Patient:group:member:_id=52152</a><br>
all of them are returning syntax errors.</p>
</li>
</ol>



<a name="181717879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181717879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181717879">(Nov 23 2019 at 14:28)</a>:</h4>
<p>1 is a valid query IMHO..</p>



<a name="181726508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181726508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181726508">(Nov 23 2019 at 18:41)</a>:</h4>
<p>I don't get how 1 could be valid.. Where in the spec is the syntax <code>[searchparam]:_has</code> described?</p>



<a name="181726951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181726951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181726951">(Nov 23 2019 at 18:54)</a>:</h4>
<p><a href="http://hl7.org/fhir/search.html#has" target="_blank" title="http://hl7.org/fhir/search.html#has">http://hl7.org/fhir/search.html#has</a> - 'The _has parameter can be chained'  - the example chains two <code>_has</code> but there seems to be no reason chaining it with a normal search parameter should be forbidden</p>



<a name="181727573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181727573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjaai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181727573">(Nov 23 2019 at 19:12)</a>:</h4>
<p>My need is same as what is stated at the top of the post. I have a List or Group of patients and want to get the DiagnosticReports for everyone in the List or Group. Is there a simpler way to get it if Query 1 is questionable?</p>



<a name="181727804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181727804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181727804">(Nov 23 2019 at 19:19)</a>:</h4>
<p>Ahh if it's a chain we're trying to do, that syntax uses a dot, not a colon. The query you're after is probably this one:</p>
<p><a href="http://hapi.fhir.org/baseR4/DiagnosticReport?subject._has:Group:member:_id=52152" target="_blank" title="http://hapi.fhir.org/baseR4/DiagnosticReport?subject._has:Group:member:_id=52152">http://hapi.fhir.org/baseR4/DiagnosticReport?subject._has:Group:member:_id=52152</a></p>



<a name="181727859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181727859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181727859">(Nov 23 2019 at 19:20)</a>:</h4>
<p>..or even better this one, which will be slightly more efficient in HAPI: </p>
<p><a href="http://hapi.fhir.org/baseR4/DiagnosticReport?subject._has:Group:member:_id=Patient/52152" target="_blank" title="http://hapi.fhir.org/baseR4/DiagnosticReport?subject._has:Group:member:_id=Patient/52152">http://hapi.fhir.org/baseR4/DiagnosticReport?subject._has:Group:member:_id=Patient/52152</a></p>



<a name="181731918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Search%20modifier%20for%20references%3A%20member-of-group%3F/near/181731918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sanjaai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Search.20modifier.20for.20references.3A.20member-of-group.3F.html#181731918">(Nov 23 2019 at 21:25)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191319">@James Agnew</span> it appears to be returning the correct data set.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
