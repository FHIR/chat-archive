---
layout: page
title: "FHIR Chat  · Transaction Bundle with Provenance · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html">Transaction Bundle with Provenance</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208015138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208015138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208015138">(Aug 25 2020 at 20:01)</a>:</h4>
<p>Hi, </p>
<p>I have created a transaction-bundle that contains an entry for a provenance resource. The target for this provenance is the transaction bundle itself. I have tried this on <a href="http://test.fhir.org/r4">test.fhir.org/r4</a> and while the transaction response is successfully generated, I cannot seem to find the original transaction bundle. </p>
<p>I supplied the <a href="http://bundle.id">bundle.id</a> (UUID) the same as the one to be referenced in the provenance.target .</p>
<p>Does this approach seem right?</p>
<p>Thanks,</p>
<p>Joel, <span class="user-mention" data-user-id="192545">@Alex Goel</span></p>



<a name="208016229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208016229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208016229">(Aug 25 2020 at 20:09)</a>:</h4>
<p>There's currently no mechanism for a Bundle.entry to point to the Bundle - the Provenance would need to be sent in an HTTP header.</p>



<a name="208016308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208016308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208016308">(Aug 25 2020 at 20:09)</a>:</h4>
<p>(deleted)</p>



<a name="208019922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208019922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208019922">(Aug 25 2020 at 20:37)</a>:</h4>
<p>why not a transaction as discussed here both approaches would seem to work...</p>
<p><a href="#narrow/stream/179166-implementers/topic/Provenance.20with.20target.20.3D.20Bundle">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Provenance.20with.20target.20.3D.20Bundle</a></p>



<a name="208020038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208020038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208020038">(Aug 25 2020 at 20:38)</a>:</h4>
<p>i.e  one entry = the bundle  another the provenance.</p>



<a name="208020064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208020064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208020064">(Aug 25 2020 at 20:38)</a>:</h4>
<p>but header is another option....</p>



<a name="208027509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208027509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208027509">(Aug 25 2020 at 21:39)</a>:</h4>
<p>In your example, you have a transaction for the explicit purpose to execute the $process-message command, and the Provenance.target is the message Bundle entry within the transaction. Can you have a transaction that just posts a transaction?</p>



<a name="208040766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208040766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208040766">(Aug 26 2020 at 00:25)</a>:</h4>
<p><span class="user-mention" data-user-id="192685">@Vassil Peytchev</span>     I think the intent is here is to post a transaction to add the bundle provenance.  In my case, I  followed your advice and just added provenance for the messageheader to the bundle.</p>



<a name="208093119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208093119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208093119">(Aug 26 2020 at 13:49)</a>:</h4>
<p>Thanks all. I think we will try the X-provenance header approach.</p>



<a name="208101443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208101443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208101443">(Aug 26 2020 at 14:48)</a>:</h4>
<p>Hi,</p>
<p>Having tried the X-provenance HTTP header and even after reading the specification, I am unclear on the outcomes. </p>
<p>I have the custom header with the provenance in JSON format and the Transaction Bundle in the body of the POST. </p>
<p>I have used  <a href="http://test.fhir.org/r4">test.fhir.org/r4</a> and successfully posted the bundle (having received a transaction response) but there was no sign of the provenance being created in the response unlike the other resources that were successfully created. </p>
<p>EDIT: we were able to find the provenance but none of the targets were created. I also could not find the X-Provenance support in the server metadata. Are there any servers capable of processing the provenance header???</p>
<p>Any advice? </p>
<p>Thank you in advance.</p>



<a name="208143353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208143353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208143353">(Aug 26 2020 at 20:20)</a>:</h4>
<p>can you create a POSTman example of what you are submitting and send it to me? I will debug on the server</p>



<a name="208155347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208155347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208155347">(Aug 26 2020 at 22:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance/near/208143353">said</a>:</p>
<blockquote>
<p>can you create a POSTman example of what you are submitting and send it to me? I will debug on the server</p>
</blockquote>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  sent via messaging. Thank you</p>



<a name="208840177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208840177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208840177">(Sep 02 2020 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Do you think we could do the same transaction with a Composition? Another suggestion was to put a Bundle in a Bundle with a Provenance in the parent Bundle pointing to the child Bundle</p>



<a name="208881164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20Bundle%20with%20Provenance/near/208881164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance.html#208881164">(Sep 02 2020 at 20:14)</a>:</h4>
<p>I did resolve this. I will try and get a server upgrade in place today or tomorrow</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
