---
layout: page
title: "FHIR Chat  · Querying Periods · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html">Querying Periods</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153817920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153817920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153817920">(Mar 24 2016 at 14:06)</a>:</h4>
<p>I'm going to use the Schedule resource but this applies to querying across all "Period" data types.</p>
<p>If I have the query   http://[domain]/Schedule?date=ge2010-01-01&amp;date=le2011-12-31 which of the following (if any) is true...</p>
<p>1) Return all Schedule resources where the planningHorizon wholly lies between 01-Jan-20101 and  31-Dec-2011</p>
<p>2) Return all Schedule resources where the planningHorizon peiod overlaps the time period on  between 01-Jan-20101 and  31-Dec-2011</p>
<p>Assuming it is one of the above, how would you do the other?</p>



<a name="153818161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153818161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153818161">(Mar 25 2016 at 21:38)</a>:</h4>
<p>I believe it would be (2)</p>
<p>To do (1) you're looking for <code>http://[domain]/Schedule?date=sa2010-01-01&amp;date=eb2011-12-31</code> if I'm reading the explanations <a href="http://hl7-fhir.github.io/search.html#prefix" target="_blank" title="http://hl7-fhir.github.io/search.html#prefix">here</a> correctly</p>



<a name="153827399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827399">(May 12 2016 at 16:49)</a>:</h4>
<p>I think there is some inconsistent language in the spec regarding how date queries work with periods.  Rather than start a new topic, this one seems appropriate.  Here are the inconsistent statements:</p>
<p>A description of the <code>date</code> parameter from <a href="http://hl7-fhir.github.io/encounter.html" target="_blank" title="http://hl7-fhir.github.io/encounter.html">Encounter</a></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Paths</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>date</td>
<td>A date within the period the Encounter lasted</td>
<td>Encounter.period</td>
</tr>
</tbody>
</table>
<p>This corresponds with what is implied by some of the examples on the search page too -- and is generally what I expect is the intended approach.</p>
<p>That said, the <a href="http://hl7-fhir.github.io/search.html#prefix" target="_blank" title="http://hl7-fhir.github.io/search.html#prefix">Prefixes</a> section of the search page states that the default prefix is <code>eq</code> and defines <code>eq</code> as such for ranges (which include periods):</p>
<blockquote>
<p>the range of the search value fully contains the range of the target value</p>
</blockquote>
<p>This definition does not mix well with the former descriptions.  In the former case, the search value must <strong>be contained by</strong> the target period.  In the latter case, the search value must <strong>fully contain</strong> the target period.</p>
<p>So, which is it?  If I say <code>Encounter?date=2016-05-15</code> does it match an Encounter with a period from 2016-05-10 to 2016-05-20?</p>



<a name="153827400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827400">(May 12 2016 at 16:51)</a>:</h4>
<p>Once we have a consensus on the answer, I'm glad to file a change request (if one is deemed necessary)</p>



<a name="153827402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827402">(May 12 2016 at 17:11)</a>:</h4>
<p>This also leads to the followup question, which correlates to the original question on this thread: If the search param value is an implicit range (e.g., <code>Encounter?date=2016</code>) that only partially overlaps the actual period (say <code>2015-12-29</code> - <code>2016-01-4</code>), then is it a match?  The spec seems to indicate that the <code>ap</code> prefix indicates an overlap, so I guess maybe not?</p>



<a name="153827445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827445">(May 12 2016 at 18:31)</a>:</h4>
<p>firstly, I agree that the definition is the wrong way around . </p>



<a name="153827446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827446">(May 12 2016 at 18:31)</a>:</h4>
<p>secondly, I think that it is not a match, and you need ap</p>



<a name="153827455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827455">(May 12 2016 at 18:42)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>.  So you're saying that the definition should be:</p>
<blockquote>
<p>the range of the search value is fully contained by the range of the target value</p>
</blockquote>
<p>Correct?  To be clear, this means that <code>Encounter?date=2016</code> doesn't even match an encounter which happened entirely in 2016 (e.g., 2016-05-10 thru 2016-05-20).  Is that the intent?</p>



<a name="153827456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827456">(May 12 2016 at 18:43)</a>:</h4>
<p>That would be a very surprising result (i.e. that should not be the answer).</p>



<a name="153827457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827457">(May 12 2016 at 18:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>:  I only mention it because that result (matching on <code>Encounter?date=2016</code>) might be exactly how servers who implemented the spec definition as written might behave today.  I wanted to be sure that the inverse really is the <strong>intended</strong> behavior.</p>



<a name="153827459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827459">(May 12 2016 at 18:47)</a>:</h4>
<p>My server responds returns resources with dates like "2010-05-02" in response to a query for "date=2010".</p>



<a name="153827460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827460">(May 12 2016 at 18:48)</a>:</h4>
<p>Are you saying this is different for periods?</p>



<a name="153827461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827461">(May 12 2016 at 18:49)</a>:</h4>
<p>Ah.  OK.  I misunderstood what you were saying was unexpected.  My server is currently implemented the same way!  So I hear you.</p>



<a name="153827464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827464">(May 12 2016 at 18:50)</a>:</h4>
<p>And</p>
<div class="codehilite"><pre>curl &quot;http://fhirtest.uhn.ca/baseDstu2/Encounter?_id=5728&amp;date=2016&quot;
curl &quot;http://fhir3.healthintersections.com.au/open/Encounter?_format=json&amp;_pretty=true&amp;_id=87&amp;date=2016&quot;
</pre></div>


<p>return encounters that occurred with start and end entirely in 2016, etc.</p>



<a name="153827465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827465">(May 12 2016 at 18:51)</a>:</h4>
<p>sigh. this is too hard for this time in the meeting</p>



<a name="153827466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827466">(May 12 2016 at 18:52)</a>:</h4>
<p>I'm saying that there seems to be some confusion in the spec around periods.  I can see why <code>date=2010</code> should return anything that happened in 2010.  But, according to the definition of Encounter, the date param represents a date that occurred during the Encounter period.  But I <strong>think</strong> the spec indicates that <code>date=2016</code> implicitly means the range from 2016-01-01 to 2016-12-31.  That range did not fully occur during the encounter period.</p>



<a name="153827468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827468">(May 12 2016 at 18:53)</a>:</h4>
<p>It overlapped.  But according to spec, overlap is <code>ap</code>, not <code>eq</code>.</p>



<a name="153827470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827470">(May 12 2016 at 18:54)</a>:</h4>
<p>I'm not sure what the right answer should be.  Unlike my contributions to some other topics, I actually don't have a predetermined opinion here -- I'm just trying to figure out how it is supposed to work.</p>



<a name="153827471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827471">(May 12 2016 at 18:54)</a>:</h4>
<p>;-)</p>



<a name="153827473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827473">(May 12 2016 at 18:58)</a>:</h4>
<p>BTW-- reversing the definition would have serious implications for number too.  If <code>eq</code> is defined as "the range of the search value is fully contained by the range of the target value", then <code>value=4</code> would not match <code>4.0</code>, because "4" has implicit range [3.5, 4.5) and "4.0" has implicit range [3.95,4.05).  So I don't think we can/should reverse the definition like that.</p>



<a name="153827475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827475">(May 12 2016 at 19:00)</a>:</h4>
<p>So, back to the original question.  Should <code>Encounter?date=2016-05-15</code> match an Encounter with period 2016-05-10 to 2016-05-20?  According to definition of <code>eq</code>, it should not -- but some aspects of the spec imply otherwise.</p>



<a name="153827476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827476">(May 12 2016 at 19:08)</a>:</h4>
<p>BTW -- HAPI seems to <strong>not</strong> match it.  So maybe it's just a matter of the wording in some of the search param descriptions (like Encounter.date).</p>



<a name="153827480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827480">(May 12 2016 at 19:28)</a>:</h4>
<p>Really? I just tried this in a unit test and it matches for me. Any chance you have a URL you can point to?</p>



<a name="153827501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827501">(May 12 2016 at 19:50)</a>:</h4>
<p>Shoot.  I lied.  It was Health Intersections that didn't match it.  Sorry.  I have the wrong base path.</p>



<a name="153827502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827502">(May 12 2016 at 19:50)</a>:</h4>
<p>I thought I tested both (with my curl commands above) and both behaved the same.</p>



<a name="153827503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827503">(May 12 2016 at 19:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>: I was talking about testing if a date within in a period matches on the period.  You were testing if a date representing a superset of the period matches the period.</p>



<a name="153827504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827504">(May 12 2016 at 19:52)</a>:</h4>
<p>Gotcha!</p>



<a name="153827505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827505">(May 12 2016 at 19:55)</a>:</h4>
<p>For example, this one matches on a period from 11:30am to 12:30pm, even though the date param is for 12:00pm:<br>
<a href="http://fhirtest.uhn.ca/baseDstu2/Encounter?date=2016-02-23T12:00:00-04:00" target="_blank" title="http://fhirtest.uhn.ca/baseDstu2/Encounter?date=2016-02-23T12:00:00-04:00">http://fhirtest.uhn.ca/baseDstu2/Encounter?date=2016-02-23T12:00:00-04:00</a></p>



<a name="153827506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827506">(May 12 2016 at 19:56)</a>:</h4>
<p>But this violates the currently documented definition of <code>eq</code> for ranges:</p>
<blockquote>
<p>the range of the search value fully contains the range of the target value</p>
</blockquote>



<a name="153827507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827507">(May 12 2016 at 19:57)</a>:</h4>
<p>But satisfies definition of <code>Encounter.date</code> search param:</p>
<blockquote>
<p>A date within the period the Encounter lasted</p>
</blockquote>



<a name="153827508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827508">(May 12 2016 at 19:57)</a>:</h4>
<p>Therein lies the rub.</p>



<a name="153827510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827510">(May 12 2016 at 19:59)</a>:</h4>
<p>Conversely, on Health Intersections, a similar query does *not* match on a date <strong>inside</strong> the period:<br>
<a href="http://fhir3.healthintersections.com.au/open/Encounter?_format=json&amp;_pretty=true&amp;_id=87&amp;date=2016-01-17T16:15:00%2B10:00" target="_blank" title="http://fhir3.healthintersections.com.au/open/Encounter?_format=json&amp;_pretty=true&amp;_id=87&amp;date=2016-01-17T16:15:00%2B10:00">http://fhir3.healthintersections.com.au/open/Encounter?_format=json&amp;_pretty=true&amp;_id=87&amp;date=2016-01-17T16:15:00%2B10:00</a><br>
(16:15 is inside the period of 16:00 - 16:30 defined in encounter with ID 87)</p>



<a name="153827511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827511">(May 12 2016 at 20:02)</a>:</h4>
<p>Ahh interesting. I don't remember that definition being there last time I looked... I wonder if it's new.</p>
<p>One way or the other, I would say HAPI is doing the wrong thing.</p>



<a name="153827512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827512">(May 12 2016 at 20:06)</a>:</h4>
<p>If that's the intended definition then (and I think it needs to be, especially considering the issue with numbers and implicit ranges), then I think it would be good to figure out a better way of describing search parameters that go against periods.  The current definition on Encounter.date is quite misleading.</p>



<a name="153827515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827515">(May 12 2016 at 20:15)</a>:</h4>
<p>While we're here, I think that maybe the period definitions (3rd column) for <code>sa</code> and <code>eb</code> might be backwards.  What do you think?</p>
<table>
<thead>
<tr>
<th>prefix</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>sa</td>
<td>the value for the parameter in the resource starts after the provided value</td>
<td>the range of the search value does not overlap with the range of the target value, and the range below the search value contains the range of the target value</td>
</tr>
<tr>
<td>eb</td>
<td>the value for the parameter in the resource ends before the provided value</td>
<td>the range of the search value does overlap not with the range of the target value, and the range above the search value contains the range of the target value</td>
</tr>
</tbody>
</table>
<p>Shouldn't <code>sa</code> indicate that the range <strong>above</strong> the search value contains the range of the target value?</p>



<a name="153827519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Querying%20Periods/near/153827519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Querying.20Periods.html#153827519">(May 12 2016 at 20:17)</a>:</h4>
<p>Yeah, I'm pretty sure that's wrong.  I'll file a bug for that.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
