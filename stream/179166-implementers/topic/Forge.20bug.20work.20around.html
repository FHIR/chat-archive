---
layout: page
title: "FHIR Chat  · Forge bug work around · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20bug.20work.20around.html">Forge bug work around</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153895101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20bug%20work%20around/near/153895101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20bug.20work.20around.html#153895101">(Jun 23 2017 at 16:37)</a>:</h4>
<p>The bug:<br>
Forge corrupts the choice of valueQuantity from value[x] when you save your work<br>
File is unreadable by Simplifier and on reload the structure definition makes no sense<br>
Work-a-round<br>
Add<br>
**<br>
<strong>&lt;element id="Observation.valueQuantity"&gt;</strong><br>
<strong>  &lt;path value="Observation.valueQuantity" /&gt;</strong><br>
<strong>&lt;type&gt;</strong><br>
<strong> &lt;code value="Quantity" /&gt;</strong><br>
<strong> &lt;/type&gt;</strong><br>
<strong> &lt;/element&gt;</strong><br>
**<br>
just before the valueQuantity element in the saved xml. </p>
<p>Downside, it is re-corrupted every save and you will have to do it every time before you can reload your work or view it in Simplifier.</p>
<p>Do not know if this applies to other choices in value[x].</p>
<p>The latest release did not fix this bug.</p>



<a name="153895196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20bug%20work%20around/near/153895196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20bug.20work.20around.html#153895196">(Jun 26 2017 at 08:31)</a>:</h4>
<p><span class="user-mention" data-user-id="192228">@Brian Reinhold</span> Thank you for posting this work around. We're aware of issues with the choice data types and are working on solving them in the next release.</p>



<a name="153895200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20bug%20work%20around/near/153895200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20bug.20work.20around.html#153895200">(Jun 26 2017 at 09:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191347">@Mirjam Baltus</span>  I just tried to create a new implementation guide and got this error after trying to reload the created guide:</p>
<p>2017-06-26T05:18:59<br>
Forge Forge 15.7 for HL7 FHIR STU3<br>
Madrid 2017 Edition<br>
Version: Version 15.7.0.0<br>
FHIR Version: FHIR .NET API library for 3.0.0</p>
<hr>
<p>ArgumentException in Forge.ViewModels:<br>
[StorageHandler] Invalid property type 'Markdown', expecting 'FhirString'.<br>
Parameter name: propertyInfo<br>
   at Forge.ViewModels.StorageHandler.VerifyPropertyType(PropertyInfo propertyInfo, Type type)<br>
   at Forge.ViewModels.StringStorageHandler`1..ctor(IViewModel property, Base instance, PropertyInfo propertyInfo, Base baseInstance, Boolean isForced)<br>
   at Forge.ViewModels.StringStorageHandler..ctor(IViewModel property, Base instance, PropertyInfo propertyInfo, Base baseInstance, Boolean isForced)<br>
   at Forge.ViewModels.ImplementationGuideVM.set_ModelElement(Base value)<br>
   at Forge.ViewModels.ImplementationGuideVM..ctor(ISessionItem owner, ImplementationGuide model)<br>
   at Forge.ViewModels.SessionItemVM.CreateResourceVM(SessionItemVM owner, Resource model, String contentDirectory)<br>
   at Forge.ViewModels.SessionItemVM..ctor(ISessionItem owner, IDocument document, Resource model)<br>
   at Forge.ViewModels.SessionItemVM.Open(IDocument document, Boolean dontLoad, Boolean asCopy)<br>
   at Forge.ViewModels.SessionItemVM.Open(Uri url, Boolean dontLoad, Boolean asCopy)<br>
   at Forge.ViewModels.SessionItemVM.Open(Boolean asCopy)<br>
   at Forge.ViewModels.SessionItemVM.Open()<br>
   at Forge.ViewModels.SessionVM.&lt;&gt;c.&lt;onOpen&gt;b__178_0(ISessionItem item)<br>
   at Forge.ViewModels.SessionVM.&lt;&gt;c__DisplayClass162_0.&lt;executeItemCollectionCommand&gt;b__0()<br>
   at Forge.Common.UIServices.ExecuteOnUIThread(Action action)<br>
   at Forge.ViewModels.SessionVM.executeCommand(Action action)</p>
<p>I cannot see anything wrong with this very simple start:</p>
<p>&lt;?xml version="1.0" encoding="utf-8"?&gt;<br>
&lt;ImplementationGuide xmlns="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
  &lt;meta&gt;<br>
    &lt;lastUpdated value="2017-06-26T05:11:39.287-04:00" /&gt;<br>
  &lt;/meta&gt;<br>
  &lt;url value="<a href="http://pchalliance.org/phdfhir/ImplementationGuide/PhdImplementationGuide" target="_blank" title="http://pchalliance.org/phdfhir/ImplementationGuide/PhdImplementationGuide">http://pchalliance.org/phdfhir/ImplementationGuide/PhdImplementationGuide</a>" /&gt;<br>
  &lt;name value="PhdImplementationGuide" /&gt;<br>
  &lt;status value="draft" /&gt;<br>
  &lt;date value="2017-06-26T05:10:20.5702816-04:00" /&gt;<br>
  &lt;fhirVersion value="3.0.1" /&gt;<br>
  &lt;package&gt;<br>
    &lt;name value="PhdPackage" /&gt;<br>
    &lt;description value="This guide provides the mapping of data received from 11073 20601 Personal Health Devices to FHIR resources." /&gt;<br>
    &lt;resource&gt;<br>
      &lt;example value="true" /&gt;<br>
      &lt;name value="PhdNumericObservation" /&gt;<br>
      &lt;description value="Base StructureDefinition for Observation Resource" /&gt;<br>
      &lt;sourceReference&gt;<br>
        &lt;reference value="<a href="http://pchalliance.org/phdfhir/StructureDefinition/PhdNumericObservation" target="_blank" title="http://pchalliance.org/phdfhir/StructureDefinition/PhdNumericObservation">http://pchalliance.org/phdfhir/StructureDefinition/PhdNumericObservation</a>" /&gt;<br>
      &lt;/sourceReference&gt;<br>
    &lt;/resource&gt;<br>
  &lt;/package&gt;<br>
&lt;/ImplementationGuide&gt;</p>
<p>I can load the PhdNumericObservation resource.<br>
I am not having much luck. The down side here is I can't even see what Forge is complaining about in the xml to try and find another work around.</p>



<a name="153895205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20bug%20work%20around/near/153895205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20bug.20work.20around.html#153895205">(Jun 26 2017 at 09:54)</a>:</h4>
<p>Version 15.7 had an issue where you couldn't create a new implementation guide. That issue was resolved in release 16.1. From the error, it seems you're opening the IG in the previous version, is that correct?</p>



<a name="153895219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20bug%20work%20around/near/153895219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20bug.20work.20around.html#153895219">(Jun 26 2017 at 13:55)</a>:</h4>
<p>No, this is version 16.1. Forge indicated no errors at the time of saving the file. I did note when I went to another system, downloaded the xmls from 'git' and opened the implementation guide in Forge, it loaded successfully. However, after saving and reopening, it did not. Got the same error. I made some updates to the single profile in the guide, fixed the 'type' error after the save, and then reloaded. Though I could not re-load the implementation guide, I could reload the profile (I still have to make my fixes ... keep a copy of 'winMerge' open, make a backup of the xml, save in Forge, use winMerge to fix the bug.)</p>



<a name="153895220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20bug%20work%20around/near/153895220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20bug.20work.20around.html#153895220">(Jun 26 2017 at 13:58)</a>:</h4>
<p>Just noted that in the component 'code' and component 'valueCodeableConcept' that the drop-down for fixed 'system' values does not exist. Its not a problem. I can get the list of values in the Observation.code fixed values and paste them in. But it is an inconsistency in the GUI.</p>



<a name="153896592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%20bug%20work%20around/near/153896592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.20bug.20work.20around.html#153896592">(Jul 11 2017 at 15:36)</a>:</h4>
<p><span class="user-mention" data-user-id="192228">@Brian Reinhold</span> according to the error message header, you were using the older 15.7 Forge release. This has been fixed in the 16.1 release. Using Forge 16.1,  I can open the above Phd IG xml example succesfully.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
