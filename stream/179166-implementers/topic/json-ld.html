---
layout: page
title: "FHIR Chat  · json-ld · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html">json-ld</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153864961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153864961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153864961">(Dec 25 2016 at 21:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> - if I go to the json-ld playground and enter the json-ld below, I get an error dereferencing the context. Since the address is valid, I think it must be a CORS issue. is this something we can fix on <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a></p>
<div class="codehilite"><pre><span></span>{
  &quot;@context&quot;: &quot;http://build.fhir.org/Patient.jsonld&quot;,
  &quot;@id&quot;: &quot;http://hl7.org/fhir/Patient/example&quot;,
  &quot;Patient.gender&quot;: {
    &quot;code.value&quot;: &quot;male&quot;
  },
  &quot;Patient.birthDate&quot;: {
    &quot;date.value&quot;: &quot;1974-12-25&quot;
  }
}
</pre></div>



<a name="153864962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153864962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153864962">(Dec 26 2016 at 02:50)</a>:</h4>
<p>Thanks for the report. If CORS Is the issue, we should be able to fix this easily enough. </p>



<a name="153864964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153864964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153864964">(Dec 26 2016 at 05:23)</a>:</h4>
<p>indeed. do we configure nginx centrally, or is there some file I should generate to make this happen?</p>



<a name="153865037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153865037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153865037">(Dec 29 2016 at 10:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> - this is time critical for me - any chance we can close this out?</p>



<a name="153865038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153865038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153865038">(Dec 29 2016 at 14:38)</a>:</h4>
<p>Yikes, ok. Digging into this now  </p>



<a name="153865039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153865039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153865039">(Dec 29 2016 at 14:43)</a>:</h4>
<p>Ok, added:</p>
<div class="codehilite"><pre>        add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;
        add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;
        add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#39;;
</pre></div>


<p>to <code>/etc/nginx/sites-enabled/vhosts.conf</code>. Note this file is managed with a tool ("Ansible"), so I've also updated <a href="https://github.com/hl7-fhir/fhir-svn/wiki/build.fhir.org" target="_blank" title="https://github.com/hl7-fhir/fhir-svn/wiki/build.fhir.org">https://github.com/hl7-fhir/fhir-svn/wiki/build.fhir.org</a> to reflect</p>



<a name="153865040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153865040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153865040">(Dec 29 2016 at 14:45)</a>:</h4>
<p>Do note though that (unrelated to CORS) I'm currently seeing:</p>
<div class="codehilite"><pre><span class="nv">$ </span>curl -s <span class="s1">&#39;http://build.fhir.org/Patient.jsonld&#39;</span> <span class="p">|</span> json_pp
malformed JSON string, ...
</pre></div>



<a name="153865041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153865041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153865041">(Dec 29 2016 at 14:49)</a>:</h4>
<p><code>EF BB BF</code> at the start of the payload...</p>
<div class="codehilite"><pre><span class="nv">$ </span>curl -s <span class="s1">&#39;http://build.fhir.org/Patient.jsonld&#39;</span> <span class="p">|</span> hexdump -C <span class="p">|</span> head -n 1
<span class="m">00000000</span>  ef bb bf 7b 0a <span class="m">20</span> <span class="m">20</span> <span class="m">22</span>  <span class="m">40</span> <span class="m">63</span> 6f 6e <span class="m">74</span> <span class="m">65</span> <span class="m">78</span> <span class="m">74</span>  <span class="p">|</span>...<span class="o">{</span>.  <span class="s2">&quot;@context|</span>
</pre></div>



<a name="153865048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153865048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153865048">(Dec 29 2016 at 18:05)</a>:</h4>
<p>thanks for that. The json-ld playground works - for a given meaning of works. I don't understand why starting with a standard UTF BOM would cause a claim of a malformed json string</p>



<a name="153865120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153865120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153865120">(Dec 30 2016 at 19:34)</a>:</h4>
<p>ok. so the json-ld playground is 'working' at least in terms of casual inspection. does anyone have any ideas how to qa the generated expressions?</p>



<a name="153865121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/json-ld/near/153865121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/json-ld.html#153865121">(Dec 30 2016 at 20:06)</a>:</h4>
<p>thanks to Gregg Kellogg, this sequence:<br>
- read turtle file into Jena<br>
- use ShEx to validate turtle file<br>
- read json-ld file into Jena<br>
- ask Jena to compare them</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
