---
layout: page
title: "FHIR Chat  · FHIR values and numeric precision? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html">FHIR values and numeric precision?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153929807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929807">(Jan 20 2018 at 21:03)</a>:</h4>
<p>What, if anything, does FHIR do or specify for numeric precision, e.g. in valueQuantity property of an Observation?   JSON, in general, assumes arbitrary precision on it's numeric types.  I know the Quantity data type talks about this but has anyone seen the necessity to have something to communicate the agreed-upon precision in FHIR so that end points can maintain the proper precision, e.g. when converting back and forth from JSON (or XML) to a database storage format?</p>



<a name="153929808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929808">(Jan 20 2018 at 21:04)</a>:</h4>
<p>see discussion here: <a href="http://build.fhir.org/json.html#primitive" target="_blank" title="http://build.fhir.org/json.html#primitive">http://build.fhir.org/json.html#primitive</a></p>



<a name="153929809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929809">(Jan 20 2018 at 21:12)</a>:</h4>
<p>Yes, I've seen that discussion before (and about using something like Java's BigNum library).  However, that doesn't allow systems to specify, maybe in a profile, exactly what precision they support for specific types of measurements, maybe guided by the unit of measure.    Clinicians will tell us that there are certain expected precision values for certain types of measurements (and typically it's tied to UofM); but FHIR doesn't seem to give us a way to communicate (or profile?) this concept.   It doesn't seem like a 'one size fits all' approach works in all cases in healthcare.</p>



<a name="153929810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929810">(Jan 20 2018 at 21:15)</a>:</h4>
<p>so all the systems I've seen so far, the precision is configured at the per-observation code level. In FHIR, that equates to a structure definition. You can specify the precision of the Observation.value using ...</p>



<a name="153929811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929811">(Jan 20 2018 at 21:15)</a>:</h4>
<p>well, no you can't. Odd. I thought we had sorted that.</p>



<a name="153929812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929812">(Jan 20 2018 at 21:15)</a>:</h4>
<p>nearest I can see is <a href="http://build.fhir.org/extension-maxdecimalplaces.html" target="_blank" title="http://build.fhir.org/extension-maxdecimalplaces.html">http://build.fhir.org/extension-maxdecimalplaces.html</a></p>



<a name="153929814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929814">(Jan 20 2018 at 21:21)</a>:</h4>
<p>I just searched on OpenEHR and they have this as part of their DV_Quantity data type (and maybe others, I just looked at this one):</p>
<p><a href="https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dv_quantity_class" target="_blank" title="https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dv_quantity_class">https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dv_quantity_class</a></p>
<p>I guess the bigger question is, are there use cases where this is important for FHIR exchanges?  (Personally I think so, but I'm new to this but I've seen the importance of precision in other medical info systems.)</p>
<p>A related concept is accuracy; OpenEHR has this to say about precision and accuracy:</p>
<p><a href="https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dimensioned_quantities" target="_blank" title="https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dimensioned_quantities">https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dimensioned_quantities</a></p>



<a name="153929815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929815">(Jan 20 2018 at 21:25)</a>:</h4>
<p>the openEHR DV_Quantity is something different to what you are asking for. DV_Quantity has 2 fields: a floating point precision value, and a precision. The FHIR decimal conflates those into a single string representation. Specific exchange formats might differ (for instance, there's a group of us working on google protobuf format, and that probably will use a pair of floating point number and precision). But for JSON, after long discussion, we chose to use number directly, with that note I referred to above</p>



<a name="153929816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929816">(Jan 20 2018 at 21:26)</a>:</h4>
<p>so the requirements are clear: for an individual number, precision is explicit and important. OTOH, specifying precision capability is still work in progress</p>



<a name="153929831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929831">(Jan 21 2018 at 01:27)</a>:</h4>
<p>the 'observationdefinition' should IMO represent this.</p>



<a name="153929883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929883">(Jan 21 2018 at 23:16)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191401">@Eric Haas</span>  -- it seems something as fundamental as numeric precision should be able to be specified; most clinical measurements have a specific precision and this is also important when performing calculations using these measurements as well.</p>



<a name="153929897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153929897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153929897">(Jan 22 2018 at 02:51)</a>:</h4>
<p><a href="http://build.fhir.org/observationdefinition-definitions.html#ObservationDefinition.quantitativeDetails.decimalPrecision" target="_blank" title="http://build.fhir.org/observationdefinition-definitions.html#ObservationDefinition.quantitativeDetails.decimalPrecision">http://build.fhir.org/observationdefinition-definitions.html#ObservationDefinition.quantitativeDetails.decimalPrecision</a></p>



<a name="153930104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153930104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153930104">(Jan 22 2018 at 19:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span>  - is this a new property in R4?   That's good if it is; didn't see this in STU3 (or couldn't find it if it's there)</p>



<a name="153930193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153930193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153930193">(Jan 22 2018 at 22:40)</a>:</h4>
<p>ObservationDefinition is a new resource in R4.</p>



<a name="153930211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153930211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153930211">(Jan 22 2018 at 23:16)</a>:</h4>
<p><a href="http://build.fhir.org/observationdefinition.html" target="_blank" title="http://build.fhir.org/observationdefinition.html">http://build.fhir.org/observationdefinition.html</a></p>



<a name="153930226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20values%20and%20numeric%20precision%3F/near/153930226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20values.20and.20numeric.20precision.3F.html#153930226">(Jan 23 2018 at 02:41)</a>:</h4>
<p>OK, looked at this but not sure how to 'tie it' to the Observation resource.   (an aside, there seems to be broken links on the ObservationUnit link)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
