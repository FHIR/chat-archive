---
layout: page
title: "FHIR Chat  · profile path · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html">profile path</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153896930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153896930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153896930">(Jul 14 2017 at 11:07)</a>:</h4>
<p>When making a slice on a choice element what is the correct path (for example on an effective[x] which has an effectiveDateTime or effectivePeriod)?<br>
Should it be for the effectiveDateTime slice of effective[x]?<br>
&lt;path value="Observation.effective[x]" /&gt;<br>
or<br>
&lt;path value="Observation.effectiveDateTime" /&gt;</p>
<p>then<br>
&lt;path value="Observation.effective[x]" /&gt;<br>
or<br>
&lt;path value="Observation.effectivePeriod" /&gt;</p>
<p>Thus is this correct (the element ids are just for me to keep track of where I am and there values are not relevant):</p>
<div class="codehilite"><pre><span></span>  &lt;element id=&quot;Observation.effective[x]&quot;&gt;
    &lt;path value=&quot;Observation.effective[x]&quot; /&gt;
    &lt;slicing&gt;
      &lt;discriminator&gt;
        &lt;type value=&quot;exists&quot; /&gt;
        &lt;path value=&quot;start&quot; /&gt;
      &lt;/discriminator&gt;
      &lt;rules value=&quot;open&quot; /&gt;
    &lt;/slicing&gt;
    &lt;definition value=&quot;The time or time-period the observed value is asserted as being true. It is a time period if a Measurement-Duration attribute is part of the metric measurement sent by the PHD. Otherwise it is the time stamp sent by the PHD or the time of reception by the PHG if the PHD sent no time stamp.&quot; /&gt;
    &lt;min value=&quot;1&quot; /&gt;
  &lt;/element&gt;
  &lt;element id=&quot;Observation.effective[x]:dateTimeEffective&quot;&gt;
    &lt;path value=&quot;Observation.effective[x]&quot; /&gt;
   &lt;sliceName value=&quot;dateTimeEffective&quot; /&gt;
    &lt;comment value=&quot;A date and time shall always be present.&quot; /&gt;
    &lt;type&gt;
      &lt;code value=&quot;dateTime&quot; /&gt;
    &lt;/type&gt;
  &lt;/element&gt;
  &lt;element&gt;
    &lt;path value=&quot;Observation.effective[x]&quot; /&gt;
    &lt;sliceName value=&quot;periodEffective&quot; /&gt;
    &lt;type&gt;
      &lt;code value=&quot;Period&quot; /&gt;
    &lt;/type&gt;
  &lt;/element&gt;
  &lt;element id=&quot;Observation.effective[x]:periodEffective.start&quot;&gt;
    &lt;path value=&quot;Observation.effective[x].start&quot; /&gt;
    &lt;min value=&quot;1&quot; /&gt;
  &lt;/element&gt;
  &lt;element id=&quot;Observation.effective[x]:periodEffective.end&quot;&gt;
    &lt;path value=&quot;Observation.effective[x].end&quot; /&gt;
    &lt;min value=&quot;1&quot; /&gt;
  &lt;/element&gt;
</pre></div>


<p>or is this correct</p>
<div class="codehilite"><pre><span></span>  &lt;element id=&quot;Observation.effective[x]&quot;&gt;
    &lt;path value=&quot;Observation.effective[x]&quot; /&gt;
    &lt;slicing&gt;
      &lt;discriminator&gt;
        &lt;type value=&quot;exists&quot; /&gt;
        &lt;path value=&quot;start&quot; /&gt;
      &lt;/discriminator&gt;
      &lt;rules value=&quot;open&quot; /&gt;
    &lt;/slicing&gt;
    &lt;definition value=&quot;The time or time-period the observed value is asserted as being true. It is a time period if a Measurement-Duration attribute is part of the metric measurement sent by the PHD. Otherwise it is the time stamp sent by the PHD or the time of reception by the PHG if the PHD sent no time stamp.&quot; /&gt;
    &lt;min value=&quot;1&quot; /&gt;
  &lt;/element&gt;
  &lt;element id=&quot;Observation.effective[x]:dateTimeEffective&quot;&gt;
    &lt;path value=&quot;Observation.effectiveDateTime&quot; /&gt;
   &lt;sliceName value=&quot;dateTimeEffective&quot; /&gt;
    &lt;comment value=&quot;A date and time shall always be present.&quot; /&gt;
    &lt;type&gt;
      &lt;code value=&quot;dateTime&quot; /&gt;
    &lt;/type&gt;
  &lt;/element&gt;
  &lt;element&gt;
    &lt;path value=&quot;Observation.effectivePeriod&quot; /&gt;
    &lt;sliceName value=&quot;periodEffective&quot; /&gt;
    &lt;type&gt;
      &lt;code value=&quot;Period&quot; /&gt;
    &lt;/type&gt;
  &lt;/element&gt;
  &lt;element id=&quot;Observation.effective[x]:periodEffective.start&quot;&gt;
    &lt;path value=&quot;Observation.effectivePeriod.start&quot; /&gt;
    &lt;min value=&quot;1&quot; /&gt;
  &lt;/element&gt;
  &lt;element id=&quot;Observation.effective[x]:periodEffective.end&quot;&gt;
    &lt;path value=&quot;Observation.effectivePeriod.end&quot; /&gt;
    &lt;min value=&quot;1&quot; /&gt;
  &lt;/element&gt;
</pre></div>



<a name="153896935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153896935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153896935">(Jul 14 2017 at 13:38)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>, if you constrain a choice type (such as value[x]) to a single datatype, then you should rename the element (e.g. to valueInteger) by updating the element path.</p>



<a name="153896936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153896936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153896936">(Jul 14 2017 at 13:38)</a>:</h4>
<p>However the element id should always refer to the original element name (ending with "[x]").</p>



<a name="153896937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153896937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153896937">(Jul 14 2017 at 13:39)</a>:</h4>
<p>So your 2nd example is correct.</p>



<a name="153896958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153896958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153896958">(Jul 14 2017 at 18:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> Many times the element has no id. Does that matter? Forge doesn't seem to care.</p>
<div class="codehilite"><pre><span></span>
</pre></div>



<a name="153897035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153897035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153897035">(Jul 17 2017 at 09:12)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>, in FHIR STU3, element ids are mandatory on all element definitions in both differential and snapshot.<br>
Forge can open profiles with missing element ids, as the tool itself does not depend on this information. Forge will automatically generate/complete all missing element ids.</p>



<a name="153897045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153897045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153897045">(Jul 17 2017 at 10:56)</a>:</h4>
<blockquote>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>, in FHIR STU3, element ids are mandatory on all element definitions in both differential and snapshot.<br>
Forge can open profiles with missing element ids, as the tool itself does not depend on this information. Forge will automatically generate/complete all missing element ids.</p>
</blockquote>
<p>Actually, that was one of the bugs on saving; the element ids were deleted. I've been editing them by hand but I wasn't sure of the exact format and Forge did not seem to care on loading.</p>



<a name="153897046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153897046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153897046">(Jul 17 2017 at 11:12)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>, indeed, the current Forge release has a bug concerning the generation of element ids. This will be fixed in the next release.</p>



<a name="153897070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153897070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153897070">(Jul 17 2017 at 13:12)</a>:</h4>
<blockquote>
<p>So your 2nd example is correct.</p>
</blockquote>
<p>Forge gives me an error on this</p>
<div class="codehilite"><pre><span></span>    &lt;element id=&quot;Observation.effective[x]:periodEffective&quot;&gt;
      &lt;path value=&quot;Observation.effectivePeriod&quot;/&gt;
      &lt;sliceName value=&quot;periodEffective&quot;/&gt;
      &lt;type&gt;
        &lt;code value=&quot;Period&quot;/&gt;
      &lt;/type&gt;
      &lt;definition value=&quot;The time period when there is a Measurement-Duration attribute. The difference between the end and start fields is the 
value of the Measurement-Duration.&quot;/&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Observation.effective[x]:periodEffective.start&quot;&gt;
      &lt;path value=&quot;Observation.effectivePeriod.start&quot;/&gt;
      &lt;min value=&quot;1&quot;/&gt;
    &lt;/element&gt;
</pre></div>


<p>but not on this</p>
<div class="codehilite"><pre><span></span>    &lt;element id=&quot;Observation.effective[x]:periodEffective&quot;&gt;
      &lt;path value=&quot;Observation.effective[x]&quot; /&gt;
      &lt;sliceName value=&quot;periodEffective&quot; /&gt;
      &lt;type&gt;
        &lt;code value=&quot;Period&quot;/&gt;
      &lt;/type&gt;
      &lt;definition value=&quot;The time period when there is a Measurement-Duration attribute. The difference between the end and start fields is the 
value of the Measurement-Duration.&quot;/&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Observation.effective[x]:periodEffective.start&quot;&gt;
      &lt;path value=&quot;Observation.effective[x].start&quot; /&gt;
      &lt;min value=&quot;1&quot; /&gt;
    &lt;/element&gt;
</pre></div>


<p>is that a bug?</p>



<a name="153897180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/profile%20path/near/153897180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/profile.20path.html#153897180">(Jul 18 2017 at 08:17)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192228">@Brian Reinhold</span>, I'm aware of the reported issues concerning type slicing, haven't had time to investigate yet. But it's high on my TODO list. I'm planning to work on this for the upcoming new release.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
