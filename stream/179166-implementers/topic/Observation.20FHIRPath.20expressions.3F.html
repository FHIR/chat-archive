---
layout: page
title: "FHIR Chat  · Observation FHIRPath expressions? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20FHIRPath.20expressions.3F.html">Observation FHIRPath expressions?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215093725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20FHIRPath%20expressions%3F/near/215093725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Brown <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20FHIRPath.20expressions.3F.html#215093725">(Oct 30 2020 at 13:27)</a>:</h4>
<p>Hi! Hopefully quick question:</p>
<p>Observation has a few search parameters which use the 'as' type specifier, such as: (Observation.component.value as CodeableConcept). The 'as' documentation (<a href="http://hl7.org/fhirpath/#as-type-specifier">http://hl7.org/fhirpath/#as-type-specifier</a>) says the left hand operator, in this case Observation.component.value, must only have one entry, otherwise an error should be returned.</p>
<p>I'm aware that each component is only going to have a single value[x], but Observation.component is used if multiple results are included, so the left hand operator is basically always going to have more than one entry. We're seeing lots of errors being thrown on blood pressure Observations, which have two components, each with a single valueQuantity.</p>
<p>I'm not sure if this is an issue with the Observation search parameter FHIRPath expressions, the FHIRPath documentation, or our interpretation of it. Any help would be much appreciated!</p>



<a name="215109977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20FHIRPath%20expressions%3F/near/215109977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20FHIRPath.20expressions.3F.html#215109977">(Oct 30 2020 at 15:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="215135812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20FHIRPath%20expressions%3F/near/215135812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arny Epstein <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20FHIRPath.20expressions.3F.html#215135812">(Oct 30 2020 at 18:49)</a>:</h4>
<p>I would agree that this is an error (bug) in the FHIR SearchParameters.  The proper expression  would be<br>
   Observation.component.value.ofType(CodeableConcept)<br>
instead of<br>
   Observation.component.value as CodeableConcept<br>
in cases where the left side could be a multivalue collection.  <br>
(And it could be used everywhere that 'as' is used in search parameters )</p>



<a name="215376377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20FHIRPath%20expressions%3F/near/215376377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20FHIRPath.20expressions.3F.html#215376377">(Nov 02 2020 at 20:47)</a>:</h4>
<p>yes I agree that's an issue - can you make a task to fix please</p>



<a name="215595040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observation%20FHIRPath%20expressions%3F/near/215595040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Brown <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observation.20FHIRPath.20expressions.3F.html#215595040">(Nov 04 2020 at 15:20)</a>:</h4>
<p>Thanks! Opened an issue: <a href="https://jira.hl7.org/browse/FHIR-29653">https://jira.hl7.org/browse/FHIR-29653</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
