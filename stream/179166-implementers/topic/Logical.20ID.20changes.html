---
layout: page
title: "FHIR Chat  · Logical ID changes · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20ID.20changes.html">Logical ID changes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219635891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20ID%20changes/near/219635891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Resendez <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20ID.20changes.html#219635891">(Dec 11 2020 at 17:34)</a>:</h4>
<p>I'm in a bit of a pickle where I've learned that some of our logical ids, references haven't been fully consistent.  The problem stems from the fact that we have some surrogate keys in our system that fundamentally resolve to the same resource... so these might be the same underlying resource:</p>
<p>Patient/x<br>
Patient/x-2</p>
<p>But there's a discrepancy in our code that builds the resource entity -- it will always use the "preferred id"... say Patient/x.   The problem is exasperated where resources that reference Patient use the "preferred id".  For example:</p>
<p>Observation?patient=x-2</p>
<p>This resource bundle here would fetch the same content as ?patient=x, and all of the patient refs wouldn't match the input parameter and would instead be pointing to patient/x</p>
<p>This is a bug, really... I'd really like for there to be no hint of the surrogate "x-2";  At this time I'm seeking some advice on a good strategy for resolving this.  It's tricky because the spec states</p>
<blockquote>
<p>Once assigned by the server, the id is never changed</p>
</blockquote>
<p>Anyone ever experienced some problem where you felt you had to fix/change logical ids?  I guess you may have to leave the "bad" resources out there indefinitely</p>



<a name="219645315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20ID%20changes/near/219645315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20ID.20changes.html#219645315">(Dec 11 2020 at 18:46)</a>:</h4>
<p>You can remove existing resources, though you should only do that if you're confident it's not going to break any of your communication partners.  Alternative is to mark those records as inactive and add a link to them that points to the correct patient record.</p>



<a name="219698431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20ID%20changes/near/219698431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20ID.20changes.html#219698431">(Dec 12 2020 at 08:53)</a>:</h4>
<p>Where does the spec say that if one searches for Patient/x, and the server responds with Patient/y, that this would be an error? Sometimes that's a very desirable feature, e.g. if Patient resources have been merged (e.g. if x has been merged into y).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
