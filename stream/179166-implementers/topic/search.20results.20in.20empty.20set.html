---
layout: page
title: "FHIR Chat  · search results in empty set · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html">search results in empty set</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153870973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153870973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153870973">(Feb 10 2017 at 13:32)</a>:</h4>
<p>For the case where a request is proper, but for which zero results are found. Should we have defined results? This is not an access control restriction, the requester is authorized. This is not a wrong URL. This s a case where the query is fully proper, there is simply no results available for the query parameters. It seems some return 200 with an empty result, others return 404. Both cases seem to have OperationOutcome. But I am looking for guidance on the http error code.</p>



<a name="153870974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153870974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arianne van de Wetering <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153870974">(Feb 10 2017 at 13:49)</a>:</h4>
<p>My vote would be: 200 (success) with an empty result.<br>
This is also what has been agreed to do on the Dutch national infrastructure (LSP - Landelijk Schakel Punt)</p>



<a name="153870976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153870976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153870976">(Feb 10 2017 at 13:58)</a>:</h4>
<p>The specification defines the following behavior for a successful search operation [see the spec at <a href="http://build.fhir.org/http.html#search]" target="_blank" title="http://build.fhir.org/http.html#search]">http://build.fhir.org/http.html#search]</a>:</p>
<p><strong>If the search succeeds, the return content is a Bundle with type = searchset containing the results of the search as a collection of resources in a defined order.</strong> The result collection can be long, so servers may use paging. If they do, they SHALL use the method described below (adapted from RFC 5005 (Feed Paging and Archiving ) for breaking the collection into pages if appropriate. <strong>The server MAY also return an OperationOutcome resource with additional information about the search; if one is sent it SHALL NOT include any errors, and it shall be marked with an entry mode of include.</strong></p>
<p>(My interpretation) The inference for the returned HTTP response code is a 200(OK) - success with a payload. The last part describing the optionally returned OperationOutcome in my opinion does not fully define where the OperationOutcome is to be defined but, again by inference, I would say the OperationOutcome is returned as the only entry in the searchset Bundle. (Sounds like we need a gforge tracker to resolve this clarification.)</p>



<a name="153870978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153870978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153870978">(Feb 10 2017 at 14:15)</a>:</h4>
<p>So, based on what I'm reading in the spec today, I would define a test case for the scenario of "a search operation that is expected to return no matching entries" with the following minimal assertions:</p>
<ul>
<li>HTTP response code = 200(OK)</li>
<li>Response payload contains a FHIR Bundle resource type</li>
<li>Bundle.type = searchset</li>
<li>Bundle.total = 0 (if no OperationOutcome returned in Bundle.entry - need clarification to verify this behavior)</li>
</ul>



<a name="153870979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153870979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153870979">(Feb 10 2017 at 14:15)</a>:</h4>
<p>(comments and feedback welcomed)</p>



<a name="153871007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153871007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153871007">(Feb 10 2017 at 18:16)</a>:</h4>
<p>We have had about 50% people who choose 200, while others use 404. This is even true of the current FHIR servers available for testing... So it seems it is not obious</p>



<a name="153871013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153871013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153871013">(Feb 10 2017 at 18:41)</a>:</h4>
<p>Ok. I just created tracker #12815 requesting clarification of the required behavior for a successful search response.</p>



<a name="153871036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153871036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153871036">(Feb 10 2017 at 20:55)</a>:</h4>
<p>Wow, I was sure this was documented, but apparently not.  Correct answer is absolutely a 200 with an empty searchset Bundle.  We use 404 if you do a read and the specified id doesn't exist, but not for a search</p>



<a name="153871039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153871039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153871039">(Feb 10 2017 at 20:58)</a>:</h4>
<p>Can we get #12815 triaged and updated with the clarifications to apply to the spec?</p>



<a name="153871043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153871043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153871043">(Feb 10 2017 at 21:08)</a>:</h4>
<p>Done.  We actually need guidance on HTTP codes for for PATCH.  And it might not be a bad idea to note that 404 is appropriate for delete and may sometimes be appropriate for update?</p>



<a name="153871046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153871046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153871046">(Feb 10 2017 at 21:23)</a>:</h4>
<p>I also just added my proposed updates to the search definition. Please review when you have a chance. Thanks.</p>



<a name="153871393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/search%20results%20in%20empty%20set/near/153871393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/search.20results.20in.20empty.20set.html#153871393">(Feb 14 2017 at 16:53)</a>:</h4>
<p>Thanks. I will have IHE follow our resolution of <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12815" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12815">GF#12815</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
