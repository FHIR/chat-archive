---
layout: page
title: "FHIR Chat  · US Core not requiring system for Patient.identifier search · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20not.20requiring.20system.20for.20Patient.2Eidentifier.20search.html">US Core not requiring system for Patient.identifier search</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245857318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20not%20requiring%20system%20for%20Patient.identifier%20search/near/245857318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Jahns <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20not.20requiring.20system.20for.20Patient.2Eidentifier.20search.html#245857318">(Jul 13 2021 at 17:18)</a>:</h4>
<p>Hello,<br>
The US Core server CapabilityStatement for Patient (<a href="http://hl7.org/fhir/us/core/CapabilityStatement-us-core-server.html#patient">http://hl7.org/fhir/us/core/CapabilityStatement-us-core-server.html#patient</a>) requires that the server support a search by identifier where the system is not supplied. We're concerned that this could lead to inaccurate patient searches.</p>
<p>For example, a user might search by ?identifier=333224444, thinking that this identifier will correspond to social security number. However, since no system is supplied, we need to return <em>any</em> identifier with this value. If this value matches an ID from our lab system, for example, we must return that patient. This means we'll be returning the wrong match for the user's search, and the user would only notice if they specifically checked that the system OID/URL is correct, which also requires knowing the OID/URL in the first place.</p>
<p>Because of this, we'd like to require system to ensure that users are actually doing the search they think they are doing. But we can't as per US Core specifications (and this is explicitly validated by Inferno). Would it be reasonable for servers to require a system for Patient identifier searches?</p>



<a name="245866000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20not%20requiring%20system%20for%20Patient.identifier%20search/near/245866000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20not.20requiring.20system.20for.20Patient.2Eidentifier.20search.html#245866000">(Jul 13 2021 at 18:19)</a>:</h4>
<p>in US Core, we nailed down the search for token to at least a code ( value for Identifer),  because most clients will only send identifiers. Also for an authorized client app with a patient read scopes for labs,  I would never expect labs for another patient, that is the point of authorization, right? US Core's intent is to set a <em>minimum bar</em>  it is silent on tightening the rules.   <span class="user-mention" data-user-id="192576">@Robert Scanlon</span>  does inferno prohibit  tighter rules by an implementer?</p>



<a name="245870517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20not%20requiring%20system%20for%20Patient.identifier%20search/near/245870517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20not.20requiring.20system.20for.20Patient.2Eidentifier.20search.html#245870517">(Jul 13 2021 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> US Core requires servers to support token search by <code>code</code> and by <code>system|code</code>, so we test them both.  I'm unsure what you mean 'tightening the rules' in this context -- we just test what US Core says is required of servers.</p>



<a name="245872397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20not%20requiring%20system%20for%20Patient.identifier%20search/near/245872397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20not.20requiring.20system.20for.20Patient.2Eidentifier.20search.html#245872397">(Jul 13 2021 at 19:07)</a>:</h4>
<blockquote>
<p>I'm unsure what you mean 'tightening the rules' in this context </p>
</blockquote>
<p>The way we define it  doesn't allow for an implementer to tighten the rules to only support code|system.</p>



<a name="245872620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20not%20requiring%20system%20for%20Patient.identifier%20search/near/245872620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20not.20requiring.20system.20for.20Patient.2Eidentifier.20search.html#245872620">(Jul 13 2021 at 19:09)</a>:</h4>
<p>not saying it is bad, just clarifying</p>



<a name="245872767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20not%20requiring%20system%20for%20Patient.identifier%20search/near/245872767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20not.20requiring.20system.20for.20Patient.2Eidentifier.20search.html#245872767">(Jul 13 2021 at 19:10)</a>:</h4>
<p>Then yes, Inferno's US Core tests do prohibit tighter rules imposed by the server on the client in this case.</p>



<a name="245882798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20not%20requiring%20system%20for%20Patient.identifier%20search/near/245882798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20not.20requiring.20system.20for.20Patient.2Eidentifier.20search.html#245882798">(Jul 13 2021 at 20:29)</a>:</h4>
<p>If the client queries by 333224444 and expect to only get patients with SSAN 333224444 w/o specifying system=SSAN isn't that a client problem not for the server to resolve? If you force the user to specify the system then when all they know is the Driver's license number but not the system url that means VA (or doesn't know the state at all) then they can't search via the value they do have.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
