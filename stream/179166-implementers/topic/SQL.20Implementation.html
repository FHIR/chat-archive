---
layout: page
title: "FHIR Chat  · SQL Implementation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html">SQL Implementation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153913408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Milto <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913408">(Oct 11 2017 at 13:13)</a>:</h4>
<p>Has anyone experience with implementation of FHIR data structure on MS SQL?</p>



<a name="153913409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913409">(Oct 11 2017 at 13:14)</a>:</h4>
<p>My colleague <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> certainly has.</p>



<a name="153913410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Milto <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913410">(Oct 11 2017 at 13:19)</a>:</h4>
<p>Maybe you know... <br>
Is his project open source?</p>



<a name="153913412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913412">(Oct 11 2017 at 13:36)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194605">@Max Milto</span>, our current FHIR Server (called "Vonk") is a commercial project and not open source. Vonk provides flexible support for different storage layers via facade interfaces and includes out-of-the-box support for MS SQL Server.</p>
<p>Earlier, we have published an open source reference implementation of a FHIR Server called "Spark":<br>
<a href="https://github.com/furore-fhir/spark" target="_blank" title="https://github.com/furore-fhir/spark">https://github.com/furore-fhir/spark</a><br>
However we no longer actively maintain the Spark repository.</p>



<a name="153913491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913491">(Oct 11 2017 at 17:39)</a>:</h4>
<p>But the give-away is: If you need to support many different or even all resourcetypes, don't try to put the resource in a schema, but only the search parameters. If you have a fixed profile for only a couple of resources you could map the resources to a table schema. But you'll end up with a lot of joining quickly due to the hierarchical nature of resources.</p>



<a name="153913557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Potapenko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913557">(Oct 12 2017 at 05:10)</a>:</h4>
<blockquote>
<p>But the give-away is: If you need to support many different or even all resourcetypes, don't try to put the resource in a schema, but only the search parameters. </p>
</blockquote>
<p>Why?  Which issues we will have if decide to put resource in a schema?  How you propose to store resources?</p>



<a name="153913587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913587">(Oct 12 2017 at 10:46)</a>:</h4>
<p>if you are purely serving a FHIR Api, you just store the resources as a binary, and pull the values needed to support the search parameters out into one or more separate tables.</p>



<a name="153913588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913588">(Oct 12 2017 at 10:47)</a>:</h4>
<p>if you're writing process code and don't want to be tied to the FHIR API - typically, this means you want to do analysis/aggregation - you will want to extract more/all information out of the resources.</p>



<a name="153913593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913593">(Oct 12 2017 at 10:55)</a>:</h4>
<p>Or you could use native JSON support in MSSQL - <a href="https://docs.microsoft.com/en-us/sql/relational-databases/json/json-data-sql-server" target="_blank" title="https://docs.microsoft.com/en-us/sql/relational-databases/json/json-data-sql-server">https://docs.microsoft.com/en-us/sql/relational-databases/json/json-data-sql-server</a>. That's how we do it with PostgreSQL</p>



<a name="153913597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Potapenko <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913597">(Oct 12 2017 at 11:50)</a>:</h4>
<p>We working on mobile application which have own db schema. We should simplify interoperability to support FHIR or it elements.  Please, advise how this can be accomplished with minimal efforts? </p>
<p>Is it good idea to implement on db schema primitive and complex data types <a href="http://hl7.org/fhir/datatypes.html" target="_blank" title="http://hl7.org/fhir/datatypes.html">http://hl7.org/fhir/datatypes.html</a>  ? so later then FHIR support will be needed it will be easier to create resource data and exchange with third-party system.</p>



<a name="153913612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913612">(Oct 12 2017 at 12:59)</a>:</h4>
<p>Depending on the phase of development and the needs of your mobile app you can choose:<br>
1. Use FHIR resources as 'native' storage, and use one of the generic FHIR servers available to do so, and in your app use the resources directly. Interoperablity will then be 'for free'.<br>
2. Keep your existing db schema, but for interoperability you will have to make the mapping to (and maybe also from) FHIR resources somewhere. This can be:<br>
2a. in a separate 'syncing app' that maps your data and puts a copy of it in the form of FHIR resources in a generic FHIR server, or <br>
2b. by having a FHIR layer (a 'facade') on top of your database (or on top of a web API if you have that) that does the mapping on-the-fly.</p>



<a name="153913613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913613">(Oct 12 2017 at 13:00)</a>:</h4>
<p>BTW: JSON support in SQL Server is nowhere near as powerful as that in PostgreSQL.</p>



<a name="153913643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913643">(Oct 12 2017 at 16:01)</a>:</h4>
<p>HAPI JPA Server works fine on SQL Server but you need to mess around a bit with the JDBC drivers.</p>



<a name="153913644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913644">(Oct 12 2017 at 16:02)</a>:</h4>
<p>The structure behind this project (also HAPI based) follows the structure of FHIR model more closely <a href="https://github.com/nhsconnect/careconnect-reference-implementation" target="_blank" title="https://github.com/nhsconnect/careconnect-reference-implementation">https://github.com/nhsconnect/careconnect-reference-implementation</a> We have changed a few items here and there for practical reason, CodeSystem is CodeSystem but Concept is separated out into another class/table.</p>



<a name="153913645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913645">(Oct 12 2017 at 16:04)</a>:</h4>
<p>Note: We are only implementing the most common elements and features - so it's not at the cutting edge of FHIR. The inital version of the server is here: <a href="http://194.189.27.193/careconnect/" target="_blank" title="http://194.189.27.193/careconnect/">http://194.189.27.193/careconnect/</a></p>



<a name="153913646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913646">(Oct 12 2017 at 16:06)</a>:</h4>
<p>We’ve created the tables using hibernate but you can use Hibernate to map an existing SQL schema. So what we showing is how a SQL database can be made available using HAPI FHIR. The database schema we have created is very similar to several EPR/PAS systems I’ve worked with.</p>



<a name="153913987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153913987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153913987">(Oct 16 2017 at 01:29)</a>:</h4>
<p>The Telstra Health sqlonfhir server also uses SQLServer underneath, and we store the FHIR resources as an XML column (instead of JSON) and we extract the search data into dedicated indexing tables/columns</p>



<a name="153915149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/SQL%20Implementation/near/153915149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Lukasik <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/SQL.20Implementation.html#153915149">(Oct 20 2017 at 21:44)</a>:</h4>
<p><span class="user-mention" data-user-id="194630">@basil stolyarov</span> This conversation may also provide some helpful insight WRT your question in the 'SQL DDL for FHIR' stream..</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
