---
layout: page
title: "FHIR Chat  · Logical Reference reference to MedicationKnowledge · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html">Logical Reference reference to MedicationKnowledge</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="243421387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243421387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kate Dech <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243421387">(Jun 21 2021 at 18:12)</a>:</h4>
<p>The MedicationKnowledge resource does not contain an identifier element. Rather it uses code - a CodeableConcept to any number of Medication systems (rxnorm, ndc, etc.) We want to use a logical reference to MedicationKnowledge. Can this use the MedicationKnowledge.code or must it use an Identifier element?  Thanks.</p>



<a name="243421659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243421659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243421659">(Jun 21 2021 at 18:14)</a>:</h4>
<p>identifier is added in R5 <a href="http://build.fhir.org/medicationknowledge">http://build.fhir.org/medicationknowledge</a></p>



<a name="243423721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243423721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kate Dech <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243423721">(Jun 21 2021 at 18:30)</a>:</h4>
<p>Thank you. I'm not sure if there are other resources like this that don't have identifier but have code instead. In such cases is using a logical reference to the code element not allowed? Must reference.identifier link to the identifier element of the target resource and if there isn't one the reference can't be used?</p>



<a name="243431452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243431452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243431452">(Jun 21 2021 at 19:32)</a>:</h4>
<p>I think the answer is found here: <a href="http://hl7.org/fhir/codesystem.html#implicit">http://hl7.org/fhir/codesystem.html#implicit</a></p>
<p>but that's not directly related to the question. But every medication knowledge resource is like a medication resource</p>



<a name="243455584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243455584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243455584">(Jun 21 2021 at 23:21)</a>:</h4>
<p>hi <span class="user-mention" data-user-id="217850">@Kate Dech</span> (copying <span class="user-mention" data-user-id="192166">@Jean Duteau</span>) can I ask what the use case for a logical reference is here? Normally a logical reference is used for FHIR to reference a non-FHIR entity - something that has an identifier, but not a FHIR id. The MedicationKnowledge instance you are referring to has to be FHIR, so it must have an id (unless it's not REST, or not accessible for some reason), so why is it necessary to use a logical reference?</p>



<a name="243553103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243553103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Merlyn Albery-Speyer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243553103">(Jun 22 2021 at 17:45)</a>:</h4>
<p>I had what I think sounds like the same need. In my case it was to keep the create/update automation unified (everything else you can detect if it's already present by querying for an identifier). I worked around it by querying for all MedicationKnowledge resources and building an in memory cache using my own composite "key" (as code does not uniquely identify one).</p>



<a name="243575599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243575599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243575599">(Jun 22 2021 at 20:37)</a>:</h4>
<p>Logical references are also for FHIR entities. If you know the ID but you don't have the resource accessible, I think it's expectable to use a Logical Ref.<br>
For this case, I do not see the difference between code and identifier for a medknowledge. Is there one?</p>



<a name="243578705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243578705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243578705">(Jun 22 2021 at 21:04)</a>:</h4>
<p>But if the resource is not accessible, how does the identifier help you?</p>



<a name="243580437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243580437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243580437">(Jun 22 2021 at 21:19)</a>:</h4>
<p>Re code vs identifier - the knowledge is about a medication. The code matches the medication that the knowledge is about. It could be thought of as "subject code".</p>
<p>The indentifier is an identifier of the knowledge itself, of the data. But how often that has any meaning I don't know. This information set, as a whole entity, may have no life outside  of FHIR, so it may only have a id. That is not to say that it isn't important information.</p>



<a name="243593676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243593676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243593676">(Jun 23 2021 at 00:05)</a>:</h4>
<p>My reply was to the statement that logical references being for non-fhir entities. You can have logical references to fhir entities.</p>



<a name="243624444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243624444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243624444">(Jun 23 2021 at 09:04)</a>:</h4>
<p>Thanks for the clarification Jose. My question is why is it ever necessary or desirable to have a logical reference to an accessible FHIR REST entity? I'm sure it is legal I just haven't understood the need. If it's accessible by FHIR then a normal reference seems better. (If we have 2 ways to reference then we need to be able to say why and have some best practice.) If it's in FHIR but never accessible by FHIR REST then I guess there may be some non-FHIR based access possible using identifier - but I wouldn't call that FHIR REST.</p>



<a name="243656018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243656018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243656018">(Jun 23 2021 at 14:02)</a>:</h4>
<p>you can profile them out</p>



<a name="243666027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243666027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243666027">(Jun 23 2021 at 15:10)</a>:</h4>
<p>Our patients are referenced by a logical reference by their national ID number. They may exist as FHIR resources inside our server, but we don't access them use the resource IDs.</p>



<a name="243668060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243668060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243668060">(Jun 23 2021 at 15:22)</a>:</h4>
<p>thanks Jose, that is interesting. What is the rationale for that please? Is it that they may sometimes <em>not</em> exist as accessible FHIR resources? Or is it that actual FHIR ids are not seen as permanent enough? What entity is it that has this FHIR logical reference to them, if I may ask?</p>



<a name="243668799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243668799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kate Dech <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243668799">(Jun 23 2021 at 15:27)</a>:</h4>
<p>Apologies for the delay. In our case it was a matter of not having the resource available (yet) as an endpoint by id. But there is still value in communicating that there is a relationship to this other entity (and we know there is; even if we haven't built the mechanism to get there directly).</p>



<a name="243669601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243669601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243669601">(Jun 23 2021 at 15:33)</a>:</h4>
<p>hi Kate yes that makes perfect sense. If there is no RESTful resource to link to then you need something else. You could use the identifier (presumably one that has no real world significance?). Can I ask what type of entity it is that is wanting to link to the MedicationKnowledge? Do both ends of the "link" know the code of the medication in question?</p>



<a name="243671150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/243671150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#243671150">(Jun 23 2021 at 15:44)</a>:</h4>
<p>Yes, in some cases, they don't exist. We create an allergy for a patient, but in some cases the patient does not yet exist when the first allergy is created.<br>
Sometimes the patient exists, but in another server. <br>
Sometimes there will be several resources in several servers about the same patient. If we have 2 hospitals, each of these hospitals will have one resource representing the patient.<br>
Or by policy we just don't want to use the internal server IDs (because of some reason that I don't recall)</p>



<a name="267086839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/267086839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#267086839">(Jan 06 2022 at 17:11)</a>:</h4>
<p>(deleted)</p>



<a name="267086937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/267086937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#267086937">(Jan 06 2022 at 17:12)</a>:</h4>
<p>(deleted)</p>



<a name="267087074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/267087074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#267087074">(Jan 06 2022 at 17:13)</a>:</h4>
<p>(deleted)</p>



<a name="267087820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Logical%20Reference%20reference%20to%20MedicationKnowledge/near/267087820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Logical.20Reference.20reference.20to.20MedicationKnowledge.html#267087820">(Jan 06 2022 at 17:19)</a>:</h4>
<p>(deleted)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
