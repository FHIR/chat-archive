---
layout: page
title: "FHIR Chat  · urn in canonical reference · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/urn.20in.20canonical.20reference.html">urn in canonical reference</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="168124915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/urn%20in%20canonical%20reference/near/168124915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Christensen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/urn.20in.20canonical.20reference.html#168124915">(Jun 14 2019 at 10:46)</a>:</h4>
<p>In QuestionnaireResponse resources we try to use an urn as the canonical "questionnaire" reference, like this:</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;QuestionnaireResponse&quot;,
  &quot;questionnaire&quot;: &quot;urn:uuid:f14997cf-e16e-4e4b-8b3a-1f419386f597|1.0.0&quot;,
   ...
}
</pre></div>


<p>Is this legal FHIR? (The documentation in relation to canonical reference is not the clearest English I have read :-))</p>



<a name="168140508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/urn%20in%20canonical%20reference/near/168140508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/urn.20in.20canonical.20reference.html#168140508">(Jun 14 2019 at 14:39)</a>:</h4>
<p>That would be a legal reference, but only if the QuestionnaireResponse was inside a Bundle where the guid resolved to a questionnaire (and there was a version match too).  I don't think it's a legal reference for stand-alone.  (<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> can you confirm?)</p>



<a name="168173180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/urn%20in%20canonical%20reference/near/168173180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/urn.20in.20canonical.20reference.html#168173180">(Jun 14 2019 at 21:30)</a>:</h4>
<p>yes only in a bundle</p>



<a name="168446436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/urn%20in%20canonical%20reference/near/168446436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Christensen <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/urn.20in.20canonical.20reference.html#168446436">(Jun 18 2019 at 19:18)</a>:</h4>
<p>Just trying to get my head around why this wouldn't be legal: The documentation of "canonical" data type says "A URI that refers to a resource by its canonical URL (resources with a url property).". Questionnaire.url has data type "uri" and this is described as "A Uniform Resource Identifier Reference (RFC 3986 )".  So since a URN is a URI I concluded that it was legal to use a URN as the canonical reference in a QuestionnaireResponse. Where is the restriction that this is only legal in a Bundle stated? And why have this restriction?</p>
<p>My specific challenge relates to building an infrastructure where resources should only ever use logical reference, no literal references. This works fine until I get to canonical references, if there is a hard requirement that canonical references should always contain a URL.</p>



<a name="168451034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/urn%20in%20canonical%20reference/near/168451034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/urn.20in.20canonical.20reference.html#168451034">(Jun 18 2019 at 20:11)</a>:</h4>
<p>you are right - it is legal for it to be a urn</p>



<a name="168469740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/urn%20in%20canonical%20reference/near/168469740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/urn.20in.20canonical.20reference.html#168469740">(Jun 19 2019 at 01:14)</a>:</h4>
<p>Sorry.  I was thinking of it as a Reference, not a canonical.  It's good practice for canonicals to be URLs, but they're not required to be.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
