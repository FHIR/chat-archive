---
layout: page
title: "FHIR Chat  · Transaction with history · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html">Transaction with history</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157238797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157238797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157238797">(Jan 31 2019 at 01:26)</a>:</h4>
<p>Is there a way to indicate the history of resources in a transaction? For example, can I have a transaction that has three versions of the same resource? And if so, is the server supposed to respect the meta properties, such as the .meta.lastUpdated and .meta.versionId properties?</p>



<a name="157238848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157238848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157238848">(Jan 31 2019 at 01:27)</a>:</h4>
<p>You can use a transaction to update something 3 times, but the meta will reflect what happened on the server the data's being created on, not where it came from.</p>



<a name="157238902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157238902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157238902">(Jan 31 2019 at 01:28)</a>:</h4>
<p>so there's no way to get the three different versions to have the correct "lastUpdated" property?</p>



<a name="157238918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157238918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157238918">(Jan 31 2019 at 01:28)</a>:</h4>
<p>or to ensure that the three different versions are processed in the correct order?</p>



<a name="157238964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157238964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157238964">(Jan 31 2019 at 01:29)</a>:</h4>
<p>Seems to me that this should be possible so that systems could backup a FHIR server using a Bundle</p>



<a name="157238978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157238978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157238978">(Jan 31 2019 at 01:29)</a>:</h4>
<p>backup AND restore</p>



<a name="157238980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157238980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157238980">(Jan 31 2019 at 01:29)</a>:</h4>
<p>I think entries are processed in order unless there's a reason they can't be.  But certainly there's no way to set lastUpdated to a historical value.</p>



<a name="157238988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157238988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157238988">(Jan 31 2019 at 01:30)</a>:</h4>
<p>If we want that, it'd need to be a distinct operation.</p>



<a name="157239055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157239055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157239055">(Jan 31 2019 at 01:30)</a>:</h4>
<p>ok... so you think I should submit a change request to create a "$restore" operation?</p>



<a name="157239063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157239063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157239063">(Jan 31 2019 at 01:30)</a>:</h4>
<p>Sure, why not :)</p>



<a name="157239071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157239071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157239071">(Jan 31 2019 at 01:30)</a>:</h4>
<p>that $restore operation could be either a Bundle transaction OR a specific resource, I suppose</p>



<a name="157239101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157239101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157239101">(Jan 31 2019 at 01:31)</a>:</h4>
<p>/$restore<br>
AND<br>
/Composition/1/$restore</p>



<a name="157239658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157239658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157239658">(Jan 31 2019 at 01:41)</a>:</h4>
<p><a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20332" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20332">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20332</a></p>



<a name="157245149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157245149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157245149">(Jan 31 2019 at 03:56)</a>:</h4>
<p>would this wipe the internal history? why would you do this across the API? It just seems like an internal thing to me</p>



<a name="157277887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157277887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157277887">(Jan 31 2019 at 15:06)</a>:</h4>
<p>This certainly brings up concerns with integrity of the history, if history can e re-written without a trace. Clearly this operation would need to be privileged, and it should clearly have strong authorization and audit logging behavioral requirements. behavioral requirements that can be fulfilled by a security layer such as SMART-on-FHIR, or other. behavioral logging requirements that could utilize AuditEvent or other.</p>
<p>Would there be a Provenance impact? Seems these historic versions of a resource could have original Provenance restored as well; but one might ask if the $restore operation should create one new Provenance indicating the $restore activity and pointing (.target) of the version specific resources impacted (restored).</p>



<a name="157278656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157278656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157278656">(Jan 31 2019 at 15:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , because as far as I can tell, none of the existing FHIR servers implement a form of backup/restore short of what's allowed by the supporting database. If this existed in the spec, it might be more likely to be supported by FHIR servers. Standardizing a more-thorough export/import format/process for a FHIR server doesn't seem like a bad thing to me.</p>



<a name="157293944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157293944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157293944">(Jan 31 2019 at 18:36)</a>:</h4>
<blockquote>
<p>Standardizing a more-thorough export/import format/process for a FHIR server doesn't seem like a bad thing to me.</p>
</blockquote>
<p>But overwriting history seems like a step further than that</p>



<a name="157307014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157307014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157307014">(Jan 31 2019 at 21:14)</a>:</h4>
<p>then let's adjust the $restore operation so that it only ADDS to the history</p>



<a name="157307021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157307021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157307021">(Jan 31 2019 at 21:14)</a>:</h4>
<p>so, if a resource already has history, the existing history is preserved, and added to</p>



<a name="157307047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157307047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157307047">(Jan 31 2019 at 21:15)</a>:</h4>
<p>maybe...</p>



<a name="157307051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157307051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157307051">(Jan 31 2019 at 21:15)</a>:</h4>
<p>dunno, might have to think about that more</p>



<a name="157307064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157307064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157307064">(Jan 31 2019 at 21:15)</a>:</h4>
<p>nah, I don't like that... I take it back</p>



<a name="157307077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157307077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157307077">(Jan 31 2019 at 21:15)</a>:</h4>
<p>let's suggest that the $restore operation be secured with role-based authorization</p>



<a name="157307132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157307132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157307132">(Jan 31 2019 at 21:16)</a>:</h4>
<p>and call it good :)</p>



<a name="157307148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157307148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157307148">(Jan 31 2019 at 21:16)</a>:</h4>
<p>then, if the server implementer wants to allowing anonymous users to overwrite history, that's up to them</p>



<a name="157308284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157308284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157308284">(Jan 31 2019 at 21:31)</a>:</h4>
<p>We implemented this in the Google Cloud FHIR server - our (non-spec) bulk import operation will accept history bundles and synthesize the corresponding history. It's quite useful for integration testing and a few niche use cases but creates complex issues for anything other than populating an empty store to a known state.</p>
<p>If the resource already exists, the imported history will get interleaved with the existing history - and that could easily represent an inconsistent sequence of mutations. Any client holding on to an etag may get confused, because the history can be mutated without touching the current version. Doing a backup/restore of data that includes versioned references is even more difficult. We have audit logs outside of the FHIR store itself so we can potentially maintain the integrity of the audit trail but it's always going to look more confusing than "normal" operations.</p>
<p>It's a nice implementation-specific feature but is there actually a use case where users want interoperability between servers of backup/restore including resource history?</p>



<a name="157308408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157308408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157308408">(Jan 31 2019 at 21:32)</a>:</h4>
<p>wow that's head hurting territory</p>



<a name="157309306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157309306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157309306">(Jan 31 2019 at 21:42)</a>:</h4>
<p>It's just one of those early ideas that needs some iteration. If the operation couldn't touch resources that already exist or existed in the history, it would be a lot better behaved.</p>



<a name="157309916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157309916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157309916">(Jan 31 2019 at 21:49)</a>:</h4>
<p>or if you just reset the repository completely</p>



<a name="157310074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157310074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157310074">(Jan 31 2019 at 21:51)</a>:</h4>
<p>actually, that's kinda the scenario I want to accommodate</p>



<a name="157310079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157310079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157310079">(Jan 31 2019 at 21:52)</a>:</h4>
<p>completely wiping out the repository</p>



<a name="157310128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157310128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157310128">(Jan 31 2019 at 21:52)</a>:</h4>
<p>and getting everything that was in the repository that was there before the wipe</p>



<a name="157310133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157310133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157310133">(Jan 31 2019 at 21:52)</a>:</h4>
<p>If you are doing incremental backups, I would expect you need to do incremental restores.</p>



<a name="157310187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157310187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157310187">(Jan 31 2019 at 21:53)</a>:</h4>
<p>I know - that's what we need - a healthcare specific standard for doing incremental backup restores across a RESTful API</p>



<a name="157310308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157310308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157310308">(Jan 31 2019 at 21:54)</a>:</h4>
<p>OK, so is there a need to do any of this in an interoperable way?</p>



<a name="157313250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157313250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157313250">(Jan 31 2019 at 22:33)</a>:</h4>
<p>I think there is a case for interoperable import including history - bulk data $export is trying to give the client everything the server knows about some patients. But what if the application logic on the receiving end uses the resource history? How do you capture and transfer that? It's not a big stretch to say it's an ndjson file containing history bundles. (Alternately, the answer could be "bad application, don't do that".)</p>



<a name="157313505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157313505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157313505">(Jan 31 2019 at 22:36)</a>:</h4>
<p>or the answer could be... that's ok, but we don't believe it deserves formal standardization</p>



<a name="157354657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157354657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157354657">(Feb 01 2019 at 14:04)</a>:</h4>
<p>Having the ability so that one can fill a demo server, seems like a function of a reference implementation that has a feature of being easy to use as a demo server..... Even as a reference server this capability should be OFF by default, and it should take extraordanary effort by the sysadmin to enable it....   I don't think it is strange to have features like this... but they are system features, they don't need to be defined in a standard.</p>



<a name="157354864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157354864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157354864">(Feb 01 2019 at 14:08)</a>:</h4>
<p>Where ever it is defined, it should be defined as a highly privileged interface, and the use of that interface should be highly logged. Thus if it 'accidentally' got enabled on a medical-records dataset, it could be detected as to being enabled and all uses of the interface determined so they could be rolled back. This doesn't help the patient-safety risks that may have happened during the time that bad data was in the system, but it does make it detectable.</p>



<a name="157363872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157363872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157363872">(Feb 01 2019 at 16:12)</a>:</h4>
<p>By concluding that, you're concluding that no FHIR server will ever want to (in a standardized way) transfer data <em>with</em> history between FHIR servers.</p>



<a name="157364026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157364026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157364026">(Feb 01 2019 at 16:14)</a>:</h4>
<p>The issue is that "history" means two things:<br>
1. What happened to this business record over time<br>
2. What did the data on this particular server look like at a particular point in the past?</p>
<p>FHIR's _history is <em>only</em> trying to represent #2.  #1 is handled with Provenance</p>



<a name="157364085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Transaction%20with%20history/near/157364085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Transaction.20with.20history.html#157364085">(Feb 01 2019 at 16:15)</a>:</h4>
<p>Reloading history thus only makes sense when you're doing a restore or when you're simulating a single server with multiple boxes</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
