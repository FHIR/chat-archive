---
layout: page
title: "FHIR Chat  · substanceExposureRisk · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html">substanceExposureRisk</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221204608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/221204608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#221204608">(Dec 30 2020 at 10:54)</a>:</h4>
<p>Why is this extension a complex one, that replaces the AllergyInolerance.code?<br>
<a href="http://build.fhir.org/extension-allergyintolerance-substanceexposurerisk.html">http://build.fhir.org/extension-allergyintolerance-substanceexposurerisk.html</a></p>



<a name="221560887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/221560887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#221560887">(Jan 04 2021 at 18:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span></p>



<a name="221797211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/221797211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#221797211">(Jan 06 2021 at 17:37)</a>:</h4>
<p>Based on <a href="http://build.fhir.org/allergyintolerance.html#9.1.4.2">http://build.fhir.org/allergyintolerance.html#9.1.4.2</a>, we noted:</p>
<blockquote>
<p>The substanceExposureRisk extension is also available for use as a more completely structured and flexible alternative to the 'code' element for representing positive and negative allergy and intolerance statements (either the 'code' element or the substanceExposureRisk extension may be used, but not both).</p>
</blockquote>
<p>Not sure if I know what you mean by "complex" but the intent was to offer a way to negate a substance when a precoordinated code doesn't exist.  For example, the extension isn't needed for "No known latex allergy (situation)" since a SNOMED code exists SCTID: 716184000.  However, less common assertions may require a combination of the substance + exposureRisk of no-known-reaction-risk</p>



<a name="221802622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/221802622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#221802622">(Jan 06 2021 at 18:20)</a>:</h4>
<p>Complex extension - contains several elements - <a href="https://www.hl7.org/fhir/extensibility-examples.html#complex">https://www.hl7.org/fhir/extensibility-examples.html#complex</a>.<br>
The main question is  - why does the extension replace an element that is in the core resource?  Doesn't seem a good approach.<br>
For example I cannot make the AllergyIntolerance.code mandatory.</p>



<a name="221802875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/221802875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#221802875">(Jan 06 2021 at 18:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191403">Michelle (Moseman) Miller</span> <a href="#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/221797211">said</a>:</p>
<blockquote>
<p>the intent was to offer a way to negate a substance when a precoordinated code doesn't exist.  For example, the extension isn't needed for "No known latex allergy (situation)" since a SNOMED code exists SCTID: 716184000.  However, less common assertions may require a combination of the substance + exposureRisk of no-known-reaction-risk</p>
</blockquote>
<p>For that purpose, isn't a Modifier extension better?</p>



<a name="221802881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/221802881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#221802881">(Jan 06 2021 at 18:22)</a>:</h4>
<p><a href="https://www.hl7.org/fhir/extensibility.html#isModifier">https://www.hl7.org/fhir/extensibility.html#isModifier</a></p>



<a name="221802946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/221802946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#221802946">(Jan 06 2021 at 18:23)</a>:</h4>
<p>I don't see a reason why we'd duplicate (and in this case replace) the core elements.</p>



<a name="222093133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/222093133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michelle (Moseman) Miller <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#222093133">(Jan 08 2021 at 16:29)</a>:</h4>
<p>I'm going to phone a friend here since <span class="user-mention" data-user-id="191405">@Rob Hausam</span>  created the original JIRA and created the extension as part of <a href="http://jira.hl7.org/browse/FHIR-10358">J#10358</a> back in 2016.</p>



<a name="222098303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/222098303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#222098303">(Jan 08 2021 at 17:11)</a>:</h4>
<p>Yes, that was a long time ago. :)  Let me catch up on this thread, and I'm happy to contribute.</p>



<a name="222108858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/222108858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#222108858">(Jan 08 2021 at 18:35)</a>:</h4>
<p>I don't think (unless there is a reason for it) that the ExposureRisk should repeat the substance code. It could well be a simple extension(or modifier extension if that is more accurate).</p>



<a name="222109032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/222109032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#222109032">(Jan 08 2021 at 18:37)</a>:</h4>
<p>If I want to say a) "allergic to seafood", and if I want to say b) "allergic to seafood - risk of anaphylaxis", I don't see why "seafood" in case a) is in one element, and in case b) is another element in an extension</p>



<a name="222109094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/222109094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#222109094">(Jan 08 2021 at 18:37)</a>:</h4>
<p>makes profiling esp difficult, because I want to make allergyIntolerance.code mandatory, which I cannot do if I am to support this extension</p>



<a name="222119646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/222119646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#222119646">(Jan 08 2021 at 20:13)</a>:</h4>
<p>I agree with <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>'s inclination to have the code in only one place, but there is a little more to it than that.  Even though we didn't actually make it explicit in the extension with a value set binding (and I think I probably should have, as preferred or example), the idea was that in the extension we retain the original semantics and the name of the 'substance' element, rather than the broader semantics of 'code', which logically would mean binding it to a more restricted value set that contains only codes for substances.  If we were to try to do this in the base spec using the 'code' element, I'm not sure how we would (or if we even could) go about that.  I don't think that we can effectively use an invariant to restrict or change the the allowable set of codes in the way that we would want.  So, even with the issues that Jose points out, I think it's probably best to leave the extension as it is - or, if we think that it is not useful (which may well be the case) or is too confusing or misleading, then instead to just remove it. <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span></p>



<a name="222121721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/222121721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#222121721">(Jan 08 2021 at 20:31)</a>:</h4>
<p>I'm not going to use it because it messes up the profile</p>



<a name="222124430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/substanceExposureRisk/near/222124430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/substanceExposureRisk.html#222124430">(Jan 08 2021 at 20:54)</a>:</h4>
<p>I can understand in some cases may be for a different concept - but I don't see the use case for different codes.<br>
Still, the issue, more than duplication, is the fact that I the extension prevents the use of allergyIntolerance.code</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
