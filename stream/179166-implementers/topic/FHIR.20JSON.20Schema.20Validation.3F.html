---
layout: page
title: "FHIR Chat  · FHIR JSON Schema Validation? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html">FHIR JSON Schema Validation?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153898077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153898077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153898077">(Jul 25 2017 at 13:51)</a>:</h4>
<p>I'm looking for others with experience using the FHIR JSON Schema for validating FHIR JSON instances.  Here's what I've found out so far:</p>
<p>I found the FHIR JSON Shema ZIP file and was trying to use that with Newtonsoft’s JSchema validation library.   When I tried this, once I realized I needed to use their JSchemaUrlResolver API, I was able to validate a Patient resource against the <a href="http://HL7.org" target="_blank" title="http://HL7.org">HL7.org</a> Patient.schema.json schema.   However, I tried to modify a “good Patient” JSON resource (file) to try to make the validation fail, but couldn’t!   I’m not convinced that the JSchema tool is really importing (or referencing) all the leaf-level JSON schemas referenced by the Patient.schema.json file.    </p>
<p>Have any of you had any experience with this?   Any guidance you can give?</p>
<p>BTW, there is an online JSchema tool that uses the Newtonsoft library, you can use that to test for pass/fail FHIR resources.   I tried this online with the FHIR Patient resource (had to remove the first $ref line though -- "$ref": "#/definitions/Patient") and I could not get it to fail on a ‘bad’ Patient JSON file.   Here’s the link to this:  <a href="http://www.jsonschemavalidator.net/" target="_blank" title="http://www.jsonschemavalidator.net/">http://www.jsonschemavalidator.net/</a>   I tried renaming the identifier tag and other tags but couldn’t get it to fail the JSchema validator.</p>



<a name="153898165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153898165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153898165">(Jul 25 2017 at 21:08)</a>:</h4>
<p>I'm going to respond to this on the mailling list. btw, see <a href="http://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions" target="_blank" title="http://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions">http://wiki.hl7.org/index.php?title=FHIR_Rules_for_asking_questions</a></p>



<a name="153898365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153898365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153898365">(Jul 26 2017 at 13:54)</a>:</h4>
<p>Thanks Grahame!   (Didn't realize FHIR had so many places for discussions; I'm  used to the older HL7 listserv-only model, sorry to dup my question in multiple places; I didn't know where FHIR-folks 'hang out').</p>



<a name="153898367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153898367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153898367">(Jul 26 2017 at 14:14)</a>:</h4>
<p>More people hang out here I think, although there are slightly different communities in each place.  General rule is pick a place and wait a few days.  If there's no response, try somewhere else.</p>



<a name="153898808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153898808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153898808">(Jul 27 2017 at 15:32)</a>:</h4>
<p>Today I tried using the full fhir.schema.json file with JScema so that the JSON schema is all self-contained; using this method I was able to load the full FHIR JSON schema without any errors.   I was then able to validated a Patient JSON instance and it passed as expected.  However, I modified some of the tags on the Patient JSON instance, e.g. changed   "identifier"  to   "identifierZ" which I would have expected to cause the validation to fail but it still passed validation!   At this point I'm not sure if it is because the FHIR.schema.json is "so wide open" (for extensions) that virtually anything (that is legal JSON) would validate against it.   If you want to try this out use Newtonsoft's online JSON schema validator and cut-and-paste the full fhir.schema.json file into the schema window on the left, and something NOT FHIR on the right --- and it will still pass!   I used this nonsense JSON and it did validate:</p>
<p>{<br>
  "gobbly-goop": {<br>
    "street_address": "1st Street SE",<br>
    "city": "Washington",<br>
    "state": "DC",<br>
    "type": "business"<br>
  }<br>
}</p>



<a name="153898851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153898851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153898851">(Jul 27 2017 at 20:37)</a>:</h4>
<p>it shouldn't be because of extensions - any extension has the name extension, a url, and some kind of value. From a schema perspective, there's no extensibility there.</p>



<a name="153899218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153899218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153899218">(Jul 28 2017 at 14:18)</a>:</h4>
<p>Grahame, were you able to try the fhir.schema.json and the sample (nonsense) JSON above on the <a href="http://www.jsonschemavalidator.net/" target="_blank" title="http://www.jsonschemavalidator.net/">http://www.jsonschemavalidator.net/</a> page?   I don't understand how the "nonsense JSON" above could validate against the fhir.schema.json schema though?</p>



<a name="153899351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153899351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153899351">(Jul 28 2017 at 21:40)</a>:</h4>
<p>no I haven't had a chance</p>



<a name="153899352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153899352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Todd Cooper <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153899352">(Jul 28 2017 at 21:41)</a>:</h4>
<blockquote>
<p>no I haven't had a chance</p>
</blockquote>
<p>It is Saturday morning, after all ... <img alt=":simple_smile:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f642.png" title=":simple_smile:"></p>



<a name="153899509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153899509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolaos Alexandros Kaloumenos <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153899509">(Jul 29 2017 at 13:28)</a>:</h4>
<p>I found this npm package which looks it does the work:<br>
<a href="https://www.npmjs.com/package/fhir-validator" target="_blank" title="https://www.npmjs.com/package/fhir-validator">https://www.npmjs.com/package/fhir-validator</a></p>
<p>Does this considered to be an effective way by the community, other than the official .jar validator that is provided or HAPI FHIR parser?</p>



<a name="153899539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153899539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153899539">(Jul 29 2017 at 21:23)</a>:</h4>
<p>I'm not familiar with this validator, or it's author.</p>



<a name="153899543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153899543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153899543">(Jul 30 2017 at 00:04)</a>:</h4>
<p>Yes, I posted it realizing soon after that it was already too late for Grahame to see.</p>
<p>I'm getting the sense that not many (if any) folks are using the FHIR JSON schema; is that true?  Are folks validating FHIR JSON (at run-time) using other mechanisms?   Is this like in the XML world where systems only make sure that the syntax is correct (i.e. is valid XML) not that it matches the XML schema?</p>



<a name="153899555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153899555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153899555">(Jul 30 2017 at 03:35)</a>:</h4>
<p>Neither XML schema validation nor JSON schema validation give you full validation.</p>



<a name="153899560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153899560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153899560">(Jul 30 2017 at 04:19)</a>:</h4>
<p>some people are using one of the FHIR validators - they give a much more thorough check anyway</p>



<a name="153900210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153900210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153900210">(Aug 02 2017 at 21:01)</a>:</h4>
<p>Lloyd, yes, I realize that XML or JSON schema can't do much, but when what is coming in is FHIR JSON, that's pretty much the only option. (this is starting to feel like HL7 V2.x conformance discussions ;-) )    I did find some page on the FHIR website where you (FHIR team) list the different levels of validation that can be done with each of the approaches so I understand that JSON schema can only do so much; but it's better than "nothing".  (of course this raises the question about the run-time performance impact of performing JSON schema [or any] validation in FHIR interchange handling.)</p>



<a name="153900219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153900219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153900219">(Aug 02 2017 at 21:07)</a>:</h4>
<p>it's no the only option - you can run a FHIR validator in line - there are options for java, C#, and win32/64 which covers most requirements</p>



<a name="153900220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153900220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153900220">(Aug 02 2017 at 21:08)</a>:</h4>
<p>any updates on the JSON schema?</p>



<a name="153900230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153900230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153900230">(Aug 02 2017 at 21:35)</a>:</h4>
<p>Grahame, just sent you 'regular email' on JSON schema; thanks.</p>



<a name="153900888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153900888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cagdas Alcicek <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153900888">(Aug 08 2017 at 12:54)</a>:</h4>
<p>Hey guys,</p>
<p>I found the current (DSTU3) JSON schemas on here <a href="https://www.hl7.org/fhir/downloads.html" target="_blank" title="https://www.hl7.org/fhir/downloads.html">https://www.hl7.org/fhir/downloads.html</a>. However, I cant seem to find the DSTU2 equivalents. I want to do my own JSON schema validations at runtime, can someone point me in the right direction?</p>



<a name="153900947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153900947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153900947">(Aug 08 2017 at 14:34)</a>:</h4>
<p>As far as I remember, JSON schemas were introduce in STU3, so probably, these just don't exist in DSTU2.</p>



<a name="153901081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153901081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153901081">(Aug 09 2017 at 02:08)</a>:</h4>
<p>Igor is correct.  No JSON schemas were defined in DSTU2.  (In part because the JSON schema spec was extremely immature at that point.  It's since turned out that the schema spec is still pretty immature in that the various tools that claim to support the JSON schema spec have varying behaviors and expectations.</p>



<a name="153901082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20JSON%20Schema%20Validation%3F/near/153901082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20JSON.20Schema.20Validation.3F.html#153901082">(Aug 09 2017 at 02:08)</a>:</h4>
<p>(HL7 encountered exactly the same issues when we were an early adopter of XML schema way back when we defined the HL7 v3 standard.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
