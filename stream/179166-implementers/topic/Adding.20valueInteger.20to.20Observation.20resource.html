---
layout: page
title: "FHIR Chat  · Adding valueInteger to Observation resource · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html">Adding valueInteger to Observation resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153864790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864790">(Dec 22 2016 at 16:41)</a>:</h4>
<p>I am trying to add a new type to the Observation.value[x] and am faced with the following error when I try to build:<br>
 illegal constrained type integer from Quantity, CodeableConcept, string, Range, Ratio, SampledData, Attachment, time, dateTime, Period</p>
<p>I don't understand what constraint is being broken? Is it a constraint placed on value[x]? How can identify the constraint? It is especially confusing for me, because value[x] for extensions can have integers as a type.</p>
<p>Thanks for any help that you can provide.</p>



<a name="153864791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864791">(Dec 22 2016 at 17:01)</a>:</h4>
<p>What type are you trying to add?</p>



<a name="153864792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864792">(Dec 22 2016 at 19:40)</a>:</h4>
<p>valueInteger is not a choice for Value[x].  you can a) use ValueQuantity or b) create an extension.   What is your use case?</p>



<a name="153864794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864794">(Dec 22 2016 at 19:59)</a>:</h4>
<p>I am trying to add a count type value, but find that the the current extension (using valueQuantity with unit=1) may be a bit confusing for our end users. I will try to create an extension. </p>
<p>Just for my understanding, why is valueInteger not a choice for value[x]?</p>



<a name="153864797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864797">(Dec 22 2016 at 20:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191362">@Richard Kavanagh</span>  I am trying to add type Integer to value. I just tried this with an extension under value but this has the same error. Are the types that value[x] support fixed, and if not, how do I add to the types?</p>



<a name="153864800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864800">(Dec 22 2016 at 20:14)</a>:</h4>
<p>yes the types that are allowed in Observation.value[x] are fixed in the definition of the Observation resource, to Quantity|CodeableConcept|string|Range|Ratio|SampledData|Attachment|time|dateTime|Period</p>



<a name="153864801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864801">(Dec 22 2016 at 20:15)</a>:</h4>
<p>They are restricted to this because each type that is added is new work for everyone who deals with Observation</p>



<a name="153864802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864802">(Dec 22 2016 at 20:16)</a>:</h4>
<p>what do you think is confusing?</p>



<a name="153864805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864805">(Dec 22 2016 at 20:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Thanks for the clarification. I hadn't understood that the definition of value[x] was fixed and could not be extended.</p>
<p>So I would have to create an extension at the main level of Observation if I want to add a count attribute?</p>



<a name="153864807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864807">(Dec 22 2016 at 20:18)</a>:</h4>
<p>you mean, if the Observation value is a count? </p>



<a name="153864808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864808">(Dec 22 2016 at 20:19)</a>:</h4>
<p>Yes, sorry that is what I meant</p>



<a name="153864810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864810">(Dec 22 2016 at 20:22)</a>:</h4>
<p>then you should use quantity in Observation.value, not an extension</p>



<a name="153864813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864813">(Dec 22 2016 at 20:26)</a>:</h4>
<p>I should clarify, as I did not earlier. I am trying to create a profile to extend Observation, so there should not be additional work for people not using my profile.</p>
<p>As far as I understood, using quantity requires both a value and a unit, which does not apply to counts which do not have units.</p>



<a name="153864815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864815">(Dec 22 2016 at 20:28)</a>:</h4>
<p>unit is not required, but the UCUM unit for count = 1</p>



<a name="153864816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864816">(Dec 22 2016 at 20:28)</a>:</h4>
<p>so counts do have a unit</p>



<a name="153864817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864817">(Dec 22 2016 at 20:29)</a>:</h4>
<p>and if you do it any other way than that, there'll be additional work for anyone not using your profile</p>



<a name="153864821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864821">(Dec 22 2016 at 20:33)</a>:</h4>
<p>I prefer using the UCUM pseudounits '{count}' since this allows for better display.   What we mean by an extension here is you could create  valueInteger extension on observation, but that is lot of work when valueQuantity will do.  And if you look <a href="http://build.fhir.org/observation-definitions.html#Observation.value_x_" target="_blank" title="http://build.fhir.org/observation-definitions.html#Observation.value_x_">here</a> you will see the allowed types for value[x] and a link to a general discussion on the '[x]' elements.  I would recommend reviewing that a bit.</p>



<a name="153864825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864825">(Dec 22 2016 at 20:36)</a>:</h4>
<p>Thanks for your input <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> and <span class="user-mention" data-user-id="191401">@Eric Haas</span> <br>
I had reviewed the link you attached Eric, but I had not understood that the types were fixed and that I could not add additional types.</p>



<a name="153864827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864827">(Dec 22 2016 at 20:39)</a>:</h4>
<p>[x] types are enumerated in the definition.  if they say '*' then any type is fair game.  :-)</p>



<a name="153864828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Adding%20valueInteger%20to%20Observation%20resource/near/153864828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sadiq Saleh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Adding.20valueInteger.20to.20Observation.20resource.html#153864828">(Dec 22 2016 at 20:46)</a>:</h4>
<p>Thanks for taking the time to respond to my post.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
