---
layout: page
title: "FHIR Chat  · Searching, chaining pinning · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html">Searching, chaining pinning</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153935111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935111">(Feb 02 2018 at 22:55)</a>:</h4>
<p>Consider this search:</p>



<a name="153935112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935112">(Feb 02 2018 at 22:56)</a>:</h4>
<div class="codehilite"><pre><span></span>GET Observation?code=X&amp;component.code=Y&amp;component.value-quantity=grZ
</pre></div>



<a name="153935113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935113">(Feb 02 2018 at 22:56)</a>:</h4>
<p>this won't do what most people want.... they think they're searching for an observation that has a component with a code Y and value &gt; 3.5</p>



<a name="153935114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935114">(Feb 02 2018 at 22:57)</a>:</h4>
<p>but they're not. Instead, they're searching for an observation that has a component with code Y, and a component with value 3.5</p>



<a name="153935115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935115">(Feb 02 2018 at 22:58)</a>:</h4>
<p>it's been claimed that this is counter-intuitive, and that we should say that all the component references are 'pinned' together, such that they automatically refer to the same component</p>



<a name="153935116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935116">(Feb 02 2018 at 22:59)</a>:</h4>
<p>but that would mean that this search would become impossible</p>



<a name="153935117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935117">(Feb 02 2018 at 22:59)</a>:</h4>
<div class="codehilite"><pre><span></span>GET Observation?code=X&amp;component.code=Y&amp;component.code=Z
</pre></div>



<a name="153935118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935118">(Feb 02 2018 at 22:59)</a>:</h4>
<p>so far, we've said that if you really want control here, use the _filter parameter... but only my server implements it.</p>



<a name="153935119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935119">(Feb 02 2018 at 23:02)</a>:</h4>
<p>why is that.... I'm not really sure... maybe it's because the _filter parameter syntax looks crappy... well, we copied it from odata... but I agree it's pretty crappy syntax, even if it's powerful</p>



<a name="153935120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935120">(Feb 02 2018 at 23:03)</a>:</h4>
<p>so I don't know whether we want to see if we can make _filter better.... but there's another option, as shown in this query:</p>



<a name="153935121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935121">(Feb 02 2018 at 23:03)</a>:</h4>
<div class="codehilite"><pre><span></span>GET Observation?code=X&amp;component=$x&amp;$x.code=Y&amp;$x.value-quantity=grZ
</pre></div>



<a name="153935122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935122">(Feb 02 2018 at 23:04)</a>:</h4>
<p>it suffers from the obvious disadvantage of squeezing a little more blood out the stone that is the parameter syntax.... but it might work. <span class="user-mention" data-user-id="191351">@Chris Grenz</span> <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> <span class="user-mention" data-user-id="191319">@James Agnew</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="153935124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935124">(Feb 02 2018 at 23:49)</a>:</h4>
<p>Presumably <code>x</code> here is any variable name that the client uses consistently at these three spots? I think we talked through something like this at the workgroup session; it's definitely the least worst change we've entertained, IMO.</p>



<a name="153935132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935132">(Feb 03 2018 at 02:34)</a>:</h4>
<p>Yes. I didn’t hear discussion of this variant</p>



<a name="153935763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935763">(Feb 07 2018 at 14:05)</a>:</h4>
<p>I think there was consensus in Mon Q1 or 2 about not extending the search syntax any further. And I find it hard to read. Plus it brings Observation.component into focus which is not a search parameter, so how do I evaluate that? Should I read $x.code as the search parameter 'component-code'? So I'm not in favour of this change.</p>



<a name="153935791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153935791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153935791">(Feb 07 2018 at 18:28)</a>:</h4>
<p>I'm not either. Not personally</p>



<a name="153937806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153937806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153937806">(Feb 15 2018 at 15:23)</a>:</h4>
<blockquote>
<p>Presumably <code>x</code> here is any variable name that the client uses consistently at these three spots? I think we talked through something like this at the workgroup session; it's definitely the least worst change we've entertained, IMO.</p>
</blockquote>
<p>Agree.  </p>
<p>But as Christiaan and James have now promised to implement _filter, the rest of the world will soon follow ;-)</p>



<a name="153937907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153937907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153937907">(Feb 15 2018 at 20:25)</a>:</h4>
<p>well, I can only hope so.</p>



<a name="153937908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Searching%2C%20chaining%20pinning/near/153937908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Searching.2C.20chaining.20pinning.html#153937908">(Feb 15 2018 at 20:25)</a>:</h4>
<p>so we can stop all this stupid syntax hack stuff</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
