---
layout: page
title: "FHIR Chat  · Typeahead / Autocomplete Box · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html">Typeahead / Autocomplete Box</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153858429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858429">(Nov 24 2016 at 18:19)</a>:</h4>
<p>I'm wondering if it makes sense to use FHIR Search for Typeahead / Autocomplete / Lookup boxes, e.g. fetch list of organizations, practitioners or zip / postal codes matching user's input as soon as a user types into a box each leter. Would FHIR be an overkill / too expensive for this? Some of these lookups are too big to be prefetched and locally stored on a client. </p>
<p>I would also like to learn if anyone has implemented a Typeahead / Autocomplete functionality on a client side with an effcient management of server requests vs local caching and whether anyone has used any open source library, e.g. <a href="https://github.com/twitter/typeahead.js/" target="_blank" title="https://github.com/twitter/typeahead.js/">https://github.com/twitter/typeahead.js/</a>.</p>



<a name="153858430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858430">(Nov 24 2016 at 18:22)</a>:</h4>
<p>it's been used for this. _summary=text is intended for this. </p>



<a name="153858431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858431">(Nov 24 2016 at 18:22)</a>:</h4>
<p>I don't know whether any one has used typeahead.js </p>



<a name="153858433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858433">(Nov 24 2016 at 18:29)</a>:</h4>
<p>I'm not sure if text would be a good fit for the lookup box, which has very limited length, especially if it's on a mobile device, and wouldn't be able to coommodate a long formatted text. But even more importantly, is the question of efficiency if we need to send an HTTP request to a FHIR server after each letter been typed by a user vs prefetch / caching of a full looup list vs some other machanisms.</p>



<a name="153858434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858434">(Nov 24 2016 at 18:32)</a>:</h4>
<p>well, there's no much the FHIR spec can do about that. I'll tell you what I do in one context - I cache sets of resources locally to save on latency where I can. But that's a lot more coding. So you pick your poison</p>



<a name="153858435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858435">(Nov 24 2016 at 18:37)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>. This is why I would like to see how others has done this for their implementations, ideally, tested with a large number of user in production, and find out if there are any best practices or useful libraries available that can help make this more efficient.</p>



<a name="153858457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858457">(Nov 25 2016 at 06:07)</a>:</h4>
<p>CSIRO uses typeahead-style interaction in our tools such as Shrimp and Snapper, typically to talk to Ontoserver (but its FHIR, so any terminology server). Works nicely, but it is sensitive to server performance.</p>



<a name="153858458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858458">(Nov 25 2016 at 06:31)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191376">@Jim Steel</span>. As it seems CSIRO tools are not open source (I don't see them on GitHub), I will appreciate if you can describe the typeahead design: does it call a FHIR server for each typed character, pre-fetches/caches at a client, uses any open source libraries?</p>



<a name="153858459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858459">(Nov 25 2016 at 06:38)</a>:</h4>
<p>Those websites are angular sites, so we use the angular/bootstrap typeahead widget (uib-typeahead), which invokes a javascript function that makes the call to the fhir server</p>



<a name="153858460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858460">(Nov 25 2016 at 06:41)</a>:</h4>
<p>uib-typeahead by default sends a request every keystroke, but it has a parameter you can set for how many ms to wait before sending, to avoid interrupting the user typing, or sending too often</p>



<a name="153858461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858461">(Nov 25 2016 at 06:43)</a>:</h4>
<p>(actually, snapper is angular. shrimp is not. same principles, though)</p>



<a name="153858463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858463">(Nov 25 2016 at 07:08)</a>:</h4>
<p>Thank you so much <span class="user-mention" data-user-id="191376">@Jim Steel</span>! Our first client app is also Angular, so it's very helpful to know that you've had good experience with uib-typeahead. I'm wondering if you performed any stress testing to see how Shrimp's typeahead performance is affected by multiple simultaneous users (or if you experienced this in production). I'm also wondering if Shrimp requests fulll resources, just text &amp; mandatory elements ("_summary=text") or uses "_elements" to limit to a specific set of elements be returned when calling FHIR server after each keystroke.  </p>



<a name="153858464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858464">(Nov 25 2016 at 07:14)</a>:</h4>
<p>I haven't personally worked on Shrimp (the non-angular one) as much, but multiple users isn't a problem for the client, only for the server, so it depends on the server/s you're hitting. We've done stress testing for our server, and for some definition of fine, its fine. Our web apps very rarely request full resources. We almost always use _elements, as well as count (and sometimes count=0). We do run into performance problems sometimes, but between those tricks, and others like using batch where possible to avoid sending lots of requests, there's generally been a way.</p>



<a name="153858465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858465">(Nov 25 2016 at 07:15)</a>:</h4>
<p>We do also try to customise our client request behaviour based on querying the Conformance/CapabilityStatement to see what the server supports. E.g. if the server claims to support batch, we will use it. If it doesn't, we will instead send multiple requests.</p>



<a name="153858466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858466">(Nov 25 2016 at 07:21)</a>:</h4>
<p>Thank you Jim! This is incredibly helpful.</p>



<a name="153858543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858543">(Nov 26 2016 at 10:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191376">@Jim Steel</span> is right - judicous use of _elements is key to making the typeahead performance feel right. It's also very important to ensure that your server is sending compressed responses.  FInally, at least in the case of terminology, HTTP caching also helps with load.  But of course you need a relatively fast server in the first place.  You can play with our ValueSet expansion tool <a href="http://ontoserver.csiro.au/vstool/" target="_blank" title="http://ontoserver.csiro.au/vstool/">http://ontoserver.csiro.au/vstool/</a> to get a feel for the relative performance of different servers.</p>



<a name="153858569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858569">(Nov 27 2016 at 05:45)</a>:</h4>
<p>+1 on what's been described above, we've implemented this in our solution also with valueset expansion, but haven't started for the other types yet, but was planning on trying with the _elements option.</p>



<a name="153858570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Typeahead%20/%20Autocomplete%20Box/near/153858570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Typeahead.20.2F.20Autocomplete.20Box.html#153858570">(Nov 27 2016 at 05:46)</a>:</h4>
<p>Especially the don't request on every keystroke, wait a short time till no more keys are coming, then request.<br>
As while keys are coming in, the search filter is being refined, so performance is improved by asking the server less times.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
