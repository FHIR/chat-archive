---
layout: page
title: "FHIR Chat  · ConceptMap.source[x] URI vs Canonical · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html">ConceptMap.source[x] URI vs Canonical</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153943786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943786">(Mar 12 2018 at 13:24)</a>:</h4>
<p>I am trying to wrap my head around the scope of the new Canonical datatype as it relates to the <code>ConceptMap.source[x]</code> field (and others like it).</p>
<p>Essentially I'm wondering under what circumstances one would use <code>.sourceUri</code>, since I can now put non-URL URIs into the canonical datatype.</p>



<a name="153943811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943811">(Mar 12 2018 at 14:24)</a>:</h4>
<p>If the source is an actual FHIR ValueSet resource, you would use sourceCanonical, but if the source is a ValueSet, but not a FHIR resource (as in a valueset in the VSAC, identified by an OID), then you would use sourceUri.</p>



<a name="153943812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943812">(Mar 12 2018 at 14:25)</a>:</h4>
<p>My understanding is canonical is always and only used to reference FHIR resources that have a canonical identifier (i.e. a url element).</p>



<a name="153943818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943818">(Mar 12 2018 at 14:44)</a>:</h4>
<p>That's my understanding of the intent as well - that 'canonical' should always point (and should normally resolve) to a FHIR resource.  But I'm also noting that we don't actually say that in the documentation for the 'canonical' data type (<a href="http://build.fhir.org/datatypes.html#canonical" target="_blank" title="http://build.fhir.org/datatypes.html#canonical">http://build.fhir.org/datatypes.html#canonical</a>) or on the 'Canonical URLs' page (<a href="http://build.fhir.org/references.html#canonical" target="_blank" title="http://build.fhir.org/references.html#canonical">http://build.fhir.org/references.html#canonical</a>).</p>



<a name="153943848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943848">(Mar 12 2018 at 16:25)</a>:</h4>
<p>What does it mean a "FHIR ValueSet resource"? Is that a ValueSet registered with FHIR or any ValueSet which can be return via FHIR ValueSet endpoint?</p>



<a name="153943849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943849">(Mar 12 2018 at 16:27)</a>:</h4>
<p>If a terminology server returns a VSAC value value from ValueSet endpoint, should that be referenced as sourceUri or sourceCanonical?</p>



<a name="153943865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943865">(Mar 12 2018 at 17:05)</a>:</h4>
<p>Anything experessed in FHIR form.</p>



<a name="153943872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943872">(Mar 12 2018 at 17:46)</a>:</h4>
<p>Can it be generalized as using canonical for resource identified by url, using uri for resource identified by OID/UUID?</p>



<a name="153943879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943879">(Mar 12 2018 at 17:56)</a>:</h4>
<p>Sounds like necessarily that wouldn't be correct, since technically a non-FHIR valueset could be identified by a URL and a FHIR ValueSet could have an OID as an identifier.</p>



<a name="153943880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943880">(Mar 12 2018 at 17:57)</a>:</h4>
<p>We should definitely clarify this usage in the canonical definition though, assuming that's the intent.</p>



<a name="153943888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943888">(Mar 12 2018 at 18:05)</a>:</h4>
<p>But you cannot use OID in canonical. Right?<br>
What I mean is identify a ValueSet using OID.</p>



<a name="153943889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943889">(Mar 12 2018 at 18:16)</a>:</h4>
<p>URI encoded OID --&gt; urn:oid:1.1.1.1.1.1     See <a href="https://healthcaresecprivacy.blogspot.com/2011/02/creating-and-using-unique-id-uuid-oid.html" target="_blank" title="https://healthcaresecprivacy.blogspot.com/2011/02/creating-and-using-unique-id-uuid-oid.html">https://healthcaresecprivacy.blogspot.com/2011/02/creating-and-using-unique-id-uuid-oid.html</a></p>



<a name="153943890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943890">(Mar 12 2018 at 18:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> I know that can be used for uri. Can it also be used for canonical?</p>



<a name="153943929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943929">(Mar 12 2018 at 19:37)</a>:</h4>
<p>yes</p>



<a name="153943931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943931">(Mar 12 2018 at 19:39)</a>:</h4>
<p>I'm not entirely sure when you'd use sourceCanonical either - we allow a bdining to a non-FHIR value set, for some special cases where there value set is a slippery beast but I don't see how you could concept map them... also, I was working on this on the plane.... we don't really need to allow a choice of URI anymore... we can just require a value set and gin up a value set resource now</p>



<a name="153943934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943934">(Mar 12 2018 at 19:43)</a>:</h4>
<p>Yeah, I've been wondering about some of that.  We should make it as clear and simple as we can.  Do you have some plans?</p>



<a name="153943938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943938">(Mar 12 2018 at 19:46)</a>:</h4>
<p>don't know. it's too late for the draft - so I guess it will be a ballot item that causes substantiative changes</p>



<a name="153943941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943941">(Mar 12 2018 at 19:51)</a>:</h4>
<p>The newly introduced canonical is confusing. But as a non-profiler, I feel there is not much to worry about. I can continue to use urls on where I used before. Then I don't know why there is need for this new data type. Maybe I should re-read the whole thread about canonical.</p>



<a name="153943950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943950">(Mar 12 2018 at 20:10)</a>:</h4>
<p>Can you clarify....does "we don't really need to allow a choice of URI anymore...." mean <code>source[x]</code> becomes [source] with type 'Reference' or just back to 'uri'?</p>



<a name="153943951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943951">(Mar 12 2018 at 20:17)</a>:</h4>
<p>nah would be just source : canonical</p>



<a name="153943953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943953">(Mar 12 2018 at 20:18)</a>:</h4>
<p>OK that was a bit confusing because you started your comment with "I'm not entirely sure when you'd use sourceCanonical either ..."</p>



<a name="153943954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153943954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153943954">(Mar 12 2018 at 20:19)</a>:</h4>
<p>duh, should have been sourceUri</p>



<a name="153944613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/ConceptMap.source%5Bx%5D%20URI%20vs%20Canonical/near/153944613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/ConceptMap.2Esource.5Bx.5D.20URI.20vs.20Canonical.html#153944613">(Mar 14 2018 at 00:52)</a>:</h4>
<p>I'm not really sure why you'd ever want to us a URL rather than a URI to reference a ValueSet from ConceptMap.source</p>
<p>I also worry about a URI like urn:foo|a with a version = x|y and thus a canonical looking like urn:foo|a|x|y and then the need to try every possible split on the | to resolve it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
