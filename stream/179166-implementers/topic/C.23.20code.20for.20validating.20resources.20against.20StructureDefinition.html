---
layout: page
title: "FHIR Chat  · C# code for validating resources against StructureDefinition · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html">C# code for validating resources against StructureDefinition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153847341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon-Vidar Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847341">(Sep 15 2016 at 10:27)</a>:</h4>
<p>We are implementing several FHIR services and need to validate "incoming" messages against the structure definitions that our services follows. We've looked for source code implementations for this but haven't found any C# prosjects that we can use. Do you know about any open source projects that implement this functionality? </p>
<p>We have tried using the suggested java-app for this, but that comes up with some exception:<br>
C:\Temp\java&gt;java -Djava.net.useSystemProxies=true -jar org.hl7.fhir.validator.jar commrequest.xml -defn validation.zip -profile structinfo.xml test.xml<br>
  .. load definitions from validation.zip<br>
  .. connect to terminology server <a href="http://fhir2.healthintersections.com.au/open" target="_blank" title="http://fhir2.healthintersections.com.au/open">http://fhir2.healthintersections.com.au/open</a><br>
  .. load profile structinfo.xml<br>
  .. load commrequest.xml<br>
  .. validate (xml)<br>
Exception in thread "main" java.lang.NullPointerException<br>
        at java.io.ByteArrayInputStream.&lt;init&gt;(ByteArrayInputStream.java:106)<br>
        at org.hl7.fhir.utilities.Utilities.saxonTransform(Utilities.java:292)<br>
        at org.hl7.fhir.dstu2.validation.ValidationEngine.processXml(ValidationEngine.java:176)<br>
        at org.hl7.fhir.dstu2.validation.ValidationEngine.process(ValidationEngine.java:127)<br>
        at org.hl7.fhir.dstu2.validation.Validator.process(Validator.java:198)<br>
        at org.hl7.fhir.dstu2.validation.Validator.main(Validator.java:120)</p>



<a name="153847342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847342">(Sep 15 2016 at 10:51)</a>:</h4>
<p>can you send me the xml so I can check why it's giving an npe?</p>



<a name="153847343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gaute Brakstad <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847343">(Sep 15 2016 at 11:00)</a>:</h4>
<p>Think <a href="https://www.nuget.org/packages/Hl7.Fhir.Specification.DSTU2/0.90.5" target="_blank" title="https://www.nuget.org/packages/Hl7.Fhir.Specification.DSTU2/0.90.5">https://www.nuget.org/packages/Hl7.Fhir.Specification.DSTU2/0.90.5</a> got some buildtin validation of resources.</p>



<a name="153847345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon-Vidar Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847345">(Sep 15 2016 at 11:06)</a>:</h4>
<p>I tried using  DotNetAttributeValidation.TryValidate(patient, somereturnlist,false), it only verifies that attributes are valid. Couldn't find anything related to validating against profiles.</p>



<a name="153847348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon-Vidar Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847348">(Sep 15 2016 at 11:22)</a>:</h4>
<p><a href="/user_uploads/10155/mGTCofUk8PgbfDWTC_x2WClq/commrequest.xml" target="_blank" title="commrequest.xml">commrequest.xml</a> <a href="/user_uploads/10155/cuxNYl8iql_7iDf32yj-bn8J/structinfo.xml" target="_blank" title="structinfo.xml">structinfo.xml</a> </p>



<a name="153847349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847349">(Sep 15 2016 at 11:22)</a>:</h4>
<p>Hi all, we are currently expanding the Hl7.Fhir.Specification assembly to have full profile validation functionality. If you look in the ft-validator branche in Github you can see the work progressing. I expect to have it ready around oct 1st.</p>



<a name="153847350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon-Vidar Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847350">(Sep 15 2016 at 11:25)</a>:</h4>
<p>Thankyou, <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> :) We can wait with the implementation until then.</p>



<a name="153847358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847358">(Sep 15 2016 at 12:33)</a>:</h4>
<p>That's useful <span class="user-mention" data-user-id="191328">@Ewout Kramer</span>  looking forwards to that :-)</p>



<a name="153847360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847360">(Sep 15 2016 at 13:18)</a>:</h4>
<p>With regard to the java validator , it worked fine for me. I ran it with these parameters:<br>
java -jar [jar] c:\temp\validation\commrequest.xml -defn C:\work\org.hl7.fhir.dstu2\build\publish\validation.xml.zip -folder C:\temp\validation -profile <a href="http://hl7.no/StructureDefinition/hnCommunicationRequest" target="_blank" title="http://hl7.no/StructureDefinition/hnCommunicationRequest">http://hl7.no/StructureDefinition/hnCommunicationRequest</a></p>



<a name="153847362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847362">(Sep 15 2016 at 13:20)</a>:</h4>
<p>And thanks to you too, <span class="user-mention" data-user-id="191362">@Richard Kavanagh</span> ;-)</p>



<a name="153847429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon-Vidar Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847429">(Sep 15 2016 at 23:10)</a>:</h4>
<p>We probably used some wrong validation-files. Will try again tomorrow. (Was not sure where to download them from)</p>



<a name="153847441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jon-Vidar Schneider <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847441">(Sep 16 2016 at 07:39)</a>:</h4>
<p>Got it working when I finally found the correct validation.xml.zip. </p>



<a name="153847496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/C%23%20code%20for%20validating%20resources%20against%20StructureDefinition/near/153847496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/C.23.20code.20for.20validating.20resources.20against.20StructureDefinition.html#153847496">(Sep 16 2016 at 22:10)</a>:</h4>
<p>The current alpha 7 does have validation that checks the invariant constraints, but still has further to go for the other profile stuff (which <span class="user-mention" data-user-id="191328">@Ewout Kramer</span>  is working on)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
