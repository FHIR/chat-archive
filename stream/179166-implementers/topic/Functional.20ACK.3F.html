---
layout: page
title: "FHIR Chat  · Functional ACK? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html">Functional ACK?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153904462"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904462" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904462">(Sep 05 2017 at 14:09)</a>:</h4>
<p>Hi. What is the way to provide a "functional" ACK using REST? Example: I POST a record of a medicationAdministration with a medication as a contained resource. If the product code is not known in the receiving system, how should we say "We received this record, but this product does not exist in our formulary and we have no way to figure it out"?</p>



<a name="153904463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904463">(Sep 05 2017 at 14:10)</a>:</h4>
<p>Use of OperationOutcome</p>



<a name="153904464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904464">(Sep 05 2017 at 14:11)</a>:</h4>
<p>That's it, thanks!</p>



<a name="153904465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904465">(Sep 05 2017 at 14:24)</a>:</h4>
<p>ah wait... in terms of communication how does that work?<br>
There are two times: 1. immediate response, saying "OK, i got this" and another one - may not be at the same time - that says "well, remember i said it was ok?.. Well, here's the thing..."</p>



<a name="153904466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904466">(Sep 05 2017 at 14:25)</a>:</h4>
<p>pretty much like this chat - i asked a question and you replied, it computes, so I say OK. Then I see that in some cases it may not be sufficient.</p>



<a name="153904473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904473">(Sep 05 2017 at 15:06)</a>:</h4>
<p>From a RESTful perspective, once you say "create successful" or "update successful", etc., there's no take-backs.  The expectation is that the processsing of the create/update/delete is done synchronously.  If you're talking about a request for fulfillment, then you can have Task and you can update the state of the Task to say "cancelled" if you had previously accepted</p>



<a name="153904476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904476">(Sep 05 2017 at 15:19)</a>:</h4>
<p>Yes, what Lloyd said... The exception is HTTP 202 "Accepted"; which is well defined as having no good and perfect solution. But 202 is a choice the server can make, and isn't all that unusual when servers are under-load.  As Lloyd points out , http REST is intended to be a synchronous protocol. This is where much of the 'simplicity' comes from.  Thus, recommend the server do all the validation it needs to do before it returns a 2xx; using 202 only when it is a server overloaded condition that it knows it will recover from and ultimately persist.</p>



<a name="153904478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904478">(Sep 05 2017 at 15:27)</a>:</h4>
<p>Ok, so I would use a task.  If i get it right: <br>
1. I POST and I get a 201. I go about my other business.<br>
2. Later, if the server sees an issue, the server can decide to create a Task for that administration. It's up to the client to check if there are any issues with any Tasks associated with one of the administrations the client previously POSTed</p>



<a name="153904479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904479">(Sep 05 2017 at 15:27)</a>:</h4>
<p>is that it?</p>



<a name="153904484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904484">(Sep 05 2017 at 16:15)</a>:</h4>
<p>FHIR doesn't allow 202 as a response</p>



<a name="153904652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904652">(Sep 06 2017 at 15:18)</a>:</h4>
<p>Take a look at the Touchstone tests.  They provide the proper HTTP response codes for all the FHIR endpoints.  They vary depending on failure, error, success, authorization, and other circumstances.  It's often the case that a 201 response is used, but not always...  Bundle responses sometimes get a 200 code; and a successful query that just happens to return 0 matches will sometimes serve up a 204.</p>
<p>Here is an example file that conforms to Touchstone tests that will give you a sense of what the ACK responses should look like:<br>
<a href="https://github.com/clinical-meteor/hl7-resource-patient/blob/master/server/rest.js" target="_blank" title="https://github.com/clinical-meteor/hl7-resource-patient/blob/master/server/rest.js">https://github.com/clinical-meteor/hl7-resource-patient/blob/master/server/rest.js</a></p>



<a name="153904714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904714">(Sep 06 2017 at 20:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> , you might consider using Messaging if you need to support asynchronous operation: <a href="http://www.hl7.org/fhir/STU3/messaging.html#2.24.3.2" target="_blank" title="http://www.hl7.org/fhir/STU3/messaging.html#2.24.3.2">http://www.hl7.org/fhir/STU3/messaging.html#2.24.3.2</a></p>



<a name="153904719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Functional%20ACK%3F/near/153904719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Functional.20ACK.3F.html#153904719">(Sep 06 2017 at 20:09)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191393">@Igor Sirkovich</span> . I would not look at that because we are looking for simple / straightforward communications but actually it does seem interesting. Thanks for pointing out.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
