---
layout: page
title: "FHIR Chat  · MessageDefinition - FHIR Document · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html">MessageDefinition - FHIR Document</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159053995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159053995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159053995">(Feb 21 2019 at 09:56)</a>:</h4>
<p>Can a MessageDefinition be used to define contents of a FHIR Document i.e. it consists of </p>
<p>Composition (1..1)<br>
Encounter (1..1)<br>
Patient (1..1)</p>



<a name="159054041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159054041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159054041">(Feb 21 2019 at 09:57)</a>:</h4>
<p>etc. </p>
<p>It's not exactly a message but I may also have a very Encounter message bundle which looks like</p>
<p>MessageHeader (1..1)<br>
Composition (0..1)<br>
Encounter (1..1)<br>
Patient (1..1)<br>
etc</p>



<a name="159054230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159054230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159054230">(Feb 21 2019 at 10:01)</a>:</h4>
<p>It looks possible. What I'm trying to do is show developers what the XYZ FHIR Document should look like (I can show an example bundle but need a simple reference which shows which resources and profiles it consists of)</p>



<a name="159056205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159056205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159056205">(Feb 21 2019 at 10:30)</a>:</h4>
<p>Sounds like GraphDefinition to me..</p>



<a name="159056763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159056763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159056763">(Feb 21 2019 at 10:38)</a>:</h4>
<p>I'll look into that but I think that's at a layer down from where I'm looking (I want to understand what the Bundle contents should be)</p>



<a name="159069758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159069758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159069758">(Feb 21 2019 at 14:06)</a>:</h4>
<p>I think my answer is MessageDefinition, I've been misled by some local examples of MessageDefinition.</p>



<a name="159077185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159077185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159077185">(Feb 21 2019 at 15:36)</a>:</h4>
<p>MessageDefinition is not intended to define documents.  MessageDefinition requires an event - which is not relevant for document.  It also requires a focus for the event, which again is generally not relevant.  GraphDefinition should be all that's required to define a document.</p>



<a name="159135565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159135565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159135565">(Feb 22 2019 at 06:47)</a>:</h4>
<p>Are their examples of a MessageDefinition and resulting message.</p>
<p>Bits I’m not clear on:</p>
<p>I’m presuming MessageDefinition implies a bundle (is it implied this is a message Bundle?)</p>
<p>In that bundle it is implied the first resource is MeassageHeader (or should that be a focus in MD)</p>
<p>If the MessageDefintion refers to a fhir document. Does it have a focus of Bundle or Composition.<br>
(The example I’ve seen uses bundle - which is a fhir document). If it is Bundle, how do I define the second ‘payload’ bundle, another messagedefintion with graph? </p>
<p>I think the example I’ve been looking at is wrong.</p>



<a name="159135701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159135701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159135701">(Feb 22 2019 at 06:50)</a>:</h4>
<p>If the message's sole purpose is to transmit a FHIR document, the MessageHeader.focus would be a Bundle.  The graph definition could have a profile that described the document, but there's not (yet) a way for a GraphDefinition to point to a GraphDefinition for a child bundle.  (Messaging isn't super common in FHIR and messages passing around documents is even less common, so there hasn't been a lot of focus on such requirements.)</p>



<a name="159137708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159137708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159137708">(Feb 22 2019 at 07:41)</a>:</h4>
<p>For reuse (the fhir document could rest), it seems I should do a graph for the fhir document. </p>
<p>The graph for the MessageDefinition could refer to this.</p>
<p>Also seems I should link this document graph to the focus element. (I think that’s what the extensions in this example is trying to do <a href="https://fhir.nhs.uk/STU3/MessageDefinition/ITK-MH-eDischarge-MessageDefinition-Instance-1" target="_blank" title="https://fhir.nhs.uk/STU3/MessageDefinition/ITK-MH-eDischarge-MessageDefinition-Instance-1">https://fhir.nhs.uk/STU3/MessageDefinition/ITK-MH-eDischarge-MessageDefinition-Instance-1</a>)</p>



<a name="159138479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159138479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159138479">(Feb 22 2019 at 08:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> The NHS uses the Composition resource as the focal resource in a message, where the Composition is NOT a document, but just acting as a grouper. See <a href="https://vimeo.com/243295695" target="_blank" title="https://vimeo.com/243295695">https://vimeo.com/243295695</a> , at 27:30</p>



<a name="159138651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159138651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159138651">(Feb 22 2019 at 08:03)</a>:</h4>
<p>That confuses me a little, the NHS examples of FHIR Documents do seem to be FHIR documents. Where does the grouper comment come from (I'm including messaging in this comment)</p>



<a name="159138817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159138817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159138817">(Feb 22 2019 at 08:06)</a>:</h4>
<p>e.g. This is a rendered FHIR Document. <a href="https://data.developer.nhs.uk/ccri/ed/patient/1172/document/4" target="_blank" title="https://data.developer.nhs.uk/ccri/ed/patient/1172/document/4">https://data.developer.nhs.uk/ccri/ed/patient/1172/document/4</a><br>
actual resource <a href="https://data.developer.nhs.uk/ccri-fhir/STU3/Binary/5ba6087037cac60001366b3f" target="_blank" title="https://data.developer.nhs.uk/ccri-fhir/STU3/Binary/5ba6087037cac60001366b3f">https://data.developer.nhs.uk/ccri-fhir/STU3/Binary/5ba6087037cac60001366b3f</a> </p>
<p>This is an example of what would be referred to in a MessageDefinition.</p>



<a name="159138971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159138971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159138971">(Feb 22 2019 at 08:10)</a>:</h4>
<p>Back to MD, I think I would use a Graph to show how this FHIR document would be built. Is that a correct use of Graph?</p>



<a name="159139764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159139764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159139764">(Feb 22 2019 at 08:31)</a>:</h4>
<p>If the message tigger event were to be 'new discharge summary' the focal class would be a Bundle (of type Document).</p>



<a name="159141485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159141485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159141485">(Feb 22 2019 at 09:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191372">@René Spronk</span> I think I get what you mean. In the wider context NHSD ITK Message it's what you call a grouper and what I was calling payload. For FHIR Documents it does seem to follow standard FHIR messaging (I need to check other event types though)</p>



<a name="159168707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159168707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159168707">(Feb 22 2019 at 16:22)</a>:</h4>
<p>Have been looking at GraphDefintion, done some basic rendering work and it does seem to fit well.<br>
Cheers. Now just need to convince a few people it’s the correct approach</p>



<a name="159268959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159268959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159268959">(Feb 24 2019 at 09:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> be aware though that there are currently no validators (AFAIK) which allow one to validate GraphDefinition. May now that CMS is pushing ADT FHIR messages in the US we'll see some of validators being willing to implement this, this is effectively a necessity for the roll-out of FHIR messaging.</p>



<a name="159305469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159305469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159305469">(Feb 25 2019 at 01:16)</a>:</h4>
<p>I</p>



<a name="159305472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159305472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159305472">(Feb 25 2019 at 01:16)</a>:</h4>
<p>I'll add it to my to do list for May connectathon</p>



<a name="159367887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159367887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159367887">(Feb 25 2019 at 20:09)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191372">@René Spronk</span> <br>
I’m presuming defining and explaining fhir documents was the main driver for graphdefintion?</p>



<a name="159376531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/MessageDefinition%20-%20FHIR%20Document/near/159376531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/MessageDefinition.20-.20FHIR.20Document.html#159376531">(Feb 25 2019 at 22:01)</a>:</h4>
<p>It was one, but not necessarily primary.  It's also useful for defining queries, for defining  collections of data to be exchanged, for defining content to grant access privileges to,  and obviously for defining message structures.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
