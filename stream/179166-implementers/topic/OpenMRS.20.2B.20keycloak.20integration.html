---
layout: page
title: "FHIR Chat  · OpenMRS + keycloak integration · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OpenMRS.20.2B.20keycloak.20integration.html">OpenMRS + keycloak integration</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271794427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OpenMRS%20%2B%20keycloak%20integration/near/271794427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Servin Osmanov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OpenMRS.20.2B.20keycloak.20integration.html#271794427">(Feb 14 2022 at 08:11)</a>:</h4>
<p>Hi. <br>
Can you help me integrate fhir into OpenMRS and keycloak using  module fhir2 ?<br>
I configured almost all, but all my requests returns error 500 Nullpointer.</p>



<a name="271794553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OpenMRS%20%2B%20keycloak%20integration/near/271794553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Servin Osmanov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OpenMRS.20.2B.20keycloak.20integration.html#271794553">(Feb 14 2022 at 08:13)</a>:</h4>
<p>Environment:<br>
MacOS<br>
OpenMRS 2.4<br>
keycloak 14<br>
Fhir2 (openmrs-module-fhir2) 1.3.0<br>
msrtonfhir (openmrs-module-smartonfhir) latest from github<br>
keycloak-auth(<a href="https://github.com/openmrs/openmrs-contrib-keycloak-auth">https://github.com/openmrs/openmrs-contrib-keycloak-auth</a>)<br>
keycloak-smart-auth (<a href="https://github.com/openmrs/openmrs-contrib-keycloak-smart-auth">https://github.com/openmrs/openmrs-contrib-keycloak-smart-auth</a>)</p>
<p>Smart App configuration </p>
<div class="codehilite"><pre><span></span><code>{
  &quot;id&quot;: &quot;patient.monitor&quot;,
  &quot;description&quot;: &quot;patient.monitor&quot;,
  &quot;order&quot;: 1,
  &quot;config&quot; : {
    &quot;launchUrl&quot; : &quot;https://localhost/patient-monitor/launch.html&quot;,
    &quot;launchType&quot; : &quot;EHR&quot;,
    &quot;launchContext&quot; : &quot;patient&quot;,
    &quot;fhirVersion&quot; : &quot;R4&quot;
  },
  &quot;extensions&quot;: [
    {
      &quot;id&quot;: &quot;smartapps.patientMonitorHomepageLink&quot;,
      &quot;extensionPointId&quot;: &quot;smartAppManagement.apps&quot;,
      &quot;type&quot;: &quot;link&quot;,
      &quot;label&quot;: &quot;patient.monitor&quot;,
      &quot;url&quot;: &quot;smartonfhir/smartAppsRedirect.page?app=patient.monitor&quot;,
      &quot;icon&quot;: &quot;icon-hdd&quot;,
      &quot;requiredPrivilege&quot;: &quot;App: smartonfhir.patientMonitorHomepageLink&quot;
    }
  ]
}
</code></pre></div>
<p>keycloak realm configuration<br>
<a href="/user_uploads/10155/UWxXd7HIoZgILAJ0owBU4l9I/realm-export.json">realm-export.json</a></p>



<a name="271821600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OpenMRS%20%2B%20keycloak%20integration/near/271821600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OpenMRS.20.2B.20keycloak.20integration.html#271821600">(Feb 14 2022 at 12:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191580">@Burke Mamlin</span> ?</p>



<a name="271825582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/OpenMRS%20%2B%20keycloak%20integration/near/271825582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Servin Osmanov <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/OpenMRS.20.2B.20keycloak.20integration.html#271825582">(Feb 14 2022 at 13:29)</a>:</h4>
<p>the problem is - getting error 500 on each requests. eg. <br>
GET <a href="http://localhost:8080/openmrs/ws/fhir2/R4/Patient/3ca34181-1834-4ddb-aee8-88e1525e0870">http://localhost:8080/openmrs/ws/fhir2/R4/Patient/3ca34181-1834-4ddb-aee8-88e1525e0870</a></p>
<div class="codehilite" data-code-language="HTML"><pre><span></span><code><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>HTTP Status 500 – Internal Server Error<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">hr</span> <span class="na">class</span><span class="o">=</span><span class="s">"line"</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Type<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span> Exception Report<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Description<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span> The server encountered an unexpected condition that prevented it from fulfilling the request.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Exception<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;</span>java.lang.NullPointerException
<span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Note<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span> The full stack trace of the root cause is available in the server logs.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">hr</span> <span class="na">class</span><span class="o">=</span><span class="s">"line"</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Apache Tomcat/7.0.94<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
