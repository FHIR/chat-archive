---
layout: page
title: "FHIR Chat  · Flag extension · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html">Flag extension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="207816179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/207816179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashwin Djorai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#207816179">(Aug 24 2020 at 08:01)</a>:</h4>
<p>After discussing in the linked <a href="#narrow/stream/179166-implementers/topic/Patient.20Contraindications">topic</a>,  we are mapping our possible patient contraindications to Flag.</p>
<p>We need two extensions for our functional model to map to Flag. one for 'Comment' and one for 'Reason of closure' of the Flag.</p>
<p>Are there more use cases of these kinds of extensions to Flag? If so, perhaps it can be discussed to create core extensions for these functionalities or perhaps to even add them to core.</p>



<a name="207843928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/207843928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashwin Djorai <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#207843928">(Aug 24 2020 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191651">@Rik Smithies</span></p>



<a name="207850674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/207850674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#207850674">(Aug 24 2020 at 14:36)</a>:</h4>
<p>Possible patient contraindications would typically be handled using DetectedIssue.  Flag is more for general warnings about the patient.  E.g. "pregnant", "latex allergy", "Covid positive", "requires easy-open packaging" - the things you need to see/know before you visit/engage with the patient.</p>



<a name="207931579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/207931579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jorn Duwel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#207931579">(Aug 25 2020 at 07:23)</a>:</h4>
<p>The DetectedIssue scope states: "Similarly this resource is not to be used to capture clinical facts that may imply contraindications such as pregnancy, breast feeding, patient preferences, past procedures, etc. These would be represented using Condition, Procedure or other resources."</p>
<p>We are using a ValueSet that includes a wide range of potential contraindications like diabetes, but also pregnancy, the desire to have children, practising top sports, wearing contacts, etc. We would like to capture this wide range in one resource type.</p>
<p>Furthermore, we are under the impression that DetectedIssue would be used from the point that an interaction is detected by decision support - while we are capturing the possible contraindications before that point.</p>



<a name="207944190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/207944190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#207944190">(Aug 25 2020 at 10:13)</a>:</h4>
<p><span class="user-mention" data-user-id="280644">@Jorn Duwel</span>  - we intend to use Flag in exactly the same way</p>



<a name="208722618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208722618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Haskins <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208722618">(Sep 01 2020 at 17:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> - With the line that <span class="user-mention" data-user-id="280644">@Jorn Duwel</span>  quoted from DetectedIssue:</p>
<blockquote>
<p>Similarly this resource is not to be used to capture clinical facts that may imply contraindications such as pregnancy, breast feeding, patient preferences, past procedures, etc. These would be represented using Condition, Procedure or other resources.</p>
</blockquote>
<p>I can see that historically there was a Contraindication resource <a href="https://www.hl7.org/FHIR/2015May/contraindication.html">proposed</a> as part of DSTU2. But when <a href="http://hl7.org/fhir/STU3/detectedissue-definitions.html">STU3 came around</a>, it appears to be merged into DetectedIssue.</p>
<p>Wondering what you would suggest? Would using the method that <span class="user-mention" data-user-id="280644">@Jorn Duwel</span> and <span class="user-mention" data-user-id="191362">@Richard Kavanagh</span> be the best?</p>
<p>Thank you.</p>



<a name="208732498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208732498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208732498">(Sep 01 2020 at 19:02)</a>:</h4>
<p>Contraindications (assertions that an action may be problematic based on some other fact in the record) are captured using DetectedIssue.  (The resource is broader because it can also identify issues with an action by itself independent of any other resource - e.g. dosage issue.)  The individual facts that might result in a contraindication being triggered (age, gender, recent and planned procedures, current conditions, recent lab results, current medications, etc.) are expected to be captured using Observation, MedicationStatement, Patient, Condition and other appropriate resources.  Flag is used to 'highlight' certain aspects of a patient's record (allergies, conditions, behavioral issues, etc.) that providers need to be aware of before engaging with a patient.  The information represented in a Flag is typically <em>also</em> represented as another resource that provides more detail.  The Flag just acts as a highlighted note on the outside of the patient folder to increase the likelihood of clinician awareness.</p>



<a name="208753731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208753731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Haskins <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208753731">(Sep 01 2020 at 21:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Flag.20extension/near/208732498">said</a>:</p>
<blockquote>
<p>Contraindications (assertions that an action may be problematic based on some other fact in the record) are captured using DetectedIssue.  (The resource is broader because it can also identify issues with an action by itself independent of any other resource - e.g. dosage issue.)  The individual facts that might result in a contraindication being triggered (age, gender, recent and planned procedures, current conditions, recent lab results, current medications, etc.) are expected to be captured using Observation, MedicationStatement, Patient, Condition and other appropriate resources.  Flag is used to 'highlight' certain aspects of a patient's record (allergies, conditions, behavioral issues, etc.) that providers need to be aware of before engaging with a patient.  The information represented in a Flag is typically <em>also</em> represented as another resource that provides more detail.  The Flag just acts as a highlighted note on the outside of the patient folder to increase the likelihood of clinician awareness.</p>
</blockquote>
<p>Thank you Llyod for clearing this one up for me.</p>



<a name="208801721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208801721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jorn Duwel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208801721">(Sep 02 2020 at 09:59)</a>:</h4>
<p>Thank you for your summary <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>. <br>
DetectedIssue states:</p>
<blockquote>
<p>This resource only applies to documenting a risk associated with a specific planned or ongoing action, not a general propensity to risk. The latter would be handled using AllergyIntolerance for substance-specific issues or Flag for other types of issues.</p>
</blockquote>
<p>However, our functional model does indeed cover potential contraindications as a general propensity to risk before any medication is actually prescribed (e.g. before a 'specific [...] action'). The clinical fact that is the base of this notion is indeed captured elsewhere and referenced. We are wondering if there is some mismatch between our use of the phrase 'possible contraindication' in English to explain this difference in insight.</p>



<a name="208801830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208801830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jorn Duwel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208801830">(Sep 02 2020 at 10:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191362">@Richard Kavanagh</span> Aside from the interesting discussion on the use of Flag, do you also recognize the need for the extensions mentioned in the original question?</p>



<a name="208820854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208820854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208820854">(Sep 02 2020 at 13:12)</a>:</h4>
<p>The fact a patient is diabetic is a Condition - and could be a Flag.  The fact it's a bad idea to prescribe a particular medication <em>because</em> they're diabetic would be a DetectedIssue.  You'd only get a DetectedIssue if there was some suggestion that the patient might end up starting or was already taking the drug in question.  If you wanted to know that, irrespective of patient or timeframe, that a particular medication (or class of medications) was contraindicated for patients who are diabetic, that would be ClinicalUseIssue.  Does that help?</p>



<a name="208821312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208821312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208821312">(Sep 02 2020 at 13:15)</a>:</h4>
<p>I.e. Simply picking the medication and the patient would be sufficient to spawn a DetectedIssue long before you get to the point of a completed signed prescription.  However, you wouldn't automatically get DetectedIssues for all possible drugs that might ever be prescribed or voluntarily taken regardless of whether the patient was at risk of taking them just because you mark a patient as diabetic.</p>



<a name="208930937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208930937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jorn Duwel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208930937">(Sep 03 2020 at 07:45)</a>:</h4>
<p>Thanks for your insights Lloyd. I think I better understand the use of DetectedIssue (and ClinicalUseIssue for our future R5 needs). Our functional model starts with a situation where no medication has been picked yet. We want to pick a patient and retreive all 'patient states' (conditions, observations, etc) that could potentially interfere with any medication.</p>



<a name="208962754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Flag%20extension/near/208962754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Flag.20extension.html#208962754">(Sep 03 2020 at 13:02)</a>:</h4>
<p>That could be a very long list of information that wouldn't be relevant - especially if you're also identifying what they might interfere with.  If the desire is just to pass all of the potentially relevant information to a decision support system (while avoiding non-relevant information), you could look at a custom operation.  However, the general pattern is for the decision support system to pull the data via query rather than being pushed the information - because the set of potentially relevant factors is likely to continue to grow and evolve and also because once a candidate drug is selected, the decision support system can grab only the records relevant to that particular med.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
