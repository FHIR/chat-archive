---
layout: page
title: "FHIR Chat  · StructureDefn Snapshot - &quot;Liveness&quot; of children from parent · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefn.20Snapshot.20-.20.22Liveness.22.20of.20children.20from.20parent.html">StructureDefn Snapshot - &quot;Liveness&quot; of children from parent</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154011982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefn%20Snapshot%20-%20%22Liveness%22%20of%20children%20from%20parent/near/154011982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Msm123 Msm123 <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefn.20Snapshot.20-.20.22Liveness.22.20of.20children.20from.20parent.html#154011982">(Oct 24 2018 at 20:07)</a>:</h4>
<p>I'm working on some processing the snapshot from a structured definition but have a question about exactly how "removal" works.</p>
<p>Eg I've been given a STU3 based StructureDefinition based upon <a href="http://hl7.org/fhir/StructureDefinition/Bundle" target="_blank" title="http://hl7.org/fhir/StructureDefinition/Bundle">http://hl7.org/fhir/StructureDefinition/Bundle</a> (the profile has been authored with Firely Forge ) </p>
<p>The Bundle.signature has been removed.</p>
<p>The differential of the (xml based) profile file has <br>
  id - Bundle.signature<br>
  path/value - Bundle.signature<br>
  max/value - 0</p>
<p>The snapshot has a max 0 for the id &amp; path for Bundle.signature.</p>
<p>All the "children" still have values to say that they are still in use, eg<br>
<a href="http://Bundle.signature.id" target="_blank" title="http://Bundle.signature.id">Bundle.signature.id</a>  min 0, max 1<br>
  Bundle.signature.extension min 0, max *</p>
<p>My question what is the rule/logic can be applied to determine what children have  also been removed because the parent has been removed.  </p>
<p>In the above case – “Bundle.signature” is 0..0 – so then anything else with <br>
  “id” <br>
or <br>
   “path” (?)</p>
<p>which starts with “Bundle.signature” are no longer live?</p>
<p>What actually determines a parent - or is it just  anything "under" something with  max of 0 has also been removed?</p>
<p>Are  there any complexities with slices which need to be considered?</p>
<p>Thanks</p>



<a name="154012070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefn%20Snapshot%20-%20%22Liveness%22%20of%20children%20from%20parent/near/154012070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefn.20Snapshot.20-.20.22Liveness.22.20of.20children.20from.20parent.html#154012070">(Oct 25 2018 at 03:59)</a>:</h4>
<p>If an ancestor can't appear, then the children can't appear under that ancestor.  There are some places where types can be re-used, so cardinality of child elements might be relevant if the same backbone type gets referenced other places.</p>



<a name="154012335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefn%20Snapshot%20-%20%22Liveness%22%20of%20children%20from%20parent/near/154012335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Msm123 Msm123 <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefn.20Snapshot.20-.20.22Liveness.22.20of.20children.20from.20parent.html#154012335">(Oct 26 2018 at 08:15)</a>:</h4>
<p>I don't think my initial question has that clear. Let me try again.<br>
I've copied/edited a fragment of the profile /StructureDefinition/snapshot/element[85]</p>
<p>&lt;element id="Bundle.signature"&gt;<br>
    &lt;path value="Bundle.signature"/&gt;<br>
    &lt;short value="Digital Signature"/&gt;<br>
    &lt;min value="0"/&gt;<br>
    &lt;max value="0"/&gt;<br>
&lt;/element&gt;<br>
&lt;element id="<a href="http://Bundle.signature.id" target="_blank" title="http://Bundle.signature.id">Bundle.signature.id</a>"&gt;<br>
    &lt;path value="Bundle.signature.id"/&gt;<br>
    &lt;short value="xml:id (or equivalent in JSON)"/&gt;<br>
    &lt;min value="0"/&gt;<br>
    &lt;max value="1"/&gt;<br>
&lt;/element&gt;<br>
&lt;element id="Bundle.signature.extension"&gt;<br>
    &lt;path value="Bundle.signature.extension"/&gt;<br>
    &lt;slicing&gt;<br>
        ..<br>
    &lt;/slicing&gt;  <br>
    &lt;short value="Additional Content defined by implementations"/&gt;<br>
    &lt;min value="0"/&gt;<br>
    &lt;max value="*"/&gt;<br>
&lt;/element&gt;</p>
<p>The 1st element has max of 0 - so its removed and therefore so have all the children.</p>
<p>To identify children, is it a case of :-</p>
<p>(1) Take the "element id" ("Bundle.signature") - and for the other elements, if the id  (string) "starts" with Bundle.signature then they're also "dead".<br>
(2) Take the "path value" and for the other elements, if the path (string) "starts" with Bundle.signature then they're also "dead".<br>
(3) Any other way?</p>
<p>Thanks again</p>



<a name="154012337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/StructureDefn%20Snapshot%20-%20%22Liveness%22%20of%20children%20from%20parent/near/154012337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/StructureDefn.20Snapshot.20-.20.22Liveness.22.20of.20children.20from.20parent.html#154012337">(Oct 26 2018 at 08:55)</a>:</h4>
<p><span class="user-mention" data-user-id="197193">@Msm123 Msm123</span> Please note that you also have to take slicing into account, in order to transform a flattened list of element definitions into a connected tree. Slice names are reflected in element ids, e.g. <code>patient.identifier:ssn</code>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
