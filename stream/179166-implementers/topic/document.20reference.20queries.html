---
layout: page
title: "FHIR Chat  · document reference queries · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html">document reference queries</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153911558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20reference%20queries/near/153911558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html#153911558">(Oct 01 2017 at 15:15)</a>:</h4>
<p>I am trying to store the CCD xml data and the 'Summarization of Episode Note' that is pdf. <br>
Here are my 2 options I believe, which is recommended?<br>
1. Create 1 documentReference and add 2 content elements to it, with 1 having attachment of CCD xml, and the other with the pdf? <br>
2. Create 2 document references, one each for separate documents.</p>
<p>In the 1st case, where do I say, I have an CCD xml notes / pdf note, that can enable me to search for specific document. I looked at DocumentReference.type, DocumentReference.class - but neither has a place holder for CCD XML.</p>
<p>The other question is, should I store the data of the attachment as DocumentReference.content.attachment.data or DocumentReference.content.attachment.data as url to a binary resource?</p>



<a name="153911559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20reference%20queries/near/153911559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html#153911559">(Oct 01 2017 at 15:36)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194167">@Santosh Jami</span> . This is a common situation. The answer is #2. What you need to recognizes is that the two DocumenReference will be related using the relatesTo. I would recommend the DocumentReference that holds the XML will have a relatesTo.code of transforms, with the relatesTo.target of the other DocumentReference that holds the PDF.</p>



<a name="153911560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20reference%20queries/near/153911560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html#153911560">(Oct 01 2017 at 15:38)</a>:</h4>
<p>The other question on format is handled by the content.format element. Take a look at the given vocabulary, where you will find CCD. The difference between XML and PDF is handled by the attachment.contentType</p>



<a name="153911561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20reference%20queries/near/153911561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html#153911561">(Oct 01 2017 at 15:39)</a>:</h4>
<p>Finally, I would recommend you save these as Binary, not as attachment.data. The reason is that a Binary is retrievable in native form. Thus, although when you Create the Binary you must encode; when every one else reads it, they can pull it in the XML or PDF non encoded form.</p>



<a name="153911562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20reference%20queries/near/153911562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html#153911562">(Oct 01 2017 at 15:40)</a>:</h4>
<p>For more on the multiple-formats -- <a href="https://healthcaresecprivacy.blogspot.com/2017/03/multiple-formats-of-same-document.html" target="_blank" title="https://healthcaresecprivacy.blogspot.com/2017/03/multiple-formats-of-same-document.html">https://healthcaresecprivacy.blogspot.com/2017/03/multiple-formats-of-same-document.html</a></p>



<a name="153911563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20reference%20queries/near/153911563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html#153911563">(Oct 01 2017 at 15:41)</a>:</h4>
<p>For more detail on use of DocumentReference see a Profile of DocumentReference that covers the use-case you have expressed -- IHE-MHD profile -- <a href="https://healthcaresecprivacy.blogspot.com/2015/03/what-is-mhd-beyond-xds-on-fhir.html" target="_blank" title="https://healthcaresecprivacy.blogspot.com/2015/03/what-is-mhd-beyond-xds-on-fhir.html">https://healthcaresecprivacy.blogspot.com/2015/03/what-is-mhd-beyond-xds-on-fhir.html</a></p>



<a name="153911587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20reference%20queries/near/153911587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html#153911587">(Oct 02 2017 at 03:52)</a>:</h4>
<p>Thanks a lot <span class="user-mention" data-user-id="191404">@John Moehrke</span>  for your insightful answers and helpful links related to my use case. Yeah - I went with #2. <br>
If I need to record any information related to the patient encounter (provider notes, system generated notifications) - I will be continuously editing and updating this item as the new data comes, this is all human readable text - all this needs to go into document reference resource, or any other resource is the recommended way?</p>



<a name="153911658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/document%20reference%20queries/near/153911658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/document.20reference.20queries.html#153911658">(Oct 02 2017 at 12:49)</a>:</h4>
<p>I would guess that any 'relevant' change to the encounter would also result in new CDA/PDF documents being created... right? Thus this would also be new DocumentReference resources, with a relaesTo.code of replaces; and the old would then have their .status updated. This may sound like alot of changes, but it is reality. Keeping the old data around is important for medical records keeping and integrity.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
