---
layout: page
title: "FHIR Chat  · Json Validation · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html">Json Validation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153957542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/153957542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Lo <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#153957542">(May 10 2018 at 13:26)</a>:</h4>
<p>Are there any sites or tools you all use to validate your Json</p>



<a name="153958122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/153958122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#153958122">(May 11 2018 at 19:05)</a>:</h4>
<p>there's json schema, and then you can use any of the validating servers</p>



<a name="153958123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/153958123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#153958123">(May 11 2018 at 19:05)</a>:</h4>
<p>or the FHIR validator</p>



<a name="153958124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/153958124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#153958124">(May 11 2018 at 19:05)</a>:</h4>
<p>see <a href="http://hl7.org/fhir/validation.html" target="_blank" title="http://hl7.org/fhir/validation.html">http://hl7.org/fhir/validation.html</a></p>



<a name="258172056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/258172056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sayan samanta <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#258172056">(Oct 19 2021 at 10:28)</a>:</h4>
<p>Hi,</p>
<p>I am getting error while implementing some profile to Azure FHIR Server. It is showing JSON div error.</p>
<p>Please help me to resolve the issue.<br>
Below are the list of profile I am getting issue in JSON.<br>
PDEX-Clinical:<br>
Coverage<br>
Device<br>
MedicationDispense</p>
<p>PDEX- Plannet-Provider:<br>
PlannetLocation<br>
PlannetNetwork</p>
<p>I would be helpful if you provide us updated json for this profiles.</p>



<a name="258193642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/258193642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#258193642">(Oct 19 2021 at 13:25)</a>:</h4>
<p>Can you provide examples of your instances and the specific errors you're seeing?</p>



<a name="259260005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259260005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vanya Yaneva-Cormack <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259260005">(Oct 27 2021 at 15:45)</a>:</h4>
<p>Hi,</p>
<p>I am getting the following error when validating ServiceRequest resources using the FHIR validator (<a href="http://hl7.org/fhir/validation.html#jar">http://hl7.org/fhir/validation.html#jar</a>): "Unrecognised property '@locationReference'"</p>
<p>However, locationReference is a valid field according to the specification (<a href="https://www.hl7.org/fhir/servicerequest-definitions.html#ServiceRequest.locationReference">https://www.hl7.org/fhir/servicerequest-definitions.html#ServiceRequest.locationReference</a>). </p>
<p>Could the FHIR Validator be wrong? </p>
<p>The JSON looks like this:</p>
<div class="codehilite"><pre><span></span><code>  &quot;resource&quot;: {
    &quot;resourceType&quot;: &quot;ServiceRequest&quot;,
    ...
    &quot;locationReference&quot;: [
      {
        &quot;reference&quot;: &quot;Location/{id}&quot;
      }
    ],
    ...
  }
</code></pre></div>

<p>Thank you.</p>



<a name="259260779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259260779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259260779">(Oct 27 2021 at 15:51)</a>:</h4>
<p>If this is the literal JSON, the line  <code>"reference": "Location/{id}"</code> should contain the actual location id (e.g. <code>"reference": "Location/33245"</code>)</p>
<p>I am not sure if that is the cause of the error, though.</p>



<a name="259261152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259261152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vanya Yaneva-Cormack <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259261152">(Oct 27 2021 at 15:54)</a>:</h4>
<p>Thank you for the reply. Yes, the actual json has the correct Location id - I simply redacted it before posting.</p>



<a name="259267667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259267667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259267667">(Oct 27 2021 at 16:37)</a>:</h4>
<p>In ServiceRequest, 'location' is not a polymorphic type.  I.e. its name is not "location[x]" in the spec.  That means that the proper element name is just "location" not "locationReference".  We only append the type name to an element name when we're replacing a "[x]".</p>



<a name="259272413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259272413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vanya Yaneva-Cormack <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259272413">(Oct 27 2021 at 17:07)</a>:</h4>
<p>Thank you for the reply Lloyd.</p>
<p>I tried changing to:</p>
<div class="codehilite"><pre><span></span><code>    &quot;location&quot;: [
      {
        &quot;reference&quot;: &quot;Location/{id}&quot;
      }
    ]
</code></pre></div>
<p>but I am getting a new error: <code>The property reference must be an Object, not a primitive property (at Bundle.entry[0].resource.location[0].reference)</code>. Here <code>Bundle.entry[0].resource</code> points to the ServiceRequest.</p>
<p>Could you help me make sense of it?</p>



<a name="259279372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259279372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259279372">(Oct 27 2021 at 17:54)</a>:</h4>
<p>If you're using R5, then "location" is a CodeableReference, which means you need location.reference.reference before you specify "Location/{id}".  If you're trying to do something with R4, make sure you assert the version when you invoke the validator</p>



<a name="259375631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259375631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Pinder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259375631">(Oct 28 2021 at 11:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179166-implementers/topic/Json.20Validation/near/259267667">said</a>:</p>
<blockquote>
<p>In ServiceRequest, 'location' is not a polymorphic type.  I.e. its name is not "location[x]" in the spec.  That means that the proper element name is just "location" not "locationReference".  We only append the type name to an element name when we're replacing a "[x]".</p>
</blockquote>
<p>Hi Lloyd, thanks for this answer.  I don't think I understood this about the FHIR spec before, and I'm not clear exactly where it does and doesn't apply, apart from polymorphic types.  </p>
<p>It doesn't seem intuitive to me, eg in the PatientResource we see nodes like managingOrganization which can only ever be an Organization, but I expected my Patient resource to carry the node managingOrganization.  Ditto for generalPractitioner - it's not an [x] although it supports multiple different resources to represent it.  </p>
<p>Could you clarify further?  The system that is sending us the node 'locationReference' will need this to be clearly understood, I think. before they change their code.</p>



<a name="259402055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259402055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259402055">(Oct 28 2021 at 15:01)</a>:</h4>
<p>Essentially, the name that you see in the specification is the name that must appear in the instance <em>except</em> when the name ends with <code>[x]</code>.  In those cases, you replace the <code>[x]</code> with the name of the type you're instantiating.  It's certainly possible that some names will end in the name of a resource - e.g. generalPractitioner.  However, there's no guarantee that the type name corresponds to what the element points to or contains.  For example, generalPractitioner might be a reference to an Organization.</p>
<p>The issue with your instance was that the ServiceRequest resource defines an element called <code>location</code>.  It does <em>not</em> define an element called <code>locationReference</code>.  So if you use the latter, it's not going to validate.</p>



<a name="259403267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259403267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259403267">(Oct 28 2021 at 15:09)</a>:</h4>
<p>In R4, there are two elements in the ServiceRequest resource, locationCode and locationReference. In R5, they have been conflated into location as a CodeableReference.</p>



<a name="259406369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259406369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259406369">(Oct 28 2021 at 15:31)</a>:</h4>
<p>Ah, sorry.  I didn't look at R4.</p>



<a name="259425081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259425081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259425081">(Oct 28 2021 at 17:37)</a>:</h4>
<p>So if the resource being validated is from R4, the element name should be <code>locationReference</code> and the validator should be told that the resource contents are following the R4 requirements.</p>



<a name="259461464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259461464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Pinder <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259461464">(Oct 28 2021 at 22:40)</a>:</h4>
<p>Thanks all for these clarifications, got it now and thanks for the advice about asserting the version for the validator!</p>



<a name="259960457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259960457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sayan samanta <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259960457">(Nov 02 2021 at 07:21)</a>:</h4>
<p><a href="/user_uploads/10155/3RGaDahm8YH_qQksGAfOqlMR/Profile_error.png">Profile_error.png</a>  I am getting this issue.</p>
<div class="message_inline_image"><a href="/user_uploads/10155/3RGaDahm8YH_qQksGAfOqlMR/Profile_error.png" title="Profile_error.png"><img src="/user_uploads/10155/3RGaDahm8YH_qQksGAfOqlMR/Profile_error.png"></a></div>



<a name="259960740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259960740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sayan samanta <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259960740">(Nov 02 2021 at 07:25)</a>:</h4>
<p>Can anybody please provide me the updated JSON for PDEX MedicationDispense and ValueSet to apply in FHIR server.</p>



<a name="259992586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Json%20Validation/near/259992586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Json.20Validation.html#259992586">(Nov 02 2021 at 13:09)</a>:</h4>
<p>you can get them here: <a href="http://hl7.org/fhir/us/davinci-pdex/">http://hl7.org/fhir/us/davinci-pdex/</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
