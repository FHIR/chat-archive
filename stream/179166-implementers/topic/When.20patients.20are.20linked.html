---
layout: page
title: "FHIR Chat  · When patients are linked · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html">When patients are linked</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154018615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018615">(Nov 14 2018 at 21:47)</a>:</h4>
<p>What is the expectation upon a query results (e.g. query on Observations) when the query includes a Patient resource, when that Patient is linked to another Patient resource (previously duplicate Patient resources)? There is mention in the compartment definition for Patient, that indicates that a Compartment on Patient that is linked results in the combination of both. <a href="http://build.fhir.org/compartmentdefinition-patient.html" target="_blank" title="http://build.fhir.org/compartmentdefinition-patient.html">http://build.fhir.org/compartmentdefinition-patient.html</a><br>
Is this same (same as compartment) expected of more normal query parameter 'patient' or 'subject'? Where is this clarified?</p>



<a name="154018659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018659">(Nov 15 2018 at 02:20)</a>:</h4>
<p>it's not clarified, and would be a good connectathon subject for the patient stream , I think.</p>



<a name="154018887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018887">(Nov 15 2018 at 16:52)</a>:</h4>
<p>seems like the FHIR federation is a peek at this.</p>



<a name="154018892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018892">(Nov 15 2018 at 17:12)</a>:</h4>
<p>The way I read the specs is that a Patient Compartment does _not_ combine Patient that are linked :</p>



<a name="154018894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018894">(Nov 15 2018 at 17:13)</a>:</h4>
<p>' all the records associated with the linked patient are in the compartment associated with the target of the link' - i.e. the records associated with the linked patient are in a _different_ compartment</p>



<a name="154018899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018899">(Nov 15 2018 at 17:14)</a>:</h4>
<p>I vaguely remember asking this same question a long time ago (I think as a comment to the spec page), and that the answer was that Compartment is like a normal search: does not combine related Patients</p>



<a name="154018909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018909">(Nov 15 2018 at 17:41)</a>:</h4>
<p>I read the text on the compartment for Patient to express that I get the combined results of all linked Patients. Thus one compartment is equivalent to another when the two are linked. So this text must be a confusing text:   " When a patient is linked to another patient, all the records associated with the linked patient are in the compartment associated with the target of the link."</p>



<a name="154018910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018910">(Nov 15 2018 at 17:43)</a>:</h4>
<p>which I figured was unreasonable magic... but I am happy if this is the understanding of the results a search on a Patient identity that has links to other Patient identity.</p>



<a name="154018911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154018911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154018911">(Nov 15 2018 at 17:44)</a>:</h4>
<p>The alternative, which I figured is more possible, is that EVERYONE doing a query of a Patient, must do equivilant queries on ALL of the links to that Patient in order to get the whole patient record.</p>



<a name="154019043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154019043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154019043">(Nov 16 2018 at 06:57)</a>:</h4>
<p>I think that text needs some work - linked how?</p>



<a name="154019232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154019232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154019232">(Nov 16 2018 at 18:49)</a>:</h4>
<p>clearly... magic...  Yes, if the text is not intended to imply magic, then it should not be said. Yet, the linked Patient data problem needs signficant work. That is the problem of what happens to the data when there are data recorded against two different Patient resources, after those two Patient resources are found to be the same patient and thus linked...  It would be nice to move the work to the server, and not expect every application to recognize a Patient has been linked (as in link/unlink/merge).</p>



<a name="154020278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154020278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154020278">(Nov 21 2018 at 18:19)</a>:</h4>
<p>I have created <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19687" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19687">GF#19687</a> so that this can be a discussion for R5</p>



<a name="154021052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154021052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Veliyan Georgiev <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154021052">(Nov 27 2018 at 13:10)</a>:</h4>
<p>Here is my observation: We have Cerner and Epic and an MPI on top of it. I tried few queries in the EMRs with different MRNs for the same patient and I got the same record. From what I can see - both Epic and Cerner listen and handle merges pretty well so in essence they handle the cross linking logic themselves without the client knowing. Now, having said that - I believe in FHIR this would equal to all patient instances having all identifiers in them but it is clear that the expectation is that it “just works” from what I can see.</p>



<a name="154021118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154021118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154021118">(Nov 27 2018 at 17:57)</a>:</h4>
<p>I suspect there will be different behavior when the backend is a FHIR Server vs when the backend is a non-FHIR EHR. In an EHR it is common for linking to be recognized as logically the same thing. There is no problem with 'fixing up' old .patient or .subject elements. However in a FHIR Server this may not be true or possible.</p>



<a name="154021152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154021152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154021152">(Nov 27 2018 at 20:49)</a>:</h4>
<p>Yes, in the back the servers may be rewiring the subject patient properties. Also what would be expected where the link reference is external to another or old system?<br>
With the strength of audit/provenance could unlink easier than before.</p>



<a name="154021153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154021153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154021153">(Nov 27 2018 at 20:53)</a>:</h4>
<p>yes it is possible to do the fixup in a revision, mark that revision with Provenance as to why, and sign the Provenance proof of before and after to show integrity. complex, but possible.</p>



<a name="154022443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154022443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154022443">(Dec 03 2018 at 09:55)</a>:</h4>
<p>I thought a single merge audit that version referenced all the stuff that was merged in a single record, that could the do a roll back of all those...</p>



<a name="154022444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154022444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154022444">(Dec 03 2018 at 09:55)</a>:</h4>
<p>But yes, still not simple.</p>



<a name="154022506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154022506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154022506">(Dec 03 2018 at 14:49)</a>:</h4>
<p>How to indicate a link is less confusing then how a client app needs to behave (actions and expectations) when the patient has links... I suspect reality is that client apps must be very aware of patient links. I am not sure that server side fixup of .patient/subject is sufficient given the proliferation of records with old patient id; especially in a distributed network.</p>



<a name="154022610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154022610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154022610">(Dec 03 2018 at 21:49)</a>:</h4>
<p>Yes, especially in a distributed network.</p>



<a name="154022630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/When%20patients%20are%20linked/near/154022630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/When.20patients.20are.20linked.html#154022630">(Dec 03 2018 at 22:46)</a>:</h4>
<p>distributed ledger technology...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
