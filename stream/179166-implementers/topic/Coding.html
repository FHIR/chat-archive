---
layout: page
title: "FHIR Chat  · Coding · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html">Coding</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204910496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204910496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204910496">(Jul 24 2020 at 12:46)</a>:</h4>
<p>Hi All, Just a quick query for coding datatype.. in case code/system has no value or inappropriate value from the data source because of any reason, then how should we store the corresponding value in our system. I know in case of CodeableConcept, I can use text field but not sure in case of coding. Please suggest. Thank you</p>



<a name="204910714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204910714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204910714">(Jul 24 2020 at 12:49)</a>:</h4>
<p>For a Coding, there's no way to store free text without using an extension.  Coding is generally used as a data type where free text would never be relevant/appropriate.</p>



<a name="204910747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204910747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204910747">(Jul 24 2020 at 12:49)</a>:</h4>
<p>(If you find a place where that's not true, please submit a change request.)</p>



<a name="204911082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204911082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204911082">(Jul 24 2020 at 12:52)</a>:</h4>
<p>I agree with you.. that is where my confusion is.. if from the data source, i didn't get proper value for system/code then how should I identify the value in my valueset.</p>



<a name="204912188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204912188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204912188">(Jul 24 2020 at 13:04)</a>:</h4>
<p>If you have a value set, you have to have a code + system...</p>



<a name="204912464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204912464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204912464">(Jul 24 2020 at 13:06)</a>:</h4>
<p>I have valueset (code+system) defined at my end. But when I receive the data from other system which has not properly sent the code/system values then... do I directly look into my valueset for the proper value or just ignore the value.</p>



<a name="204912584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204912584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204912584">(Jul 24 2020 at 13:07)</a>:</h4>
<p>should I search in my own valueset based on the display value received ignoring the code/system value issue</p>



<a name="204915281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204915281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204915281">(Jul 24 2020 at 13:32)</a>:</h4>
<p>Other case - if i receive only value.. and system/code is empty from the data source.. do i need to check my valueset defined for that field based on display value received?</p>



<a name="204923422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204923422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204923422">(Jul 24 2020 at 14:38)</a>:</h4>
<p>If you are receiving codes that don't fall in the value set, you'd need to translate the codes.  If you can't find translations and the binding is 'required', you can't send the element, though you might be able to send the data as an extension.</p>



<a name="204927073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204927073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204927073">(Jul 24 2020 at 15:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> By "translate code" do you mean I need to do the translation based on the display value only, if system/code element is empty. I am referring to this scenario while receiving the data from some other system (not while sending it). Here, I am just curious to find the way to store the value in my system.</p>



<a name="204929149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204929149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204929149">(Jul 24 2020 at 15:20)</a>:</h4>
<p>Can you give a concrete example?  What Coding element are you considering and what sort of data are you receiving?</p>



<a name="204931594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204931594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204931594">(Jul 24 2020 at 15:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I am sorry ... I guess I am unable to explain my query properly.. might be I am misunderstanding something here. So without confusing you.. my simple query is - if I receive system, display value (of coding element) and code is missing then in that case do I need to look into valueset (referred by my system) based on the received display so as to identify the corresponding code.</p>



<a name="204932874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204932874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204932874">(Jul 24 2020 at 15:53)</a>:</h4>
<p>For E.g. I have received the encounter.reasoncode.display as Viral sinusitis (disorder) without any system/code defined. What should be my approach to store such type of value in coding/codeableconcept element.</p>



<a name="204935957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204935957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204935957">(Jul 24 2020 at 16:21)</a>:</h4>
<p>In general, it's bad practice to send system and display but not code - so the first thing you should do is phone up the sender and yell at them.  :)   (What they should do is send the text in CodeableConcept.text.)<br>
 However, if the specification doesn't mandate that specific codes must be present, you can relay the data as you received it.  If the specification <em>does</em> mandate that the element is restricted to specific codes, then the instance you've received is non-conformant.  You can still choose to receive it, but you can't send the data "as is" yourself without being non-conformant.  In the case of Encounter.reasonCode, you're free to send the data as received because there's no constraint on what codes must be present.</p>



<a name="204936550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204936550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204936550">(Jul 24 2020 at 16:26)</a>:</h4>
<p>In case of encounter.reasoncode, it was feasible to store the value as a text. What if samething happens with encounter.class(coding).. how should I store the data in that case. Apologies for asking so many queries.</p>



<a name="204936745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204936745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204936745">(Jul 24 2020 at 16:27)</a>:</h4>
<p>Basically, I am struggling with value storing at my end in case sender is sending data in free text form as we are receiving data from systems which are non compliant to FHIR (sending data in flatfile).. and this is the most likely case with them.. and we need to convert the same in FHIR.</p>



<a name="204943000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204943000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204943000">(Jul 24 2020 at 17:24)</a>:</h4>
<p>I would submit a change request.  Encounter.class shouldn't be Coding.  There are situations where translations would be relevant.</p>



<a name="204943093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204943093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204943093">(Jul 24 2020 at 17:24)</a>:</h4>
<p>Coding is only appropriate in places like Questionnaire.item.code, where it's saying 'this is a code that goes with this question' and the notion of 'text' would make no sense.</p>



<a name="204944775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204944775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204944775">(Jul 24 2020 at 17:37)</a>:</h4>
<p>Ok.. but what should be my approach in current scenario (with coding) in place.. and it’s not only about encounter.class.. there are other elements as well with coding.. so if we have data in free text then how to make it compliant.</p>



<a name="204945574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204945574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204945574">(Jul 24 2020 at 17:43)</a>:</h4>
<p>Well, that's an extensible binding - so <em>if</em> the data from the original source is compliant, you're free to pass it along as-is.  If not, you'd have to shove that data into an extension and omit class.</p>



<a name="204946505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204946505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204946505">(Jul 24 2020 at 17:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Thank you very much for all the suggestions.. now atleast I have clarity to progress in this situation.. just wanted to check if I can do lookup in valueset based on the display received and then identify code against it.. will that make sense.</p>



<a name="204949396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204949396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204949396">(Jul 24 2020 at 18:17)</a>:</h4>
<p>You can't reliably look up a code based on a display.  First, there's no guarantee that displays are unique.  Second, systems are allowed to override displays within their internal value set definitions, so the display isn't guaranteed to be one of the official ones from the code system.</p>



<a name="204949478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204949478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204949478">(Jul 24 2020 at 18:18)</a>:</h4>
<p>If it <em>were</em> possible to look up the code from the display, that step really ought to have been done by the sender...</p>



<a name="204975832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204975832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204975832">(Jul 24 2020 at 23:17)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  for the detailed clarification.. it is really helpful.</p>



<a name="204977835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204977835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204977835">(Jul 24 2020 at 23:58)</a>:</h4>
<p>I was going through the options in case of improper values received from flatfile, and got a concept of Null Flavor. So, can I use this approach that if I don’t receive proper values then my system should refer to null flavor valueset and store the value accordingly instead of making any assumptions.</p>



<a name="204981205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204981205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204981205">(Jul 25 2020 at 01:14)</a>:</h4>
<p>There's no reason to fill in a dataAbsentReason (null flavor is a CDA concept, not a FHIR one) unless the recipient would have a use for the value.  And specifying a dataAbsentReason extension doesn't let you get away from the binding rules.  In the Encounter example, it has an extensible binding - that means that if your concept is equivalent to or a specialization of one of the required codes, you <em>must</em> send that code in the instance.  So if you're getting a data flat file, you'd have to figure out what the corresponding concepts were for whatever display names you've got and figure out which ones would map to one of the approved concepts.</p>



<a name="204981355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204981355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204981355">(Jul 25 2020 at 01:19)</a>:</h4>
<p>Sorry.. are you referring to DataAbsenceReason element which is present in Observation.. If so, I didn't mean that.</p>



<a name="204981418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204981418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204981418">(Jul 25 2020 at 01:20)</a>:</h4>
<p>I understood your point.. Thanks for the clarification. :)</p>



<a name="204981916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204981916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204981916">(Jul 25 2020 at 01:34)</a>:</h4>
<p>Based on our discussion, I will create a workflow for this situation and will share with you for review.. so that in future, others can also refer to that in similar situations. Thanks a lot <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> for resolving my queries.</p>



<a name="204983540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204983540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204983540">(Jul 25 2020 at 02:20)</a>:</h4>
<p>Actually I'm referring to the dataAbsentReason extension - which can appear anywhere.</p>



<a name="204983548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Coding/near/204983548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ankita Srivastava <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Coding.html#204983548">(Jul 25 2020 at 02:21)</a>:</h4>
<p>I got it and completely agree with you.. Thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
