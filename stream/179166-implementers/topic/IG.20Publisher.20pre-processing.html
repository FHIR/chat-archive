---
layout: page
title: "FHIR Chat  · IG Publisher pre-processing · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html">IG Publisher pre-processing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153900608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900608">(Aug 07 2017 at 02:56)</a>:</h4>
<p>I have 2 questions regarding pre-processing in the IG Publisher:</p>
<ul>
<li>If one has access to Saxon, is there anyway to swap out the Apache-derived (I presume) XSL engine with Saxon so that one could use XSL 2.0?</li>
<li>If I use pre-processing to create UML SVG, can I use the name format that the publisher uses, i.e. <code>[type]-[id]-uml.xhtml</code>, or will these get wiped out by the IG Publisher and so I should some other file name construct?</li>
</ul>



<a name="153900610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900610">(Aug 07 2017 at 03:01)</a>:</h4>
<p>first: we hate saxon because of it's weird deployment issues</p>



<a name="153900611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900611">(Aug 07 2017 at 03:02)</a>:</h4>
<p>that's not a no, but I'm just not interested in supporting saxon for the IG publisher unless someone funds it</p>



<a name="153900612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900612">(Aug 07 2017 at 03:02)</a>:</h4>
<p>I don't know about the names</p>



<a name="153900613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900613">(Aug 07 2017 at 03:02)</a>:</h4>
<p>you'd have to try</p>



<a name="153900614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900614">(Aug 07 2017 at 03:12)</a>:</h4>
<p>Thanks.</p>



<a name="153900615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900615">(Aug 07 2017 at 03:12)</a>:</h4>
<p>One more thing: what's the actual input to the pre-process XSL?</p>



<a name="153900616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900616">(Aug 07 2017 at 03:45)</a>:</h4>
<p>you'll have to askLloyd</p>



<a name="153900617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900617">(Aug 07 2017 at 03:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  - question for you</p>



<a name="153900619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900619">(Aug 07 2017 at 04:31)</a>:</h4>
<p>The input is the XHTML page files.  You can use the transform to assign section headings and the like.  I'll send you the one I use.</p>



<a name="153900627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900627">(Aug 07 2017 at 07:02)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> . :simple_smile:<br>
Should I expect to have seen something in my e-mail inbox?</p>



<a name="153900628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900628">(Aug 07 2017 at 07:23)</a>:</h4>
<p>I assume that input means you don't have direct access to the actual StructureDefinition XML.</p>



<a name="153900769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153900769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153900769">(Aug 07 2017 at 20:56)</a>:</h4>
<p>You should - if you didn't, then I must have the wrong one.  Can you PM me the correct one?</p>



<a name="153904420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904420">(Sep 05 2017 at 06:40)</a>:</h4>
<p>Okay, so I _finally_ got around to trying some stuff out here, but I'm confused about a few things.  In particular, right now, what do you put in the JSON control file for pre-processing?  I put the name of my XSL file in the <code>pre-process.transform</code>, but then it complained about not having a value for <code>pre-process.folder</code>.  Is this folder the output directory or the input directory?  I assume it's the former, so if I want just a trivial, pass-through result, should I set the value to "output" or perhaps "pages"?  </p>
<p>Also, I noticed I got an error in the <code>net.sf.saxon</code> namespace when I used "temp" as the value for <code>pre-process.folder</code>.  Does this mean that Saxon is available?  Or is it ancient Saxon (v6.5.5) and so XSLT2 is still not an option?</p>



<a name="153904455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904455">(Sep 05 2017 at 13:49)</a>:</h4>
<p>pre-process.folder is the folder to grab from.  pre-process.relativePath is the folder to put the output in (relative to 'temp').  To the best of my knowledge, we can't use XSLT2.  Grahame was pretty firm :)</p>



<a name="153904546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904546">(Sep 06 2017 at 03:03)</a>:</h4>
<p>Thanks.  So what folder should I be grabbing from? <code>temp</code>?</p>



<a name="153904586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904586">(Sep 06 2017 at 05:00)</a>:</h4>
<p>Whatever folder contains the files you want to pre-process</p>



<a name="153904614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904614">(Sep 06 2017 at 08:08)</a>:</h4>
<p>How do I find which files are where?  <br>
(The ones I'm looking for are the StructureDefinition HTML files which seem to be in <code>temp</code>, and the profile/extension lists, which I would have thought would be in <code>temp/_includes</code> but I can't find and which I expect will be difficult to pre-process anyway because they're not well-formed.)</p>



<a name="153904615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904615">(Sep 06 2017 at 08:11)</a>:</h4>
<p>the files in temp don't exist when pre-processing happens - that's why it's called 'pre-processing'</p>



<a name="153904628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904628">(Sep 06 2017 at 13:16)</a>:</h4>
<p>Pre-processing lets you take source and do something with it before it's used as source for the publication process.  For example, I use pre-process to assign section numbers to my pages and mini table-of-contents for the page.</p>



<a name="153904629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904629">(Sep 06 2017 at 13:17)</a>:</h4>
<p>The publisher then uses the transformed files as source for my pages.</p>



<a name="153904771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904771">(Sep 07 2017 at 06:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> When you say "source", what exactly do you mean?  Is it your own content?  If so, what's the point; can't you just include the section numbers in the source at creation?  If not, then where is it coming from.  I looked at your XSL and I can see what it's doing, but if the HTML source is not the generated content from the IG Publisher, what is it?<br>
BTW, I had thought  the "pre" in "pre-processing" meant before Jekyll, not before content creation.</p>



<a name="153904773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904773">(Sep 07 2017 at 06:40)</a>:</h4>
<p>So here's my problem: I want to add some Bootstrap classes to some of the HTML content generated by the IG Publisher, but before it's assembled by Jekyll.  Can I use pre-processing to do this, or do I have to write my own post-processor.  (I really hope not, because post-processing would amount to screen scraping, and that's <em>really nasty</em>!)</p>



<a name="153904788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904788">(Sep 07 2017 at 13:13)</a>:</h4>
<p>I could include the section numbers in the source at creation, but it's a huge pain and chances of getting them right is slim.  Having it done automatically is much easier.  The transform step doesn't touch the generated HTML - I have no need to do that.  It's to pre-process the various ad-hoc descriptive pages and supporting content.  There's presently no way to change the HTML fragments produced by the IG-publisher except by editing the IG-publisher's java code.  You can certainly submit a change request asking for what you'd like.  If it would have general utility, we'd probably make the change.  Or if we could make a transparent change that would allow you to use CSS to drive the desired behavior, that could work too.</p>



<a name="153904858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904858">(Sep 07 2017 at 18:24)</a>:</h4>
<p>There is a resource variable index for each structuredefinition which is shown <a href="http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-basic.html" target="_blank" title="http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-basic.html">here</a>  which you can use in the templates to creates section numbers.</p>



<a name="153904911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen Royce <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904911">(Sep 08 2017 at 00:33)</a>:</h4>
<p>Blast! <br>
But maybe there's a silver lining: does this mean that I can use pre-processing on the items in the <code>resources</code> directory to do things like create my own UML SVG fragments?</p>



<a name="153904923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153904923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153904923">(Sep 08 2017 at 03:01)</a>:</h4>
<p>yes that you can do</p>



<a name="153905812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153905812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Parijat Kar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153905812">(Sep 10 2017 at 16:37)</a>:</h4>
<p>How to use HAPI FHIR APIs: <a href="http://hapifhir.io/doc_rest_client.html" target="_blank" title="http://hapifhir.io/doc_rest_client.html">http://hapifhir.io/doc_rest_client.html</a></p>



<a name="153905813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/IG%20Publisher%20pre-processing/near/153905813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Parijat Kar <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/IG.20Publisher.20pre-processing.html#153905813">(Sep 10 2017 at 16:38)</a>:</h4>
<p>Server used: <a href="http://fhirtest.uhn.ca/baseDstu3" target="_blank" title="http://fhirtest.uhn.ca/baseDstu3">http://fhirtest.uhn.ca/baseDstu3</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
