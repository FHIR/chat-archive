---
layout: page
title: "FHIR Chat  · Response on _include when reference has an extension · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Response.20on.20_include.20when.20reference.20has.20an.20extension.html">Response on _include when reference has an extension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160777711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Response%20on%20_include%20when%20reference%20has%20an%20extension/near/160777711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Response.20on.20_include.20when.20reference.20has.20an.20extension.html#160777711">(Mar 14 2019 at 13:07)</a>:</h4>
<p>We are working with STU3, which misses the PractitionerRole extension at quite some places. For example at Patient.generalPractitioner. In our use case, we really want to know the speciality of the Practitioner and to which Organization it belongs. We do this with an extension on the reference datatype.  In a Patient instance, it looks like this:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;generalPractitioner&quot;</span><span class="err">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueReference&quot;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="nt">&quot;reference&quot;</span><span class="p">:</span> <span class="s2">&quot;PractitionerRole/example-ID&quot;</span><span class="p">,</span>
                                    <span class="nt">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;Role Vaste Huisarts&quot;</span>
                                <span class="p">}</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                        <span class="nt">&quot;reference&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:4080/Practitioner/example-ID&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;Vaste Huisarts&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
</pre></div>


<p>Now the main question: in our use case, we want to retrieve the Patient resource including the generalPractitioner references. So our GET URL search is:  </p>
<div class="codehilite"><pre><span></span>GET [base]/Patient?_include=Patient:general-practitioner
</pre></div>


<p>Ideally, we would like servers to include the reference in the extension as well. Should this be normal behaviour?</p>



<a name="160781953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Response%20on%20_include%20when%20reference%20has%20an%20extension/near/160781953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Response.20on.20_include.20when.20reference.20has.20an.20extension.html#160781953">(Mar 14 2019 at 13:56)</a>:</h4>
<p>No, only the practitioner is included. The way to include the practitioner role would be to have a custom search parameter - eg 'general-practitioner-role' corresponding to the extension, and then use it for the the include</p>



<a name="160782287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Response%20on%20_include%20when%20reference%20has%20an%20extension/near/160782287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Response.20on.20_include.20when.20reference.20has.20an.20extension.html#160782287">(Mar 14 2019 at 13:59)</a>:</h4>
<p>Don't think so - server can't generally know what an extension means, but even if it did: we'd need a FHIRPath like syntax (?) for the _include to enable such behavior. We need predictable behavior, so extending the meaning of an _include or a query parameter in such a fashion seems very tricky to me. As such i agree with <span class="user-mention" data-user-id="191912">@Michele Mottini</span></p>



<a name="160859849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Response%20on%20_include%20when%20reference%20has%20an%20extension/near/160859849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Response.20on.20_include.20when.20reference.20has.20an.20extension.html#160859849">(Mar 15 2019 at 09:43)</a>:</h4>
<p>Thnx for the input! Agree that this shouldn't be normal behaviour. But now we have a bit more confirmation.</p>



<a name="162426090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Response%20on%20_include%20when%20reference%20has%20an%20extension/near/162426090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Response.20on.20_include.20when.20reference.20has.20an.20extension.html#162426090">(Apr 03 2019 at 12:55)</a>:</h4>
<p>you would also need a custom search parameter for that, and also _include that search parameter - as _include works on search parameters, not properties.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
