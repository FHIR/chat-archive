---
layout: page
title: "FHIR Chat  · US Core + Provenance Interactions · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html">US Core + Provenance Interactions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203902292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/203902292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Weiyu Zhang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#203902292">(Jul 14 2020 at 23:49)</a>:</h4>
<p>Hi all,<br>
Quick question for the group about <a href="http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-provenance.html">US Core Provenance profile</a> - are search + read support required? <a href="http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-provenance.html">The provenance specific page</a> only lists <code>_revInclude</code> from other resources as mandatory search parameters, but the <code>US core capability statement</code> has Provenance interactions as:</p>
<div class="codehilite"><pre><span></span><code>Profile Interaction Summary:

SHALL support search-type, read.
SHOULD support vread, history-instance.
MAY support create, update, patch, delete, history-type.
</code></pre></div>



<a name="204470890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/204470890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#204470890">(Jul 20 2020 at 20:18)</a>:</h4>
<p>I don't think search-type should be listed there.  But you do need to support the <code>read</code> interaction.  <span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191410">@Brett Marquard</span></p>



<a name="204471559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/204471559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#204471559">(Jul 20 2020 at 20:24)</a>:</h4>
<p>yep that is a good catch - copy/paste error -  not supposed to be there.  will add to the errata.</p>



<a name="204693863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/204693863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Weiyu Zhang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#204693863">(Jul 22 2020 at 17:05)</a>:</h4>
<p>thanks for the clarification! Regarding the read - we're working on adding provenance support on our FHIR server, and we're not sure how to make sure that callers are getting the "correct" version of provenance - e.g.</p>
<p>1) client discovers provenance ID via _revInclude on a documentReference.search<br>
2) documentReference resource changes, provenance is updated as well<br>
3) client calls provenance read, only to get an updated provenance rather than the provenance version for the documentReference that they have</p>
<p>Do you have any recommendations on how to enforce a "sync" in the reads? Or would you expect folks to mainly use _revInclude?</p>



<a name="204697834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/204697834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#204697834">(Jul 22 2020 at 17:37)</a>:</h4>
<p>The Provenance resource wouldn't be changed when there's an update to the DocumentReference.  Instead, a new Provenance instance would be created - associated with that specific update.</p>



<a name="204697873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/204697873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#204697873">(Jul 22 2020 at 17:37)</a>:</h4>
<p>There'll be a separate Provenance instance for the creation and every update, delete, patch or other manipulation of the DocumentReference.</p>



<a name="204707384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/204707384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#204707384">(Jul 22 2020 at 18:53)</a>:</h4>
<blockquote>
<p>The Provenance resource wouldn't be changed when there's an update to the DocumentReference</p>
</blockquote>
<p>Maybe yes, maybe no - depends on server internals. Servers generate some audit trail of changes that are then mapped to provenance, but how this happens can vary a lot I'd imagine</p>



<a name="205304666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205304666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Weiyu Zhang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205304666">(Jul 28 2020 at 23:55)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  and <span class="user-mention" data-user-id="191912">@Michele Mottini</span>! That's the exact issue that I'm dealing with - our current implementation is a many-to-one map of internal audit entries to a single provenance resource. Do you foresee a use case where someone might want to get "older" provenance entries only/"older" provenance entries without the corresponding resource (or an older version of the resource)?</p>



<a name="205313688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205313688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205313688">(Jul 29 2020 at 02:59)</a>:</h4>
<p>It would be odd to have multiple AuditEvents for a single Provenance.  You can certainly search for Provenance and filter by dateTime.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, what's the proper search to get back all Provenances for a resource, irrespective of version, when all of the references are version-specific?</p>



<a name="205356423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205356423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205356423">(Jul 29 2020 at 13:33)</a>:</h4>
<p>It is understood that with a versioning server there could be equal versions of a target resource and that target resources Provenance; but given that this is not generalizable, it is not the intended use of Provenance. The intention is that a new Provenance record is created each time a change to a resource happens. Thus Provenance would never be Updated.   Thus a client can always understand Provenance without having to first determine if the server is a versioning server or not.</p>



<a name="205356549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205356549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205356549">(Jul 29 2020 at 13:34)</a>:</h4>
<p>also relying on versioning would limit the use of Provenance to support marking many updates with one Provenance instance.</p>



<a name="205357278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205357278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205357278">(Jul 29 2020 at 13:40)</a>:</h4>
<blockquote>
<p>The intention is that a new Provenance record is created each time a change to a resource happens.</p>
</blockquote>
<p>This is not going to be the case most of the times. Resources changes because people enter data into forms, V2 messages are received, CDA are processed, CSV files are imported etc etc etc. All interactions that know nothing of provenance or FHIR - they will record _some_ kind of audit log and _maybe_ those can be converted to provenance in some way</p>



<a name="205357925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205357925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205357925">(Jul 29 2020 at 13:45)</a>:</h4>
<p>That is inverted. There should be a Provenance on all of those reasons to update a record. Provenance is not just for direct human, it is for ALL changes.</p>



<a name="205362643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205362643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205362643">(Jul 29 2020 at 14:19)</a>:</h4>
<p>I don't think <span class="user-mention" data-user-id="191912">@Michele Mottini</span> was arguing about what "should be", he was arguing about "what is" and can reasonably be expected...</p>



<a name="205363237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205363237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205363237">(Jul 29 2020 at 14:23)</a>:</h4>
<p>misuse of any standard can't be prevented. I am just trying to set an intended use. and I thought that the us-core provenance was explicit. So we have done all we can to guide implementers. no question some won't follow. <br>
Also, noted that inside a non-FHIR system there will be  many proprietary ways that provenance will be stored or rooted-out.  This is systems-design, not anything that FHIR model can affect.</p>



<a name="205382309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205382309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205382309">(Jul 29 2020 at 16:46)</a>:</h4>
<p>It is not misuse. If you are getting data via an HL7v2 interface that was written 10 years ago you have no control over which kind of logging that generates.</p>



<a name="205383220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205383220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205383220">(Jul 29 2020 at 16:54)</a>:</h4>
<p>yes, that is recognized by my note about non-FHIR systems.</p>



<a name="205386841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205386841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205386841">(Jul 29 2020 at 17:24)</a>:</h4>
<p>All existing production systems are 'non-FHIR' systems</p>



<a name="205405144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/US%20Core%20%2B%20Provenance%20Interactions/near/205405144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/US.20Core.20.2B.20Provenance.20Interactions.html#205405144">(Jul 29 2020 at 19:52)</a>:</h4>
<p>I don't know about "all" - but certainly that's true of 'most major healthcare systems'</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
