---
layout: page
title: "FHIR Chat  · Reverse chaining example syntax · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html">Reverse chaining example syntax</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153855784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153855784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153855784">(Nov 07 2016 at 14:05)</a>:</h4>
<p>...is this correct?<br>
GET [base]/Patient?_has:Observation:patient:code=1234-5</p>
<p>I'd have expected<br>
GET [base]/Patient?_has:Observation.patient.code=1234-5</p>



<a name="153855785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153855785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153855785">(Nov 07 2016 at 14:05)</a>:</h4>
<p><a href="http://build.fhir.org/search.html#has" target="_blank" title="http://build.fhir.org/search.html#has">http://build.fhir.org/search.html#has</a></p>



<a name="153855797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153855797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153855797">(Nov 07 2016 at 20:13)</a>:</h4>
<p>The first one is correct. <code>patient.code</code> would imply the wrong thing, since that query you actually want is "find me Patients referred to by Observations by the <code>Observation.patient</code> field where the <code>Observation.code</code> field has the value <code>1234-5</code>"</p>



<a name="153855942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153855942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153855942">(Nov 08 2016 at 10:18)</a>:</h4>
<p>(deleted)</p>



<a name="153855943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153855943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153855943">(Nov 08 2016 at 10:18)</a>:</h4>
<p>So the generic pattern is<br>
<code>GET [base]/Patient?_has:[referring type]:[referring field]:[condition field]=1234-5</code></p>



<a name="153855946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153855946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153855946">(Nov 08 2016 at 10:23)</a>:</h4>
<p>Oh, I see _inculde and _revinclude use a similar syntax:</p>
<blockquote>
<p>Parameter values for both _include and _revinclude have three parts, separated by a : character:</p>
<p>1. The name of the source resource from which the join comes<br>
2. The name of the search parameter which must be of type reference<br>
3. (Optional) A specific of type of target resource (for when the search parameter refers to multiple possible target types)<br>
_include and _revInclude parameters do not include multiple values. Instead, the parameters are repeated for each different include criteria.</p>
</blockquote>
<p>Maybe it would be helpful to add a similar paragraph to the _has-specification to explain the syntax pattern?</p>



<a name="153856028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153856028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153856028">(Nov 08 2016 at 18:47)</a>:</h4>
<p>Something that just came up in the Provenance discussion thread:<br>
If we were to use logical References for Provenance.entity.reference <br>
e.g. Provenance.entity.reference.identifier=http://someNamingSystem.org|112345<br>
Is it possible to use _has to retrieve e.g. all Observations derived from this entity,<br>
assuming Provenance has a search parameter "entity" for Provenance.entity.reference.</p>
<div class="codehilite"><pre>/Observation?_has:Provenance:target:entity=http://someNamingSystem.org|12345
</pre></div>


<p>Is it even possible to search for logical identifier references? I can't find explicit wording about this in the spec...</p>



<a name="153856064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153856064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153856064">(Nov 08 2016 at 21:19)</a>:</h4>
<p>well, you can't chain. but you can search for them</p>



<a name="153856082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Reverse%20chaining%20example%20syntax/near/153856082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Reverse.20chaining.20example.20syntax.html#153856082">(Nov 08 2016 at 21:44)</a>:</h4>
<p>So the query above is legit?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
