---
layout: page
title: "FHIR Chat  · Nested QuestionnaireResposne items · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html">Nested QuestionnaireResposne items</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153844501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844501">(Aug 20 2016 at 12:57)</a>:</h4>
<p>Can someone explain to me how the following:</p>
<ul>
<li><code>QuestionnaireResponse.item.answer.item</code></li>
<li><code>QuestionnaireResponse.item.item</code></li>
</ul>
<p>are both different/necessary, and how each would be used?</p>



<a name="153844502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844502">(Aug 20 2016 at 12:59)</a>:</h4>
<p>Also, why is <code>QuestionnaireResponse.item.linkId</code> optional and missing in the primary  example?</p>



<a name="153844503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844503">(Aug 20 2016 at 13:02)</a>:</h4>
<p>The linkId is optional as some don't care about linking the values to the questions (such as going into a PDF or non structured result)<br>
(and yes, I think its pointless to do this without those too)</p>



<a name="153844504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844504">(Aug 20 2016 at 13:02)</a>:</h4>
<p>(just rechecking the spec on the answer.item one - assuming you were meaning the current STU3 ballot release.)</p>



<a name="153844505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844505">(Aug 20 2016 at 13:03)</a>:</h4>
<p>Wait, so you <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> agree that it's pointless to omit <code>linkId</code>?</p>



<a name="153844506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844506">(Aug 20 2016 at 13:04)</a>:</h4>
<p>I sure do (agree that linkid is a must).<br>
Can't relate questions back to answers without them (unless all questions were mandatory, and order important, but don't think is very safe without it)</p>



<a name="153844507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844507">(Aug 20 2016 at 13:04)</a>:</h4>
<p>And it's not a huge effort to include them. OK, ballot comment :-)</p>



<a name="153844508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844508">(Aug 20 2016 at 13:06)</a>:</h4>
<p>On the nested answers.items, .. I think it has something to do with accommodating repeating answers with groups below them -- but I don't know why we need to <strong>two</strong> recursive embedding points.</p>



<a name="153844509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844509">(Aug 20 2016 at 13:08)</a>:</h4>
<p>Agreed. I'll have to go back and check what I did in my STU3 port of that stuff from May.</p>



<a name="153844510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844510">(Aug 20 2016 at 13:09)</a>:</h4>
<p>Also, with <code>linkId</code>: is it incorrect  to flatten out a QuestionnaireResponse (from a Questionnaire with nested/grouped questions) and just tie them back with linkId? Just trying to get a handle on the expected Reponse-processing logic.</p>



<a name="153844511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844511">(Aug 20 2016 at 13:11)</a>:</h4>
<p>Also, can anyone explain what the following means, in terms of concrete changes? I'm hoping to understand how QuestionnaireResponse works. </p>
<blockquote>
<p>QuestionnaireResponse is one of the Event resources in the FHIR Workflow specification. As such, it is expected to be adjusted to align with the event workflow pattern. Any concerns about performing such alignment are welcome as ballot comments and/or tracker items.</p>
</blockquote>



<a name="153844512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844512">(Aug 20 2016 at 13:21)</a>:</h4>
<p>No, don't flatten them out, will make things hard to reassociate grouped items, such as rows in a table (or worse tables on repeatable sections)</p>



<a name="153844513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844513">(Aug 20 2016 at 13:21)</a>:</h4>
<p>(Sorry for the double negative there)</p>



<a name="153844514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844514">(Aug 20 2016 at 13:22)</a>:</h4>
<p>I haven't looked into that part yet, but wouldn't expect any actual change to the Q/QR resources.</p>



<a name="153844515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844515">(Aug 20 2016 at 13:24)</a>:</h4>
<p>OK, so I should ignore the warning note?  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  do you agree with this assessment? Any "adjusting" would be good to know about in advance. </p>



<a name="153844516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844516">(Aug 20 2016 at 13:33)</a>:</h4>
<p>I would very much like to know if any further adjustment was going to occur...</p>



<a name="153844517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844517">(Aug 20 2016 at 13:36)</a>:</h4>
<p>I think linkId is optional to support capturing of legacy questionnaires</p>



<a name="153844518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844518">(Aug 20 2016 at 13:44)</a>:</h4>
<p>If I was creating those, I'd just put in a sequential value. But understand the point.</p>



<a name="153844519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844519">(Aug 20 2016 at 13:44)</a>:</h4>
<p>We can always profile it up right.</p>



<a name="153844522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844522">(Aug 20 2016 at 19:18)</a>:</h4>
<p>The reason for dual nesting is that  groups need to have nested items (and won't have answers), while questions with nesting may have nesting inside each answer</p>



<a name="153844523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844523">(Aug 20 2016 at 19:19)</a>:</h4>
<p>linkId was indeed optional to support legacy, though we've discussed in the past whether it would be that hard to invent a linkId based on question sequence/nesting or something like that.  So I'd be ok with making it mandatory.</p>



<a name="153844528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844528">(Aug 21 2016 at 04:33)</a>:</h4>
<p>This double nesting is basically impossible for me to understand. Why can't we <strong>just</strong> have nesting in answere.item? </p>



<a name="153844529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844529">(Aug 21 2016 at 04:35)</a>:</h4>
<p>"groups need to have nested items" -- but isn't this confusing the requirements of QuestionnaireResponse with the requirements of Questionnaire? </p>



<a name="153844530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844530">(Aug 21 2016 at 04:37)</a>:</h4>
<p>In other words, if you need to represent nested responses, use answer.item. You can do this even if the answer is blank. </p>



<a name="153844531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844531">(Aug 21 2016 at 04:37)</a>:</h4>
<p>But having two points of recursive nesting is beyond my comprehension. </p>



<a name="153844532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844532">(Aug 21 2016 at 04:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> do you have experience working with nested items here? </p>



<a name="153844533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844533">(Aug 21 2016 at 07:06)</a>:</h4>
<p>The response mirrors the questionnaire.  So if the questionnaire has a repeating group with 5 questions, then the QuestionnaireResponse will also have a repeating group item with 5 question items (and those questions would have their respective answers).  There's no "answer" at the group level to nest questions within.</p>



<a name="153844543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844543">(Aug 21 2016 at 08:54)</a>:</h4>
<p>A) I'm also not sure I understand the difference between <code>QuestionnaireResponse.item.answer.item</code> and <code>QuestionnaireResponse.item.item</code>, the samples don't manage to enlighten me, I'd have to invest more time than I have ATM.</p>



<a name="153844544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844544">(Aug 21 2016 at 08:56)</a>:</h4>
<p>B) I'm not sure making <code>linkId</code> mandatory is so clear-cut. Groups can also be used for logic reasons, e.g. if I'm going to skip 3 questions after a certain answer, I'll group these three questions and set the group's <code>enableWhen</code> accordingly, I won't care for <code>linkId</code>.</p>



<a name="153844552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844552">(Aug 21 2016 at 13:36)</a>:</h4>
<p>Why would you not have a linkId on the group?</p>



<a name="153844553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844553">(Aug 21 2016 at 14:55)</a>:</h4>
<p>In a questionnaire with 4 questions, where I'll only ask questions 2, 3 and 4 if, say, the answer is YES to the first one, I'm still only interested in the 4 questions, I don't really care that questions 2, 3 and 4 are in a group.</p>



<a name="153844559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844559">(Aug 21 2016 at 18:31)</a>:</h4>
<p>But if the group repeats, you have to care.</p>



<a name="153844589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844589">(Aug 22 2016 at 11:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I'm still not getting it. Which by itself probably means this structure is too complicated. Why can't there be a single recursion point (embedded within item.answer, recognizing that sometimes item.answer.value could be missing)? </p>



<a name="153844590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844590">(Aug 22 2016 at 11:24)</a>:</h4>
<p>Otherwise put: How can we say that the current QuestionnaireResponse mirrors Questionnaire when the former has two recursion points and the latter has just one? </p>



<a name="153844592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844592">(Aug 22 2016 at 11:38)</a>:</h4>
<p>I'd actually suggest using the one outside the answer, which means you don't need the answer for the replicating group.<br>
I must create some examples...</p>



<a name="153844593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844593">(Aug 22 2016 at 11:40)</a>:</h4>
<p>Agreed, <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> -- after reading the spec  carefully, I was just returning here to make this same point! </p>



<a name="153844594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844594">(Aug 22 2016 at 11:41)</a>:</h4>
<p>And then the "mirrored" structure is clear. </p>



<a name="153844595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844595">(Aug 22 2016 at 11:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> if there is a specific case where this breaks down, could you sketch an example to explain? </p>



<a name="153844603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844603">(Aug 22 2016 at 12:44)</a>:</h4>
<blockquote>
<p>But if the group repeats, you have to care.</p>
</blockquote>
<p>Sure, <strong>then</strong> I do. But in the questionnaires I've used so far that was never the case. However, in questionnaires of 30-40 questions, I have easily 4 or 5 non-repeating groups that merely exist to skip two or three questions. So if <code>linkId</code> becomes mandatory I'll be creating random group identifiers that nobody cares about for most questionnaires.</p>



<a name="153844604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844604">(Aug 22 2016 at 12:45)</a>:</h4>
<p>And none of those questions are tables? (that's the most common case I see)</p>



<a name="153844608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844608">(Aug 22 2016 at 13:12)</a>:</h4>
<p>Can you explain what you mean by "questions" as "tables", <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> ?</p>



<a name="153844610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844610">(Aug 22 2016 at 13:14)</a>:</h4>
<p>Say you have a questionnaire that has 2 pages (groups) and on page 2 there is a table of data.<br>
The table is therefore a repeating group within another group.</p>



<a name="153844611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844611">(Aug 22 2016 at 13:14)</a>:</h4>
<p>I've mostly been using standardized questionnaires like WPAI and SF-36. The only times those have <code>repeat</code> is for multiple choice questions.</p>



<a name="153844612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844612">(Aug 22 2016 at 13:16)</a>:</h4>
<p>Wait, why is the table a "repeating group"?</p>



<a name="153844614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844614">(Aug 22 2016 at 13:20)</a>:</h4>
<p>A repeating group can be rendered as a table, or just a repeating section, like this example (sorry, DSTU2 format)<br>
<a href="http://smartq.azurewebsites.net/Home/Survey?questionnaireId=https%3A%2F%2Fsqlonfhir-dstu2.azurewebsites.net%2Ffhir%2FQuestionnaire%2Fsample-nested-group&amp;fhirServiceUrl=https%3A%2F%2Fsqlonfhir-dstu2.azurewebsites.net%2Ffhir%2F" target="_blank" title="http://smartq.azurewebsites.net/Home/Survey?questionnaireId=https%3A%2F%2Fsqlonfhir-dstu2.azurewebsites.net%2Ffhir%2FQuestionnaire%2Fsample-nested-group&amp;fhirServiceUrl=https%3A%2F%2Fsqlonfhir-dstu2.azurewebsites.net%2Ffhir%2F">http://smartq.azurewebsites.net/Home/Survey?questionnaireId=https%3A%2F%2Fsqlonfhir-dstu2.azurewebsites.net%2Ffhir%2FQuestionnaire%2Fsample-nested-group&amp;fhirServiceUrl=https%3A%2F%2Fsqlonfhir-dstu2.azurewebsites.net%2Ffhir%2F</a></p>



<a name="153844615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844615">(Aug 22 2016 at 13:21)</a>:</h4>
<p>(Need to get my editor updated to STU3)</p>



<a name="153844655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844655">(Aug 22 2016 at 17:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>  Nesting questions inside an "answer" for a group that can't possibly have an answer would be very weird.  It would also change the semantics of the "answer" element.  <span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> yes, you'd have to make up an id for the group.  And you'd have to make up an id for all of your embedded instruction text too.  That's what making linkId mandatory would mean.  If we leave it that linkId is only required for those things that your system personally cares about, then it no longer works as an always present, generic referencing mechanism</p>



<a name="153844656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844656">(Aug 22 2016 at 17:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Can you explain why (as <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> suggested) we couldn't just get by with <code>QuestionnaireResponse.item.item</code>, and eliminate <code>QuestionnaireResponse.item.answer.item</code>?  If this doesn't work, could you provide a specific example to help <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> and me understand the design choice? Currently we don't get it.</p>



<a name="153844657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844657">(Aug 22 2016 at 17:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Alright, point taken.</p>



<a name="153844658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844658">(Aug 22 2016 at 17:34)</a>:</h4>
<p>If we have a repeating question that works as a multiple choice question (e.g. asking for which meds a patient is taking), would I repeat that in <code>item.item</code> or <code>item.answer.item</code>?</p>



<a name="153844685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844685">(Aug 22 2016 at 21:47)</a>:</h4>
<p>Question 1: Which of the following diseases do you have? (type = open-choice); nestedQuestion 1.1: "When was the onset of the disease?"<br>
QuestionnaireResponse: { linkId=1, answer [ {answerValue=diabetes, item { linkId=1.1, answer= [ {answerValue=childhood} ] } }, {answerValue=heartDisease, item {linkId=1.1, answer=[ {answerValue=adult} ] } } ] }</p>



<a name="153844689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844689">(Aug 22 2016 at 23:10)</a>:</h4>
<p>In that case the item.answer.item could easily fit into the item.item</p>



<a name="153844696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844696">(Aug 23 2016 at 00:43)</a>:</h4>
<p>How?  item.item wouldn't associate childhood with the diabetes answer as opposed to heartDisease.  You'd end up with two answers, then two child questions</p>



<a name="153844697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844697">(Aug 23 2016 at 00:48)</a>:</h4>
<p>if the question repeated, repeat at that point, not the answer point.</p>



<a name="153844735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844735">(Aug 23 2016 at 02:10)</a>:</h4>
<p>I'm with Brian -- I can't see what having a separate recursion point adds in this scenario (and it creates confusion). The top question just repeats, and a linkId would make the correspondence clear. </p>



<a name="153844736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844736">(Aug 23 2016 at 02:13)</a>:</h4>
<p>+1 on that Josh.</p>



<a name="153844742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844742">(Aug 23 2016 at 03:19)</a>:</h4>
<p>Why echo the question text for each repetition?</p>



<a name="153844743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844743">(Aug 23 2016 at 03:26)</a>:</h4>
<p>then why have the item without the answer?<br>
(I think we only need/want one of them) or you need to document more clearly which types should use which nesting)</p>



<a name="153844747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844747">(Aug 23 2016 at 03:44)</a>:</h4>
<p>If you have a group that contains another group, there's no answer to do the containing</p>



<a name="153844748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844748">(Aug 23 2016 at 03:44)</a>:</h4>
<p>We can add a constraint about which gets used when</p>



<a name="153844749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844749">(Aug 23 2016 at 03:45)</a>:</h4>
<p>(Submit a change request :))</p>



<a name="153844808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844808">(Aug 23 2016 at 16:13)</a>:</h4>
<p>I still can't understand why we'd have two places.</p>



<a name="153844813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Nested%20QuestionnaireResposne%20items/near/153844813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Nested.20QuestionnaireResposne.20items.html#153844813">(Aug 23 2016 at 16:57)</a>:</h4>
<p>I submitted <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10481" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10481">GF#10481</a> to propose eliminating<br>
<code>QuestionnaireResponse.item.answer.item</code> (<span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> please comment there if you agree)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
