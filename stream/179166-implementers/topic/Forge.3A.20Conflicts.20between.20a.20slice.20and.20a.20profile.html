---
layout: page
title: "FHIR Chat  · Forge: Conflicts between a slice and a profile · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.3A.20Conflicts.20between.20a.20slice.20and.20a.20profile.html">Forge: Conflicts between a slice and a profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153882064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%3A%20Conflicts%20between%20a%20slice%20and%20a%20profile/near/153882064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.3A.20Conflicts.20between.20a.20slice.20and.20a.20profile.html#153882064">(Apr 12 2017 at 12:45)</a>:</h4>
<p>I have sliced a value[x] element in an Observation and selected a slice to be a valueQuantity and given it a profile URI to a PhdQuantity. However, in the slice itself I am left with all the sub-elements of the valueQuantity and these are already defined in the PhdQuantity profile. The default settings in the slice are not consistent with the PhdQuantity profile especially with respect to the cardinality. I am not sure how to handle that situation. Should I match cardinalities at least and leave further description to the profile? I would think this conflict would be confusing to the user.</p>
<p>I suppose I could get rid of the PhdQuantity profile but I would like to reuse this profile for cases in the Observation.component elements when it happens.</p>



<a name="153882066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%3A%20Conflicts%20between%20a%20slice%20and%20a%20profile/near/153882066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.3A.20Conflicts.20between.20a.20slice.20and.20a.20profile.html#153882066">(Apr 12 2017 at 13:05)</a>:</h4>
<p><span class="user-mention" data-user-id="192228">@Brian Reinhold</span> when you constrain an element type, you can also specify a custom profile uri (in textbox right next to the type code). So in your case, you can constrain a specific slice to type "Quantity" and also constraint the type profile to "PhdQuantity". Forge will then merge the constraints from the external type profile.</p>



<a name="153882068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%3A%20Conflicts%20between%20a%20slice%20and%20a%20profile/near/153882068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.3A.20Conflicts.20between.20a.20slice.20and.20a.20profile.html#153882068">(Apr 12 2017 at 13:22)</a>:</h4>
<p>So what you are saying is that I should leave the sub fields in the StructureDefinition alone and when viewed in Simplifier, for example, I will see only the valueQuantity as defined by the PhdQuantity. Is that correct? Of course I could just try it and find out!</p>



<a name="153882069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%3A%20Conflicts%20between%20a%20slice%20and%20a%20profile/near/153882069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.3A.20Conflicts.20between.20a.20slice.20and.20a.20profile.html#153882069">(Apr 12 2017 at 13:28)</a>:</h4>
<p>If a profile element has e.g. type Quantity, then you can further constrain that element by referencing a custom profile on the Quantity datatype, in your case PhdQuantity. The constraints defined by PhdQuantity override the constraints on the core Identifier type. These PhdQuantity constraints are then (recursively) merged onto the valueQuantity slice in you Observation profile.</p>



<a name="153882070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%3A%20Conflicts%20between%20a%20slice%20and%20a%20profile/near/153882070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.3A.20Conflicts.20between.20a.20slice.20and.20a.20profile.html#153882070">(Apr 12 2017 at 13:28)</a>:</h4>
<p>You may have to reload the profile in Forge to force expansion of the custom type profile.</p>



<a name="153882071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%3A%20Conflicts%20between%20a%20slice%20and%20a%20profile/near/153882071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.3A.20Conflicts.20between.20a.20slice.20and.20a.20profile.html#153882071">(Apr 12 2017 at 13:30)</a>:</h4>
<p>That brings up another question. How do I save a session? Right now I have to individually open each of my profile xml files when I open Forge. Is there a way to save a session?</p>



<a name="153882072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Forge%3A%20Conflicts%20between%20a%20slice%20and%20a%20profile/near/153882072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Forge.3A.20Conflicts.20between.20a.20slice.20and.20a.20profile.html#153882072">(Apr 12 2017 at 13:37)</a>:</h4>
<p>You can create an ImplementationGuide resource and add a Package component. If you select the package node and open some profiles, then Forge will add profile references to the parent package. Now you can save and close the IG resource. If you re-open the IG, Forge will try to load all profiles referenced by the package(s).<br>
Note that we are planning to completely replace the current Session Explorer in Forge with a new file/folder-based approach. The associated logic is a bit outdated and will eventually be phased out.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
