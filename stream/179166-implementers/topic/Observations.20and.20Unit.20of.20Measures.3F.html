---
layout: page
title: "FHIR Chat  · Observations and Unit of Measures? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html">Observations and Unit of Measures?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="161333771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161333771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161333771">(Mar 21 2019 at 10:49)</a>:</h4>
<p>How do you deal with systems sending in FHIR Observations (e.g. from an HL7 V2 interface) where the unit of measure is not what your system expects?  In other words, if your system expects a normalized (base) unit for a particular observation, how or where do you do the unit conversion?</p>
<p>One way would be to have the sender do the unit conversion to the normalized unit, e.g. if the sender has Kg but the receiver expects g (grams) then they could perform the conversion.   Another way would be to have the receiver perform the conversion (normalization) as part of or in addition to it's storing of the observation.   If the receiver did this, it would want to maintain the identifier (business identifier) reference to the original Observation in case there is an update to it, e.g. an updated Lab value.    I suppose one could create a new Obs with the relatedTo pointing to the original Obs with the sender's UofM but this seems like a lot of extra work (and house-keeping).   It would be easier if the FHIR Obs supported a notion of alternative UofMs for a valueQuantity (or an array of valueQuantity?)    Another related topic to this, which I believe has been discussed before is the notion of precision.   This is especially important when performing unit conversions but there doesn't seem to be any way to communicate this in the FHIR Observation (or FHIR datatypes unless I'm missing something).</p>



<a name="161334587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161334587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161334587">(Mar 21 2019 at 11:02)</a>:</h4>
<p>I think it's a best practice for receivers to do the conversion, and for a data source to record the units as-is when some data was captured. If one is using UCUM conversion should be easy to achieve at the receiving end.</p>



<a name="161338960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161338960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161338960">(Mar 21 2019 at 12:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191372">@René Spronk</span>  -- Thanks for the quick response.   If the receiver does the conversion, where does it store the results; in another FHIR Obs with a referTo reference?   I'm concerned about the problem of updates to the original FHIR Obs from the sender, e.g. a corrected Lab result.    Also, there is still the concern about the precision; inevitably when doing unit conversions there is a concern about the precision.  For example, even in the simple case of a power of ten conversion (Kg to grams) what amount of precision should be preserved?   (This is especially a problem with JSON since numbers in JSON don't "do" precision well.)</p>



<a name="161339250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161339250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig Newman <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161339250">(Mar 21 2019 at 12:13)</a>:</h4>
<p>Technical issues aside, I'd be wary of display considerations if the receiver does the conversion. A lot of sender (labs in particular) are very adamant that what they send is what is stored and displayed to users. In particular, if this is coming from a v2 message where the reference range is a string (not not also tranformable), the interpretation of that may be adversely affected if the result units are transformed.</p>



<a name="161340532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161340532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161340532">(Mar 21 2019 at 12:33)</a>:</h4>
<p><span class="user-mention" data-user-id="192758">@Craig Newman</span>  -- good point; there is an implicit (if not explicit) precision in the equipment making the original measurements that needs to be preserved.   Just because a multiplication or division produces more digits doesn't mean that the measurement has more precision.   (I like the example of WBC -- typically reported in x10000; what does that mean about the actual precision of the instrumentation/method used to perform the measurement?)  <a href="https://www.pathologystudent.com/8423/" target="_blank" title="https://www.pathologystudent.com/8423/">https://www.pathologystudent.com/8423/</a></p>



<a name="161341611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161341611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161341611">(Mar 21 2019 at 12:48)</a>:</h4>
<p>Why would a receiver have to <em>store</em> a converted value? It should store the original value+unit as-is, and only convert on-the-fly for display reasons.  As for the precision issue - I'm aware there's some wording around that in the FHIR spec, but it's not my area of expertise...</p>



<a name="161343319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161343319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161343319">(Mar 21 2019 at 13:09)</a>:</h4>
<p>See <a href="http://hl7.org/fhir/datatypes.html#decimal" target="_blank" title="http://hl7.org/fhir/datatypes.html#decimal">http://hl7.org/fhir/datatypes.html#decimal</a>: 'The precision of the decimal value has significance:<br>
e.g. 0.010 is regarded as different to 0.01, and the original precision should be preserved . . . '</p>



<a name="161393369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161393369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161393369">(Mar 21 2019 at 20:35)</a>:</h4>
<p>so: it's a matter of hate the users when you say:<br>
- you must use our units for display<br>
- we won't coordinate with each other so that we all use the same units</p>



<a name="161393380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161393380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161393380">(Mar 21 2019 at 20:35)</a>:</h4>
<p>but such is life in lab data all over the world</p>



<a name="161393450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161393450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161393450">(Mar 21 2019 at 20:36)</a>:</h4>
<p>however in FHIR, life is much more complicated than receiver and sender. There's n repositories in the picture. It's better to think of data source, data store, and data user</p>



<a name="161393505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161393505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161393505">(Mar 21 2019 at 20:37)</a>:</h4>
<p>data source doesn't know the unit expectations of the data user, who's probably n steps away any  (and there will be n*n data users). Data stores might have a policy to impose a common unit. or they might not.</p>



<a name="161393534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161393534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161393534">(Mar 21 2019 at 20:37)</a>:</h4>
<p>anyway, this extension is available: <a href="http://hl7.org/fhir/extension-iso21090-pq-translation.html" target="_blank" title="http://hl7.org/fhir/extension-iso21090-pq-translation.html">http://hl7.org/fhir/extension-iso21090-pq-translation.html</a></p>



<a name="161393544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161393544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161393544">(Mar 21 2019 at 20:37)</a>:</h4>
<p>and data stores might want to use it</p>



<a name="161393631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Observations%20and%20Unit%20of%20Measures%3F/near/161393631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F.html#161393631">(Mar 21 2019 at 20:38)</a>:</h4>
<p>the question of search is much more vexed. My server supports search on canonical units if a UCUM code is provided as a way to work around this - but it is dependent on UCUM being aavailable</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
