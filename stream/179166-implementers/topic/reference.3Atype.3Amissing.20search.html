---
layout: page
title: "FHIR Chat  · reference:type:missing search · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html">reference:type:missing search</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="161438496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161438496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161438496">(Mar 22 2019 at 11:09)</a>:</h4>
<p>Ostensibly, I should be able to search for Observations that have a Patient performer by:<br>
<code>/Observation?performer:Patient:missing=false</code>, but test servers either disallow (<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ) or silently ignore (<span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> <span class="user-mention" data-user-id="191319">@James Agnew</span> ).  Is this a valid search (I hope so)?</p>



<a name="161443903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161443903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161443903">(Mar 22 2019 at 12:40)</a>:</h4>
<p>I don't think that would be valid with the spec as written- there is no description of stacking modifiers like that that I can see. Certainly HAPI wouldn't allow this, we just don't have indexes currently that would support this search.</p>
<p>You could get this information pretty easily by defining a custom SP though that indexes only on something like <code>Observation.performer.where(resolve() is Patient)</code></p>



<a name="161444216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161444216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161444216">(Mar 22 2019 at 12:45)</a>:</h4>
<p>It should have been documented that combining multiple modifiers is not valid. See <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17220" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17220">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17220</a></p>



<a name="161444843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161444843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161444843">(Mar 22 2019 at 12:54)</a>:</h4>
<p>That's an unfortunate outcome I think...certainly there are valid uses for "stacked" modifiers.</p>



<a name="161444874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161444874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161444874">(Mar 22 2019 at 12:54)</a>:</h4>
<p>Procedural question - since search is normative, could we allow this in future? Or would that be a breaking change?</p>



<a name="161452598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161452598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161452598">(Mar 22 2019 at 14:32)</a>:</h4>
<p>Adding new capabilities that don't break existing systems is allowed.</p>



<a name="161484702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161484702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161484702">(Mar 22 2019 at 21:15)</a>:</h4>
<p>I don't like that combination and there are many combinations that would be problematic. I really think this is better done as James suggests</p>



<a name="161538687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161538687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161538687">(Mar 23 2019 at 19:07)</a>:</h4>
<p>If the patients are also stored in the server, you can search this with <code>{{url}}/Observation?performer._type=Patient</code>.<br>
On a side note: Vonk does not ignore it silently, it included an OperationOutcome in the bundle stating "Parameter is not well formatted, expected 'parametername[:modifier]=value'."</p>



<a name="161538742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/161538742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#161538742">(Mar 23 2019 at 19:08)</a>:</h4>
<p>And agree on preferably not stacking modifiers.</p>



<a name="162323245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162323245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162323245">(Apr 02 2019 at 11:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> is there a tracker out there to standardize "_type" on resource? That'd be nice...</p>



<a name="162328394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162328394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162328394">(Apr 02 2019 at 12:17)</a>:</h4>
<p>As to the complexity of "stacking" modifiers, I'm increasingly of the opinion that :missing should be a special case addable to a few modifiers. What I really mean is something like <code>=null</code>, and not being able to add that anywhere a value would be appropriate is a problem.  For instance, <code>Observation?code:text:missing=true</code> or (maybe, reaching here) <code>Patient?identifier:of-type:missing=true</code></p>



<a name="162334583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162334583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162334583">(Apr 02 2019 at 13:38)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="191757">Christiaan Knaap</span> is there a tracker out there to standardize "_type" on resource? That'd be nice...</p>
</blockquote>
<p><span class="user-mention" data-user-id="191351">@Chris Grenz</span> : I don't see how the <a href="http://hl7.org/fhir/R4/search.html#_type" target="_blank" title="http://hl7.org/fhir/R4/search.html#_type">spec on _type</a> would limit it to a system search, so I already expect this to be standardized.</p>



<a name="162334616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162334616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162334616">(Apr 02 2019 at 13:38)</a>:</h4>
<p>It's not in this list: <a href="http://hl7.org/fhir/R4/search.html#table" target="_blank" title="http://hl7.org/fhir/R4/search.html#table">http://hl7.org/fhir/R4/search.html#table</a></p>



<a name="162334651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162334651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162334651">(Apr 02 2019 at 13:39)</a>:</h4>
<p>and not defined as a SearchParameter on Resource maybe?</p>



<a name="162334740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162334740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162334740">(Apr 02 2019 at 13:40)</a>:</h4>
<p>Consequently, at least HAPI (<span class="user-mention" data-user-id="191319">@James Agnew</span> ) doesn't implement by default for chained search (by my simple testing)</p>



<a name="162334995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162334995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162334995">(Apr 02 2019 at 13:43)</a>:</h4>
<p>It is indeed not in the <a href="http://hl7.org/fhir/R4/definitions.json.zip" target="_blank" title="http://hl7.org/fhir/R4/definitions.json.zip">definitions</a>. Would be nice and consistent if it was.</p>



<a name="162335689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162335689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162335689">(Apr 02 2019 at 13:51)</a>:</h4>
<p>I'll open...</p>



<a name="162335916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162335916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162335916">(Apr 02 2019 at 13:53)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20640" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20640">GF#20640</a></p>



<a name="162338149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/reference%3Atype%3Amissing%20search/near/162338149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/reference.3Atype.3Amissing.20search.html#162338149">(Apr 02 2019 at 14:17)</a>:</h4>
<p>Also <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20641" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20641">GF#20641</a> - so much integration work needs to find the missing stuff...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
