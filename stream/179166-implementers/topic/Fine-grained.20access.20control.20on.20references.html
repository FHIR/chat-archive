---
layout: page
title: "FHIR Chat  · Fine-grained access control on references · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Fine-grained.20access.20control.20on.20references.html">Fine-grained access control on references</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="218043459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Fine-grained%20access%20control%20on%20references/near/218043459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xiao Yang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Fine-grained.20access.20control.20on.20references.html#218043459">(Nov 26 2020 at 22:50)</a>:</h4>
<p>I'm wondering what others think about the fine-grained access control regarding to the resource references. I feel like for Read, it seems that the convention is that users will get the whole resource content, and if there are references on that resource, users will be able to infer that the referenced resources exist (though technically users may not have access to those referenced resources directly).</p>
<p>But Write is more interesting: users can construct a Write request with outgoing references to resources they do not have access to. And if the request is accepted / rejected (assuming server enforces referential integrity), users now know those referenced resources do / don't exist. That seems to provide a way for users to poke the existence of resources they have no direct access.</p>
<p>It'd seem very awkward if we start check access on references.</p>
<p>I feel like it ultimately comes down to how much sensitive info the resource IDs and the existence of resources of those IDs reveal. I'm wondering what others think. Thanks!</p>



<a name="218044614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Fine-grained%20access%20control%20on%20references/near/218044614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Fine-grained.20access.20control.20on.20references.html#218044614">(Nov 26 2020 at 23:16)</a>:</h4>
<p>I generally think of resource ids as being very similar to primary keys - and the caveats about "don't make meaningful primary keys in your database" hold just as true for resource ids.</p>



<a name="218047752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Fine-grained%20access%20control%20on%20references/near/218047752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xiao Yang <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Fine-grained.20access.20control.20on.20references.html#218047752">(Nov 27 2020 at 00:32)</a>:</h4>
<p>I think a caveat is that FHIR allows client to set resource ID in PUT (<a href="https://www.hl7.org/fhir/http.html#upsert">https://www.hl7.org/fhir/http.html#upsert</a>). So from an implementer point of view, I can't predict what my clients will put in as resource IDs.</p>



<a name="218054439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Fine-grained%20access%20control%20on%20references/near/218054439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Fine-grained.20access.20control.20on.20references.html#218054439">(Nov 27 2020 at 03:38)</a>:</h4>
<p>I expect most systems that allow upsert will have very tight control over who can use it and how they act.<br>
They will not want to be surprised and will be able to predict what clients put in as resource IDs.</p>



<a name="218054670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Fine-grained%20access%20control%20on%20references/near/218054670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Fine-grained.20access.20control.20on.20references.html#218054670">(Nov 27 2020 at 03:44)</a>:</h4>
<p>In most cases, if you're allowing clients to upsert records (i.e. creating and assigning the id), the ids are going to be GUIDs or you're only going to have one client that has that privilege.  Otherwise, you risk collisions.</p>



<a name="218293965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Fine-grained%20access%20control%20on%20references/near/218293965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Fine-grained.20access.20control.20on.20references.html#218293965">(Nov 30 2020 at 14:37)</a>:</h4>
<p>A system that has update privilege that starts to misbehave will be detected by a good audit logging system. Hence why I recommend minimally the use of CRUDE based AuditEvent that is automated by the Resource Server informed by the security tokens it is given. More accurate view can be achieved by clients also logging. Deviations from normal patterns (once normal patterns are learned) can flag pointed review.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
