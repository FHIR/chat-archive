---
layout: page
title: "FHIR Chat  · FHIR Validation Tool · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html">FHIR Validation Tool</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="180202176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180202176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vivek Kumar Yadav <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180202176">(Nov 08 2019 at 04:38)</a>:</h4>
<p>I was working with the FHIR validation jar file org.hl7.fhir.validator, and  I have got some doubts :<br>
1). I need to validate , STU2 , DSTU3 and R4 , where can I get a stable jar which will validate all these versions .<br>
2). What are the valid parameters which I need to pass in the -version argument of the jar file , in the documentation the valid values are given as 1.0,1.4 and 3.0 , but  I need to validate R4 as well , so is 4.0 a valid value for the version argument .<br>
3). There is -out argument to convert the output of the validation into OperationOutcome , but it comes in xml format , is there a way to convert it into json without using a explicit parser .<br>
4). At times the validation takes a lot of time to connect to the tx server , there is -ig argument tag which can be used to give the path of locally saved implementation guides , is this a correct approach , I mean is there a way to automatically sync my local  ig repo with remote one .</p>



<a name="180202408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180202408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180202408">(Nov 08 2019 at 04:45)</a>:</h4>
<ol>
<li>the same jar for all versions</li>
<li>4.0 is a valid argument. where is it that this was not documented?</li>
<li>if you nominate a -output parameter than ends with .json, you'll get json format<br>
4a. yes, it connects to the terminology server. Should only take 1-2 secs. If you want to batch it up in a server, or process  etc, you should either use org.hl7.fhir.r5.validation.NativeHostServices or a full HAPI framework<br>
4b. -ig with just the package id is the best way, and the package will be cached locally if you do</li>
</ol>



<a name="180202424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180202424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180202424">(Nov 08 2019 at 04:45)</a>:</h4>
<p><a href="https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar" target="_blank" title="https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar">https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar</a> is always the current one and you should use</p>



<a name="180266204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180266204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sreenivasagopalan ananthakrishna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180266204">(Nov 08 2019 at 20:03)</a>:</h4>
<p>Hi folks, I would like to validate an STU3 resource, what is the possible values for <code>-ig</code> or <code>-defn</code> params ? I tried passing <code>-ig hl7.fhir.core#3.0.2</code> as param and end up getting the following error:  <code>Fatal @ Task (line 1, col2) : This does not appear to be a FHIR resource (unknown name 'Task')</code>. While debugging this code through intellij, I found that the code is not able to pick up structure definitions. Is there anything I am missing here ?  The resource I am validating is actually a valid resource, with <code>resourceType</code> property set to <code>Task</code></p>



<a name="180266577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180266577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sreenivasagopalan ananthakrishna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180266577">(Nov 08 2019 at 20:04)</a>:</h4>
<p>btw, I am using the latest version of the official validator jar downloaded form the FHIR website.</p>



<a name="180307667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180307667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vivek Kumar Yadav <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180307667">(Nov 09 2019 at 10:55)</a>:</h4>
<blockquote>
<p><a href="https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar" target="_blank" title="https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar">https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar</a> is always the current one and you should use</p>
</blockquote>
<p>Thanks for your response .</p>



<a name="180307671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180307671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vivek Kumar Yadav <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180307671">(Nov 09 2019 at 10:55)</a>:</h4>
<blockquote>
<ol>
<li>the same jar for all versions</li>
<li>4.0 is a valid argument. where is it that this was not documented?</li>
<li>if you nominate a -output parameter than ends with .json, you'll get json format<br>
4a. yes, it connects to the terminology server. Should only take 1-2 secs. If you want to batch it up in a server, or process  etc, you should either use org.hl7.fhir.r5.validation.NativeHostServices or a full HAPI framework<br>
4b. -ig with just the package id is the best way, and the package will be cached locally if you do</li>
</ol>
</blockquote>
<p>Thanks for your response .</p>



<a name="180331784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180331784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180331784">(Nov 09 2019 at 21:11)</a>:</h4>
<p><span class="user-mention" data-user-id="248919">@sreenivasagopalan ananthakrishna</span> - oops I mixed fixing something up when we reorganised the packages. Will be fixed next release (within 24 hours). In the meantime, use the -version parameter </p>
<p>I updated the documentation here: <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator" target="_blank" title="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></p>



<a name="180468309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180468309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sreenivasagopalan ananthakrishna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180468309">(Nov 11 2019 at 23:16)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="248919">sreenivasagopalan ananthakrishna</span> - oops I mixed fixing something up when we reorganised the packages. Will be fixed next release (within 24 hours). In the meantime, use the -version parameter </p>
<p>I updated the documentation here: <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator" target="_blank" title="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></p>
</blockquote>
<p>Thanks will check it out!</p>



<a name="180850154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180850154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sreenivasagopalan ananthakrishna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180850154">(Nov 15 2019 at 16:51)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="248919">sreenivasagopalan ananthakrishna</span> - oops I mixed fixing something up when we reorganised the packages. Will be fixed next release (within 24 hours). In the meantime, use the -version parameter </p>
<p>I updated the documentation here: <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator" target="_blank" title="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I am back on this task of validating custom profiles. My observation is that the Validation tool is not able to validate even examples bundled as part of the definition files. For example:</p>
<div class="codehilite"><pre><span></span>11:44 $ java -jar org.hl7.fhir.validator.jar task-example.json -version 3.2.0
FHIR Validator Build ??
Arguments: task-example.json -version 3.2.0
  .. connect to tx server @ http://tx.fhir.org
  .. definitions from hl7.fhir.core#3.2.0
    (v3.2.0-null)
  .. validate [task-example.json]
*FAILURE* validating task-example.json:  error:1 warn:0 info:0
  Fatal @ Task (line 1, col2) : This does not appear to be a FHIR resource (unknown name &#39;Task&#39;)
</pre></div>


<p>I have tried both version 3.0.2 and 3.2.0. Both are giving same issue. WIth version 3.0.2, the definition files are not even downloaded in the cache.  All I see is a package.json which refers to other resources.  I do see a reference to <code>StructureDefinition-Taskjson</code> as part of the 3.2.0 cache, but the file extension seems to be incorrect in the downloaded package,  Is it supposed to be <code>`StructureDefinition-Task.json</code> instead ? </p>
<div class="codehilite"><pre><span></span>✔ ~/.fhir/packages/hl7.fhir.core#3.2.0/package
11:52 $ ls StructureDefinition-task-*
StructureDefinition-task-candidateListjson  StructureDefinition-task-replacesjson
</pre></div>


<p>I renamed <code>StructureDefinition-Taskjson</code> to <code>StructureDefinition-Task.json</code>, but now I get this following error:</p>
<div class="codehilite"><pre><span></span>11:45 $ java -jar org.hl7.fhir.validator.jar task-example.json -version 3.2.0
FHIR Validator Build ??
Arguments: task-example.json -version 3.2.0
  .. connect to tx server @ http://tx.fhir.org
  .. definitions from hl7.fhir.core#3.2.0
Error loading StructureDefinition-Task.json: Unknown FHIRVersion code &#39;3.2.0&#39;
Exception in thread &quot;main&quot; org.hl7.fhir.exceptions.FHIRException: Error loading StructureDefinition-Task.json: Unknown FHIRVersion code &#39;3.2.0&#39;
        at org.hl7.fhir.r4.context.SimpleWorkerContext.fromDefinitions(SimpleWorkerContext.java:197)
        at org.hl7.fhir.r4.validation.ValidationEngine.loadDefinitions(ValidationEngine.java:300)
        at org.hl7.fhir.r4.validation.ValidationEngine.loadInitialDefinitions(ValidationEngine.java:262)
        at org.hl7.fhir.r4.validation.ValidationEngine.&lt;init&gt;(ValidationEngine.java:287)
        at org.hl7.fhir.r4.validation.Validator.main(Validator.java:347)
Caused by: java.lang.IllegalArgumentException: Unknown FHIRVersion code &#39;3.2.0&#39;
        at org.hl7.fhir.r4.model.Enumerations$FHIRVersionEnumFactory.fromCode(Enumerations.java:10202)
        at org.hl7.fhir.r4.model.Enumerations$FHIRVersionEnumFactory.fromCode(Enumerations.java:1)
        at org.hl7.fhir.r4.formats.JsonParser.parseEnumeration(JsonParser.java:104)
        at org.hl7.fhir.r4.formats.JsonParser.parseStructureDefinitionProperties(JsonParser.java:23559)
        at org.hl7.fhir.r4.formats.JsonParser.parseStructureDefinition(JsonParser.java:23478)
        at org.hl7.fhir.r4.formats.JsonParser.parseResource(JsonParser.java:27655)
        at org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:92)
        at org.hl7.fhir.r4.context.SimpleWorkerContext.loadFromFileJson(SimpleWorkerContext.java:257)
        at org.hl7.fhir.r4.context.SimpleWorkerContext.loadDefinitionItem(SimpleWorkerContext.java:206)
        at org.hl7.fhir.r4.context.SimpleWorkerContext.fromDefinitions(SimpleWorkerContext.java:194)
</pre></div>


<p>Is it possible to get definition files for <code>3.0.2</code> if <code>3.2.0</code> is not supported?</p>



<a name="180902203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180902203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180902203">(Nov 16 2019 at 07:56)</a>:</h4>
<p><code>-version</code> specifies the FHIR spec version.  There is no FHIR 3.2.0, only 3.0.0, 3.0.1, and 3.0.2 in the 3.x series<br>
So, 3.0.2 is the correct latest version to use.<br>
Out of interest, are you able to use 3.0.1?</p>



<a name="180916179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/180916179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#180916179">(Nov 16 2019 at 15:25)</a>:</h4>
<p>the validator supports stated versions 3.0, 3.0.0, 3.0.1, and 3.0.2. It all works for me. 3.2.0 won't work.</p>



<a name="181164448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/181164448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> sreenivasagopalan ananthakrishna <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#181164448">(Nov 19 2019 at 23:14)</a>:</h4>
<blockquote>
<p>the validator supports stated versions 3.0, 3.0.0, 3.0.1, and 3.0.2. It all works for me. 3.2.0 won't work.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191343">@Michael Lawley</span>  thanks for the reply!  can you please provide the exact command and definition file link for version <code>3.0.2</code>. It doesn't seem to work for me as the definition files are not getting fetched.  Here is what I have in the cache folder:</p>
<div class="codehilite"><pre><span></span>$ ls ~/.fhir/packages/hl7.fhir.core#3.0.2/package/
package.json
</pre></div>



<a name="181179685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/FHIR%20Validation%20Tool/near/181179685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/FHIR.20Validation.20Tool.html#181179685">(Nov 20 2019 at 04:48)</a>:</h4>
<p>the package hl7.fhir.core#3.0.2 is empty - it just expresses dependency on the other packages for R3. But this should not be a factor for you. All of the ways of invoking the validator documented here <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator" target="_blank" title="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a> work for me. If they don't for you, post your parameters, and the output from the validator</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
