---
layout: page
title: "FHIR Chat  · Serialising Narrative xhtml · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Serialising.20Narrative.20xhtml.html">Serialising Narrative xhtml</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153922948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Serialising%20Narrative%20xhtml/near/153922948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Murphy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Serialising.20Narrative.20xhtml.html#153922948">(Dec 05 2017 at 13:19)</a>:</h4>
<p>We appear to have come across a discrepancy in behaviour in some library code that is not resolved by the STU3 FHIR documentation. Specifically, the Narrative element in a Composition resource has Narrative.div which is declared to be XHTML This is intended for display and is carried as XHTML irrespective of whether the Composition is serialised as JSON or as XML. But the examples show the XML serialisation carrying an XHTML namespace binding, but the JSON not doing so.</p>
<p>We've see examples of both depending on which library has been used for serialisation, and which version (DSTU2 or STU3) it originally came from.</p>
<p>I'm inclined to favour that the XHTML namespace declaration be included, since it is part of the formal definition of what you get out of Narrative.div when it is no longer (necessarily) able to benefit from the definition FHIR gives it. </p>
<p>Is there a specification of what this behaviour should be and, if not, can there be ? (Composition is maturity level 2 so presumably there is room for improvement).</p>



<a name="153923033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Serialising%20Narrative%20xhtml/near/153923033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Serialising.20Narrative.20xhtml.html#153923033">(Dec 05 2017 at 18:59)</a>:</h4>
<p>it should have a namespace declaration in json. where have you found examples that don't?</p>



<a name="153923067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Serialising%20Narrative%20xhtml/near/153923067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Murphy <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Serialising.20Narrative.20xhtml.html#153923067">(Dec 05 2017 at 22:03)</a>:</h4>
<p>Here: <a href="http://hl7.org/implement/standards/fhir/narrative.html#xhtml" target="_blank" title="http://hl7.org/implement/standards/fhir/narrative.html#xhtml">http://hl7.org/implement/standards/fhir/narrative.html#xhtml</a> though it just says "text" without being specific. One of my team reported its being produced without a namespace declaration, and I'll find out what he was using.</p>



<a name="153923251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Serialising%20Narrative%20xhtml/near/153923251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Serialising.20Narrative.20xhtml.html#153923251">(Dec 06 2017 at 20:29)</a>:</h4>
<p>ah yes, so it does. It's making another point, but misses the namespace. I'll fix that</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
