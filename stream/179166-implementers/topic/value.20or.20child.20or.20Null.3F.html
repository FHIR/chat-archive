---
layout: page
title: "FHIR Chat  · value or child or Null? · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html">value or child or Null?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153970453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value%20or%20child%20or%20Null%3F/near/153970453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html#153970453">(Jun 19 2018 at 12:43)</a>:</h4>
<p>We have V3 input that we create FHIR output for. Sometimes this input has NullFlavors present with an explanation of why the value is not present. If I don't have data, but I know why, I'd like to state that.</p>
<p>In FHIR an element SHALL have a @value or a child element and the .Net validator errors on a construct like this.</p>
<p>&lt;route&gt;<br>
    &lt;extension url="<a href="http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor" target="_blank" title="http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor">http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor</a>"&gt;<br>
        &lt;valueCode="NAV"/&gt;<br>
    &lt;/extension&gt;<br>
&lt;/route&gt;</p>
<p>The official invariant in FHIR will not bark, because extension is a child element, but the .Net validator will.</p>
<p>ele-1: All FHIR elements must have a @value or children (expression : hasValue() | (children().count() &gt; id.count()))</p>
<p>Who is right? <span class="user-mention" data-user-id="191328">@Ewout Kramer</span>, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>?</p>



<a name="153970469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value%20or%20child%20or%20Null%3F/near/153970469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html#153970469">(Jun 19 2018 at 12:54)</a>:</h4>
<p>Including an extension means "route" has a child.  And that child has a value.  So the invariant is satisfied.  If the .Net validator complains, it's in error.</p>



<a name="153970495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value%20or%20child%20or%20Null%3F/near/153970495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html#153970495">(Jun 19 2018 at 13:43)</a>:</h4>
<p>yes. .net validator is wrong. but I think the problem is deeper than that around an edge case issue in FHIRPath that is clarified in the forth coming FHIRPath spec</p>



<a name="153970511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value%20or%20child%20or%20Null%3F/near/153970511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html#153970511">(Jun 19 2018 at 13:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> does that mean that R4 will raise an error with that change implemented, or will the current status quo remain in place (@value or child, regardless what type)</p>



<a name="153970583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value%20or%20child%20or%20Null%3F/near/153970583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html#153970583">(Jun 19 2018 at 17:46)</a>:</h4>
<p>umm i'm not sure</p>



<a name="153972794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value%20or%20child%20or%20Null%3F/near/153972794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html#153972794">(Jul 02 2018 at 10:00)</a>:</h4>
<p>The only reason the .NET validator would draw wrong conclusions here is if the FHIRPath statement is incorrect - at least as far as I can see in the code. Now, there have been some problems with ele-1 since the publication of STU3.  </p>
<p>I have heard that we have released some tools with an older version (pre-technical update) of STU3, which had an incorrect FHIRPath statement for ele-1. Also, the current one still is incorrect (it uses a | where it really means or).  <span class="user-mention" data-user-id="191375">@Alexander Henket</span>: if you could give me more details about when this exactly occurs, I can probably determine the cause.</p>



<a name="153972800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value%20or%20child%20or%20Null%3F/near/153972800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html#153972800">(Jul 02 2018 at 10:12)</a>:</h4>
<p>This is Simplifier validation. JIRA SD-138. <span class="user-mention" data-user-id="191437">@Arianne van de Wetering</span> Do you have a full example for Ewout</p>



<a name="153972864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/value%20or%20child%20or%20Null%3F/near/153972864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arianne van de Wetering <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/value.20or.20child.20or.20Null.3F.html#153972864">(Jul 02 2018 at 13:48)</a>:</h4>
<blockquote>
<p>This is Simplifier validation. JIRA SD-138. <span class="user-mention" data-user-id="191437">@Arianne van de Wetering</span> Do you have a full example for Ewout</p>
</blockquote>
<p>Done, in a private message to Ewout<br>
<span class="emoji emoji-1f609" title="wink">:wink:</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
