---
layout: page
title: "FHIR Chat  · _include · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html">_include</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153843742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153843742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153843742">(Aug 12 2016 at 17:10)</a>:</h4>
<p>During the Argonaut Provider directory connectathon we had a question about use of the _include paramater. We want to support a search for Practitioner with _include on endpoint. Does Endpoint need to be a search paramaeter on Practitioner to support _include?</p>



<a name="153843743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153843743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153843743">(Aug 12 2016 at 17:11)</a>:</h4>
<p><a href="http://hl7-fhir.github.io/search.html#include" target="_blank" title="http://hl7-fhir.github.io/search.html#include">http://hl7-fhir.github.io/search.html#include</a></p>



<a name="153843744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153843744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153843744">(Aug 12 2016 at 17:11)</a>:</h4>
<p>"Parameter values for both _include and _revinclude have three parts, separated by a : character:</p>
<p>1. The name of the source resource from which the join comes<br>
2. The name of the search parameter which must be of type reference<br>
3. (Optional) A specific of type of target resource (for when the search parameter refers to multiple possible target types"</p>



<a name="153843745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153843745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153843745">(Aug 12 2016 at 17:18)</a>:</h4>
<p>Yes: the <code>_include</code> mechanism relies on search parameter definitions. So the fix here would be adding an "endpoint" search parameter to Practitioner. I'll comment that this feels a bit odd, though.</p>



<a name="153843859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153843859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153843859">(Aug 12 2016 at 21:21)</a>:</h4>
<p>which bit feels odd? </p>



<a name="153843874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153843874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153843874">(Aug 13 2016 at 00:31)</a>:</h4>
<p>Requiring a search parameter on the source reference field to be able to perform an include.<br>
Which means that if a resource reference property on a resource doesn't have a search parameter, then you can't do the _include.</p>



<a name="153843875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153843875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153843875">(Aug 13 2016 at 00:31)</a>:</h4>
<p>So should we have a build warning to say that all references should have a search parameter so that _include can be used.</p>



<a name="153914577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153914577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Spencer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153914577">(Oct 18 2017 at 07:51)</a>:</h4>
<p>Does a query like <code>Observation?_include=Observation:based-on:CarePlan&amp;_include=CarePlan:context:EpisodeOfCare</code> mean to do a chained include of first CarePlan and then EpisodeOfCare?  And if so what does it mean if a resource type appears in multiple includes, is there a tree of all possible combinations?</p>



<a name="153914820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153914820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153914820">(Oct 19 2017 at 08:11)</a>:</h4>
<p>Yes, you'll get the combination of all includes - that at least is what I think we designed in the spec.  Which does not mean all current servers implement it that way, so it's interesting to see what some of the developers say.  <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> , <span class="user-mention" data-user-id="191319">@James Agnew</span> , <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="153915029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153915029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153915029">(Oct 20 2017 at 09:09)</a>:</h4>
<p>Every _include will start at the resourcetype the query is on (Observation in this case). If you try this on <a href="http://vonk.furore.com" target="_blank" title="http://vonk.furore.com">vonk.furore.com</a>, it will tell you about the second _include: "ResourceType 'CarePlan' is not one of the ResourceTypes in scope of the search."</p>



<a name="153915245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153915245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153915245">(Oct 22 2017 at 20:22)</a>:</h4>
<p>I think it should</p>



<a name="153915948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153915948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153915948">(Oct 25 2017 at 10:38)</a>:</h4>
<p>(deleted)</p>



<a name="153916784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153916784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153916784">(Oct 30 2017 at 15:58)</a>:</h4>
<p>So, is this unclear in the spec? does the :recurse modifier change that behaviour?</p>



<a name="153916794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153916794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Spencer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153916794">(Oct 30 2017 at 17:20)</a>:</h4>
<p>:recurse is unclear to me, it seems to do different things in the two examples given</p>



<a name="153916831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153916831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153916831">(Oct 30 2017 at 20:23)</a>:</h4>
<blockquote>
<p>:recurse is unclear to me, it seems to do different things in the two examples given</p>
</blockquote>
<p>Hi <span class="user-mention" data-user-id="193659">@Ben Spencer</span>, we've discussed this question in the context of tracker item <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13602&amp;start=0" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13602&amp;start=0">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13602&amp;start=0</a>.</p>
<p>We've agreed there that the text is unclear:</p>
<ul>
<li>the term "recurse" is maybe not appropriate, since you're not necessary "recursively" including resources (your algorithm doing the include on the server might be recursive, but might also be iterative)</li>
<li>It's unclear that the real difference is whether :recurse works on matches and/or works on resources included by the other _includes.</li>
</ul>
<p>So, we're going to fix this description quite a bit....</p>



<a name="153928189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153928189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153928189">(Jan 10 2018 at 01:26)</a>:</h4>
<p>Hi everyone!<br>
My team is working on provide data according to FHIR specification and now we are working on the  _include option for search. Does anybody has an example of the JSON for PractitionerRole using  _include of Organization vs PractitionerRole without using  _include of Organization? we are struggling to find a proper example. It could be the required example or any other example you may have</p>



<a name="153928212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153928212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153928212">(Jan 10 2018 at 07:02)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="195071">@Adrian</span> : Simply try it on the public test servers, e.g. <a href="http://vonk.furore.com/PractitionerRole?_include=PractitionerRole:organization" target="_blank" title="http://vonk.furore.com/PractitionerRole?_include=PractitionerRole:organization">vonk.furore.com/PractitionerRole?_include=PractitionerRole:organization</a><br>
(sidenote: we made an error in the Bundle.entry.search.mode for the included Organizations, it should be 'include' instead of 'match' - we'll fix that soon)</p>



<a name="153928341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153928341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153928341">(Jan 10 2018 at 21:36)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> for your answer</p>



<a name="153928363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153928363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adrian <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153928363">(Jan 11 2018 at 00:41)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> I am checking which would be the proper way of presenting multiple results for the _include option, so have a couple of questions (since the example that I check on your server is just one element):<br>
1. All searches/includes should be together in a block or alternating individual search and includes. e.g. PR1, PR2, PR3, P1, P2, P3 or PR1, P1, PR2, P2, PR3, P3?<br>
2. Does the list of searches have to be ordered? e.g. best match is first, second best match is second in the list, etc? If we include a search.score does that mean we could put the results in any order and leave it up to the client to reorder the list based on search.score?<br>
Thank you and regards<br>
Adrian</p>



<a name="153928421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153928421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153928421">(Jan 11 2018 at 13:15)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="195071">@Adrian</span> The order of matches is only defined by the _sort parameter, if present. As <a href="http://www.hl7.org/implement/standards/fhir/bundle-definitions.html#Bundle.entry.search.score" target="_blank" title="http://www.hl7.org/implement/standards/fhir/bundle-definitions.html#Bundle.entry.search.score">Bundle.entry.search.score</a> states: "Often, search results are sorted by score, but the client may specify a different sort order." <br>
Putting all the include results at the end or interleaved with the matches is not defined. Some includes may belong to more than one match though, so putting them all at the end is convenient.<br>
And note that every page of matches should contain all related includes (at the end of the <a href="http://www.hl7.org/implement/standards/fhir/search.html#revinclude" target="_blank" title="http://www.hl7.org/implement/standards/fhir/search.html#revinclude">_include paragraph</a>).</p>



<a name="153973808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153973808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Danielle Friend <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153973808">(Jul 05 2018 at 16:32)</a>:</h4>
<p>Question regarding _include - could someone elaborate on the requirement that the element to be included must be a search parameter and not just any element in the response? <br>
From a server's perspective, it seems burdensome to have to define a link between search parameter and response element.</p>



<a name="153973814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153973814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153973814">(Jul 05 2018 at 16:50)</a>:</h4>
<p>I think it's driven by the need to only join on stuff that's indexed.  If there's a search parameter for it, it can be indexed.  If not, it won't be.</p>



<a name="153973866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153973866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153973866">(Jul 05 2018 at 19:12)</a>:</h4>
<p>feedback was that it was burdensome to have to link search semantics to specific elements in the resource when search and joins were based on indexed parameters</p>



<a name="153974656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/153974656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#153974656">(Jul 11 2018 at 14:30)</a>:</h4>
<p>Agree with <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> . Although our implementation has moved in a way that it would not really matter anymore.<br>
Still it would feel inconsistent that you can _include things that you cannot use for chaining.</p>



<a name="194818085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/194818085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ken Sinn <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#194818085">(Apr 21 2020 at 15:21)</a>:</h4>
<p>What's the expected behaviour for "included" Search Bundle entries, with regard to entry.search.score? The example <a href="https://www.hl7.org/fhir/bundle-example.json.html" title="https://www.hl7.org/fhir/bundle-example.json.html">https://www.hl7.org/fhir/bundle-example.json.html</a> seems to omit entry.search.score when entry.search.mode="include", but the definition at <a href="https://www.hl7.org/fhir/bundle-definitions.html#Bundle.entry.search.score" title="https://www.hl7.org/fhir/bundle-definitions.html#Bundle.entry.search.score">https://www.hl7.org/fhir/bundle-definitions.html#Bundle.entry.search.score</a> isn't explicit.</p>



<a name="194818868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/194818868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#194818868">(Apr 21 2020 at 15:26)</a>:</h4>
<p>In principle, it would be up to the operation you hit that returns scored results.  However, in general, I would not expect score to be present on included resources.  They're not part of the 'search' determination - they're resources that happen to be related to the matching resources</p>



<a name="194819058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/194819058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#194819058">(Apr 21 2020 at 15:27)</a>:</h4>
<p>I don't see any useful information that could be conveyed by score for included entries, so perhaps it should be made explicit.</p>



<a name="194819551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/194819551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#194819551">(Apr 21 2020 at 15:30)</a>:</h4>
<p>Feel free to submit a change request :)</p>



<a name="227798574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/227798574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeremy Smelski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#227798574">(Feb 25 2021 at 16:49)</a>:</h4>
<p>Hi all, I have come across a new issue I want help finding documentation to support my position or help understanding why my vendors may be correct if it is. Here is an example query for a test patient that is being sent by the requesting party:</p>
<p>https://{baseURL}/fhir/4_0_0/MedicationRequest?patient=5fb4094f0929&amp;_include=MedicationRequest:medication</p>
<p>The issue here is the response I get is not including the medication, and my server has decided in many cases to implement in such a way that I need to include in a case like this 'medicationReference:' before medication the _include syntax? The structure of the actual reference.</p>
<p>So, I need this: https://{baseURL}/fhir/4_0_0/MedicationRequest?patient=5fb4094f0929&amp;_include=MedicationRequest:medicationReference:medication</p>
<p>Here is the reference structure from the response:</p>
<div class="codehilite"><pre><span></span><code>&quot;status&quot; : &quot;inactive&quot;,
&quot;intent&quot; : &quot;order&quot;,
&quot;medicationReference&quot; : {
  &quot;reference&quot; : &quot;Medication/6019cc948bfdd855c9d4b474&quot;,
  &quot;display&quot; : &quot;loratadine 5 mg chewable tablet&quot;
</code></pre></div>

<p>Is this correct? Or should the syntax being sent be acceptable? And in which cases should the middle value be required versus optional?</p>
<p>I see a similar issue with patient requiring me to have subject in the middle as well. However, this does not align with most implementations I have seen to date and not something I can find strong documentation on. I was able to find this here: <a href="https://www.hl7.org/fhir/search.html#include">https://www.hl7.org/fhir/search.html#include</a> which says the following:</p>
<p>Parameter values for both _include and _revinclude have three parts, separated by a : character:</p>
<p>The name of the source resource from which the join comes<br>
The name of the search parameter which must be of type reference<br>
(Optional) A specific of type of target resource (for when the search parameter refers to multiple possible target types)</p>
<p>Is the example above a good situation where all three values are needed? How about this type of reference structure, should this require all three values to get my patient to include?</p>
<p>"subject" : {<br>
"reference" : "Patient/5fb4094f0929",<br>
"display" : "Clinton763 Crona259"</p>



<a name="227829653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/227829653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#227829653">(Feb 25 2021 at 20:04)</a>:</h4>
<p>The syntax being sent is the correct one. The syntax your server expects is absolutely not correct.<br>
As you see in the three parts, the second parameter is "The name of the <strong>search parameter</strong> which must be of type reference". The server seems to expect a field name instead. There is no search parameter on MedicationRequest that is called 'medicationReference'.</p>



<a name="227830344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/227830344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#227830344">(Feb 25 2021 at 20:09)</a>:</h4>
<p>Since <span class="user-mention" data-user-id="380712">@Jeremy Smelski</span> and I have previously discussed this, if anyone else can give this some weight, that might help his arguments get across to the vendor.</p>



<a name="227832483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/227832483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#227832483">(Feb 25 2021 at 20:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191347">Mirjam Baltus</span> <a href="#narrow/stream/179166-implementers/topic/_include/near/227829653">said</a>:</p>
<blockquote>
<p>The syntax being sent is the correct one. The syntax your server expects is absolutely not correct.<br>
As you see in the three parts, the second parameter is "The name of the <strong>search parameter</strong> which must be of type reference". The server seems to expect a field name instead. There is no search parameter on MedicationRequest that is called 'medicationReference'.</p>
</blockquote>
<p>What Mirjam said :). MedicationRequest:medicationReference:medication would says include all resources that can be found by following the reference located at the search parameter MedicationRequest:medicationReference and only return me instances that are of the Medication resource.<br>
a) there is no search parameter medicationReference, so that just doesn't make any sense.<br>
b) since the search parameter medication only returns Medication instances, you don't need the optional parameter.  So it needs to be as you sent it: _include=MedicationRequest:medication</p>
<p>Point them to the example in the spec (<a href="http://hl7.org/fhir/search.html#revinclude">http://hl7.org/fhir/search.html#revinclude</a>)<br>
GET [base]/MedicationRequest?_include=MedicationRequest:patient</p>
<p>That is explicitly using the patient search parameter.</p>



<a name="227835133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/227835133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeremy Smelski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#227835133">(Feb 25 2021 at 20:41)</a>:</h4>
<p>Thanks for the reply and weighing in with such a detailed explanation. <span class="user-mention" data-user-id="192166">@Jean Duteau</span></p>



<a name="227835486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/227835486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#227835486">(Feb 25 2021 at 20:43)</a>:</h4>
<p>US Core IG requires this query parameter if you reference Medication resources from within MedicationRequest, see examples here: <a href="https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-medicationrequest.html#mandatory-search-parameters">https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-medicationrequest.html#mandatory-search-parameters</a>. Your vendor's implementation would fail certification to <a href="https://www.healthit.gov/test-method/standardized-api-patient-and-population-services">ONC's Standardized API criteria</a>.  I don't know if they would care about that or not, but it may add more weight to your argument that their implementation is not correct.</p>



<a name="227848028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/_include/near/227848028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeremy Smelski <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/_include.html#227848028">(Feb 25 2021 at 22:11)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="192576">@Robert Scanlon</span>  for the helpful link and support. Much appreciated.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
