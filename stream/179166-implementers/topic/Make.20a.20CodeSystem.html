---
layout: page
title: "FHIR Chat  · Make a CodeSystem · implementers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/index.html">implementers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html">Make a CodeSystem</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153997599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997599">(Sep 18 2018 at 13:34)</a>:</h4>
<p>I need to make a CodeSystem for a PHD IG. I am not sure exactly how to do it and how I should reference it in profiled resources. I suppose the latter depends upon where it will be located.</p>
<p>In any case I have started a CodeSystem structure definition for medical device BITs measurements. I would like to ask any experts whether my structure definition seems correct.  The Code System contains a code which represents a binary value (set or cleared). The code is either an event or a state. A defined event only occurs when the item is set.</p>
<p>If the Structure definition below looks good, then I know I can start the tedious chore of adding about 100 more concepts. When that is all done, I need to figure out how to reference it from a ValueSet, a coding.system element, and a Binding.</p>
<div class="codehilite"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

&lt;CodeSystem xmlns=&quot;http://hl7.org/fhir&quot;&gt;
  &lt;id value=&quot;example&quot;/&gt;
  &lt;meta&gt;
    &lt;profile value=&quot;http://hl7.org/fhir/StructureDefinition/shareablecodesystem&quot;/&gt;
  &lt;/meta&gt;
  &lt;text&gt;
  &lt;/text&gt;

  &lt;version value=&quot;20160128&quot;/&gt;

  &lt;name value=&quot;ASN1ToHL7&quot;/&gt;
  &lt;status value=&quot;draft&quot;/&gt;
  &lt;experimental value=&quot;true&quot;/&gt;
  &lt;date value=&quot;2018-09-18&quot;/&gt;
  &lt;publisher value=&quot;Health Level Seven International (Health Care Devices Work Group)&quot;/&gt;

  &lt;description value=&quot;Maps IEEE 11073 ASN1 BITS measurements to codes. All these codes have two possible values, set or cleared. The code may either represent an event or a state. When an event, the defined event has occured when set. If a state, the described item is either set or cleared. Sometimes the states may be defined in unexpected manners. For example, the regulation state when set is unregulated and when cleared it is regulated. In addition the code may derive from an IEEE 11073 attribute or from a measurement.&quot;/&gt;

  &lt;!-- The codes are strings but consist of only digits and a decimal point.
  They do not represent decimal numbers --&gt;
  &lt;caseSensitive value=&quot;true&quot;/&gt;
  &lt;content value=&quot;complete&quot;/&gt;

  &lt;!-- The following code concepts are derived from the MDC_ATTR_POWER_STAT MDS attribute --&gt;
  &lt;concept&gt;
    &lt;code value=&quot;67925.0&quot;/&gt;
    &lt;display value=&quot;Mains power state&quot;/&gt;
    &lt;definition value=&quot;Indicates whether the PHD is on or off mains power&quot;/&gt;
    &lt;property&gt;
      &lt;code value=&quot;parent&quot; /&gt;
      &lt;valueString value=&quot;state&quot; /&gt;
    &lt;/property&gt;
    &lt;property&gt;
      &lt;code value=&quot;parent&quot; /&gt;
      &lt;valueString value=&quot;attribute&quot; /&gt;
    &lt;/property&gt;
  &lt;/concept&gt;
&lt;/CodeSystem&gt;
</pre></div>


<p>I thank the experts for any guidance here!</p>



<a name="153997615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997615">(Sep 18 2018 at 14:53)</a>:</h4>
<p>What you're creating here isn't a StructureDefinition, it's just a CodeSystem.  If it's for production use, don't mark it as experimental.  What's the purpose of the "parent" property?</p>



<a name="153997753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997753">(Sep 18 2018 at 19:54)</a>:</h4>
<blockquote>
<p>What you're creating here isn't a StructureDefinition, it's just a CodeSystem.  If it's for production use, don't mark it as experimental.  What's the purpose of the "parent" property?</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I am not sure. I could not understand what was meant by that code in the docs.  The only example I found which had a property element in it used 'parent'. I assumed it meant it was a property of the code  being defined in the &lt;concept&gt; element. All I am trying to do is to state whether the code represents an item that is an event or a state. It would seem that it would be some type of property. The property.code is required so I had to put something in there. It was a best-guess attempt. Its actually a very simple code system.</p>



<a name="153997756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997756">(Sep 18 2018 at 19:56)</a>:</h4>
<p>Normally subsumption is shown by the code system hierarchy.  property.code is required but property isn't - why are you adding properties at all?</p>



<a name="153997758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997758">(Sep 18 2018 at 19:56)</a>:</h4>
<blockquote>
<p>Normally subsumption is shown by the code system hierarchy.  property.code is required but property isn't - why are you adding properties at all?</p>
</blockquote>
<p>I am trying to specify if the code represents an event or a state</p>
<p>Do I make a CodeSystem.property defining a 'state' and one defining an 'event' and reference that from the concept?</p>



<a name="153997768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997768">(Sep 18 2018 at 20:09)</a>:</h4>
<p>one property for type, and use values 'state' and 'event'</p>



<a name="153997795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997795">(Sep 18 2018 at 20:50)</a>:</h4>
<blockquote>
<p>one property for type, and use values 'state' and 'event'</p>
</blockquote>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I am quite confused. Is this the correct track?</p>
<p>Set of properties that describe something about the code:</p>
<div class="codehilite"><pre><span></span> &lt;property&gt;
      &lt;code value=&quot;event&quot; /&gt;
      &lt;description value=&quot;Indicates that the code represents an event&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;
  &lt;property&gt;
      &lt;code value=&quot;state&quot; /&gt;
      &lt;description value=&quot;Indicates that the code represents a state&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;
  &lt;property&gt;
      &lt;code value=&quot;measurement&quot; /&gt;
      &lt;description value=&quot;Indicates that the code is a measurement&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;
  &lt;property&gt;
      &lt;code value=&quot;attribute&quot; /&gt;
      &lt;description value=&quot;Indicates that the code comes from a 11073 attribute that further describes something about the device or a measurement&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt; &lt;property&gt;
      &lt;code value=&quot;event&quot; /&gt;
      &lt;description value=&quot;Indicates that the code represents an event&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;
  &lt;property&gt;
      &lt;code value=&quot;state&quot; /&gt;
      &lt;description value=&quot;Indicates that the code represents a state&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;
  &lt;property&gt;
      &lt;code value=&quot;measurement&quot; /&gt;
      &lt;description value=&quot;Indicates that the code is a measurement&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;
  &lt;property&gt;
      &lt;code value=&quot;attribute&quot; /&gt;
      &lt;description value=&quot;Indicates that the code comes from a 11073 attribute that further describes something about the device or a measurement&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;
</pre></div>


<p>Now how would I reference these properties in my code definitions?</p>
<div class="codehilite"><pre><span></span>  &lt;concept&gt;
    &lt;code value=&quot;67925.0&quot;/&gt;
    &lt;display value=&quot;Mains power state&quot;/&gt;
    &lt;definition value=&quot;Indicates whether the PHD is on or off mains power&quot;/&gt;
    &lt;property&gt;
      &lt;code value=&quot;state?&quot; /&gt;
      &lt;valueString value=&quot;?&quot; /&gt; &lt;!-- What goes here? --&gt;
    &lt;/property&gt;
    &lt;property&gt;
      &lt;code value=&quot;attribute?&quot; /&gt;
      &lt;valueString value=&quot;?&quot; /&gt;
    &lt;/property&gt;
  &lt;/concept&gt;
</pre></div>



<a name="153997798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997798">(Sep 18 2018 at 20:54)</a>:</h4>
<p>on the code system:</p>
<div class="codehilite"><pre><span></span> &lt;property&gt;
  &lt;code value=&quot;type&quot;/&gt;
  &lt;description value=&quot;Indicates that type of thing the code represents: event, measurement, or state&quot; /&gt;
  &lt;type value=&quot;code&quot;/&gt;
&lt;/property&gt;
</pre></div>



<a name="153997799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997799">(Sep 18 2018 at 20:54)</a>:</h4>
<p>and then on a concept:</p>



<a name="153997800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997800">(Sep 18 2018 at 20:55)</a>:</h4>
<div class="codehilite"><pre><span></span> <span class="nt">&lt;concept&gt;</span>
    <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;67925.0&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;display</span> <span class="na">value=</span><span class="s">&quot;Mains power state&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;definition</span> <span class="na">value=</span><span class="s">&quot;Indicates whether the PHD is on or off mains power&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;property&gt;</span>
      <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;type&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;state&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/property&gt;</span>
  <span class="nt">&lt;/concept&gt;</span>
</pre></div>



<a name="153997802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179166-implementers/topic/Make%20a%20CodeSystem/near/153997802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179166-implementers/topic/Make.20a.20CodeSystem.html#153997802">(Sep 18 2018 at 20:55)</a>:</h4>
<p>THANKS!  So now I go with this</p>
<div class="codehilite"><pre><span></span>  &lt;!-- These properties indicate the type and source of the code --&gt;
  &lt;property&gt;
      &lt;code value=&quot;type&quot; /&gt;
      &lt;description value=&quot;Indicates that the code type is an event or state&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;
  &lt;property&gt;
      &lt;code value=&quot;source&quot; /&gt;
      &lt;description value=&quot;Indicates that the code originates from a measurement or an attribute that further describes a measurement or the sensor device.&quot; /&gt;
      &lt;type value=&quot;code&quot; /&gt;
  &lt;/property&gt;

  &lt;!-- The following code concepts are derived from the MDC_ATTR_POWER_STAT MDS attribute --&gt;
  &lt;concept&gt;
    &lt;code value=&quot;67925.0&quot;/&gt;
    &lt;display value=&quot;Mains power state&quot;/&gt;
    &lt;definition value=&quot;Indicates whether the PHD is on or off mains power&quot;/&gt;
    &lt;property&gt;
      &lt;code value=&quot;type&quot; /&gt;
      &lt;valueString value=&quot;state&quot; /&gt;
    &lt;/property&gt;
    &lt;property&gt;
      &lt;code value=&quot;source&quot; /&gt;
      &lt;valueString value=&quot;attribute&quot; /&gt;
    &lt;/property&gt;
  &lt;/concept&gt;
</pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
