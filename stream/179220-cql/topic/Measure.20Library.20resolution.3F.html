---
layout: page
title: "FHIR Chat  · Measure Library resolution? · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Measure.20Library.20resolution.3F.html">Measure Library resolution?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="242669028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Measure%20Library%20resolution%3F/near/242669028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Measure.20Library.20resolution.3F.html#242669028">(Jun 14 2021 at 22:56)</a>:</h4>
<p>Can anyone explain the process for how Libraries referenced by a Measure are resolved? As far as I can tell, if a Measure references a library via URL of <a href="http://test.com/Library/someLibrary">http://test.com/Library/someLibrary</a>, it tries to resolve it by looking for a Library resource with an <code>id</code> of "someLibrary". Which would mean an assumption that the leaf portion of the URL is always the same as the ID of the library; and that doesn't seem quite right... Is my understanding correct? And how does that relate to a library that is referenced in the text/cql? Does it <em>load</em> the libraries that are referenced directly in the Measure and then expect that the Library is loaded with a matching version number when processing the text/cql?</p>



<a name="242681088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Measure%20Library%20resolution%3F/near/242681088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Measure.20Library.20resolution.3F.html#242681088">(Jun 15 2021 at 02:27)</a>:</h4>
<p>Library resolution has some legacy aspects as the code didn't always resolve correctly and some tooling and implementations still rely on the "by id" resolution. That should only be a fallback though. If the Measure.library element correctly specifies an existing library by url, that will be used to resolve. If the canonical reference doesn't have a version, the latest version of the library is used. See the default R4 implementation here: <a href="https://github.com/DBCG/cqf-ruler/blob/8bb2b2f35786c7a7aa786ff6b28e2822bfa5c169/r4/src/main/java/org/opencds/cqf/r4/providers/LibraryOperationsProvider.java#L400">https://github.com/DBCG/cqf-ruler/blob/8bb2b2f35786c7a7aa786ff6b28e2822bfa5c169/r4/src/main/java/org/opencds/cqf/r4/providers/LibraryOperationsProvider.java#L400</a></p>



<a name="242748244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Measure%20Library%20resolution%3F/near/242748244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Measure.20Library.20resolution.3F.html#242748244">(Jun 15 2021 at 15:09)</a>:</h4>
<p>Thanks Bryn!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
