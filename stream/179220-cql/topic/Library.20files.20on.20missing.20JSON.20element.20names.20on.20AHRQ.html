---
layout: page
title: "FHIR Chat  · Library files on missing JSON element names on AHRQ · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html">Library files on missing JSON element names on AHRQ</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245359454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245359454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245359454">(Jul 08 2021 at 19:25)</a>:</h4>
<p>Hi, I have a question about a number of files I've looked at a few different examples on Libraries on the AHRQ site and the files seem to be missing the element names. I'm trying to build PlanDefinitions from them. However the IG tooling says the files do not seem to be FHIR since they are missing all of the element names. Example files:  <a href="https://cds.ahrq.gov/cdsconnect/artifact/factors-consider-managing-chronic-pain-pain-management-summary">https://cds.ahrq.gov/cdsconnect/artifact/factors-consider-managing-chronic-pain-pain-management-summary</a></p>
<div class="codehilite"><pre><span></span><code>{
   &quot;library&quot; : {
      &quot;identifier&quot; : {
         &quot;id&quot; : &quot;FHIRHelpers&quot;,
         &quot;version&quot; : &quot;4.0.1&quot;
      },
      &quot;schemaIdentifier&quot; : {
         &quot;id&quot; : &quot;urn:hl7-org:elm&quot;,
         &quot;version&quot; : &quot;r1&quot;
      },
      &quot;usings&quot; : {
         &quot;def&quot; : [ {
            &quot;localIdentifier&quot; : &quot;System&quot;,
            &quot;uri&quot; : &quot;urn:hl7-org:elm-types:r1&quot;
         }, {
            &quot;localIdentifier&quot; : &quot;FHIR&quot;,
            &quot;uri&quot; : &quot;http://hl7.org/fhir&quot;,
</code></pre></div>
<p>E.g. in this example it should be   "resourceType": "Library",</p>
<p>Is there some kind of header file or something that adds the element names?<br>
<span class="user-mention" data-user-id="416084">@Paul Puscas</span> <span class="user-mention" data-user-id="400829">@Christa Wan</span></p>



<a name="245364939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245364939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245364939">(Jul 08 2021 at 20:07)</a>:</h4>
<p>Those are ELM libraries (i.e. executable files like a Java library or a C++ library) and not FHIR Resources. ELM libraries and typically embedded inside of FHIR Libraries when deployed to a FHIR server.</p>



<a name="245365309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245365309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245365309">(Jul 08 2021 at 20:10)</a>:</h4>
<p>Oh I see! So I'd have to generate the FHIR libraries separately</p>



<a name="245727998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245727998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245727998">(Jul 12 2021 at 18:35)</a>:</h4>
<p>Right. Many of the artifacts on CDS Connect publish only the CQL libraries (and not the FHIR Clinical Reasoning / CPG resources).  There are a few that also publish the PlanDefinition and such, but many do not.</p>



<a name="245836499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245836499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245836499">(Jul 13 2021 at 14:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> Are these PlanDefinitions automatically generated from the CQL? I see that the AUDIT Logic files include a PlanDefinition <a href="https://cds.ahrq.gov/cdsconnect/artifact/alcohol-screening-using-usaudit-alcohol-use-disorders-identification-test">https://cds.ahrq.gov/cdsconnect/artifact/alcohol-screening-using-usaudit-alcohol-use-disorders-identification-test</a> This makes it difficult to consistently implement these files if there is a different set of files that come down and we can't generate  the PlanDefinitions from the CQL ourselves</p>



<a name="245842008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245842008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245842008">(Jul 13 2021 at 15:26)</a>:</h4>
<p><span class="user-mention" data-user-id="192545">@Alex Goel</span> - I believe that particular artifact was developed by <span class="user-mention" data-user-id="195840">@David Winters</span> and his team on behalf of CDC. As CDS Connect is a repository containing artifacts from a variety of sources and authors, there <em>will</em> be variation in the content and structure of download packages.  Some may contain PlanDefinitions, others may not.  How those PlanDefinitions came to be (hand-authored, generated, some hybrid of those) may also vary.  I think the particular ones you are referring to were hand-authored, but <span class="user-mention" data-user-id="195840">@David Winters</span> should be able to confirm.</p>



<a name="245843938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245843938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245843938">(Jul 13 2021 at 15:41)</a>:</h4>
<p>Are there any efforts to standardize  what is uploaded or at least flag what has what kinds of resources? Everything just says "Logic File"</p>



<a name="245844755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245844755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245844755">(Jul 13 2021 at 15:46)</a>:</h4>
<p>Yep, <span class="user-mention" data-user-id="191469">@Chris Moesel</span> is correct that those PlanDefinitions are hand-crafted.  There really isn't much to them, aside from the metadata.  Basically a top-level action with include/exclusion criteria, with an action to present the Questionnaire.  Happy to answer questions you might have about those files.  Would also be interested to hear more about how you're using them.</p>



<a name="245852187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245852187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245852187">(Jul 13 2021 at 16:41)</a>:</h4>
<p><span class="user-mention" data-user-id="192545">@Alex Goel</span> -- CDS Connect is pretty open regarding what types of artifacts it allows (not just CQL), so we felt it was best to have a pretty light-handed approach to logic files and what could be uploaded. That said, we are open to ideas about how this can be improved, especially for consumers of the repository.  Perhaps if we understood your use case better we could consider additional approaches to better suit you.  Are you aiming to programatically consume resources from the repository?</p>



<a name="245858981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245858981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245858981">(Jul 13 2021 at 17:29)</a>:</h4>
<p>I think if there was at least a list of what Logic files were included in the zip that would be very helpful, as well as a search and sort features so that we could find the ones that contain PlanDefinitions for example or the ones which are just CQL </p>
<p>Ideally we'd like to programmatically consume the resources, but right now it's very manual</p>



<a name="245873277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245873277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245873277">(Jul 13 2021 at 19:14)</a>:</h4>
<p>OK.  Understood.  Being able to search for artifacts by the standards they use makes sense.  <span class="user-mention" data-user-id="224765">@Matt Coarr</span> / <span class="user-mention" data-user-id="194155">@Dylan Mahalingam</span> -- we should put this in the backlog (if it isn't already there).</p>



<a name="245874515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Library%20files%20on%20missing%20JSON%20element%20names%20on%20AHRQ/near/245874515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Library.20files.20on.20missing.20JSON.20element.20names.20on.20AHRQ.html#245874515">(Jul 13 2021 at 19:23)</a>:</h4>
<p>Amazing! Thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
