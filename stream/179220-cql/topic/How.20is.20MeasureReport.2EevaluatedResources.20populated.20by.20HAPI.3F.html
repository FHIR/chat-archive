---
layout: page
title: "FHIR Chat  · How is MeasureReport.evaluatedResources populated by HAPI? · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/How.20is.20MeasureReport.2EevaluatedResources.20populated.20by.20HAPI.3F.html">How is MeasureReport.evaluatedResources populated by HAPI?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="241580726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/How%20is%20MeasureReport.evaluatedResources%20populated%20by%20HAPI%3F/near/241580726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/How.20is.20MeasureReport.2EevaluatedResources.20populated.20by.20HAPI.3F.html#241580726">(Jun 04 2021 at 19:13)</a>:</h4>
<p>Can anyone explain how evaluatedResources are populated based on the CQL logic? I'm seeing some weird stuff and am trying to figure things out.  For example, two different patient resources in the same report, but their encounters are in different years, and the CQL logic focuses on encounters within a specific period...</p>



<a name="241591142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/How%20is%20MeasureReport.evaluatedResources%20populated%20by%20HAPI%3F/near/241591142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/How.20is.20MeasureReport.2EevaluatedResources.20populated.20by.20HAPI.3F.html#241591142">(Jun 04 2021 at 20:48)</a>:</h4>
<p>The embedded CQL engine basically keeps track of the things it "looked at" while it's running through the logic, and then hands them up to HAPI to add as part of the <code>MeasureReport</code>. There isn't a 1-to-1 correspondence between what the engine "looks at" and what's in the CQL. For example, if the CQL says "filter encounters to Date range" and the engine has to load 1000 encounters in order to inspect the dates on them, it reports them all as evaluated. Similarly, if you have some CQL that's <code>Population</code> or <code>Unspecified</code> context and the the engine has to look at all the patients on your system to run the logic, it reports that it "looked at" them. Does that make sense?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
