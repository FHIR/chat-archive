---
layout: page
title: "FHIR Chat  · cql in atom for beginners · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html">cql in atom for beginners</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223876323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/223876323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#223876323">(Jan 25 2021 at 10:07)</a>:</h4>
<p>Hello guys. I would appreciate any help to understand how cql works in Atom. </p>
<ol>
<li>I have downloaded Atom and installed the language-cql package, Java 1.8 as required <a href="https://github.com/cqframework/atom_cql_support">here</a></li>
<li>Next, the documentation <a href="https://github.com/cqframework/atom_cql_support#using-the-cql-support-in-atom">says</a> that I need to open any .cql file and have  the following directories:</li>
</ol>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>input/cql
input/tests
input/tests/&lt;cql-library-name&gt;
input/tests/&lt;cql-library-name&gt;/&lt;patient-id&gt;
input/tests/&lt;cql-library-name&gt;/&lt;patient-id&gt;/&lt;resource-type-name&gt;/&lt;resource files&gt;
input/vocabulary/codesystem
input/vocabulary/valueset
</code></pre></div>
<p>I am trying to understand how it works but I don't know where I can take the files from? resource files, codesystem, valueset and the .cql itself. </p>
<p>I am guessing I can get resource files form a <a href="http://hapi.fhir.org/">HAPI FHIR server</a>, but I need help on how to...</p>
<ol>
<li>Using [base]/Patient/[id]/$everything request ? but what if I have a 1 000 000 000 Patients ?</li>
<li>Or using <a href="https://github.com/smart-on-fhir/sample-apps-stu3/tree/master/fhir-downloader">fhir-downloader</a></li>
</ol>
<p>Is there a git repo starter or something to help?</p>



<a name="223949670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/223949670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#223949670">(Jan 25 2021 at 19:44)</a>:</h4>
<p>The Connectathon repository is the most up-to-date I think. Open the fhir401 folder as the root folder. You should then be able to execute an open CQL file with F5. There a sample resources that are already in the appropriate directory structure as well.</p>
<p><a href="https://github.com/DBCG/connectathon/tree/master/fhir401">https://github.com/DBCG/connectathon/tree/master/fhir401</a></p>



<a name="224518395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/224518395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#224518395">(Jan 29 2021 at 19:01)</a>:</h4>
<p>Hi folks. May I as what is the flexibility around the folder structure required for the Atom CQL runner? I see different examples of folder/file structures (I prefer the IG approach):</p>
<ul>
<li>/tests in cqframework/atom_cql_support: /tests/cql/&lt;FHIR Version&gt;</li>
<li>DBCG/connectathon: nests cql folder under page <code>/input/pagecontent</code> while resources are ../</li>
<li>framework/content-ig-walkthrough: as specified by the runner except that resource type folders are not used.</li>
<li>cqframework/CQL-Formatting-and-Usage-Wiki (Cooking with FHIR examples): Every resource in one folder.</li>
</ul>



<a name="224572526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/224572526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#224572526">(Jan 30 2021 at 08:14)</a>:</h4>
<p>I still can't figure out how it works.</p>



<a name="224594127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/224594127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#224594127">(Jan 30 2021 at 16:54)</a>:</h4>
<p>The Atom plugin supports a variety of folder setups because we have evolved the best-practice over time but tried to maintain backwards compatibility to avoid forcing changes on existing IGs. The current best-practice is consistent with the IG layout and is described in the Atom Plugin Repository readme here: <a href="https://github.com/cqframework/atom_cql_support/blob/master/README.md#using-the-cql-support-in-atom">https://github.com/cqframework/atom_cql_support/blob/master/README.md#using-the-cql-support-in-atom</a></p>



<a name="224594214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/224594214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#224594214">(Jan 30 2021 at 16:57)</a>:</h4>
<p>Specifically, the resources in each test case can be organized into folders for each resource type, or they can all be included in the same folder. We've also added support for providing the resources as bundles (including nested bundles). Basically, when evaluating, for each test case, the evaluator will attempt to load every .xml or .json file in the test case folder and any sub-folders, recursively. If the resource is a Bundle, the resources in the bundle are loaded, recursively.</p>



<a name="224594215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/224594215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#224594215">(Jan 30 2021 at 16:57)</a>:</h4>
<p>Hopefully that helps?</p>



<a name="224600136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/224600136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#224600136">(Jan 30 2021 at 19:11)</a>:</h4>
<p>Perfect, thanks. That helps a lot.</p>



<a name="225711883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/225711883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tien Thai <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#225711883">(Feb 09 2021 at 16:02)</a>:</h4>
<p>How would you generate the JSON files that go under the input/vocabulary/codesystem and input/vocabulary/valueset folders?  Thank you.<br>
TT</p>



<a name="225726376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/225726376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#225726376">(Feb 09 2021 at 17:32)</a>:</h4>
<p>Hi Tien,</p>
<p>The files that are under the <code>input/vocabulary</code> folders are standard FHIR ValueSet and CodeSystem resources and they can be XML or JSON. Depending on the source of your terminology you have several options for creating those files. Using a FHIR terminology server like Apelon you can simply download the FHIR resources from the server after you've authored them. If you're using ValueSets from VSAC the cqf-tooling has a operation that will convert the spreadsheets into ValueSets:</p>
<p><a href="https://github.com/cqframework/cqf-tooling/blob/master/src/main/java/org/opencds/cqf/tooling/Main.java#L32">https://github.com/cqframework/cqf-tooling/blob/master/src/main/java/org/opencds/cqf/tooling/Main.java#L32</a></p>
<p>If you're creating some simple terminology for test cases it's easiest to just hand-code the resources.  I've also had success using FSH and SUSHI. There are some examples you can use as a pattern to start with here:</p>
<p><a href="https://www.hl7.org/fhir/valueset-example.json.html">https://www.hl7.org/fhir/valueset-example.json.html</a></p>
<p>As well as more complete "real world" examples in the opioid-cds and connectathon IGs:</p>
<p><a href="https://github.com/cqframework/opioid-cds-r4/tree/master/input/vocabulary/valueset">https://github.com/cqframework/opioid-cds-r4/tree/master/input/vocabulary/valueset</a></p>
<p><a href="https://github.com/DBCG/connectathon/tree/master/fhir401/input/vocabulary/valueset">https://github.com/DBCG/connectathon/tree/master/fhir401/input/vocabulary/valueset</a></p>



<a name="225737864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/225737864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tien Thai <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#225737864">(Feb 09 2021 at 18:47)</a>:</h4>
<p>@JP, thanks so much for your helpful info.<br>
TT</p>



<a name="225753566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/225753566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tien Thai <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#225753566">(Feb 09 2021 at 20:37)</a>:</h4>
<p>hi JP,<br>
Are you familiar with the following error?  Thank you.</p>
<hr>
<p>Unknown lifecycle phase ".args=-VsacXlsxToValueSet -pts=ep_ec_eh_unique_vs_20190510.xlsx". You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy.</p>



<a name="225765996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/225765996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#225765996">(Feb 09 2021 at 22:14)</a>:</h4>
<p>Easiest thing to do is <code>mvn package</code>. You then have a jar you can execute:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>java -jar ./target/tooling-1.3.1-SNAPSHOT-jar-with-dependencies.jar -VsacXlsxToValueSet -pts<span class="o">=</span> ep_ec_eh_unique_vs_20190510.xlsx -op<span class="o">=</span>./valuesets -e<span class="o">=</span>json
</code></pre></div>



<a name="225766251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/225766251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#225766251">(Feb 09 2021 at 22:16)</a>:</h4>
<p>There's also a batch mode:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>java -jar ./target/tooling-1.3.1-SNAPSHOT-jar-with-dependencies.jar -VsacXlsxToValueSetBatch -ptsd<span class="o">=</span>./spreadsheets -burl<span class="o">=</span><span class="s2">"http://cts.nlm.nih.gov/fhir/ValueSet/"</span> -setname<span class="o">=</span><span class="nb">true</span>
</code></pre></div>



<a name="227091928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227091928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227091928">(Feb 20 2021 at 13:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="194178">JP</span> <a href="#narrow/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners/near/223949670">said</a>:</p>
<blockquote>
<p>The Connectathon repository is the most up-to-date I think. Open the fhir401 folder as the root folder. You should then be able to execute an open CQL file with F5. There a sample resources that are already in the appropriate directory structure as well.</p>
<p><a href="https://github.com/DBCG/connectathon/tree/master/fhir401">https://github.com/DBCG/connectathon/tree/master/fhir401</a></p>
</blockquote>
<p>Thanks! Finally I got it up and running. I just have executed  <code>fhir401/input/pagecontent/cql/EXM74-10.2.000.cql</code> file. <br>
Can I ask you if it possible to translate <code>EXM74-10.2.000.cql</code> to ELM within Atom and the cql package or any other ways?<br>
I have tried <a href="https://github.com/cqframework/cql-translation-service">cql-translation-service</a> but it gives me an error:<br>
<code>"Could not load source for library MATGlobalCommonFunctions, version 5.0.000."</code><br>
<a href="/user_uploads/10155/WuZrjdGQCRhLTYfzexQkWz8V/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/WuZrjdGQCRhLTYfzexQkWz8V/image.png" title="image.png"><img src="/user_uploads/10155/WuZrjdGQCRhLTYfzexQkWz8V/image.png"></a></div>



<a name="227092134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227092134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227092134">(Feb 20 2021 at 13:35)</a>:</h4>
<p>I am trying to repeat the experiment (EXM74-10.2.000.cql) with <code>cql-exec-fhir</code> and <code>cql-exec-vsac</code> libraries, at this point I got stuck on translating cql to elm.</p>



<a name="227104148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227104148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227104148">(Feb 20 2021 at 17:04)</a>:</h4>
<blockquote>
<p>Can I ask you if it possible to translate EXM74-10.2.000.cql to ELM within Atom and the cql package or any other ways?</p>
</blockquote>
<p>Yes, do can do a "default" (i.e. you can't set any special translator options) by right-clicking in an open CQL file and selecting CQL -&gt; View ELM. It's not meant for embedding into a Library resource or anything but it's a quick way to see what ELM would be generated.</p>
<p>The IG Publisher and the cqf-tooling both provide ways to embed ELM into a FHIR Library resource as part of an IG if that's your end goal.</p>
<p>I believe the cql-translation-service supports translating that file, but you have to do a "multi-part" request to upload all the required libraries from the <code>cql</code> directory:</p>
<p><a href="https://github.com/cqframework/cql-translation-service#multipart-request">https://github.com/cqframework/cql-translation-service#multipart-request</a></p>
<p>If you just looking to translate a bunch of CQL in a directory to ELM, you can use the cql-to-elm translator command line. That's here:</p>
<p><a href="https://github.com/cqframework/clinical_quality_language/tree/master/Src/java#generate-an-elm-representation-of-cql-logic">https://github.com/cqframework/clinical_quality_language/tree/master/Src/java#generate-an-elm-representation-of-cql-logic</a></p>
<p>FWIW, the next to-be-released version of the Atom plugin has some basic support for the some of the cqf-tooling operations to make this sort of thing easier.</p>



<a name="227237297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227237297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227237297">(Feb 22 2021 at 09:10)</a>:</h4>
<p><span class="user-mention" data-user-id="194178">@JP</span> Thanks! I am going to try cql-to-elm cli!</p>



<a name="227445763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227445763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Yak <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227445763">(Feb 23 2021 at 15:11)</a>:</h4>
<p>New to the board... hello everyone. Are there some troubleshooting steps to get the atom plugin working? I've installed it on two different machines, one MacOS11 and one Windows10. Both show it is installed, and I have the correct java versions installed. I get syntax highlighting but no option to Run the CQL. I suspect some dependency is not being met but I can't tell which one(s).</p>



<a name="227450959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227450959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227450959">(Feb 23 2021 at 15:45)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="390680">@David Yak</span> the CQL file must be open and have focus, then right-click and down at about the very bottom should be a menu item for CQL.</p>



<a name="227453770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227453770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227453770">(Feb 23 2021 at 16:00)</a>:</h4>
<p><span class="user-mention" data-user-id="390680">@David Yak</span> </p>
<ol>
<li>clone this repo <a href="https://github.com/DBCG/connectathon">https://github.com/DBCG/connectathon</a></li>
<li>open <code>fhir401</code> folder in Atom</li>
<li>then open <code>input\pagecontent\cql\EXM74-10.2.000.cql</code> file and finally press on F5</li>
</ol>



<a name="227454658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227454658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227454658">(Feb 23 2021 at 16:03)</a>:</h4>
<p><span class="user-mention" data-user-id="390680">@David Yak</span> <br>
Also make sure <a href="https://github.com/cqframework/atom_cql_support">language-cql</a> library is installed in Atom <br>
Hope it helps<br>
<a href="https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/wiki/Developers-Introduction-to-CQL">https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/wiki/Developers-Introduction-to-CQL</a></p>



<a name="227462344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227462344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Yak <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227462344">(Feb 23 2021 at 16:44)</a>:</h4>
<p>I appreciate the responses. Vasyl when I open that particular cql file I do now see the CQL choice at the bottom of my right-click menu. However View ELM is the only choice. F5 does nothing. Screen shot attached. Yak</p>
<p><a href="/user_uploads/10155/6qttksTlaWJGhTbkhOZ1Ak9R/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/6qttksTlaWJGhTbkhOZ1Ak9R/image.png" title="image.png"><img src="/user_uploads/10155/6qttksTlaWJGhTbkhOZ1Ak9R/image.png"></a></div>



<a name="227468922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227468922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227468922">(Feb 23 2021 at 17:24)</a>:</h4>
<p><span class="user-mention" data-user-id="390680">@David Yak</span> Can you please also make sure that <code>language-cql</code> is installed? <br>
<a href="/user_uploads/10155/k8KsesZ6XIFnu2L9O7v_Yilp/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/k8KsesZ6XIFnu2L9O7v_Yilp/image.png" title="image.png"><img src="/user_uploads/10155/k8KsesZ6XIFnu2L9O7v_Yilp/image.png"></a></div>



<a name="227469357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227469357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227469357">(Feb 23 2021 at 17:27)</a>:</h4>
<p>Sorry if it doesn't help. I don't remember how I did. I was fighting with Atom for a few days before it started working.</p>



<a name="227469490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227469490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227469490">(Feb 23 2021 at 17:28)</a>:</h4>
<p>Probably - Atom, Java, language-cql, that's whole the recipe</p>



<a name="227475978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227475978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Yak <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227475978">(Feb 23 2021 at 18:06)</a>:</h4>
<p>I think I've got the right stuff.  Screen shot plus java version:</p>
<p>% java --version<br>
openjdk 15.0.1 2020-10-20<br>
OpenJDK Runtime Environment (build 15.0.1+9)<br>
OpenJDK 64-Bit Server VM (build 15.0.1+9, mixed mode, sharing)</p>
<p><a href="/user_uploads/10155/q-2TmrNcDb8L9OtxwMJEu3Lz/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/q-2TmrNcDb8L9OtxwMJEu3Lz/image.png" title="image.png"><img src="/user_uploads/10155/q-2TmrNcDb8L9OtxwMJEu3Lz/image.png"></a></div>



<a name="227487979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227487979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227487979">(Feb 23 2021 at 19:20)</a>:</h4>
<p>On Windows 10<br>
<a href="/user_uploads/10155/UXtb6ciEU1pFbr3ZhFEbNuux/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/UXtb6ciEU1pFbr3ZhFEbNuux/image.png" title="image.png"><img src="/user_uploads/10155/UXtb6ciEU1pFbr3ZhFEbNuux/image.png"></a></div>



<a name="227488683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227488683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227488683">(Feb 23 2021 at 19:25)</a>:</h4>
<p><span class="user-mention" data-user-id="390680">@David Yak</span> -- I don't think the Java components of the plugin have been developed or tested against Java 15.  I thought JDK 11 (LTS) was required, but it looks like <span class="user-mention" data-user-id="376706">@Vasyl Herman</span> has it working w/ JDK 8 -- so probably try one of those.</p>



<a name="227490585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227490585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227490585">(Feb 23 2021 at 19:38)</a>:</h4>
<p><span class="user-mention" data-user-id="390680">@David Yak</span> is the JAR file (which should be automagically downloaded by the plugin) in place? On *nix, <code>ls ~/.atom/packages/language-cql/server</code> and it should be there</p>



<a name="227496417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227496417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Yak <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227496417">(Feb 23 2021 at 20:16)</a>:</h4>
<p>I am starting to think this is a java version issue. I'm going to load jenv so I can manage which java is in effect. Answer to above question is yes:</p>
<p>% pwd<br>
/Users/david.yakimischak/.atom/packages/language-cql</p>
<p>% ls -al server<br>
total 93224<br>
drwxr-xr-x   3 david.yakimischak  staff        96 Feb 23 11:41 .<br>
drwxr-xr-x  18 david.yakimischak  staff       576 Feb 23 11:41 ..<br>
-rw-r--r--   1 david.yakimischak  staff  46827333 Feb 23 11:41 ls-1.5.0-SNAPSHOT-shaded.jar</p>



<a name="227497643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227497643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Yak <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227497643">(Feb 23 2021 at 20:24)</a>:</h4>
<p>The java control panel thinks I have the correct version installed. The command line thinks something else.</p>
<p><a href="/user_uploads/10155/nRM1Nmh25K6S36l_VQBfBAIr/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/nRM1Nmh25K6S36l_VQBfBAIr/image.png" title="image.png"><img src="/user_uploads/10155/nRM1Nmh25K6S36l_VQBfBAIr/image.png"></a></div>



<a name="227506532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227506532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Yak <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227506532">(Feb 23 2021 at 21:29)</a>:</h4>
<p>Does anyone have any troubleshooting steps or things I can try? I have added the Java 1.8 jdk and it is in my $JAVA_HOME and now the CQL choice has disappeared from the bottom of my context menu again. I am trying to read through the plugin source but I can't figure out what it is doing. There are a lot of dependencies in the code in package.json - if some of those were not there or right I would have thought I could see an error log somewhere or get a message telling me what is not right. (Maybe I am defining a project for myself!). Right now I just want to get it running.</p>



<a name="227524881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227524881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227524881">(Feb 23 2021 at 23:46)</a>:</h4>
<p>Hi David. I took a look at this and it seems that a dependency is missing from Maven. I'm prepping a fix in the Atom plugin and should have it deployed later today.</p>



<a name="227529561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227529561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227529561">(Feb 24 2021 at 00:32)</a>:</h4>
<p>Atom plugin version 2.8.3 is released which includes a fix for the CQL menu not showing up (due to a missing dependency), and fix for that dependency, and some better status / error messages as it's initializing. You should see the option to upgrade in the packages section of Atom's preferences</p>



<a name="227590447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/227590447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Yak <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#227590447">(Feb 24 2021 at 12:30)</a>:</h4>
<p>100% worked immediately. Thanks so much JP. All good now. Yak</p>



<a name="242112752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/cql%20in%20atom%20for%20beginners/near/242112752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Yak <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/cql.20in.20atom.20for.20beginners.html#242112752">(Jun 09 2021 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="194192">@Richard Stanley</span> that directory does not exist in the language-cql folder. I did get this working by following <span class="user-mention" data-user-id="376706">@Vasyl Herman</span>  instructions, so thank you very much and sorry it took so long for me to get back and close this off. Once things started working I just plowed ahead and did not look back!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
