---
layout: page
title: "FHIR Chat  · Installing and running cql-execution framework · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html">Installing and running cql-execution framework</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153990954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153990954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153990954">(Aug 27 2018 at 09:09)</a>:</h4>
<p>Hello, I try to install and run the CQL execution framework (<a href="https://github.com/cqframework/cql-execution" target="_blank" title="https://github.com/cqframework/cql-execution">https://github.com/cqframework/cql-execution</a>). I installed the current versions of Node.js, Yarn and CoffeeScript. I am using a Windows 7. I get an exception during the install:</p>
<p>D:\Code\DW\cql-execution&gt;yarn install<br>
yarn install v1.9.4<br>
[1/4] Resolving packages...<br>
success Already up-to-date.<br>
$ ./node_modules/.bin/cake build &amp;&amp; ./node_modules/.bin/cake build-cql4browsers<br>
events.js:183<br>
      throw er; // Unhandled 'error' event<br>
      ^</p>
<p>Error: spawn coffee ENOENT<br>
    at _errnoException (util.js:992:11)<br>
    at Process.ChildProcess._handle.onexit (internal/child_process.js:190:19)<br>
    at onErrorNT (internal/child_process.js:372:16)<br>
    at _combinedTickCallback (internal/process/next_tick.js:138:11)<br>
    at process._tickCallback (internal/process/next_tick.js:180:9)<br>
    at Function.Module.runMain (module.js:695:11)<br>
    at startup (bootstrap_node.js:191:16)<br>
    at bootstrap_node.js:612:3</p>
<p>error Command failed with exit code 1.<br>
info Visit <a href="https://yarnpkg.com/en/docs/cli/install" target="_blank" title="https://yarnpkg.com/en/docs/cli/install">https://yarnpkg.com/en/docs/cli/install</a> for documentation about this command.</p>
<p>When running "cake build-cql4browsers" I get this exception:</p>
<p>D:\Code\DW\cql-execution&gt;cake build-cql4browsers<br>
Browserifing cql4browsers...<br>
events.js:183<br>
      throw er; // Unhandled 'error' event<br>
      ^</p>
<p>Error: Cannot find module 'D:\Code\DW\cql-execution\lib\example\browser\simple-browser-support.js' from 'D:\Code\DW\cql-execution'<br>
    at D:\Code\DW\cql-execution\node_modules\browser-resolve\node_modules\resolve\lib\async.js:55:21<br>
    at load (D:\Code\DW\cql-execution\node_modules\browser-resolve\node_modules\resolve\lib\async.js:69:43)<br>
    at onex (D:\Code\DW\cql-execution\node_modules\browser-resolve\node_modules\resolve\lib\async.js:92:31)<br>
    at D:\Code\DW\cql-execution\node_modules\browser-resolve\node_modules\resolve\lib\async.js:22:47<br>
    at FSReqWrap.oncomplete (fs.js:152:21)</p>
<p>The folder "D:\Code\DW\cql-execution\lib" does not exist (yet?) on my system. Has a previous step already failed that should have created this folder and the content within? Perhaps the CoffeeScript installation/call had a problem.</p>
<p>When running "coffee cql.coffee" from the "src" folder I get this error:</p>
<p>D:\Code\DW\cql-execution\src&gt;coffee cql.coffee<br>
D:\Code\DW\cql-execution\src\elm\expression.coffee:32:9: error: unexpected indentation<br>
    super</p>
<p>I do not have experience in CoffeScript and JavaScript, so perhaps my debugging information above is of no use at all. What could I do to give more information on the source of the problem ?<br>
Greetings</p>



<a name="153991014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991014">(Aug 27 2018 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span>?</p>



<a name="153991023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991023">(Aug 27 2018 at 14:59)</a>:</h4>
<p><span class="user-mention" data-user-id="196537">@Georg Fette</span> -- I've not seen this before, but I wonder if it is due to the node version.  We test using Node 8.x, but I'm guessing you probably installed Node 10.x (as the instructions are not at all specific).  Could you try downgrading to Node 8.x to see if that makes a difference?  I've seen several projects that don't do well under Node 10.</p>



<a name="153991200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991200">(Aug 28 2018 at 08:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> I did install version 8.11.4 because it was described as "recommended for most users" on the node.js website. Has the installation of the cql execution framework already succeeded on a Windows system? I read about problems with coffeescript execution on Windows systems because of sub process spawning problems. It looks like the "cql-execution\lib\" folder is not being created in which the .js files are stored created by the coffeescript processes. Is there a way to start the .coffee-&gt;.js transformations manually?</p>



<a name="153991335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991335">(Aug 28 2018 at 18:26)</a>:</h4>
<p><span class="user-mention" data-user-id="196537">@Georg Fette</span> -- I apologize for the trouble.  I expect that it has to do with our <code>prepublish</code> command in the <code>package.json</code>.  We're using <code>&amp;&amp;</code> to execute two commands in sequence -- but I bet Windows isn't happy with that.  Let me see if I can find a Windows-friendly alternative.  Stand by.</p>



<a name="153991337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991337">(Aug 28 2018 at 18:30)</a>:</h4>
<p>Actually -- after some Googling it seems like <code>&amp;&amp;</code> <em>should</em> be supported in Windows. Hmm...</p>



<a name="153991338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991338">(Aug 28 2018 at 18:39)</a>:</h4>
<p>It seems there may be a problem with launching child processes through these scripts in windows.  Here are a few things to try:</p>



<a name="153991339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991339">(Aug 28 2018 at 18:40)</a>:</h4>
<p>First, try running <code>cake build</code>.  If that works, it should create the <em>lib</em> folder and then you'll be able to run <code>cake build-cql4browsers</code>.</p>



<a name="153991340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991340">(Aug 28 2018 at 18:41)</a>:</h4>
<p>If that doesn't work, try editing the <code>Cakefile</code> on line 11 from:</p>
<div class="codehilite"><pre><span></span>  coffee = spawn &#39;coffee&#39;, args
</pre></div>


<p>to</p>
<div class="codehilite"><pre><span></span>  coffee = spawn &#39;coffee.cmd&#39;, args
</pre></div>



<a name="153991342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991342">(Aug 28 2018 at 18:44)</a>:</h4>
<p>yeah, that did it ! Thank you !</p>



<a name="153991349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991349">(Aug 28 2018 at 19:17)</a>:</h4>
<p>Great! For future reference, what did it?  Running <code>cake build</code> on its own or editing that line in the <code>Cakefile</code>?</p>



<a name="153991353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Installing%20and%20running%20cql-execution%20framework/near/153991353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Installing.20and.20running.20cql-execution.20framework.html#153991353">(Aug 28 2018 at 19:27)</a>:</h4>
<p>the change of the line in the cakefile</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
