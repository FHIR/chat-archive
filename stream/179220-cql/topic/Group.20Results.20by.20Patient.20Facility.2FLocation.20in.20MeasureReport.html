---
layout: page
title: "FHIR Chat  · Group Results by Patient Facility/Location in MeasureReport · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Group.20Results.20by.20Patient.20Facility.2FLocation.20in.20MeasureReport.html">Group Results by Patient Facility/Location in MeasureReport</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="233647267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Group%20Results%20by%20Patient%20Facility/Location%20in%20MeasureReport/near/233647267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Felix Ongati <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Group.20Results.20by.20Patient.20Facility.2FLocation.20in.20MeasureReport.html#233647267">(Apr 08 2021 at 12:57)</a>:</h4>
<p>We have a use case where we would like to return results of <strong>$evaluate-measure</strong> disaggregated by age-sex and grouped by patient's facility/location. Grouping by age-sex is straightforward in CQL, has anyone here tried to return results grouped by patient location or does anyone have an idea of the best way to do this? I know you can specify location in the subject attribute of a measure, but I am thinking that will mean calling <strong>$evaluate-measure</strong> for each of the individual locations.</p>



<a name="233684339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Group%20Results%20by%20Patient%20Facility/Location%20in%20MeasureReport/near/233684339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Group.20Results.20by.20Patient.20Facility.2FLocation.20in.20MeasureReport.html#233684339">(Apr 08 2021 at 16:29)</a>:</h4>
<p>A Measure can have different "subjects", where the subject is the primary reference point for the criteria within the measure. By default, the subject is "Patient", so the criteria are expressed in terms of patient-level queries. But you can use Measure with different subjects, such as "Location", which would mean that the criteria are written with respect to a particular Location. This corresponds with the "context" declaration in the CQL, so instead of saying "context Patient", you would say "context Location". Does that help?</p>



<a name="234696102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Group%20Results%20by%20Patient%20Facility/Location%20in%20MeasureReport/near/234696102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Felix Ongati <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Group.20Results.20by.20Patient.20Facility.2FLocation.20in.20MeasureReport.html#234696102">(Apr 15 2021 at 15:16)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> , that helps a lot.</p>



<a name="234696251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Group%20Results%20by%20Patient%20Facility/Location%20in%20MeasureReport/near/234696251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Felix Ongati <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Group.20Results.20by.20Patient.20Facility.2FLocation.20in.20MeasureReport.html#234696251">(Apr 15 2021 at 15:17)</a>:</h4>
<p>FYI <span class="user-mention" data-user-id="232629">@Vladimer Shioshvili</span> , <span class="user-mention" data-user-id="378988">@Jenny Thompson</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
