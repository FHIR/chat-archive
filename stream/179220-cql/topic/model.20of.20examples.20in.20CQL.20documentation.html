---
layout: page
title: "FHIR Chat  · model of examples in CQL documentation · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/model.20of.20examples.20in.20CQL.20documentation.html">model of examples in CQL documentation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154012095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/model%20of%20examples%20in%20CQL%20documentation/near/154012095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/model.20of.20examples.20in.20CQL.20documentation.html#154012095">(Oct 25 2018 at 08:34)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span>,<br>
I am trying to parse all queries that appear in the CQL documentation on <a href="http://cql.hl7.org/index.html" target="_blank" title="http://cql.hl7.org/index.html">http://cql.hl7.org/index.html</a>. I managed to parse some examples using the QUICK model, but some have a different model. Does there exist a publicly available model file that can be used to parse all statements from the documentation ? That would make experiments with the language much easier.<br>
Greetings<br>
Georg</p>



<a name="154012692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/model%20of%20examples%20in%20CQL%20documentation/near/154012692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/model.20of.20examples.20in.20CQL.20documentation.html#154012692">(Oct 26 2018 at 18:22)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="196537">@Georg Fette</span>, the examples should all parse with the current translator. Are there specific examples you are having trouble with?</p>



<a name="154015111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/model%20of%20examples%20in%20CQL%20documentation/near/154015111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/model.20of.20examples.20in.20CQL.20documentation.html#154015111">(Nov 02 2018 at 12:37)</a>:</h4>
<p>Hi, <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span><br>
The query <br>
[CommunicationRequest] C  where C.mode = 'ordered' and C.sender.role = 'nurse' and C.recipient.role = 'doctor' and C.indication in "Fever"<br>
for example uses a "CommunicationRequest" definition that does not seem to correspond to the definition in <a href="https://www.hl7.org/fhir/communicationrequest.html" target="_blank" title="https://www.hl7.org/fhir/communicationrequest.html">https://www.hl7.org/fhir/communicationrequest.html</a>.<br>
C.mode and C.indication appear to be missing. Furthermore do the sender and the recipient be implicitely typed to Practitioner. Wher does this type inference come from, because in the QUICK model sender and recipient are defined as one of a list of types (Practitioner | Patient | Device | RelatedPerson | Organization). In the QUICK model file I am currently using these elements are defined as "System.Any". How does such a selection from a list of possible types look like in a proper model file ?<br>
Greetings<br>
Georg</p>



<a name="154015684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/model%20of%20examples%20in%20CQL%20documentation/near/154015684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/model.20of.20examples.20in.20CQL.20documentation.html#154015684">(Nov 05 2018 at 16:53)</a>:</h4>
<p>The QUICK model that is included with the CQL-to-ELM translator is based on an interim release of FHIR, 1.6 IIRC. The QUICK model is derived from the QI-Core profiles, and the tooling to do that automatically is still in flight, what's there in QUICK currently was built manually and it hasn't been updated for subsequent releases of the QI-Core profiles.</p>



<a name="154015685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/model%20of%20examples%20in%20CQL%20documentation/near/154015685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/model.20of.20examples.20in.20CQL.20documentation.html#154015685">(Nov 05 2018 at 16:55)</a>:</h4>
<p>Further, when that manual model was produced, the model info didn't support Choice Types, so choices were modeled as Any. Newer model infos use Choice Types to model those. If it's modeled as an Any, then you would have to use a type cast to get the value to be treated as the appropriate type. With Choice Types, the translator will attempt to resolve based on any of the types in the choice type.</p>



<a name="154015686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/model%20of%20examples%20in%20CQL%20documentation/near/154015686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/model.20of.20examples.20in.20CQL.20documentation.html#154015686">(Nov 05 2018 at 16:55)</a>:</h4>
<p>So if you look at the later FHIR model infos, they use choice types to model choices in FHIR.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
