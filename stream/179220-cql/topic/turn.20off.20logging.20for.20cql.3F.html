---
layout: page
title: "FHIR Chat  · turn off logging for cql? · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html">turn off logging for cql?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="247422448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247422448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247422448">(Jul 28 2021 at 05:05)</a>:</h4>
<p>On larger measures with larger quantities of patients, it seems that the system produces MANY mb's of logs very quickly.</p>
<ol>
<li>Do you think this impacts performance?</li>
<li>Is there a way to turn off the detailed logging?</li>
</ol>



<a name="247474666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247474666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247474666">(Jul 28 2021 at 15:31)</a>:</h4>
<p>There's not currently a way to turn off the detailed logging. There needed to be some changes in the upstream Java cql-engine to facilitate that and they are done, but haven't been released yet.</p>



<a name="247478084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247478084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247478084">(Jul 28 2021 at 15:58)</a>:</h4>
<p>Any thoughts on the performance impacts? Think the excessive logging causes performance degredation at a larger scale?&gt;</p>



<a name="247491524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247491524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247491524">(Jul 28 2021 at 17:40)</a>:</h4>
<p>I think it's really dependent upon your specific logging implementation. You could hypothetically redirect logging to <code>/dev/null</code> and just send all the logs to the void which would cause little performance impact. If on the other hand you're sticking all the logs into a transactional db, it'd probably slow you down a bunch.</p>



<a name="247492539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247492539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247492539">(Jul 28 2021 at 17:49)</a>:</h4>
<p>In my scenario, the logs aren't being recorded to a db, but they are within a kubernetes deployment, and kubernetes keeps all logs</p>



<a name="247492568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247492568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247492568">(Jul 28 2021 at 17:49)</a>:</h4>
<p>So, might be slowing the k8s cluster down persisting all the logs</p>



<a name="247493467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247493467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247493467">(Jul 28 2021 at 17:55)</a>:</h4>
<p>FWIW, making that configurable is high-priority item for the round of work once cql-engine 1.5.2 is released.</p>



<a name="247588986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247588986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Sanders <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247588986">(Jul 29 2021 at 14:17)</a>:</h4>
<p><span class="user-mention" data-user-id="194178">@JP</span>  I might be missing some context here, but can't the CQL Engine logging already be controlled via the DebugMap that is passed as input to the CQLEngine / Context? We had a similar problem that we overcame using <code>DebugMap.setIsLoggingEnabled(false).</code> </p>
<p>The DebugMap logging is hard-coded to true in the <a href="https://github.com/DBCG/cqf-ruler/blob/131a2ddccd9962b861c9f4e19502dd84ab8ad46a/r4/src/main/java/org/opencds/cqf/r4/evaluation/MeasureEvaluationSeed.java#L108">CQF Ruler MeasureEvaluationSeed</a>, but it could be disabled with existing features I think.</p>



<a name="247604656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247604656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247604656">(Jul 29 2021 at 16:08)</a>:</h4>
<p>I could be mistaken, but last I knew <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> was using HAPI FHIR server as opposed to the cqf-ruler. HAPI is slightly behind the cqf-ruler as of this moment. cql-engine 1.5.2-SNAPSHOT also uses a logging framework as opposed to writing to stdout making log management easier.</p>



<a name="247609001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247609001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247609001">(Jul 29 2021 at 16:44)</a>:</h4>
<p>You around correct <span class="user-mention" data-user-id="194178">@JP</span></p>



<a name="247611225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/turn%20off%20logging%20for%20cql%3F/near/247611225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Sanders <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/turn.20off.20logging.20for.20cql.3F.html#247611225">(Jul 29 2021 at 17:02)</a>:</h4>
<p>Ok, yeah. HAPI FHIR has that same hard-coded value set to true. <a href="https://github.com/hapifhir/hapi-fhir/blob/1b9761c91b8cab8c8fa8c7766192a67c04edc105/hapi-fhir-jpaserver-cql/src/main/java/ca/uhn/fhir/cql/r4/evaluation/MeasureEvaluationSeed.java#L135">https://github.com/hapifhir/hapi-fhir/blob/1b9761c91b8cab8c8fa8c7766192a67c04edc105/hapi-fhir-jpaserver-cql/src/main/java/ca/uhn/fhir/cql/r4/evaluation/MeasureEvaluationSeed.java#L135</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
