---
layout: page
title: "FHIR Chat  · FHIR Measure Packaging · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html">FHIR Measure Packaging</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183950754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/183950754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerry Goodnough <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#183950754">(Dec 20 2019 at 16:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span>  I knew you are working on the profile for packaging FHIR measures as a Bundle resource, is it possible you could point me at where this work is being done?</p>



<a name="183961781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/183961781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#183961781">(Dec 20 2019 at 18:48)</a>:</h4>
<p>It’s being balloted this cycle, this link is what will be balloted: <a href="http://build.fhir.org/ig/HL7/cqf-measures/branches/R4_Lift/packaging.html" target="_blank" title="http://build.fhir.org/ig/HL7/cqf-measures/branches/R4_Lift/packaging.html">http://build.fhir.org/ig/HL7/cqf-measures/branches/R4_Lift/packaging.html</a></p>



<a name="183977130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/183977130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerry Goodnough <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#183977130">(Dec 20 2019 at 21:55)</a>:</h4>
<p>Thanks... exactly what I needed!</p>



<a name="184334594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184334594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerry Goodnough <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184334594">(Dec 27 2019 at 17:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span>  In looking at this I see early on this clause “or as part of a collection of related measures.” - yet I see no specific text on how this might be done, I assume the intent is not to have a bundle of bundles?</p>



<a name="184388155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184388155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184388155">(Dec 28 2019 at 19:38)</a>:</h4>
<p>Not sure yet what a collection of related measures looks like, so we didn't specify any guidance around that. Would welcome feedback on it, but that sentence is forward looking, anticipating that we want to be able to do that, but it's not clear how yet.</p>



<a name="184481701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184481701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerry Goodnough <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184481701">(Dec 30 2019 at 16:07)</a>:</h4>
<p>Ok... got it a forward looking statement, I will give it some thought. Likewise it appears there is no specific profile yet for the inclusion on value sets?</p>



<a name="184669545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184669545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Afaq Khan <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184669545">(Jan 02 2020 at 17:48)</a>:</h4>
<p>I'm in the CQL-Engine/src/main/java/org/opencds/cqf/cql/elm/execution. I'm trying to find the java code for the "during" operator. Does anyone know where this is? I want to know why FHIR requires me to have a FHIRHelpers library when I use this operator. I see the  <br>
FHIRHelpers library just defines a bunch of ToStrings for different FHIR object fields.</p>



<a name="184669693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184669693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Afaq Khan <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184669693">(Jan 02 2020 at 17:49)</a>:</h4>
<p>Isn't the ToString method defined within the object's class?</p>



<a name="184670457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184670457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Afaq Khan <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184670457">(Jan 02 2020 at 17:59)</a>:</h4>
<p>The ToString should be Polymorphic with regard to each FHIR object?</p>



<a name="184739399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184739399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184739399">(Jan 03 2020 at 14:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="184753946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184753946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184753946">(Jan 03 2020 at 18:03)</a>:</h4>
<p>The <code>during</code> keyword is a synonym for <code>included in</code>, and is translator to the ELM <code>IncludedIn</code> operator. So it's being handled in the engine by the <a href="https://github.com/DBCG/cql_engine/blob/master/cql-engine/src/main/java/org/opencds/cqf/cql/elm/execution/IncludedInEvaluator.java" target="_blank" title="https://github.com/DBCG/cql_engine/blob/master/cql-engine/src/main/java/org/opencds/cqf/cql/elm/execution/IncludedInEvaluator.java">IncludedInEvaluator</a>.</p>



<a name="184754021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184754021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184754021">(Jan 03 2020 at 18:04)</a>:</h4>
<p>The <code>ToString</code> operators defined in FHIRHelpers are conversion operators that are defined as implicit conversions to avoid having to access the <code>value</code> element of "primitive" types in FHIR.</p>



<a name="184754080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184754080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184754080">(Jan 03 2020 at 18:05)</a>:</h4>
<p>In the CQL type system, there isn't a <code>ToString</code> defined on the base class, so these <code>ToString</code> operators aren't overriding behavior from the base the way they do in Java or C#.</p>



<a name="184754124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184754124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184754124">(Jan 03 2020 at 18:05)</a>:</h4>
<p>The translator recognizes the implicit conversion and invokes them when needed to get to a particular target type.</p>



<a name="184763749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184763749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Afaq Khan <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184763749">(Jan 03 2020 at 20:08)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="184763873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184763873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Afaq Khan <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184763873">(Jan 03 2020 at 20:10)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span></p>



<a name="184763874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184763874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Afaq Khan <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184763874">(Jan 03 2020 at 20:10)</a>:</h4>
<p>And <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="184763876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/184763876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohammad Afaq Khan <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#184763876">(Jan 03 2020 at 20:10)</a>:</h4>
<p>And <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="186698984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/186698984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerry Goodnough <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#186698984">(Jan 27 2020 at 16:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> looking at both the measure-cqmf and the most recent connectathon R4 measure I see one profile inconsistency, namely for populations and stratifiers the “id” filed is marked required in the profile, but does not appears in the measures. Is it vital to make these a required field?</p>



<a name="186739041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/186739041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#186739041">(Jan 27 2020 at 23:50)</a>:</h4>
<p><span class="user-mention" data-user-id="242966">@Jerry Goodnough</span> , you're right, those should have ids. We'll get those updated. It looks like the reference implementation is using the code as a fallback, but we'll verify that as well.</p>



<a name="186750080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/186750080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#186750080">(Jan 28 2020 at 03:27)</a>:</h4>
<p>And yes, they need to be required because the code alone is not unique; there are measure types that have multiple population criteria for the same code, so we need a way to uniquely identify the population criteria being reported.</p>



<a name="186818910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/186818910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jerry Goodnough <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#186818910">(Jan 28 2020 at 19:30)</a>:</h4>
<p>So based on you statement I would assume that these ids would be relate to the cql logic directly?</p>



<a name="186845668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/FHIR%20Measure%20Packaging/near/186845668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/FHIR.20Measure.20Packaging.html#186845668">(Jan 29 2020 at 00:32)</a>:</h4>
<p>Not necessarily, they could be foo-1, foo-2, etc. They are only used to correlate the population criteria elements in the MeasureReport to the population criteria elements in the Measure. By convention, we set them to an <code>id</code>-ified representation of the CQL expression name for the criteria, but that's just for convenience.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
