---
layout: page
title: "FHIR Chat  · ActivityDefinition dynamicValue support? · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/ActivityDefinition.20dynamicValue.20support.3F.html">ActivityDefinition dynamicValue support?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229415660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/ActivityDefinition%20dynamicValue%20support%3F/near/229415660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Carlson <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/ActivityDefinition.20dynamicValue.20support.3F.html#229415660">(Mar 09 2021 at 03:25)</a>:</h4>
<p>I am using CQF Ruler (current master branch) to test a simple example of a PlanDefinition with two actions that reference ActivityDefinition, and using $apply to create a CarePlan.  Following example from CPG-on-FHIR for "send a message".  After much trial and error, I dug into the code and it appears that only Boolean values are support for any ActivityDefinition dynamicValue (see ActivityDefinitionApplyProvider, line 134).  Any dynamic value other than Boolean will cause entire ActivityDefinition apply to fail.  Would it be appropriate to expand the list of result types to DateTime, String and others?</p>



<a name="229510276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/ActivityDefinition%20dynamicValue%20support%3F/near/229510276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/ActivityDefinition.20dynamicValue.20support.3F.html#229510276">(Mar 09 2021 at 16:51)</a>:</h4>
<p>Yes, that would definitely be appropriate.</p>



<a name="229510308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/ActivityDefinition%20dynamicValue%20support%3F/near/229510308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/ActivityDefinition.20dynamicValue.20support.3F.html#229510308">(Mar 09 2021 at 16:51)</a>:</h4>
<p>It's likely only supporting boolean because the same machinery was used to evaluate the condition logic (and that expects boolean).</p>



<a name="229510340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/ActivityDefinition%20dynamicValue%20support%3F/near/229510340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/ActivityDefinition.20dynamicValue.20support.3F.html#229510340">(Mar 09 2021 at 16:51)</a>:</h4>
<p>Should be easy to expand though. <span class="user-mention" data-user-id="191395">@Dave Carlson</span></p>



<a name="229510429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/ActivityDefinition%20dynamicValue%20support%3F/near/229510429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/ActivityDefinition.20dynamicValue.20support.3F.html#229510429">(Mar 09 2021 at 16:52)</a>:</h4>
<p>If you submit a github issue we can track it, but absolutely feel free to submit a PR on it.</p>



<a name="229510632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/ActivityDefinition%20dynamicValue%20support%3F/near/229510632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Carlson <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/ActivityDefinition.20dynamicValue.20support.3F.html#229510632">(Mar 09 2021 at 16:53)</a>:</h4>
<p>Thanks Bryn, I'll work on a PR.  Also will look into initial support for Task resource by ActivityDefinition.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
