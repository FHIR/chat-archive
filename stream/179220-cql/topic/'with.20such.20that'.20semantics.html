---
layout: page
title: "FHIR Chat  · &#x27;with such that&#x27; semantics · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/&#x27;with.20such.20that&#x27;.20semantics.html">&#x27;with such that&#x27; semantics</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154010156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/%27with%20such%20that%27%20semantics/near/154010156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/&#x27;with.20such.20that&#x27;.20semantics.html#154010156">(Oct 18 2018 at 06:53)</a>:</h4>
<p>Hello,<br>
I have some questions related to the 'with such that' operator in CQL <br>
Page 41 of the CQL documentation contains this statement:</p>
<p>[Encounter: "Ambulatory/ED Visit"] E <br>
   with [Condition: "Acute Pharyngitis"] P<br>
      such that P.onsetDateTime during E.period <br>
         and P.abatementDate after end of E.period</p>
<p>I assume that the model this statement is working on is FHIR v3.0.1.<br>
- What ensures that the encounter E is the encounter that contains the condition P ? And in which member of the encounter is the condition contained ? It could be 'diagnosis.condition'. Or the connection could be found from the other because condition contains the member 'context' which can reference the encounter. What if the resources contain two different members of the same required type ? If the connection between the resources is not explicitly given it is not clear to me how to interpret the query.<br>
- Is it possible to use 'with such that' in a context in which the two resources are not connected at all ? That would allow queries that could find e.g. encounters that happended at the same time but are otherwise not related, like with:<br>
[Encounter] E1 with [Encounter] E2 such that E1.period during E2.period<br>
- Why is the 'such that' part in the operator necessary at all ? Why can't the statment from page 41 be expressed with 'where' and look like this<br>
[Encounter: "Ambulatory/ED Visit"] E with [Condition: "Acute Pharyngitis"] P<br>
      where P.onsetDateTime during E.period and P.abatementDate after end of E.period<br>
What is the difference between 'such that' and 'where' ?</p>
<p>Greetings<br>
Georg</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
