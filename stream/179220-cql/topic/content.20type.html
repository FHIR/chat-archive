---
layout: page
title: "FHIR Chat  · content type · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html">content type</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="265074058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/content%20type/near/265074058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html#265074058">(Dec 15 2021 at 20:57)</a>:</h4>
<p>In setting the attachment.contentType for a Library resource containing CQL, I assume that you would want it as 'text/cql' per this <a href="https://www.hl7.org/fhir/valueset-expression-language.html">https://www.hl7.org/fhir/valueset-expression-language.html</a>.  What about CQL compiled to ELM?  Shouldn't we have something like 'application/cql'?</p>



<a name="265074323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/content%20type/near/265074323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html#265074323">(Dec 15 2021 at 21:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> <span class="user-mention" data-user-id="194178">@JP</span>  <span class="user-mention" data-user-id="458846">@Vitor Pamplona</span></p>



<a name="265074804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/content%20type/near/265074804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html#265074804">(Dec 15 2021 at 21:03)</a>:</h4>
<p>The expression type and the content type are actually two slightly different considerations. The contentType is bound to the set of MIME Types. Both <code>application/elm+json</code> and <code>application/eml+xml</code> are available there. See this for example usage:<br>
<a href="https://github.com/cqframework/ecqm-content-r4/blob/master/input/resources/library/CMS111.json#L379">https://github.com/cqframework/ecqm-content-r4/blob/master/input/resources/library/CMS111.json#L379</a></p>



<a name="265075067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/content%20type/near/265075067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html#265075067">(Dec 15 2021 at 21:06)</a>:</h4>
<p>The set of available expression languages is also expanding to distinguish between in-line CQL, and an expression that's available in a referenced library:<br>
<a href="https://build.fhir.org/valueset-expression-language.xml.html">https://build.fhir.org/valueset-expression-language.xml.html</a></p>



<a name="265075154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/content%20type/near/265075154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html#265075154">(Dec 15 2021 at 21:07)</a>:</h4>
<p>So, from the perspective of the Knowledge Artifact, it doesn't care if the CQL is actually ELM or not. That's a runtime consideration based on the content that's available.</p>



<a name="265075333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/content%20type/near/265075333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html#265075333">(Dec 15 2021 at 21:09)</a>:</h4>
<p>(it's also possible to use profiles to constrain the content such that ELM is always available, so it's not the case it _has_ to be a runtime consideration - that's just currently the most common scenario)</p>



<a name="265075458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/content%20type/near/265075458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html#265075458">(Dec 15 2021 at 21:10)</a>:</h4>
<p>Here's the executable profile that requires ELM to be present:<br>
<a href="https://build.fhir.org/ig/HL7/cqf-recommendations/StructureDefinition-cpg-executablelibrary.html#tx">https://build.fhir.org/ig/HL7/cqf-recommendations/StructureDefinition-cpg-executablelibrary.html#tx</a></p>



<a name="265086743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/content%20type/near/265086743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/content.20type.html#265086743">(Dec 15 2021 at 22:42)</a>:</h4>
<p>Thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
