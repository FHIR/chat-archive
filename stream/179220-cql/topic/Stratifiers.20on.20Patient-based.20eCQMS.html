---
layout: page
title: "FHIR Chat  · Stratifiers on Patient-based eCQMS · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Stratifiers.20on.20Patient-based.20eCQMS.html">Stratifiers on Patient-based eCQMS</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="201644963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Stratifiers%20on%20Patient-based%20eCQMS/near/201644963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miriam <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Stratifiers.20on.20Patient-based.20eCQMS.html#201644963">(Jun 22 2020 at 18:43)</a>:</h4>
<p>Conformance Requirement 15 on the quality measure IG (<a href="http://build.fhir.org/ig/HL7/cqf-measures/measure-conformance.html">http://build.fhir.org/ig/HL7/cqf-measures/measure-conformance.html</a>) states:</p>
<blockquote>
<p>For patient-based measures, the CQL stratification expression SHALL return a Boolean.</p>
</blockquote>
<p>I'm wondering what the purpose of this restriction is? I have a use case for stratifying across values that are not boolean. There is an example of this in the cms146 Measure and MeasureReport examples (<a href="https://www.hl7.org/fhir/measure-cms146-example.json.html">https://www.hl7.org/fhir/measure-cms146-example.json.html</a> and<br>
<a href="http://www.hl7.org/fhir/measurereport-cms146-cat3-example.json.html">http://www.hl7.org/fhir/measurereport-cms146-cat3-example.json.html</a>). In these examples they are stratified by an expression that returns a coded value ("Patient.gender"). Here are the relevant pieces from the cms146 example:</p>
<p>Measure:</p>
<div class="codehilite"><pre><span></span><code>{
&quot;stratifier&quot;: [
  {
    &quot;code&quot;: {
      &quot;text&quot;: &quot;stratifier-gender&quot;
    },
    &quot;criteria&quot;: {
      &quot;language&quot;: &quot;text/fhirpath&quot;,
      &quot;expression&quot;: &quot;Patient.gender&quot;
    }
  }
]
}
</code></pre></div>


<p>MeasureReport:</p>
<div class="codehilite"><pre><span></span><code>{
&quot;code&quot;: [
  {
    &quot;text&quot;: &quot;stratifier-gender&quot;
  }
],
&quot;stratum&quot;: [
  {
    &quot;value&quot;: {
      &quot;text&quot;: &quot;female&quot;
    },
    &quot;population&quot;: [
      // population sizes
    ]
  },
  {
    &quot;value&quot;: {
      &quot;text&quot;: &quot;other&quot;
    },
    &quot;population&quot;: [
      // population sizes
    ]
  },
  ....
]
}
</code></pre></div>


<p>I think the above example should be permitted, but my reading of the conformance requirements disallows it.</p>
<p>Also- want to point out that the stratifier example incorrectly uses a <code>string</code> instead of <code>Expression</code> for <code>criteria</code> field.</p>
<div class="codehilite"><pre><span></span><code>&quot;criteria&quot;: &quot;\&quot;Stratification 1\&quot;&quot;
</code></pre></div>



<a name="202011754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Stratifiers%20on%20Patient-based%20eCQMS/near/202011754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Stratifiers.20on.20Patient-based.20eCQMS.html#202011754">(Jun 25 2020 at 19:09)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="225239">@Miriam</span>, ultimately, that conformance requirement exists because that's the way that HQMF represented stratifiers. However, the underlying FHIR resources don't have that requirement and allow more flexible specification of stratifier criteria. You raise a very good point that because the underlying resources allow it, should the Quality Measure IG relax that conformance requirement. Do you mind submitting a tracker to that effect to the Quality Measure IG? We are planning on stratifiers and supplemental data being a focus of the upcoming connectathon, and would love to get feedback on that aspect.</p>



<a name="202019234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Stratifiers%20on%20Patient-based%20eCQMS/near/202019234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Miriam <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Stratifiers.20on.20Patient-based.20eCQMS.html#202019234">(Jun 25 2020 at 20:16)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> , I created <a href="https://jira.hl7.org/browse/FHIR-27878">https://jira.hl7.org/browse/FHIR-27878</a>!<br>
I have also been thinking about how to relax the stratifier conformance requirement for event-based measures similarly (<code>For event-based measures (e.g. episode-of-care), the CQL stratification expression SHALL return a list of events of the same type as the population criteria.</code>). I included a suggestion on that as well.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
