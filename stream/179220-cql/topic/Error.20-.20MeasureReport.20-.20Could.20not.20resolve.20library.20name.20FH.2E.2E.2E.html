---
layout: page
title: "FHIR Chat  · Error - MeasureReport - Could not resolve library name FH... · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20-.20MeasureReport.20-.20Could.20not.20resolve.20library.20name.20FH.2E.2E.2E.html">Error - MeasureReport - Could not resolve library name FH...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238334762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20-%20MeasureReport%20-%20Could%20not%20resolve%20library%20name%20FH.../near/238334762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srimaurya Kummamuru <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20-.20MeasureReport.20-.20Could.20not.20resolve.20library.20name.20FH.2E.2E.2E.html#238334762">(May 11 2021 at 16:06)</a>:</h4>
<p>When trying to run <code>$evaluate-measure</code> on a Measure, I'm facing  an error <code>Could not resolve library name FHIRHelpers</code></p>
<div class="codehilite"><pre><span></span><code>WARN  c.u.f.c.c.p.LibrarySourceProvider [LibrarySourceProvider.java:63] Failed to parse Library source for VersionedIdentifier &#39;org.hl7.elm.r1.VersionedIdentifier@13bf8db[id=FHIRHelpers, system=&lt;null&gt;(default), version=4.0.1]&#39;!
Could not resolve library name FHIRHelpers
java.lang.IllegalArgumentException: Could not resolve library name FHIRHelpers
    at ca.uhn.fhir.cql.r4.provider.LibraryResolutionProviderImpl.resolveLibraryByName(LibraryResolutionProviderImpl.java:72)
    at ca.uhn.fhir.cql.r4.provider.LibraryResolutionProviderImpl.resolveLibraryByName(LibraryResolutionProviderImpl.java:41)
    at ca.uhn.fhir.cql.common.provider.LibrarySourceProvider.getLibrarySource(LibrarySourceProvider.java:55)
</code></pre></div>
<p>On the browser I see either - Measure report complete - but I don't see a measure report generated</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;MeasureReport&quot;,
  &quot;status&quot;: &quot;complete&quot;,
  &quot;type&quot;: &quot;summary&quot;,
  &quot;measure&quot;: &quot;Measure/HIVSimpleTestResult&quot;
}
</code></pre></div>
<p>or a <code>NullPointerException</code></p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
  &quot;text&quot;: {
    &quot;status&quot;: &quot;generated&quot;,
    &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td style=\&quot;font-weight: bold;\&quot;&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Failed to call access method: java.lang.NullPointerException&lt;/pre&gt;&lt;/td&gt;\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;&quot;
  },
  &quot;issue&quot;: [ {
    &quot;severity&quot;: &quot;error&quot;,
    &quot;code&quot;: &quot;processing&quot;,
    &quot;diagnostics&quot;: &quot;Failed to call access method: java.lang.NullPointerException&quot;
  } ]
}
</code></pre></div>
<p>But the common log for both has been <code>Could not resolve library name FHIRHelpers</code>.</p>
<p>The initial cql does have </p>
<div class="codehilite"><pre><span></span><code>include FHIRHelpers version &#39;4.0.1&#39;
</code></pre></div>
<p>Is there a configuration I might be missing?</p>



<a name="238337691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20-%20MeasureReport%20-%20Could%20not%20resolve%20library%20name%20FH.../near/238337691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20-.20MeasureReport.20-.20Could.20not.20resolve.20library.20name.20FH.2E.2E.2E.html#238337691">(May 11 2021 at 16:25)</a>:</h4>
<p><span class="user-mention" data-user-id="193312">@Srimaurya Kummamuru</span>  - See this thread: <a href="#narrow/stream/179220-cql/topic/Could.20not.20resolve.20library.20name.20FHIRHelpers">https://chat.fhir.org/#narrow/stream/179220-cql/topic/Could.20not.20resolve.20library.20name.20FHIRHelpers</a></p>



<a name="238352319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20-%20MeasureReport%20-%20Could%20not%20resolve%20library%20name%20FH.../near/238352319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srimaurya Kummamuru <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20-.20MeasureReport.20-.20Could.20not.20resolve.20library.20name.20FH.2E.2E.2E.html#238352319">(May 11 2021 at 17:35)</a>:</h4>
<p>That resolved the FHIRHelpers error thank you <span class="user-mention" data-user-id="194178">@JP</span> !  </p>
<p>But the additional errors of  <code>NullPointerException</code> or Not generating the Measure Report still persist </p>
<div class="codehilite"><pre><span></span><code>2021-05-11 13:29:04.298 [qtp15140522-123] INFO  c.u.f.c.r.e.MeasureEvaluation [MeasureEvaluation.java:82] Generating individual report
2021-05-11 13:29:04.298 [qtp15140522-123] INFO  c.u.f.c.r.e.MeasureEvaluation [MeasureEvaluation.java:130] Generating summary report
2021-05-11 13:29:04.308 [qtp15140522-123] ERROR c.u.f.r.s.i.ExceptionHandlingInterceptor [ExceptionHandlingInterceptor.java:140] Failure during REST processing
ca.uhn.fhir.rest.server.exceptions.InternalErrorException: Failed to call access method: java.lang.NullPointerException
    at ca.uhn.fhir.rest.server.method.BaseMethodBinding.invokeServerMethod(BaseMethodBinding.java:254)
    at ca.uhn.fhir.rest.server.method.OperationMethodBinding.invokeServer(OperationMethodBinding.java:329)
    at ca.uhn.fhir.rest.server.method.BaseResourceReturningMethodBinding.doInvokeServer(BaseResourceReturningMethodBinding
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Caused by: java.lang.NullPointerException: null
    at ca.uhn.fhir.cql.r4.evaluation.MeasureEvaluation.getAllPatients(MeasureEvaluation.java:124)
    at ca.uhn.fhir.cql.r4.evaluation.MeasureEvaluation.evaluatePopulationMeasure(MeasureEvaluation.java:133)
    at ca.uhn.fhir.cql.r4.evaluation.MeasureEvaluation.evaluatePatientMeasure(MeasureEvaluation.java:85)
    at ca.uhn.fhir.cql.r4.provider.MeasureOperationsProvider.evaluateMeasure(MeasureOperationsProvider.java:114)
    ... 61 common frames omitted
</code></pre></div>



<a name="238353305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20-%20MeasureReport%20-%20Could%20not%20resolve%20library%20name%20FH.../near/238353305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20-.20MeasureReport.20-.20Could.20not.20resolve.20library.20name.20FH.2E.2E.2E.html#238353305">(May 11 2021 at 17:42)</a>:</h4>
<p><span class="user-mention" data-user-id="193312">@Srimaurya Kummamuru</span> - You likely do not have any patient resources loaded on your server. This was a known issue and resolved by:</p>
<p><a href="https://github.com/hapifhir/hapi-fhir/pull/2632">https://github.com/hapifhir/hapi-fhir/pull/2632</a></p>



<a name="238353333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20-%20MeasureReport%20-%20Could%20not%20resolve%20library%20name%20FH.../near/238353333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20-.20MeasureReport.20-.20Could.20not.20resolve.20library.20name.20FH.2E.2E.2E.html#238353333">(May 11 2021 at 17:42)</a>:</h4>
<p>(it'll presumably go into the next HAPI release)</p>



<a name="238363403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20-%20MeasureReport%20-%20Could%20not%20resolve%20library%20name%20FH.../near/238363403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srimaurya Kummamuru <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20-.20MeasureReport.20-.20Could.20not.20resolve.20library.20name.20FH.2E.2E.2E.html#238363403">(May 11 2021 at 18:51)</a>:</h4>
<p><span class="user-mention" data-user-id="194178">@JP</span> I do have Patient Resources <a href="/user_uploads/10155/B6DzFDN_SRxYGea5tnACX09O/Screen-Shot-2021-05-11-at-2.22.49-PM.png">Screen-Shot-2021-05-11-at-2.22.49-PM.png</a> . Is there any other resource I need to be looking for? or do I need to do something to load/initiate or prep the patient resources?</p>
<div class="message_inline_image"><a href="/user_uploads/10155/B6DzFDN_SRxYGea5tnACX09O/Screen-Shot-2021-05-11-at-2.22.49-PM.png" title="Screen-Shot-2021-05-11-at-2.22.49-PM.png"><img src="/user_uploads/10155/B6DzFDN_SRxYGea5tnACX09O/Screen-Shot-2021-05-11-at-2.22.49-PM.png"></a></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
