---
layout: page
title: "FHIR Chat  · Newbie Question · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html">Newbie Question</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="276190555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/276190555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Bruns <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#276190555">(Mar 22 2022 at 13:46)</a>:</h4>
<p>Hi all, I'm interested in running CQL queries against a set of QRDA I files.  What is the best way to do this?  I've been looking at cql-ruler.  Is the best way to load/interface the files via FHIR or is there anyway to directly execute against QRDA files?</p>



<a name="276627586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/276627586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#276627586">(Mar 25 2022 at 14:36)</a>:</h4>
<p>There is not a way to run QRDA directly with the cqf-ruler.</p>



<a name="278230344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/278230344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tatyana Lepilova <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#278230344">(Apr 07 2022 at 21:43)</a>:</h4>
<p>va5:09 PM<br>
Hello, i am going over <a href="https://github.com/cqframework/clinical_quality_language">https://github.com/cqframework/clinical_quality_language</a> and <a href="https://github.com/cqframework/cql-execution">https://github.com/cqframework/cql-execution</a>. cloned both to my local machine. from clinical_quality_language/Src/java i am attempting execute (as it is in README.md) ./cql-to-elm/build/install/cql-to-elm/bin/cql-to-elm --format=JSON --input ../../Examples/ChlamydiaScreening_CQM.cql. getting error: Error:[51:1, 51:18] Could not resolve context name Population in model QUICK.. what i am missing?</p>



<a name="278307650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/278307650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Denning <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#278307650">(Apr 08 2022 at 13:57)</a>:</h4>
<p>That <a href="https://github.com/cqframework/clinical_quality_language/blob/master/Examples/ChlamydiaScreening_CQM.cql">CQL file</a> has "using QUICK" <br>
Line 51 has "context Population", which was a "context" name which was not used much.<br>
The current version of CQL does not define "Population" as a context; see <a href="https://cql.hl7.org/02-authorsguide.html#context">https://cql.hl7.org/02-authorsguide.html#context</a></p>
<p>The <a href="https://github.com/cqframework/clinical_quality_language/blob/master/Src/java/README.md">README</a> should probably be changed to refer to a better example CQL file, one that works with the latest CQL-to-ELM translator.</p>
<p>QUICK was once envisioned as an alternative data model, but it never really panned out.</p>
<p>Suggest using a CQL example that has  "using FHIR version '4.0.1'"</p>



<a name="278308759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/278308759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Denning <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#278308759">(Apr 08 2022 at 14:04)</a>:</h4>
<p>There is an <a href="https://github.com/cqframework/clinical_quality_language/issues/462">old issue</a> to fix use of context Population</p>



<a name="278323635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/278323635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tatyana Lepilova <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#278323635">(Apr 08 2022 at 15:52)</a>:</h4>
<p>Thank you, Paul.</p>



<a name="278361268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/278361268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tatyana Lepilova <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#278361268">(Apr 08 2022 at 20:57)</a>:</h4>
<p>trying to execute <code>java % ./cql-to-elm/build/install/cql-to-elm/bin/cql-to-elm --input ../../../cql-execution/examples/node/age.cql </code> (from clinical_quality_language/Src/java). getting errors: <code>Error:[5:1, 5:28] Could not resolve model info provider for model Simple, version 1.0.0.
Error:[9:1, 9:15] Could not resolve context name Patient in model System.
Error:[12:5, 12:44] Could not resolve identifier Patient in the current library.</code>. please let me know what should i change in order to be able to run the latest.</p>



<a name="278361995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/278361995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tatyana Lepilova <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#278361995">(Apr 08 2022 at 21:03)</a>:</h4>
<p>i have updated age.cql to have <code>using FHIR version '4.0.1'</code> -- and ths worked!!!!! continue...</p>



<a name="278545406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Newbie%20Question/near/278545406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tatyana Lepilova <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Newbie.20Question.html#278545406">(Apr 11 2022 at 12:26)</a>:</h4>
<p>trying to run (as in README) `const cql = require('../lib/cql');<br>
const measure = require('./age.json');</p>
<p>const lib = new cql.Library(measure);<br>
const executor = new cql.Executor(lib);<br>
const psource = new cql.PatientSource([ {<br>
  'id' : '1',<br>
  'recordType' : 'Patient',<br>
  'name': 'John Smith',<br>
  'gender': 'M',<br>
  'birthDate' : '1980-02-17T06:15'<br>
}, {<br>
  'id' : '2',<br>
  'recordType' : 'Patient',<br>
  'name': 'Sally Smith',<br>
  'gender': 'F',<br>
  'birthDate' : '2007-08-02T11:47'<br>
} ]);</p>
<p>const result = executor.exec(psource);<br>
console.log(JSON.stringify(result, undefined, 2));`<br>
the very first line hit the error: Error: Cannot find module '../lib/cql'/<br>
how to get this fixed?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
