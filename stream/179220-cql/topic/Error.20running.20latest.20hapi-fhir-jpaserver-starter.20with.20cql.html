---
layout: page
title: "FHIR Chat  · Error running latest hapi-fhir-jpaserver-starter with cql · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html">Error running latest hapi-fhir-jpaserver-starter with cql</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227686732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/227686732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#227686732">(Feb 24 2021 at 22:36)</a>:</h4>
<p>Trying to run hapi-fhir-jpaserver-starter (as R4) with hapi.fhir.cql_enabled=true.</p>



<a name="227686766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/227686766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#227686766">(Feb 24 2021 at 22:37)</a>:</h4>
<p>I'm getting the following error:</p>
<div class="codehilite"><pre><span></span><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;fhirModelResolver&#39; defined in class path resource [ca/uhn/fhir/cql/config/CqlR4Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.opencds.cqf.cql.engine.model.ModelResolver]: Factory method &#39;fhirModelResolver&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/opencds/cqf/cql/evaluator/engine/model/CachingModelResolverDecorator
</code></pre></div>



<a name="227686800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/227686800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#227686800">(Feb 24 2021 at 22:37)</a>:</h4>
<p>It looks like it's missing <code>org/opencds/cqf/cql/evaluator/engine/model/CachingModelResolverDecorator</code></p>



<a name="227686875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/227686875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#227686875">(Feb 24 2021 at 22:37)</a>:</h4>
<p>Looked through the dependencies of <code>hapi-fhir-jpaserver-starter</code> for cql engine, and don't see anything related to <code>/engine/model/CachingModelResolverDecorator</code></p>



<a name="227686889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/227686889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#227686889">(Feb 24 2021 at 22:38)</a>:</h4>
<p>Any guidance?</p>



<a name="227688274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/227688274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#227688274">(Feb 24 2021 at 22:48)</a>:</h4>
<p>Oddly, even though <code>hapi-fhir</code> build, in IntelliJ, it says it can't fine the <code>CachingModelResolverDecorator</code> class, also.<br>
<a href="/user_uploads/10155/u1qlAyBqSOhrO50yVw-vS_7q/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/u1qlAyBqSOhrO50yVw-vS_7q/image.png" title="image.png"><img src="/user_uploads/10155/u1qlAyBqSOhrO50yVw-vS_7q/image.png"></a></div>



<a name="227764513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/227764513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#227764513">(Feb 25 2021 at 13:15)</a>:</h4>
<p><span class="user-mention" data-user-id="195261">@Kevin Dougan</span> May have some hints on how to troubleshoot this issue.</p>



<a name="227835477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/227835477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#227835477">(Feb 25 2021 at 20:43)</a>:</h4>
<p>Any thoughts <span class="user-mention" data-user-id="195261">@Kevin Dougan</span> ?</p>



<a name="228436581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/Error%20running%20latest%20hapi-fhir-jpaserver-starter%20with%20cql/near/228436581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> JP <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/Error.20running.20latest.20hapi-fhir-jpaserver-starter.20with.20cql.html#228436581">(Mar 02 2021 at 16:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> - The dependencies for the <code>org/opencds/cqf/cql/evaluator/engine</code> are pulled in transitively through the <code>hapi-fhir-jpaserver-cql</code> dependency here:</p>
<p><a href="https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-jpaserver-cql/pom.xml#L26">https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-jpaserver-cql/pom.xml#L26</a></p>
<p>I just pulled the latest from the <code>master</code> branch <code>hapi-fhir-jpaserver-starter</code> project and tried <code>mvn jetty:run</code> and it seems to work ok. Could you double check and make sure you have the latest code?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
