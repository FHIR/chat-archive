---
layout: page
title: "FHIR Chat  · CQL Translator 1.5.6 Release · cql"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/index.html">cql</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html">CQL Translator 1.5.6 Release</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="266465791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/266465791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#266465791">(Dec 30 2021 at 23:10)</a>:</h4>
<p>We have released an update to the 1.5 CQL-to-ELM translator and directly associated tooling. The release packages have been uploaded to the sonatype repositories.</p>
<p>Release notes are available here:<br>
Release CQL 1.5 Maintenance Release (v1.5.6)<br>
<a href="https://github.com/cqframework/clinical_quality_language/releases/tag/v1.5.6">https://github.com/cqframework/clinical_quality_language/releases/tag/v1.5.6</a></p>



<a name="272022562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272022562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tien Thai <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272022562">(Feb 15 2022 at 19:06)</a>:</h4>
<p>Hi,<br>
I am getting the following error but not sure if the CQL-to-ELM translator I am using is outdated.  Can you please advise?  Thank you very much for your help.</p>
<p>Regards,<br>
Tien Thai</p>
<hr>
<p>C:\CQL_Project\clinical_quality_language-master\Src\java\cql-to-elm\build\install\cql-to-elm\bin&gt;cql-to-elm --input C:\CQL_Project\AHRQ-CDS-Connect-CQL-SERVICES-2.0.0\config\libraries\guidance_for_osteoporosis\Guidance-for-Osteoporosis.cql --output C:\CQL_Project\AHRQ-CDS-Connect-CQL-SERVICES-2.0.0\config\libraries\guidance_for_osteoporosis -f JSON<br>
================================================================================<br>
TRANSLATE C:\CQL_Project\AHRQ-CDS-Connect-CQL-SERVICES-2.0.0\config\libraries\guidance_for_osteoporosis\Guidance-for-Osteoporosis.cql<br>
Translation failed due to errors:<br>
Error:[4:1, 4:58] Invalid version format<br>
Error:[11:3, 11:36] Could not resolve identifier Recommendations-for-Osteoporosis in the current library.<br>
Error:[15:7, 15:32] Could not validate reference to expression Has Fall Risk Conditions because its definition contains errors.<br>
Error:[18:4, 18:27] Could not validate reference to expression MeetsInclusionCriteria because its definition contains errors.<br>
Error:[27:10, 27:33] Could not validate reference to expression MeetsInclusionCriteria because its definition contains errors.</p>
<hr>



<a name="272029740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272029740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272029740">(Feb 15 2022 at 19:59)</a>:</h4>
<p>It says there is an invalid version format on line 4.  What is line 4 in your CQL?</p>



<a name="272031651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272031651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tien Thai <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272031651">(Feb 15 2022 at 20:14)</a>:</h4>
<p>Yes, it is the line that includes the external CQL library (i.e. Recommendations-for-Osteoporosis) which is also present in the same folder.  I am sure why it says "Could not resolve identifier Recommendations-for-Osteoporosis in the current library" when this library does exist in the same package.</p>



<a name="272031722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272031722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tien Thai <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272031722">(Feb 15 2022 at 20:15)</a>:</h4>
<p><a href="/user_uploads/10155/UvUsSZucLZ9mlccshmJvkZvU/guidance_for_osteoporosis_v_cql.zip">guidance_for_osteoporosis_v_cql.zip</a></p>



<a name="272039252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272039252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272039252">(Feb 15 2022 at 21:15)</a>:</h4>
<p>It failed CQL-to-ELM for me too.  I experimented with it and found that if I changed the name of the library <code>"Recommendations-for-Osteoporosis"</code> to <code>"RecommendationsForOsteoporosis"</code>, then it worked correctly.  <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> -- is there possibly a bug in the CQL-to-ELM translator related to using <code>include</code> with a quoted library name containing the <code>-</code> character?</p>



<a name="272150994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272150994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tien Thai <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272150994">(Feb 16 2022 at 17:43)</a>:</h4>
<p>It is working now.  Thanks Chris!</p>



<a name="272152677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272152677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272152677">(Feb 16 2022 at 17:54)</a>:</h4>
<p>You're welcome.  I think that quoted library names with <code>-</code> are technically allowed, but not encouraged (and apparently not fully supported by CQL-to-ELM right now).  The FHIR Clinical Guidelines IG contains some <a href="http://hl7.org/fhir/uv/cpg/STU1/libraries.html">guidance for authoring CQL libraries</a>, and says:</p>
<blockquote>
<p>The library identifier SHALL be a valid un-quoted identifier and SHALL NOT contain underscores</p>
</blockquote>
<p>Since <code>-</code> only works in a quoted identifier, then according to that guidance, <code>-</code> should not be used in a library identifier.</p>



<a name="272162885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272162885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tien Thai <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272162885">(Feb 16 2022 at 19:06)</a>:</h4>
<p>Yes, I forgot the naming convention for CQL library.  However, the "Invalid Version Format"  error message seems to be a bit confusing.  Thank you very much for your help.</p>



<a name="272176121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179220-cql/topic/CQL%20Translator%201.5.6%20Release/near/272176121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179220-cql/topic/CQL.20Translator.201.2E5.2E6.20Release.html#272176121">(Feb 16 2022 at 20:48)</a>:</h4>
<p>Yes, it sounds like the translator might be doing something wrong there. I've submitted an issue to follow up on this: <a href="https://github.com/cqframework/clinical_quality_language/issues/726">https://github.com/cqframework/clinical_quality_language/issues/726</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
