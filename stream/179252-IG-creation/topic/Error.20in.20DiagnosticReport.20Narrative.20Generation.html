---
layout: page
title: "FHIR Chat  · Error in DiagnosticReport Narrative Generation · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html">Error in DiagnosticReport Narrative Generation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="248988741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/248988741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stevens <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#248988741">(Aug 10 2021 at 14:43)</a>:</h4>
<p>When generating an example DiagnosticReport resource for my IG, I get the following error:</p>
<div class="codehilite"><pre><span></span><code>java.lang.NullPointerException: Cannot invoke &quot;org.hl7.fhir.r5.model.DataType.isPrimitive()&quot; because &quot;type&quot; is null
    at org.hl7.fhir.r5.renderers.DataRenderer.render(DataRenderer.java:361)
    at org.hl7.fhir.r5.renderers.PatientRenderer.describe(PatientRenderer.java:198)
    at org.hl7.fhir.r5.renderers.PatientRenderer.describe(PatientRenderer.java:170)
    at org.hl7.fhir.r5.renderers.DiagnosticReportRenderer.generatePatientSummary(DiagnosticReportRenderer.java:182)
    at org.hl7.fhir.r5.renderers.DiagnosticReportRenderer.populateSubjectSummary(DiagnosticReportRenderer.java:176)
    at org.hl7.fhir.r5.renderers.DiagnosticReportRenderer.render(DiagnosticReportRenderer.java:67)
    at org.hl7.fhir.r5.renderers.ResourceRenderer.render(ResourceRenderer.java:84)
    at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:1176)
    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3912)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:893)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:748)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8566)
</code></pre></div>
<p>My example resource is this:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;DiagnosticReport&quot;,
  &quot;id&quot;: &quot;HAICA-TC-Lab-DiagnosticReport&quot;,
  &quot;meta&quot;: {
    &quot;profile&quot;: [
      &quot;http://cbsig.chai.gatech.edu/StructureDefinition/cbs-lab-diagnosticreport&quot;
    ]
  },
  &quot;category&quot;: [
    {
      &quot;coding&quot;: [
        {
          &quot;code&quot;: &quot;LAB&quot;,
          &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0074&quot;
        }
      ]
    }
  ],
  &quot;status&quot;: &quot;final&quot;,
  &quot;code&quot;: {
    &quot;coding&quot;: [
      {
        &quot;code&quot;: &quot;85069-3&quot;,
        &quot;system&quot;: &quot;http://loinc.org&quot;
      }
    ]
  },
  &quot;subject&quot;: {
    &quot;reference&quot;: &quot;Patient/HAICA-TC-Patient&quot;
  },
  &quot;specimen&quot;: [
    {
      &quot;reference&quot;: &quot;Specimen/HAICA-TC-Specimen&quot;
    }
  ],
  &quot;result&quot;: [
    {
      &quot;reference&quot;: &quot;Observation/HAICA-TC-Lab-Observation&quot;
    }
  ]
}
</code></pre></div>
<p>It has something to do with the subject element but we cant figure out why theres an issue</p>



<a name="248991744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/248991744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#248991744">(Aug 10 2021 at 15:06)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span></p>



<a name="249005811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249005811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249005811">(Aug 10 2021 at 16:56)</a>:</h4>
<p>what resource is "Patient/HAICA-TC-Patient" referring to</p>



<a name="249005823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249005823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249005823">(Aug 10 2021 at 16:56)</a>:</h4>
<p>Does it have a type</p>



<a name="249007968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249007968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stevens <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249007968">(Aug 10 2021 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span>  This is the Patient resource it references:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;Patient&quot;,
  &quot;id&quot;: &quot;HAICA-TC-Patient&quot;,
  &quot;meta&quot;: {
    &quot;profile&quot;: [
      &quot;http://cbsig.chai.gatech.edu/StructureDefinition/cbs-patient&quot;
    ]
  },
  &quot;extension&quot;: [
    {
      &quot;extension&quot;: [
        {
          &quot;url&quot;: &quot;ombCategory&quot;,
          &quot;valueCoding&quot;: {
            &quot;code&quot;: &quot;2106-3&quot;,
            &quot;system&quot;: &quot;urn:oid:2.16.840.1.113883.6.238&quot;,
            &quot;display&quot;: &quot;White&quot;
          }
        },
        {
          &quot;url&quot;: &quot;detailed&quot;,
          &quot;valueCoding&quot;: {
            &quot;code&quot;: &quot;2135-2&quot;,
            &quot;system&quot;: &quot;urn:oid:2.16.840.1.113883.6.238&quot;,
            &quot;display&quot;: &quot;Hispanic or Latino&quot;
          }
        },
        {
          &quot;url&quot;: &quot;text&quot;,
          &quot;valueString&quot;: &quot;Mixed&quot;
        }
      ],
      &quot;url&quot;: &quot;http://cbsig.chai.gatech.edu/StructureDefinition/cbs-race&quot;
    },
    {
      &quot;extension&quot;: [
        {
          &quot;url&quot;: &quot;ombCategory&quot;,
          &quot;valueCoding&quot;: {
            &quot;code&quot;: &quot;2186-5&quot;,
            &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0005&quot;
          }
        },
        {
          &quot;url&quot;: &quot;text&quot;,
          &quot;valueString&quot;: &quot;Not Hispanic or Latino&quot;
        }
      ],
      &quot;url&quot;: &quot;http://cbsig.chai.gatech.edu/StructureDefinition/cbs-ethnicity&quot;
    },
    {
      &quot;url&quot;: &quot;http://cbsig.chai.gatech.edu/StructureDefinition/cbs-birthsex&quot;,
      &quot;valueCodeableConcept&quot;: {
        &quot;coding&quot;: [
          {
            &quot;code&quot;: &quot;F&quot;,
            &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0001&quot;
          }
        ]
      }
    },
    {
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/patient-birthPlace&quot;,
      &quot;valueAddress&quot;: {
        &quot;country&quot;: &quot;USA&quot;
      }
    },
    {
      &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/patient-genderIdentity&quot;,
      &quot;valueCodeableConcept&quot;: {
        &quot;coding&quot;: [
          {
            &quot;code&quot;: &quot;female&quot;,
            &quot;system&quot;: &quot;http://hl7.org/fhir/gender-identity&quot;
          }
        ]
      }
    }
  ],
  &quot;address&quot;: [
    {
      &quot;use&quot;: &quot;Address-at-Diagnosis&quot;,
      &quot;district&quot;: &quot;Cobb&quot;,
      &quot;state&quot;: &quot;Georgia&quot;,
      &quot;postalCode&quot;: &quot;30126&quot;
    },
    {
      &quot;use&quot;: &quot;Usual-Residence&quot;,
      &quot;country&quot;: &quot;USA&quot;
    }
  ],
  &quot;identifier&quot;: [
    {
      &quot;type&quot;: {
        &quot;coding&quot;: [
          {
            &quot;code&quot;: &quot;Local-Record-ID&quot;,
            &quot;system&quot;: &quot;http://cbsig.chai.gatech.edu/CodeSystem/cbs-temp-code-system&quot;,
            &quot;display&quot;: &quot;Local Record ID&quot;
          }
        ],
        &quot;text&quot;: &quot;Local Record ID&quot;
      },
      &quot;system&quot;: &quot;urn:temp:national-reporting-jurisdiction:48&quot;,
      &quot;value&quot;: &quot;C_auris_02&quot;
    },
    {
      &quot;type&quot;: {
        &quot;coding&quot;: [
          {
            &quot;code&quot;: &quot;Local-Subject-ID&quot;,
            &quot;system&quot;: &quot;http://cbsig.chai.gatech.edu/CodeSystem/cbs-temp-code-system&quot;,
            &quot;display&quot;: &quot;Local Subject ID&quot;
          }
        ],
        &quot;text&quot;: &quot;Local Subject ID&quot;
      },
      &quot;system&quot;: &quot;urn:temp:national-reporting-jurisdiction:48&quot;,
      &quot;value&quot;: &quot;C_auris_PAT_02&quot;
    }
  ],
  &quot;gender&quot;: &quot;female&quot;,
  &quot;birthDate&quot;: &quot;1940-01-01&quot;
}
</code></pre></div>
<p>(which works fine when being referenced in other examples)</p>



<a name="249111731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249111731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249111731">(Aug 11 2021 at 14:01)</a>:</h4>
<p>So, looking at the code you have provided, this is occuring because the <code>describe</code> method is trying to pull a <code>HumanName</code> from the patient object, which I think is a mandatory field, and there is not one.</p>



<a name="249112118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249112118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249112118">(Aug 11 2021 at 14:03)</a>:</h4>
<p>So it pulls human name, it gets null, and then it passes that null to <code>render</code>, and when it can't find a match, it ends up at the last cases of the if statement</p>



<a name="249112131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249112131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249112131">(Aug 11 2021 at 14:04)</a>:</h4>
<div class="codehilite"><pre><span></span><code> else if (type.isPrimitive()) {
      x.tx(type.primitiveValue());
    } else {
      x.tx(&quot;No display for &quot;+type.fhirType());
    }
</code></pre></div>



<a name="249112223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249112223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249112223">(Aug 11 2021 at 14:04)</a>:</h4>
<p>and <code>type.isPrimative()</code> throws a NPE</p>



<a name="249112313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249112313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249112313">(Aug 11 2021 at 14:05)</a>:</h4>
<p>Is it intentional to not define a <code>HumanName</code>  field for that <code>Patient</code>? <span class="user-mention" data-user-id="421123">@Andy Stevens</span></p>



<a name="249113301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249113301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stevens <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249113301">(Aug 11 2021 at 14:13)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span>  Our application is for public health case reporting, so the patient resources are not going to have names as part of the case reporting workflow. Is this an issue with DiagnosticReport specifically? Because this error only happens when I have that example resource in our input.</p>



<a name="249113803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249113803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249113803">(Aug 11 2021 at 14:15)</a>:</h4>
<p>We should certainly update the publisher to handle the situation of the name being omitted.</p>



<a name="249114257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249114257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249114257">(Aug 11 2021 at 14:18)</a>:</h4>
<p>Is there a current version of the IG i can look at online?</p>



<a name="249115324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249115324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249115324">(Aug 11 2021 at 14:25)</a>:</h4>
<p><span class="user-mention" data-user-id="421123">@Andy Stevens</span></p>



<a name="249115526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249115526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249115526">(Aug 11 2021 at 14:27)</a>:</h4>
<p>Like, I would like to see the differential table for the patient resource in this IG</p>



<a name="249115552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249115552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249115552">(Aug 11 2021 at 14:27)</a>:</h4>
<p>does it define HumanName as a non-mandatory field?</p>



<a name="249115657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249115657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249115657">(Aug 11 2021 at 14:28)</a>:</h4>
<p>What is the cardinality and is there a flag for that field?</p>



<a name="249116334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249116334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stevens <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249116334">(Aug 11 2021 at 14:33)</a>:</h4>
<p>Heres our current IG: <a href="http://cbsig.chai.gatech.edu/index.html">http://cbsig.chai.gatech.edu/index.html</a><br>
It doesnt have that set of examples that is causing the issue, but all of the profiles involved are published on there</p>



<a name="249116483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249116483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249116483">(Aug 11 2021 at 14:34)</a>:</h4>
<p>So that's a big dead link for me</p>



<a name="249116495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249116495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stevens <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249116495">(Aug 11 2021 at 14:34)</a>:</h4>
<p>name is originally a 0..* cardinality and we added a MS flag in case there ever will be a name (our sponsors like options), but still 0..*</p>



<a name="249116638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249116638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stevens <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249116638">(Aug 11 2021 at 14:35)</a>:</h4>
<p>oh sorry I completely forgot that its currently behind a VPN for us. Heres the differential table for the patient:<br>
<a href="/user_uploads/10155/NcUlQUovwfB3YgYqp1ttPGK9/Screen-Shot-2021-08-11-at-10.35.07-AM.png">Screen-Shot-2021-08-11-at-10.35.07-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/NcUlQUovwfB3YgYqp1ttPGK9/Screen-Shot-2021-08-11-at-10.35.07-AM.png" title="Screen-Shot-2021-08-11-at-10.35.07-AM.png"><img src="/user_uploads/10155/NcUlQUovwfB3YgYqp1ttPGK9/Screen-Shot-2021-08-11-at-10.35.07-AM.png"></a></div>



<a name="249116735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249116735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249116735">(Aug 11 2021 at 14:36)</a>:</h4>
<p>okay</p>



<a name="249116862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249116862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249116862">(Aug 11 2021 at 14:36)</a>:</h4>
<p>So, please open an issue in github: <a href="https://github.com/hapifhir/org.hl7.fhir.core/issues">https://github.com/hapifhir/org.hl7.fhir.core/issues</a> (the files for this are located in the core project)</p>



<a name="249116894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249116894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249116894">(Aug 11 2021 at 14:37)</a>:</h4>
<p>include all the details you provided above with the differential table screenshot</p>



<a name="249117186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249117186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249117186">(Aug 11 2021 at 14:39)</a>:</h4>
<p>tag me in the github issue once you've created it <span class="user-mention" data-user-id="421123">@Andy Stevens</span></p>



<a name="249118345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249118345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Stevens <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249118345">(Aug 11 2021 at 14:48)</a>:</h4>
<p>ok issue has been created</p>



<a name="249313865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249313865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249313865">(Aug 13 2021 at 01:55)</a>:</h4>
<p>I also see a strange error in DiagnosticReport gen:</p>
<div class="codehilite"><pre><span></span><code>Generating Narratives                                                            (00:23.0711)
Publishing Content Failed: Cannot invoke &quot;org.hl7.fhir.r5.renderers.utils.BaseWrappers$PropertyWrapper.hasValues()&quot; because &quot;t&quot; is null (00:24.0535)
                                                                                 (00:24.0535)
Use -? to get command line help                                                  (00:24.0536)
                                                                                 (00:24.0537)
Stack Dump (for debugging):                                                      (00:24.0537)
java.lang.NullPointerException: Cannot invoke &quot;org.hl7.fhir.r5.renderers.utils.BaseWrappers$PropertyWrapper.hasValues()&quot; because &quot;t&quot; is null
    at org.hl7.fhir.r5.renderers.DiagnosticReportRenderer.fetchObservations(DiagnosticReportRenderer.java:194)
    at org.hl7.fhir.r5.renderers.DiagnosticReportRenderer.render(DiagnosticReportRenderer.java:123)
    at org.hl7.fhir.r5.renderers.ResourceRenderer.render(ResourceRenderer.java:84)
    at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:1176)
    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3912)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:893)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:748)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8566)
</code></pre></div>



<a name="249313920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249313920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249313920">(Aug 13 2021 at 01:56)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span></p>



<a name="249361236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249361236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249361236">(Aug 13 2021 at 13:38)</a>:</h4>
<p>This is a different issue, and should probably go in a different thread. The only thing in common is that you are both encountering issues with the same data type. Can you start a new thread with details on how you reproduced this, with all the inputs please.</p>



<a name="249361243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20DiagnosticReport%20Narrative%20Generation/near/249361243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20DiagnosticReport.20Narrative.20Generation.html#249361243">(Aug 13 2021 at 13:38)</a>:</h4>
<p><span class="user-mention" data-user-id="194192">@Richard Stanley</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
