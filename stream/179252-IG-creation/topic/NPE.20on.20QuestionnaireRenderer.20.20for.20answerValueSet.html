---
layout: page
title: "FHIR Chat  · NPE on QuestionnaireRenderer  for answerValueSet · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPE.20on.20QuestionnaireRenderer.20.20for.20answerValueSet.html">NPE on QuestionnaireRenderer  for answerValueSet</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="260848418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPE%20on%20QuestionnaireRenderer%20%20for%20answerValueSet/near/260848418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joee Garcia <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPE.20on.20QuestionnaireRenderer.20.20for.20answerValueSet.html#260848418">(Nov 09 2021 at 19:29)</a>:</h4>
<p>In our SDC IG, when trying to create an example for <a href="http://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-referencesContained.html">http://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-referencesContained.html</a>.  I get an NPE when the answerValueSet only has an extension instead of a value.</p>
<div class="codehilite"><pre><span></span><code>    &lt;item&gt;
      &lt;linkId value=&quot;2.4&quot;/&gt;
      &lt;text value=&quot;Applicable health conditions&quot;/&gt;
      &lt;type value=&quot;choice&quot;/&gt;
      &lt;repeats value=&quot;true&quot;/&gt;
      &lt;answerValueSet&gt;
        &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/cqf-expression&quot;&gt;
          &lt;valueExpression&gt;
            &lt;language value=&quot;text/fhirpath&quot;/&gt;
            &lt;expression value=&quot;iif(%patient.gender=&#39;female&#39;,&#39;#vsConditionsFemale&#39;,iif(%patient.gender=&#39;male&#39;, &#39;#vsConditionsFemale&#39;, &#39;#vsConditionsAll&#39;))&quot;&gt;
              &lt;extension url=&quot;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-referencesContained&quot;&gt;
                &lt;valueReference&gt;
                  &lt;reference value=&quot;#vsConditionsFemale&quot;/&gt;
                &lt;/valueReference&gt;
              &lt;/extension&gt;
              &lt;extension url=&quot;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-referencesContained&quot;&gt;
                &lt;valueReference&gt;
                  &lt;reference value=&quot;#vsConditionsAll&quot;/&gt;
                &lt;/valueReference&gt;
              &lt;/extension&gt;
            &lt;/expression&gt;
          &lt;/valueExpression&gt;
        &lt;/extension&gt;
      &lt;/answerValueSet&gt;
    &lt;/item&gt;
</code></pre></div>
<p>I get this build exception...</p>
<div class="codehilite"><pre><span></span><code>java.lang.NullPointerException
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderTreeItem(QuestionnaireRenderer.java:293)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderTree(QuestionnaireRenderer.java:88)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:57)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:48)
        at org.hl7.fhir.r5.renderers.ResourceRenderer.render(ResourceRenderer.java:74)
        at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:1179)
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3970)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:905)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:759)
</code></pre></div>



<a name="260851132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPE%20on%20QuestionnaireRenderer%20%20for%20answerValueSet/near/260851132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPE.20on.20QuestionnaireRenderer.20.20for.20answerValueSet.html#260851132">(Nov 09 2021 at 19:50)</a>:</h4>
<p>fixed next release</p>



<a name="263356592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPE%20on%20QuestionnaireRenderer%20%20for%20answerValueSet/near/263356592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joee Garcia <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPE.20on.20QuestionnaireRenderer.20.20for.20answerValueSet.html#263356592">(Dec 01 2021 at 20:57)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , </p>
<p>I tried to build with the latest Publisher version (FHIR IG Publisher Version 1.1.89 (Git# 32eed25d439b)) but got a different exception this time:</p>
<div class="codehilite"><pre><span></span><code>onGenerate:
Exception generating resource /Users/jgarcia/Projects/FHIR/git/sdc/input/examples/questionnaire-sdc-profile-example-form-behavior::Questionnaire/questionnaire-sdc-profile-example-form-behavior: null (00:45.0481)
java.lang.NullPointerException
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.listOptions(QuestionnaireRenderer.java:795)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderFormItem(QuestionnaireRenderer.java:611)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderFormItem(QuestionnaireRenderer.java:768)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderForm(QuestionnaireRenderer.java:558)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:53)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:48)
        at org.hl7.fhir.r5.renderers.ResourceRenderer.build(ResourceRenderer.java:57)
        at org.hl7.fhir.igtools.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:61)
        at org.hl7.fhir.igtools.publisher.Publisher.generateOutputsQuestionnaire(Publisher.java:8296)
        at org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:7137)
        at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:7072)
        at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5233)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:954)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:793)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8927)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.listOptions(QuestionnaireRenderer.java:795) (00:45.0491)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderFormItem(QuestionnaireRenderer.java:611) (00:45.0492)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderFormItem(QuestionnaireRenderer.java:768) (00:45.0492)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderForm(QuestionnaireRenderer.java:558) (00:45.0493)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:53) (00:45.0494)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:48) (00:45.0494)
   org.hl7.fhir.r5.renderers.ResourceRenderer.build(ResourceRenderer.java:57)    (00:45.0495)
   org.hl7.fhir.igtools.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:61) (00:45.0495)
   org.hl7.fhir.igtools.publisher.Publisher.generateOutputsQuestionnaire(Publisher.java:8296) (00:45.0496)
   org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:7137) (00:45.0497)
   org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:7072) (00:45.0497)
   org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5233)        (00:45.0498)
   org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:954)         (00:45.0498)
   org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:793)          (00:45.0499)
   org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8927)            (00:45.0499)
</code></pre></div>



<a name="263356907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPE%20on%20QuestionnaireRenderer%20%20for%20answerValueSet/near/263356907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPE.20on.20QuestionnaireRenderer.20.20for.20answerValueSet.html#263356907">(Dec 01 2021 at 21:00)</a>:</h4>
<p>whoops. fixed next release</p>



<a name="264038397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPE%20on%20QuestionnaireRenderer%20%20for%20answerValueSet/near/264038397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joee Garcia <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPE.20on.20QuestionnaireRenderer.20.20for.20answerValueSet.html#264038397">(Dec 07 2021 at 17:36)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ,</p>
<p>Thanks for putting a fix in but I'm still getting an NPE with the latest Publisher version (FHIR IG Publisher Version 1.1.90 (Git# 9633e099796f)...</p>
<div class="codehilite"><pre><span></span><code>onGenerate:
Exception generating resource /Users/jgarcia/Projects/FHIR/git/sdc/input/examples/questionnaire-sdc-profile-example-form-behavior::Questionnaire/questionnaire-sdc-profile-example-form-behavior: null (01:06.0297)
java.lang.NullPointerException
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderFormItem(QuestionnaireRenderer.java:706)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderFormItem(QuestionnaireRenderer.java:768)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderForm(QuestionnaireRenderer.java:558)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:53)
        at org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:48)
        at org.hl7.fhir.r5.renderers.ResourceRenderer.build(ResourceRenderer.java:57)
        at org.hl7.fhir.igtools.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:61)
        at org.hl7.fhir.igtools.publisher.Publisher.generateOutputsQuestionnaire(Publisher.java:8302)
        at org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:7143)
        at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:7078)
        at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5239)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:955)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:794)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8942)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderFormItem(QuestionnaireRenderer.java:706) (01:06.0318)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderFormItem(QuestionnaireRenderer.java:768) (01:06.0319)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.renderForm(QuestionnaireRenderer.java:558) (01:06.0319)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:53) (01:06.0320)
   org.hl7.fhir.r5.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:48) (01:06.0321)
   org.hl7.fhir.r5.renderers.ResourceRenderer.build(ResourceRenderer.java:57)    (01:06.0322)
   org.hl7.fhir.igtools.renderers.QuestionnaireRenderer.render(QuestionnaireRenderer.java:61) (01:06.0323)
   org.hl7.fhir.igtools.publisher.Publisher.generateOutputsQuestionnaire(Publisher.java:8302) (01:06.0324)
   org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:7143) (01:06.0325)
   org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:7078) (01:06.0325)
   org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5239)        (01:06.0326)
   org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:955)         (01:06.0327)
   org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:794)          (01:06.0327)
   org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8942)            (01:06.0328)
</code></pre></div>



<a name="264046612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPE%20on%20QuestionnaireRenderer%20%20for%20answerValueSet/near/264046612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPE.20on.20QuestionnaireRenderer.20.20for.20answerValueSet.html#264046612">(Dec 07 2021 at 18:14)</a>:</h4>
<p>well, I'll try again in the next release</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
