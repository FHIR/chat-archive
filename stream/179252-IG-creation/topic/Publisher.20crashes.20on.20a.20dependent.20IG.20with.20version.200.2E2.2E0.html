---
layout: page
title: "FHIR Chat  · Publisher crashes on a dependent IG with version 0.2.0 · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20crashes.20on.20a.20dependent.20IG.20with.20version.200.2E2.2E0.html">Publisher crashes on a dependent IG with version 0.2.0</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229757628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20crashes%20on%20a%20dependent%20IG%20with%20version%200.2.0/near/229757628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20crashes.20on.20a.20dependent.20IG.20with.20version.200.2E2.2E0.html#229757628">(Mar 10 2021 at 22:18)</a>:</h4>
<p>The PHD IG references a code system that is defined in the uv-pocd IG. The build gives a warning when the version of the pocd IG is 'current'. So the version vas changed to the latest balloted version 0.2.0</p>
<div class="codehilite"><pre><span></span><code>  &lt;dependsOn&gt;
    &lt;uri value=&quot;http://hl7.org/fhir/uv/pocd/ImplementationGuide/hl7.fhir.uv.pocd&quot;/&gt;
    &lt;packageId value=&quot;hl7.fhir.uv.pocd&quot;/&gt;
    &lt;version value=&quot;0.2.0&quot;/&gt;
  &lt;/dependsOn&gt;
</code></pre></div>
<p>Stack trace below:</p>
<div class="codehilite"><pre><span></span><code>Publishing Content Failed: Error loading C:\Users\brian\.fhir\packages\hl7.fhir.uv.pocd#0.2.0\package\ImplementationGuide-PoCD.json: com.google.gson.JsonPrimitive cannot be cast to com.google.gson
.JsonArray (00:56.0362)
                                                                                 (00:56.0363)
Use -? to get command line help                                                  (00:56.0364)
                                                                                 (00:56.0365)
Stack Dump (for debugging):                                                      (00:56.0366)
org.hl7.fhir.exceptions.FHIRException: Error loading C:\Users\brian\.fhir\packages\hl7.fhir.uv.pocd#0.2.0\package\ImplementationGuide-PoCD.json: com.google.gson.JsonPrimitive cannot be cast to com
.google.gson.JsonArray
        at org.hl7.fhir.r5.context.SimpleWorkerContext$PackageResourceLoader.loadResource(SimpleWorkerContext.java:131)
        at org.hl7.fhir.r5.context.CanonicalResourceManager$CanonicalResourceProxy.getResource(CanonicalResourceManager.java:76)
        at org.hl7.fhir.r5.context.CanonicalResourceManager$CachedCanonicalResource.getResource(CanonicalResourceManager.java:126)
        at org.hl7.fhir.r5.context.CanonicalResourceManager.listAllM(CanonicalResourceManager.java:359)
        at org.hl7.fhir.r5.context.BaseWorkerContext.allConformanceResources(BaseWorkerContext.java:1618)
        at org.hl7.fhir.r5.renderers.ValueSetRenderer.findReleventMaps(ValueSetRenderer.java:100)
        at org.hl7.fhir.r5.renderers.ValueSetRenderer.render(ValueSetRenderer.java:77)
        at org.hl7.fhir.r5.renderers.ValueSetRenderer.render(ValueSetRenderer.java:73)
        at org.hl7.fhir.r5.renderers.ResourceRenderer.render(ResourceRenderer.java:74)
        at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:1135)
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3826)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:877)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:732)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8417)
Caused by: java.lang.ClassCastException: com.google.gson.JsonPrimitive cannot be cast to com.google.gson.JsonArray
        at com.google.gson.JsonObject.getAsJsonArray(JsonObject.java:195)
        at org.hl7.fhir.r5.formats.JsonParser.parseImplementationGuideProperties(JsonParser.java:16598)
        at org.hl7.fhir.r5.formats.JsonParser.parseImplementationGuide(JsonParser.java:16525)
        at org.hl7.fhir.r5.formats.JsonParser.parseResource(JsonParser.java:30609)
        at org.hl7.fhir.r5.formats.JsonParserBase.parse(JsonParserBase.java:125)
        at org.hl7.fhir.convertors.loaders.R5ToR5Loader.loadResource(R5ToR5Loader.java:125)
        at org.hl7.fhir.r5.context.SimpleWorkerContext$PackageResourceLoader.loadResource(SimpleWorkerContext.java:123)
</code></pre></div>



<a name="229759765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20crashes%20on%20a%20dependent%20IG%20with%20version%200.2.0/near/229759765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20crashes.20on.20a.20dependent.20IG.20with.20version.200.2E2.2E0.html#229759765">(Mar 10 2021 at 22:35)</a>:</h4>
<p>Is that release using the same version of FHIR?</p>



<a name="229760851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20crashes%20on%20a%20dependent%20IG%20with%20version%200.2.0/near/229760851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20crashes.20on.20a.20dependent.20IG.20with.20version.200.2E2.2E0.html#229760851">(Mar 10 2021 at 22:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179252-IG-creation/topic/Publisher.20crashes.20on.20a.20dependent.20IG.20with.20version.200.2E2.2E0/near/229759765">said</a>:</p>
<blockquote>
<p>Is that release using the same version of FHIR?</p>
</blockquote>
<p>No it is not. There has not been a balloting in version 4 yet</p>



<a name="229767510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20crashes%20on%20a%20dependent%20IG%20with%20version%200.2.0/near/229767510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20crashes.20on.20a.20dependent.20IG.20with.20version.200.2E2.2E0.html#229767510">(Mar 10 2021 at 23:41)</a>:</h4>
<p>You could ask for the publication of a frozen snapshot of your dependency IG - solely for use in this publication.  Or you can remove the dependency somehow</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
