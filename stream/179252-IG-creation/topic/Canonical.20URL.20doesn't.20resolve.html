---
layout: page
title: "FHIR Chat  · Canonical URL doesn&#x27;t resolve · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html">Canonical URL doesn&#x27;t resolve</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="167960781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/167960781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#167960781">(Jun 12 2019 at 15:53)</a>:</h4>
<p>We have submitted our draft IG via github to <a href="https://github.com/HL7/davinci-pdex-formulary" target="_blank" title="https://github.com/HL7/davinci-pdex-formulary">https://github.com/HL7/davinci-pdex-formulary</a><br>
and it successfully builds at <a href="http://build.fhir.org/ig/HL7/davinci-pdex-formulary/" target="_blank" title="http://build.fhir.org/ig/HL7/davinci-pdex-formulary/">http://build.fhir.org/ig/HL7/davinci-pdex-formulary/</a></p>
<p>However, based on <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> guidance, we adjusted the canonical URL to <a href="http://hl7.org/fhir/us/Davinci-drug-formulary" target="_blank" title="http://hl7.org/fhir/us/Davinci-drug-formulary">http://hl7.org/fhir/us/Davinci-drug-formulary</a>.</p>
<p>We have myriad IG publisher errors because <a href="http://hl7.org/fhir/us/Davinci-drug-formulary" target="_blank" title="http://hl7.org/fhir/us/Davinci-drug-formulary">http://hl7.org/fhir/us/Davinci-drug-formulary</a> "does not resolve".</p>
<p>What needs to happen so that the canonical URL will resolve?<br>
Or is this an "excused error" in the IG build process for now?</p>
<p>Thx,<br>
Saul</p>



<a name="168037515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168037515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168037515">(Jun 13 2019 at 11:54)</a>:</h4>
<p>where did you adjust it?</p>



<a name="168041634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168041634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168041634">(Jun 13 2019 at 12:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - Based on the <a href="https://build.fhir.org/ig/HL7/davinci-pdex-formulary/qa.html" target="_blank" title="https://build.fhir.org/ig/HL7/davinci-pdex-formulary/qa.html">qa.html</a> it looks like the resolution errors happen when validating definitions where one of the <code>identifier</code>s uses <code>http://hl7.org/fhir/us/Davinci-drug-formulary</code> as the <code>system</code> of the identifier.  Is <code>identifier.system</code> expected to resolve?  Isn't it just a logical identifier for the identifier system that maybe <em>should</em> resolve but is not <em>required</em> to resolve?</p>



<a name="168053841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168053841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168053841">(Jun 13 2019 at 15:07)</a>:</h4>
<p>Adjusted = set it in the ig.json  (in <a href="https://github.com/HL7/davinci-pdex-formulary/blob/master/ig.json" target="_blank" title="https://github.com/HL7/davinci-pdex-formulary/blob/master/ig.json">https://github.com/HL7/davinci-pdex-formulary/blob/master/ig.json</a>)</p>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> is asking whether <a href="http://hl7.org/fhir/us/Davinci-drug-formulary" target="_blank" title="http://hl7.org/fhir/us/Davinci-drug-formulary">http://hl7.org/fhir/us/Davinci-drug-formulary</a> <em>needs</em> to resolve.<br>
At this point in time, should <a href="http://hl7.org/fhir/us/Davinci-drug-formulary" target="_blank" title="http://hl7.org/fhir/us/Davinci-drug-formulary">http://hl7.org/fhir/us/Davinci-drug-formulary</a>   resolve?</p>



<a name="168100309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168100309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168100309">(Jun 14 2019 at 01:53)</a>:</h4>
<p>i don't know. what do you think it points to?</p>



<a name="168100316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168100316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168100316">(Jun 14 2019 at 01:53)</a>:</h4>
<p>I can't see why you think it should resolve</p>



<a name="168100369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168100369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168100369">(Jun 14 2019 at 01:54)</a>:</h4>
<p>and what's with the broken &amp; in index.html?</p>



<a name="168138457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168138457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168138457">(Jun 14 2019 at 14:14)</a>:</h4>
<p>This is fairly urgent, since the DrugFormularyIG needs to be finalized by 6/17/19.</p>
<p>Regarding resolution:<br>
In general, it appears that the canonical-URL for an IG in ballot doesn't resolve.  That's fine.<br>
Almost all of the errors in this IG relate to extensions that reference locally defined codesystems  (e.g. <a href="https://build.fhir.org/ig/HL7/davinci-pdex-formulary/branches/master/CodeSystem-usdf-PharmacyTypeCS.json.html" target="_blank" title="https://build.fhir.org/ig/HL7/davinci-pdex-formulary/branches/master/CodeSystem-usdf-PharmacyTypeCS.json.html">https://build.fhir.org/ig/HL7/davinci-pdex-formulary/branches/master/CodeSystem-usdf-PharmacyTypeCS.json.html</a> ) that use the canonical-URL.  So for example:</p>
<p>{<br>
  "resourceType" : "CodeSystem",<br>
  "id" : "usdf-PharmacyTypeCS",<br>
  "text" : {<br>
    "status" : "generated",<br>
    "div" : "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;p&gt;&lt;b&gt;PharmacyTypeCS CodeSystem&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;Types of Pharmacies. Each payer will have its own controlled vocabulary.&lt;/p&gt;\n&lt;/div&gt;"<br>
  },<br>
  "url" : "<a href="http://hl7.org/fhir/us/Davinci-drug-formulary/CodeSystem/usdf-PharmacyTypeCS" target="_blank" title="http://hl7.org/fhir/us/Davinci-drug-formulary/CodeSystem/usdf-PharmacyTypeCS">http://hl7.org/fhir/us/Davinci-drug-formulary/CodeSystem/usdf-PharmacyTypeCS</a>",<br>
  "identifier" : [<br>
    {<br>
      "system" : <strong>"http://hl7.org/fhir/us/Davinci-drug-formulary",</strong><br>
      "value" : "usdf.PharmacyTypeCS"<br>
    }<br>
  ],<br>
  "version" : "0.3",<br>
  "name" : "PharmacyTypeCS",<br>
  "title" : "PharmacyTypeCS",<br>
  "status" : "draft",</p>
<p>There shouldn't be any expectation/need for this URL to resolve TODAY.   <br>
So, I think flagging these as errors is incorrect.      At the point in time when the canonicalURL resolves, this codesystem reference will also resolve.</p>



<a name="168138592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168138592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168138592">(Jun 14 2019 at 14:16)</a>:</h4>
<blockquote>
<p>and what's with the broken &amp; in index.html?<br>
Fixed...</p>
</blockquote>



<a name="168217663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168217663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168217663">(Jun 15 2019 at 18:10)</a>:</h4>
<p>The error:</p>
<blockquote>
<p>URL value '<a href="http://hl7.org/fhir/us/Davinci-drug-formulary" target="_blank" title="http://hl7.org/fhir/us/Davinci-drug-formulary">http://hl7.org/fhir/us/Davinci-drug-formulary</a>' does not resolve</p>
</blockquote>
<p>To resolve, it would find a CodeSystem with a canonical URL of <a href="http://hl7.org/fhir/us/Davinci-drug-formulary" target="_blank" title="http://hl7.org/fhir/us/Davinci-drug-formulary">http://hl7.org/fhir/us/Davinci-drug-formulary</a>. I do not see any such code system in the IG. Nor do I see any such code system in US-Core, where the canonical URL implies that it come from, but you don't have the authority to create resources in the US Core namespace anyway. </p>
<p>The fragment you have above implies that you think that using some URL in an identifier has some meaning but that is not the case.</p>



<a name="168217668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168217668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168217668">(Jun 15 2019 at 18:11)</a>:</h4>
<p>the correct system value to refer to the code system you have there is <code>http://hl7.org/fhir/us/Davinci-drug-formulary/CodeSystem/usdf-PharmacyTypeCS</code></p>



<a name="168218119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168218119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168218119">(Jun 15 2019 at 18:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- this URL is in the <code>identifier</code> -- it is the <code>identifier.system</code>.  I think the idea is that the IG declares business identifiers for each profile/codesystem/valueset -- for which the business identifier's <code>system</code> is actually the canonical URL of the IG.  Is that not valid?</p>



<a name="168218316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168218316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168218316">(Jun 15 2019 at 18:31)</a>:</h4>
<p>oh. I see. What makes it ok to just pretend that the canonical URL of the IG is also the URL of an identifier system?</p>



<a name="168218376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168218376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168218376">(Jun 15 2019 at 18:33)</a>:</h4>
<p>I'm not sure I follow the value of business identifiers like that anyway. What do they achieve?</p>



<a name="168280658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168280658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168280658">(Jun 17 2019 at 03:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- I don't see any specific rules around <code>identifier.system</code> that would prohibit such a thing.  It just says it should be a URL that ensures the identifiers are unique.  That said, the whole thing does seem kind of redundant, doesn't it?  I think our CIMPL tooling is generating out those identifiers like that.  I'll take a look to see if it's really necessary.  We <em>might</em> be relying on it somewhere; I don't remember.</p>



<a name="168280672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168280672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168280672">(Jun 17 2019 at 03:55)</a>:</h4>
<p>if they're CIMPL identifiers, fine... but they should be in some other space, identified by a naming system.</p>



<a name="168280715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168280715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168280715">(Jun 17 2019 at 03:56)</a>:</h4>
<p>I guess you're right that we don't have a specific rule saying that you can't use an IG canonical URL as a identifier system space. But we do generally have a rule that you don't repurpose URLs (if for no other reason that they blow up OWL)</p>



<a name="168280766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168280766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168280766">(Jun 17 2019 at 03:58)</a>:</h4>
<p>OK.  I think US Drug Formularies is trying to nail down a build tomorrow.  Is this a thing that would/will cause it to fail QA?  Just trying to prioritize the issues to ensure we fix the right ones.</p>



<a name="168280855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Canonical%20URL%20doesn%27t%20resolve/near/168280855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Canonical.20URL.20doesn&#x27;t.20resolve.html#168280855">(Jun 17 2019 at 04:01)</a>:</h4>
<p>probably not. I'd rather it was fixed, but I guess I wouldn't stop ballot over it</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
