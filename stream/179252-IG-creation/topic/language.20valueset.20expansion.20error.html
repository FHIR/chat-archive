---
layout: page
title: "FHIR Chat  · language valueset expansion error · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html">language valueset expansion error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227538972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227538972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227538972">(Feb 24 2021 at 02:35)</a>:</h4>
<p>In US Core this error has been around a long time and has yet to be resolved:</p>
<p><a href="http://hl7.org/fhir/us/core/2021JAN/ValueSet-simple-language.html">http://hl7.org/fhir/us/core/2021JAN/ValueSet-simple-language.html</a></p>
<p>valueset-simple-language.xml "Error from server: Language valuesets cannot be expanded as they are based on a grammar"</p>
<p>Is there any roadmap to fix or should we redefine the CLD or capture the Value set from elsewhere  (<span class="user-mention" data-user-id="191991">@Gay Dolin</span>  suggested using  <a href="http://www.loc.gov/standards/iso639-2/php/code_list.php">http://www.loc.gov/standards/iso639-2/php/code_list.php</a> to the value set description page  <a href="http://hl7.org/fhir/us/core/2021JAN/ValueSet-simple-language.html">http://hl7.org/fhir/us/core/2021JAN/ValueSet-simple-language.html</a> ?</p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?  <span class="user-mention" data-user-id="191503">@Robert McClure</span>  ?</p>



<a name="227542167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227542167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227542167">(Feb 24 2021 at 03:22)</a>:</h4>
<p>do you need to resolve it?</p>



<a name="227628766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227628766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227628766">(Feb 24 2021 at 16:35)</a>:</h4>
<p>Or would be nice for the reader to have a peek.  I could just go with gay suggestion and show a bunch of codes. But then that would risk it becoming the defacing standard.   Monkey see monkey do</p>



<a name="227628844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227628844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227628844">(Feb 24 2021 at 16:35)</a>:</h4>
<p>Gay’s Suggestion</p>



<a name="227628882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227628882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227628882">(Feb 24 2021 at 16:35)</a>:</h4>
<p>Amy advice is welcome.</p>



<a name="227663523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227663523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227663523">(Feb 24 2021 at 20:10)</a>:</h4>
<p>well, the value set is not a fixed list of codes. Should it actually be a fixed list?</p>



<a name="227667805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227667805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227667805">(Feb 24 2021 at 20:36)</a>:</h4>
<p>no not technically but i think it would be handy to have a starter set.  I think ill add an intro that lists some as an example and make clear is not only representative and incomplete</p>



<a name="227667966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227667966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227667966">(Feb 24 2021 at 20:37)</a>:</h4>
<p>We get ballot comments re this every time.</p>



<a name="227680193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227680193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227680193">(Feb 24 2021 at 21:59)</a>:</h4>
<p>ok. so don't change the binding. In the medium term, this will be resolved by my next round of binding work, but that's probably a few months away</p>



<a name="227713418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227713418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227713418">(Feb 25 2021 at 03:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> What we need to do I think is allow that the bcp47 code system is <a href="https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry">this set of atoms</a> and the initial include is all atoms with type="language" or type="region" so we have the basic allowed atoms.</p>
<p>Then what I would like to do is add into the include for this  value set  a new value set that is an enumerated set of defined known expressions that meet the requirement noted. Lloyd's initial list based on members is a meager first step and we need to put in a lot more.  <span class="user-mention" data-user-id="191991">@Gay Dolin</span> <span class="user-mention" data-user-id="191401">@Eric Haas</span> I can help work on this if you want. If GG can render the code system as I've suggested (is it already?) then perhaps we can make a value set that works now.</p>



<a name="227713837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227713837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227713837">(Feb 25 2021 at 03:51)</a>:</h4>
<p>that aligns with my intent for the next round of binding work, but, as I said, it's  few months away</p>



<a name="227784534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227784534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227784534">(Feb 25 2021 at 15:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  can you share your  "meager first step" (see above)?</p>



<a name="227786373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/227786373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#227786373">(Feb 25 2021 at 15:37)</a>:</h4>
<p>I don't think it's Lloyd's.  I think Rob's referring to the <a href="https://build.fhir.org/valueset-languages.html">Common Languages</a> value set, which is driven by the languages typically used by HL7 affiliates.  Grahame created it.</p>



<a name="242002254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/242002254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#242002254">(Jun 08 2021 at 23:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  where are we at with this one.</p>



<a name="242559233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/242559233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#242559233">(Jun 14 2021 at 07:06)</a>:</h4>
<p>no where. I need to do more work on binding</p>



<a name="261642527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/261642527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#261642527">(Nov 16 2021 at 13:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , I am circling back on this error for US Core which was granted a variance  in June:</p>
<p>input/resources/valueset-simple-language.xml </p>
<p>Path    Severity    Message</p>
<p>ValueSet.where(id = 'simple-language')  error   Error from server: Language valuesets cannot be expanded as they are based on a grammar</p>



<a name="261874153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/language%20valueset%20expansion%20error/near/261874153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/language.20valueset.20expansion.20error.html#261874153">(Nov 18 2021 at 01:11)</a>:</h4>
<p>well, I admit that I do not have time for this yet but it does keep coming up. So as soon as the ballot crunch eases.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
