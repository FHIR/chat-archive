---
layout: page
title: "FHIR Chat  · Profiles Versioning · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html">Profiles Versioning</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="268709981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268709981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diana_Ovelgoenne <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268709981">(Jan 20 2022 at 15:33)</a>:</h4>
<p>I always have seen that the version of the IG gets propagated to the version of the individual profiles. However from the structure definition it is saying that the version should be a timestamp or something arbitrary given manually.<br>
I would like to read your insights on best practice, shall the profile version match the one of the IG, yes or no and why?<br>
Thanks <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="268715109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268715109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268715109">(Jan 20 2022 at 16:04)</a>:</h4>
<p>my opinion: there are good reasons to have an individual artifact having a specific version, but if you have no good reason then replicating the IG version in the artifact is a reasonable practice. (Note early IGs will tend to just peg them all together, but once you get high in the maturity it is best to revise only what is necessary to revise. Thus a reader can know that you just updated the IG because of a specific change so that they can determine how they react)... so it is a maturity thing more than anything.</p>



<a name="268732440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268732440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268732440">(Jan 20 2022 at 18:00)</a>:</h4>
<p>By default, the publisher applies the IG version to all resources, unless you use the parameter apply-version=false.  And if you do that, you need to make sure you give everything a version yourself. (Personally, I’d like an apply-version=if-missing option.)</p>



<a name="268733247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268733247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268733247">(Jan 20 2022 at 18:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191380">Elliot Silver</span> <a href="#narrow/stream/179252-IG-creation/topic/Profiles.20Versioning/near/268732440">said</a>:</p>
<blockquote>
<p>(Personally, I’d like an apply-version=if-missing option.)</p>
</blockquote>
<p>I think this makes sense and it would be handy. Should apply-version override explicit versions?</p>



<a name="268733967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268733967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268733967">(Jan 20 2022 at 18:11)</a>:</h4>
<p>All the apply-* currently override. It makes sense to me to only apply if missing, but that would break existing behaviour.</p>



<a name="268734327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268734327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268734327">(Jan 20 2022 at 18:13)</a>:</h4>
<p>so it would be nice to have a new code added to "apply-version". Rather than just true/false... "maybe"?</p>



<a name="268734586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268734586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268734586">(Jan 20 2022 at 18:15)</a>:</h4>
<p>apply-version = "fix it if I made a mistake"</p>



<a name="268734867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268734867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268734867">(Jan 20 2022 at 18:17)</a>:</h4>
<p>ah, leverage the clairvoyance of the IG publisher... good plan.</p>



<a name="268741562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268741562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268741562">(Jan 20 2022 at 19:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span> that is my question: should we look into changing the behaviour of the parameter? Or it's best to propose a new parameter and let the discussion flow from there?</p>



<a name="268743706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268743706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268743706">(Jan 20 2022 at 19:20)</a>:</h4>
<p>I think it's worth proposing a change, but my expectation is that is a new value for the parameters of "if-absent" is a safer option than changing the meaning of "true"</p>



<a name="268750766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268750766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268750766">(Jan 20 2022 at 20:13)</a>:</h4>
<p>Worth adding a tracker item to the publisher</p>



<a name="268768972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/268768972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#268768972">(Jan 20 2022 at 22:44)</a>:</h4>
<p><a href="https://github.com/HL7/fhir-ig-publisher/issues/377">https://github.com/HL7/fhir-ig-publisher/issues/377</a></p>



<a name="271826943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271826943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diana_Ovelgoenne <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271826943">(Feb 14 2022 at 13:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191380">Elliot Silver</span> <a href="#narrow/stream/179252-IG-creation/topic/Profiles.20Versioning/near/268732440">said</a>:</p>
<blockquote>
<p>By default, the publisher applies the IG version to all resources, unless you use the parameter apply-version=false.  And if you do that, you need to make sure you give everything a version yourself. (Personally, I’d like an apply-version=if-missing option.)</p>
</blockquote>
<p>do I put the parameter at the igi.ini or where exactly? I've done some experiments but still the version taken is the one of the IG and not the profile's. thanks!</p>



<a name="271866898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271866898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271866898">(Feb 14 2022 at 18:20)</a>:</h4>
<p>The parameter is in your IG resource, at definition.parameter. Take a look at  <a href="https://github.com/ElliotSilver/ca-baseline/blob/master/input/cabaseline.xml">https://github.com/ElliotSilver/ca-baseline/blob/master/input/cabaseline.xml</a> and you'll see  a few other parameters (copyrightyear, etc.) although this one doesn't have apply-version in it.</p>



<a name="271874301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271874301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271874301">(Feb 14 2022 at 19:15)</a>:</h4>
<p>So... I'm tracking this and wondering if SUSHI is too "helpful" here or if it's maybe doing what people want...</p>
<p>If you manually set <code>^version</code> on a profile, SUSHI uses that version, but if you <em>don't</em> then SUSHI automatically applies the IG version when it generates the profile.  So you always get the "use-the-IG-version-unless-I-specify-something-else" behavior in SUSHI.  But this also means it's impossible to generate a profile w/ <em>no version</em> in SUSHI (i.e., <code>version</code> always has some value in SUSHI-generated profiles).</p>



<a name="271893352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271893352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271893352">(Feb 14 2022 at 21:41)</a>:</h4>
<p>It's probably best if the "auto-version-stamping" is left to the publisher (same with auto-population of publisher, date, etc.)</p>



<a name="271901736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271901736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271901736">(Feb 14 2022 at 22:57)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>.  I've filed this as <a href="https://github.com/FHIR/sushi/issues/1022">SUSHI #1022</a>.</p>



<a name="271936368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271936368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diana_Ovelgoenne <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271936368">(Feb 15 2022 at 07:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191469">Chris Moesel</span> <a href="#narrow/stream/179252-IG-creation/topic/Profiles.20Versioning/near/271874301">said</a>:</p>
<blockquote>
<p>So... I'm tracking this and wondering if SUSHI is too "helpful" here or if it's maybe doing what people want...</p>
<p>If you manually set <code>^version</code> on a profile, SUSHI uses that version, but if you <em>don't</em> then SUSHI automatically applies the IG version when it generates the profile.  So you always get the "use-the-IG-version-unless-I-specify-something-else" behavior in SUSHI.  But this also means it's impossible to generate a profile w/ <em>no version</em> in SUSHI (i.e., <code>version</code> always has some value in SUSHI-generated profiles).</p>
</blockquote>
<p>I am using SUSHI and the  <code>^version</code> isn't getting applied, but the one from the IG.</p>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span>  Ig publisher is running together with sushi so i don't have control on the content of the IG resource, this would be created every time I do a _genonce, so when do I write the parameter in? I don't think it helps to change  afterwards.  <br>
<span class="user-mention" data-user-id="191469">@Chris Moesel</span>  I still believe it would be good to define it from the sushi side as that is where we have more control of what we want to do with our IG. I saw that the Structure Definitions fsh-generated by SUSHI contain the Profile Version, but this gets lost when running the ig publisher</p>



<a name="271976832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271976832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271976832">(Feb 15 2022 at 13:59)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="197447">@Diana_Ovelgoenne</span> -- I think SUSHI is writing in the version you specified in <code>^version</code> (<a href="https://fshschool.org/FSHOnline/#/share/3gS1fis">example</a>), but I suspect the IG Publisher is then overwriting it.</p>
<p>You can set IG parameters in your <code>sushi-config.yaml</code> file.  For example:</p>
<div class="codehilite" data-code-language="YAML"><pre><span></span><code><span class="nt">parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">apply-version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</code></pre></div>
<p>When I added the parameter as above, the version I specified using <code>^version</code> came through correctly after publishing.</p>
<p>For future reference, all of the available properties in <code>sushi-config.yaml</code> are documented here: <a href="https://fshschool.org/docs/sushi/configuration/#full-configuration">https://fshschool.org/docs/sushi/configuration/#full-configuration</a></p>



<a name="271978330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271978330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diana_Ovelgoenne <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271978330">(Feb 15 2022 at 14:08)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191469">@Chris Moesel</span>  it worked <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="271978371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271978371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271978371">(Feb 15 2022 at 14:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197447">Diana_Ovelgoenne</span> has marked this topic as resolved.</p>



<a name="271990761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271990761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271990761">(Feb 15 2022 at 15:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> has marked this topic as unresolved.</p>



<a name="271990862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20Versioning/near/271990862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20Versioning.html#271990862">(Feb 15 2022 at 15:32)</a>:</h4>
<p>Note that <em>not</em> applying version to everything is risky.  It means that you have to track everything that changes and manually update the versions of things and update versioned references.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
