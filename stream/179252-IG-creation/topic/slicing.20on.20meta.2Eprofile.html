---
layout: page
title: "FHIR Chat  · slicing on meta.profile · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html">slicing on meta.profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159221740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159221740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159221740">(Feb 23 2019 at 09:17)</a>:</h4>
<p>I was once told that I did not have to do slicing on a meta.profile but that may have been a misunderstanding. I want to require that implementations following a phd profile enter at least one URL in the meta.profile element which is a fixed value. However, other meta.profile URLs are also allowed if the resource is also compliant to those profiles. But I am not sure how to do that. When I don't slice I get something that looks like I have 1..* profile elements of a fixed value. At least one could interpret it that way.</p>
<p>So I tried this<br>
<code>    &lt;element id="Device.meta.profile"&gt;
      &lt;path value="Device.meta.profile" /&gt;
      &lt;slicing&gt;
        &lt;discriminator&gt;
          &lt;type value="value" /&gt;
          &lt;path value="$this" /&gt;
        &lt;/discriminator&gt;
        &lt;rules value="open" /&gt;
      &lt;/slicing&gt;
      &lt;min value="1" /&gt;
    &lt;/element&gt;
    &lt;element id="Device.meta.profile:phdProfile"&gt;
      &lt;path value="Device.meta.profile" /&gt;
      &lt;sliceName value="phdProfile" /&gt;
      &lt;min value="1" /&gt;
      &lt;max value="1" /&gt;
      &lt;fixedUri value="http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice" /&gt;
    &lt;/element&gt;</code></p>
<p>But when doing that Lloyd's framework build gives me an error saying it can't resolve the discriminator. The Example is exactly as it should be</p>
<p><code>    "meta": {
        "profile": [
            "http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice"
        ]
    },</code></p>
<p>and the built structure definition looks exactly as I want it to look; the generic profile is a sum, and the sliced profile is one fixed value. It makes more sense than the previous no-slice (but no error) but having 1..* on the fixed value.</p>



<a name="159233629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159233629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159233629">(Feb 23 2019 at 15:33)</a>:</h4>
<p>If you want to set expectations on one repetition while allowing arbitrary other repetitions, the only way to accomplish that is with slicing.</p>



<a name="159233691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159233691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159233691">(Feb 23 2019 at 15:35)</a>:</h4>
<blockquote>
<p>If you want to set expectations on one repetition while allowing arbitrary other repetitions, the only way to accomplish that is with slicing.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <br>
 okay, that's what I did above but the validator gives a cant resolve discriminator error. Any idea why?<br>
Is it the path?</p>



<a name="159233894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159233894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159233894">(Feb 23 2019 at 15:41)</a>:</h4>
<p>Try path = value</p>



<a name="159233978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159233978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159233978">(Feb 23 2019 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <br>
 shorthand for &lt;path value="value" /&gt;?</p>



<a name="159234229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159234229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159234229">(Feb 23 2019 at 15:51)</a>:</h4>
<p>y</p>



<a name="159238324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159238324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159238324">(Feb 23 2019 at 17:39)</a>:</h4>
<p>(deleted)</p>



<a name="159317059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159317059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159317059">(Feb 25 2019 at 06:50)</a>:</h4>
<p>So that is actually valid syntax for the path?  If so, I've missed it in the ElementDefinition and restricted FHIRPath documentation.  As far as I know, the only place to use 'value' is in discriminator.type, not discriminator.path.</p>



<a name="159328070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159328070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159328070">(Feb 25 2019 at 10:44)</a>:</h4>
<blockquote>
<p>So that is actually valid syntax for the path?  If so, I've missed it in the ElementDefinition and restricted FHIRPath documentation.  As far as I know, the only place to use 'value' is in discriminator.type, not discriminator.path.</p>
</blockquote>
<p>Rob,<br>
I am also looking for the documentation on that. I know that I was stuck on that slicing for a long time; so simple: I have a list of URLs but I have to define slicing 'outside' of the list. There was no element in meta.profile to make a path to. I am still trying to find something in the slicing documentation or the FHIRPath material it references that indicates that I should have used &lt;path value="value" /&gt; and what that means.</p>
<p>In general I think the slicing docs need to be increased. Would like to see examples of each case. 'pattern' and those functions, for example. I still don't really understand how they work and what they can do.</p>



<a name="159354457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159354457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159354457">(Feb 25 2019 at 17:18)</a>:</h4>
<p>So have you been able to try &lt;path value="value" /&gt; and have found that it works (not just doesn't generate errors)?  If so, that would definitely be good to know.</p>



<a name="159354653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159354653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159354653">(Feb 25 2019 at 17:20)</a>:</h4>
<blockquote>
<p>So have you been able to try &lt;path value="value" /&gt; and have found that it works (not just doesn't generate errors)?  If so, that would definitely be good to know.</p>
</blockquote>
<p>Works like a charm!!</p>
<p>I think that needs to be documented. I really could not find out how to slice on a simple list of primitives</p>



<a name="159354663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159354663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159354663">(Feb 25 2019 at 17:20)</a>:</h4>
<p>Submit a change request</p>



<a name="159355435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20meta.profile/near/159355435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20meta.2Eprofile.html#159355435">(Feb 25 2019 at 17:33)</a>:</h4>
<p>Yes, we need to document that.  Broadening the question again, I assume that we still can't effectively slice on type = "profile" (which is what we originally wanted to do)?  Our use case was slicing on Composition.section.entry(), as described in the documentation for the discriminator type 'profile'.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
