---
layout: page
title: "FHIR Chat  · Invariant Authoring · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html">Invariant Authoring</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="259422798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259422798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259422798">(Oct 28 2021 at 17:19)</a>:</h4>
<p>Invariant Authoring with FHIRPath can be error prone. What are IG creators doing to author and testing invariants?</p>



<a name="259423764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259423764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259423764">(Oct 28 2021 at 17:27)</a>:</h4>
<p>I get LLoyd to do mine</p>



<a name="259425188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259425188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259425188">(Oct 28 2021 at 17:38)</a>:</h4>
<p><span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> I am thinking Lloyd would appreciate a more scalable solution?</p>



<a name="259425333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259425333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259425333">(Oct 28 2021 at 17:39)</a>:</h4>
<p>i read the FHIRPath documentation every time I need to write one up then pull my hair out when it doesn't do what I want it to do.  and then I ask on the <a class="stream" data-stream-id="179266" href="/#narrow/stream/179266-fhirpath">#fhirpath</a> stream.</p>



<a name="259425487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259425487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259425487">(Oct 28 2021 at 17:40)</a>:</h4>
<p>for easy FHIRPath invariants, I've gotten to understand how to write them up.  It is just some of the esoteric invariants that trip me up.</p>



<a name="259425574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259425574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259425574">(Oct 28 2021 at 17:41)</a>:</h4>
<p>i'm not implying that I'm Lloyd-like, but after doing a bunch of them, I feel like I'm fairly good at writing them :)</p>



<a name="259427351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259427351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259427351">(Oct 28 2021 at 17:54)</a>:</h4>
<p>If Lloyd isn't available, I tend to steal them from others that are close and modify them.</p>



<a name="259427500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259427500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259427500">(Oct 28 2021 at 17:55)</a>:</h4>
<p>I use the fhirpath tester to test things out, though there are a few capabilities it doesn't support.</p>
<p>My general convention is:</p>
<ul>
<li>"if it's simple" I just write it (and then test it)</li>
<li>if it's more complicated, I look for something similar, copy and adjust</li>
<li>if I can't find something similar, I wade through the documentation</li>
<li>if I still can't make it work, I ask here - and generally ping Bryn and/or Grahame.</li>
</ul>
<p>In all cases, unless it's super simple (and even then I've been bitten), test with a tool to make sure that it catches what you want and doesn't catch what you don't want.</p>



<a name="259427544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259427544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259427544">(Oct 28 2021 at 17:55)</a>:</h4>
<p>fhirpath tester?</p>



<a name="259427849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259427849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259427849">(Oct 28 2021 at 17:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> wrote it.  Available as a free Windows plugin.  <a href="https://www.microsoft.com/en-us/p/fhirpath-tester/9nxv8qdq154v">https://www.microsoft.com/en-us/p/fhirpath-tester/9nxv8qdq154v</a></p>



<a name="259428159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259428159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259428159">(Oct 28 2021 at 17:59)</a>:</h4>
<p>Remind me to buy him two beer at the next in-person meeting</p>



<a name="259428790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259428790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259428790">(Oct 28 2021 at 18:02)</a>:</h4>
<p>I also use <a href="https://hl7.github.io/fhirpath.js/">https://hl7.github.io/fhirpath.js/</a> in a similar capacity</p>



<a name="259429005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259429005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259429005">(Oct 28 2021 at 18:04)</a>:</h4>
<p>well, you can't use it on SquidGames <a href="#narrow/stream/179160-social/topic/Squid.20Games.20on.20.23FHIR">https://chat.fhir.org/#narrow/stream/179160-social/topic/Squid.20Games.20on.20.23FHIR</a></p>



<a name="259429580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259429580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259429580">(Oct 28 2021 at 18:08)</a>:</h4>
<p>Are these mentioned on the FHIRpath or tooling resources pages?</p>



<a name="259431375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259431375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259431375">(Oct 28 2021 at 18:24)</a>:</h4>
<p>I'm also working on a version to help testing invariants that have a context of a child element. UI doesn't feel right yet</p>



<a name="259434478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259434478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259434478">(Oct 28 2021 at 18:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> which particular fhirpath features are you missing?<br>
I've just recently got the aggregate v and date addition stuff in. Not released yet though. I might be able to add some more.</p>



<a name="259434793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259434793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259434793">(Oct 28 2021 at 18:48)</a>:</h4>
<p>I'll happily be your test partner on any updates you make <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span></p>



<a name="259435352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259435352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259435352">(Oct 28 2021 at 18:52)</a>:</h4>
<p>and i'd be your test partner for the Mac version you will create <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="259438618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259438618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259438618">(Oct 28 2021 at 19:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> Don't remember.  Think it might have been %resource or some of the other FHIR-specific extensions.  Also missing the new Questionnaire stuff I expect.</p>



<a name="259449224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259449224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259449224">(Oct 28 2021 at 20:42)</a>:</h4>
<p>Cool, will recheck these in the upcoming release</p>



<a name="259933868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/259933868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eirik Myklebost <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#259933868">(Nov 01 2021 at 23:19)</a>:</h4>
<p>I test the invariants using the validator, examples and expected outcome. I've written the <a href="https://github.com/navikt/fhir-validator-junit-engine">fhir-validator-junit-engine</a> to simplify this.</p>



<a name="260516521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Invariant%20Authoring/near/260516521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Invariant.20Authoring.html#260516521">(Nov 06 2021 at 14:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191529">@Corey Spears</span> using <a href="https://hl7.github.io/fhirpath.js/">https://hl7.github.io/fhirpath.js/</a> you get the feedback instantly</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
