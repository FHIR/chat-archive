---
layout: page
title: "FHIR Chat  · running templates of branch not working for me · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html">running templates of branch not working for me</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="188948604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188948604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188948604">(Feb 24 2020 at 17:45)</a>:</h4>
<p>When I run the templates of a fork it works:</p>
<p>e.g.:  my bash script updates the ig.ini as follows</p>
<div class="codehilite"><pre><span></span>$ bash publish.sh -u https://github.com/Healthedata1/ig-template-base

###### ig.ini fil ######
[IG]
ig = input/myig.xml
template = https://github.com/Healthedata1/ig-template-base
usage-stats-opt-out = false
</pre></div>


<p>but when I run a branch this happens:</p>
<div class="codehilite"><pre><span></span>$ bash publish.sh -u https://github.com/Healthedata1/ig-template-base/tree/add-copy-button

###### ig.ini fil ######
[IG]
ig = input/myig.xml
template = https://github.com/Healthedata1/ig-template-base/tree/add-copy-button
usage-stats-opt-out = false

...
Load Template from https://github.com/Healthedata1/ig-template-base/tree/add-copy-button (00:03.0666)
Publishing Content Failed: Error loading template https://github.com/Healthedata1/ig-template-base/tree/add-copy-button: https://github.com/Healthedata1/ig-template-base/tree/add-copy-button/archive/master.zip (00:04.0513)
                                                                                 (00:04.0513)
Use -? to get command line help                                                  (00:04.0514)
                                                                                 (00:04.0514)
Stack Dump (for debugging):                                                      (00:04.0515)
org.hl7.fhir.exceptions.FHIRException: Error loading template https://github.com/Healthedata1/ig-template-base/tree/add-copy-button: https://github.com/Healthedata1/ig-template-base/tree/add-copy-button/archive/master.zip
    at org.hl7.fhir.igtools.templates.TemplateManager.loadPackage(TemplateManager.java:258)
    at org.hl7.fhir.igtools.templates.TemplateManager.installTemplate(TemplateManager.java:91)
    at org.hl7.fhir.igtools.templates.TemplateManager.loadTemplate(TemplateManager.java:77)
    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1264)
    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1206)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:661)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6934)
Caused by: java.io.FileNotFoundException: https://github.com/Healthedata1/ig-template-base/tree/add-copy-button/archive/master.zip
    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1909)
    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1509)
    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:245)
    at org.hl7.fhir.igtools.templates.TemplateManager.loadPackage(TemplateManager.java:253)
    ... 6 more
</pre></div>


<div class="codehilite"><pre><span></span>
</pre></div>



<a name="188948769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188948769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188948769">(Feb 24 2020 at 17:47)</a>:</h4>
<p>the branch works locally: <code> $ bash publish.sh -u /Users/ehaas/Documents/FHIR/ig-template-base</code>  just not when upload to github.</p>



<a name="188953552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188953552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188953552">(Feb 24 2020 at 18:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> This sounds like something about how files are organized when building branches in the CI build environment.  Any thoughts?</p>



<a name="188953817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188953817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188953817">(Feb 24 2020 at 18:48)</a>:</h4>
<p>Is the error Eric's showing here something that happens in the CI build? It appears to be something Eric is running locally. I don't know what's happening here -- something is trying to download a zip file from github?</p>
<blockquote>
<p>Caused by: java.io.FileNotFoundException: <a href="https://github.com/Healthedata1/ig-template-base/tree/add-copy-button/archive/master.zip" target="_blank" title="https://github.com/Healthedata1/ig-template-base/tree/add-copy-button/archive/master.zip">https://github.com/Healthedata1/ig-template-base/tree/add-copy-button/archive/master.zip</a></p>
</blockquote>



<a name="188959706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188959706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188959706">(Feb 24 2020 at 19:53)</a>:</h4>
<p>Ah, you're right.  That's a weird Github thing, not CI build.  Eric - why are you building on Github and not using the CI build?  General expectation is you should always be committing and having content publish in the CI build...</p>



<a name="188961252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188961252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188961252">(Feb 24 2020 at 20:10)</a>:</h4>
<p>it seems as GitHub doesn't allow clients to download a zip for the branch \</p>



<a name="188961304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188961304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188961304">(Feb 24 2020 at 20:11)</a>:</h4>
<p>running locally should not make a difference, but doesn't work with autobuild either. </p>
<p>see <a href="http://build.fhir.org/ig/Healthedata1/sample-ig/branches/add-copy-me/failure/build.log" target="_blank" title="http://build.fhir.org/ig/Healthedata1/sample-ig/branches/add-copy-me/failure/build.log">http://build.fhir.org/ig/Healthedata1/sample-ig/branches/add-copy-me/failure/build.log</a></p>



<a name="188961432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188961432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188961432">(Feb 24 2020 at 20:12)</a>:</h4>
<p>this would bei a nice feature to share new features on branch before merging.</p>



<a name="188961977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188961977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188961977">(Feb 24 2020 at 20:19)</a>:</h4>
<p>I've figured it out. SHould work in the next version</p>



<a name="188962129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/running%20templates%20of%20branch%20not%20working%20for%20me/near/188962129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/running.20templates.20of.20branch.20not.20working.20for.20me.html#188962129">(Feb 24 2020 at 20:21)</a>:</h4>
<p>ty</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
