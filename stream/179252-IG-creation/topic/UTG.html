---
layout: page
title: "FHIR Chat  · UTG · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html">UTG</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204533058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204533058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204533058">(Jul 21 2020 at 10:45)</a>:</h4>
<p>Next release of the Publisher, UTG will automatically become in scope; any terminology references to content in UTG will automatically start using the latest version of UTG unless you specifically add UTG as a dependency, and specify an alternative version</p>



<a name="204533149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204533149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204533149">(Jul 21 2020 at 10:46)</a>:</h4>
<p>The only reason I can think that this would be a reasonable thing to do is if you need to depend on the current build rather than the most recent release</p>



<a name="204728569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204728569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204728569">(Jul 22 2020 at 22:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> The releases of the Publisher post version 0.0.100 have gotten incrementally worse for the generation of UTG, and I figured it is time I brought this to your attention in case you are not aware.   The change Grahame made scores of releases ago so that value sets with CLDs with enumerated content giving a warning but not a hard error when the underlying code system is not available but still generating the value set in the output appears to have been undone.   There are other gremlins...I am still using 0.0.100 locally as it gives a much cleaner build and I can hunt down the real errors.    How do we want to go about addressing this?</p>



<a name="204733514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204733514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204733514">(Jul 22 2020 at 23:09)</a>:</h4>
<p>it wasn't knowingly undone. Where's an example?</p>



<a name="204752126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204752126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204752126">(Jul 23 2020 at 01:21)</a>:</h4>
<p>In my local build using IGP 0.0.100, the value set "v3-AudiologistHIPAA" gives no error.    In the ci build version 1.1.2, we get the error:  /scratch/ig-build-temp-EAUEMD/repo/input/sourceOfTruth/v3/valueSets/v3-AudiologistHIPAA.xml<br>
Path    Severity    Message<br>
ValueSet/v3-AudiologistHIPAA: ValueSet (l3/c39) Process Info    Validate resource against profile <a href="http://hl7.org/fhir/StructureDefinition/ValueSet">http://hl7.org/fhir/StructureDefinition/ValueSet</a><br>
ValueSet.where(id = 'v3-AudiologistHIPAA')  error   Error from server: Unable to locate code 231H00000N (see Tx log).    There are now MANY like this.</p>



<a name="204752188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204752188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204752188">(Jul 23 2020 at 01:23)</a>:</h4>
<p>and consequential errors from all the ones that include the other ones in their &lt;compose&gt;, so these cascade.   True for the HIPAA ones, the MSH codes, other enumerated stuff - dozens.</p>



<a name="204752290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204752290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204752290">(Jul 23 2020 at 01:25)</a>:</h4>
<p>a raft of build errors as well where is cannot find a bunch of files (xml, json, ttl, html etc) for several that are not building - works just fine in 0.0.100;   so dunno exactly what is going on.</p>



<a name="204758188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204758188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204758188">(Jul 23 2020 at 03:52)</a>:</h4>
<p>ah so this is the result of additional validation checking in the IG Publisher</p>



<a name="204758197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204758197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204758197">(Jul 23 2020 at 03:53)</a>:</h4>
<p>I wasn't checking that valueset.compose.include.concept.code is actually valid, and now I am checking</p>



<a name="204793799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204793799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204793799">(Jul 23 2020 at 13:04)</a>:</h4>
<p>Guessing that might explain this error:</p>
<p>Stack Dump (for debugging):                                                      (00:26.0101)<br>
java.lang.NullPointerException<br>
at org.hl7.fhir.igtools.publisher.Publisher.dependsOnUTG(Publisher.java:1867)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1751)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1363)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:700)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7811)</p>
<p>BTW, it seems to be intermittent, so maybe a UTG connectivity issue?</p>



<a name="204813032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204813032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204813032">(Jul 23 2020 at 15:30)</a>:</h4>
<p>so if the ValueSet.compose.include.concept is from a code system that is not in the IG and not in the server, IMHO that should be a warning not a hard error, and you should generated the value set in the IG output anyway.  Same if the include is for a system that is external or outside the IG.   To do a better job, it would be best if we had an IG parameter that declared a system as being outside the IG and maybe unknown to the server and thus should NOT trigger an error on validate as it is explicitly to be included by the IG author.</p>



<a name="204813115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204813115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204813115">(Jul 23 2020 at 15:31)</a>:</h4>
<p>perhaps the IG parameter 'special-url' which we already have and use can serve this purpose?</p>



<a name="204838539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204838539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204838539">(Jul 23 2020 at 18:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191407">@Rick Geimer</span> you should not be getting that error because that code is not released at this point in time. You should take up with <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> why trifolia is using the dev branch of the publisher. I do not - and will not - support it's use in production.</p>
<p>Having said that, I can't see how you get that error. but I can't track it down because it's not the right line</p>



<a name="204841721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204841721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204841721">(Jul 23 2020 at 19:15)</a>:</h4>
<p>We talked about this when you were getting ready to start using GitHub releases... I explained that ToF uses SonaType to get the list of IG Publisher versions (and to ultimately download the selected IG Publisher version). I asked whether or not that would break after you started using GitHub releases, and was told that it would not, and we would have time to adopt the new approach. So, I have backlogged updating ToF to use GitHub releases until a time that it is a priority.</p>



<a name="204842354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204842354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204842354">(Jul 23 2020 at 19:20)</a>:</h4>
<p>what you didn't say was that this would mean you would stop using the current release and start using the current dev snapshot</p>



<a name="204842371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204842371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204842371">(Jul 23 2020 at 19:20)</a>:</h4>
<p>because that would've changed my answer</p>



<a name="204843084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204843084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204843084">(Jul 23 2020 at 19:26)</a>:</h4>
<p>no I see that this should have been obvious but it wasn't apparent to me</p>



<a name="204852062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204852062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204852062">(Jul 23 2020 at 20:50)</a>:</h4>
<p>I'll try to take some time tomorrow to update ToF to use GitHub releases instead of SonaType</p>



<a name="204852075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204852075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204852075">(Jul 23 2020 at 20:51)</a>:</h4>
<p>really depends on how my day goes</p>



<a name="204931687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG/near/204931687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.html#204931687">(Jul 24 2020 at 15:41)</a>:</h4>
<p>And Trifolia supports multiple versions of the publisher, so for the moment we are just instructing people to select 1.1.3 vs. the default (which is incorrectly selecting 1.1.4 as you have pointed out). So easy workaround until Sean makes his fix.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
