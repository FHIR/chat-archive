---
layout: page
title: "FHIR Chat  · IG Publisher stripping extensions? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html">IG Publisher stripping extensions?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="217930430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217930430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217930430">(Nov 25 2020 at 19:45)</a>:</h4>
<p>So I'm not sure if I'm going (more) crazy, but as far as I can tell, the IG publisher is stripping a couple of extensions out of my example file.</p>
<p>This is what is in Git:</p>
<div class="codehilite"><pre><span></span><code>    &lt;jurisdiction&gt;
        &lt;extension url=&quot;http://hl7.org/fhir/us/ecr/StructureDefinition/rr-location-relevance-extension&quot;&gt;
            &lt;valueCodeableConcept&gt;
                &lt;coding&gt;
                    &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot;/&gt;
                    &lt;code value=&quot;RRVS5&quot;/&gt;
                    &lt;display value=&quot;Patient home address&quot;/&gt;
                &lt;/coding&gt;
            &lt;/valueCodeableConcept&gt;
        &lt;/extension&gt;
        &lt;extension url=&quot;http://hl7.org/fhir/us/ecr/StructureDefinition/rr-routing-entity-organization-extension&quot;&gt;
            &lt;valueReference&gt;
                &lt;reference value=&quot;Organization/organization-rr-routing-entity-haw&quot;/&gt;
            &lt;/valueReference&gt;
        &lt;/extension&gt;
        &lt;extension url=&quot;http://hl7.org/fhir/us/ecr/StructureDefinition/rr-responsible-agency-organization-extension&quot;&gt;
            &lt;valueReference&gt;
                &lt;reference value=&quot;Organization/organization-rr-responsible-agency-haw&quot;/&gt;
            &lt;/valueReference&gt;
        &lt;/extension&gt;
        &lt;coding&gt;
            &lt;system value=&quot;urn:iso:std:iso:3166&quot;/&gt;
            &lt;code value=&quot;US&quot;/&gt;
            &lt;display value=&quot;United States of America&quot;/&gt;
        &lt;/coding&gt;
    &lt;/jurisdiction&gt;
</code></pre></div>
<p>This is what is in the CI build published IG  (<a href="https://build.fhir.org/ig/HL7/case-reporting/PlanDefinition-plandefinition-rr-relevant-reportable-condition.xml.html">https://build.fhir.org/ig/HL7/case-reporting/PlanDefinition-plandefinition-rr-relevant-reportable-condition.xml.html</a>):</p>
<div class="codehilite"><pre><span></span><code>&lt;jurisdiction&gt;
    &lt;coding&gt;
      &lt;system value=&quot;urn:iso:std:iso:3166&quot;/&gt;
      &lt;code value=&quot;US&quot;/&gt;
      &lt;display value=&quot;United States of America&quot;/&gt;
    &lt;/coding&gt;
    &lt;text value=&quot;United States of America&quot;/&gt;
  &lt;/jurisdiction&gt;
</code></pre></div>
<p>This example hasn't changed since the IG was published a year ago, and that published file still has the extensions: <a href="http://hl7.org/fhir/us/ecr/PlanDefinition-plandefinition-rr-relevant-reportable-condition.xml.html">http://hl7.org/fhir/us/ecr/PlanDefinition-plandefinition-rr-relevant-reportable-condition.xml.html</a> </p>
<p>Is there something wrong with the extensions that wasn't checked by the publisher a year ago? Is there something wrong with the publisher?</p>



<a name="217934191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217934191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217934191">(Nov 25 2020 at 20:18)</a>:</h4>
<p>I expect that the answer is that the IG is configured to overwrite the jurisdiction with what is in the IG itself</p>



<a name="217938303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217938303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217938303">(Nov 25 2020 at 20:56)</a>:</h4>
<p>I'm thinking that a PlanDefinition.jurisdiction isn't always going to be the same as the IG. Like it could be a smaller jurisdiction, such as a PHA or state or county. Just because the whole IG is USA doesn't mean that you don't want to create PlanDefinitions for particular states or PHAs.</p>
<p>Can it not overwrite the extensions? It means it is impossible to have extensions on that element. (Well, it's possible to specify them, but impossible to demonstrate them!)</p>



<a name="217939550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217939550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217939550">(Nov 25 2020 at 21:07)</a>:</h4>
<p>well, if you ask it to overwrite, then it will overwrite...</p>



<a name="217940474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217940474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217940474">(Nov 25 2020 at 21:17)</a>:</h4>
<p>Oh, I understand. Sorry - read that wrong - thought you said the IG Publisher was doing it, not the IG. It's some setting somewhere, isn't it. I vaguely remember... Thanks, will try to fix.</p>



<a name="217941645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217941645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217941645">(Nov 25 2020 at 21:27)</a>:</h4>
<p>Actually I think I'm thinking of some other setting where you used to be able to overwrite version by setting something an old settings file.</p>
<p>How would I turn off the overwrite behaviour in the IG? Remove the jurisdiction from the IG itself? (If so, isn't this wrong, because I want the IG to be USA, I just don't want the PlanDefinition to be the whole USA).</p>



<a name="217942132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217942132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217942132">(Nov 25 2020 at 21:32)</a>:</h4>
<p>I just found this stream: <a href="#narrow/stream/179252-IG-creation/topic/jurisdiction.20unmatch">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/jurisdiction.20unmatch</a> </p>
<p>I am definitely NOT adding that parameter to my IG, so that's not the reason.</p>
<p>Should I try adding that and setting to false?:</p>
<div class="codehilite"><pre><span></span><code>  &lt;parameter&gt;
      &lt;code value=&quot;apply-jurisdiction&quot;/&gt;
      &lt;value value=&quot;false&quot;/&gt;
    &lt;/parameter&gt;
</code></pre></div>



<a name="217943657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217943657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217943657">(Nov 25 2020 at 21:52)</a>:</h4>
<p>I'll have a look shortly</p>



<a name="217943958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20stripping%20extensions%3F/near/217943958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20stripping.20extensions.3F.html#217943958">(Nov 25 2020 at 21:56)</a>:</h4>
<p>Tested and it has fixed that issue. I guess the default for that parameter is true.</p>
<p>Of course, now I have 75 new errors because I need to set the jurisdiction everywhere else, but that is easily fixable.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
