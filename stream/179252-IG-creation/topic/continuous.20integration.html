---
layout: page
title: "FHIR Chat  · continuous integration · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html">continuous integration</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154014080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014080">(Oct 31 2018 at 14:16)</a>:</h4>
<p>I am using Lloyd's framework and configured github according to this<br>
<a href="https://github.com/hl7-fhir/auto-ig-builder/blob/master/README.md" target="_blank" title="https://github.com/hl7-fhir/auto-ig-builder/blob/master/README.md">https://github.com/hl7-fhir/auto-ig-builder/blob/master/README.md</a><br>
but all I get at the build site is the project, not a built version</p>



<a name="154014089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014089">(Oct 31 2018 at 14:41)</a>:</h4>
<p>Did the CI build say it was successful?</p>



<a name="154014091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014091">(Oct 31 2018 at 14:43)</a>:</h4>
<blockquote>
<p>Did the CI build say it was successful?</p>
</blockquote>
<p>I did not see anything happen. My understanding is that the build happens on commits to github.</p>
<p>Ahh.. Looking at the build log. It says </p>
<div class="codehilite"><pre><span></span>Load Configuration from /scratch/ig-build-temp-BZZ2HT/repo/ig.json               (00.0006sec)
Redirecting to Configuration from /scratch/ig-build-temp-BZZ2HT/repo/src-generated/PhdImplementationGuide.json (00.0032sec)
Publishing Content Failed: /scratch/ig-build-temp-BZZ2HT/repo/src-generated/PhdImplementationGuide.json (No such file or directory) (00.0032sec)
                                                                                 (00.0032sec)
Use -? to get command line help                                                  (00.0032sec)
                                                                                 (00.0033sec)
Stack Dump (for debugging):                                                      (00.0033sec)
java.io.FileNotFoundException: /scratch/ig-build-temp-BZZ2HT/repo/src-generated/PhdImplementationGuide.json (No such file or directory)
    at java.io.FileInputStream.open0(Native Method)
    at java.io.FileInputStream.open(FileInputStream.java:195)
    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)
    at org.hl7.fhir.utilities.TextFile.fileToString(TextFile.java:132)
    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:965)
    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:944)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:523)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4925)
Exception in thread &quot;main&quot; java.lang.NullPointerException
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4935)
</pre></div>


<p>Do I have to commit all these generated files?</p>



<a name="154014095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014095">(Oct 31 2018 at 14:46)</a>:</h4>
<p>You must commit everything in src-generated, yes.</p>



<a name="154014096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014096">(Oct 31 2018 at 14:46)</a>:</h4>
<p>And you must run a local build before committing changes.</p>



<a name="154014097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014097">(Oct 31 2018 at 14:47)</a>:</h4>
<blockquote>
<p>You must commit everything in src-generated, yes.</p>
</blockquote>
<p>Anything else?   That means I need to build on my local system before committing correct?</p>



<a name="154014098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014098">(Oct 31 2018 at 14:48)</a>:</h4>
<p>Just framework, src and src-generated.  And yes, you need to build locally before committing and pushing.</p>



<a name="154014103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014103">(Oct 31 2018 at 14:50)</a>:</h4>
<p>Okay, the Framework is there. The only thing missing from the list was the src-generated.</p>



<a name="154014127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014127">(Oct 31 2018 at 15:19)</a>:</h4>
<p>Now I am getting these errors. The build can't find my resource files</p>
<div class="codehilite"><pre><span></span>Load Content                                                                     (20.0453sec)
Publishing Content Failed: Unable to find the source file for StructureDefinition/phdServerCapabilityStatement: not
 specified, so tried structuredefinition-phdServerCapabilityStatement.xml,
phdServerCapabilityStatement.structuredefinition.xml, structuredefinition-phdServerCapabilityStatement.json,
 structuredefinition/phdServerCapabilityStatement.xml, structuredefinition/phdServerCapabilityStatement.json,
phdServerCapabilityStatement.xml, and phdServerCapabilityStatement.json in dirs [/scratch/ig-build-temp-
UF1NV9/repo/src-generated/resources, /scratch/ig-build-temp-UF1NV9/repo/src-generated/resources, /scratch/ig-build-
temp-UF1NV9/repo/src/resources, /scratch/ig-build-temp-UF1NV9/repo/src/vocabulary, /scratch/ig-build-temp-
UF1NV9/repo/src/examples] (21.0551sec)
</pre></div>


<p>The src-generated/resources on my local system has none of my resources in it. Yet it builds fine locally.</p>



<a name="154014149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014149">(Oct 31 2018 at 16:08)</a>:</h4>
<p>Try wiping your local src-generated, temp and output and re-running the build locally.  If that runs fine, try committing and pushing again</p>



<a name="154014661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014661">(Nov 01 2018 at 16:37)</a>:</h4>
<div class="codehilite"><pre><span></span>The src-generated/resources on my local system has none of my resources in it. Yet it builds fine locally.
</pre></div>


<p>The reason for this appears to be case insensitivity on Windows. I assume the remote build is on Linux.</p>



<a name="154014701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014701">(Nov 01 2018 at 17:36)</a>:</h4>
<p>Correct</p>



<a name="154014808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014808">(Nov 01 2018 at 19:22)</a>:</h4>
<p>another gotcha is that github does not recognize case changes on file names .  so need to be explicit</p>
<p><code>git mv old_filename new_filename</code></p>



<a name="154014832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/continuous%20integration/near/154014832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/continuous.20integration.html#154014832">(Nov 01 2018 at 19:39)</a>:</h4>
<p>That was true in SVN too, so not strictly a github annoyance.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
