---
layout: page
title: "FHIR Chat  · Expanding value set based on local code systems · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html">Expanding value set based on local code systems</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="198459496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198459496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198459496">(May 22 2020 at 16:04)</a>:</h4>
<p>I made some attempts to define intensional value sets based on local code systems for my IG, but in all the cases the result is "No Expansion for this valueset (not supported by Publication Tooling)". <br>
Before analyzing more in deep if I did anything wrong (not unlikely :-) ) I'd like to be sure that this depends by the fact that these code systems are not known by the terminology server used by the publisher. (and likely they will never be)</p>



<a name="198460685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198460685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198460685">(May 22 2020 at 16:13)</a>:</h4>
<p>..obviously the intensional value set works if the rule is take all the codes from code system XYZ..</p>



<a name="198460700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198460700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198460700">(May 22 2020 at 16:13)</a>:</h4>
<p>Right.  If a value set points to codes from a code system the terminology server doesn't know - and that aren't defined in the value set defined within the IG or inherited from dependent IGs - the terminology server can't expand the value set.</p>



<a name="198462788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198462788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198462788">(May 22 2020 at 16:27)</a>:</h4>
<p>Thanks Lloyd. So.. what should be done to overcome this and allow the usage of intensional value sets based on local code systems for IGs developed by affiliates ? I don't think it is reasonable to imagine that all local code systems would be centrally loaded ...</p>



<a name="198463172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198463172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198463172">(May 22 2020 at 16:30)</a>:</h4>
<p>I think you can add the code system to the IG?  That's what we did with the absent-unknown codes in IPS.</p>



<a name="198463325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198463325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198463325">(May 22 2020 at 16:31)</a>:</h4>
<p>And the alternative would be add support for the code system to whatever terminology server you specify for the IG build.</p>



<a name="198466090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198466090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198466090">(May 22 2020 at 16:54)</a>:</h4>
<p>I have the code system in the IG. <br>
the &lt;include&gt;&lt;system value="xyz"/&gt;&lt;/include&gt; works<br>
But when I try to apply filters the results is "No Expansion for this valueset ..."</p>



<a name="198472223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198472223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198472223">(May 22 2020 at 17:44)</a>:</h4>
<p>Adding the code system to the IG means an actual CodeSystem instance</p>



<a name="198500609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198500609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198500609">(May 22 2020 at 22:10)</a>:</h4>
<p>I would expect this to work. you don't get any additional information in the error?</p>



<a name="198533159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198533159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198533159">(May 23 2020 at 12:21)</a>:</h4>
<p>the message I see from the QA page is "Error from server: Unable to provide support for code system ..."</p>



<a name="198550213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198550213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198550213">(May 23 2020 at 20:15)</a>:</h4>
<p>can I reproduce this?</p>



<a name="198783387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198783387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198783387">(May 26 2020 at 15:56)</a>:</h4>
<p><a href="https://github.com/HL7-IT/base.git">https://github.com/HL7-IT/base.git</a></p>



<a name="198830916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198830916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198830916">(May 26 2020 at 22:47)</a>:</h4>
<p>hmm. Sushi fails in a way I don't understand:</p>
<div class="codehilite"><pre><span></span><code>Sushi: info  Running SUSHI v0.12.3                                               (00:01.0048)
Sushi: info  Current FSH tank conforms to an IG Publisher context. Output will be adjusted accordingly. (00:01.0048)
Sushi: info  Checking local cache for hl7.fhir.r4.core#4.0.1...                  (00:01.0050)
Sushi: info  Found hl7.fhir.r4.core#4.0.1 in local cache.                        (00:01.0553)
Sushi: info  Checking local cache for hl7.fhir.it.base#dev...                    (00:01.0553)
Sushi: info  Did not find hl7.fhir.it.base#dev in local cache.                   (00:01.0554)
Sushi: info  Falling back to hl7.fhir.it.base#current since hl7.fhir.it.base#dev is not locally cached. To avoid this, add hl7.fhir.it.base#dev to your local FHIR cache. (00:01.0554)
Sushi: info  Importing FSH text...                                               (00:01.0561)
Sushi: info  Preprocessed 5 documents with 15 aliases.                           (00:01.0745)
Sushi: info  Imported 22 definitions and 6 instances.                            (00:01.0755)
Sushi: info  Loaded package hl7.fhir.r4.core#4.0.1                               (00:01.0761)
Sushi: error Failed to load hl7.fhir.it.base#dev                                 (00:04.0027)
Sushi: error The package hl7.fhir.it.base#current is not available on http://build.fhir.org/ig/qas.json, so no current version can be loaded (00:04.0027)
Sushi: info  Converting FSH to FHIR resources...                                 (00:04.0034)
Sushi: info  Converted 9 FHIR StructureDefinitions.                              (00:04.0155)
Sushi: info  Converted 11 FHIR ValueSets.                                        (00:04.0183)
Sushi: info  Converted 2 FHIR CodeSystems.                                       (00:04.0188)
Sushi: info  Converted 6 FHIR instances.                                         (00:04.0268)
Sushi: info  Exporting FHIR resources as JSON...                                 (00:04.0269)
Sushi: info  Exported 28 FHIR resources as JSON.                                 (00:04.0294)
Sushi:                                                                           (00:04.0295)
Sushi: ╔════════════════════════ SUSHI RESULTS ══════════════════════════╗       (00:04.0295)
Sushi: ║ ╭──────────┬────────────┬───────────┬─────────────┬───────────╮ ║       (00:04.0295)
Sushi: ║ │ Profiles │ Extensions │ ValueSets │ CodeSystems │ Instances │ ║       (00:04.0296)
Sushi: ║ ├──────────┼────────────┼───────────┼─────────────┼───────────┤ ║       (00:04.0296)
Sushi: ║ │    6     │     3      │    11     │      2      │     6     │ ║       (00:04.0296)
Sushi: ║ ╰──────────┴────────────┴───────────┴─────────────┴───────────╯ ║       (00:04.0296)
Sushi: ║                                                                 ║       (00:04.0296)
Sushi: ╠═════════════════════════════════════════════════════════════════╣       (00:04.0296)
Sushi: ║ That really smelt.                     2 Errors      0 Warnings ║       (00:04.0296)
Sushi: ╚═════════════════════════════════════════════════════════════════╝       (00:04.0297)
Sushi couldn&#39;t be run. Complete output from running Sushi :                      (00:04.0314)
Note: Check that Sushi is installed correctly (&quot;npm install -g fsh-sushi&quot;. On windows, get npm from https://www.npmjs.com/get-npm) (00:04.0315)
Exception: Process exited with an error: 1 (Exit value: 1)                       (00:04.0315)
Publishing Content Failed: Process exited with an error: 1 (Exit value: 1)       (00:04.0315)
</code></pre></div>



<a name="198834507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198834507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198834507">(May 26 2020 at 23:32)</a>:</h4>
<p>Your version of sushi is old.  0.12.7 is latest</p>



<a name="198839195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198839195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198839195">(May 27 2020 at 00:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span>  could sushi advise if an old version is running?</p>



<a name="198840846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198840846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198840846">(May 27 2020 at 01:16)</a>:</h4>
<p>version didn't make any difference</p>



<a name="198861879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198861879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198861879">(May 27 2020 at 08:14)</a>:</h4>
<p>Mmhh ..interesting to know..I was wondering if it may be due to a dependency I've in my fsh package..BTW this is not relevant here..</p>



<a name="198862140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198862140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198862140">(May 27 2020 at 08:17)</a>:</h4>
<p>I've created a branch ("no-fsh") that doesn't use fsh , in case you may have still time to make this check</p>



<a name="198888857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198888857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198888857">(May 27 2020 at 13:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- here are the two reported errors from this log:</p>
<blockquote>
<p>Sushi: error Failed to load hl7.fhir.it.base#dev                                 (00:04.0027)<br>
Sushi: error The package hl7.fhir.it.base#current is not available on <a href="http://build.fhir.org/ig/qas.json">http://build.fhir.org/ig/qas.json</a>, so no current version can be loaded (00:04.0027)</p>
</blockquote>
<p>In short, it can't resolve the <code>hl7.fhir.it.base</code> dependency.  The <code>hl7.fhir.it.base</code> dependency is specified as version <code>dev</code> in this IG.  Since SUSHI fails to find it in the local cache, it falls back to <code>current</code> -- which tries to pull it from the auto-build.  But the autobuild listing (<a href="http://build.fhir.org/ig/qas.json">here</a>) doesn't know anything about <code>hl7.fhir.it.base</code> either -- so the dependency fails to resolve.</p>



<a name="198889000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198889000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198889000">(May 27 2020 at 13:20)</a>:</h4>
<p>As for notifying when SUSHI is old, we'll look into that.  We just need to ensure that we can have an approach that still allows SUSHI to run offline (when dependencies are already cached).</p>



<a name="198945441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198945441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198945441">(May 27 2020 at 20:04)</a>:</h4>
<blockquote>
<p>it can't resolve the hl7.fhir.it.base dependency</p>
</blockquote>
<p>right. Which is odd since that's what it's actually building - it can't depend on itself. I don't expect that the problem is with Sushi there</p>



<a name="198951379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198951379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198951379">(May 27 2020 at 20:50)</a>:</h4>
<p>Ah.  I see that now.  In the <a href="https://github.com/HL7-IT/base/blob/master/package.json">package.json</a> (which is what SUSHI 0.12.x reads) it declares itself as a dependency.  <span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> -- can you edit <code>package.json</code> to remove <code>hl7.fhir.it.base</code> from the dependencies and instead make it the value of <code>"name"</code> (instead of <code>"fish"</code>)?  I think that will help with at least the issue Grahame ran into.</p>



<a name="198986629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/198986629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#198986629">(May 28 2020 at 06:23)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191469">@Chris Moesel</span> . At a certain point I added this "internal dependency" to overcome a fsh error that I had referring a profile defined in the same IG, but not as a fsh file. Now it seems to work also without this self-dependency :-). I committed the modified version.  Nothing has been changed concerning the expansion.</p>



<a name="199115910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199115910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199115910">(May 29 2020 at 05:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> I still can't run this: Unable to load template from it-template</p>



<a name="199150759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199150759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199150759">(May 29 2020 at 13:04)</a>:</h4>
<p>I think I remember seeing somewhere else that you need to prefix <code>#</code> to local templates in the ig.ini.  So in ig.ini, maybe try this instead?</p>
<div class="codehilite"><pre><span></span><code>template = #it-template
</code></pre></div>


<p>I don't recall for sure, so I might be wrong, but it's worth a shot since it's so quick and easy to do.</p>



<a name="199152043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199152043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199152043">(May 29 2020 at 13:15)</a>:</h4>
<p>that is correct - local templates are prefixed with # <br>
It is documented in the file itself</p>



<a name="199152051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199152051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199152051">(May 29 2020 at 13:15)</a>:</h4>
<p><a href="https://github.com/FHIR/sample-ig/blob/master/ig.ini">https://github.com/FHIR/sample-ig/blob/master/ig.ini</a></p>



<a name="199160665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199160665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199160665">(May 29 2020 at 14:23)</a>:</h4>
<p>It seems that the github repository includes the it-template/package folder ... what do you suggest I should check  ? (obviously in my building environment all work fine ...)</p>



<a name="199161989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199161989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199161989">(May 29 2020 at 14:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191415">@Giorgio Cangioli</span> -- I think you need to change <code>it-template</code> to <code>#it-template</code> in the <code>ig.ini</code> file.</p>



<a name="199163781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199163781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199163781">(May 29 2020 at 14:47)</a>:</h4>
<p>change pushed on GitHub</p>



<a name="199163794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199163794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199163794">(May 29 2020 at 14:47)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191469">@Chris Moesel</span></p>



<a name="199206989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/199206989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#199206989">(May 29 2020 at 20:19)</a>:</h4>
<p>ok now that I can run the IG succesfully, where do I look for this issue?</p>



<a name="200997872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/200997872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#200997872">(Jun 16 2020 at 10:51)</a>:</h4>
<p>I apologize <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ,  it seems I missed your answer...<br>
... now things are a little worse,  in the sense that all the expansions with the local code systems are not rendered (message: "No Expansion for this valueset (not supported by Publication Tooling)") ; also those simple as <br>
 "compose": {<br>
    "include": [<br>
      {<br>
        "system": "<a href="http://terminology.hl7.it/CodeSystem/istat-professioni">http://terminology.hl7.it/CodeSystem/istat-professioni</a>"<br>
      }<br>
    ]</p>



<a name="200997961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/200997961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#200997961">(Jun 16 2020 at 10:52)</a>:</h4>
<p>In any case this is the example of the value set with filter <br>
    - <a href="http://www.hl7.it/fhir/build/it-base/site/ValueSet-minsan-esenzioni.html">http://www.hl7.it/fhir/build/it-base/site/ValueSet-minsan-esenzioni.html</a></p>
<p>Other intensional value sets without filters are for example:<br>
    - <a href="http://www.hl7.it/fhir/build/it-base/site/ValueSet-minsan-idStrutture.html">http://www.hl7.it/fhir/build/it-base/site/ValueSet-minsan-idStrutture.html</a><br>
    - <a href="http://www.hl7.it/fhir/build/it-base/site/ValueSet-istat-titoloStudio.html">http://www.hl7.it/fhir/build/it-base/site/ValueSet-istat-titoloStudio.html</a></p>



<a name="200997980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/200997980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#200997980">(Jun 16 2020 at 10:52)</a>:</h4>
<p>thanks for your suggestions</p>



<a name="201044721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/201044721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#201044721">(Jun 16 2020 at 16:59)</a>:</h4>
<p>can you please create a task here: <a href="https://github.com/HL7/fhir-ig-publisher/issues">https://github.com/HL7/fhir-ig-publisher/issues</a> and reference the branch of your repo that demonstrates the problem, and where to find it - thanks</p>



<a name="201127149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/201127149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#201127149">(Jun 17 2020 at 11:09)</a>:</h4>
<p>done, thanks</p>



<a name="201710562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/201710562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#201710562">(Jun 23 2020 at 10:44)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  have you any feedback on the <a href="https://github.com/HL7/fhir-ig-publisher/issues/113#issuecomment-645857666">remaining issue</a> ? Thanks for your kind help :-)</p>



<a name="201924513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/201924513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#201924513">(Jun 25 2020 at 01:46)</a>:</h4>
<p>it won't build because package-list.json is in the pages input folder. don't put it there</p>



<a name="201925297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/201925297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#201925297">(Jun 25 2020 at 02:00)</a>:</h4>
<p>but it says "unknown code system" because it's an unknown code system.</p>



<a name="202319836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/202319836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#202319836">(Jun 29 2020 at 14:43)</a>:</h4>
<p>Thanks a lot <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ..<br>
This brings me back to my very initial questions :-)<br>
(1) Expanding value set based on local code systems (by using filters) is not currently possible , because "local code systems" are not known by the terminology server used by the publishing process<br>
(2) is anything that can be done to overcome this issue when developing a REALM specific IG</p>



<a name="202366137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Expanding%20value%20set%20based%20on%20local%20code%20systems/near/202366137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Expanding.20value.20set.20based.20on.20local.20code.20systems.html#202366137">(Jun 29 2020 at 20:49)</a>:</h4>
<p>I don't think that's true. Do you have an example?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
