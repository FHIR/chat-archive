---
layout: page
title: "FHIR Chat  · Post your build time · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html">Post your build time</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="217198311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217198311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217198311">(Nov 18 2020 at 21:21)</a>:</h4>
<p>Something went bonkers on my machine with build times back north of 30 mins -- curious if others are running faster so maybe i can use it as an excuse to buy a new computer.</p>



<a name="217198317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217198317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217198317">(Nov 18 2020 at 21:21)</a>:</h4>
<p><a href="/user_uploads/10155/-ErUbUDny37seP1KRG8FJqcR/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/-ErUbUDny37seP1KRG8FJqcR/image.png" title="image.png"><img src="/user_uploads/10155/-ErUbUDny37seP1KRG8FJqcR/image.png"></a></div>



<a name="217207112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217207112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217207112">(Nov 18 2020 at 22:43)</a>:</h4>
<p>Finished. Times: loading: 00:06.0862, generate: 32:48.0837, narrative generation: 02:00.0639, realm-rules: 03:30.0472, previous-version: 07:56.0152, jekyll: 01:56.0840, validation: 02:04.0937 (#151), template: 00:07.0255 (#3) (34:15.0830)</p>



<a name="217208844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217208844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adam Stevenson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217208844">(Nov 18 2020 at 23:03)</a>:</h4>
<p>Finished. Times: loading: 00:06.0080, generate: 14:28.0645, narrative generation: 00:34.0660, realm-rules: 02:27.0772, previous-version: 05:40.0346, jekyll: 00:20.0364, validation: 01:36.0571 (#151), template: 00:08.0992 (#3) (15:53.0880)</p>



<a name="217208957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217208957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217208957">(Nov 18 2020 at 23:04)</a>:</h4>
<p>are these first or second build times?</p>



<a name="217209003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217209003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adam Stevenson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217209003">(Nov 18 2020 at 23:04)</a>:</h4>
<p>Good point. Second here.</p>



<a name="217213741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217213741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217213741">(Nov 19 2020 at 00:01)</a>:</h4>
<p>That was a first build, but here's the second build:<br>
Finished. Times: loading: 00:10.0346, generate: 30:01.0685, narrative generation: 03:06.0551, realm-rules: 00:24.0906, previous-version: 00:50.0318, jekyll: 02:01.0409, validation: 01:14.0109 (#151), template: 00:08.0438 (#3) (32:14.0371)</p>



<a name="217219519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217219519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217219519">(Nov 19 2020 at 01:27)</a>:</h4>
<p>My last build (on ToF) was 9:58.<br>
I say - buy the new computer! Having said that, I got a new one in July and it really hasn't made much of a difference to local build times (and it still slows my PC down so much that it's annoying to use), so I just don't ever build locally.</p>



<a name="217220199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220199">(Nov 19 2020 at 01:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> mentioned in another thread that the IG Publisher is single-threaded... Probably won't see much improved build times unless one or both of the following:</p>
<ol>
<li>code is performance-tuned</li>
<li>code is refined to be multi-threaded</li>
</ol>
<p>Maybe some progress has already been made on #1... <em>shrug</em> dunno.</p>



<a name="217220209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220209">(Nov 19 2020 at 01:41)</a>:</h4>
<p>I spend some time working on performance issues.</p>



<a name="217220266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220266">(Nov 19 2020 at 01:42)</a>:</h4>
<p>but making it multithreaded isn't going to happen, and would make things worse anyway, when the primary complaint is being unresponsive. As a single threaded application, that shouldn't happen</p>



<a name="217220267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220267">(Nov 19 2020 at 01:42)</a>:</h4>
<p>Making it multi-threaded for things like generating snapshots might be a great way to see some quick improvements</p>



<a name="217220269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220269">(Nov 19 2020 at 01:42)</a>:</h4>
<p>well... scratch that</p>



<a name="217220270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220270">(Nov 19 2020 at 01:42)</a>:</h4>
<p>lol</p>



<a name="217220290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220290">(Nov 19 2020 at 01:43)</a>:</h4>
<p>it could reduce overall build times, at the price of (a) much more complexity and (b) hammering the local machine</p>



<a name="217220338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220338">(Nov 19 2020 at 01:44)</a>:</h4>
<p>In other Java projects we've been able to implement multi-threading pretty easily using parallel streams...</p>



<a name="217220373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220373">(Nov 19 2020 at 01:44)</a>:</h4>
<p>not sure if parallel streams could be used as easily in the ig publisher</p>



<a name="217220378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220378">(Nov 19 2020 at 01:44)</a>:</h4>
<p>but, maybe worth checking out...</p>



<a name="217220383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220383">(Nov 19 2020 at 01:44)</a>:</h4>
<p>(if you haven't already)</p>



<a name="217220415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220415">(Nov 19 2020 at 01:45)</a>:</h4>
<p>you can even use throttled parallel streams, and tell it to only use a single thread for debugging purposes, but multiple threads by default</p>



<a name="217220422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220422">(Nov 19 2020 at 01:45)</a>:</h4>
<p>pretty cool stuff</p>



<a name="217220430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220430">(Nov 19 2020 at 01:45)</a>:</h4>
<p>(imo)</p>



<a name="217220435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217220435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217220435">(Nov 19 2020 at 01:45)</a>:</h4>
<p>the question isn't how to use parallel streams, it's all the nested dependencies.</p>



<a name="217348182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217348182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217348182">(Nov 20 2020 at 00:13)</a>:</h4>
<p>Here are my US Core build times from today (modern Mac with a single-core <a href="https://browser.geekbench.com/v5/cpu/">Geekbench</a> score of ≈1100):</p>
<ul>
<li><strong>First build:</strong> Times: loading: 00:02.0960, generate: 10:49.0754, narrative generation: 00:49.0960, realm-rules: 00:02.0121, previous-version: 06:11.0127, jekyll: 00:07.0948, validation: 01:27.0814 (#230), template: 00:01.0990 (#3) (<strong>11:02.0285</strong>, including ≈9:00 waiting for <a href="http://tx.fhir.org">tx.fhir.org</a> <a href="#narrow/stream/179297-committers.2Fnotification/topic/ig-build.20speed/near/217338827">explained here</a>)</li>
<li><strong>Second build:</strong> Times: loading: 00:03.0042, generate: 03:26.0758, narrative generation: 00:52.0438, realm-rules: 00:01.0165, previous-version: 00:03.0495, jekyll: 00:09.0633, validation: 00:43.0393 (#230), template: 00:02.0020 (#3) (<strong>03:39.0894</strong>, including ≈1:20 waiting for <a href="http://tx.fhir.org">tx.fhir.org</a>)</li>
<li><strong>Third build + local cache of <a href="http://tx.fhir.org">tx.fhir.org</a> (<a href="#narrow/stream/179297-committers.2Fnotification/topic/ig-build.20speed/near/217338827">explained here</a>)</strong>: Times: loading: 00:02.0952, generate: 01:18.0222, narrative generation: 00:07.0571, realm-rules: 00:01.0227, previous-version: 00:02.0892, jekyll: 00:08.0305, validation: 00:02.0645 (#230), template: 00:02.0792 (#3) (<strong>01:30.0681</strong>, ≈2 minutes saved by local cache)</li>
</ul>
<p>I do see both the <code>java</code> and <code>Publisher</code> processes using &gt;&gt;100% CPU during builds, so not sure what is going since these are not multi-threaded.</p>



<a name="217352703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217352703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217352703">(Nov 20 2020 at 01:34)</a>:</h4>
<p>For US Core we removed the dependency to vsac because it was causing out of memory issues locally.  My build is around 10 minutes... and get build failure when turn off tx server.  the autobuild also around ten minutes.  so I don't know why you times are so much faster?</p>



<a name="217386351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217386351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217386351">(Nov 20 2020 at 10:55)</a>:</h4>
<p>For another point of reference here's build times for a 2018 MacBook Air (1.6 GHz dual core i5; <a href="https://browser.geekbench.com/macs/macbook-air-late-2018">735 single core/1468 multi-core on Geekbench</a>):</p>
<ul>
<li><strong>First build:</strong> Times: loading: 00:09.0370, generate: 15:59.0893, narrative generation: 01:16.0830, realm-rules: 00:08.0872, previous-version: 07:52.0633, jekyll: 00:15.0848, validation: 01:35.0705 (#229), template: 00:14.0535 (#3) (<strong>16:45.0519</strong>)</li>
<li><strong>Second build:</strong> Times: loading: 00:07.0764, generate: 05:34.0797, narrative generation: 01:03.0777, realm-rules: 00:03.0792, previous-version: 00:10.0190, jekyll: 00:17.0461, validation: 00:50.0034 (#229), template: 00:05.0385 (#3) (<strong>06:07.0965</strong>)</li>
<li><strong>Third build, + local cache:</strong> Times: loading: 00:09.0357, generate: 04:19.0890, narrative generation: 00:31.0255, realm-rules: 00:05.0667, previous-version: 00:12.0385, jekyll: 00:19.0188, validation: 00:17.0205 (#229), template: 00:05.0508 (#3) (<strong>05:02.0358</strong> + 2 minutes saved by local cache)</li>
</ul>
<p>So it looks like you can reduce build time by ≈30-40% by upgrading to a faster multi-core machine if you're on a 2 core, low clock speed laptop. Speeding up <a href="http://tx.fhir.org">tx.fhir.org</a> could save another 2 minutes per warm build.</p>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> if you're seeing significantly worse build times than my MacBook Air, it seems like something may be wrong with your system. You can compare your computer on Geekbench with mine to get a sense of what it should look like if there's nothing artificially slowing down your machine.</p>



<a name="217387650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217387650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217387650">(Nov 20 2020 at 11:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191401">Eric Haas</span> <a href="#narrow/stream/179252-IG-creation/topic/Post.20your.20build.20time/near/217352703">said</a>:</p>
<blockquote>
<p>For US Core we removed the dependency to vsac because it was causing out of memory issues locally.  My build is around 10 minutes... and get build failure when turn off tx server.  the autobuild also around ten minutes.  so I don't know why you times are so much faster?</p>
</blockquote>
<p>I don't think the IG will build without <a href="http://tx.fhir.org">tx.fhir.org</a>. The point of my experimentation with an additional caching layer (running locally) in front of <a href="http://tx.fhir.org">tx.fhir.org</a> was to see what an "offline mode" _could_ look like...but it's not truly offline because each IG build generates at least a few novel requests to <a href="http://tx.fhir.org">tx.fhir.org</a> that have to be proxied through.</p>



<a name="217401233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217401233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217401233">(Nov 20 2020 at 13:37)</a>:</h4>
<p>the issue with <a href="http://tx.fhir.org">tx.fhir.org</a> is latency, not server performance.</p>



<a name="217401266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217401266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217401266">(Nov 20 2020 at 13:37)</a>:</h4>
<p>For another data point (first build):</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">Finished. Times: loading: 00:06.0887, generate: 14:00.0562, narrative generation: 00:54.0778, realm-rules: 00:05.0427, previous-version: 06:11.0677, jekyll: 01:32.0707, validation: 01:51.0282 (#229), template: 00:07.0190 (#3) (14:19.0185)</span>
</code></pre></div>
<p>Second:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">Finished. Times: loading: 00:06.0363, generate: 05:25.0548, narrative generation: 00:51.0962, realm-rules: 00:01.0985, previous-version: 00:05.0313, jekyll: 01:32.0432, validation: 00:43.0770 (#229), template: 00:03.0635 (#3) (05:49.0751)</span>
</code></pre></div>



<a name="217430506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217430506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217430506">(Nov 20 2020 at 17:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I see some requests to <a href="http://tx.fhir.org">tx.fhir.org</a> waiting 30+ seconds for a response...that seems much to long to attribute to network latency.</p>



<a name="217430731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217430731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217430731">(Nov 20 2020 at 17:11)</a>:</h4>
<p>indeed. probably snomed expansions</p>



<a name="217461999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217461999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217461999">(Nov 20 2020 at 21:36)</a>:</h4>
<p>This is for eCR (not US Core) (2020 MacBook Pro Intel Core i7-1068NG7 @ 2.30 GHz 1 processor, 4 cores, 8 threads, 31.81 GB): just tested on Geekbench: <strong>Single-core: 1065/Multi-core: 4104</strong></p>
<ul>
<li>First build: Times: loading: 00:12.0874, generate: 12:50.0376, narrative generation: 00:39.0349, realm-rules: 01:41.0674, previous-version: 03:36.0062, jekyll: 01:27.0820, validation: 02:21.0332 (#154), template: 00:11.0274 (#3) (<strong>14:37.0987</strong>)</li>
<li>Second build: Times: loading: 00:09.0631, generate: 05:51.0712, narrative generation: 00:28.0184, realm-rules: 00:05.0012, previous-version: 00:09.0966, jekyll: 01:33.0473, validation: 00:34.0548 (#154), template: 00:05.0146 (#3) (<strong>07:11.0854</strong>)</li>
</ul>
<p><strong>Conclusion</strong>: <span class="user-mention" data-user-id="191410">@Brett Marquard</span> gets a new computer!</p>
<p>Having said that - my problem with running locally isn't is necessarily how long the build takes (though it's an issue), it's the fact that running the above (no matter whether it's first or later build) I see this (it's around 80%-100% CPU  and 90%-100% Memory): </p>
<p><a href="/user_uploads/10155/fUsmGi9ccQZHnqt9yc2d25A1/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/fUsmGi9ccQZHnqt9yc2d25A1/image.png" title="image.png"><img src="/user_uploads/10155/fUsmGi9ccQZHnqt9yc2d25A1/image.png"></a></div><p>which means my pc is close to unusable for those 7-15 mins.</p>
<p>BUT, I get around this by never running locally...</p>



<a name="217504603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217504603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217504603">(Nov 21 2020 at 14:47)</a>:</h4>
<p>Okay building US Core (fresh checkout):<br>
First Run:<br>
Finished. Times: loading: 00:03.0497, generate: 13:30.0864, narrative generation: 01:03.0939, realm-rules: 00:04.0355, previous-version: 07:42.0919, jekyll: 00:05.0861, validation: 01:39.0138 (#229), template: 00:05.0071 (#3) (13:48.0197)<br>
real    13m50.052s<br>
user    4m15.016s<br>
Second Run: <br>
Finished. Times: loading: 00:03.0749, generate: 03:14.0447, narrative generation: 00:46.0934, realm-rules: 00:01.0531, previous-version: 00:03.0339, jekyll: 00:05.0260, validation: 00:40.0525 (#229), template: 00:01.0831 (#3) (03:26.0472)<br>
real    3m29.327s<br>
user    5m17.078s</p>



<a name="217530454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217530454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217530454">(Nov 22 2020 at 02:40)</a>:</h4>
<p>the current autopublisher: 12:53.0302</p>



<a name="217614173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217614173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217614173">(Nov 23 2020 at 11:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191918">Sarah Gaunt</span> <a href="#narrow/stream/179252-IG-creation/topic/Post.20your.20build.20time/near/217461999">said</a>:</p>
<blockquote>
<p>Having said that - my problem with running locally isn't is necessarily how long the build takes (though it's an issue), it's the fact that running the above (no matter whether it's first or later build) I see this (it's around 80%-100% CPU  and 90%-100% Memory): </p>
<p><a href="/user_uploads/10155/fUsmGi9ccQZHnqt9yc2d25A1/image.png">image.png</a> </p>
</blockquote>
<p>This seems strange...my MacBook Air is still more or less usable while doing an IG build, and it's <em>way</em> less powerful than your machine. Based on your screenshot it seems like you're running Windows on Mac hardware? Are you virtualizing Windows or using Boot Camp?</p>



<a name="217675957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217675957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217675957">(Nov 23 2020 at 20:00)</a>:</h4>
<p>Oh yeah, forgot to mention - runnning BootCamp. It was the same problem with my Dell though (which wasn't all that much less specced out than the Mac).</p>



<a name="217681167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217681167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217681167">(Nov 23 2020 at 20:50)</a>:</h4>
<p>Finished. Times: loading: 00:03.0771, generate: 06:43.0486, narrative generation: 00:59.0644, realm-rules: 00:02.0931, previous-version: 00:04.0632, jekyll: 00:32.0090, validation: 00:51.0635 (#229), template: 00:06.0390 (#3) (07:19.0834)</p>



<a name="217681188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217681188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217681188">(Nov 23 2020 at 20:50)</a>:</h4>
<p>there's some problem with NDC. I'm investigating</p>



<a name="217709079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217709079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217709079">(Nov 24 2020 at 02:47)</a>:</h4>
<blockquote>
<p>.Having said that - my problem with running locally isn't is necessarily how long the build takes (though it's an issue), it's the fact that running the above (no matter whether it's first or later build) I see this (it's around 80%-100% CPU and 90%-100% Memory):</p>
</blockquote>
<p>my macbook air is unusable during the build too.. I don't use bootcamp or virtual machines.  Sarah's machine is more powerful than mine but having said that having the latest and greatest hardware should not be a prerequisite for publishing.</p>



<a name="217709702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217709702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217709702">(Nov 24 2020 at 03:00)</a>:</h4>
<p>there's something weird going on here. I hardly notice when I have the publisher running in the background. It's almost exclusively a single threaded application. What it does do is hammer the IO subsystem. but that shouldn't be a problem. I wonder whether you have something else going on - anti-virus?</p>



<a name="217713994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217713994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217713994">(Nov 24 2020 at 04:36)</a>:</h4>
<p>Maybe - will look into it. Looking at my screen shot I notice there is only 21% used by of whatever that top process is (I presume that was the publisher)... Hmmmm.... Will check it out at end of week.</p>



<a name="217811848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217811848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217811848">(Nov 24 2020 at 20:52)</a>:</h4>
<p>same here - my MacBook Pro is about 10-20% at worst.  When Jekyll runs, there is a slight hiccup every now and then, but that's it.</p>



<a name="217919334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217919334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217919334">(Nov 25 2020 at 18:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> are you running antivirus in Windows? Or are you building the IG inside a cloud sync folder (like Dropbox or OneDrive)? It sounds like your IG builds are triggering something else that is swamping your CPU.</p>



<a name="217929501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Post%20your%20build%20time/near/217929501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Post.20your.20build.20time.html#217929501">(Nov 25 2020 at 19:36)</a>:</h4>
<p>Yeah, I'm thinking Dropbox might be the culprit actually, just haven't had a chance to look at it properly again... I did turn Dropbox off yesterday to try to test but my IG just crashed so I had other fish to fry and didn't get back to testing locally... Maybe next week when I don't have so many ballot commitments.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
