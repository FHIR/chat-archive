---
layout: page
title: "FHIR Chat  · committing input-cache · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html">committing input-cache</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="232551182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232551182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232551182">(Mar 31 2021 at 08:05)</a>:</h4>
<p>there was some previous discussion around this. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> is it still better to commit input-cache, or we can .gitignore it?</p>



<a name="232649999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232649999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232649999">(Mar 31 2021 at 19:24)</a>:</h4>
<p>what's input-cache?</p>



<a name="232650287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232650287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232650287">(Mar 31 2021 at 19:26)</a>:</h4>
<p>Here's an example from a local build of mCODE to jog your memory:</p>
<div class="codehilite"><pre><span></span><code>input-cache/
├── desktop.ini
├── jiraspec.xml
├── publisher.jar
├── schemas
│   ├── R4
│   │   ├── fhir-single.xsd
│   │   ├── fhir-xhtml.xsd
│   │   ├── xml.xsd
│   │   └── xmldsig-core-schema.xsd
│   └── R5
│       ├── fhir-single.xsd
│       ├── fhir-xhtml.xsd
│       ├── xml.xsd
│       └── xmldsig-core-schema.xsd
├── txcache
│   ├── all-systems.cache
│   ├── http___cancerstaging.org.cache
│   ├── http___ncithesaurus.nci.nih.gov.cache
│   ├── http___sequenceontology.org.cache
│   ├── http___varnomen.hgvs.org.cache
│   ├── http___www.ama-assn.org_go_cpt.cache
│   ├── http___www.genenames.org.cache
│   ├── http___www.ncbi.nlm.nih.gov_clinvar.cache
│   ├── icd-10-cm.cache
│   ├── icd-o-3.cache
│   ├── iso3166.cache
│   ├── lang.cache
│   ├── loinc.cache
│   ├── null.cache
│   ├── rxnorm.cache
│   ├── snomed.cache
│   ├── ucum.cache
│   ├── usmcodeCodeSystemmcode-catch-code-cs.cache
│   ├── usmcodeCodeSystemmcode-radiotherapy-cs.cache
│   └── version.ctl
└── workgroups.xml
</code></pre></div>



<a name="232650616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232650616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232650616">(Mar 31 2021 at 19:28)</a>:</h4>
<p>It's populated by the IG Publisher and can be safely deleted, but since it has caches, keeping it (or checking parts of it in) can increase performance of subsequent runs.</p>



<a name="232650780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232650780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232650780">(Mar 31 2021 at 19:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/committing.20input-cache/near/232649999">said</a>:</p>
<blockquote>
<p>what's input-cache?</p>
</blockquote>
<p>the folder in the IG input (as Chris pointed out). a few months ago there was some discussion and IIRC you said that maybe we should stop committing it</p>



<a name="232655581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232655581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232655581">(Mar 31 2021 at 19:59)</a>:</h4>
<p>the only thing to commit in there is tx-cache. Should ignore the rest. For tx-cache... committing it causes conflict violations for people which cascade as people don't manage it, and people find that terrifying (and git makes this worse but not providing a nice 'reset me' operation)</p>
<p>but it does make a real difference to build time. you can find out how much by running it, then running it again and then deleting the files in tx-cache and running it again, and checking the time difference between the last two runs</p>



<a name="232658905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232658905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232658905">(Mar 31 2021 at 20:22)</a>:</h4>
<p>So when someone downloads a repo, they can save build time because the  previous committer, when committing their changes, also committed the tx-cache.</p>



<a name="232658979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232658979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232658979">(Mar 31 2021 at 20:22)</a>:</h4>
<p>that is presuming that the previous committer did include the tx-cache changes, and that is for saving time in the first build.</p>



<a name="232660682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232660682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232660682">(Mar 31 2021 at 20:34)</a>:</h4>
<p>Right, but I think Grahame is suggesting that these caches don't survive merges well and/or they create merge conflicts that are difficult to resolve.  And a corrupt cache is worse than no cache at all.  I hadn't thought of that, but it's definitely a good thing to be aware of.</p>



<a name="232661505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232661505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232661505">(Mar 31 2021 at 20:39)</a>:</h4>
<p>yes, that is the point for my analysis. The potential inconvenience seems not to be worth the advantages for it being default.</p>



<a name="232663331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232663331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232663331">(Mar 31 2021 at 20:53)</a>:</h4>
<p>so perhaps we can set "simple" IGs to not commit the input.cache (i.e. add it to .gitignore by default), and those who want the benefits and risks can remove it from .gitignore?</p>



<a name="232672999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/committing%20input-cache/near/232672999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/committing.20input-cache.html#232672999">(Mar 31 2021 at 22:07)</a>:</h4>
<p>I think that is fair.  It also has a built-in safety mechanism in that people who aren't so good at git will be naturally protected since they won't know how to update .gitignore. ;-)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
