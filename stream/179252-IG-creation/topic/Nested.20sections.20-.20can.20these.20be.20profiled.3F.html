---
layout: page
title: "FHIR Chat  · Nested sections - can these be profiled? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html">Nested sections - can these be profiled?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="255224573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255224573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255224573">(Sep 28 2021 at 14:21)</a>:</h4>
<p>In a couple of resources e.g. Composition<br>
you have nested sections. E.g. section is nested with section below.</p>
<p><a href="/user_uploads/10155/iUfAS7nvKw1nEUUfBk-GDcdK/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/iUfAS7nvKw1nEUUfBk-GDcdK/image.png" title="image.png"><img src="/user_uploads/10155/iUfAS7nvKw1nEUUfBk-GDcdK/image.png"></a></div>



<a name="255225108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255225108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255225108">(Sep 28 2021 at 14:24)</a>:</h4>
<p>Can these sections be profiled. Forge is allowing them to be profiled (see below) which causes HL7 (and HAPI) validation to fail. </p>
<p><a href="/user_uploads/10155/jgG-q0nnh3GAMRh_uepE5Kpf/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/jgG-q0nnh3GAMRh_uepE5Kpf/image.png" title="image.png"><img src="/user_uploads/10155/jgG-q0nnh3GAMRh_uepE5Kpf/image.png"></a></div><p>Is this an issue in forge?</p>



<a name="255225394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255225394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255225394">(Sep 28 2021 at 14:26)</a>:</h4>
<p>It should be possible to profile them...  What validation issues are you getting?</p>



<a name="255225576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255225576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255225576">(Sep 28 2021 at 14:27)</a>:</h4>
<p><a href="/user_uploads/10155/oSTv3ms6GTO9_r-QWbDzE_hW/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/oSTv3ms6GTO9_r-QWbDzE_hW/image.png" title="image.png"><img src="/user_uploads/10155/oSTv3ms6GTO9_r-QWbDzE_hW/image.png"></a></div>



<a name="255225627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255225627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255225627">(Sep 28 2021 at 14:27)</a>:</h4>
<p>Process Note: Unable to generate snapshot for UK Core Composition: Composition.section.section has no children (Composition.section.section.code) and no types in profile UK Core Composition<br>
org.hl7.fhir.exceptions.DefinitionException: Composition.section.section has no children (Composition.section.section.code) and no types in profile UK Core Composition</p>



<a name="255225726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255225726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255225726">(Sep 28 2021 at 14:28)</a>:</h4>
<p>latest HL7 command line validation and also HAPI FHIR Validation 5.5.1</p>



<a name="255226915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255226915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255226915">(Sep 28 2021 at 14:35)</a>:</h4>
<p>Are you able to post the profile?</p>



<a name="255235261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255235261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255235261">(Sep 28 2021 at 15:23)</a>:</h4>
<p>This should be public <a href="https://simplifier.net/hl7fhirukcorer4/ukcorecomposition">https://simplifier.net/hl7fhirukcorer4/ukcorecomposition</a></p>



<a name="255235278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255235278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255235278">(Sep 28 2021 at 15:23)</a>:</h4>
<p>^That's one of them</p>



<a name="255239205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255239205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255239205">(Sep 28 2021 at 15:46)</a>:</h4>
<p>I don't see anything obviously wrong.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="255345432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/255345432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#255345432">(Sep 29 2021 at 05:46)</a>:</h4>
<p>fixed next release</p>



<a name="260252702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/260252702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#260252702">(Nov 04 2021 at 10:41)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>. I ran into the same issue, so I wanted to ask: Can you tell me when the problem might be solved? So just that I know, nothing more...</p>



<a name="260253084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/260253084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#260253084">(Nov 04 2021 at 10:45)</a>:</h4>
<p>whatever I thought was fixed was released weeks ago, so if you still have a problem, it's not on the 'yet to be released' list</p>



<a name="260253839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/260253839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#260253839">(Nov 04 2021 at 10:53)</a>:</h4>
<p>Thanks for your quick reply.</p>



<a name="260254363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/260254363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#260254363">(Nov 04 2021 at 10:59)</a>:</h4>
<p>I started using fsh and sushi two weeks ago, so I am somewhat of a newbie in this part. Right now I updated scripts etc. with _updatePublisher.bat and ran it again, and it failed.<br>
I also used the publisher.jar from github and copied it into the sushi file system and it also failed. My error message I entered  <a href="#narrow/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh">here</a>.</p>



<a name="260254477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/260254477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#260254477">(Nov 04 2021 at 11:00)</a>:</h4>
<p>I'm sorry to trouble you.</p>



<a name="260260975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/260260975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#260260975">(Nov 04 2021 at 12:15)</a>:</h4>
<p>I'd have to debug that - can I reproduce it?</p>



<a name="260261199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/260261199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#260261199">(Nov 04 2021 at 12:18)</a>:</h4>
<p>Please wait a few second, I will create a composition which should work without any other profiles of mine.</p>



<a name="260262221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/260262221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#260262221">(Nov 04 2021 at 12:28)</a>:</h4>
<p>This profile here is another version of our profile. It should produce the same error:  <a href="https://simplifier.net/mareikestestwiese/ewoundsummaryreduced">https://simplifier.net/mareikestestwiese/ewoundsummaryreduced</a></p>



<a name="276635726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276635726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276635726">(Mar 25 2022 at 15:29)</a>:</h4>
<p>Hi everyone, I am having the same error regarding nested profiles sections. The IG creator returns error.</p>
<p>"Caused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile Medication View profile 2.section.section"</p>
<p>Any solution? IG Pub 1.1.112<br>
Thanks!</p>



<a name="276636397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276636397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276636397">(Mar 25 2022 at 15:33)</a>:</h4>
<p>IG 1.1.113 returns the same error ... (tested just to make sure)</p>



<a name="276867733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276867733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276867733">(Mar 28 2022 at 12:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F/near/260260975">said</a>:</p>
<blockquote>
<p>I'd have to debug that - can I reproduce it?</p>
</blockquote>
<p>Hi Grahame, This profile here seems to trigger the error:<br>
<a href="https://github.com/joofio/obs-cdss-fhir/blob/8213ba8e5d1f5c06542ce8723198355bd466ded4/input/fsh/profiles.fsh#L22">https://github.com/joofio/obs-cdss-fhir/blob/8213ba8e5d1f5c06542ce8723198355bd466ded4/input/fsh/profiles.fsh#L22</a></p>



<a name="276960083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276960083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276960083">(Mar 29 2022 at 05:34)</a>:</h4>
<p>I get Jekyll has failed. Complete output from running Jekyll: [31m  Liquid Exception: Could not locate the included file 'menu.xml' in any of ["/Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes"]. Ensure it exists in one of those directories and, if it is a symlink, does not point outside your site so (00:31.0836)<br>
 ?</p>



<a name="276964883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276964883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276964883">(Mar 29 2022 at 06:58)</a>:</h4>
<p>normally this error comes when the xml file fails some transformation or checking in the xslts</p>



<a name="276964917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276964917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276964917">(Mar 29 2022 at 06:58)</a>:</h4>
<p><span class="user-mention" data-user-id="195726">@João Almeida</span> could there be an issue with that file (e.g. malformed xml/html, unfinished tags)?</p>



<a name="276974168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276974168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276974168">(Mar 29 2022 at 08:42)</a>:</h4>
<p>Thanks for the replies.<br>
<span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  that error comes up during what build time? using my sushi.yaml (that has a menu), it does not require menu.xml (jekyll and genonce run ok in my computer and github actions). Maybe I am running something old?</p>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>  maybe that is the issue, but everything runs ok without the profile with nested section. When I add it, the problems start.</p>



<a name="276977334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276977334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276977334">(Mar 29 2022 at 09:12)</a>:</h4>
<p>I don't know why I had that problem, but I did. That repo in that branch?</p>



<a name="276983511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276983511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276983511">(Mar 29 2022 at 10:15)</a>:</h4>
<p>I cloned the repo clean. _updatePublisher and then _genonce and ran  ok.<br>
The GH Action without the profile also ran ok (<a href="https://github.com/joofio/obs-cdss-fhir/actions/runs/2057359022">https://github.com/joofio/obs-cdss-fhir/actions/runs/2057359022</a>)<br>
Adding the profile, returns the section error...<br>
What can I do to troubleshoot this?</p>



<a name="276988384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276988384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276988384">(Mar 29 2022 at 11:06)</a>:</h4>
<p>I have no idea. This is reproducible for me - I have no _menu.xml file. <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> where is it supposed to come from?</p>



<a name="276988659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276988659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276988659">(Mar 29 2022 at 11:09)</a>:</h4>
<p>The error seems (from my basic java knowledge) to come from here.<br>
<a href="https://github.com/HL7/fhir-ig-publisher/blob/84aeae9a7280bff71221c405df7d03033793621a/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java#L5458">https://github.com/HL7/fhir-ig-publisher/blob/84aeae9a7280bff71221c405df7d03033793621a/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java#L5458</a></p>
<p>This comes from:<br>
<a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/7c6e7b278a6401dcf1567bdb0f5a61e465ce2b07/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L602">https://github.com/hapifhir/org.hl7.fhir.core/blob/7c6e7b278a6401dcf1567bdb0f5a61e465ce2b07/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L602</a></p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I will add the menu.xml for your usage.</p>



<a name="276989238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276989238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276989238">(Mar 29 2022 at 11:15)</a>:</h4>
<p>already added menu.xml so your code should work (or at least that message should go away). Nevertheless it is strange that mine does not require menu.xml and yours does.</p>



<a name="276989714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276989714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276989714">(Mar 29 2022 at 11:20)</a>:</h4>
<p>well it builds now</p>



<a name="276989740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276989740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276989740">(Mar 29 2022 at 11:20)</a>:</h4>
<p>what am I looking for?</p>



<a name="276989967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276989967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276989967">(Mar 29 2022 at 11:22)</a>:</h4>
<p>in my local build and github actions returns the following:</p>
<div class="codehilite"><pre><span></span><code>java.lang.Exception: Error generating snapshot for /github/workspace/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /github/workspace/fsh-generated/resources/StructureDefinition-nestedcomposition
    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5405)
    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4667)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1005)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10010)
Caused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /github/workspace/fsh-generated/resources/StructureDefinition-nestedcomposition
    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5458)
    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5403)
    ... 4 more
Caused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile Medication nested.section.section
    at org.hl7.fhir.r5.conformance.ProfileUtilities.getTypeForElement(ProfileUtilities.java:1955)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1518)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1304)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:669)
    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5453)
    ... 5 more
</code></pre></div>
<p><a href="https://github.com/joofio/obs-cdss-fhir/runs/5735882928?check_suite_focus=true#step:7:109">https://github.com/joofio/obs-cdss-fhir/runs/5735882928?check_suite_focus=true#step:7:109</a></p>



<a name="276990188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276990188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276990188">(Mar 29 2022 at 11:25)</a>:</h4>
<p>in the log?</p>



<a name="276990198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276990198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276990198">(Mar 29 2022 at 11:25)</a>:</h4>
<p>I'm not seeing that. main branch?</p>



<a name="276990307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276990307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276990307">(Mar 29 2022 at 11:26)</a>:</h4>
<p>yes in the log, main branch</p>



<a name="276990701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276990701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276990701">(Mar 29 2022 at 11:30)</a>:</h4>
<p>FHIR IG Publisher Version 1.1.113 (Git# 36472c045b0c). Built 2022-03-18T05:50:01.31Z (11 days old)</p>



<a name="276991318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276991318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276991318">(Mar 29 2022 at 11:35)</a>:</h4>
<p>weird</p>



<a name="276991334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276991334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276991334">(Mar 29 2022 at 11:36)</a>:</h4>
<div class="codehilite"><pre><span></span><code>FHIR IG Publisher Version (unknown) (Git# null). Built null (?vu-duration?)
Detected Java version: 1.8.0_321 from /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home on Mac OS X/x86_64 (64bit). 14564MB available
dir = /Users/grahamegrieve/work/ig-pub/org.hl7.fhir.publisher.core, path = /usr/bin:/bin:/usr/sbin:/sbin
Parameters: -ig /Users/grahamegrieve/temp/igs/obs-cdss-fhir
Start Clock @ Tuesday, 29 March 2022 10:17:27 PM AEDT (2022-03-29T22:17:27+11:00)

API keys loaded from /Users/grahamegrieve/fhir-api-keys.ini                      (00:00.0016)
Package Cache: /Users/grahamegrieve/.fhir/packages                               (00:00.0022)
Run Sushi on /Users/grahamegrieve/temp/igs/obs-cdss-fhir                         (00:00.0029)
Load Template from hl7.be.fhir.template#current                                  (00:00.0796)
 Load Template from fhir.base.template#current                                   (00:04.0048)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onLoad-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /Users/grahamegrieve/temp/igs/obs-cdss-fhir                      (00:05.0791)
Core Package hl7.fhir.r4.core#4.0.1
Terminology Cache is at /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/txcache. 5 files in cache (00:12.0090)
Connect to Terminology Server at http://tx.fhir.org                              (00:12.0094)
Load Package hl7.fhir.pubpack#0.0.9
Load Package hl7.fhir.xver-extensions#0.0.11
Load Package hl7.terminology.r4#3.1.0
Initialization complete                                                          (00:14.0159)
Fetch http://xxsomewhere.org/fhir/myig/package-list.json for version check       (00:14.0162)
Load Content                                                                     (00:14.0197)
Translating CQL source                                                           (00:14.0327)
Translating CQL source in folder /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/cql (00:14.0327)
loadPrePages from FetchedFile[/Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/includes] as /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/includes
loadPrePages from FetchedFile[/Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/pagecontent] as /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/pagecontent
Processing Conformance Resources                                                 (00:14.0370)
Generating Snapshots                                                             (00:14.0405)
Propagating status                                                               (00:14.0405)
Generating Narratives                                                            (00:14.0406)
Validating Conformance Resources                                                 (00:14.0462)
Validating Resources                                                             (00:19.0172)
Processing Provenance Records                                                    (00:19.0174)
Generating Outputs in /Users/grahamegrieve/temp/igs/obs-cdss-fhir/output         (00:19.0175)

onGenerate.checkVersions:
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/versions.txt
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.getVersions.xslt

onGenerate.r5-schemas:
      [get] Getting: http://build.fhir.org/fhir-single.xsd
      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R5/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/fhir-xhtml.xsd
      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R5/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xml.xsd
      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R5/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://build.fhir.org/xmldsig-core-schema.xsd
      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R5/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r4-schemas:
      [get] Getting: http://hl7.org/fhir/R4/fhir-single.xsd
      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R4/fhir-single.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/fhir-xhtml.xsd
      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R4/fhir-xhtml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xml.xsd
      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R4/xml.xsd
      [get] Not modified - so not downloaded
      [get] Getting: http://hl7.org/fhir/R4/xmldsig-core-schema.xsd
      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R4/xmldsig-core-schema.xsd
      [get] Not modified - so not downloaded

onGenerate.r3-schemas:

onGenerate.r2b-schemas:

onGenerate.r2-schemas:

onGenerate.schemas:

onGenerate.data:
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_data/artifacts.json
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.data.xslt

onGenerate.setup:

onGenerate.infoFile:
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_data/info.json
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.genJson.xslt

onGenerate.processIncludes:
     [copy] Copying 19 files to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes

onGenerate.processIg:
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.1.xml
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.group.xslt
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.1.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-updated.xml
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.final.xslt

onGenerate.igQa:
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-updated.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/ongenerate-validation-igqa.json
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.qa.xslt

onGenerate.artifactList:
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-updated.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes/artifacts.xml
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/createArtifactSummary.xslt

check-plantumlfiles:

onGenerate.plantUml.ig:

onGenerate.plantUml.template:

onGenerate.plantUml:

onGenerate.copyDataFiles:
     [copy] Copying 1 file to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_data

prepareDiagramSource:
     [xslt] Transforming into /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/images-source

renderDiagram:
     [java] No diagram found

createIGyaml:
     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/application.yaml
     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/hapi-yaml.xslt

createExampleScenarioPage:
     [xslt] Transforming into /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes
     [xslt] Transforming into /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes
     [xslt] Transforming into /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes

onGenerate.extend:

onGenerate:
Generating Summary Outputs                                                       (00:28.0809)
Sending Usage Stats to Server                                                    (00:29.0882)
## Memory (MB): Use = 1579, Free = 840, Total = 2420, Max =14564
Reclaiming memory...
## Memory (MB): Use = 438, Free = 2604, Total = 3043, Max =14564
Run jekyll: jekyll build --destination &quot;/Users/grahamegrieve/temp/igs/obs-cdss-fhir/output&quot; (in folder /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages) (00:30.0614)
Jekyll: Source: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages           (00:30.0881)
Jekyll: Generating...                                                            (00:30.0882)
Jekyll: done in 0.131 seconds.                                                   (00:31.0013)
Installing OBSCDSS.fhir.uv.myig#dev to the package cache
  Fetching:
  Installing:  done.
Checking Output HTML                                                             (00:31.0253)
found 521 files                                                                  (00:31.0261)
........................................
........................................
  ... 521 html files, 0 pages invalid xhtml (0%)                                 (00:31.0588)
  ... 81 links, 4 broken links (4%)                                              (00:31.0591)
Build final .zip                                                                 (00:31.0591)
</code></pre></div>



<a name="276991684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276991684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276991684">(Mar 29 2022 at 11:38)</a>:</h4>
<p>will try with other java version and return feedback</p>



<a name="276992133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276992133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276992133">(Mar 29 2022 at 11:42)</a>:</h4>
<p>this is with java 1.8 </p>
<div class="codehilite"><pre><span></span><code>Checking internet connection...
Online

FHIR IG Publisher Version 1.1.113 (Git# 36472c045b0c). Built 2022-03-18T05:50:01.31Z (11 days old)
Detected Java version: 1.8.0_292 from /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre on Mac OS X/x86_64 (64bit). 3641MB available
dir = /Users/joaoalmeida/Desktop/obs-cdss-fhir, path = /Users/joaoalmeida/.jenv/versions/1.8/bin:/opt/homebrew/Cellar/jenv/0.5.4/libexec/libexec:/usr/local/opt/ruby/bin:/usr/local/lib/ruby/gems/3.0.0/bin:/Users/joaoalmeida/.rbenv/shims:/opt/homebrew/opt/libpq/bin:/opt/homebrew/opt/node@14/bin:/Users/joaoalmeida/.jenv/shims:/Users/joaoalmeida/.jenv/bin:/opt/homebrew/Caskroom/miniforge/base/bin:/opt/homebrew/Caskroom/miniforge/base/condabin:/opt/local/bin:/opt/local/sbin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin
Parameters: -ig .
Start Clock @ Terça-feira, 29 de Março de 2022 12H39m WEST (2022-03-29T12:39:24+01:00)

API keys loaded from /Users/joaoalmeida/fhir-api-keys.ini                        (00:00.0023)
Package Cache: /Users/joaoalmeida/.fhir/packages                                 (00:00.0027)
Run Sushi on /Users/joaoalmeida/Desktop/obs-cdss-fhir                            (00:00.0037)
Sushi: npx: installed 933 in 4.609s                                              (00:04.0830)
Sushi: info  Running SUSHI v2.3.0 (implements FHIR Shorthand specification v1.2.0) (00:05.0050)
Sushi: info  Arguments:                                                          (00:05.0051)
Sushi: info    --out /Users/joaoalmeida/Desktop/obs-cdss-fhir                    (00:05.0051)
Sushi: info    /Users/joaoalmeida/Desktop/obs-cdss-fhir                          (00:05.0052)
Sushi: info  Using configuration file: /Users/joaoalmeida/Desktop/obs-cdss-fhir/sushi-config.yaml (00:05.0054)
Sushi: info  Importing FSH text...                                               (00:05.0057)
Sushi: info  Preprocessed 1 documents with 0 aliases.                            (00:05.0083)
Sushi: info  Imported 2 definitions and 0 instances.                             (00:05.0085)
Sushi: info  Checking local cache for hl7.fhir.r4.core#4.0.1...                  (00:05.0086)
Sushi: info  Found hl7.fhir.r4.core#4.0.1 in local cache.                        (00:05.0734)
Sushi: info  Loaded package hl7.fhir.r4.core#4.0.1                               (00:05.0735)
Sushi: info  Converting FSH to FHIR resources...                                 (00:05.0766)
Sushi: info  Converted 2 FHIR StructureDefinitions.                              (00:05.0882)
Sushi: info  Exporting FHIR resources as JSON...                                 (00:05.0883)
Sushi: info  Exported 2 FHIR resources as JSON.                                  (00:05.0890)
Sushi: info  Assembling Implementation Guide sources...                          (00:05.0891)
Sushi: info  Generated ImplementationGuide-obs.cdss.ig.example.json              (00:05.0894)
Sushi: info  Assembled Implementation Guide sources; ready for IG Publisher.     (00:05.0896)
Sushi:                                                                           (00:05.0896)
Sushi: ========================= SUSHI RESULTS ===========================       (00:05.0897)
Sushi: |  -------------------------------------------------------------  |       (00:05.0897)
Sushi: | |    Profiles   |  Extensions  |   Logicals   |   Resources   | |       (00:05.0898)
Sushi: | |-------------------------------------------------------------| |       (00:05.0898)
Sushi: | |       2       |      0       |      0       |       0       | |       (00:05.0899)
Sushi: |  -------------------------------------------------------------  |       (00:05.0899)
Sushi: |  -------------------------------------------------------------  |       (00:05.0901)
Sushi: | |      ValueSets     |    CodeSystems    |     Instances      | |       (00:05.0901)
Sushi: | |-------------------------------------------------------------| |       (00:05.0902)
Sushi: | |         0          |         0         |         0          | |       (00:05.0903)
Sushi: |  -------------------------------------------------------------  |       (00:05.0903)
Sushi: |                                                                 |       (00:05.0904)
Sushi: ===================================================================       (00:05.0904)
Sushi: | FSHing for compliments? Super job!     0 Errors      0 Warnings |       (00:05.0904)
Sushi: ===================================================================       (00:05.0904)
Load Template from hl7.be.fhir.template#current                                  (00:07.0926)
 Load Template from fhir.base.template#current                                   (00:10.0957)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/onLoad-ig-working.xml to /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /Users/joaoalmeida/Desktop/obs-cdss-fhir                         (00:13.0791)
Core Package hl7.fhir.r4.core#4.0.1
Terminology Cache is at /Users/joaoalmeida/Desktop/obs-cdss-fhir/input-cache/txcache. 5 files in cache (00:20.0097)
Connect to Terminology Server at http://tx.fhir.org                              (00:20.0102)
Load Package hl7.fhir.pubpack#0.0.9
Load Package hl7.fhir.xver-extensions#0.0.11
Load Package hl7.terminology.r4#3.1.0
Initialization complete                                                          (00:21.0974)
Fetch http://xxsomewhere.org/fhir/myig/package-list.json for version check       (00:21.0979)
Load Content                                                                     (00:22.0121)
Translating CQL source                                                           (00:22.0253)
Translating CQL source in folder /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/cql (00:22.0254)
loadPrePages from FetchedFile[/Users/joaoalmeida/Desktop/obs-cdss-fhir/input/includes] as /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/includes
loadPrePages from FetchedFile[/Users/joaoalmeida/Desktop/obs-cdss-fhir/input/pagecontent] as /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/pagecontent
Processing Conformance Resources                                                 (00:22.0395)
Generating Snapshots                                                             (00:22.0597)
Publishing Content Failed: Error generating snapshot for /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition (00:22.0785)
                                                                                 (00:22.0787)
Use -? to get command line help                                                  (00:22.0788)
                                                                                 (00:22.0788)
Stack Dump (for debugging):                                                      (00:22.0788)
java.lang.Exception: Error generating snapshot for /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5405)
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4667)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1005)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10010)
Caused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5458)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5403)
        ... 4 more
Caused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile Medication nested.section.section
        at org.hl7.fhir.r5.conformance.ProfileUtilities.getTypeForElement(ProfileUtilities.java:1955)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1518)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1304)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:669)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5453)
        ... 5 more
</code></pre></div>



<a name="276992166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276992166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276992166">(Mar 29 2022 at 11:43)</a>:</h4>
<p>could it be the IGPublisher? I can try and build from source</p>



<a name="276993331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/276993331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#276993331">(Mar 29 2022 at 11:53)</a>:</h4>
<p>built from source (org.hl7.fhir.publisher.cli) and returns the same error:</p>
<div class="codehilite"><pre><span></span><code>FHIR IG Publisher Version 1.1.114-SNAPSHOT (Git# 84aeae9a7280). Built 2022-03-29T12:46:44.706+01:00 (5 mins old)
Detected Java version: 1.8.0_292 from /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre on Mac OS X/x86_64 (64bit). 3641MB available
dir = /Users/joaoalmeida/Desktop/fhir-ig-publisher/org.hl7.fhir.publisher.cli, path = /Users/joaoalmeida/.jenv/versions/1.8/bin:/opt/homebrew/Cellar/jenv/0.5.4/libexec/libexec:/usr/local/opt/ruby/bin:/usr/local/lib/ruby/gems/3.0.0/bin:/Users/joaoalmeida/.rbenv/shims:/opt/homebrew/opt/libpq/bin:/opt/homebrew/opt/node@14/bin:/Users/joaoalmeida/.jenv/shims:/Users/joaoalmeida/.jenv/bin:/opt/homebrew/Caskroom/miniforge/base/bin:/opt/homebrew/Caskroom/miniforge/base/condabin:/opt/local/bin:/opt/local/sbin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin
Parameters: -ig /Users/joaoalmeida/Desktop/obs-cdss-fhir
Start Clock @ Terça-feira, 29 de Março de 2022 12H52m WEST (2022-03-29T12:52:25+01:00)

API keys loaded from /Users/joaoalmeida/fhir-api-keys.ini                        (00:00.0021)
Package Cache: /Users/joaoalmeida/.fhir/packages                                 (00:00.0024)
Run Sushi on /Users/joaoalmeida/Desktop/obs-cdss-fhir                            (00:00.0034)
Sushi: npx: installed 933 in 4.221s                                              (00:04.0376)
Sushi: info  Running SUSHI v2.3.0 (implements FHIR Shorthand specification v1.2.0) (00:04.0589)
Sushi: info  Arguments:                                                          (00:04.0590)
Sushi: info    --out /Users/joaoalmeida/Desktop/obs-cdss-fhir                    (00:04.0590)
Sushi: info    /Users/joaoalmeida/Desktop/obs-cdss-fhir                          (00:04.0591)
Sushi: info  Using configuration file: /Users/joaoalmeida/Desktop/obs-cdss-fhir/sushi-config.yaml (00:04.0593)
Sushi: info  Importing FSH text...                                               (00:04.0595)
Sushi: info  Preprocessed 1 documents with 0 aliases.                            (00:04.0622)
Sushi: info  Imported 2 definitions and 0 instances.                             (00:04.0624)
Sushi: info  Checking local cache for hl7.fhir.r4.core#4.0.1...                  (00:04.0624)
Sushi: info  Found hl7.fhir.r4.core#4.0.1 in local cache.                        (00:05.0326)
Sushi: info  Loaded package hl7.fhir.r4.core#4.0.1                               (00:05.0326)
Sushi: info  Converting FSH to FHIR resources...                                 (00:05.0355)
Sushi: info  Converted 2 FHIR StructureDefinitions.                              (00:05.0469)
Sushi: info  Exporting FHIR resources as JSON...                                 (00:05.0469)
Sushi: info  Exported 2 FHIR resources as JSON.                                  (00:05.0476)
Sushi: info  Assembling Implementation Guide sources...                          (00:05.0477)
Sushi: info  Generated ImplementationGuide-obs.cdss.ig.example.json              (00:05.0480)
Sushi: info  Assembled Implementation Guide sources; ready for IG Publisher.     (00:05.0480)
Sushi:                                                                           (00:05.0481)
Sushi: ========================= SUSHI RESULTS ===========================       (00:05.0482)
Sushi: |  -------------------------------------------------------------  |       (00:05.0482)
Sushi: | |    Profiles   |  Extensions  |   Logicals   |   Resources   | |       (00:05.0483)
Sushi: | |-------------------------------------------------------------| |       (00:05.0483)
Sushi: | |       2       |      0       |      0       |       0       | |       (00:05.0485)
Sushi: |  -------------------------------------------------------------  |       (00:05.0485)
Sushi: |  -------------------------------------------------------------  |       (00:05.0487)
Sushi: | |      ValueSets     |    CodeSystems    |     Instances      | |       (00:05.0488)
Sushi: | |-------------------------------------------------------------| |       (00:05.0488)
Sushi: | |         0          |         0         |         0          | |       (00:05.0489)
Sushi: |  -------------------------------------------------------------  |       (00:05.0489)
Sushi: |                                                                 |       (00:05.0489)
Sushi: ===================================================================       (00:05.0490)
Sushi: | FSHing for compliments? Super job!     0 Errors      0 Warnings |       (00:05.0490)
Sushi: ===================================================================       (00:05.0491)
Load Template from hl7.be.fhir.template#current                                  (00:07.0459)
 Load Template from fhir.base.template#current                                   (00:09.0908)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/onLoad-ig-working.xml to /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /Users/joaoalmeida/Desktop/obs-cdss-fhir                         (00:12.0842)
Core Package hl7.fhir.r4.core#4.0.1
Terminology Cache is at /Users/joaoalmeida/Desktop/obs-cdss-fhir/input-cache/txcache. 5 files in cache (00:18.0798)
Connect to Terminology Server at http://tx.fhir.org                              (00:18.0804)
Load Package hl7.fhir.pubpack#0.0.9
Load Package hl7.fhir.xver-extensions#0.0.11
Load Package hl7.terminology.r4#3.1.0
Initialization complete                                                          (00:20.0418)
Fetch http://xxsomewhere.org/fhir/myig/package-list.json for version check       (00:20.0423)
Load Content                                                                     (00:20.0429)
Translating CQL source                                                           (00:20.0558)
Translating CQL source in folder /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/cql (00:20.0560)
loadPrePages from FetchedFile[/Users/joaoalmeida/Desktop/obs-cdss-fhir/input/includes] as /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/includes
loadPrePages from FetchedFile[/Users/joaoalmeida/Desktop/obs-cdss-fhir/input/pagecontent] as /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/pagecontent
Processing Conformance Resources                                                 (00:20.0707)
Generating Snapshots                                                             (00:20.0870)
Publishing Content Failed: Error generating snapshot for /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition (00:21.0023)
                                                                                 (00:21.0024)
Use -? to get command line help                                                  (00:21.0025)
                                                                                 (00:21.0025)
Stack Dump (for debugging):                                                      (00:21.0025)
java.lang.Exception: Error generating snapshot for /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5405)
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4667)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1005)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10010)
Caused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5458)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5403)
        ... 4 more
Caused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile Medication nested.section.section
        at org.hl7.fhir.r5.conformance.ProfileUtilities.getTypeForElement(ProfileUtilities.java:1955)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1518)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1304)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:669)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5453)
        ... 5 more
</code></pre></div>



<a name="277022404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/277022404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#277022404">(Mar 29 2022 at 15:30)</a>:</h4>
<p>Conversation has moved past this point, but for the record, menu.xml is not generated.  It's a source file that must be put in the input/includes folder for the base template to work.  (There's discussion about moving to a mechanism that would allow the file to be generated, but we're not there yet.)</p>



<a name="277106654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/277106654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#277106654">(Mar 30 2022 at 07:56)</a>:</h4>
<p>sushi config does generate menu.xml.</p>



<a name="277157656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/277157656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#277157656">(Mar 30 2022 at 14:57)</a>:</h4>
<p>Having the menu.xml or not, both versions (with the latest ig publisher) return the same error :/</p>



<a name="277172885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/277172885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#277172885">(Mar 30 2022 at 16:43)</a>:</h4>
<p>Where are you putting the menu.xml file?</p>



<a name="277195355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/277195355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#277195355">(Mar 30 2022 at 19:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> -- looking at <a href="https://github.com/joofio/obs-cdss-fhir/tree/main/input/includes">his repo</a>, it is at <code>input/includes/menu.xml</code>. </p>
<p>For the record, if there is a menu defined in <code>sushi-config.yaml</code>, it will be generated to <code>fsh-generated/input/menu.xml</code>.  The base template was updated quite a while ago to also look in this location.</p>



<a name="277200170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/277200170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#277200170">(Mar 30 2022 at 20:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191469">Chris Moesel</span> <a href="#narrow/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F/near/277195355">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> -- looking at <a href="https://github.com/joofio/obs-cdss-fhir/tree/main/input/includes">his repo</a>, it is at <code>input/includes/menu.xml</code>. </p>
<p>For the record, if there is a menu defined in <code>sushi-config.yaml</code>, it will be generated to <code>fsh-generated/input/menu.xml</code>.  The base template was updated quite a while ago to also look in this location.</p>
</blockquote>
<p>I added the file for <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  usage.<br>
But before, as <span class="user-mention" data-user-id="191469">@Chris Moesel</span>  said, I was using the sushi-config.yaml that is not commented out.</p>



<a name="277727255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/277727255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#277727255">(Apr 04 2022 at 13:01)</a>:</h4>
<p>built validator from source and same error appears:</p>
<div class="codehilite"><pre><span></span><code>Caused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile composition nested.section.section
</code></pre></div>
<p>command:</p>
<div class="codehilite"><pre><span></span><code> java -jar org.hl7.fhir.publisher.cli/target/org.hl7.fhir.publisher.cli-1.1.115-SNAPSHOT.jar  -ig &lt;path-for-ig&gt;
</code></pre></div>
<p>built with java 11</p>



<a name="278049900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Nested%20sections%20-%20can%20these%20be%20profiled%3F/near/278049900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> João Almeida <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F.html#278049900">(Apr 06 2022 at 16:26)</a>:</h4>
<p>been trying to debug this issue and it feels that it comes from the hapi core lib. In here:<br>
<a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/76411218acf695e64f292501fe265bf4334542db/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L1971">https://github.com/hapifhir/org.hl7.fhir.core/blob/76411218acf695e64f292501fe265bf4334542db/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L1971</a></p>
<div class="codehilite"><pre><span></span><code> &quot;System.out.println(indent+&quot; - &quot;+cpath+&quot;: base = &quot;+baseCursor+&quot; (&quot;+descED(base.getElement(),baseCursor)+&quot;) to &quot;+baseLimit+&quot; (&quot;+descED(base.getElement(),baseLimit)+&quot;), diff = &quot;+diffCursor+&quot; (&quot;+descED(differential.getElement(),diffCursor)+&quot;) to &quot;+diffLimit+&quot; (&quot;+descED(differential.getElement(),diffLimit)+&quot;) &quot;+
      &quot;(slicingDone = &quot;+slicingDone+&quot;) (diffpath= &quot;+(differential.getElement().size() &gt; diffCursor ? differential.getElement().get(diffCursor).getPath() : &quot;n/a&quot;)+&quot;)&quot;);
</code></pre></div>
<p>prints</p>
<div class="codehilite"><pre><span></span><code>- Composition.section.section.section: base = 53 (Composition.section.section) to 53 (Composition.section.section), diff = 9 (Composition.section:section1.section:subsection.section) to 12 (Composition.section:section1.section:subsection.section:subsubsection.entry) (slicingDone = false) (diffpath= Composition.section.section.section)
</code></pre></div>
<p>"outcome" = Composition.section.section<br>
"outcome.getType().size()"= 0</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
