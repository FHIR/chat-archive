---
layout: page
title: "FHIR Chat  · IG input validation · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html">IG input validation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="197746885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197746885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197746885">(May 15 2020 at 20:12)</a>:</h4>
<p>One idea to quickly catch some errors in the IG input: we could define StructureDefs on the ImplementationGuide resource, for a few constraints:</p>
<ol>
<li>base : all the necessary parameters for the publisher and template to be able to work</li>
<li>hl7: all the additional constraints for the HL7 templates to work<br>
(3. same for IHE but that was on another thread)</li>
</ol>



<a name="197747225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197747225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197747225">(May 15 2020 at 20:15)</a>:</h4>
<p>We could possibly have template pass parameters to the IGPublisher that indicate profiles to use for validating specific types of artifacts on load.  Not sure how feasible that is though.  Thoughts <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>?</p>



<a name="197747537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197747537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197747537">(May 15 2020 at 20:18)</a>:</h4>
<p>(We could ask the build script to call the validator but that would mean adding a command-line option)</p>



<a name="197748566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197748566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197748566">(May 15 2020 at 20:27)</a>:</h4>
<p>The validator has a commandline option.  The bigger issue is that launching the validator is slow - and we'd want to use different profiles for different artifacts, which would mean launching it multiple times and probably adding a few minutes or more to the overall build</p>



<a name="197749324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197749324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197749324">(May 15 2020 at 20:35)</a>:</h4>
<p>sorry, I meant adding a command-line option to the Publisher - we don't want to have 2 large jars if 1 could do it</p>



<a name="197749429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197749429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197749429">(May 15 2020 at 20:36)</a>:</h4>
<p>I admit to not understanding what the point of this is.</p>



<a name="197749478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197749478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197749478">(May 15 2020 at 20:37)</a>:</h4>
<p>This would be a sanity check so I think it would save time - and we could make it an option so we can turn it off.</p>



<a name="197749529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197749529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197749529">(May 15 2020 at 20:37)</a>:</h4>
<p>the template should check any input parameters it depends on. And the publisher already checks everything it needs up front</p>



<a name="197749768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197749768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197749768">(May 15 2020 at 20:40)</a>:</h4>
<p>yes, each template should check those parameters. <br>
This could be done with xslt - which is what happens now, and the output is somewhere in the console output. <br>
OR we could validate the source against a profile - which is an available functionality in the validator.</p>



<a name="197749867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197749867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197749867">(May 15 2020 at 20:41)</a>:</h4>
<p>doing it with a profile allows ups to maintain the rules separately from the xslt. Depending on who we ask, maintaining a structureDef is easier to maintain than xslt.</p>



<a name="197749875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197749875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197749875">(May 15 2020 at 20:41)</a>:</h4>
<p>and then produce output in qa.html?</p>



<a name="197749913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/197749913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#197749913">(May 15 2020 at 20:41)</a>:</h4>
<p>i was not thinking of producing qa, but could be - depends on what the validator can do</p>



<a name="207346694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/207346694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#207346694">(Aug 18 2020 at 21:49)</a>:</h4>
<p>I see an error that may relate to this:<br>
Validation_VAL_Profile_Minimum <br>
Profile <a href="http://hl7.org/fhir/StructureDefinition/ImplementationGuide">http://hl7.org/fhir/StructureDefinition/ImplementationGuide</a>, Element 'ImplementationGuide.definition.resource': minimum required = 1, but only found 0</p>



<a name="207346901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/207346901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#207346901">(Aug 18 2020 at 21:52)</a>:</h4>
<ol>
<li>is this using the validator mechanism?</li>
<li>if so, can we tell it to validate another profile, e.g. <a href="http://profiles.ihe.net/fhir/StructureDefinition/ihe-implementationguide">profiles.ihe.net/fhir/StructureDefinition/ihe-implementationguide</a> ?</li>
</ol>



<a name="207346928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/207346928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#207346928">(Aug 18 2020 at 21:52)</a>:</h4>
<p>I don't follow either question</p>



<a name="207347122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/207347122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#207347122">(Aug 18 2020 at 21:55)</a>:</h4>
<p>say in IHE we want to have constraints on the input IG, like "contact[0] must be a url for ihe,  contact[1] must be a url for the ihe domain,  contact[2] must be an email..."</p>



<a name="207347218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/207347218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#207347218">(Aug 18 2020 at 21:56)</a>:</h4>
<p>if we define those constraints in a structuredef, can we tell publisher to validate the ig.xml against that structuredef (instead of against the core <a href="http://hl7.org/fhir/structuredefinition/implementationguide">hl7.org/fhir/structuredefinition/implementationguide</a>)?</p>



<a name="207347335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/207347335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#207347335">(Aug 18 2020 at 21:57)</a>:</h4>
<p>I'm not requesting this feature, i'm just asking if the code that gives me that error could allow that.</p>



<a name="207347414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/207347414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#207347414">(Aug 18 2020 at 21:58)</a>:</h4>
<p>if it is feasible/sensible, then I will create an issue in the github repo.</p>



<a name="207348536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20input%20validation/near/207348536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20input.20validation.html#207348536">(Aug 18 2020 at 22:13)</a>:</h4>
<p>I'm not sure about this. The IG itself is the master definition. It can invoke the profile on itself in ImplementationGuide.meta.profile. But since it's the master, where else can you impose a rule like that?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
