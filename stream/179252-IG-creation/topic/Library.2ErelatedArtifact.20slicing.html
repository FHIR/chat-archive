---
layout: page
title: "FHIR Chat  · Library.relatedArtifact slicing · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html">Library.relatedArtifact slicing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="261748780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261748780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261748780">(Nov 17 2021 at 06:44)</a>:</h4>
<p>We (<span class="user-mention" data-user-id="197497">@Adam Stevenson</span> , <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> ) are getting the following error: <code>Library.relatedArtifact:sliceComputableLibrary: minimum required = 1, but only found 0 (from http://hl7.org/fhir/us/ecr/StructureDefinition/us-ph-supplemental-library)</code></p>
<p>This is the profile: <a href="http://build.fhir.org/ig/HL7/case-reporting/branches/master/StructureDefinition-us-ph-supplemental-library.html">http://build.fhir.org/ig/HL7/case-reporting/branches/master/StructureDefinition-us-ph-supplemental-library.html</a>). (Git: <a href="https://github.com/HL7/case-reporting/blob/master/input/resources/structuredefinition/us-ph-supplemental-library.xml">https://github.com/HL7/case-reporting/blob/master/input/resources/structuredefinition/us-ph-supplemental-library.xml</a>)</p>
<p>The example in question definitely contains all 3 required slices: <a href="https://github.com/HL7/case-reporting/blob/master/input/resources/library/library-us-ph-supplemental-library-example.xml">https://github.com/HL7/case-reporting/blob/master/input/resources/library/library-us-ph-supplemental-library-example.xml</a>:</p>
<div class="codehilite"><pre><span></span><code>&lt;relatedArtifact&gt;
        &lt;type value=&quot;composed-of&quot;/&gt;
        &lt;resource value=&quot;http://aphl.org/fhir/ecr/Library/RuleFilters&quot;/&gt;
    &lt;/relatedArtifact&gt;
    &lt;relatedArtifact&gt;
        &lt;type value=&quot;composed-of&quot;/&gt;
        &lt;resource value=&quot;http://hl7.org/fhir/us/ecr/Library/library-us-ph-supplemental-valueset-library-example&quot;/&gt;
    &lt;/relatedArtifact&gt;
    &lt;relatedArtifact&gt;
        &lt;type value=&quot;composed-of&quot;/&gt;
        &lt;resource value=&quot;http://hl7.org/fhir/us/ecr/ValueSet/valueset-us-ph-supplemental-valueset-example&quot;/&gt;
    &lt;/relatedArtifact&gt;
</code></pre></div>
<p>I can't see anything wrong with the slicing in the profile or with the example...</p>



<a name="261749042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261749042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261749042">(Nov 17 2021 at 06:51)</a>:</h4>
<p><del>Might be a targetProfile vs profile issue... Testing now.</del> Wasn't that!</p>



<a name="261749565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261749565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261749565">(Nov 17 2021 at 07:00)</a>:</h4>
<p>Can a Library satisfy both slices relatedArtifact:sliceComputableLibrary and relatedArtifact:sliceSupplementalValueSetLibrary ? That might cause a problem. But I'd expect it to be a different error.</p>



<a name="261749698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261749698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261749698">(Nov 17 2021 at 07:03)</a>:</h4>
<p>Possibly (will check) but yeah, would expect to get my favourite "multiple matching slices" error if that were the case...</p>



<a name="261749826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261749826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261749826">(Nov 17 2021 at 07:06)</a>:</h4>
<p>And no, I don't think a Library could match both.</p>



<a name="261750242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261750242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261750242">(Nov 17 2021 at 07:14)</a>:</h4>
<p>Actually - I think it might be because of the error we are getting on RuleFilters.xml: "Canonical URL '<a href="http://hl7.org/fhir/Library/FHIRHelpers|4.0.1">http://hl7.org/fhir/Library/FHIRHelpers|4.0.1</a>' does not resolve" and FHIRHelpers.xml: "Canonical URL '<a href="http://hl7.org/fhir/Library/FHIR-ModelInfo|4.0.1">http://hl7.org/fhir/Library/FHIR-ModelInfo|4.0.1</a>' does not resolve"<br>
We have a known issue for that on the front page of the IG: <a href="https://jira.hl7.org/browse/FHIR-30477">https://jira.hl7.org/browse/FHIR-30477</a></p>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> would you be able to confirm this is indeed the issue - we are coming to FMG tomorrow for publication approval and will need an exemption for this error, if the above is indeed the cause.</p>



<a name="261807453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261807453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261807453">(Nov 17 2021 at 16:16)</a>:</h4>
<p>If it can't find the profile, then it can't test if the instance is valid against the profile</p>



<a name="261855706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261855706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261855706">(Nov 17 2021 at 21:55)</a>:</h4>
<p>Looks like the error I mentioned about the FHIRHelpers has been resolved, so I guess that is not the issue...</p>



<a name="261869906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261869906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261869906">(Nov 18 2021 at 00:16)</a>:</h4>
<p><span class="user-mention" data-user-id="197497">@Adam Stevenson</span> fixed the issue! I'll let <span class="user-mention" data-user-id="193599">@Lynn Laakso</span> and <span class="user-mention" data-user-id="191759">@Melva Peters</span> know when I send them the final IG (i.e. when I've done the Jira spec file...)</p>



<a name="261870627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261870627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261870627">(Nov 18 2021 at 00:26)</a>:</h4>
<p>what was the fix?</p>



<a name="261871802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261871802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261871802">(Nov 18 2021 at 00:41)</a>:</h4>
<p><span class="user-mention" data-user-id="197497">@Adam Stevenson</span> can probably explain...<br>
His commit messages are: </p>
<ul>
<li>Removed FHIRHelpers and FHIR-ModelInfo Libraries and 'known issues' header</li>
<li>Fixed triggering-valueset profile slicing; update chlamydia example valueset</li>
<li>Fixed RuleFilters Library url to resolve slicing error</li>
</ul>
<p>I haven't had a chance to look at the changes properly yet.</p>



<a name="261874283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Library.relatedArtifact%20slicing/near/261874283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adam Stevenson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Library.2ErelatedArtifact.20slicing.html#261874283">(Nov 18 2021 at 01:13)</a>:</h4>
<p>The solution for the library example's relatedArtifact not satisfying the slice was to change the referenced Library's url base to match the IG's canonical base.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
