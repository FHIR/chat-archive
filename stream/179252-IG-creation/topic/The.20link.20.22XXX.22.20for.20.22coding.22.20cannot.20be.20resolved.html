---
layout: page
title: "FHIR Chat  · The link &quot;XXX&quot; for &quot;coding&quot; cannot be resolved · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html">The link &quot;XXX&quot; for &quot;coding&quot; cannot be resolved</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="195156560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/195156560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Etienne Cantineau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#195156560">(Apr 24 2020 at 08:02)</a>:</h4>
<p>Hello, i have an error in some profiles: The link "StructureDefinition-XXX-definitions.html#XXX.XXX.coding" for "coding" cannot be resolved (valid targets: XXX targets).<br>
It's always with a slice,  the link for coding is missing the slice name in the differential view but not in the snapshot view.<br>
Example: a profile PractitionerRole with a slice named SNOMED-CT in code;<br>
The differential view link:   &lt;a href="StructureDefinition-be-practitionerrole-definitions.html#PractitionerRole.code.coding"&gt;  broken<br>
The snapshot view link: &lt;a href="StructureDefinition-be-practitionerrole-definitions.html#PractitionerRole.code:SNOMED-CT.coding"&gt;  OK</p>



<a name="195173315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/195173315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#195173315">(Apr 24 2020 at 11:07)</a>:</h4>
<p>can I reproduce this?</p>



<a name="195190191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/195190191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Etienne Cantineau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#195190191">(Apr 24 2020 at 13:50)</a>:</h4>
<p>I've added the PractitionerRole profile in this repo: <a href="https://github.com/ec-ehealth/Sushi-examples" title="https://github.com/ec-ehealth/Sushi-examples">https://github.com/ec-ehealth/Sushi-examples</a>. I run the last publisher version.</p>



<a name="195659043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/195659043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#195659043">(Apr 29 2020 at 04:26)</a>:</h4>
<p>is there an actual IG where I can reproduce this? looking at the outcomes doesn't help</p>



<a name="195669702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/195669702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Etienne Cantineau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#195669702">(Apr 29 2020 at 07:22)</a>:</h4>
<p>Yes, here is my temp one: <a href="https://github.com/ec-ehealth/Build-source" title="https://github.com/ec-ehealth/Build-source">https://github.com/ec-ehealth/Build-source</a>,<br>
with outcome: <a href="https://ec-ehealth.github.io/ehealthplatformstandards/" title="https://ec-ehealth.github.io/ehealthplatformstandards/">https://ec-ehealth.github.io/ehealthplatformstandards/</a></p>



<a name="197897087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197897087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Etienne Cantineau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197897087">(May 18 2020 at 07:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  Hello, any news about these broken links?<br>
Here is the QA from IG build: <a href="https://build.fhir.org/ig/ec-ehealth/Build-source/qa.html">https://build.fhir.org/ig/ec-ehealth/Build-source/qa.html</a></p>



<a name="197904445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197904445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197904445">(May 18 2020 at 08:31)</a>:</h4>
<p>I just checked this and I have  a question: Does the publisher need all the elements in the path to be defined in the differential, like this?</p>
<div class="codehilite"><pre><span></span><code>      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo:Annex&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo&quot;</span><span class="p">,</span>
        <span class="nt">&quot;sliceName&quot;</span><span class="p">:</span> <span class="s2">&quot;Annex&quot;</span>
      <span class="p">}</span><span class="err">,</span>
      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo:Annex.category&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo.category&quot;</span>
      <span class="p">}</span><span class="err">,</span>
      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo:Annex.category.coding&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo.category.coding&quot;</span>
      <span class="p">}</span><span class="err">,</span>
      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo:Annex.category.coding.system&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo.category.coding.system&quot;</span><span class="p">,</span>
        <span class="nt">&quot;patternUri&quot;</span><span class="p">:</span> <span class="s2">&quot;http://terminology.hl7.org/CodeSystem/claiminformationcategory&quot;</span>
      <span class="p">}</span><span class="err">,</span>
</code></pre></div>


<p>or we can just define the sub-elements that matter?</p>
<div class="codehilite"><pre><span></span><code>      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo:Annex&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo&quot;</span><span class="p">,</span>
        <span class="nt">&quot;sliceName&quot;</span><span class="p">:</span> <span class="s2">&quot;Annex&quot;</span>
      <span class="p">}</span><span class="err">,</span>
      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo:Annex.category.coding.system&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Claim.supportingInfo.category.coding.system&quot;</span><span class="p">,</span>
        <span class="nt">&quot;patternUri&quot;</span><span class="p">:</span> <span class="s2">&quot;http://terminology.hl7.org/CodeSystem/claiminformationcategory&quot;</span>
      <span class="p">}</span><span class="err">,</span>
</code></pre></div>


<p>I don't know if this is generic behaviour or for a slice.</p>



<a name="197905573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197905573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197905573">(May 18 2020 at 08:44)</a>:</h4>
<p>(if I put all the paths, the errors are gone)</p>



<a name="197932248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197932248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197932248">(May 18 2020 at 13:14)</a>:</h4>
<p>It's always been the case that the "full" (not "sparse") differential is needed, either in the profile generally or in a slice.  I don't think that has changed (and your experience corroborates that).  It can be a pain sometimes, if you include all of it, as you noted, then it should work.</p>



<a name="197933829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197933829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197933829">(May 18 2020 at 13:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> is this already considered sushi?</p>



<a name="197933876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197933876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197933876">(May 18 2020 at 13:27)</a>:</h4>
<p><span class="user-mention" data-user-id="243697">@Etienne Cantineau</span> please confirm - were these profiles generated in sushi?</p>



<a name="197934892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197934892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Etienne Cantineau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197934892">(May 18 2020 at 13:33)</a>:</h4>
<p>Yes they were</p>



<a name="197935035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197935035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197935035">(May 18 2020 at 13:35)</a>:</h4>
<p>My understanding is that while the publisher used to require all differential paths to be completely represented, it now supports sparse differentials... BUT sparse differentials are <em>not</em> allowed for paths with slices.  I <em>thought</em> that SUSHI always filled in all the elements when slices are involved, so if that's not happening, it's a bug.</p>



<a name="197935132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197935132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197935132">(May 18 2020 at 13:35)</a>:</h4>
<p><span class="user-mention" data-user-id="243697">@Etienne Cantineau</span> -- are you using the most recent version of SUSHI (0.12.6)?</p>



<a name="197935229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197935229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197935229">(May 18 2020 at 13:36)</a>:</h4>
<p>(You can find out via <code>sushi -v</code>)</p>



<a name="197935540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197935540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197935540">(May 18 2020 at 13:38)</a>:</h4>
<p>Actually, I take that back.  I was thinking about the requirement that the element that declares the <code>sliceName</code> must be in the differential (even if it is from the parent profile and not actually changed).  If the path under that is not allowed to be sparse, I think that may be news to us.</p>



<a name="197935732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197935732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197935732">(May 18 2020 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- are we not allowed to have sparse differentials in paths under a slice?  Or is that something the publisher <em>should</em> be handling?</p>



<a name="197936034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197936034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197936034">(May 18 2020 at 13:42)</a>:</h4>
<p>I know that this has been discussed on multiple occasions, but I don't have any clear recollection that it has actually changed.  I would be happy to be proven wrong, though. :)</p>



<a name="197936109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197936109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Etienne Cantineau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197936109">(May 18 2020 at 13:43)</a>:</h4>
<p>It was 0.12.5 but got the same with the newest version</p>



<a name="197936397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197936397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197936397">(May 18 2020 at 13:45)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="243697">@Etienne Cantineau</span>.  We'll be working on some bug fixes over the next few days.  If Grahame confirms that sparse differentials are not allowed under slices, we can probably fit in a fix this week.</p>



<a name="197981731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197981731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197981731">(May 18 2020 at 19:04)</a>:</h4>
<p>I will have to investigate</p>



<a name="197990414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197990414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197990414">(May 18 2020 at 20:20)</a>:</h4>
<p>OK.  I just found another case where the publisher is failing on sparse differentials.  It's a bit of an edge case, but the following differential crashes the publisher:</p>
<div class="codehilite"><pre><span></span><code>  <span class="s2">&quot;differential&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;element&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Observation.value[x].extension&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Observation.value[x].extension&quot;</span><span class="p">,</span>
        <span class="nt">&quot;short&quot;</span><span class="p">:</span> <span class="s2">&quot;An extension to apply to all choices&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
</code></pre></div>


<p>Stacktrace:</p>
<div class="codehilite"><pre><span></span><code>java.lang.Exception: Error generating snapshot for SampleObservation(sample-observation): Unable to generate snapshot for http://hl7.org/fhir/sushi-test/StructureDefinition/sample-observation in /Users/cmoesel/dev/fhir/sushi/build/input/profiles/structuredefinition-sample-observation
    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4181)
    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3563)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:826)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:688)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7310)
Caused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hl7.org/fhir/sushi-test/StructureDefinition/sample-observation in /Users/cmoesel/dev/fhir/sushi/build/input/profiles/structuredefinition-sample-observation
    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4234)
    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4179)
    ... 4 more
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
    at java.util.ArrayList.rangeCheck(ArrayList.java:657)
    at java.util.ArrayList.get(ArrayList.java:433)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:878)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:540)
    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4232)
    ... 5 more
</code></pre></div>



<a name="197990600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197990600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197990600">(May 18 2020 at 20:22)</a>:</h4>
<p>If I add empty <code>Observation</code> and <code>Observation.value[x]</code> elements to the differential, then the publisher is happy.</p>
<p>Perhaps SUSHI should just play it safe and always avoid creating sparse differentials.  While it does create some more "noise" in the profile, it's not technically incorrect and seems to be more publisher-friendly.</p>



<a name="197992719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197992719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197992719">(May 18 2020 at 20:39)</a>:</h4>
<p>I think that's what is needed now, and is always safe.</p>



<a name="197996333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197996333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197996333">(May 18 2020 at 21:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191469">Chris Moesel</span> <a href="#narrow/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved/near/197990600">said</a>:</p>
<blockquote>
<p>Perhaps SUSHI should just play it safe and always avoid creating sparse differentials.  While it does create some more "noise" in the profile, it's not technically incorrect and seems to be more publisher-friendly.</p>
</blockquote>
<p>Agree, sounds better.</p>



<a name="197996498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197996498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197996498">(May 18 2020 at 21:15)</a>:</h4>
<p>IIRC, the first versions of SUSHI actually did this.  We took it out when we found that the publisher seemed to be supporting sparse differentials just fine.  Oh well!</p>



<a name="197996831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/197996831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#197996831">(May 18 2020 at 21:18)</a>:</h4>
<p>I  think this will be few lines of code and a few lines  in the resulting json, but much less lines of questions and complaints in Zulip</p>



<a name="198031459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198031459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198031459">(May 19 2020 at 07:47)</a>:</h4>
<p>ok. I fixed that. Wasn't really anything to do with sparse per se. In the next release</p>



<a name="198031549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198031549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198031549">(May 19 2020 at 07:48)</a>:</h4>
<p><span class="user-mention" data-user-id="243697">@Etienne Cantineau</span> I don't think this is related to your problem. It's still on my list</p>



<a name="198035866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198035866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Etienne Cantineau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198035866">(May 19 2020 at 08:34)</a>:</h4>
<p>Ok thank you</p>



<a name="198155455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198155455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198155455">(May 20 2020 at 05:10)</a>:</h4>
<p>fixed next release</p>



<a name="198929470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198929470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198929470">(May 27 2020 at 18:06)</a>:</h4>
<p>Based on the conversation and recommendations in this thread, the most recent version of SUSHI added intermediate differential elements to avoid "sparse differentials".  We were under the impression that doing such a thing was harmless, but it seems that may not be the case -- as <span class="user-mention" data-user-id="215604">@Saul Kravitz</span> has found a case where the <em>not-sparse</em> differential causes an IG Publisher error (but if you change it to a sparse differential, the error goes away).  See: <a href="#narrow/stream/179252-IG-creation/topic/Error.20in.20snapshot.20generation">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Error.20in.20snapshot.20generation</a></p>



<a name="198929729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198929729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198929729">(May 27 2020 at 18:08)</a>:</h4>
<p>if Grahame says this is not related to the sparse differentials, do you want to try and reverse this?</p>



<a name="198930393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198930393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198930393">(May 27 2020 at 18:12)</a>:</h4>
<p>Maybe?  But as far as I know, having non-sparse differentials should be completely valid too; so we shouldn't <em>need</em> to back it out.  I guess I'd defer to <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> regarding whether SUSHI should actively <em>avoid</em> producing sparse differentials, or intentionally allow them (by only including elements that truly changed or introduce slices).</p>



<a name="198931383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198931383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198931383">(May 27 2020 at 18:20)</a>:</h4>
<p>(or we figure out why the other error is happening which would be safer)</p>



<a name="198946105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198946105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198946105">(May 27 2020 at 20:09)</a>:</h4>
<p>I think that in general, sushi should avoid trying to be smart here - it should insert or remove anything it doesn't get told to do. As much as I can tell, sparse or not is ok; in this case, there was a bug that sparse triggered, but it was going to trigger eventually. I'll have to debug the other case to figure out what the problem is</p>



<a name="198951635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198951635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198951635">(May 27 2020 at 20:52)</a>:</h4>
<blockquote>
<p>I think that in general, sushi should avoid trying to be smart here - it should insert or remove anything it doesn't get told to do.</p>
</blockquote>
<p>OK.  So I think I need to interpret that as "don't try to make differentials unsparse" -- keep them sparse if that's the way authors define the profile.  This assumes that IG Publisher _should_ always handle sparse differentials fine.  And if it doesn't, that's a bug.  Yes?</p>



<a name="198952164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198952164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198952164">(May 27 2020 at 20:56)</a>:</h4>
<p>Or that the authors shouldn't/can't make the differentials sparse?  It would be good to know which way it is supposed to be.</p>



<a name="198952565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198952565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198952565">(May 27 2020 at 20:59)</a>:</h4>
<p>Right now, FSH doesn't provide a way that an author could say "put this element in the differential even though it actually has no differences in it".</p>



<a name="198970238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/The%20link%20%22XXX%22%20for%20%22coding%22%20cannot%20be%20resolved/near/198970238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/The.20link.20.22XXX.22.20for.20.22coding.22.20cannot.20be.20resolved.html#198970238">(May 28 2020 at 00:21)</a>:</h4>
<p>it's a bug if a sparse differential doesn't work</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
