---
layout: page
title: "FHIR Chat  · Batch files · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html">Batch files</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191979015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/191979015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#191979015">(Mar 27 2020 at 05:52)</a>:</h4>
<p>Many editors that run on windows use batch files, typically named _genOnce.bat or something to get the latest copy of the igpublisher, and then run the ig publisher</p>



<a name="191979032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/191979032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#191979032">(Mar 27 2020 at 05:52)</a>:</h4>
<p>Lloyd has introduced those batch files into the base template as a way to distribute them but this is a problem - I can't build anything because my a/v is making all the tools blow up when the try to handle the file</p>



<a name="191979048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/191979048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#191979048">(Mar 27 2020 at 05:53)</a>:</h4>
<p>and I can't really fault it - downloading executable code by a batch file sounds like a really insecure way to do things</p>



<a name="191979593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/191979593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#191979593">(Mar 27 2020 at 06:05)</a>:</h4>
<p>I think Grahame's question is - is there an alternative way to handle launch other than batch files that would work on all Windows environments and would be less likely to upset AV software</p>



<a name="192016843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192016843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192016843">(Mar 27 2020 at 13:32)</a>:</h4>
<p>Git for windows includes a Bash shell. Can shell scripts be used instead?  On my machine, the location is C:\Program Files\Git\git-bash.exe if you need to check that it exists.</p>



<a name="192021828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192021828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192021828">(Mar 27 2020 at 14:09)</a>:</h4>
<p>Is Bash better than .bat from an AV/security perspective?  The biggest challenge is that we need something we can double-click on in the Windows  explorer folder that will "just run".  I expect that would be true of a .sh, so we'd need a .bat to invoke it (though it would mean we could put all the logic in the .sh file and have the .bat file be super simple &amp; static).  Are we confident that everyone who's installed any sort of Git client on a Windows machine will always have git-bash in that location?</p>



<a name="192031381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192031381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192031381">(Mar 27 2020 at 15:11)</a>:</h4>
<p>can't we just exclude certain folders from A/V scanning?</p>



<a name="192058049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192058049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192058049">(Mar 27 2020 at 18:10)</a>:</h4>
<p>many people cannot exclude any folders - corporate managed</p>



<a name="192058331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192058331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192058331">(Mar 27 2020 at 18:12)</a>:</h4>
<p>couldn't people that have such challenges rely on the pipeline currently set up using webhooks on github?</p>



<a name="192058717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192058717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192058717">(Mar 27 2020 at 18:15)</a>:</h4>
<p>There's a decent number of people who need to be able to test when they don't have an internet connection.  Also, they don't always want to commit their stuff every time they make a change and want a build.  Some users of the tool chain won't use the CI build at all.</p>



<a name="192059090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192059090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192059090">(Mar 27 2020 at 18:18)</a>:</h4>
<p>Jens, this is possible and is used. I have had IG editors that only used that, never had build local ability. As Lloyd points out, there is still a need for local builds, and making them better should always be on the table</p>



<a name="192059827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192059827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192059827">(Mar 27 2020 at 18:23)</a>:</h4>
<p>sure ... as I understand it, the challenge is that the tool is used by a very broad set of people</p>



<a name="192059897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192059897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192059897">(Mar 27 2020 at 18:23)</a>:</h4>
<p>omitting bat/sh files makes it easier for some while it makes it a bit more difficult for others</p>



<a name="192059918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192059918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192059918">(Mar 27 2020 at 18:24)</a>:</h4>
<p>what about putting the sh/bat files in another repo?</p>



<a name="192060047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192060047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192060047">(Mar 27 2020 at 18:24)</a>:</h4>
<p>what is it that the batch files do?</p>



<a name="192061052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192061052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192061052">(Mar 27 2020 at 18:33)</a>:</h4>
<p>The batch files (and shell scripts) do three things:  The first is responsible for downloading the current IGPublisher and putting it into either a project-specific folder or a parent folder (to allow sharing amongst a bunch of IGs).  It does this in a way that supports a variety of Windows versions.  The second checks to see where the IGPublisher is located and whether the system is connected to the internet or not and then launches the publisher with an appropriate tx server flag based on whether it's connected or not.  It also ensures Java uses UTF-8.  The final one does the same as the second, but launches the publisher in 'continuous' mode.</p>



<a name="192067772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192067772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192067772">(Mar 27 2020 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I'm interested in your comment on this thread please</p>



<a name="192068890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192068890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192068890">(Mar 27 2020 at 19:29)</a>:</h4>
<p>Re: packaging and setup, one end of the spectrum is to release managed packages per platform, like going through the Windows Store, getting developer keys, signing release, etc. But that doesn't sound like what's required here...</p>



<a name="192069023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192069023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192069023">(Mar 27 2020 at 19:30)</a>:</h4>
<p>I'm unclear on why your tools are blowing up, though Grahame. If there's a <code>setup.sh</code> file (or whatever), why are you loading or running this when you go to build an IG? I would have thought that's a one-time developer-facing script that you run at the beginning of a process?</p>



<a name="192071440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192071440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192071440">(Mar 27 2020 at 19:53)</a>:</h4>
<p>I was simply copying it when installing the template package into the package cache. the A/V was preventing me from even having the batch file on my drive</p>



<a name="192079136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192079136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192079136">(Mar 27 2020 at 20:57)</a>:</h4>
<p>But does <em>not having</em> the file break your build? I wouldn't think you need this file.</p>



<a name="192079304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192079304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192079304">(Mar 27 2020 at 20:59)</a>:</h4>
<p>The file is what kicks off the build</p>



<a name="192079391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192079391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192079391">(Mar 27 2020 at 20:59)</a>:</h4>
<p>failing to install a package breaks everything. I won't tolerate dropping files at random from packages and having mystifying downstream errors</p>



<a name="192079510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192079510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192079510">(Mar 27 2020 at 21:00)</a>:</h4>
<p>Wrong thread?</p>



<a name="192079682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192079682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192079682">(Mar 27 2020 at 21:01)</a>:</h4>
<p>no the right thread. I'm explaining what the problem with the batch file was - it was in a template, and my A/V wouldn't let it exist on my drive. I didn't want to run it. Only instal the package that contained it</p>



<a name="192087733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192087733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192087733">(Mar 27 2020 at 22:27)</a>:</h4>
<p>Hmm. What does it mean to install a package? Is it just cloning the git repository or something more?</p>



<a name="192088512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192088512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192088512">(Mar 27 2020 at 22:36)</a>:</h4>
<p>What <em>had</em> happened was as follows: We had added the .bat files into the IG template, which caused them to be incorporated into an NPM package.  The IGPublisher uses its NPM package manager to retrieve the package, stick it in the local cache, then extract the contents into a local 'template' folder for use in IG execution.  Some part of that process caused Grahame's AV to be unhappy and yank some of the content, which caused other parts of the process to not copy the full set of content into the template folder, which led to a failure of the IGPublisher.</p>
<p>We've yanked that part of the process and will (shortly) be exploring a process where the .bat files try to update themselves directly from the source sitting in Git somewhere else.  That'll avoid dealing with NPM or package extraction, though it's possible the process will still make Grahame's AV unhappy - hope to know that soon.</p>



<a name="192101353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192101353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192101353">(Mar 28 2020 at 02:42)</a>:</h4>
<p>I'm so confused. Probably because I don't know where/why IG authors (or just template authors?) are using these .bat files, and why they need to "update themselves". Also regarding the underlying issue: Grahame, can't you tell your antivirus software not to complain about this? Basically every npm package anywhere (like, in the public npm registry) contains executable (js) scripts, shell scripts, etc. This can't all be broken, right?</p>



<a name="192102560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192102560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192102560">(Mar 28 2020 at 03:14)</a>:</h4>
<p>Authors are using the batch files to grab the most recent publisher and to kick off a local build.  We want to auto-update them because sometimes we make enhancements to how the batch files function.  (This conversation started, in part, because we were considering using the batch/shell files to do some FSH pre-processing before Grahame revamped the IG publisher to make that unnecessary.  There will undoubtedly be future changes.  Right now, we have a straight-forward process of making sure people are running with the current publisher and current templates, but there's no good way to make sure they're running with the current batch/shell files.  The objective is to try to fix that.</p>



<a name="192104358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192104358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192104358">(Mar 28 2020 at 04:10)</a>:</h4>
<blockquote>
<p>Grahame, can't you tell your antivirus software not to complain about this?</p>
</blockquote>
<p>yes, well, in principle I could though it's getting harder to. but I actually had some conceptual sympathy for the AB here - a batch script that downloads itself from an internet server.... </p>
<p>The real issue is that not everyone can configure their anti-virus like that</p>



<a name="192107524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192107524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192107524">(Mar 28 2020 at 05:45)</a>:</h4>
<p>But with the bat files out of the template the problem is gone, right?</p>



<a name="192108159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192108159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192108159">(Mar 28 2020 at 06:06)</a>:</h4>
<p>Maybe.  Haven't had a chance to test yet.  You still have bat files updating bat files, which it's possible some AV systems may be unhappy with</p>



<a name="192108570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192108570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192108570">(Mar 28 2020 at 06:18)</a>:</h4>
<p>I might need to issue a signed executable to do the updating</p>



<a name="192109164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192109164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192109164">(Mar 28 2020 at 06:38)</a>:</h4>
<p>We'll see.  If it's too big a pain to make work, we can just badger people on <a class="stream" data-stream-id="179294" href="/#narrow/stream/179294-committers.2Fannounce">#committers/announce</a> to download the new ones from sample-ig or wherever.  First, let's see if a direct download causes grief.</p>



<a name="192109167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192109167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192109167">(Mar 28 2020 at 06:39)</a>:</h4>
<p>The problem with a signed executable is then you have the issue of ensuring people have an up-to-date signed executable :)</p>



<a name="192109335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192109335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192109335">(Mar 28 2020 at 06:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179252-IG-creation/topic/Batch.20files/near/192109167" title="#narrow/stream/179252-IG-creation/topic/Batch.20files/near/192109167">said</a>:</p>
<blockquote>
<p>The problem with a signed executable is then you have the issue of ensuring people have an up-to-date signed executable :)</p>
</blockquote>
<p>...and for that (updating the executable) we can make a batch file :)  &lt;-- this should have been a joke</p>



<a name="192109379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192109379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192109379">(Mar 28 2020 at 06:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179252-IG-creation/topic/Batch.20files/near/192108159" title="#narrow/stream/179252-IG-creation/topic/Batch.20files/near/192108159">said</a>:</p>
<blockquote>
<p>Maybe.  Haven't had a chance to test yet.  You still have bat files updating bat files, which it's possible some AV systems may be unhappy with</p>
</blockquote>
<p>Obviously my AV is very lax, but it does not complain about the self-updating batch files.</p>



<a name="192109504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192109504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192109504">(Mar 28 2020 at 06:51)</a>:</h4>
<p>We'll test it w/ Grahame and then stress test it w/ <span class="user-mention" data-user-id="191404">@John Moehrke</span> :)</p>



<a name="192113865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192113865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192113865">(Mar 28 2020 at 09:13)</a>:</h4>
<p>If the only/primary concern is to have the most recent version of the IG publisher - then consider <a href="https://stackoverflow.com/questions/4002462/how-can-i-write-a-java-application-that-can-update-itself-at-runtime" title="https://stackoverflow.com/questions/4002462/how-can-i-write-a-java-application-that-can-update-itself-at-runtime">https://stackoverflow.com/questions/4002462/how-can-i-write-a-java-application-that-can-update-itself-at-runtime</a> or something alike. There are a couple of tools that does this kind of thing</p>



<a name="192113937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192113937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192113937">(Mar 28 2020 at 09:14)</a>:</h4>
<p>eg. <a href="https://github.com/update4j/update4j" title="https://github.com/update4j/update4j">https://github.com/update4j/update4j</a></p>



<a name="192117924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192117924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192117924">(Mar 28 2020 at 11:06)</a>:</h4>
<p>i'm not reproducing OSGi</p>



<a name="192118872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192118872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192118872">(Mar 28 2020 at 11:35)</a>:</h4>
<p>I don't believe you are</p>



<a name="192119076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192119076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192119076">(Mar 28 2020 at 11:41)</a>:</h4>
<p>IMHO - if you want to distribute software that ensures that you run on the latest stuff, either use docker, an msi installer (with embedded updater) or something like <a href="https://github.com/update4j/update4j" title="https://github.com/update4j/update4j">https://github.com/update4j/update4j</a>. You could also embed into the publisher that it advises you to stop the current run if there's an internet connection and it can detect a newer version online. If it is crucial business logic, put it into the publisher itself. - ... just a thought</p>



<a name="192121265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192121265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192121265">(Mar 28 2020 at 12:41)</a>:</h4>
<p>Installer is machine-wide.</p>



<a name="192121337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192121337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192121337">(Mar 28 2020 at 12:42)</a>:</h4>
<p>We need to support several IGs in the same machine, some of them using different versions of the publisher. <br>
The batch files allow us to use a "shared" publisher jar for several IGs, or individual jars for some IGs.</p>



<a name="192121359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192121359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192121359">(Mar 28 2020 at 12:43)</a>:</h4>
<p>They are a simple click-and-go solution, which we can zip with along with the IG, and tell a non-techie (after they install jelkyll...) - "here, unzip this, click that, then that, and watch the output folder." <br>
I thought of a Launcher as well, but if the current solution works...</p>



<a name="192123563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192123563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192123563">(Mar 28 2020 at 13:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179252-IG-creation/topic/Batch.20files/near/192121337" title="#narrow/stream/179252-IG-creation/topic/Batch.20files/near/192121337">said</a>:</p>
<blockquote>
<p>We need to support several IGs in the same machine, some of them using different versions of the publisher. <br>
The batch files allow us to use a "shared" publisher jar for several IGs, or individual jars for some IGs.</p>
</blockquote>
<p>sounds a bit contradicting. How can a "shared" publisher be different versions of the publisher?</p>



<a name="192123627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192123627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192123627">(Mar 28 2020 at 13:42)</a>:</h4>
<p>have there been cases for using older versions of the publisher?</p>



<a name="192125031"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192125031" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192125031">(Mar 28 2020 at 14:08)</a>:</h4>
<p>In my machine I use the latest publisher version for all IGs, but when something goes wrong -or when I want to test a specific version of the publisher in one of the IGs, then I use a different jar for that IG, while all the others use the "main" publisher</p>



<a name="192125573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192125573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192125573">(Mar 28 2020 at 14:22)</a>:</h4>
<p>do many other users share the same need to be able to run a multitude of different versions of the publisher?</p>



<a name="192126300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192126300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192126300">(Mar 28 2020 at 14:41)</a>:</h4>
<p>I'd say about 2/3 of people publishing only have one IG.  But a small percentage of folks work with multiple IGs - and supporting different publisher versions is an uncommon but necessary capability for those folks.</p>



<a name="192126366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192126366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192126366">(Mar 28 2020 at 14:42)</a>:</h4>
<p>And we don't need to have N times 100 mb to download and use disk space. One shared jar handles that</p>



<a name="192126451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192126451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192126451">(Mar 28 2020 at 14:45)</a>:</h4>
<p>Btw, this is why I personally don't really care about a test branch of the IG Publisher. I can keep building locally by fetching the n-1 version of the jar ( <span class="user-mention" data-user-id="191447">@Mark Kramer</span> not sure if this helps)</p>



<a name="192126503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Batch%20files/near/192126503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Batch.20files.html#192126503">(Mar 28 2020 at 14:46)</a>:</h4>
<p>i guess my own use is not representative for the average user then as I don't lack bandwidth nor diskspace and prefer to wrap it in docker an usually only use the latest version as I have no expectations of feature fixes back in time of the IG</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
