---
layout: page
title: "FHIR Chat  · Multiple IGs on local FHIR server · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html">Multiple IGs on local FHIR server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153951169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951169">(Apr 06 2018 at 14:24)</a>:</h4>
<p>I am creating a large number of profiles spread across a number of implementation guides. I would like to share profiles and extensions between these guides where there is crossover. However, I do not have an actual FHIR server at the canonincal URL for these profiles yet. I have however used the nifty HAPI CLI tool to set up a local FHIR server (which of course is at localhost:some_port) that I would like to use to enable these inter-IG dependencies. </p>
<p>Does anyone have guidance on this? When I list an IG in the dependencies list of the IG-build file, I presume it uses the canonincal URL to try and find those resources? Can I point it to localhost and still use the fake canonical URL for all the resources? </p>
<p>Any help or direction to what to read would be appreciated.</p>



<a name="153951174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951174">(Apr 06 2018 at 14:34)</a>:</h4>
<p>To share materials between IGs, you don't need a FHIR Server.  But you do need to define your IGs such that there's a strict hierarchy of dependencies.  I.e. You can have IG B depend on IG A and IG C depend on IG B, but you can't have a situation where two IGs depend on each other.  You then declare the IG dependencies and make sure that the ig.pack files are available when building the dependent guides.  (Having a FHIR server won't help you with this.)</p>



<a name="153951176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951176">(Apr 06 2018 at 14:54)</a>:</h4>
<p>Really. Ok that's useful. I just noticed that source attribute below. Should the 'source' attribute below point to the output folder of the parent IG? Or to the resources folder?<br>
Also, should the 'name' attribute be the 'id' of the parent IG, or the 'name' of the parent-IG.<br>
Should I put anything in the 'location' field?</p>
<div class="codehilite"><pre><span></span>   &quot;dependencyList&quot;: [  // optional
     // a list of other implementation guides that this guide depends on
     // e.g. uses profiles, value sets, code systems etc
     // zero or more of this object:
     {
        &quot;name&quot; : &quot;[name of the IG, for logging, and Jekyll variable name for location]&quot;,
        &quot;location&quot; : &quot;[http address where the IG lives]&quot;,
        &quot;source&quot; : &quot;[folder to get the definitions from if running ahead of publication at location (relative)]&quot;
     }
   ]
</pre></div>



<a name="153951181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951181">(Apr 06 2018 at 15:10)</a>:</h4>
<p>I don't think the name matters other than for rendering - though it needs to be Jekyll friendly (so no spaces or funky characters).  The location should be the canonical URL for the IG.</p>



<a name="153951191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951191">(Apr 06 2018 at 16:21)</a>:</h4>
<p>Thanks Lloyd I'll try it out.</p>



<a name="153951256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951256">(Apr 06 2018 at 19:29)</a>:</h4>
<p>source is for when the guide (or the right version of the guide) can't be found at the canonical URL</p>



<a name="153951554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951554">(Apr 09 2018 at 21:37)</a>:</h4>
<p>Having some trouble with this. If I want a profile to appear in IG-A, and also in IG-B. This is what I'm doing:</p>
<p>Build IG-A like normal, defining the differential, running the IG publisher.</p>
<p>Next I go into IG-B's build file and add:</p>
<div class="codehilite"><pre><span></span>    &quot;dependencyList&quot;: [{
                &quot;name&quot;: &quot;IGA&quot;,
         &quot;location&quot;: &quot;fakecanonical/IGA&quot;,
         &quot;source&quot;: &quot;C:/path/to/other_ig/ImplementationGuides/IG-A/output&quot;
          }]
</pre></div>


<p>Then I add an entry in the resources list of IG-B's build file. (Does it need a source attribute? what goes in source here?):</p>
<div class="codehilite"><pre><span></span>        &quot;StructureDefinition/shared-profile&quot;: {
               &quot;base&quot;: &quot;StructureDefinition-shared-profile.html&quot;
        }
</pre></div>


<p>Then I add a "dependency" attribute to IG-B's ImplementationGuide resource (type is 'reference' or 'inclusion'?):</p>
<div class="codehilite"><pre><span></span>    &quot;dependency&quot;: [{&quot;type&quot;: &quot;reference&quot;, &quot;uri&quot;: &quot;fakecanonical/IGA&quot; }]
</pre></div>


<p>Then I add n entry into IG-B's IG resource at package.resource:</p>
<div class="codehilite"><pre><span></span>                {&quot;example&quot;: false,  &quot;sourceReference&quot;: { &quot;reference&quot;: &quot;StructureDefinition/shared-profile&quot; } }
</pre></div>


<p>Putting the resource in package.resource throws an error "Unable to find source file". Removing the entry from package.resource leaves the profile out of the IG. What am I doing incorrectly?</p>



<a name="153951555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951555">(Apr 09 2018 at 22:07)</a>:</h4>
<p>all you need to do is add toIG-B  ig.json source parameter.   Don't add a separate SD entry.   You can then reference the profile in IG-B   See for example this <a href="https://healthedata1.github.io/IG-Sampler/StructureDefinition-template-profile-on-profile2.html" target="_blank" title="https://healthedata1.github.io/IG-Sampler/StructureDefinition-template-profile-on-profile2.html">https://healthedata1.github.io/IG-Sampler/StructureDefinition-template-profile-on-profile2.html</a>  where I build a profile on top of another or here <a href="https://healthedata1.github.io/IG-Sampler/StructureDefinition-template-basic2.html" target="_blank" title="https://healthedata1.github.io/IG-Sampler/StructureDefinition-template-basic2.html">https://healthedata1.github.io/IG-Sampler/StructureDefinition-template-basic2.html</a> where I reference a profile from a another IG.</p>



<a name="153951557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951557">(Apr 09 2018 at 22:16)</a>:</h4>
<p>IG-B shouldn't need to reference the shared profile.  If it points to IG-A, then you have access to all the profiles in IG-A.  There's no way to publish a profile in two IGs at the same time.  You publish in one and then depend on that one.</p>



<a name="153951558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951558">(Apr 09 2018 at 22:20)</a>:</h4>
<p>So from IG-B, I can only reference a profile in IG-A? Like if I have profile "DataElementX" that is common to both IG-A and IG-B, do I need to make two versions of "DataElementX" even if they are otherwise identical? I can't have it sit in both IG's?</p>



<a name="153951560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951560">(Apr 09 2018 at 22:25)</a>:</h4>
<p>What I'm actually hoping for is that in the list of profiles for both IG-A and IG-B, the shared profiles appear. But if this isn't possible, I guess I can just make IG specific versions that inherit from a parent version.</p>



<a name="153951561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951561">(Apr 09 2018 at 22:26)</a>:</h4>
<p>WE assume one IG  to be the granddaddy - that is where the common profile would go so it could be used in both.</p>



<a name="153951562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951562">(Apr 09 2018 at 22:27)</a>:</h4>
<p>you can alway compose a list to include all the profiles you want, but it  Is not a generated fragment.</p>



<a name="153951563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951563">(Apr 09 2018 at 22:28)</a>:</h4>
<p>A generated fragment,  does that mean a resource that has the narrative and html files generated?</p>



<a name="153951565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951565">(Apr 09 2018 at 22:33)</a>:</h4>
<p>A profile needs to be "owned" by only one IG.  Other IGs can depend on that parent IG and reference the profile - but they can't republish it.  If it's the same content, why would you want to publish it twice?  Do you not want to make the parent IG available to everyone?</p>



<a name="153951568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951568">(Apr 09 2018 at 22:39)</a>:</h4>
<p>I do, but I wanted the child IG's to list all the data elements that might appear in that module, and the parent IG to hold elements that appear in many different modules. But I might have to rethink this.</p>
<p>So one could not make an IG by borrowing a bunch of profiles from other pre-existing IGs? Like if I wanted to say that my CDS system requires smoking status, and instead of making a new profile I intend to use the US-Core Smoking Status profile, can I not add that profile to my implementation guide?</p>



<a name="153951570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951570">(Apr 09 2018 at 22:43)</a>:</h4>
<p>That's not how things are designed to work, no.  And because there can be  default constaints that get inheriated from an IG, the behavior might be different if you included them in different IGs - which would be confusing at best.  The expectation is that there's one authoritative place where you can find the profile.  You can then reference it wherever you like.</p>



<a name="153951597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951597">(Apr 10 2018 at 07:27)</a>:</h4>
<p>hah - this is the 'reference by inclusion' that we voted out of the latest version of the IG because who would want to do that? well, Travis wants to....</p>



<a name="153951644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951644">(Apr 10 2018 at 13:46)</a>:</h4>
<p>I don't think he wants to "include" the whole IG - he wants to include specific artifacts from it.  <span class="user-mention" data-user-id="196572">@Travis Stenerson</span>, can you confirm?</p>



<a name="153951652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951652">(Apr 10 2018 at 14:27)</a>:</h4>
<p>I want to include specific structure definitions in more than one IG. </p>
<p>Quick description of the use case. I'm building data models for multiple guidelines in oncology. And it appears that one IG per guideline would be the easiest manner to describe the data in the guideline. And many data elements occur in multiple guidelines. For instance, I have an observation for "Microsatellite instability" that occurs in prostate cancer and colon cancer. Or  'Medication Requests for Bone Metastases' - it occurs very often across guidelines.</p>
<p>I was hoping to have a 'general-oncology' IG, that the guideline-specific IG's could 'borrow' profiles from so as to share common profiles across guidelines. That was to try and make only one copy of bone-mets-med-request, and the prostate cancer IG could say "I use this profile too.".</p>
<p>But this might not be possible. Whats the best course of action here?</p>



<a name="153951691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951691">(Apr 10 2018 at 21:53)</a>:</h4>
<p>this was what it was intended for. I don't know what the best course of action is. It relates to the other thread with Eric, I think</p>



<a name="153951716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951716">(Apr 11 2018 at 01:31)</a>:</h4>
<p>My use case is more of using the  same ig-pub infrastructure across several unrelated IGs.   What Travis is describing I get done by setting up dependencies - namely uscore.    I don't really have a need similar to what is described above.</p>



<a name="153951865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951865">(Apr 11 2018 at 15:23)</a>:</h4>
<p>I will probably just build IG specific profiles and when I find a shared profile, abstract it up to the general IG and have the domain specific profiles inherit/derived from the abstract version. </p>
<p>Though the ability to share code systems and valuesets between IGs would also be nice. <br>
Does that IG-ValueSet and IG-CodeSystem ownership follow the same pattern or can I have free floating ValueSets/CodeSystems that are used in multiple IGs?</p>



<a name="153951866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multiple%20IGs%20on%20local%20FHIR%20server/near/153951866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multiple.20IGs.20on.20local.20FHIR.20server.html#153951866">(Apr 11 2018 at 15:24)</a>:</h4>
<p>no all work the same. In general, canonical URLs work against you publishing by inclusion rather than by reference. The intent is to only publish something once.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
