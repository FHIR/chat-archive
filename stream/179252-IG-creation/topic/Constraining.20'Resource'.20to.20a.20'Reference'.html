---
layout: page
title: "FHIR Chat  · Constraining &#x27;Resource&#x27; to a &#x27;Reference&#x27; · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Constraining.20&#x27;Resource&#x27;.20to.20a.20&#x27;Reference&#x27;.html">Constraining &#x27;Resource&#x27; to a &#x27;Reference&#x27;</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="180478480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Constraining%20%27Resource%27%20to%20a%20%27Reference%27/near/180478480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Constraining.20&#x27;Resource&#x27;.20to.20a.20&#x27;Reference&#x27;.html#180478480">(Nov 12 2019 at 03:28)</a>:</h4>
<p>(deleted)</p>



<a name="180478779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Constraining%20%27Resource%27%20to%20a%20%27Reference%27/near/180478779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Constraining.20&#x27;Resource&#x27;.20to.20a.20&#x27;Reference&#x27;.html#180478779">(Nov 12 2019 at 03:37)</a>:</h4>
<p>I'm trying to determine all the ways that one type might be constrained to another.  I found that <code>Bundle.entry.resource</code> provides an interesting use case since it can be constrained to multiple types -- effectively increasing the type array from 1 item to many (e.g., <code>[{ "code": "Resource" }]</code> can be constrained to <code>[{ "code": "MedicationRequest" } , { "code": "MedicationStatement" }]</code>).</p>
<p>In researching what is and is not possible, I found the <a href="http://hl7.org/fhir/us/davinci%2Dalerts/2019Sep/StructureDefinition-alerts-bundle.html" target="_blank" title="http://hl7.org/fhir/us/davinci%2Dalerts/2019Sep/StructureDefinition-alerts-bundle.html">Da Vinci Alerts Bundle Profile</a>.  In this profile, <code>{ "code": "Resource"}</code> (from <code>Bundle</code>) gets "constrained" to <code>{ "code": "Reference", "targetProfile": [""http://hl7.org/fhir/us/davinci-alerts/StructureDefinition/alerts-communication""] }</code>.  I'm trying to understand how/why this works, because <code>Reference</code> is <em>not</em> a specialization or constraint of <code>Resource</code>.  It is, in fact, a <code>complex-type</code> that specializes <code>Element</code>.  So how/why is it allowed as a constraint of a <code>Resource</code> type?</p>



<a name="180486659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Constraining%20%27Resource%27%20to%20a%20%27Reference%27/near/180486659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Constraining.20&#x27;Resource&#x27;.20to.20a.20&#x27;Reference&#x27;.html#180486659">(Nov 12 2019 at 06:43)</a>:</h4>
<p>first that IG never went to ballot and we need to 'unpublish' it.  Its been totally replaced and that profile is not being used.  secondly I don't know what I was doing that should be Resource and not Reference. and I am not sure why it was not picked up by the validator...</p>



<a name="180520161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Constraining%20%27Resource%27%20to%20a%20%27Reference%27/near/180520161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Constraining.20&#x27;Resource&#x27;.20to.20a.20&#x27;Reference&#x27;.html#180520161">(Nov 12 2019 at 14:17)</a>:</h4>
<p>Hmm... OK.  I did look at the QA for that IG and it is clean -- so the IG Publisher definitely <em>did</em> let it through (which is why I assumed it must be ok, even if I don't understand it).  I feel like I saw that happen in other IGs too... but maybe not -- I looked at a lot of IGs for examples, so my memory is a little murky.  (BTW -- I found that IG in the IG registry).</p>
<p>For now I will assume that it was a mistake for the IG publisher to allow it -- and that you <em>shouldn't</em> be allowed to constrain <code>Resource</code> to <code>Reference</code>.  Thanks, <span class="user-mention" data-user-id="191401">@Eric Haas</span>!</p>



<a name="180554856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Constraining%20%27Resource%27%20to%20a%20%27Reference%27/near/180554856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Constraining.20&#x27;Resource&#x27;.20to.20a.20&#x27;Reference&#x27;.html#180554856">(Nov 12 2019 at 19:58)</a>:</h4>
<p>if the QA was clean, there's a problem somewhere...</p>



<a name="180561380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Constraining%20%27Resource%27%20to%20a%20%27Reference%27/near/180561380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Constraining.20&#x27;Resource&#x27;.20to.20a.20&#x27;Reference&#x27;.html#180561380">(Nov 12 2019 at 21:01)</a>:</h4>
<p>It was built Aug 5, so may be a moot point now.  Perhaps would not come up clean again in a rebuild: <a href="http://hl7.org/fhir/us/davinci-alerts/2019Sep/qa.html" target="_blank" title="http://hl7.org/fhir/us/davinci-alerts/2019Sep/qa.html">http://hl7.org/fhir/us/davinci-alerts/2019Sep/qa.html</a></p>



<a name="180561874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Constraining%20%27Resource%27%20to%20a%20%27Reference%27/near/180561874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Constraining.20&#x27;Resource&#x27;.20to.20a.20&#x27;Reference&#x27;.html#180561874">(Nov 12 2019 at 21:06)</a>:</h4>
<p>doesn't feature in the current qa.html</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
