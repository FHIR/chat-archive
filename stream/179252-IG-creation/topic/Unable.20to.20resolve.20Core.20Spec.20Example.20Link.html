---
layout: page
title: "FHIR Chat  · Unable to resolve Core Spec Example Link · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html">Unable to resolve Core Spec Example Link</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="259952911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/259952911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramandeep Dhanoa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#259952911">(Nov 02 2021 at 04:43)</a>:</h4>
<p>I feel like this has been raised before, but raising it just in-case. The core spec example links in SDC IG are not getting resolved:<br>
<a href="/user_uploads/10155/-eKcKrt5EC-SuaZ0dNrs8ZdC/image.png">image.png</a> [image.png]<br>
<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>
<div class="message_inline_image"><a href="/user_uploads/10155/-eKcKrt5EC-SuaZ0dNrs8ZdC/image.png" title="image.png"><img src="/user_uploads/10155/-eKcKrt5EC-SuaZ0dNrs8ZdC/image.png"></a></div>



<a name="259953765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/259953765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#259953765">(Nov 02 2021 at 05:03)</a>:</h4>
<p>This is a situation where core defines examples and we're trying to reference them, but the core 'package' doesn't include examples, so the publication validator doesn't find them.</p>



<a name="259953867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/259953867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramandeep Dhanoa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#259953867">(Nov 02 2021 at 05:06)</a>:</h4>
<p>right, should I suppress these ones?</p>



<a name="259956290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/259956290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#259956290">(Nov 02 2021 at 06:01)</a>:</h4>
<p>I'm not following this Lloyd</p>



<a name="259957229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/259957229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramandeep Dhanoa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#259957229">(Nov 02 2021 at 06:22)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  The examples in SDC IG are referencing the core examples, for eg - The task example element 'for' is referencing the core patient example - '<a href="http://hl7.org/fhir/R4/patient-example-proband.html">http://hl7.org/fhir/R4/patient-example-proband.html</a>' and QA is showing this as an error 'Unable to resolve resource..<br>
<a href="/user_uploads/10155/UkyY8FhEbYOXKu03G1aIkyyg/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/UkyY8FhEbYOXKu03G1aIkyyg/image.png" title="image.png"><img src="/user_uploads/10155/UkyY8FhEbYOXKu03G1aIkyyg/image.png"></a></div>



<a name="260086874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260086874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260086874">(Nov 03 2021 at 03:42)</a>:</h4>
<p>We talked about this before <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>.  The issue is supporting IGs that reference <em>examples</em> in the core spec.</p>



<a name="260086899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260086899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260086899">(Nov 03 2021 at 03:42)</a>:</h4>
<p>I don't remember this. But I would think that you add hl7.fhir.r4.examples as a dependency and it'd be fine</p>



<a name="260086932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260086932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260086932">(Nov 03 2021 at 03:44)</a>:</h4>
<p><span class="user-mention" data-user-id="214174">@Ramandeep Dhanoa</span>, wanna give that a shot? :)</p>



<a name="260142953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260142953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260142953">(Nov 03 2021 at 14:39)</a>:</h4>
<p>Is there a similar dependency for FHIR core profiles (e.g. hl7.fhir.r4.profiles)? Would that let me reference the vital signs core profile in an IG?</p>



<a name="260173970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260173970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260173970">(Nov 03 2021 at 18:07)</a>:</h4>
<p>that just part of core</p>



<a name="260233140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260233140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramandeep Dhanoa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260233140">(Nov 04 2021 at 06:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> sure, will try that.</p>



<a name="260759235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260759235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramandeep Dhanoa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260759235">(Nov 09 2021 at 06:33)</a>:</h4>
<p>I am wondering what will be the canonical reference to be used when declaring the examples dependency in the IG?</p>



<a name="260834859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260834859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramandeep Dhanoa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260834859">(Nov 09 2021 at 17:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  any pointers to this? packageId is hl7.fhir.r4.examples, not sure what will be the uri (it's a mandatory field)</p>



<a name="260853239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260853239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260853239">(Nov 09 2021 at 20:06)</a>:</h4>
<p><a href="http://hl7.org/fhir/ImplementationGuide/fhir">http://hl7.org/fhir/ImplementationGuide/fhir</a></p>



<a name="260853293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260853293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260853293">(Nov 09 2021 at 20:07)</a>:</h4>
<p>" Internal Error - unknown id fhir (from crimplementationguide.asp) . "</p>



<a name="260853836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260853836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260853836">(Nov 09 2021 at 20:11)</a>:</h4>
<p>? how to reproduce?</p>



<a name="260853964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260853964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260853964">(Nov 09 2021 at 20:13)</a>:</h4>
<p>I clicked on the link</p>



<a name="260854059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/260854059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#260854059">(Nov 09 2021 at 20:13)</a>:</h4>
<p>oh. well, I'll add that to my list.</p>



<a name="263807962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/263807962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#263807962">(Dec 06 2021 at 04:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span><br>
 The id and URL work, but end up with this:<br>
java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 129<br>
        at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3319)<br>
        at java.base/java.lang.String.substring(String.java:1874)<br>
        at org.hl7.fhir.r5.conformance.ProfileUtilities.genFixedValue(ProfileUtilities.java:4777)<br>
        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateDescription(ProfileUtilities.java:4706)<br>
        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateDescription(ProfileUtilities.java:4525)<br>
        at org.hl7.fhir.r5.conformance.ProfileUtilities.genElementCells(ProfileUtilities.java:4218)<br>
        at org.hl7.fhir.r5.conformance.ProfileUtilities.genElement(ProfileUtilities.java:4035)<br>
        at org.hl7.fhir.r5.conformance.ProfileUtilities.genElement(ProfileUtilities.java:4101)<br>
        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateTable(ProfileUtilities.java:3869)<br>
        at org.hl7.fhir.r5.renderers.StructureDefinitionRenderer.render(StructureDefinitionRenderer.java:31)<br>
        at org.hl7.fhir.r5.renderers.StructureDefinitionRenderer.render(StructureDefinitionRenderer.java:27)<br>
        at org.hl7.fhir.r5.renderers.ResourceRenderer.render(ResourceRenderer.java:76)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:1286)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4093)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:942)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:794)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8942)</p>
<p>Cause is that the genFixedValue is trying to strip ".html" off the end of the ref, but the ref is this: "<a href="https://simplifier.net/resolve?scope=hl7.fhir.r4.examples@4.0.1&amp;canonical=http://hl7.org/fhir/StructureDefinition/CodeableConcept">https://simplifier.net/resolve?scope=hl7.fhir.r4.examples@4.0.1&amp;canonical=http://hl7.org/fhir/StructureDefinition/CodeableConcept</a>"</p>
<p>That's the ref that's returned by invoking pkp.getLinkFor('<a href="http://hl7.org/fhir/R4/">http://hl7.org/fhir/R4/</a>', 'CodeableConcept')</p>
<p>I <em>suspect</em> what's happening is that because the example package and the core package have the same base URL, that resolution is hitting the example package first, failing, and then falling back to some funky simplifier resolution thing (which other parts of our code aren't ready to handle).  I'm not sure where that code is though and figure it's probably best for me <em>not</em> to mess with it :)</p>
<p>You can reproduce by grabbing the SDC IG and uncommenting the dependency.</p>
<p>I understand your priority for the next few days is getting ballots out, but if you can tackle this one as soon as you have breathing room, that'd be helpful.  We're trying to get SDC out by end of year.  (Or at least get the publication request in by then.)</p>



<a name="263941146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/263941146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#263941146">(Dec 06 2021 at 23:48)</a>:</h4>
<p>fixed next release</p>



<a name="264074655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/264074655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#264074655">(Dec 07 2021 at 21:27)</a>:</h4>
<p>I'm testing the next release in Eclipse and the good news, is it does fix the issue of the examples not resolving.  On the downside, I now have over 400k broken links as all links to the R4 spec in SDC are now listed as broken...<br>
E.g. <code>The link 'http://hl7.org/fhir/R4/structuredefinition-bundle.html#Bundle' for "resourceType" cannot be resolved</code></p>



<a name="264074683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/264074683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#264074683">(Dec 07 2021 at 21:27)</a>:</h4>
<p>(<span class="user-mention" data-user-id="191316">@Grahame Grieve</span>)</p>



<a name="264085599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20Core%20Spec%20Example%20Link/near/264085599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20Core.20Spec.20Example.20Link.html#264085599">(Dec 07 2021 at 22:54)</a>:</h4>
<p>people who test live code get live code issues. This will be fixed when PRs are done</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
