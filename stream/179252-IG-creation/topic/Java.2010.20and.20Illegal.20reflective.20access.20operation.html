---
layout: page
title: "FHIR Chat  · Java 10 and Illegal reflective access operation · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Java.2010.20and.20Illegal.20reflective.20access.20operation.html">Java 10 and Illegal reflective access operation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153976159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Java%2010%20and%20Illegal%20reflective%20access%20operation/near/153976159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Java.2010.20and.20Illegal.20reflective.20access.20operation.html#153976159">(Jul 18 2018 at 20:59)</a>:</h4>
<p>It seems that if you run the IG publisher jar with Java 10, you'll get the following error:</p>
<div class="codehilite"><pre><span></span>WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.poi.util.DocumentHelper (file:/Users/mayt/cimpl/shr-cli/out/fhir/guide/org.hl7.fhir.igpublisher.jar) to method com.sun.org.apache.xerces.internal.util.SecurityManager.setEntityExpansionLimit(int)
WARNING: Please consider reporting this to the maintainers of org.apache.poi.util.DocumentHelper
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
</pre></div>


<p>This seems to be related to this bug in Apache POI: <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=62151" target="_blank" title="https://bz.apache.org/bugzilla/show_bug.cgi?id=62151">https://bz.apache.org/bugzilla/show_bug.cgi?id=62151</a></p>
<p>This issue seems to be harmless (since it appears that it's just a "warning" for now), but it leads to the question: Is Java 10 not recommended?  Should we be sticking to Java 8?</p>



<a name="153976174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Java%2010%20and%20Illegal%20reflective%20access%20operation/near/153976174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Java.2010.20and.20Illegal.20reflective.20access.20operation.html#153976174">(Jul 18 2018 at 21:55)</a>:</h4>
<p>don't know. Would an update of POI make any difference?</p>



<a name="153976182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Java%2010%20and%20Illegal%20reflective%20access%20operation/near/153976182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Java.2010.20and.20Illegal.20reflective.20access.20operation.html#153976182">(Jul 18 2018 at 22:41)</a>:</h4>
<p>Based on that bug report (linked above), it sounds like the POI team hasn't really done anything about it yet, and might not at all -- but it's hard to tell because the submitter posted two issues at the same time.  The relevant bit in the response seems to be:</p>
<blockquote>
<p>The latter I don't know how we can fix. For security reasons, we need to tell the built-in Java XML parser to turn on non-default settings to increase the parsing security. I don't believe that there's a public API for doing that, only the private ones.</p>
<p>Are you able to find any Java 9 advice on how to turn on the XML security features with the built-in xml parser using only public calls in Java 9?</p>
</blockquote>
<p>That being the case, it's probably not worth the effort to update POI.  If you (and everyone else) are using Java 8, it sounds like it might be unwise for us to try Java 10 during pre-ballot crunch time.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
