---
layout: page
title: "FHIR Chat  · Profiles embedded in Bundle · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html">Profiles embedded in Bundle</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="260529348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/260529348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#260529348">(Nov 06 2021 at 18:39)</a>:</h4>
<p>I just noticed that between the STU2 ballot build for mCODE (back in April 2021) and now, it appears that the snapshot of our Bundle profile now includes the contents of the <strong>entirety</strong> of each profile under <code>entry:sliceName.resource</code>. Here's an example:</p>
<ul>
<li>The <a href="http://hl7.org/fhir/us/mcode/2021May/StructureDefinition-mcode-patient-bundle.html">STU2 ballot build</a> does not have any child elements off <code>resource</code>.</li>
<li>The <a href="https://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/StructureDefinition-mcode-patient-bundle.html">current CI build</a> has an entire copy of each slices profile inside <code>resource</code>.</li>
</ul>
<p><strong>My question:</strong> Is this an intentional change? If so, what's the thinking behind this? (Apologies if I missed previous discussion on this -- I searched and couldn't find anything easily.)</p>



<a name="260529491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/260529491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#260529491">(Nov 06 2021 at 18:42)</a>:</h4>
<p>This is what the STU2 ballot build looks like:</p>
<p><a href="/user_uploads/10155/LGWN0a5FRyWgHcTYgAXy9eKj/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/LGWN0a5FRyWgHcTYgAXy9eKj/image.png" title="image.png"><img src="/user_uploads/10155/LGWN0a5FRyWgHcTYgAXy9eKj/image.png"></a></div><p>Compare to the current CI build:</p>
<p><a href="/user_uploads/10155/S-1dicrWWAX-Y-xH0__NHRK4/CleanShot-2021-11-06-at-14.41.182x.png">CleanShot-2021-11-06-at-14.41.182x.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/S-1dicrWWAX-Y-xH0__NHRK4/CleanShot-2021-11-06-at-14.41.182x.png" title="CleanShot-2021-11-06-at-14.41.182x.png"><img src="/user_uploads/10155/S-1dicrWWAX-Y-xH0__NHRK4/CleanShot-2021-11-06-at-14.41.182x.png"></a></div>



<a name="260529563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/260529563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#260529563">(Nov 06 2021 at 18:44)</a>:</h4>
<p>I looked at the JSON generated by SUSHI for our profile of Bundle, and it doesn't include any of the contents of the profiles that are slices in the Bundle -- just what I would expect to see in a Bundle StructureDefinition. So I think whatever changed happened after SUSHI in the IG Publisher pipeline.</p>



<a name="260638926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/260638926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#260638926">(Nov 08 2021 at 10:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> can you please take a look at this when you have a minute? We want to try to resolve this before we publish mCODE STU2 (which is close)</p>



<a name="260638967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/260638967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#260638967">(Nov 08 2021 at 10:29)</a>:</h4>
<p>it's on my lsit</p>



<a name="261513749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/261513749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#261513749">(Nov 15 2021 at 15:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> we are on the agenda for mCODE STU2 publication for FMG's Nov 17 meeting...any chance you'll be able to put in a fix before then? <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> </p>
<p>(FYSA I logged <a href="https://github.com/HL7/fhir-ig-publisher/issues/334">https://github.com/HL7/fhir-ig-publisher/issues/334</a> describing this issue as well.)</p>



<a name="263784654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/263784654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#263784654">(Dec 05 2021 at 19:27)</a>:</h4>
<p>ok finally got to this. I should've looked first because I assumed that it was actually something I did. But no.</p>



<a name="263784698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/263784698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#263784698">(Dec 05 2021 at 19:28)</a>:</h4>
<p>In your STU2 ballot:</p>



<a name="263784715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/263784715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#263784715">(Dec 05 2021 at 19:28)</a>:</h4>
<div class="codehilite"><pre><span></span><code>     {
        &quot;id&quot; : &quot;Bundle.entry:tumorSize.resource&quot;,
        &quot;path&quot; : &quot;Bundle.entry.resource&quot;,
        &quot;type&quot; : [
          {
            &quot;code&quot; : &quot;Observation&quot;,
            &quot;profile&quot; : [
              &quot;http://hl7.org/fhir/us/mcode/StructureDefinition/mcode-tumor-size&quot;
            ]
          }
        ],
        &quot;mustSupport&quot; : true
      },
</code></pre></div>



<a name="263784753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/263784753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#263784753">(Dec 05 2021 at 19:29)</a>:</h4>
<p>in your current draft:</p>



<a name="263784817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/263784817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#263784817">(Dec 05 2021 at 19:30)</a>:</h4>
<div class="codehilite"><pre><span></span><code>      {
        &quot;id&quot; : &quot;Bundle.entry:tumorSize.resource&quot;,
        &quot;path&quot; : &quot;Bundle.entry.resource&quot;,
        &quot;type&quot; : [
          {
            &quot;code&quot; : &quot;Observation&quot;,
            &quot;profile&quot; : [
              &quot;http://hl7.org/fhir/us/mcode/StructureDefinition/mcode-tumor-size&quot;
            ]
          }
        ]
      },
      {
        &quot;id&quot; : &quot;Bundle.entry:tumorSize.resource.meta.profile&quot;,
        &quot;path&quot; : &quot;Bundle.entry.resource.meta.profile&quot;,
        &quot;min&quot; : 1,
        &quot;patternCanonical&quot; : &quot;http://hl7.org/fhir/us/mcode/StructureDefinition/mcode-tumor-size&quot;
      }
</code></pre></div>



<a name="263784837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/263784837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#263784837">(Dec 05 2021 at 19:31)</a>:</h4>
<p>by walking into the resource, you make it necessary for the snapshot generator to include the entire resource in the profile.</p>



<a name="263785022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/263785022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#263785022">(Dec 05 2021 at 19:35)</a>:</h4>
<p>you said:</p>
<blockquote>
<p>I looked at the JSON generated by SUSHI for our profile of Bundle, and it doesn't include any of the contents of the profiles that are slices in the Bundle</p>
</blockquote>
<p>by specifying content inside the target profile, you make the snapshot generator reconcile the contents of the profiles, and publish the reconciliation. So from my pov, what happened is expected</p>



<a name="264484934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264484934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264484934">(Dec 10 2021 at 18:05)</a>:</h4>
<p>Agreed, the behavior makes sense. Apologies I didn't catch this initially.</p>



<a name="264498402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264498402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264498402">(Dec 10 2021 at 19:45)</a>:</h4>
<p>next time I'll check immediately rather than assuming there's some nasty issue I need a clear head for. But the question is, how to do what you're trying to do more effectively</p>



<a name="264797493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264797493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264797493">(Dec 14 2021 at 02:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  So fundamentally we are trying to make sure <code>meta.profile</code> is populated for resource instances within Bundle instances conforming to our "mCODE Patient Bundle" profile.</p>
<p>But we don't want to require <code>meta.profile</code> in <em>every</em> profile in mCODE as there may be cases where <code>meta.profile</code> can't be copied.</p>
<p>What we're doing now is slicing <code>Bundle.entry</code> by <code>entry.resource.meta.profile</code>, and then (as you say above) adding a constraint like <code>entry[sliceName].resource.meta.profile 1..* MS</code>. (We also make <code>entry[sliceName].resource.meta</code> required.)</p>
<p>We looked at instead doing <code>entry.resource.meta.profile 1..* MS</code>, but this causes errors if <code>entry.resource 1..1 MS</code> is set (related to <code>entry.resource.meta.profile</code> being an invalid element path, I believe).</p>
<p>If we remove <code>entry.resource 1..1 MS</code> so <code>entry.resource.meta.profile 1..* MS</code> "works", but this breaks validation of Bundles (it seems like the validator stops looking at the referenced profile if <code>entry.resource.meta.profile</code> is constrained in the profile of Bundle).</p>
<p>So unless some of this behavior is surprising to you, it seems like our current approach is the best one. However, this makes the .html page for "mCODE Patient Profile" less usable than would be ideal -- the snapshot tab is veeeeeeeeery long.</p>
<p>I have a sample project I can share with you if you want to reproduce any of this. </p>
<p>/cc <span class="user-mention" data-user-id="191447">@Mark Kramer</span> <span class="user-mention" data-user-id="215604">@Saul Kravitz</span></p>



<a name="264807676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264807676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264807676">(Dec 14 2021 at 04:05)</a>:</h4>
<p>well, firstly:</p>
<blockquote>
<p>But we don't want to require meta.profile in every profile in mCODE as there may be cases where meta.profile can't be copied.</p>
</blockquote>
<p>I'm thoroughly on board with that </p>
<blockquote>
<p>we are trying to make sure meta.profile is populated for resource instances within Bundle instances conforming to our "mCODE Patient Bundle" profile</p>
</blockquote>
<p>why?</p>



<a name="264807732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264807732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264807732">(Dec 14 2021 at 04:06)</a>:</h4>
<p>let's talk about that before looking at alternative approaches - I can think of some you haven't mentioned, but the why is important in that regard</p>



<a name="264908392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264908392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264908392">(Dec 14 2021 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> We slice <code>Bundle.entry</code> by <code>resource.meta.profile</code> because otherwise it’s hard to identify which instances in the bundle are supposed to conform with which profile. (True both for validation and for an implementer receiving one of these bundles and trying to process it.)</p>
<p>Specifically, we’re trying to discourage/prohibit implementers including resource instances in the Bundle that are intended to fit in one of the slices, but don’t have <code>meta.profile</code> populated. Our Bundle is open and most slices aren’t required, so it’s possible to this could happen.</p>



<a name="264909110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264909110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264909110">(Dec 14 2021 at 19:02)</a>:</h4>
<p>in other words, the resources aren't really differentiated, so there's no way for a reader of the bundle to know what's going on unless the writer specifically adds extra metadata to differentiate them?</p>



<a name="264910039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264910039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264910039">(Dec 14 2021 at 19:07)</a>:</h4>
<p>Exactly -- for example, an Observation resource might be included in the bundle but it's not meant to conform with mCODE. For someone trying to process the Bundle, they might just want the Observation resources that are meant to conform with a specific profile. They <em>might</em> be able to tell based on specific characteristics of the profile, but this isn't always possible or easy.</p>
<p>It's much simpler if the producer of the Bundle just indicates their intent (simpler at least for everyone except the producer <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>).</p>



<a name="264910964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264910964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264910964">(Dec 14 2021 at 19:13)</a>:</h4>
<p>so the core of your problem is that you are conflating "intent" with "conformance". The profile tag is a statement of conformance to a profile. So it someone adds a resource that happens to conform to the profile but doesn't meet the intent, then what?</p>



<a name="264911576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264911576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264911576">(Dec 14 2021 at 19:18)</a>:</h4>
<p>I suppose it's too late to consider the solution that I would think matches the intent then - the bundle can contain a set of information as specified by the mCode profiles, but possibly other content as well, and the resources themselves aren't obviously differentiated - that calls for a manifest that lays out the bundle. That's what a composition is for - gives the bundle context and structure, and who built it. And the profile on composition establishes the structure of the bundle</p>



<a name="264912487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264912487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264912487">(Dec 14 2021 at 19:24)</a>:</h4>
<p>you could do the same thing a little more simply with List as well</p>



<a name="264925199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/264925199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#264925199">(Dec 14 2021 at 21:05)</a>:</h4>
<p>Profile isn't allowed to contain information that isn't in the resource.  It must <em>always</em> be possible to tell what profile(s) a resource complies with.  And if a resource complies with multiple profiles, it should be fine to list all of them in .meta or none of them.  Profile can't ever tell you what to do with a resource - you should always be able to figure that out by just looking at the data in the resource.  You <em>can</em> use profiles as a shortcut in the validation process to figure out what something is likely valid against.</p>



<a name="267635437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/267635437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#267635437">(Jan 11 2022 at 19:51)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ,<br>
We have a proposed resolution for the issue that caused the <a href="http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/StructureDefinition-mcode-patient-bundle.html">mCODE bundle</a> profile to blow up in size.<br>
The solution we adopted balances the need to enumerate/constrain the contents of the <a href="http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/StructureDefinition-mcode-patient-bundle.html">bundle</a> with the burden on the implementer.<br>
Rather than require implementers to add a manifest to indicate the intent of inclusion of each instance, we decided to limit the specified slices in the <a href="http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/StructureDefinition-mcode-patient-bundle.html">bundle</a> to the Cancer Patient, and establishing the expectations for content inclusion in the bundle in the narrative.</p>
<p>Your suggestion for a composition with a manifest seemed like a big change to make this deep in the STU2 process and should be considered once we have feedback from implementers on STU2.</p>
<p><span class="user-mention" data-user-id="191447">@Mark Kramer</span> <span class="user-mention" data-user-id="322501">@Max Masnick</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="267636414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/267636414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#267636414">(Jan 11 2022 at 19:58)</a>:</h4>
<p>well, that's not a compromise that's thrilling, but that's the nature of compromises. And I understand why selecting that compromise. I agree about the magnitude of the composition change</p>



<a name="267641974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Profiles%20embedded%20in%20Bundle/near/267641974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Profiles.20embedded.20in.20Bundle.html#267641974">(Jan 11 2022 at 20:42)</a>:</h4>
<p>Thanks for the quick response and your agreement.  <br>
We will move forward with publication.  There are two spurious (based on my examination) terminology <a href="#narrow/stream/179252-IG-creation/topic/Help.3A.20Spurious.20SNOMED.20Terminology.20Errors.20from.20IG.20Pub.20v1.2E1.2E93">errors</a>....</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
