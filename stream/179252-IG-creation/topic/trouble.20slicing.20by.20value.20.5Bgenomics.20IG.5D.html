---
layout: page
title: "FHIR Chat  · trouble slicing by value [genomics IG] · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html">trouble slicing by value [genomics IG]</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153975153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153975153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153975153">(Jul 13 2018 at 15:59)</a>:</h4>
<p>i tried to slice of a slice in the genomics IG without success. My attempt was to slice the Coding element inside the valueCodeableConcept by system.</p>



<a name="153975154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153975154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153975154">(Jul 13 2018 at 16:00)</a>:</h4>
<p><a href="/user_uploads/10155/jUGJUIFAun4ytRMHZuIbjuaY/Screen-Shot-2018-07-13-at-17.57.00.png" target="_blank" title="Screen-Shot-2018-07-13-at-17.57.00.png">Screen-Shot-2018-07-13-at-17.57.00.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/jUGJUIFAun4ytRMHZuIbjuaY/Screen-Shot-2018-07-13-at-17.57.00.png" target="_blank" title="Screen-Shot-2018-07-13-at-17.57.00.png"><img src="/user_uploads/10155/jUGJUIFAun4ytRMHZuIbjuaY/Screen-Shot-2018-07-13-at-17.57.00.png"></a></div>



<a name="153975156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153975156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153975156">(Jul 13 2018 at 16:00)</a>:</h4>
<p>i end up with multiple: </p>
<div class="codehilite"><pre><span></span>StructureDefinition/obs-described-variant: StructureDefinition.differential.element[10].patternCodeableConcept.coding   error   Error null validating Coding
</pre></div>



<a name="153975157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153975157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153975157">(Jul 13 2018 at 16:02)</a>:</h4>
<p>i pushed my try here:<br>
<a href="https://github.com/HL7/genomics-reporting/tree/pwerner_canonica-variation-id" target="_blank" title="https://github.com/HL7/genomics-reporting/tree/pwerner_canonica-variation-id">https://github.com/HL7/genomics-reporting/tree/pwerner_canonica-variation-id</a></p>



<a name="153975158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153975158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153975158">(Jul 13 2018 at 16:03)</a>:</h4>
<p>relevant excel file: <em>observation-profile-spreadsheet.xml</em>, sheet: <em>obs-discrete-variant</em></p>



<a name="153975185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153975185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153975185">(Jul 13 2018 at 18:51)</a>:</h4>
<p>Those slices look correct and it's complaining about something that isn't even in your slices.  element 10 sounds like it's earlier in the differential than your spreadsheet snapshot too.  Are you sure the problem isn't from earlier?</p>



<a name="153979594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979594">(Jul 30 2018 at 23:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span>  Did you ever find a solution to this?</p>



<a name="153979595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979595">(Jul 30 2018 at 23:29)</a>:</h4>
<p>I am having a very similar problem - it's not related to slicing though - it's related to the pattern on the codeableConcept (which I see you have in your slice).</p>
<p>So this pattern used to work: <a href="/user_uploads/10155/PbsSIw5hFp2CGmxqlmyUnXa-/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/PbsSIw5hFp2CGmxqlmyUnXa-/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/PbsSIw5hFp2CGmxqlmyUnXa-/pasted_image.png"></a></div><p>But it now gives that error message: <a href="/user_uploads/10155/6aMHf1gEijNiXib2A4ipnGiX/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/6aMHf1gEijNiXib2A4ipnGiX/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/6aMHf1gEijNiXib2A4ipnGiX/pasted_image.png"></a></div><p>The only way I can get it to not error is to move the pattern down further in the tree (and I've tried every permutation possible - like adding the pattern to coding - this is the only one that doesn't error): <a href="/user_uploads/10155/k7c8c4Ct_2tnDVImXHWFHN_b/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/k7c8c4Ct_2tnDVImXHWFHN_b/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/k7c8c4Ct_2tnDVImXHWFHN_b/pasted_image.png"></a></div><p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Is this the way we are supposed to be doing patterns now? Has something changed? I thought the pattern was supposed to be at the top level?</p>



<a name="153979604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979604">(Jul 31 2018 at 00:44)</a>:</h4>
<p>Not clear on why you're enforcing the display value, but other than that, it looks right</p>



<a name="153979606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979606">(Jul 31 2018 at 00:47)</a>:</h4>
<p>Not going to enforce the display value - that was old. But it doesn't validate. The first pattern with the display. The only way I can get it to validate is to move the pattern down onto the system and code.  Is it a bug then? Because all the places where there was a pattern at that level when this went to ballot in January are now erroring when run through the IG Publisher.</p>



<a name="153979607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979607">(Jul 31 2018 at 00:50)</a>:</h4>
<p>I don't have a problem with moving them down onto system and code btw - it's just that I thought the first option (pattern at the top of the codeableConcept tree) was the correct way. I'm worried that the way that I'm being forced to do it to get rid of the errors is wrong.</p>



<a name="153979608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979608">(Jul 31 2018 at 00:52)</a>:</h4>
<p>Seems like a bug to me.  Should be fine defining a pattern at the CodeableConcept level - we use it for slicing all the time.</p>



<a name="153979609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979609">(Jul 31 2018 at 00:53)</a>:</h4>
<p>Ok, will raise an issue.</p>



<a name="153979613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979613">(Jul 31 2018 at 02:35)</a>:</h4>
<p>Don't think the error has anything to do with the pattern, but to do with the LOINC terminology validation. When I run the IG publisher with -tx N/A the errors all disappear. And if I change the pattern to use a random SNOMED code (rather then LOINC), no error either.</p>



<a name="153979614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/trouble%20slicing%20by%20value%20%5Bgenomics%20IG%5D/near/153979614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/trouble.20slicing.20by.20value.20.5Bgenomics.20IG.5D.html#153979614">(Jul 31 2018 at 02:51)</a>:</h4>
<p>And, I downloaded a new version of IG publisher and the issue has resolved itself. Guess I hadn't downloaded a new one for a while. My bad.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
