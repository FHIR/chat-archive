---
layout: page
title: "FHIR Chat  · IG Publisher failing for STU3 build · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html">IG Publisher failing for STU3 build</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="179444490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/179444490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Robison <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#179444490">(Oct 30 2019 at 15:34)</a>:</h4>
<p>Hi folks, this morning our CI builds started failing during our IG generation with the following error coming from the IG publisher:</p>
<div class="codehilite"><pre><span></span>FHIR IG Publisher Version 0.9.88-SNAPSHOT - Built 2019-10-29T13:38:00.990+11:00 - Git 58db34e37b02
Detected Java version: 11.0.4 from /opt/java/openjdk on amd64 (64bit). 500MB available
Parameters: -ig ig/ig.json
dir = /dpc-app, path = /opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
Run time = Wednesday, October 30, 2019 at 3:29:01 PM Greenwich Mean Time (2019-10-30T15:29:01Z)
Package Cache: /root/.fhir/packages                                              (00:00.0028)
Load Configuration from /dpc-app/ig/ig.json                                      (00:00.0039)
Contacting Build Server...                                                       (00:00.0051)
 ... done                                                                        (00:06.0554)
Root directory: /dpc-app/ig                                                      (00:06.0557)
Terminology Cache is at /dpc-app/ig/generated_output/txCache. 0 files in cache   (00:06.0569)
Publishing Content Failed: Unable to find the package source for &#39;hl7.fhir.core#3.0.1&#39; at http://hl7.org/fhir/STU3/package.tgz (00:07.0275)
                                                                                 (00:07.0275)
Use -? to get command line help                                                  (00:07.0276)
                                                                                 (00:07.0277)
Stack Dump (for debugging):                                                      (00:07.0277)
org.hl7.fhir.exceptions.FHIRException: Unable to find the package source for &#39;hl7.fhir.core#3.0.1&#39; at http://hl7.org/fhir/STU3/package.tgz
    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:629)
    at org.hl7.fhir.igtools.publisher.Publisher.loadCorePackage(Publisher.java:2039)
    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1663)
    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1124)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:611)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6527)
</pre></div>


<p>Did the download URL for the STU3 package change? This is with the latest ig publisher, fetched this morning.</p>



<a name="179445722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/179445722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lynn Laakso <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#179445722">(Oct 30 2019 at 15:45)</a>:</h4>
<p>see Technical Corrections thread: <a href="#narrow/stream/179240-Announcements/topic/Technical.20Corrections" title="#narrow/stream/179240-Announcements/topic/Technical.20Corrections">https://chat.fhir.org/#narrow/stream/179240-Announcements/topic/Technical.20Corrections</a></p>



<a name="179446093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/179446093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Robison <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#179446093">(Oct 30 2019 at 15:48)</a>:</h4>
<p>Ok. Thank you for the link. I missed the announcements thread.</p>



<a name="179484622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/179484622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#179484622">(Oct 30 2019 at 22:37)</a>:</h4>
<p>I'm also facing the same issue since this morning</p>



<a name="179484689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/179484689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#179484689">(Oct 30 2019 at 22:38)</a>:</h4>
<p>Assuming it's broken for everyone due to the technical corrections - R4 IG build failing too.</p>



<a name="179484893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/179484893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#179484893">(Oct 30 2019 at 22:40)</a>:</h4>
<p>Yes, I just noticed that announcement from GG..</p>



<a name="179521053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/179521053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#179521053">(Oct 31 2019 at 11:10)</a>:</h4>
<p>I'm getting close... Will release a new working publisher sometime in the next 24 hours</p>



<a name="179521103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/179521103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#179521103">(Oct 31 2019 at 11:10)</a>:</h4>
<p>one very hard bug in the validator to figure out</p>



<a name="180231494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/180231494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#180231494">(Nov 08 2019 at 13:58)</a>:</h4>
<p>Can we keep the stable version of the publisher up while a new candidate is being beta tested? It seems like releasing a fresh build while cutting off access to the pervious one is not good practice.</p>



<a name="180245150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/180245150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#180245150">(Nov 08 2019 at 16:19)</a>:</h4>
<p>The publisher is maintained in Maven, so you can always go dig up an old version if you want - it's just easier to grab current.  (And as underlying infrastructure changes (e.g. updates to the tx server, changes to core spec &amp; ig packages, etc.), old versions tend to cease working.  In theory, the infrastructure should get more stable over time, but evidence suggests we haven't hit that point yet.</p>



<a name="180266130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20failing%20for%20STU3%20build/near/180266130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20failing.20for.20STU3.20build.html#180266130">(Nov 08 2019 at 20:02)</a>:</h4>
<p>In this case, I rebuilt the infrastructure because of decisions made in committee. Old versions of the publisher (and validator) can no longer function because of their infrastructural dependencies. So there was no 'keep the old version up' (at least, not at the funding point I work with).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
