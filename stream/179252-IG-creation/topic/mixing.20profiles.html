---
layout: page
title: "FHIR Chat  · mixing profiles · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html">mixing profiles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="250641111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250641111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250641111">(Aug 25 2021 at 16:07)</a>:</h4>
<p>Instead of inherenting 2 profile  ( e.g. Profile X based on Profile Y) can you simply declare 2 profiles that both inherit from same base profile?</p>
<p>I am thinking of "decorating" any Observation profile with a Argo Write profile that defines these things</p>
<h2>Argo Write Elements</h2>
<table>
<thead>
<tr>
<th align="right">Argo Write Element</th>
<th align="center">Mandatory (min=1)</th>
<th align="center">Must Support</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">patent-submitted tag</td>
<td align="center">+</td>
<td align="center">+</td>
</tr>
<tr>
<td align="right">gateway extension</td>
<td align="center">-</td>
<td align="center"><span aria-label="question" class="emoji emoji-2753" role="img" title="question">:question:</span></td>
</tr>
<tr>
<td align="right">modality extension</td>
<td align="center">-</td>
<td align="center"><span aria-label="question" class="emoji emoji-2753" role="img" title="question">:question:</span></td>
</tr>
<tr>
<td align="right"><code>.basedOn</code></td>
<td align="center">-</td>
<td align="center"><span aria-label="question" class="emoji emoji-2753" role="img" title="question">:question:</span></td>
</tr>
<tr>
<td align="right"><code>Observation.device</code></td>
<td align="center">-</td>
<td align="center"><span aria-label="question" class="emoji emoji-2753" role="img" title="question">:question:</span></td>
</tr>
<tr>
<td align="right"><code>Observation.perfomer</code></td>
<td align="center">-</td>
<td align="center"><span aria-label="question" class="emoji emoji-2753" role="img" title="question">:question:</span></td>
</tr>
</tbody>
</table>



<a name="250642445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250642445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250642445">(Aug 25 2021 at 16:17)</a>:</h4>
<p>Assuming two profiles are compatible.  Instead of creating a bunch of new profiles I am assuming these profiles can be mixed together.</p>
<p>How does the validator handle this   - does it validate against  both profile x and profile y?</p>



<a name="250643615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250643615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250643615">(Aug 25 2021 at 16:25)</a>:</h4>
<p>We generally discourage mandating the declaration of profiles in instances as it means that systems that would otherwise be conformant wouldn't be - just because they didn't declare the profile.  It also raises the risk of systems hardcoding the declaration and not removing it/checking it when future evolution of the interface becomes non-conformant with the profile.</p>
<p>What you <em>could</em> do is declare an invariant that says <code>conformsTo('some-profile-url')</code>.  The validator would check it.  Only downside is that if it fails validation, I think all you'd get out would be that the invariant failed, not why.</p>



<a name="250646848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250646848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250646848">(Aug 25 2021 at 16:52)</a>:</h4>
<p>I am not advocating for declaring profiles in the instance.  I am asking about the validation behavior?  Can it be instructed to validate against profile x and y  (assuming yes).</p>



<a name="250666796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250666796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250666796">(Aug 25 2021 at 19:11)</a>:</h4>
<p>are you asking about the validator or the IG publisher?</p>



<a name="250667898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250667898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250667898">(Aug 25 2021 at 19:18)</a>:</h4>
<p>I'm not totally sure where you're planning to expose the profile(s) you're wanting to validate against.  If you mean "exampleOf" within an ImplementationGuide, I vaguely recall that we agreed to change that to allow repetitions, but I'm not certain.  Pretty sure it's not supported yet at any rate.</p>



<a name="250679774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250679774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250679774">(Aug 25 2021 at 20:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/mixing.20profiles/near/250666796">said</a>:</p>
<blockquote>
<p>are you asking about the validator or the IG publisher?</p>
</blockquote>
<p>both</p>



<a name="250679908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250679908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250679908">(Aug 25 2021 at 20:46)</a>:</h4>
<p>so can at least do serial validation using the validation tooling otherwise  ( at least for testing )</p>



<a name="250680244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250680244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250680244">(Aug 25 2021 at 20:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> - where are you planning to declare these profiles?</p>



<a name="250681014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250681014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250681014">(Aug 25 2021 at 20:54)</a>:</h4>
<p>Ultimately in an IG</p>



<a name="250684067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250684067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250684067">(Aug 25 2021 at 21:16)</a>:</h4>
<p>Are you wanting to say "If you comply with profile X, you must also comply with profile Y and Z" or are you wanting to say "Example A complies not only with profile B, but also profile C"?</p>



<a name="250688998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250688998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250688998">(Aug 25 2021 at 22:00)</a>:</h4>
<blockquote>
<p>Example A complies not only with profile B, but also profile C"?</p>
</blockquote>



<a name="250698632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/mixing%20profiles/near/250698632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/mixing.20profiles.html#250698632">(Aug 25 2021 at 23:43)</a>:</h4>
<p>There's no support for that right now.  <a href="http://jira.hl7.org/browse/FHIR-23965">FHIR#23965</a> addresses it, but hasn't been applied yet.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
