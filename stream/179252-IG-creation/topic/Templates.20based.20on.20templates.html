---
layout: page
title: "FHIR Chat  · Templates based on templates · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html">Templates based on templates</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="172421740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172421740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172421740">(Aug 03 2019 at 21:21)</a>:</h4>
<p>The first pass of the template mechanism allows an IG to depend on a template.  The chain stops there.  However, I think we're going to need to have templates that depend on other templates.  For example, a Da Vinci template that depends on an HL7 International template that depends on a FHIR-logo-authorized template that depends on a generic template.  (The IHE template, CA template, AU template, etc. could all depend on the FHIR-logo-authorized template).  I think this should be doable. </p>
<p>My proposed approach is to have the package.json of the template point to the package id of its "base" template.  The IG publisher - when loading a template would first check to see if the current template has a base and then recursively grab that until it gets to the end of the chain - the template with no base.  Then it would copy all of the contents of <em>that</em> template into the template folder.  Then it would work its way backward until it copies across the contents of the originally referenced template.  That way templates can overwrite/supplement files of the templates they're based on.</p>
<p>Does that sound reasonable?</p>



<a name="172421786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172421786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172421786">(Aug 03 2019 at 21:22)</a>:</h4>
<p>If we don't allow templates to depend on other templates, then we're going to have the same forking problem we have now - just with a slightly smaller set of forks.</p>



<a name="172421958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172421958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172421958">(Aug 03 2019 at 21:28)</a>:</h4>
<p>I can see how this would work for static content. But I can't see how it would work for scripts</p>



<a name="172422369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172422369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172422369">(Aug 03 2019 at 21:43)</a>:</h4>
<p>You could choose to totally overwrite a script, but more typically your new template would define a new script that would import/include the original script.  The new template would point to the new script</p>



<a name="172422410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172422410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172422410">(Aug 03 2019 at 21:44)</a>:</h4>
<p>Ant can import and build on other ant files.  XSLT can inherit from other transforms.  I believe Javascript can do the same.</p>



<a name="172422422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172422422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172422422">(Aug 03 2019 at 21:45)</a>:</h4>
<p>so the files would overwrite? and then the template processing would use the final surviving config.json?</p>



<a name="172422613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172422613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172422613">(Aug 03 2019 at 21:51)</a>:</h4>
<p>Yes, it would use the final surviving config.json.  I guess we could get fancier and write a merged config.json where you start with the original and then add defaults and scripts, overwriting if they exist, keeping those not overwritten.  That would have the positive effect that if we turn on a new fragment type, it would auto-propagate</p>



<a name="172422657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172422657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172422657">(Aug 03 2019 at 21:52)</a>:</h4>
<p>yes I was worried this would lead to fancy bug-ridden ideas like that</p>



<a name="172422842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20based%20on%20templates/near/172422842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20based.20on.20templates.html#172422842">(Aug 03 2019 at 21:58)</a>:</h4>
<p>The alternative is that when we want to enhance the template to address some new capability or QA requirement, we're now looking at fixing 10+ different templates maintained in different locations</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
