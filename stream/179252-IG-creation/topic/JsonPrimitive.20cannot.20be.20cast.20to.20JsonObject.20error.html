---
layout: page
title: "FHIR Chat  · JsonPrimitive cannot be cast to JsonObject error · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/JsonPrimitive.20cannot.20be.20cast.20to.20JsonObject.20error.html">JsonPrimitive cannot be cast to JsonObject error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154009067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/JsonPrimitive%20cannot%20be%20cast%20to%20JsonObject%20error/near/154009067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/JsonPrimitive.20cannot.20be.20cast.20to.20JsonObject.20error.html#154009067">(Oct 15 2018 at 11:51)</a>:</h4>
<p>Any suggestions for what the specific issue is or how best to debug this?  It was working until the latest IGPublisher changes (not sure what particular commit).</p>
<div class="codehilite"><pre><span></span>Initialization complete                                                          (29.0645sec)
Load Content                                                                     (29.0645sec)
Publishing Content Failed: Unable to determine type for  /Users/rhausam/git-repo/fhir-ips/examples/IPS-bundle-01: com.google.gson.JsonPrimitive cannot be cast to com.google.gson.JsonObject (30.0338sec)
                                                                                 (30.0338sec)
Use -? to get command line help                                                  (30.0338sec)
                                                                                 (30.0338sec)
Stack Dump (for debugging):                                                      (30.0338sec)
java.lang.Exception: Unable to determine type for  /Users/rhausam/git-repo/fhir-ips/examples/IPS-bundle-01: com.google.gson.JsonPrimitive cannot be cast to com.google.gson.JsonObject
    at org.hl7.fhir.igtools.publisher.Publisher.loadAsElementModel(Publisher.java:2395)
    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1779)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:583)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:527)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4926)
Caused by: java.lang.ClassCastException: com.google.gson.JsonPrimitive cannot be cast to com.google.gson.JsonObject
    at com.google.gson.JsonObject.getAsJsonObject(JsonObject.java:182)
    at org.hl7.fhir.r4.formats.JsonParser.parseMedicationStatementProperties(JsonParser.java:16553)
    at org.hl7.fhir.r4.formats.JsonParser.parseMedicationStatement(JsonParser.java:16528)
    at org.hl7.fhir.r4.formats.JsonParser.parseResource(JsonParser.java:27888)
    at org.hl7.fhir.r4.formats.JsonParser.parseBundleBundleEntryComponentProperties(JsonParser.java:3255)
    at org.hl7.fhir.r4.formats.JsonParser.parseBundleBundleEntryComponent(JsonParser.java:3238)
    at org.hl7.fhir.r4.formats.JsonParser.parseBundleProperties(JsonParser.java:3211)
    at org.hl7.fhir.r4.formats.JsonParser.parseBundle(JsonParser.java:3182)
    at org.hl7.fhir.r4.formats.JsonParser.parseResource(JsonParser.java:27750)
    at org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:92)
    at org.hl7.fhir.r4.formats.ParserBase.parse(ParserBase.java:58)
    at org.hl7.fhir.r4.elementmodel.ObjectConverter.convert(ObjectConverter.java:90)
    at org.hl7.fhir.igtools.publisher.Publisher.loadAsElementModel(Publisher.java:2388)
    ... 4 more
Exception in thread &quot;main&quot; java.lang.NullPointerException
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4936)
</pre></div>


<p>The bundle has 1007 lines, and the error doesn't provide a way to know where in the bundle it's failing.</p>



<a name="154009069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/JsonPrimitive%20cannot%20be%20cast%20to%20JsonObject%20error/near/154009069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/JsonPrimitive.20cannot.20be.20cast.20to.20JsonObject.20error.html#154009069">(Oct 15 2018 at 12:02)</a>:</h4>
<p>The error seems to be in MedicationStatement, so that will narrow it down a bit.</p>



<a name="154009176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/JsonPrimitive%20cannot%20be%20cast%20to%20JsonObject%20error/near/154009176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/JsonPrimitive.20cannot.20be.20cast.20to.20JsonObject.20error.html#154009176">(Oct 15 2018 at 16:51)</a>:</h4>
<p>It's a synchronization issue.  Status got changed to CodeableConcept, then back to code.  It may be that <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> needs to push an update to the generation code.  I've wiped my cache for current and it didn't help.</p>



<a name="154009520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/JsonPrimitive%20cannot%20be%20cast%20to%20JsonObject%20error/near/154009520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/JsonPrimitive.20cannot.20be.20cast.20to.20JsonObject.20error.html#154009520">(Oct 16 2018 at 19:32)</a>:</h4>
<p>should be fixed</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
