---
layout: page
title: "FHIR Chat  · New linux updatePublisher script testing? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html">New linux updatePublisher script testing?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204810950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204810950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204810950">(Jul 23 2020 at 15:16)</a>:</h4>
<p>I've added all the script updating and other updates to the <a href="http://_updatePublisher.sh">_updatePublisher.sh</a> script.  Anyone want to help test?</p>



<a name="204811028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204811028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204811028">(Jul 23 2020 at 15:16)</a>:</h4>
<p>Linux and Mac testers wanted!</p>



<a name="204819705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204819705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204819705">(Jul 23 2020 at 16:23)</a>:</h4>
<p>Anyone?  Anyone?  Beuller?</p>



<a name="204828078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204828078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204828078">(Jul 23 2020 at 17:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> <span class="user-mention" data-user-id="191401">@Eric Haas</span>  ?</p>



<a name="204840002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204840002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204840002">(Jul 23 2020 at 19:01)</a>:</h4>
<p>I'm interested in trying it out on the Mac (and I could on Linux, too).</p>



<a name="204842395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204842395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204842395">(Jul 23 2020 at 19:20)</a>:</h4>
<p>Great! Thank you!  I'll send it to your email</p>



<a name="204861160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204861160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204861160">(Jul 23 2020 at 22:35)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span>  I just tried it on the Mac and this is what I'm getting:</p>
<div class="codehilite"><pre><span></span><code>RHausamMacbookPro:fhir-order-catalog rhausam$ sh _updatePublisher.sh
Checking internet connection
ping: invalid option -- 4
usage: ping [-AaDdfnoQqRrv] [-c count] [-G sweepmaxsize]
            [-g sweepminsize] [-h sweepincrsize] [-i wait]
            [-l preload] [-M mask | time] [-m ttl] [-p pattern]
            [-S src_addr] [-s packetsize] [-t timeout][-W waittime]
            [-z tos] host
       ping [-AaDdfLnoQqRrv] [-c count] [-I iface] [-i wait]
            [-l preload] [-M mask | time] [-m ttl] [-p pattern] [-S src_addr]
            [-s packetsize] [-T ttl] [-t timeout] [-W waittime]
            [-z tos] mcast-group
Apple specific options (to be specified before mcast-group or host like all options)
            -b boundif           # bind the socket to the interface
            -k traffic_class     # set traffic class socket option
            -K net_service_type  # set traffic class socket options
            -apple-connect       # call connect(2) in the socket
            -apple-time          # display current time
Offline (or the terminology server is down), unable to update.  Exiting
</code></pre></div>



<a name="204862201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204862201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204862201">(Jul 23 2020 at 22:50)</a>:</h4>
<p>I guess the mac version of ping doesn't support forcing things to IPv4.  I'll delete that parameter, it's not really needed, anyway.</p>



<a name="204862486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204862486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204862486">(Jul 23 2020 at 22:54)</a>:</h4>
<p>If you want, just delete that parameter and try again or I'll send you a revised one.</p>



<a name="204863881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204863881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204863881">(Jul 23 2020 at 23:10)</a>:</h4>
<p>Looks like the Mac ping also doesn't support '-w'.  After deleting both of those parameters it worked fine for updating the publisher and the scripts.</p>



<a name="204864229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204864229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204864229">(Jul 23 2020 at 23:16)</a>:</h4>
<p>Great!  Thank you!  Mac uses -W.  I wonder if I can find an easy way to determine if it's on a mac from within a script.</p>



<a name="204864330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204864330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204864330">(Jul 23 2020 at 23:18)</a>:</h4>
<p>-W and -w aren't exactly the same, but maybe it won't matter with a single ping, anyway.</p>



<a name="204864443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204864443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204864443">(Jul 23 2020 at 23:20)</a>:</h4>
<p>Not sure about detecting the Mac.  Probably there is a way?  But I haven't ever looked at that.</p>



<a name="204865066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204865066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204865066">(Jul 23 2020 at 23:31)</a>:</h4>
<p>I think I'm just going to have it a basic ping -c1 and leave it at that.  We don't need fancy stuff for an on-line test</p>



<a name="204866552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204866552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204866552">(Jul 23 2020 at 23:54)</a>:</h4>
<p>Are you checking the exit code to determine success? If not,  ping on IPv6, produces different output from IPv4, and the test will incorrectly fail.</p>



<a name="204919808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204919808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204919808">(Jul 24 2020 at 14:11)</a>:</h4>
<p>Yes, we are.</p>



<a name="204921714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204921714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204921714">(Jul 24 2020 at 14:25)</a>:</h4>
<p>The Windows script (still) uses ping because curl is not available out of the box. But on *nix machines perhaps you can use curl instead of ping to see if online</p>



<a name="204922136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204922136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204922136">(Jul 24 2020 at 14:28)</a>:</h4>
<p>Ping works fine on linux/mac.  If the exit code is other than 0, that means there's a problem and I exit the script.</p>



<a name="204922169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204922169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204922169">(Jul 24 2020 at 14:29)</a>:</h4>
<p>Ok</p>



<a name="204948261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/New%20linux%20updatePublisher%20script%20testing%3F/near/204948261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/New.20linux.20updatePublisher.20script.20testing.3F.html#204948261">(Jul 24 2020 at 18:06)</a>:</h4>
<p>Sorry I'm late to the party, but I'm on OSX and would be happy to help test this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
