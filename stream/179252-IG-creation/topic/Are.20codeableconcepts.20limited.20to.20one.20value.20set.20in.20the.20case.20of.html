---
layout: page
title: "FHIR Chat  · Are codeableconcepts limited to one value set in the case of · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Are.20codeableconcepts.20limited.20to.20one.20value.20set.20in.20the.20case.20of.html">Are codeableconcepts limited to one value set in the case of</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="277659929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Are%20codeableconcepts%20limited%20to%20one%20value%20set%20in%20the%20case%20of/near/277659929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Catherine Hosage Norman <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Are.20codeableconcepts.20limited.20to.20one.20value.20set.20in.20the.20case.20of.html#277659929">(Apr 03 2022 at 20:42)</a>:</h4>
<p>What is the proper technique to handle attaching multiple code list to many condable concepts?  In rearchStudy the condition element is 0..*.  I needed to add 3 types of conditions. Each has a different code list.  First I tried repeating the condition.coding and assigning the different value sets.  Result - last value set was assigned.</p>
<p>Next I tried slicing even thought there was no [x].  This did not work.</p>
<ul>
<li>condition.coding MS</li>
<li>condition.coding ^slicing.discriminator.type = #value</li>
<li>condition.coding ^slicing.discriminator.path = "code.condition.coding.display"</li>
<li>condition.coding ^slicing.rules = #closed</li>
<li>
<p>condition.coding contains<br>
    substudytype 1..1 and<br>
    storage 1..1 and<br>
    orientation 0..1</p>
</li>
<li>
<p>condition.coding[substudytype] ^short = "Sub-Study Type"</p>
</li>
<li>condition.coding[substudytype].code from PqcmcStudyTypeTerminology</li>
<li>
<p>condition.coding[substudytype].code.display = "Sub-Study Type" (exactly)</p>
</li>
<li>
<p>condition.coding[storage] ^short = "Storage Conditions Temp.RH"</p>
</li>
<li>condition.coding[storage].code from  PqcmcStorageConditionsTerminology</li>
<li>
<p>condition.coding[storage].code.display = "Storage Conditions" (exactly)</p>
</li>
<li>
<p>condition.coding[orientation] ^short = "Container Orientation"</p>
</li>
<li>condition.coding[orientation].code from PqcmcContainerOrientationTerminology</li>
<li>condition.coding[orientation].code.display = "Orientation" (exactly)</li>
</ul>
<p>Having a hard fast deadline I wrote and extension:</p>
<p>Extension: ConditionsExtension<br>
Id:  pq-condtions-extension<br>
Title: "SubStudy Conditions"<br>
Description: """Three values lists for substudy characterizaiton"""</p>
<ul>
<li>extension MS</li>
<li>
<p>extension contains<br>
    substudytype 0..1 and<br>
    storage 0..1 and<br>
    orientation 0..1</p>
</li>
<li>
<p>extension[substudytype].value[x] only CodeableConcept</p>
</li>
<li>extension[substudytype].value[x] ^short = "Sub-Study Type"</li>
<li>
<p>extension[substudytype].value[x] ^definition = """A categorization of studies that identifies whether there are single or multiple phases of the study sometimes simulating the periods of use. [Source: SME Defined]<br>
Examples: Standard, Cycled-simple.<br>
"""</p>
</li>
<li>
<p>extension[substudytype].value[x] from PqcmcStudyTypeTerminology</p>
</li>
<li>extension[storage].value[x] only CodeableConcept</li>
<li>extension[storage].value[x] ^short = "Storage Conditions Temp.RH"</li>
<li>extension[storage].value[x] ^definition = "The temperature and the relative humidity under which the study was performed. [Source: SME Defined]"</li>
<li>extension[storage].value[x] from  PqcmcStorageConditionsTerminology</li>
<li>extension[orientation].value[x] only CodeableConcept</li>
<li>extension[orientation].value[x]  ^short = "Container Orientation"</li>
<li>
<p>extension[orientation].value[x] ^definition = """The placement of a container during storage to understand the interactions between the product and the closure. [Source: SME Defined]<br>
Examples: horizontal, upright.<br>
"""</p>
</li>
<li>
<p>extension[orientation].value[x]  from PqcmcContainerOrientationTerminology</p>
</li>
</ul>



<a name="277661694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Are%20codeableconcepts%20limited%20to%20one%20value%20set%20in%20the%20case%20of/near/277661694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Are.20codeableconcepts.20limited.20to.20one.20value.20set.20in.20the.20case.20of.html#277661694">(Apr 03 2022 at 21:21)</a>:</h4>
<p>First, you should never slice by 'display'.  Display is not computable.  Second, when slicing, the path is relative to where you are.  So if you're already at Condition.code, you'll be slicing on "coding".  The slicing will be done by 'value' and you'll declare a 'required' value set on each slice</p>



<a name="277728260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Are%20codeableconcepts%20limited%20to%20one%20value%20set%20in%20the%20case%20of/near/277728260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Are.20codeableconcepts.20limited.20to.20one.20value.20set.20in.20the.20case.20of.html#277728260">(Apr 04 2022 at 13:09)</a>:</h4>
<p>In this case, I think <span class="user-mention" data-user-id="197370">@Catherine Hosage Norman</span> said she is working with <code>ResearchStudy.condition</code>, which is <code>0..*</code> -- so <em>that's</em> what she actually wants to slice.  So as Lloyd noted, you'd want to slice by <code>value</code> and apply required value set bindings to each slice (assuming the value sets are non-overlapping) -- but you want to slice on <code>$this</code>, since it's the <code>condition</code> array itself that you are slicing.</p>
<p>It should look something like this:</p>
<div class="codehilite"><pre><span></span><code>* condition ^slicing.discriminator.type = #value
* condition ^slicing.discriminator.path = &quot;$this&quot;
* condition ^slicing.rules = #open // or #closed if you don&#39;t want other concepts
* condition contains
    substudytype 1..1 and
    storage 1..1 and
    orientation 0..1
* condition[substudytype] ^short = &quot;Sub-Study Type&quot;
* condition[substudytype] from PqcmcStudyTypeTerminology
* condition[storage] ^short = &quot;Storage Conditions Temp.RH&quot;
* condition[storage] from PqcmcStorageConditionsTerminology
* condition[orientation] ^short = &quot;Container Orientation&quot;
* condition[orientation] from PqcmcContainerOrientationTerminology
</code></pre></div>
<p><a href="https://fshschool.org/FSHOnline/#/share/3Je7xFe">See it on FSH Online</a></p>



<a name="277812202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Are%20codeableconcepts%20limited%20to%20one%20value%20set%20in%20the%20case%20of/near/277812202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Catherine Hosage Norman <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Are.20codeableconcepts.20limited.20to.20one.20value.20set.20in.20the.20case.20of.html#277812202">(Apr 05 2022 at 00:28)</a>:</h4>
<p>That worked great.  Thanks. Ther is no example on FHS school play with fsh.  Maybe you can put this there,</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
