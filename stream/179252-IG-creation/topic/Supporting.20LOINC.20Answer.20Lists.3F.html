---
layout: page
title: "FHIR Chat  · Supporting LOINC Answer Lists? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html">Supporting LOINC Answer Lists?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153975304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153975304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153975304">(Jul 15 2018 at 22:58)</a>:</h4>
<p>Working closer with CIMI vocab, we're recognizing a legitimate need for the FHIR IG Publisher dependent terminology server to support LOINC answer lists (LL- and LA- numbers).  We suspect it is currently not supported based on the unrecognized value set errors we're receiving.  1) can we confirm this is the case?  and 2) How would I go about requesting an enhancement to support this, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?  cc: <span class="user-mention" data-user-id="194478">@Susan Matney</span>  and <span class="user-mention" data-user-id="191447">@Mark Kramer</span></p>



<a name="153975317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153975317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153975317">(Jul 16 2018 at 00:22)</a>:</h4>
<p>LL and LA codes are supported, though I need to update the Loinc version supported. I'll let you know when this is done</p>



<a name="153975361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153975361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153975361">(Jul 16 2018 at 03:31)</a>:</h4>
<p>There are a few filename and other changes and new content (like LOINC groups) in 2.64.</p>



<a name="153975375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153975375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153975375">(Jul 16 2018 at 06:19)</a>:</h4>
<p>I won't  be processing any changes I don't have to until the ballot is published</p>



<a name="153975434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153975434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153975434">(Jul 16 2018 at 12:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - is there an example for displaying the LA codes related to the LL in a request?</p>



<a name="153975437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153975437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153975437">(Jul 16 2018 at 12:57)</a>:</h4>
<p>well, there's implicit LL value sets - see <a href="http://hl7.org/fhir/loinc.html" target="_blank" title="http://hl7.org/fhir/loinc.html">http://hl7.org/fhir/loinc.html</a></p>



<a name="153975811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153975811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153975811">(Jul 17 2018 at 18:00)</a>:</h4>
<p>I think the above conversation is about answer lists (e.g. LL12345-0), which seem to work if we reference the value set with a URI of the form <a href="http://loinc.org/vs/LL12345-0" target="_blank" title="http://loinc.org/vs/LL12345-0">http://loinc.org/vs/LL12345-0</a>.  That's good!</p>
<p>I can't seem to successfully include loinc answers (e.g., LA98765-0) in a value set definition however.  For example, our shr-oncology-TubuleFormationScoreVS value set is defined with this compose section:</p>
<div class="codehilite"><pre><span></span>&quot;compose&quot;: {
  &quot;include&quot;: [
    {
      &quot;system&quot;: &quot;http://loinc.org&quot;,
      &quot;concept&quot;: [
        {
          &quot;code&quot;: &quot;LA27216-3&quot;,
          &quot;display&quot;: &quot;Score 1: &gt;75% of tumor area forming glandular/tubular structures&quot;
        },
        {
          &quot;code&quot;: &quot;LA27217-1&quot;,
          &quot;display&quot;: &quot;Score 2: 10% to 75% of tumor area forming glandular/tubular structures&quot;
        },
        {
          &quot;code&quot;: &quot;LA27218-9&quot;,
          &quot;display&quot;: &quot;Score 3: &lt;10% of tumor area forming glandular/tubular structures&quot;
        }
      ]
    }
  ]
}
</pre></div>


<p>This results in a NullPointerException (NPE) on its page in the IG:<br>
<a href="/user_uploads/10155/9ajb6FxHaEoo9u3WQq602mFl/la_expansion_npe.png" target="_blank" title="la_expansion_npe.png">la_expansion_npe.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/9ajb6FxHaEoo9u3WQq602mFl/la_expansion_npe.png" target="_blank" title="la_expansion_npe.png"><img src="/user_uploads/10155/9ajb6FxHaEoo9u3WQq602mFl/la_expansion_npe.png"></a></div><p>This NPE, however, doesn't show up in the log when we run the IG publisher:</p>
<div class="codehilite"><pre><span></span>process res: shr-oncology-StainingIntensityVS                                    (19.0728sec)
process res: shr-oncology-TubuleFormationScoreVS                                 (19.0731sec)
process res: shr-core-YesNoUnknownVS                                             (19.0735sec)
</pre></div>


<p>Nor does it show up in the QA:<br>
<a href="/user_uploads/10155/OvwSILDAOXy7pB1DKzp4_AEm/tubule_vs_qa.png" target="_blank" title="tubule_vs_qa.png">tubule_vs_qa.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/OvwSILDAOXy7pB1DKzp4_AEm/tubule_vs_qa.png" target="_blank" title="tubule_vs_qa.png"><img src="/user_uploads/10155/OvwSILDAOXy7pB1DKzp4_AEm/tubule_vs_qa.png"></a></div><p>So... there's not much to go on except that the actual rendered page indicates there was an NPE.  Can you confirm that what we're doing should be supported?</p>



<a name="153976066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153976066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153976066">(Jul 18 2018 at 14:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- can you comment on the above?  Is it valid for us to create new value sets that contain arbitrary LOINC answer (e.g. LA) codes?  And if so, does that <code>compose</code> rule look correct?</p>



<a name="153976139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153976139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153976139">(Jul 18 2018 at 19:45)</a>:</h4>
<p>it looks right to me</p>



<a name="153976152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153976152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153976152">(Jul 18 2018 at 20:46)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>.  Then I think there may be a bug in the tooling or the terminology server that is preventing those value sets from being expanded. :-(</p>



<a name="153976155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153976155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153976155">(Jul 18 2018 at 20:48)</a>:</h4>
<p>yes indeed. It's on my list. but the list is pretty long right now</p>



<a name="153976157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153976157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153976157">(Jul 18 2018 at 20:53)</a>:</h4>
<p>I understand.  Thanks, Grahame.</p>



<a name="153976193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153976193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153976193">(Jul 18 2018 at 23:09)</a>:</h4>
<p>I've got good news and bad news.</p>
<p>I don't know if you did something <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, but I just did another run with the latest jar and I'm getting value sets with LA codes expanded!  That's great!</p>



<a name="153976196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153976196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153976196">(Jul 18 2018 at 23:11)</a>:</h4>
<p>The bad news is that for some reason, the whole list of codes gets <em>repeated</em> in the expansion.  See the screenshot below:<br>
<a href="/user_uploads/10155/fTey4X0DOeVOOjV4YL-kWsxg/la_expansion.png" target="_blank" title="la_expansion.png">la_expansion.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/fTey4X0DOeVOOjV4YL-kWsxg/la_expansion.png" target="_blank" title="la_expansion.png"><img src="/user_uploads/10155/fTey4X0DOeVOOjV4YL-kWsxg/la_expansion.png"></a></div>



<a name="153986719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153986719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153986719">(Aug 15 2018 at 04:03)</a>:</h4>
<p>It looks like some of the LOINC answerlist implicit value sets stuff isn't validating.  I'm getting errors like the following in my qa.html:</p>
<p><a href="/user_uploads/10155/ufz-AlsShUpe-EG6PcWEH-hp/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/ufz-AlsShUpe-EG6PcWEH-hp/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/ufz-AlsShUpe-EG6PcWEH-hp/pasted_image.png"></a></div><p>My SD contains this:</p>
<div class="codehilite"><pre><span></span>&quot;binding&quot;: {
  &quot;strength&quot;: &quot;preferred&quot;,
  &quot;valueSetReference&quot;: {
    &quot;reference&quot;: &quot;http://loinc.org/vs/LL240-3&quot;
  }
}
</pre></div>


<p>It is a valid answerlist (<a href="https://r.details.loinc.org/AnswerList/LL240-3.html" target="_blank" title="https://r.details.loinc.org/AnswerList/LL240-3.html">here</a>) and if I go to <a href="http://loinc.org/vs/LL240-3" target="_blank" title="http://loinc.org/vs/LL240-3">http://loinc.org/vs/LL240-3</a> (and type in my credentials) it resolves.</p>
<p>I'm seeing this for three answer lists: LL240-3, LL748-5, and LL4350-6.</p>



<a name="153986726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153986726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153986726">(Aug 15 2018 at 04:06)</a>:</h4>
<p>it's committed?</p>



<a name="153986728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153986728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153986728">(Aug 15 2018 at 04:07)</a>:</h4>
<p>Uh.  Not sure.  I think it's been around a while, but I'll check.</p>



<a name="153986733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153986733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153986733">(Aug 15 2018 at 04:12)</a>:</h4>
<p>It is, but let me trigger a rebuild so the qa and published results are using the latest publisher (it's been a while since last commit).</p>



<a name="153986740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153986740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153986740">(Aug 15 2018 at 04:22)</a>:</h4>
<p>Alright.  The build went through.  Here are the relevant links:</p>
<ul>
<li><a href="https://github.com/HL7/us-breastcancer/blob/master/resources/structuredefinition-shr-oncology-BreastCancerStage.json#L1352-L1357" target="_blank" title="https://github.com/HL7/us-breastcancer/blob/master/resources/structuredefinition-shr-oncology-BreastCancerStage.json#L1352-L1357">Binding in profile</a></li>
<li><a href="http://build.fhir.org/ig/HL7/us-breastcancer/qa.html#_scratch_ig-build-temp-SK8COA_repo_resources_structuredefinition-shr-oncology-BreastCancerStage" target="_blank" title="http://build.fhir.org/ig/HL7/us-breastcancer/qa.html#_scratch_ig-build-temp-SK8COA_repo_resources_structuredefinition-shr-oncology-BreastCancerStage">Error in QA</a></li>
<li><a href="http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-shr-oncology-BreastCancerStage.html" target="_blank" title="http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-shr-oncology-BreastCancerStage.html">Rendered profile</a></li>
</ul>
<p>Note that in the rendered profile, the answer list looks like it <em>was</em> resolved.  So it seems like things are working despite the reported errors.  That being the case, prioritize this as you wish!</p>



<a name="153987399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Supporting%20LOINC%20Answer%20Lists%3F/near/153987399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Supporting.20LOINC.20Answer.20Lists.3F.html#153987399">(Aug 16 2018 at 05:41)</a>:</h4>
<p>FYI -- this seems to be fixed in the latest builds.  Thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
