---
layout: page
title: "FHIR Chat  · NPM Package File · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html">NPM Package File</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153947152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947152">(Mar 22 2018 at 13:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> , working on the NPM package file for the IGs. Here's a draft package.json for the spec itself:</p>



<a name="153947154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947154">(Mar 22 2018 at 13:04)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;@fhir/fhir&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span> <span class="p">:</span> <span class="s2">&quot;3.2.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Base FHIR specification Package&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;CC0-1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;HL7 Inc&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;igpack.zip&quot;</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>



<a name="153947158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947158">(Mar 22 2018 at 13:08)</a>:</h4>
<p>this is the package.json for a 1st derivative IG:</p>



<a name="153947162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947162">(Mar 22 2018 at 13:18)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;@fhir/au-base&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Implementation Guide Template&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;CC0-1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;HL7 Australia&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;contributors&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;HL7 Australia Patient Administration Working Group&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://confluence.hl7australia.com/display/PA/Patient+Administration+Work+Group&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;HL7 Australia Orders and Observations Working Group&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://confluence.hl7australia.com/display/OO/Orders+and+Observations+Work+Group&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;HL7 Australia Medications Working Group&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://confluence.hl7australia.com/display/MED/Medications+Work+Group&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;validation.pack&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;@fhir/fhir&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.1&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>



<a name="153947163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947163">(Mar 22 2018 at 13:19)</a>:</h4>
<p>comments?</p>



<a name="153947214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947214">(Mar 22 2018 at 14:27)</a>:</h4>
<p>Accidentally, we have been discussing packaging over the past few days, since the whole Simplifier team is now present and packaging is in our next design phase for Simplifier.  I know <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span>  already had some feedback on the wiki page.</p>



<a name="153947399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947399">(Mar 22 2018 at 21:27)</a>:</h4>
<p>.. but no comment yet...?</p>



<a name="153947400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947400">(Mar 22 2018 at 21:30)</a>:</h4>
<p>here's a package.json for a 2nd derivative IG:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;@fhir/au-pd&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Implementation Guide Template&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;CC0-1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;HL7 Australia&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;contributors&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;HL7 Australia Patient Administration Working Group&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://confluence.hl7australia.com/display/PA/Patient+Administration+Work+Group&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Secure Messaging Technical Working Group&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://collaborate.digitalhealth.gov.au/display/SMT/Secure+Messaging+TWG+Home&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;validation.pack&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;@fhir/fhir&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;@fhir/au-base&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.1&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>



<a name="153947496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947496">(Mar 23 2018 at 14:22)</a>:</h4>
<p>Is there a place where we can comment? Or do you want our comments by mail?</p>



<a name="153947497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947497">(Mar 23 2018 at 14:23)</a>:</h4>
<p>Or I can type them here :)</p>



<a name="153947498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947498">(Mar 23 2018 at 14:26)</a>:</h4>
<p>1. <br>
Packages can be a very powerful adition to FHIR. And can make the use of easier to understand and use. But for it to be adopted by the FHIR community and implementers, a package system must be easy enough to use. The base choice for npm is understandable as it is one of the most widely used. However it will require each user to install nodejs and npm. clients.  We suspect that half of the non technical users will quit before they have responded to the question "do you want to download the 32bit or the 64bit version".</p>
<p>In other words: the best scenario is where each FHIR tool that works with profiles and other conformance resources, is able to implement their own package client without too much problems. The community should be able to build package consumption libraries in various languages that can help add that client functionality to any conformance tooling app. </p>
<p>There for a FHIR package clients needs is just to be just a small subset of features that npm provides. We think it's unnecessary and probably even harmful for the client to do any javascript postprocessing.</p>



<a name="153947499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947499">(Mar 23 2018 at 14:27)</a>:</h4>
<p>Npm features we think have to be excluded for a FHIR package client to be light and manageable:<br>
- No package references to github tags, branches or commits.<br>
- No javascript execution <br>
- Maybe limit some of the very free versioning rules. References like wildcards, min max and multiple range probably lead to more confusion than help. Only Floating minor or bugfix versions are sufficient.</p>



<a name="153947500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947500">(Mar 23 2018 at 14:31)</a>:</h4>
<p>2.  Naming<br>
Yes, naming needs to centralized to avoid collision, but I think it's not the best solution to have a central administrator. It will create a delay in peoples workflow and it will not scale if becomes succesful. And if we allow publication to <a href="http://npmjs.org" target="_blank" title="http://npmjs.org">npmjs.org</a>, you cannot enforce it anyway, can you? <br>
It might be more effective to have some clear guidelines. Like some package standards do enforce. NuGet now has the option to reserve prefixes.</p>



<a name="153947501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947501">(Mar 23 2018 at 14:36)</a>:</h4>
<p>3. Scopes<br>
Searching for scoped packages on npm is not trivial. Building dedicated fhir-npm package server seems doable. And with proper client tooling, it might be a lot easier to jump start a fhir-package ecosystem. - but this one is my personal opinion.</p>



<a name="153947502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947502">(Mar 23 2018 at 14:38)</a>:</h4>
<p>4. It might be valuable to define some rules on how and where local fire packages are stored and cached. Because it is not trivial for a regular user to configure that in npm.</p>



<a name="153947504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947504">(Mar 23 2018 at 14:40)</a>:</h4>
<p>And with a properly defined subset of npm (npm-light) we might standardize how fhir package tooling can deal with local storage and caching.</p>



<a name="153947528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947528">(Mar 23 2018 at 16:23)</a>:</h4>
<p>What issues are the NPM packaging trying to solve?  versioning?  How is a published IG going to benefit from this?</p>



<a name="153947529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947529">(Mar 23 2018 at 16:24)</a>:</h4>
<p>I assumed the IG is on the web and folks read it there and download the downloadable artifacts.</p>



<a name="153947538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947538">(Mar 23 2018 at 16:56)</a>:</h4>
<p>The main improvements that packages solve is that it is a level of indirection for your references. This will make sure that a cluster of conformance resources refer to a consistent set of base resources.</p>



<a name="153947539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947539">(Mar 23 2018 at 16:57)</a>:</h4>
<p>You can now refer to a package version instead of having to refer to a correct profile version in each reference.</p>



<a name="153947561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947561">(Mar 23 2018 at 19:29)</a>:</h4>
<p>#1 - agree. <br>
#2 - it's not like IGs roll over quickly - so I don't see the issue in requiring IGs published by HL7 or <a href="http://FHIR.org" target="_blank" title="http://FHIR.org">FHIR.org</a> to be managed<br>
#3 - I'm not sure what you mean by 'scoped packages'<br>
#4 - what kind of rules could we define?</p>



<a name="153947899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947899">(Mar 26 2018 at 11:24)</a>:</h4>
<p>#2. Ok didn't get that. I thought it was for all packages.<br>
#3. Scoped as in npm scoped packages @fhir/ ... I guess if that too was only for HL7/FHIR.org, I don't seen an issue.</p>
<p>#4. The rules I can think of:<br>
- Cache packages globally under ~/.fhir/packages or something similar.<br>
- Do not use folder recursion: no dependencies under the current packages folder. Store all packages at the top level</p>
<p>It might be worth noting, that we foresee use cases where packages are consumed by profile authors before those packages are final. We've seen several cases already where projects started working together and depending on eachother while both still in draft.</p>



<a name="153947900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947900">(Mar 26 2018 at 11:26)</a>:</h4>
<p>Regarding #4. Other rules could be <br>
- Not to use javascript post processing.</p>



<a name="153947901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947901">(Mar 26 2018 at 11:30)</a>:</h4>
<ul>
<li>No complex version references like "^1.3 || 2.x || &gt;=3.5.0 || 5.0.0 - 7.2.3"</li>
</ul>



<a name="153947902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947902">(Mar 26 2018 at 11:32)</a>:</h4>
<p>I've tried to implement a npm client in C# with full the full version logic. It was doable, but it makes everything very complex and harder to manage.</p>



<a name="153947903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947903">(Mar 26 2018 at 11:33)</a>:</h4>
<p>And it definitely does not satisfy the FHIR paradigm of moving complexity to the server ;)</p>



<a name="153947904"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947904" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947904">(Mar 26 2018 at 11:35)</a>:</h4>
<p>#2 I forgot to say. <br>
#3 we'll have to see how it plays out...<br>
#4<br>
- cache packages globally... I don't know what that means unless it's a pure deployment thing<br>
- no recursion - shudder. compleeetely agree. Same for javascript post-processing<br>
- agree about version references. But what do we need? In eclipse land, I've always gotten by on &gt;= x(, &lt;= Y)?</p>



<a name="153947905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947905">(Mar 26 2018 at 11:37)</a>:</h4>
<p>For sake of simplicity I would say the same rules that we have (or will have) for canonical references behind the pipe.</p>



<a name="153947906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947906">(Mar 26 2018 at 11:38)</a>:</h4>
<p>bet we don't finish that simple. but I'm game to try</p>



<a name="153947907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153947907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153947907">(Mar 26 2018 at 11:38)</a>:</h4>
<p>:)</p>



<a name="153951437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153951437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153951437">(Apr 09 2018 at 11:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , we wrote a first draft text for Fhir packaging. <br>
<a href="https://gist.github.com/mharthoorn/a52de54d1d010fb6c6e74f8a5d85fbc8" target="_blank" title="https://gist.github.com/mharthoorn/a52de54d1d010fb6c6e74f8a5d85fbc8">https://gist.github.com/mharthoorn/a52de54d1d010fb6c6e74f8a5d85fbc8</a></p>



<a name="153951449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153951449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153951449">(Apr 09 2018 at 12:46)</a>:</h4>
<p>ok I'll look at it. In fact, first scan... tarball.. really?</p>



<a name="153951456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153951456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153951456">(Apr 09 2018 at 12:50)</a>:</h4>
<p>I am not a fan of tarbal. But it's the npm package format.</p>



<a name="153951470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153951470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153951470">(Apr 09 2018 at 14:32)</a>:</h4>
<blockquote>
<p>Should we really distribute implementation guides that way. it will make it slower and it won't be consumed by a regular package client. Maybe we need a regular not standardized zip for ig's. What is grahame's use case here?</p>
</blockquote>



<a name="153951471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153951471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153951471">(Apr 09 2018 at 14:33)</a>:</h4>
<p>this is the core of the issue. I don't really have a use case; Ewout suggested that we use npm format for resolving dependencies, and for people to use when working with implementation guides... whatever that means. <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> - what does that mean</p>



<a name="153951472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153951472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153951472">(Apr 09 2018 at 14:33)</a>:</h4>
<p>but my pain point is resolving IG dependencies when building IGs</p>



<a name="153951474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153951474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153951474">(Apr 09 2018 at 14:50)</a>:</h4>
<p>But what you care about resolving is only the conformance resources. Not the static content, right? Or do you want to inject that too?</p>



<a name="153951535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153951535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153951535">(Apr 09 2018 at 19:20)</a>:</h4>
<p>I only care about the resources, yes</p>



<a name="153952243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153952243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153952243">(Apr 13 2018 at 14:56)</a>:</h4>
<p>So, maybe we should not distribute IG htmls etc. like this, it's just about a package.</p>



<a name="153952323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153952323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153952323">(Apr 13 2018 at 20:59)</a>:</h4>
<p>I'm happy if it's just the resources, and maybe a version indicator.</p>



<a name="153954235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954235">(Apr 25 2018 at 06:59)</a>:</h4>
<p>ping to bring this back to life</p>



<a name="153954257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954257">(Apr 25 2018 at 10:33)</a>:</h4>
<p>ping.</p>



<a name="153954258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954258">(Apr 25 2018 at 10:34)</a>:</h4>
<p>We are currently building a C# FHIR packaging library - to allow consumption of packages by profile tools.</p>



<a name="153954259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954259">(Apr 25 2018 at 10:35)</a>:</h4>
<p>We are also working on canonical url resolving in packages (forementioned global package cache)</p>



<a name="153954260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954260">(Apr 25 2018 at 10:36)</a>:</h4>
<p>And we have build a command line tool to download, install and create packages specifically for FHIR.</p>



<a name="153954261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954261">(Apr 25 2018 at 10:37)</a>:</h4>
<p>-- based on the preliminary choices that we've made sofar.</p>



<a name="153954288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954288">(Apr 25 2018 at 12:52)</a>:</h4>
<p>ok, so I don't understand this comment:</p>



<a name="153954289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954289">(Apr 25 2018 at 12:52)</a>:</h4>
<p>Should we really distribute implementation guides that way. it will make it slower and it won't be consumed by a regular package client. Maybe we need a regular not standardized zip for ig's. What is grahame's use case here?</p>



<a name="153954290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954290">(Apr 25 2018 at 12:52)</a>:</h4>
<p>slower than what? why?</p>



<a name="153954291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954291">(Apr 25 2018 at 12:52)</a>:</h4>
<p>what's a regular package client? what would it consume?</p>



<a name="153954293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954293">(Apr 25 2018 at 12:53)</a>:</h4>
<p>what's the relationship between the name and the canonical URL?</p>



<a name="153954294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954294">(Apr 25 2018 at 12:53)</a>:</h4>
<p>I think the package file needs the canonical URL somehow</p>



<a name="153954296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954296">(Apr 25 2018 at 12:54)</a>:</h4>
<p>we cannot make semver  mandatory. I'm happy to recommend it strongly</p>



<a name="153954297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954297">(Apr 25 2018 at 12:56)</a>:</h4>
<p>license - I've been using <a href="https://spdx.org/licenses/" target="_blank" title="https://spdx.org/licenses/">https://spdx.org/licenses/</a> which is much more comprehensive than <a href="https://help.github.com/articles/licensing-a-repository/" target="_blank" title="https://help.github.com/articles/licensing-a-repository/">https://help.github.com/articles/licensing-a-repository/</a> and also I got that link from the npm documentation.</p>



<a name="153954298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954298">(Apr 25 2018 at 12:58)</a>:</h4>
<p>master package dependency has to be versioned. And you haven't indicated quite what you think they should look like (other than inconsistency on the naming suggestions)</p>



<a name="153954314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954314">(Apr 25 2018 at 14:16)</a>:</h4>
<p>A package with only the profiles is smaller (a lot) than the whole implementation guide (all pages, images, etc). And the primary use case that I see, the user doesn't need the source of the IG. he needs to find it rendered online somewhere.</p>
<p>and a smaller package is a faster download.</p>



<a name="153954315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954315">(Apr 25 2018 at 14:16)</a>:</h4>
<p>The primary use case that I see for packages is automated profiles + dependencies distribution. A 'one click' install and you have all conformance resources in your scope - with the right version.</p>



<a name="153954316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954316">(Apr 25 2018 at 14:17)</a>:</h4>
<p>-- a regular package client: any desktop tool that works with conformance resources.</p>



<a name="153954317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954317">(Apr 25 2018 at 14:18)</a>:</h4>
<ul>
<li>relationship between a package name and a canonical URL: I have no idea yet. It might be valueable to establish a rule there, but I also think of meta packages (that only refer to other packages), where a relationship between a package name and a canonical url is not evident.</li>
</ul>



<a name="153954318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954318">(Apr 25 2018 at 14:19)</a>:</h4>
<p>semver: of course we cannot enforce it. But tooling can.</p>



<a name="153954319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954319">(Apr 25 2018 at 14:21)</a>:</h4>
<p>-- license: sure. spdx looks complete :)</p>



<a name="153954320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954320">(Apr 25 2018 at 14:22)</a>:</h4>
<p>"master package dependency has to be versioned" -- what do you mean here?</p>



<a name="153954321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954321">(Apr 25 2018 at 14:22)</a>:</h4>
<p>We are experimenting with including an table in the package.json with a link from the canonical URL to the actual file.</p>



<a name="153954322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954322">(Apr 25 2018 at 14:23)</a>:</h4>
<p>Do you want me to update the gist with what we discuss here?</p>



<a name="153954354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954354">(Apr 25 2018 at 21:39)</a>:</h4>
<p>yes update the gist, though it needs to move to the wiki page at some stage.</p>



<a name="153954355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954355">(Apr 25 2018 at 21:40)</a>:</h4>
<p>so I understand your responses about that note, but they don't explain the note itself</p>



<a name="153954356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954356">(Apr 25 2018 at 21:41)</a>:</h4>
<p>some of my confusion is that I don't know, when you say 'profiles', whether you are stritctly referring to structure definitions, or just generally to conformance definitions. ome of your gist implies that you think that these things should be broken up (I strongly disagree with that). But I'm going to ignore the comment now.</p>



<a name="153954357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954357">(Apr 25 2018 at 21:42)</a>:</h4>
<p>so let's say this: the package includes all the resources in the guide, in json (no xml in this context, since the package itself is json).</p>



<a name="153954358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954358">(Apr 25 2018 at 21:42)</a>:</h4>
<p>" including an table in the package.json with a link from the canonical URL to the actual file" - which looks like?</p>



<a name="153954369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954369">(Apr 25 2018 at 21:56)</a>:</h4>
<p>with regard to naming conventions, something like this:</p>
<p>hl7.fhir  (main build)<br>
hl7.us.core<br>
hl7.au.base<br>
hl7.nl.medmij<br>
ihe.pix<br>
ihe.mhd<br>
[country].[company].[purpose]</p>



<a name="153954370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954370">(Apr 25 2018 at 21:59)</a>:</h4>
<p>and on semver: my issue is a policy one: we should not force everyone to use semver. Nothing to do whether it's possible to enforce or not.</p>



<a name="153954624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954624">(Apr 26 2018 at 20:56)</a>:</h4>
<p>If you do not enforce semver, you cannot use version wildcards or ranges. I am fine with that. But it will mean that you can only target 1 specific version. It's also a deviation from npm.</p>



<a name="153954625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954625">(Apr 26 2018 at 20:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span>  what is your opinion on this?</p>



<a name="153954626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954626">(Apr 26 2018 at 21:00)</a>:</h4>
<p>you can still use version wildcards for some deviations, they just don't work well. I'm fine to strongly encourage semver, and can enforce it for HL7 and <a href="http://fhir.org" target="_blank" title="http://fhir.org">fhir.org</a> implementation guides, but it won't be possible everywhere</p>



<a name="153954627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954627">(Apr 26 2018 at 21:02)</a>:</h4>
<p>ok. I think I updated all comments. <br>
<a href="https://gist.github.com/mharthoorn/a52de54d1d010fb6c6e74f8a5d85fbc8" target="_blank" title="https://gist.github.com/mharthoorn/a52de54d1d010fb6c6e74f8a5d85fbc8">https://gist.github.com/mharthoorn/a52de54d1d010fb6c6e74f8a5d85fbc8</a></p>



<a name="153954628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954628">(Apr 26 2018 at 21:04)</a>:</h4>
<p>this gist approach is not working for me. Wiki or google do would be better so I could comment directly.</p>



<a name="153954629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954629">(Apr 26 2018 at 21:04)</a>:</h4>
<p>"A set of resource files<br>
It MAY contain additional content, like example resources or documentation, but this content will be ignored by most package clients and does not follow a standard."</p>



<a name="153954630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954630">(Apr 26 2018 at 21:04)</a>:</h4>
<p>I think you mean conformance resources in the first sentence given what you say in the second</p>



<a name="153954631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954631">(Apr 26 2018 at 21:05)</a>:</h4>
<p>why in the manifest example do you have devDependencies which are ignored and not dependencies which are critical?</p>



<a name="153954632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954632">(Apr 26 2018 at 21:05)</a>:</h4>
<p>Yup. just saw that. updated it.</p>



<a name="153954633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954633">(Apr 26 2018 at 21:06)</a>:</h4>
<p>"It should always have at least one dependency to the core StructureDefinitions package hl7.fhir.StructureDefinitions"... should be just core</p>



<a name="153954634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954634">(Apr 26 2018 at 21:07)</a>:</h4>
<p>done.</p>



<a name="153954635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954635">(Apr 26 2018 at 21:07)</a>:</h4>
<p>and just realised that if this works well, the other parts of Hl7 will want to use it. so hl7.use.core needs hl7.fhir.us.core or fhir.hl7.us.core</p>



<a name="153954636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954636">(Apr 26 2018 at 21:08)</a>:</h4>
<p>not sure about the global cache. why do we document that?</p>



<a name="153954638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954638">(Apr 26 2018 at 21:09)</a>:</h4>
<p>Meta packages:  I don't understand why separating out value sets and profiles is a good idea. it just sounds like a problem to me</p>



<a name="153954639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954639">(Apr 26 2018 at 21:09)</a>:</h4>
<p>I see that most package standards seem to have global caches, because the content is the same for each project.</p>



<a name="153954640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954640">(Apr 26 2018 at 21:09)</a>:</h4>
<p>No point in saving it in more than one place.</p>



<a name="153954641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954641">(Apr 26 2018 at 21:09)</a>:</h4>
<p>doesn't npm cover that?</p>



<a name="153954648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954648">(Apr 26 2018 at 21:12)</a>:</h4>
<p>npm does have a global cache...  but that cache might get very big with node (js) modules... And if you want fast / indexed conformance resources, it's probably much faster to have specific .fhir cache over a .npm cache.</p>



<a name="153954652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954652">(Apr 26 2018 at 21:15)</a>:</h4>
<p>I'm not sure about this. What I know is that many IGs manually include the correct version of the dependency in the version controlled source. the next version of the IG publisher will use npm for dependencies, but so far I haven't figured out how to reduce this necessity</p>



<a name="153954655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954655">(Apr 26 2018 at 21:16)</a>:</h4>
<p>Would including a package.json or package references in the ImplementationGuide resource solve that?</p>



<a name="153954657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954657">(Apr 26 2018 at 21:19)</a>:</h4>
<p>well, the new IG resource has a dependency structure that maps to the npm logically though it uses canonical URLs (that's going to be pain point). But that doesn't address the need for carrying the actual package around, because the principal use for that is where you're depending on an as yet unpublished version</p>



<a name="153954658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954658">(Apr 26 2018 at 21:20)</a>:</h4>
<p>An unpublished version can still have a name and a version.</p>



<a name="153954661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954661">(Apr 26 2018 at 21:21)</a>:</h4>
<p>so it can. but authors (a) don't assign the version as they roll over every few minutes and (b) share the package before they commit and publish</p>



<a name="153954662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954662">(Apr 26 2018 at 21:21)</a>:</h4>
<p>i was thinking about version "latest" for that. But that might introduce some problems too.</p>



<a name="153954665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954665">(Apr 26 2018 at 21:26)</a>:</h4>
<p>Btw, Ewout has noted too that the relation between package name and canonical urls do need more thought.</p>



<a name="153954670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954670">(Apr 26 2018 at 21:28)</a>:</h4>
<p>i think we're going to need automatic conversion at last from canonical -&gt; npm package name. I.m not sure we need the reverse?</p>



<a name="153954685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954685">(Apr 26 2018 at 21:35)</a>:</h4>
<p><a href="https://docs.google.com/document/d/1Skm7Bw_Q4hlfF7rBUay0CIuS9InN91EAyjHX7_QXGcA/edit?usp=sharing" target="_blank" title="https://docs.google.com/document/d/1Skm7Bw_Q4hlfF7rBUay0CIuS9InN91EAyjHX7_QXGcA/edit?usp=sharing">https://docs.google.com/document/d/1Skm7Bw_Q4hlfF7rBUay0CIuS9InN91EAyjHX7_QXGcA/edit?usp=sharing</a></p>



<a name="153954686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954686">(Apr 26 2018 at 21:35)</a>:</h4>
<p>I moved the document here.</p>



<a name="153954688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954688">(Apr 26 2018 at 21:36)</a>:</h4>
<p>thx</p>



<a name="153954695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954695">(Apr 26 2018 at 23:21)</a>:</h4>
<p>with regard to package resolution, what would work for me is if we defined 2 special values for version: 'current' (means to get whatever is current from the accepted CI build) and 'local' (means that the only working version is whatever you have locally on your store (whether that's disk or simplifier). If we define those in both IG and packages, that would solve most of the issues I've seen</p>



<a name="153954696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954696">(Apr 26 2018 at 23:23)</a>:</h4>
<p>what I don't see anywhere is a standard file name for the package. Something like [npm-name].tar.gz</p>



<a name="153954700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954700">(Apr 26 2018 at 23:37)</a>:</h4>
<p>this would replace the current validation.pack</p>



<a name="153954701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153954701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153954701">(Apr 26 2018 at 23:40)</a>:</h4>
<p>and one solution for the package name problem is to put the npm package name in the IG resource.</p>



<a name="153955139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955139">(May 01 2018 at 00:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> I'm about to do a long flight, and I'm going to work on this. When publishing an implementation guide, I'm going to produce a file package.tgz that coontains:<br>
- package/package.json - as described, so far. no doubt this will raise new issues<br>
- package/[type]-[id].json - all the resources in the IG<br>
- package/ig-r4.json - the IG in R4 format<br>
- openapi/[id].schema.json - any generated json schema for the profiles<br>
- openapi/[id].oai.json - any generated open  api files for the capability statements<br>
- xml/[id].sch - any generated schematron files</p>



<a name="153955140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955140">(May 01 2018 at 00:08)</a>:</h4>
<p>I will share them here for people to review</p>



<a name="153955145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955145">(May 01 2018 at 01:21)</a>:</h4>
<p>To confirm, there's no json schema for any 'required' value sets?  If there is, then [id].schema.json wouldn't be guaranteed to be unique (though a collision is highly unlikely)</p>



<a name="153955162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955162">(May 01 2018 at 06:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> concerning proposed file names:</p>
<blockquote>
<p>package/[type]-[id].json - all the resources in the IG</p>
</blockquote>
<p>When saving a new profile, Forge currently proposes a file name of the format "[name].[type].xml" (which the author can override). If desired, I could update the logic to generate file names of the same form "[type]-[id].xml", e.g. "StructureDefinition-MyPatient.xml", to align Forge output with the upcoming NPM tooling.</p>



<a name="153955216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955216">(May 01 2018 at 12:59)</a>:</h4>
<p>That would be useful from just a file-sorting perspective too.</p>



<a name="153955222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955222">(May 01 2018 at 13:29)</a>:</h4>
<p>json schema is only produced for profiles</p>



<a name="153955223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955223">(May 01 2018 at 13:29)</a>:</h4>
<p>I don't feel strongly about the naming</p>



<a name="153955254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955254">(May 01 2018 at 15:17)</a>:</h4>
<p>How does JSON Schema handle fixed bindings?</p>



<a name="153955357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955357">(May 02 2018 at 08:04)</a>:</h4>
<p>enumeration - conceptually like schema</p>



<a name="153955375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955375">(May 02 2018 at 12:44)</a>:</h4>
<p>The real question is "In what file are the enumerations maintained?"</p>



<a name="153955923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955923">(May 04 2018 at 08:48)</a>:</h4>
<p>Note: Not everyone saves an id in conformance resources. It's not mandatory field.</p>



<a name="153955951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153955951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153955951">(May 04 2018 at 12:07)</a>:</h4>
<p>The comments on <a href="http://Resource.id" target="_blank" title="http://Resource.id">Resource.id</a> indicate that the only time it's not present is when submitted for a "create".  I can think of a few other times when it could be omitted, but I'd expect tools to enforce its presence in an IG.</p>



<a name="153956082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956082">(May 05 2018 at 03:24)</a>:</h4>
<p>the IG publisher will always have assigned an id - has to be mandatory as part of an IG</p>



<a name="153956083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956083">(May 05 2018 at 03:24)</a>:</h4>
<p>the IG publisher doesn't mind if inputs don't have ids</p>



<a name="153956125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956125">(May 05 2018 at 07:28)</a>:</h4>
<p>ok, here's an example package for us-core:</p>



<a name="153956126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956126">(May 05 2018 at 07:29)</a>:</h4>
<p><a href="/user_uploads/10155/EQov1jgprTSU_DQn3eDLRjJI/package.tgz" target="_blank" title="package.tgz">package.tgz</a></p>



<a name="153956127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956127">(May 05 2018 at 07:29)</a>:</h4>
<p>comments welcome</p>



<a name="153956316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956316">(May 07 2018 at 08:16)</a>:</h4>
<p>so the biggest thing that is bugging me about NPM is the difference between npm package ids and canonical urls. Package ids are sort of globally unique, but when presented with a package id, how do you resolve it to an actual package? if it's in the cache, sure, but if it's not...? I don't understand how to do that..</p>



<a name="153956317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956317">(May 07 2018 at 08:18)</a>:</h4>
<p>so it seems to me that you need something like a packageid.ini in the user fhir package cache that maps from a canonical URL to a package id or vice versa, and that allows a user to specify a local override for a package id (to support development)</p>



<a name="153956318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956318">(May 07 2018 at 08:18)</a>:</h4>
<p>or have I missed something?</p>



<a name="153956319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956319">(May 07 2018 at 08:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span></p>



<a name="153956329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956329">(May 07 2018 at 09:39)</a>:</h4>
<p>A package server, like <a href="http://registry.npmjs.org" target="_blank" title="http://registry.npmjs.org">registry.npmjs.org</a> can resolve that. We will bring a poc for a FHIR package server to Kohln. But I agree that it would be good if there is a rule / logical relation between a package id and a canonical url.</p>



<a name="153956368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956368">(May 07 2018 at 12:34)</a>:</h4>
<p>there won't be a rule. I've been playing around with that and it isn't really practical.</p>



<a name="153956369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956369">(May 07 2018 at 12:35)</a>:</h4>
<p>so I think that we'll have to have a redirect file. but as for a poC for a package server - why woldn't we just use <a href="http://registry.npmjs.org" target="_blank" title="http://registry.npmjs.org">registry.npmjs.org</a>?</p>



<a name="153956372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956372">(May 07 2018 at 12:38)</a>:</h4>
<p>so the IG publisher is going to migrate to the package based infrastructure by the end of the Koln meeting if we can figure out package resolution.</p>



<a name="153956373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956373">(May 07 2018 at 12:39)</a>:</h4>
<p>it's producing packages now, following the spec. I'll back generate packages and post them for all the existing published IGs, and then switch to doing dependency fetching using the npm infrastructure</p>



<a name="153956395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956395">(May 07 2018 at 13:09)</a>:</h4>
<p>btw, <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> you haven't commented on my example package...</p>



<a name="153956396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956396">(May 07 2018 at 13:09)</a>:</h4>
<p>one last thing - the package cache does not contain tarballs? they are extracted?</p>



<a name="153956479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956479">(May 07 2018 at 14:59)</a>:</h4>
<p>Yes. In my poc i extracted them.</p>



<a name="153956480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956480">(May 07 2018 at 14:59)</a>:</h4>
<p>And npm extracts them too.</p>



<a name="153956483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956483">(May 07 2018 at 15:07)</a>:</h4>
<blockquote>
<p>btw, <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> you haven't commented on my example package...</p>
</blockquote>
<p>Looks good. My client tool can install it correctly.</p>



<a name="153956504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956504">(May 07 2018 at 15:33)</a>:</h4>
<p>great. ok, we go with that for now</p>



<a name="153956505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956505">(May 07 2018 at 15:33)</a>:</h4>
<p>thx</p>



<a name="153956684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956684">(May 07 2018 at 19:32)</a>:</h4>
<p>so I asked above: "as for a poC for a package server - why woldn't we just use <a href="http://registry.npmjs.org" target="_blank" title="http://registry.npmjs.org">registry.npmjs.org</a>?".. and the answer appears to be... because of canonical --&gt; npm package id. For which we should use <a href="http://registry.fhir.org" target="_blank" title="http://registry.fhir.org">registry.fhir.org</a>, no? The only problem is, it doesn't support the latest IG resource on which I am building all this...</p>



<a name="153956782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956782">(May 07 2018 at 21:16)</a>:</h4>
<p>ok I have uploaded package.tgz files for all the FHIR base specifications</p>



<a name="153956893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956893">(May 08 2018 at 06:44)</a>:</h4>
<p>the IGPublisher will support 2 special version values for package versions:<br>
- current - this refers to the most recent build performed by the auto-ig-publisher<br>
- dev - this refers to your local build, or current if no local build exists</p>
<p>These are only valid when developing implementation guides - neither value of version is acceptable when actually publishing</p>



<a name="153956894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956894">(May 08 2018 at 06:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> - both current and dev will be in the global package cache. current will have a timestamp on it - in the root package folder, which should be checked against the auto-builder json registry before using (unless offline). The dev package is written at the conclusion of a successful local build. we'll have to consider how to extend the support for current to simplifier.</p>



<a name="153956969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153956969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153956969">(May 08 2018 at 15:14)</a>:</h4>
<p>Bottom line for editors:  When will these be implemented and we have to switch over?</p>



<a name="153957035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957035">(May 08 2018 at 20:08)</a>:</h4>
<p>you have to 'switch over' now - in that some optional things are now mandatory</p>



<a name="153957036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957036">(May 08 2018 at 20:08)</a>:</h4>
<p>otherwise, you don't need to do anything to switch over.</p>



<a name="153957037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957037">(May 08 2018 at 20:09)</a>:</h4>
<p>actually, you might - the version of your dependencies is going to start mattering.</p>



<a name="153957038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957038">(May 08 2018 at 20:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> another issue: there's a 99 character limit on file names. If the resource name is &gt;22 characters long (and we have some) this means that a filename can get longer than that (8+64+5 = 77)</p>



<a name="153957078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957078">(May 09 2018 at 00:20)</a>:</h4>
<p>does that mean as soon as I start using the latest ig-pub... everything breaks including my preprocessing?</p>



<a name="153957107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957107">(May 09 2018 at 05:51)</a>:</h4>
<p>the NPM package file has nothing to do with pre-processing.</p>



<a name="153957108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957108">(May 09 2018 at 05:52)</a>:</h4>
<p>what you will have to do is version all your dependencies. Which the build tool has not been enforcing, but will when I next commit.</p>



<a name="153957109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957109">(May 09 2018 at 05:53)</a>:</h4>
<p>as far as I know, nothing else should break... but it depends how far behind you are. You should always use the latest version. You might think you're avoiding pain but you're just kicking it down the road... and things are going to much more stable unless we start making breaking changes to the conformance resources again - in which case you really need to keep up because I'll be writing one off converters....</p>



<a name="153957110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957110">(May 09 2018 at 06:07)</a>:</h4>
<p>I have uploaded NPM package files for all IGs that are posted to <a href="http://hl7.org" target="_blank" title="http://hl7.org">hl7.org</a> or <a href="http://fhir.org" target="_blank" title="http://fhir.org">fhir.org</a> for all supported versions. (1.0.2, 1.4.0, 3.01, and 3.2.0+).</p>



<a name="153957223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957223">(May 09 2018 at 15:04)</a>:</h4>
<p>what about the CI builds?  can we still use a local source file?</p>



<a name="153957231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957231">(May 09 2018 at 15:15)</a>:</h4>
<p>We will definitely need to be able to run the build process totally offline using locally cached files.</p>



<a name="153957410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957410">(May 09 2018 at 19:54)</a>:</h4>
<p>I don't understand the question, Eric.</p>



<a name="153957411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957411">(May 09 2018 at 19:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> I really hate gzipped tarballs. What a stinking hard format to read... I've spent 4 hours on it so far, and I'm getting <em>nowhere</em></p>



<a name="153957498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957498">(May 10 2018 at 09:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I think Martijn uses libraries to deal with gzip/tar, don't think he implemented custom compression logic.</p>



<a name="153957634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957634">(May 10 2018 at 16:07)</a>:</h4>
<p>I was trying to do the same. Only the libraries for gzip didn't work (i needed a secret undocumented setting, and my google work was deficient in finding it). And there was only one choice for tarball at all, but it worked great.</p>



<a name="153957636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957636">(May 10 2018 at 16:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> ok let's talk about a package server....</p>



<a name="153957637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957637">(May 10 2018 at 16:08)</a>:</h4>
<p>I know that I need 4 operations:</p>
<ul>
<li>list me the packages for a given (partial) package id </li>
<li>list me packages for a canonical id (should all be the same package, different versions)</li>
<li>return me a package</li>
<li>return me a package and all it's dependencies</li>
</ul>



<a name="153957675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957675">(May 10 2018 at 20:48)</a>:</h4>
<p>Another issue: I want to be able to use a global package cache from system services too, where there's no user context</p>



<a name="153957722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957722">(May 11 2018 at 07:53)</a>:</h4>
<p>system package cache (as opposed to user cache) will be at c:\programdata\.fhir or /var/lib/.fhir</p>



<a name="153957723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957723">(May 11 2018 at 07:53)</a>:</h4>
<p>I will be maintaining files like these now:</p>



<a name="153957724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957724">(May 11 2018 at 07:53)</a>:</h4>
<p><a href="http://hl7.org/fhir/us/core/package-list.json" target="_blank" title="http://hl7.org/fhir/us/core/package-list.json">http://hl7.org/fhir/us/core/package-list.json</a></p>



<a name="153957725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153957725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153957725">(May 11 2018 at 07:53)</a>:</h4>
<p>there's also <a href="http://hl7.org/fhir/package-list.json" target="_blank" title="http://hl7.org/fhir/package-list.json">http://hl7.org/fhir/package-list.json</a></p>



<a name="153959288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153959288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153959288">(May 13 2018 at 04:49)</a>:</h4>
<p><a href="http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec" target="_blank" title="http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec">http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec</a></p>



<a name="153959289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153959289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153959289">(May 13 2018 at 05:06)</a>:</h4>
<p>and <a href="http://wiki.hl7.org/index.php?title=FHIR_Package_Cache" target="_blank" title="http://wiki.hl7.org/index.php?title=FHIR_Package_Cache">http://wiki.hl7.org/index.php?title=FHIR_Package_Cache</a></p>



<a name="153959290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153959290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153959290">(May 13 2018 at 05:07)</a>:</h4>
<p>I'm not sure whether the first belongs in the spec? I think not. I'll be asking FHIR-I to adopt both of these as formal policy for FHIR Tooling authors</p>



<a name="153959297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153959297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153959297">(May 13 2018 at 06:03)</a>:</h4>
<p>My leaning would be to put the first in the spec.  It's going to be pretty essential to tool users/developers</p>



<a name="153959298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153959298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153959298">(May 13 2018 at 06:03)</a>:</h4>
<p>(minor grammar edits to both)</p>



<a name="153960026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153960026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153960026">(May 14 2018 at 09:06)</a>:</h4>
<blockquote>
<p>I know that I need 4 operations:</p>
</blockquote>



<a name="153960028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153960028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153960028">(May 14 2018 at 09:07)</a>:</h4>
<blockquote>
<ul>
<li>list me the packages for a given (partial) package id </li>
<li>list me packages for a canonical id (should all be the same package, different versions)</li>
<li>return me a package</li>
<li>return me a package and all it's dependencies</li>
</ul>
</blockquote>



<a name="153960029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153960029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153960029">(May 14 2018 at 09:07)</a>:</h4>
<p>The first and third are covered by the npm spec.</p>



<a name="153960030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153960030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153960030">(May 14 2018 at 09:07)</a>:</h4>
<p>The last one is a feature addressed by the client in most package resolving standards.</p>



<a name="153960032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153960032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153960032">(May 14 2018 at 09:08)</a>:</h4>
<p>The main question that we have to answer: do we want to <br>
A - stay within the npm spec, <br>
B - expand on the npm spec,<br>
or C - let it go and define our own.</p>



<a name="153960035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153960035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153960035">(May 14 2018 at 09:09)</a>:</h4>
<p>is there an npm field to use for canonical URL?</p>



<a name="153960036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153960036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153960036">(May 14 2018 at 09:09)</a>:</h4>
<p>if there is, I'd rather use it. If there isn't, then we have to extend</p>



<a name="153960042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153960042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153960042">(May 14 2018 at 09:13)</a>:</h4>
<p>As far as I know the whole concept does not exist in npm.</p>



<a name="153961006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153961006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153961006">(May 15 2018 at 12:16)</a>:</h4>
<p>"list me packages for a canonical id (should all be the same package, different versions)"<br>
1. What is the use case here?</p>



<a name="153961007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153961007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153961007">(May 15 2018 at 12:16)</a>:</h4>
<p>2. I think it is possible that multiple packages contain the same conformance resource.</p>



<a name="153961009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153961009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153961009">(May 15 2018 at 12:17)</a>:</h4>
<p>(not just different versions)</p>



<a name="153961370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153961370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153961370">(May 15 2018 at 20:43)</a>:</h4>
<p>canonical URL of the IG itself, not of any of the resources in it</p>



<a name="153961371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153961371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153961371">(May 15 2018 at 20:44)</a>:</h4>
<p>use case - user knows the package id ,but not what versions are available</p>



<a name="153967897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153967897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153967897">(Jun 07 2018 at 20:51)</a>:</h4>
<p>Updating the QI-Core IG to the latest publisher, the documentation for NPM says the NPM name is assigned by the product director for HL7 IGs. Has one already been assigned for QI-Core?</p>



<a name="153967900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153967900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153967900">(Jun 07 2018 at 20:54)</a>:</h4>
<p>it will be hl7.fhir.us.qicore</p>



<a name="153967901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153967901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153967901">(Jun 07 2018 at 20:54)</a>:</h4>
<p>Following the pattern in US core, it would be: hl7.fhir.us.qicore</p>



<a name="153967902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153967902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153967902">(Jun 07 2018 at 20:55)</a>:</h4>
<p>Ah yes. same time.</p>



<a name="153967908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153967908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153967908">(Jun 07 2018 at 21:02)</a>:</h4>
<p>This new publisher is the cat's meow: NPM support, license declaration, nice work!</p>



<a name="153967909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153967909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153967909">(Jun 07 2018 at 21:03)</a>:</h4>
<p>The docs are really good too.</p>



<a name="153967910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153967910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153967910">(Jun 07 2018 at 21:04)</a>:</h4>
<p>thanks. I'm glad someone is happy</p>



<a name="153967912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153967912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153967912">(Jun 07 2018 at 21:07)</a>:</h4>
<p>i'am very happy to, much cleaner separation, possibility to specify the ig for validation, thanks a lot!</p>



<a name="153968041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968041">(Jun 08 2018 at 14:34)</a>:</h4>
<p>I admit I don't understand the whole package thing.  I'm doing the same thing in generating igs as before.   So I am not personally seeing any differences in creating a npm file.   What are the benefits again, who is the big beneficiary, and am I ignoring something I should be taking advantage of as an ig author?</p>



<a name="153968089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968089">(Jun 08 2018 at 18:18)</a>:</h4>
<p>Referencing the IG can be done with standard NPM package managers now, makes it easier to plug in to existing tooling.</p>



<a name="153968111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968111">(Jun 08 2018 at 20:18)</a>:</h4>
<p>the big problem I had was how to manage references. There was a location property on  dependency in the json file, but everyone had to have the same literal path for that. Now, the package infrastructure can auto-resolve local references. that's the primary benefit for IT publishers, and more than justified the trivial cost of having to define npm-name and license.</p>



<a name="153968113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968113">(Jun 08 2018 at 20:18)</a>:</h4>
<p>otherwise there is many downstream benefits for tooling</p>



<a name="153968117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968117">(Jun 08 2018 at 20:27)</a>:</h4>
<p>ok got it</p>



<a name="153968269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968269">(Jun 11 2018 at 08:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> for the Case Reporting IG, I have set "npm-name": "hl7.fhir.us.ecr" - is this correct?</p>



<a name="153968270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968270">(Jun 11 2018 at 08:03)</a>:</h4>
<p>no. it's hl7.fhir.uv.ecr (you were close though)</p>



<a name="153968271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968271">(Jun 11 2018 at 08:03)</a>:</h4>
<p>Ok, isn't uv universal realm? This is US realm...</p>



<a name="153968272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968272">(Jun 11 2018 at 08:13)</a>:</h4>
<p>its not US realm. So I was assured when the project proposal went through. see <a href="http://hl7.org/fhir/uv/ecr/" target="_blank" title="http://hl7.org/fhir/uv/ecr/">http://hl7.org/fhir/uv/ecr/</a></p>



<a name="153968273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968273">(Jun 11 2018 at 08:13)</a>:</h4>
<p>Ha! News to me... Will look into it!<br>
Pretty sure it wouldn't be of much use to us here, that's for sure...</p>



<a name="153968274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968274">(Jun 11 2018 at 08:15)</a>:</h4>
<p>that's what I thought...</p>



<a name="153968275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968275">(Jun 11 2018 at 08:15)</a>:</h4>
<p>Maybe the FHIR version is supposed to be uv. Though it's pretty much a copy of the CDA, which is definitely US Realm. Looking for PSS now.</p>



<a name="153968276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968276">(Jun 11 2018 at 08:17)</a>:</h4>
<p><a href="http://www.hl7.org/special/Committees/projman/searchableProjectIndex.cfm?action=edit&amp;ProjectNumber=1366" target="_blank" title="http://www.hl7.org/special/Committees/projman/searchableProjectIndex.cfm?action=edit&amp;ProjectNumber=1366">http://www.hl7.org/special/Committees/projman/searchableProjectIndex.cfm?action=edit&amp;ProjectNumber=1366</a></p>



<a name="153968277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968277">(Jun 11 2018 at 08:18)</a>:</h4>
<p>It's def US realm.</p>



<a name="153968278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968278">(Jun 11 2018 at 08:18)</a>:</h4>
<p>Is it something we need to fix now or can it wait until later?</p>



<a name="153968279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968279">(Jun 11 2018 at 08:20)</a>:</h4>
<p>I'm not sure.</p>



<a name="153968280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968280">(Jun 11 2018 at 08:22)</a>:</h4>
<p>Maybe later - more concerned with getting the CI build working again right now. Clearly I also have canonical base path wrong in ig.json (us vs uv).</p>



<a name="153968281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968281">(Jun 11 2018 at 08:23)</a>:</h4>
<p>it was balloted as UV - see <a href="http://www.hl7.org/documentcenter/public_temp_4B4D4D8F-1C23-BA17-0CB0A5D31878A17B/ballots/2018JAN/Announcements/Announcement%20of%20Ballot%20Openings%20for%202018%20January%20Ballot%20Cycle.pdf" target="_blank" title="http://www.hl7.org/documentcenter/public_temp_4B4D4D8F-1C23-BA17-0CB0A5D31878A17B/ballots/2018JAN/Announcements/Announcement%20of%20Ballot%20Openings%20for%202018%20January%20Ballot%20Cycle.pdf">http://www.hl7.org/documentcenter/public_temp_4B4D4D8F-1C23-BA17-0CB0A5D31878A17B/ballots/2018JAN/Announcements/Announcement%20of%20Ballot%20Openings%20for%202018%20January%20Ballot%20Cycle.pdf</a></p>



<a name="153968282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968282">(Jun 11 2018 at 08:23)</a>:</h4>
<p>Wow, crazy. I'll talk to the powers that be and get back to you tomorrow...</p>



<a name="153968284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968284">(Jun 11 2018 at 08:30)</a>:</h4>
<p>That was the problem with the CI build - the US vs UV issue... It's running now. Not sure how it was running last week...</p>



<a name="153968285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968285">(Jun 11 2018 at 08:32)</a>:</h4>
<p>Except now it's failing with stuff like this: <br>
<code>base/ resource url mismatch: http://hl7.org/fhir/uv/ecr vs http://fhir.hl7.org/us/ecr/StructureDefinition/extension-trigger</code><br>
I will leave it for now and find out what the project is really supposed to be UV or US realm - otherwise I'll be changing all the US to UV and will likely have to change them back later.</p>



<a name="153968445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968445">(Jun 11 2018 at 19:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> So eCR is definitely supposed to be US Realm NOT UV. John Loonsk thinks the confusion may have come about because originally there was an idea that we might need to create a new public health resource - which obviously wouldn't have been US Realm? It should really have been balloted as US realm...</p>
<p>So, can you change the npm name to US and <a href="http://hl7.org/fhir/uv/ecr/" target="_blank" title="http://hl7.org/fhir/uv/ecr/">http://hl7.org/fhir/uv/ecr/</a> to reflect US Realm also?</p>



<a name="153968563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968563">(Jun 11 2018 at 22:57)</a>:</h4>
<p>I don't think I can fix this.... will have to talk to FMG about it</p>



<a name="153968588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968588">(Jun 12 2018 at 01:20)</a>:</h4>
<p>Ok.<br>
Is there anything I need to do? Or is it something you need to take care of?</p>



<a name="153968589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153968589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153968589">(Jun 12 2018 at 01:22)</a>:</h4>
<p>The NIB: <a href="http://www.hl7.org/special/Committees/tsc/ballotmanagement/ViewPastNIB.cfm?ballot_pool_id=1151" target="_blank" title="http://www.hl7.org/special/Committees/tsc/ballotmanagement/ViewPastNIB.cfm?ballot_pool_id=1151">http://www.hl7.org/special/Committees/tsc/ballotmanagement/ViewPastNIB.cfm?ballot_pool_id=1151</a> <br>
states that it's US specific...</p>



<a name="153969574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153969574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153969574">(Jun 14 2018 at 09:55)</a>:</h4>
<p>Is any one interested in a connectathon track for FHIR packages in Baltimore (September)?</p>



<a name="153969576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153969576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153969576">(Jun 14 2018 at 09:56)</a>:</h4>
<p>Quoting Grahame:</p>
<blockquote>
<p>there's two parts to test: local cache interoperability and package resolution consistency</p>
</blockquote>



<a name="153969578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153969578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153969578">(Jun 14 2018 at 09:57)</a>:</h4>
<p>and yes i have to be interested though I'll be under immense pressure. we can do it next weje in Boston?</p>



<a name="153970342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153970342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153970342">(Jun 18 2018 at 20:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> (<span class="user-mention" data-user-id="191407">@Rick Geimer</span>) Grahame - is this something you can take to FMG this week? This issue is holding me up as the IG publisher won't build until the US vs UV mismatches are sorted (and I really don't want to go and rename everything to UV!)</p>



<a name="153990340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990340">(Aug 23 2018 at 05:59)</a>:</h4>
<p>back to this: <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> the package spec makes no rules around the possible values for the version string, and I just got bitten by this. We need to at least say: shall not contain a space or characters /\:;,?</p>



<a name="153990512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990512">(Aug 23 2018 at 20:48)</a>:</h4>
<p>Our spec currently says it should adhere to Semver and "Version strings SHALL contain only letters, numbers, and the characters ".", "_", and "-"</p>



<a name="153990513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990513">(Aug 23 2018 at 20:49)</a>:</h4>
<p>Or do you mean something else?</p>



<a name="153990514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990514">(Aug 23 2018 at 20:49)</a>:</h4>
<p><a href="http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec" target="_blank" title="http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec">http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec</a></p>



<a name="153990520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990520">(Aug 23 2018 at 21:11)</a>:</h4>
<p>I drafted the </p>
<blockquote>
<p>Version strings SHALL contain only letters, numbers, and the characters ".", "_", and "-" </p>
</blockquote>
<p>slightly before I wrote what I wrote here</p>



<a name="153990521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990521">(Aug 23 2018 at 21:12)</a>:</h4>
<p>I think we should update to include the other characters but I was looking for confirmation here on the details</p>



<a name="153990699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990699">(Aug 24 2018 at 04:56)</a>:</h4>
<p>Ah. That explains. The initial proposal had a MUST for semver. I think there is still a strong case for that, since you tooling can use it to calculate compatibility. If people choose not to follow semver, it's much less certain whether a tool can still do that.</p>



<a name="153990700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990700">(Aug 24 2018 at 04:58)</a>:</h4>
<p>Semver says you can only have numbers for major, minor and patch. Except for the prerelease which can contain alphanumerics and a dash. (and a more optionally + and an alpha-identifier for a build)</p>



<a name="153990702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990702">(Aug 24 2018 at 05:00)</a>:</h4>
<p>For people, organizations that can't or won't follow semver - or whatever form of computability we choose, I don't see why we care what is in the version string at all.</p>



<a name="153990704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990704">(Aug 24 2018 at 05:01)</a>:</h4>
<p>But personally I don't mind setting up some rules for it, like dot, underscore or dash and not spaces.</p>



<a name="153990705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/NPM%20Package%20File/near/153990705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/NPM.20Package.20File.html#153990705">(Aug 24 2018 at 05:07)</a>:</h4>
<p>well, because the cache specification is unimplementable if characters that are not valid file names on all platforms are allowed in the version</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
