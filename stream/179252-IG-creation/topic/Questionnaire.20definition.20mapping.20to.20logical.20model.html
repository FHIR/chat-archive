---
layout: page
title: "FHIR Chat  · Questionnaire definition mapping to logical model · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html">Questionnaire definition mapping to logical model</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219393202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/219393202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#219393202">(Dec 09 2020 at 20:29)</a>:</h4>
<p>I previously raised this in the <a class="stream" data-stream-id="179255" href="/#narrow/stream/179255-questionnaire">#questionnaire</a> stream <a href="#narrow/stream/179255-questionnaire/topic/Questionnaire.20definition.20mapping.20to.20logical.20model/near/213744565">Questionnaire definition mapping to logical model</a> but never got to the bottom of the issue, so hoping someone here might have some insight.</p>
<p>I have a logical model that includes an element of type Period:<br>
(extract from the fsh source)</p>
<div class="codehilite"><pre><span></span><code>* differential.element[44].id = &quot;WhoCrSurveillanceDataDictionary.exposure.travel.location.locationPeriod&quot;
* differential.element[44].path = &quot;WhoCrSurveillanceDataDictionary.exposure.travel.location.locationPeriod&quot;
* differential.element[44].short = &quot;Dates at location (including date of departure)&quot;
* differential.element[44].definition = &quot;Specify dates at this location&quot;
* differential.element[44].type.code = #Period
* differential.element[44].code = $LNC#91560-3
* differential.element[44].min = 0
* differential.element[44].max = &quot;1&quot;
</code></pre></div>
<p>I have a questionnaire that references a sub-element of Period:</p>
<div class="codehilite"><pre><span></span><code>* item[6].item[1].item[0].item[2].linkId  = &quot;expo_travel_date&quot;
* item[6].item[1].item[0].item[2].text    = &quot;Date of Departure from the place:&quot;
* item[6].item[1].item[0].item[2].type    = #dateTime
* item[6].item[1].item[0].item[2].code    = $LNC#91560-3
* item[6].item[1].item[0].item[2].definition    = &quot;http://openhie.github.io/covid-19/StructureDefinition/WhoCrSurveillanceDataDictionary#WhoCrSurveillanceDataDictionary.exposure.travel.location.locationPeriod.end&quot;
</code></pre></div>
<p>When I build my IG, I get an error in QA.html:</p>
<div class="codehilite"><pre><span></span><code>The link &#39;StructureDefinition-WhoCrSurveillanceDataDictionary.html#WhoCrSurveillanceDataDictionary.exposure.travel.location.locationPeriod.end&#39; for &quot;WhoCrSurveillanceDataDictionary.exposure.travel.location.locationPeriod.end&quot; cannot be resolved (valid targets: 233 targets)
</code></pre></div>
<p>Is there an error here on my part? I believe previous discussion suggested that I should be able to define a link into a datatype, but maybe not?</p>



<a name="219552883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/219552883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#219552883">(Dec 11 2020 at 00:30)</a>:</h4>
<p>Further research on this reveals I can do a Questionnaire definition that goes into a complex data type in a resource (e.g. Practitioner.name.text), but my attempts to do a definition that goes into the profile of the same resource, or a logical model with the same structure fail.</p>



<a name="219554671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/219554671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#219554671">(Dec 11 2020 at 00:54)</a>:</h4>
<p>I'll look at this next week too</p>



<a name="219554818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/219554818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#219554818">(Dec 11 2020 at 00:57)</a>:</h4>
<p>Thank you.</p>
<p>I have a single fsh file that shows it if you need.</p>



<a name="240208056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/240208056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#240208056">(May 25 2021 at 15:47)</a>:</h4>
<p>I become Build errors, where I set a Questionnaire.definition to a specific slice of an element (see <a href="http://build.fhir.org/ig/hl7ch/ch-rad-order/branches/master/qa.html">QA</a>). How should that work properly?</p>
<p>definition = "<a href="http://fhir.ch/ig/ch-rad-order/StructureDefinition/ch-rad-order-servicerequest#ServiceRequest.identifier:placerOrderIdentifier.value">http://fhir.ch/ig/ch-rad-order/StructureDefinition/ch-rad-order-servicerequest#ServiceRequest.identifier:placerOrderIdentifier.value</a>"</p>
<p>The link 'StructureDefinition-ch-rad-order-servicerequest.html#ServiceRequest.identifier:placerOrderIdentifier.value' for "ServiceRequest.identifier:placerOrderIdentifier.value" cannot be resolved (valid targets: 308 targets)</p>



<a name="240775139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/240775139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#240775139">(May 30 2021 at 21:32)</a>:</h4>
<p>moving this back up my todo list.</p>



<a name="241338090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/241338090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#241338090">(Jun 03 2021 at 00:58)</a>:</h4>
<p>how do I reproduce this <span class="user-mention" data-user-id="191380">@Elliot Silver</span></p>



<a name="241342388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/241342388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#241342388">(Jun 03 2021 at 02:26)</a>:</h4>
<p>If I recall, you need to:</p>
<ul>
<li>create a logical model with an element of type Period </li>
<li>create a questionnaire with an item whose definition links to the logical model's Period.end.<br>
I'm not sure how to point you at an old github commit that would demonstrate this.</li>
</ul>



<a name="241346809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/241346809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#241346809">(Jun 03 2021 at 04:14)</a>:</h4>
<p>o you have a branch?</p>



<a name="241347426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/241347426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#241347426">(Jun 03 2021 at 04:30)</a>:</h4>
<p><a href="https://github.com/openhie/covid-ig/tree/93746b1f44f0ea926f0547a2cf960e0be4e82d93">https://github.com/openhie/covid-ig/tree/93746b1f44f0ea926f0547a2cf960e0be4e82d93</a></p>



<a name="241347451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/241347451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#241347451">(Jun 03 2021 at 04:31)</a>:</h4>
<p>I presume this is it<br>
<a href="https://github.com/openhie/covid-ig/blob/93746b1f44f0ea926f0547a2cf960e0be4e82d93/input/fsh/who-cr-QuestionnaireCRF2020-2.fsh#L310">https://github.com/openhie/covid-ig/blob/93746b1f44f0ea926f0547a2cf960e0be4e82d93/input/fsh/who-cr-QuestionnaireCRF2020-2.fsh#L310</a></p>



<a name="241403192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20definition%20mapping%20to%20logical%20model/near/241403192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20definition.20mapping.20to.20logical.20model.html#241403192">(Jun 03 2021 at 15:01)</a>:</h4>
<p>Yes, thank you.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
