---
layout: page
title: "FHIR Chat  · SNOMED Errors in qa.html · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html">SNOMED Errors in qa.html</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="257421890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/SNOMED%20Errors%20in%20qa.html/near/257421890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html#257421890">(Oct 13 2021 at 19:18)</a>:</h4>
<p>Unable to find code 1156506007 in <a href="http://snomed.info/sct">http://snomed.info/sct</a> (version <a href="http://snomed.info/sct/731000124108/version/**20210301**">http://snomed.info/sct/731000124108/version/**20210301**</a>); The code "<strong>1156506007</strong>" is not valid in the system <a href="http://snomed.info/sct">http://snomed.info/sct</a>; The code provided (<a href="http://snomed.info/sct#1156506007">http://snomed.info/sct#1156506007</a>) is not valid in the value set 'All codes known to the system' (from <a href="http://tx.fhir.org/r4">http://tx.fhir.org/r4</a>) for '<a href="http://snomed.info/sct#1156506007">http://snomed.info/sct#1156506007</a>'<br>
Unable to find code 1156530009 in <a href="http://snomed.info/sct">http://snomed.info/sct</a> (version <a href="http://snomed.info/sct/731000124108/version/**20210301**">http://snomed.info/sct/731000124108/version/**20210301**</a>); The code "<strong>1156530009</strong>" is not valid in the system <a href="http://snomed.info/sct">http://snomed.info/sct</a>; The code provided (<a href="http://snomed.info/sct#1156530009">http://snomed.info/sct#1156530009</a>) is not valid in the value set 'All codes known to the system' (from <a href="http://tx.fhir.org/r4">http://tx.fhir.org/r4</a>) for '<a href="http://snomed.info/sct#1156530009">http://snomed.info/sct#1156530009</a>'<br>
Unable to find code 1149099005 in <a href="http://snomed.info/sct">http://snomed.info/sct</a> (version <a href="http://snomed.info/sct/731000124108/version/20210301">http://snomed.info/sct/731000124108/version/20210301</a>); The code "1149099005" is not valid in the system <a href="http://snomed.info/sct">http://snomed.info/sct</a>; The code provided (<a href="http://snomed.info/sct#1149099005">http://snomed.info/sct#1149099005</a>) is not valid in the value set 'All codes known to the system' (from <a href="http://tx.fhir.org/r4">http://tx.fhir.org/r4</a>) for '<a href="http://snomed.info/sct#1149099005">http://snomed.info/sct#1149099005</a>'</p>
<p>These codes are in the published version July 2021...should they be available?  Looks like the terminology server is working from the March release....</p>



<a name="257431506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/SNOMED%20Errors%20in%20qa.html/near/257431506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html#257431506">(Oct 13 2021 at 20:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span></p>



<a name="257435217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/SNOMED%20Errors%20in%20qa.html/near/257435217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html#257435217">(Oct 13 2021 at 20:48)</a>:</h4>
<p>I'm going to look at it soon (within the next hour or so).  Had to check something else first.  <span class="user-mention" data-user-id="215604">@Saul Kravitz</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="257532043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/SNOMED%20Errors%20in%20qa.html/near/257532043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html#257532043">(Oct 14 2021 at 13:13)</a>:</h4>
<p><span class="user-mention" data-user-id="215604">@Saul Kravitz</span> As with the LOINC issue, it took me a while to get to this, but all three of these SNOMED CT codes do validate correctly on <a href="http://tx.fhir.org">tx.fhir.org</a> using both the default version of SNOMED CT (with no edition or version specified) and also the US edition specified (the version portion of the string seems to be being ignored for some reason!).  The version of the US edition that is loaded on the server is 20210901 (and only one version of the US edition is loaded, whereas there are multiple versions loaded for the International edition).  But the bottom line is that all of these codes seem to be validating correctly directly on the terminology server, so again I suspect that what you are seeing may be an issue with your txcache?</p>



<a name="257548752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/SNOMED%20Errors%20in%20qa.html/near/257548752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html#257548752">(Oct 14 2021 at 14:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> Here is a code that is in the July build that the official IG build process complains about:</p>
<p><a href="https://browser.ihtsdotools.org/?perspective=full&amp;conceptId1=1149099005&amp;edition=MAIN/2021-07-31&amp;release=&amp;languages=en">https://browser.ihtsdotools.org/?perspective=full&amp;conceptId1=1149099005&amp;edition=MAIN/2021-07-31&amp;release=&amp;languages=en</a><br>
Here are all of the terminology woes from <a href="http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches//splitlocationqualifier/qa.html">http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches//splitlocationqualifier/qa.html</a></p>
<div class="codehilite"><pre><span></span><code>Terminology_PassThrough_TX_Message
fsh-generated/resources/Bundle-mcode-patient-bundle-jenny-m.json    The code &quot;97509-4&quot; is not valid in the system http://loinc.org; The code provided (http://loinc.org#97509-4) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://loinc.org#97509-4&#39;
fsh-generated/resources/Bundle-mcode-patient-bundle-jenny-m.json    The code &quot;97509-4&quot; is not valid in the system http://loinc.org; The code provided (http://loinc.org#97509-4) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://loinc.org#97509-4&#39;
fsh-generated/resources/Bundle-mcode-patient-bundle-jenny-m.json    Unable to find code 1156506007 in http://snomed.info/sct (version http://snomed.info/sct/731000124108/version/20210301); The code &quot;1156506007&quot; is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#1156506007) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://snomed.info/sct#1156506007&#39;
fsh-generated/resources/Bundle-mcode-patient-bundle-jenny-m.json    Unable to find code 1156530009 in http://snomed.info/sct (version http://snomed.info/sct/731000124108/version/20210301); The code &quot;1156530009&quot; is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#1156530009) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://snomed.info/sct#1156530009&#39;
fsh-generated/resources/Bundle-mcode-patient-bundle-jenny-m.json    Unable to find code 1156506007 in http://snomed.info/sct (version http://snomed.info/sct/731000124108/version/20210301); The code &quot;1156506007&quot; is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#1156506007) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://snomed.info/sct#1156506007&#39;
fsh-generated/resources/Bundle-mcode-patient-bundle-jenny-m.json    Unable to find code 1156530009 in http://snomed.info/sct (version http://snomed.info/sct/731000124108/version/20210301); The code &quot;1156530009&quot; is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#1156530009) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://snomed.info/sct#1156530009&#39;
fsh-generated/resources/Observation-binet-stage-group-A.json    Unable to find code 1149099005 in http://snomed.info/sct (version http://snomed.info/sct/731000124108/version/20210301); The code &quot;1149099005&quot; is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#1149099005) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://snomed.info/sct#1149099005&#39;
fsh-generated/resources/Observation-cancer-disease-status-improved.json The code &quot;97509-4&quot; is not valid in the system http://loinc.org; The code provided (http://loinc.org#97509-4) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://loinc.org#97509-4&#39;
fsh-generated/resources/Observation-cancer-disease-status-jenny-m.json  The code &quot;97509-4&quot; is not valid in the system http://loinc.org; The code provided (http://loinc.org#97509-4) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://loinc.org#97509-4&#39;
fsh-generated/resources/Procedure-radiotherapy-treatment-summary-chest-wall-jenny-m.json    Unable to find code 1156506007 in http://snomed.info/sct (version http://snomed.info/sct/731000124108/version/20210301); The code &quot;1156506007&quot; is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#1156506007) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://snomed.info/sct#1156506007&#39;
fsh-generated/resources/Procedure-radiotherapy-treatment-summary-chest-wall-jenny-m.json    Unable to find code 1156530009 in http://snomed.info/sct (version http://snomed.info/sct/731000124108/version/20210301); The code &quot;1156530009&quot; is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#1156530009) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://snomed.info/sct#1156530009&#39;
fsh-generated/resources/StructureDefinition-mcode-cancer-disease-status.json    The code &quot;97509-4&quot; is not valid in the system http://loinc.org; The code provided (http://loinc.org#97509-4) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://loinc.org#97509-4&#39;
fsh-generated/resources/StructureDefinition-mcode-cancer-disease-status.json
</code></pre></div>



<a name="258098233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/SNOMED%20Errors%20in%20qa.html/near/258098233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html#258098233">(Oct 18 2021 at 20:52)</a>:</h4>
<p><span class="user-mention" data-user-id="215604">@Saul Kravitz</span> When I build the IG locally I'm not seeing the same errors:.  The SNOMED CT errors that I'm getting are like:</p>
<div class="codehilite"><pre><span></span><code>Bundle.entry[6].resource.ofType(Procedure).extension[3].extension[1].value.ofType(CodeableConcept).coding[0] (l612/c22) error
Unable to find code 1162782007 in http://snomed.info/sct (version http://snomed.info/sct/731000124108/version/20210901); The code &quot;1162782007&quot; is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#1162782007) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://snomed.info/sct#1162782007&#39;
</code></pre></div>
<p>and I find this related line in FSH which may be the source (or one of them - there are multiple instances):</p>
<div class="codehilite"><pre><span></span><code>input/fsh/VS_Radiotherapy.fsh:* SCT#1162782007 &quot;Three dimensional external beam radiation therapy (procedure)&quot;
</code></pre></div>
<p>The code '1162782007' is not valid in either the current SNOMED CT International or US editions.  The closest related code that I've found is:</p>
<div class="codehilite"><pre><span></span><code>118641002 |Three dimensional treatment planning for external beam radiation therapy (procedure)|
</code></pre></div>
<p>Do you know what the correct code should be?</p>



<a name="258101032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/SNOMED%20Errors%20in%20qa.html/near/258101032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html#258101032">(Oct 18 2021 at 21:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> </p>
<p>It looks like the publisher is now running off of <strong>version/20210901</strong> (the error messages above indicate verson/20210301), which should resolve all of the issues for codes that are published (like the ones I noted -- 1156506007, 1156530009, and 1149099005.</p>
<p>re SCT#1162782007 "Three dimensional external beam radiation therapy... yes, I got a bit a head of myself... That will be released in January....</p>
<p>thx...</p>



<a name="258102648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/SNOMED%20Errors%20in%20qa.html/near/258102648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/SNOMED.20Errors.20in.20qa.2Ehtml.html#258102648">(Oct 18 2021 at 21:22)</a>:</h4>
<p>Yes, that seems to be the case.  So looks like things are going in the right direction. :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
