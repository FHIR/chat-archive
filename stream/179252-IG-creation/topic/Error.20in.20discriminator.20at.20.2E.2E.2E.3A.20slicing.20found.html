---
layout: page
title: "FHIR Chat  · Error in discriminator at ...: slicing found · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20discriminator.20at.20.2E.2E.2E.3A.20slicing.20found.html">Error in discriminator at ...: slicing found</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="163564783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20discriminator%20at%20...%3A%20slicing%20found/near/163564783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20discriminator.20at.20.2E.2E.2E.3A.20slicing.20found.html#163564783">(Apr 17 2019 at 14:20)</a>:</h4>
<p>Some of the examples in our mCODE IG cause errors to be reported in the qa.html file when the example contains Observation.components that have been sliced.  As best I can tell, the example is actually valid.</p>
<p>The errors look like this:</p>
<blockquote>
<p><strong>Path</strong>: Observation/mCODEGeneticVariantFoundExample01: Observation.component[1]<br>
<strong>Severity</strong>: error<br>
<strong>Message</strong>: Error in discriminator at Observation.component-GenomicSourceClass.code.coding: slicing found</p>
</blockquote>
<p>This error is repeated for each component in the example, for each component slice in the profile.  (I.e., if the profile defines 4 slices and the example contains 4 components, we'll see an error like the one above a total of 16 times).</p>
<p>Based on the error message I thought it might be because the slicing discriminator path at <code>Observation.component</code> overlaps the slicing discriminator path at <code>Observation.component.code.coding</code> -- but in reviewing the official FHIR BP profile, I see that it's done the same exact way -- so I assume it is valid.</p>
<p>Here is a screenshot of part of the FHIR BP profile (on left) and part of our profile (on right):<br>
<a href="/user_uploads/10155/ntvM7QzxtL6OwzRAfyf6uO1F/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/ntvM7QzxtL6OwzRAfyf6uO1F/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/ntvM7QzxtL6OwzRAfyf6uO1F/pasted_image.png"></a></div><p>Am I missing something or is this potentially an issue in the validator?</p>



<a name="163926885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20discriminator%20at%20...%3A%20slicing%20found/near/163926885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20discriminator.20at.20.2E.2E.2E.3A.20slicing.20found.html#163926885">(Apr 22 2019 at 18:46)</a>:</h4>
<p>This sounds like the validation error discussed in <a href="#narrow/stream/179177-conformance/topic/Java.20validator.20and.20Simplifier.20disagree.20on.20slice.20validity" title="#narrow/stream/179177-conformance/topic/Java.20validator.20and.20Simplifier.20disagree.20on.20slice.20validity">this thread</a> in which case it is actually it's actually a bug in the STU3 spec, specifically an incorrect constraint (corrected for R4). The good news is that it will be fixed in the upcoming technical correction to STU3, cf. <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20339" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20339">GF 20339</a>.</p>



<a name="163932479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20discriminator%20at%20...%3A%20slicing%20found/near/163932479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20discriminator.20at.20.2E.2E.2E.3A.20slicing.20found.html#163932479">(Apr 22 2019 at 19:53)</a>:</h4>
<p><span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> -- thank you for pointing out that thread to me.  I somehow missed it!  I'll look forward to the technical correction then!</p>



<a name="164968698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20in%20discriminator%20at%20...%3A%20slicing%20found/near/164968698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20in.20discriminator.20at.20.2E.2E.2E.3A.20slicing.20found.html#164968698">(May 06 2019 at 09:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span>  the error you describe appears also with the current validator on the official blood pressure profile with R4. I described it in <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21472" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21472">GF#21472</a>. If you change your profile to use pattern/code slicing and patternCodeableConcept within the components you can work around the error message, see:  <a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/30803a7a410bec0d9c3f52b34dd799c5aa3a9830/org.hl7.fhir.validation/src/test/resources/validation-examples/observation-bp-profile.xml" target="_blank" title="https://github.com/hapifhir/org.hl7.fhir.core/blob/30803a7a410bec0d9c3f52b34dd799c5aa3a9830/org.hl7.fhir.validation/src/test/resources/validation-examples/observation-bp-profile.xml">https://github.com/hapifhir/org.hl7.fhir.core/blob/30803a7a410bec0d9c3f52b34dd799c5aa3a9830/org.hl7.fhir.validation/src/test/resources/validation-examples/observation-bp-profile.xml</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
