---
layout: page
title: "FHIR Chat  · Unable to provide support for code system... · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html">Unable to provide support for code system...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153987018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987018">(Aug 15 2018 at 16:56)</a>:</h4>
<p>Some value sets in our IG aren't properly listing codes when the codes come from a CodeSystem also defined in the same IG.  For example:</p>
<ul>
<li>ValueSet: <a href="http://build.fhir.org/ig/HL7/us-breastcancer/ValueSet-shr-oncology-BreastSpecimenTypeVS.html" target="_blank" title="http://build.fhir.org/ig/HL7/us-breastcancer/ValueSet-shr-oncology-BreastSpecimenTypeVS.html">http://build.fhir.org/ig/HL7/us-breastcancer/ValueSet-shr-oncology-BreastSpecimenTypeVS.html</a></li>
<li>CodeSystem: <a href="http://build.fhir.org/ig/HL7/us-breastcancer/CodeSystem-shr-oncology-BreastSpecimenTypeCS.html" target="_blank" title="http://build.fhir.org/ig/HL7/us-breastcancer/CodeSystem-shr-oncology-BreastSpecimenTypeCS.html">http://build.fhir.org/ig/HL7/us-breastcancer/CodeSystem-shr-oncology-BreastSpecimenTypeCS.html</a></li>
</ul>
<p>In the "Expansion" part of the VS page, it reports:</p>
<blockquote>
<p>Error unmarshalling resource: Unable to provide support for code system <a href="http://hl7.org/fhir/us/breastcancer/CodeSystem/shr-oncology-BreastSpecimenTypeCS" target="_blank" title="http://hl7.org/fhir/us/breastcancer/CodeSystem/shr-oncology-BreastSpecimenTypeCS">http://hl7.org/fhir/us/breastcancer/CodeSystem/shr-oncology-BreastSpecimenTypeCS</a></p>
</blockquote>
<p>Note that on the code system page, however, it properly identifies the value set as referencing it.</p>
<p>Here are the value set compose rules (also <a href="https://github.com/HL7/us-breastcancer/blob/master/resources/valueset-shr-oncology-BreastSpecimenTypeVS.json#L31-L69" target="_blank" title="https://github.com/HL7/us-breastcancer/blob/master/resources/valueset-shr-oncology-BreastSpecimenTypeVS.json#L31-L69">here</a>):</p>
<div class="codehilite"><pre><span></span>  &quot;compose&quot;: {
    &quot;include&quot;: [
      {
        &quot;system&quot;: &quot;http://snomed.info/sct&quot;,
        &quot;concept&quot;: [
          {
            &quot;code&quot;: &quot;119295008&quot;,
            &quot;display&quot;: &quot;Specimen obtained by aspiration (specimen)&quot;
          },
          {
            &quot;code&quot;: &quot;16215491000119108&quot;,
            &quot;display&quot;: &quot;Specimen from breast duct obtained by excision (specimen)&quot;
          },
          {
            &quot;code&quot;: &quot;122595009&quot;,
            &quot;display&quot;: &quot;Specimen from breast obtained by total mastectomy (specimen)&quot;
          }
        ]
      },
      {
        &quot;system&quot;: &quot;http://hl7.org/fhir/us/breastcancer/CodeSystem/shr-oncology-BreastSpecimenTypeCS&quot;,
        &quot;concept&quot;: [
          {
            &quot;code&quot;: &quot;core&quot;,
            &quot;display&quot;: &quot;Core biopsy specimen&quot;
          },
          {
            &quot;code&quot;: &quot;excision&quot;,
            &quot;display&quot;: &quot;Excision specimen without wire loc&quot;
          },
          {
            &quot;code&quot;: &quot;wire&quot;,
            &quot;display&quot;: &quot;Excision specimen with wire loc&quot;
          }
        ]
      }
    ]
  }
</pre></div>



<a name="153987091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987091">(Aug 15 2018 at 20:28)</a>:</h4>
<p>I was getting that also last night - ended up also adding the expansion - that's the only way I could get rid of that error last night.... When I just had the compose it gave same error about unmarshalling... I figured it was a bit of a hack, but it got rid of my errors!</p>
<div class="codehilite"><pre><span></span>&lt;compose&gt;
    &lt;include&gt;
      &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot; /&gt;
      &lt;concept&gt;
        &lt;code value=&quot;RRVS20&quot; /&gt;
        &lt;display value=&quot;eICR was processed - with a warning&quot; /&gt;
      &lt;/concept&gt;
    &lt;/include&gt;
    &lt;include&gt;
      &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot; /&gt;
      &lt;concept&gt;
        &lt;code value=&quot;RRVS19&quot; /&gt;
        &lt;display value=&quot;eICR processed&quot; /&gt;
      &lt;/concept&gt;
    &lt;/include&gt;
    &lt;include&gt;
      &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot; /&gt;
      &lt;concept&gt;
        &lt;code value=&quot;RRVS22&quot; /&gt;
        &lt;display value=&quot;eICR was not processed - error&quot; /&gt;
      &lt;/concept&gt;
    &lt;/include&gt;
    &lt;include&gt;
      &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot; /&gt;
      &lt;concept&gt;
        &lt;code value=&quot;RRVS21&quot; /&gt;
        &lt;display value=&quot;eICR was processed - with a severe warning&quot; /&gt;
      &lt;/concept&gt;
    &lt;/include&gt;
  &lt;/compose&gt;
  &lt;expansion&gt;
    &lt;identifier value=&quot;http://hl7.org/fhir/us/ecr/ValueSet/eicr-processing-status-ecr&quot; /&gt;
    &lt;timestamp value=&quot;2017-12-27&quot; /&gt;
    &lt;contains&gt;
      &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot; /&gt;
      &lt;code value=&quot;RRVS20&quot; /&gt;
      &lt;display value=&quot;eICR was processed - with a warning&quot; /&gt;
    &lt;/contains&gt;
    &lt;contains&gt;
      &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot; /&gt;
      &lt;code value=&quot;RRVS19&quot; /&gt;
      &lt;display value=&quot;eICR processed&quot; /&gt;
    &lt;/contains&gt;
    &lt;contains&gt;
      &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot; /&gt;
      &lt;code value=&quot;RRVS22&quot; /&gt;
      &lt;display value=&quot;eICR was not processed - error&quot; /&gt;
    &lt;/contains&gt;
    &lt;contains&gt;
      &lt;system value=&quot;urn:oid:2.16.840.1.114222.4.5.274&quot; /&gt;
      &lt;code value=&quot;RRVS21&quot; /&gt;
      &lt;display value=&quot;eICR was processed - with a severe warning&quot; /&gt;
    &lt;/contains&gt;
  &lt;/expansion&gt;
</pre></div>



<a name="153987092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987092">(Aug 15 2018 at 20:32)</a>:</h4>
<p>I originally had defined the codesystem resource for that one I have referenced above, but it was causing problems in other places also (like I had given it a non-oid identifier and using that non-oid identifier in examples caused an error), so I ended up deleting it and going with the oid.... (Again, probably a hack, but no errors (and running out of time!)...)</p>



<a name="153987196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987196">(Aug 15 2018 at 23:10)</a>:</h4>
<p>what was the error?</p>



<a name="153987199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987199">(Aug 15 2018 at 23:25)</a>:</h4>
<p>Error unmarshalling resource: Unable to provide support for code system xxxx</p>



<a name="153987201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987201">(Aug 15 2018 at 23:25)</a>:</h4>
<p>In the examples though - I can't remember. Something similar - will test again and let you know.</p>



<a name="153987211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987211">(Aug 15 2018 at 23:41)</a>:</h4>
<p>Pretty sure it was just: <code>Invalid FHIR Code System http://hl7.org/fhir/us/ecr/CodeSystem/ph-phinvs-cdc</code> - even though the codeSystem existed (as a resource in the IG and the publisher published it etc.). I'd have to resurrect the codeSystem from my archive to find out for sure though. If i get some spare time after lunch, I'll give it a go.</p>



<a name="153987225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987225">(Aug 16 2018 at 00:02)</a>:</h4>
<p>so I've fixed this, but you don't have the cache files committed to git - why not? (it means I can't remove the entry from your cache)</p>



<a name="153987226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987226">(Aug 16 2018 at 00:03)</a>:</h4>
<p>that least was for <span class="user-mention" data-user-id="191469">@Chris Moesel</span></p>



<a name="153987227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987227">(Aug 16 2018 at 00:03)</a>:</h4>
<p>Because I totally removed that codeSystem</p>



<a name="153987228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987228">(Aug 16 2018 at 00:03)</a>:</h4>
<p>Oh ok</p>



<a name="153987229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987229">(Aug 16 2018 at 00:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> I fixed a problem with the expansion - if the expand referred to content that the ig publisher doesn't know, it would ask the terminology server to do the expand, and the server doesn't know the IG specific stuff. So that's sorted</p>



<a name="153987230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987230">(Aug 16 2018 at 00:04)</a>:</h4>
<p>but changing to an oid is only related to this if you basically broke  the value set inclusions while youwere at it</p>



<a name="153987231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987231">(Aug 16 2018 at 00:05)</a>:</h4>
<p>Ok, I'll have a play with it later...</p>



<a name="153987324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987324">(Aug 16 2018 at 02:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- we can probably check in the cache if you'd like.  Since we generate the whole IG from our tooling every time, the cache gets blown away when we regenerate.  I've got it on my list to try to find a way to handle that better in the future, but I can do a bit more of a manual process for now so the cache gets checked in.</p>



<a name="153987327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987327">(Aug 16 2018 at 03:19)</a>:</h4>
<p>well, keeping the cache will make a real difference to your performance and reduce the load on <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a></p>



<a name="153987397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20provide%20support%20for%20code%20system.../near/153987397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20provide.20support.20for.20code.20system.2E.2E.2E.html#153987397">(Aug 16 2018 at 05:41)</a>:</h4>
<p>Confirmed fixed on my end.  Thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
