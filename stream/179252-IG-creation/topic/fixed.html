---
layout: page
title: "FHIR Chat  · fixed · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html">fixed</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203668606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/203668606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#203668606">(Jul 13 2020 at 00:36)</a>:</h4>
<p>I'm getting this error:</p>
<blockquote>
<p>Unsupported fixed pattern type for discriminator(system) for slice Location.identifier:HpifacId: org.hl7.fhir.r5.model.UriType</p>
</blockquote>
<p>Here's a snippet from the SD: (I've tried both pattern and value discriminators)</p>
<div class="codehilite"><pre><span></span><code>{
        &quot;id&quot;: &quot;Location.identifier&quot;,
        &quot;path&quot;: &quot;Location.identifier&quot;,
        &quot;slicing&quot;: {
          &quot;discriminator&quot;: [
            {
              &quot;type&quot;: &quot;value&quot;,
              &quot;path&quot;: &quot;use&quot;
            },
            {
              &quot;type&quot;: &quot;value&quot;,
              &quot;path&quot;: &quot;system&quot;
            }
          ],
          &quot;rules&quot;: &quot;openAtEnd&quot;
        }
      },
      {
        &quot;id&quot;: &quot;Location.identifier:HpifacId&quot;,
        &quot;path&quot;: &quot;Location.identifier&quot;,
        &quot;sliceName&quot;: &quot;HpifacId&quot;,
        &quot;short&quot;: &quot;The current Facility id for this location&quot;,
        &quot;min&quot;: 0,
        &quot;max&quot;: &quot;1&quot;,
        &quot;mustSupport&quot;: true
      },
      {
        &quot;id&quot;: &quot;Location.identifier:HpifacId.use&quot;,
        &quot;path&quot;: &quot;Location.identifier.use&quot;,
        &quot;min&quot;: 1,
        &quot;fixedCode&quot;: &quot;official&quot;
      },
      {
        &quot;id&quot;: &quot;Location.identifier:HpifacId.system&quot;,
        &quot;path&quot;: &quot;Location.identifier.system&quot;,
        &quot;min&quot;: 1,
        &quot;patternUri&quot;: &quot;https://standards.digital.health.nz/ns/hpi-facility-id&quot;
      },
      {
</code></pre></div>



<a name="203668693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/203668693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#203668693">(Jul 13 2020 at 00:39)</a>:</h4>
<p>FWIW: Here's the FSH I used:  (and tried with and without the (exactly) keyword</p>
<div class="codehilite"><pre><span></span><code>* identifier ^slicing.discriminator.type = #value
* identifier ^slicing.discriminator.path = &quot;use&quot;

* identifier ^slicing.discriminator[1].type = #value
* identifier ^slicing.discriminator[1].path = &quot;system&quot;

* identifier ^slicing.rules = #openAtEnd

* identifier contains
    HpifacId 0..1 MS and
    dormantHpiFacId 0..* MS and
    MOHFacId 0..1 MS

* identifier[HpifacId].system = &quot;https://standards.digital.health.nz/ns/hpi-facility-id&quot;
* identifier[HpifacId].use = #official (exactly)
* identifier[HpifacId] ^short = &quot;The current Facility id for this location&quot;
</code></pre></div>



<a name="203668899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/203668899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#203668899">(Jul 13 2020 at 00:44)</a>:</h4>
<p>it's unusual to have a pattern value for a primitive</p>



<a name="203669167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/203669167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#203669167">(Jul 13 2020 at 00:53)</a>:</h4>
<p>but, sure, I'll add support for it in the next release</p>



<a name="203669565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/203669565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#203669565">(Jul 13 2020 at 01:04)</a>:</h4>
<p>Is that not value?</p>



<a name="203669568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/203669568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#203669568">(Jul 13 2020 at 01:05)</a>:</h4>
<p>ie where's the pattern coming from?</p>



<a name="203669720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/203669720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#203669720">(Jul 13 2020 at 01:09)</a>:</h4>
<p>the profile, presumably</p>



<a name="203670087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/203670087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#203670087">(Jul 13 2020 at 01:19)</a>:</h4>
<p>I did set the discriminator type to 'value' - not 'pattern' - (see snippet above) so a bit confused TBH. Never mind, as long as it's not a show stopper error...</p>



<a name="204029503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/204029503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#204029503">(Jul 16 2020 at 00:11)</a>:</h4>
<p>Did you try: * identifier[HpifacId].system = "<a href="https://standards.digital.health.nz/ns/hpi-facility-id">https://standards.digital.health.nz/ns/hpi-facility-id</a>" (exactly)</p>



<a name="204128448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/204128448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#204128448">(Jul 16 2020 at 19:06)</a>:</h4>
<p>pretty sure I did - but will confirm...</p>



<a name="204130144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/204130144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#204130144">(Jul 16 2020 at 19:19)</a>:</h4>
<p>Actually - that fixed it! Thanks <span class="user-mention" data-user-id="191387">@Keith Boone</span> It actually needed (exactly) on both system and use:</p>
<div class="codehilite"><pre><span></span><code>* identifier[HpifacId].system = &quot;https://standards.digital.health.nz/ns/hpi-facility-id&quot; (exactly)
* identifier[HpifacId].use = #official (exactly)
* identifier[HpifacId] ^short = &quot;The current Facility id for this location&quot;
</code></pre></div>



<a name="204136433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/204136433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#204136433">(Jul 16 2020 at 20:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/fixed/near/203668899">said</a>:</p>
<blockquote>
<p>it's unusual to have a pattern value for a primitive</p>
</blockquote>
<p>Actually, I think <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> convinced me this was the best approach, otherwise you are denying implementors the opportunity to apply an <code>extension</code> or <code>id</code> to the primitive value.</p>



<a name="204157879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/204157879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#204157879">(Jul 16 2020 at 23:59)</a>:</h4>
<p>I think that you generally do want to  do that</p>



<a name="204157888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/204157888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#204157888">(Jul 16 2020 at 23:59)</a>:</h4>
<p>but not always, I agree</p>



<a name="204198282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fixed/near/204198282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fixed.html#204198282">(Jul 17 2020 at 12:13)</a>:</h4>
<p>Good to hear.  I was having a VERY similar problem, and thanks to you, was able to track it back to the fixed/pattern discussions eslewhere, so in a way, you helped me too!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
