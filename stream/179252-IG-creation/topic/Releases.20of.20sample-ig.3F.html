---
layout: page
title: "FHIR Chat  · Releases of sample-ig? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html">Releases of sample-ig?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221797916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221797916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221797916">(Jan 06 2021 at 17:42)</a>:</h4>
<p>For <a href="https://github.com/fhir/sample-ig">https://github.com/fhir/sample-ig</a> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, would you be OK with using tagged releases? Several tools are grabbing .sh scripts from this repo and running them, but I'd feel a lot more comfortable if I could reference a specific rlease rather than "whatever's on master".</p>



<a name="221802950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221802950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221802950">(Jan 06 2021 at 18:23)</a>:</h4>
<p>Can you expand on what that would mean?  You mean that we would just tag the version we wanted systems to grab rather than bringing down current?  In what situations would we not put that tag on current?</p>



<a name="221824549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221824549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221824549">(Jan 06 2021 at 21:15)</a>:</h4>
<p>Git tags are "sticky" -- once you apply them, you don't move them. Then, a tagged commit can be used to generate a "release" in github, which gets a downloadable structure that folks can refer to. (If <strong>every</strong> commit you make on <code>master</code> is seeing careful review and can be used/trusted by everyone in the community, then every commit could be tagged with an incremented version and associated with a release.)</p>



<a name="221840089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221840089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221840089">(Jan 06 2021 at 23:55)</a>:</h4>
<p>When a user runs the _updatePublisher, should they be asked to point to a specific release? <br>
Or would we have a command line argument?</p>



<a name="221842485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221842485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221842485">(Jan 07 2021 at 00:24)</a>:</h4>
<p>I think of _updatePublisher just like _genOnce, and so on; users would fetch the "set of scripts" in a versioned release, and update to a newer set when they chose. It gets complicated because some of these scripts update themselves, which is behavior I'd personally not want to opt into.</p>



<a name="221842788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221842788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221842788">(Jan 07 2021 at 00:28)</a>:</h4>
<p>I'm trying to figure out the desired behaviour to see if it makes sense. <br>
There should be no issue to point the _updatePublisher to a specific release, but I think we want to support updates, right? <br>
For example if I'm using the scripts v1.0.0, when there's a v1.0.1, do we update?</p>



<a name="221844290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221844290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221844290">(Jan 07 2021 at 00:49)</a>:</h4>
<p>I'd expect that to be a user's choice, but sure it should be an option.</p>



<a name="221844341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221844341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221844341">(Jan 07 2021 at 00:50)</a>:</h4>
<p>(I'd expect users to update as an explicit, intentional step.)</p>



<a name="221844352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221844352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221844352">(Jan 07 2021 at 00:50)</a>:</h4>
<p>(Like updating a template, I guess.)</p>



<a name="221851496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221851496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221851496">(Jan 07 2021 at 02:54)</a>:</h4>
<p>I think the big question is "what should the review process be for the scripts to be deemed 'trusted'".  The tagging question would be secondary.  (Though moving the scripts to a stand-alone Git project that could have a formal pull request review process might be a good idea.)</p>



<a name="221852912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221852912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221852912">(Jan 07 2021 at 03:24)</a>:</h4>
<p>Yes, standalone repo would be nice. That way folks who wanted to could pull it into their IGs as a submodule or subtree (without getting a bunch of sample ig content in the process).</p>



<a name="221852923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221852923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221852923">(Jan 07 2021 at 03:24)</a>:</h4>
<p>And yeah, the trust is a big deal on these since folks are automatically downloading and executing code in them.</p>



<a name="221852993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221852993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221852993">(Jan 07 2021 at 03:26)</a>:</h4>
<p>(Would be good to enable master branch protections, require review before merges, prevent force pushes, and limit editors with write permissions.)</p>



<a name="221853287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221853287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221853287">(Jan 07 2021 at 03:33)</a>:</h4>
<p>How many reviews should there be before a commit can be merged to main, and thoughts on who we might want those folks to be?</p>



<a name="221939161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221939161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221939161">(Jan 07 2021 at 13:07)</a>:</h4>
<p>If you're looking for volunteers to help with this, I'd be glad to help!</p>



<a name="221944803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221944803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221944803">(Jan 07 2021 at 14:05)</a>:</h4>
<p>I think the default should be to use current stable... otherwise we get people who unknowingly get stuck behind.   Our hope is to have more than the current 6 people doing Implementation Guide creation, so we need to make it easier, not harder.</p>



<a name="221949246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221949246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221949246">(Jan 07 2021 at 14:45)</a>:</h4>
<p>current stable, i think, would be the latest tag</p>



<a name="221949503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221949503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221949503">(Jan 07 2021 at 14:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/221852912">said</a>:</p>
<blockquote>
<p>Yes, standalone repo would be nice. That way folks who wanted to could pull it into their IGs as a submodule or subtree (without getting a bunch of sample ig content in the process).</p>
</blockquote>
<p>I think a standard repo is a good thing.</p>



<a name="221949581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221949581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221949581">(Jan 07 2021 at 14:47)</a>:</h4>
<p>For avoiding the sample ig content, I made a barebones github template - only the necessary files for all IGs in an organization. Sort of an "IG content template". This way we can create a full IG repo in a much shorter time, no need to delete any content.</p>



<a name="221949810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221949810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221949810">(Jan 07 2021 at 14:49)</a>:</h4>
<p>(if sushi had this function, it would be something like "sushi --init - template=ihe.empty-ig")</p>



<a name="221962242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221962242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221962242">(Jan 07 2021 at 16:16)</a>:</h4>
<blockquote>
<p>How many reviews should there be</p>
</blockquote>
<p>Let's start with one?</p>



<a name="221963026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221963026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221963026">(Jan 07 2021 at 16:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> I think the scripts should be separated from a minimum IG.  The level of review we need for IG starter files is different.  We can update the scripts for the starter IG by just running the "Update scripts" and then committing them.</p>



<a name="221963175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221963175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221963175">(Jan 07 2021 at 16:23)</a>:</h4>
<p>Yes, I'm good with that.</p>



<a name="221976572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221976572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221976572">(Jan 07 2021 at 17:54)</a>:</h4>
<p>Ok, done.  Jose, Josh, initial pull request is here for review.  Josh, if you can check that I've got the settings sufficiently tight, that'd be wonderful<br>
<a href="https://github.com/HL7/ig-publisher-scripts/pull/1">https://github.com/HL7/ig-publisher-scripts/pull/1</a></p>



<a name="221977299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221977299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221977299">(Jan 07 2021 at 17:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> -- I just pulled down your branch on my mac and noted that the <code>*.sh</code> files don't have their executable bit set.  Is it possible to <code>chmod 755</code> those <code>*.sh</code> files and push up another commit?</p>



<a name="221978646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221978646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221978646">(Jan 07 2021 at 18:08)</a>:</h4>
<p>i don't know the permissions now but i presume chmod +x is (also) what we need, right?</p>



<a name="221981974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221981974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221981974">(Jan 07 2021 at 18:33)</a>:</h4>
<p>Either <code>chmod 755</code> or <code>chmod +x</code> should get you to the same place...at least the <code>.sh</code> files in the IGs I work on are set to <code>755</code></p>



<a name="221983444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221983444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221983444">(Jan 07 2021 at 18:45)</a>:</h4>
<p>I finally could commit. <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> care to review?</p>



<a name="221984301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221984301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221984301">(Jan 07 2021 at 18:52)</a>:</h4>
<p>Can someone please check if they are executable yet?</p>



<a name="221985230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/221985230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#221985230">(Jan 07 2021 at 18:59)</a>:</h4>
<p>Merged</p>



<a name="222001302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222001302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222001302">(Jan 07 2021 at 21:10)</a>:</h4>
<p>I have confirmed that the  <code>.sh</code> scripts _are_ executable in the main branch.  Thanks all!</p>



<a name="222003029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222003029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222003029">(Jan 07 2021 at 21:24)</a>:</h4>
<p>Protection rules look good <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , thanks!</p>



<a name="222003045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222003045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222003045">(Jan 07 2021 at 21:24)</a>:</h4>
<p>It's also great to have this as a standalone repo.</p>



<a name="222004841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222004841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222004841">(Jan 07 2021 at 21:38)</a>:</h4>
<p><code>sushi --init</code> currently downloads the scripts from the sample IG.  We'll have to update SUSHI to pull them from here instead.  When do you anticipate <em>removing</em> those scripts from <code>sample-ig</code>?</p>



<a name="222005889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222005889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222005889">(Jan 07 2021 at 21:47)</a>:</h4>
<p>as soon as we find a good way to handle their replacement. I'm now looking at submodules</p>



<a name="222006059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222006059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222006059">(Jan 07 2021 at 21:49)</a>:</h4>
<p>I have an example at <a href="https://github.com/HL7/smart-app-launch">https://github.com/HL7/smart-app-launch</a></p>
<p>(but to <span class="user-mention" data-user-id="191469">@Chris Moesel</span>'s point, we don't want to break people using an installed version of sushi. Maybe even good to add some "deprecation warning" printouts in the scripts hosted in sample-ig, with a note like "if you're using sushi &lt;= version X, you should update".)</p>



<a name="222006839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222006839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222006839">(Jan 07 2021 at 21:55)</a>:</h4>
<p>this is my struggle with submodules - i can add them in a "scripts" folder, but for backwards compatibility i'd need it to be on the root</p>



<a name="222006869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222006869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222006869">(Jan 07 2021 at 21:55)</a>:</h4>
<p>Don't think you can do that.</p>



<a name="222006888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222006888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222006888">(Jan 07 2021 at 21:55)</a>:</h4>
<p>i'm learning that :)</p>



<a name="222007061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222007061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222007061">(Jan 07 2021 at 21:56)</a>:</h4>
<p>whatever comes out of this, we will indeed need a tag to signal this change</p>



<a name="222008970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222008970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222008970">(Jan 07 2021 at 22:11)</a>:</h4>
<p>Exploring ideas: </p>
<ol>
<li>Just remove the scripts, and update documentation to explain why things are failing.</li>
<li>keep the scripts, just have them self-update from the new location</li>
<li>replace the script in sample-ig with a simpler one that doesn't do anything except redirect the user to the "proper" ones. </li>
</ol>
<div class="codehilite"><pre><span></span><code>echo &quot;The scripts you need are located here https://.....
</code></pre></div>



<a name="222009183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222009183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222009183">(Jan 07 2021 at 22:13)</a>:</h4>
<p>#2 means that everything still works as before, and after running _updatePublisher 1 or 2 times, every ig will be up to date with the proper scripts from the proper location.  But this means one more thing to keep in sync, because submodules don't work</p>



<a name="222024054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222024054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222024054">(Jan 08 2021 at 01:15)</a>:</h4>
<p>I have no idea if this would work (or what it means for Windows), but can you replace the existing scripts with symlinks to the scripts in the submodule?</p>



<a name="222026524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222026524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222026524">(Jan 08 2021 at 02:03)</a>:</h4>
<p>Don't think you can do that on Windows.  They'd also fail if you weren't online, which would suck...</p>



<a name="222047079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222047079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222047079">(Jan 08 2021 at 08:20)</a>:</h4>
<p>I tried symlinks on Windows, it kind of works, but it's messy to put in github. Besides, I expect issues  when users get it from github (somehow the links become absolute, they should be relative).</p>



<a name="222060582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222060582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222060582">(Jan 08 2021 at 11:12)</a>:</h4>
<p>I would avoid git submodules if possible...I doubt most IG authors are familiar with them, and they add complexity to standard operations. For example <code>git clone git@github.com:HL7/some-ig.git</code> would no longer produce a local clone with the scripts in place. Users would have to add <code>--recursive</code> to the clone command or subsequently run <code>git submodule update --init --recursive</code>.</p>



<a name="222062547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222062547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222062547">(Jan 08 2021 at 11:38)</a>:</h4>
<p>Right. I am trying subtree which seems to be working (at least the commits and pushes)</p>



<a name="222063884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222063884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222063884">(Jan 08 2021 at 11:55)</a>:</h4>
<p><span class="user-mention" data-user-id="322501">@Max Masnick</span> do you want to see if it works?</p>



<a name="222063925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222063925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222063925">(Jan 08 2021 at 11:55)</a>:</h4>
<p><a href="https://github.com/costateixeira/sample-ig/tree/subtree">https://github.com/costateixeira/sample-ig/tree/subtree</a></p>



<a name="222063985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222063985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222063985">(Jan 08 2021 at 11:56)</a>:</h4>
<p>Sure, one sec...</p>



<a name="222064006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222064006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222064006">(Jan 08 2021 at 11:56)</a>:</h4>
<p>this has to work for any git client, OR for downloading the zip file (submodules don't work there)</p>



<a name="222064045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222064045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222064045">(Jan 08 2021 at 11:57)</a>:</h4>
<p>the only thing I need to check is whether the scripts will be automatically updated when we update the  main repo</p>



<a name="222064058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222064058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222064058">(Jan 08 2021 at 11:57)</a>:</h4>
<p>I don't think I've heard of <code>git subtree</code> before...wonder what else is lurking in git that I should know about :)</p>



<a name="222064238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222064238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222064238">(Jan 08 2021 at 11:59)</a>:</h4>
<p>i also hadn't until this morning :)</p>



<a name="222065172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222065172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222065172">(Jan 08 2021 at 12:09)</a>:</h4>
<p>Ok so I did:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ git clone git@github.com:costateixeira/sample-ig.git
$ git checkout -b subtree origin/subtree
</code></pre></div>
<p>The <code>scripts/</code> folder appeared and <code>scripts/_updatePublisher.sh</code> and <code>scripts/_genonce.sh</code> both ran (though the IG Publisher crashed at the end, presumably for an unrelated reason).</p>



<a name="222065263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222065263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222065263">(Jan 08 2021 at 12:10)</a>:</h4>
<p>I assume if this was in the main branch, then <code>git clone ...</code> would work just like ↑ but without any additional commands</p>



<a name="222065499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222065499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222065499">(Jan 08 2021 at 12:13)</a>:</h4>
<p>A small request: can you call the sub-folder <code>script/</code> rather than <code>scripts/</code>? This matches the other folders (input, output, etc.) which are singular.</p>



<a name="222065523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222065523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222065523">(Jan 08 2021 at 12:13)</a>:</h4>
<p>(It also matches my Ruby on Rails muscle-memory for <code>script/generate</code> <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> )</p>



<a name="222066223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222066223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222066223">(Jan 08 2021 at 12:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>  Are you planning to make the subtree self-updating? (As in automatically pull down changes when <code>HL7/ig-publisher-scripts</code> has a new tagged release?) I've done this before with scripts in a git repo and it works quite nicely, but I've never done it with subtrees.</p>



<a name="222066576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222066576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222066576">(Jan 08 2021 at 12:27)</a>:</h4>
<p>the goal is to use ./_genonce, not scripts/_genonce<br>
(i only made that for .bat)</p>



<a name="222066609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222066609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222066609">(Jan 08 2021 at 12:27)</a>:</h4>
<p>i can change to script, no issue</p>



<a name="222066671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222066671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222066671">(Jan 08 2021 at 12:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="322501">Max Masnick</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222066223">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span>  Are you planning to make the subtree self-updating? (As in automatically pull down changes when <code>HL7/ig-publisher-scripts</code> has a new tagged release?) I've done this before with scripts in a git repo and it works quite nicely, but I've never done it with subtrees.</p>
</blockquote>
<p>that would be good indeed, if I knew how...</p>



<a name="222066819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222066819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222066819">(Jan 08 2021 at 12:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222066671">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="322501">Max Masnick</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222066223">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span>  Are you planning to make the subtree self-updating? (As in automatically pull down changes when <code>HL7/ig-publisher-scripts</code> has a new tagged release?) I've done this before with scripts in a git repo and it works quite nicely, but I've never done it with subtrees.</p>
</blockquote>
<p>that would be good indeed, if I knew how...</p>
</blockquote>
<p>Yeah it may be tricky with subtrees because from what I can tell, the commit hashes won't be preserved between <code>ig-publisher-scripts</code> and whatever IG repo the subtree is created in.</p>



<a name="222067088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222067088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222067088">(Jan 08 2021 at 12:34)</a>:</h4>
<p>The simplest thing would be to have a <code>version.json</code> file or something in <code>ig-publisher-scripts</code>, which would get bumped as part of the release process. Then <code>_genonce</code> could check this against the tags on <code>https://github.com/HL7/ig-publisher-scripts</code>. If there's a bigger version number in a tag on <code>main</code>, then that would trigger an update. I <em>think</em> this will work <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> </p>
<p>Looking at <a href="https://blog.developer.atlassian.com/the-power-of-git-subtree/">https://blog.developer.atlassian.com/the-power-of-git-subtree/</a>, it seems like the command for updating the subtree will be something like <code>git subtree pull --prefix script https://github.com/HL7/ig-publisher-scripts.git master --squash</code>, which is probably not something users should ever have to type in themselves...so some sort of updating mechanism seems important from a UX perspective.</p>



<a name="222070149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222070149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222070149">(Jan 08 2021 at 13:11)</a>:</h4>
<p>or this<br>
<a href="https://github.com/xedi/action-subtree-sync">https://github.com/xedi/action-subtree-sync</a></p>



<a name="222070292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222070292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222070292">(Jan 08 2021 at 13:13)</a>:</h4>
<p>Interesting...so could be set as a hook for every push or something?</p>



<a name="222070818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222070818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222070818">(Jan 08 2021 at 13:19)</a>:</h4>
<p>maybe (i'm just learning about this)</p>



<a name="222071501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222071501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222071501">(Jan 08 2021 at 13:26)</a>:</h4>
<p>I think there are a lot of different ways to accomplish this...another would be using local <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">git hooks</a>. I just worry about the usability of anything involving git, especially anything that goes beyond the basics.</p>
<p>Even with <code>git subtree</code>, there may be some sharp edges...what if someone changes a file in <code>script/</code>? Would we want updates to overwrite any local changes automatically? I don't think it's a good idea to put users in the position of dealing with a merge inside the subtree.</p>



<a name="222071940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222071940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222071940">(Jan 08 2021 at 13:31)</a>:</h4>
<p>especially when these scripts are just a simple thing to facilitate lanching the publisher.. I would like feedback to see what is the preferred goal here. <br>
My view is that we can do something as long as it's hit and forget. I don't expect the scripts to change often. putting them on a separate repo makes sense, but it should remain simple to use and maintain.</p>



<a name="222076744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222076744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222076744">(Jan 08 2021 at 14:18)</a>:</h4>
<p>I think it would be helpful to do two things:</p>
<ol>
<li>Tell users when there is an update available (same for <code>publisher.jar</code>...it's easy to fall behind the most recent release, especially when working on multiple projects that each have their own <code>publisher.jar</code>)</li>
<li>Provide an easy path to doing the update (could be as simple as telling the user to run <code>_updatePublisher</code>, modified to work with the subtree if we go that route)</li>
</ol>
<p>#1 would have been pretty difficult prior to moving the scripts to <a href="https://github.com/HL7/ig-publisher-scripts">https://github.com/HL7/ig-publisher-scripts</a>, and if the scripts have to be modified anyway to work with this new repo, I think this is a good opportunity to do it.</p>



<a name="222076973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222076973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222076973">(Jan 08 2021 at 14:20)</a>:</h4>
<p>I actually wrote a wrapper around <code>_genonce.sh</code> to provide system notifications when an IG build finishes, and I added in update notifications for <code>publisher.jar</code>...the notifications are quite handy in practice, especially when there are frequent <code>publisher.jar</code> updates:</p>
<p><a href="/user_uploads/10155/sDz3SQeUW056m8mAuxFsa-Zb/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/sDz3SQeUW056m8mAuxFsa-Zb/image.png" title="image.png"><img src="/user_uploads/10155/sDz3SQeUW056m8mAuxFsa-Zb/image.png"></a></div>



<a name="222077834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222077834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222077834">(Jan 08 2021 at 14:27)</a>:</h4>
<p>Unless there's a mechanism to prompt users when the build scripts are updated, folks will end up accidentally running old versions of the scripts -- especially if the updates are really infrequent. This will be problematic if there's ever a need for a critical update to fix a bug or security issue.</p>



<a name="222078203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222078203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222078203">(Jan 08 2021 at 14:30)</a>:</h4>
<p>we could incorporate those checks in _updatePublisher. And possibly in _genonce.</p>



<a name="222088057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222088057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222088057">(Jan 08 2021 at 15:53)</a>:</h4>
<p>It would be great if they could go in _genonce. I think this is the best path to keeping everything up to date.</p>



<a name="222088191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222088191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222088191">(Jan 08 2021 at 15:54)</a>:</h4>
<p>_genOnce could do a check, and call _updatePublisher if needed.</p>



<a name="222088230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222088230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222088230">(Jan 08 2021 at 15:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> thoughts?</p>



<a name="222088350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222088350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222088350">(Jan 08 2021 at 15:55)</a>:</h4>
<p><span class="user-mention" data-user-id="322501">@Max Masnick</span> how can we implement such check (in windows .bat language)?</p>



<a name="222088999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222088999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222088999">(Jan 08 2021 at 15:59)</a>:</h4>
<p>I don’t know anything about .bat implementation off the top of my head, but I can investigate. I was actually getting set up to work on testing something in .bat for Windows anyway, so I can look at this too if it can wait until next week</p>



<a name="222090861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222090861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222090861">(Jan 08 2021 at 16:12)</a>:</h4>
<p>how did you implement this ? I'd presume you get the remote json and somehow parse it. The parsing bit I don't know how to do</p>



<a name="222094530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222094530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222094530">(Jan 08 2021 at 16:42)</a>:</h4>
<p>The desire is to separate the 'update' step from the 'generate' step.  Updating can take a long time and can sometimes grab a copy of the publisher known to be broken.  The current design where if you gen with something that's out-of-date you get a warning, but <em>you</em> are in control of if/when updates happen is the preferred approach.</p>



<a name="222094549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222094549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222094549">(Jan 08 2021 at 16:42)</a>:</h4>
<p>(in my opinion)</p>



<a name="222105229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105229">(Jan 08 2021 at 18:04)</a>:</h4>
<p>I agree with Lloyd...having a clear indication of when the scripts need to be updated, but leaving the timing of the update in the user's hands is preferable.</p>
<p>(Real life example: I'm currently a point release behind on publisher.jar because it introduces a bug, but I still want to be reminded of that each time I run <code>_genonce</code> so I can update with the next release.)</p>



<a name="222105548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105548">(Jan 08 2021 at 18:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222090861">said</a>:</p>
<blockquote>
<p>how did you implement this ? I'd presume you get the remote json and somehow parse it. The parsing bit I don't know how to do</p>
</blockquote>
<p>There's two parts: </p>
<ol>
<li>Grab the current version data from GitHub: <code>PUBLISHER_VERSION_GITHUB=$(curl -vs "https://api.github.com/repos/HL7/fhir-ig-publisher/releases?per_page=1" 2&gt;&amp;1 | grep '^    "name":' | sed 's/[ \t]*"name": "\(.*\)",/\1/')</code></li>
<li>Get the current version of publisher.jar: <code>PUBLISHER_VERSION_JAR=$((java -jar input-cache/publisher.jar -version || true) 2&gt;&amp;1 | grep "FHIR IG Publisher Version" | sed 's/.*Version \([0-9.]*\).*/\1/')</code> (there's probably a better way to do this, but this was easy and it works)</li>
</ol>



<a name="222105641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105641">(Jan 08 2021 at 18:08)</a>:</h4>
<p>I was thinking of a warning at the end of _genOnce - after all is done, we say "this was generated with an old version..."</p>



<a name="222105672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105672">(Jan 08 2021 at 18:08)</a>:</h4>
<p>you don't really need that because the qa.html tells you that</p>



<a name="222105678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105678">(Jan 08 2021 at 18:08)</a>:</h4>
<p>nice - sed, grep, curl - all things that we don't have</p>



<a name="222105686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105686">(Jan 08 2021 at 18:08)</a>:</h4>
<p>Yeah :(</p>



<a name="222105698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105698">(Jan 08 2021 at 18:08)</a>:</h4>
<p>qa.html tells about the old version of the publisher, not the script</p>



<a name="222105719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105719">(Jan 08 2021 at 18:09)</a>:</h4>
<p>(not that it matters a lot)</p>



<a name="222105844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222105844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222105844">(Jan 08 2021 at 18:10)</a>:</h4>
<p>And I would argue this belongs in the terminal output if possible -- it should be visible in the interface where the commands are run (the terminal/command prompt) rather than having to go somewhere else</p>



<a name="222106091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222106091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222106091">(Jan 08 2021 at 18:12)</a>:</h4>
<p>Making the update check as part of the script also gives us the opportunity to offer to run the update for the user (or tell them how)...this is more important for the scripts than <code>publisher.jar</code> because it's not as simple as downloading/replacing <code>publisher.jar</code></p>



<a name="222106580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222106580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222106580">(Jan 08 2021 at 18:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="322501">Max Masnick</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222067088">said</a>:</p>
<blockquote>
<p>The simplest thing would be to have a <code>version.json</code> file or something in <code>ig-publisher-scripts</code>, which would get bumped as part of the release process. Then <code>_genonce</code> could check this against the tags on <code>https://github.com/HL7/ig-publisher-scripts</code>. If there's a bigger version number in a tag on <code>main</code>, then that would trigger an update. I <em>think</em> this will work <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> </p>
</blockquote>
<p>if we make that version.txt, we can do something with ms-dos</p>



<a name="222106900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222106900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222106900">(Jan 08 2021 at 18:19)</a>:</h4>
<p>(and it would be "if there is a different number", not "there is a bigger number".</p>



<a name="222106931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222106931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222106931">(Jan 08 2021 at 18:19)</a>:</h4>
<p>that should be doable.</p>



<a name="222107072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222107072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222107072">(Jan 08 2021 at 18:20)</a>:</h4>
<p>So where is this landing? I know a few things we can do, but to change anything we need to settle on what we want to do</p>



<a name="222114489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222114489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222114489">(Jan 08 2021 at 19:25)</a>:</h4>
<p>Old version of the script generally isn't that big an issue.  If it works, it's probably ok</p>



<a name="222118366"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222118366" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222118366">(Jan 08 2021 at 20:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222107072">said</a>:</p>
<blockquote>
<p>So where is this landing? I know a few things we can do, but to change anything we need to settle on what we want to do</p>
</blockquote>
<p>Since it's probably not too hard to do the version checking as Jose described above, I personally think it's worth putting that in. I'm a big believer in setting up tooling to help users do the right thing, and if the "right thing" is updating these scripts if there are changes, having the update checking built in will help a lot.</p>
<p>For actually updating the scripts, I think continuing to use <code>_updatePublisher</code> as-is may make sense for IG authors. Unless I'm missing something, IG authors won't see any major benefits from using <code>git subtree</code> -- but I could be missing something here.</p>
<p>For the <code>FHIR/sample-ig</code> project, I think <code>git subtree</code> should be used as it will be helpful in updating the included scripts in a consistent way.</p>



<a name="222118504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222118504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222118504">(Jan 08 2021 at 20:02)</a>:</h4>
<p>I more or less have the code for doing the update checking in <code>sh</code> so I'm happy to contribute that part. I can also help on the Windows side but I'm definitely not a batch file expert.</p>



<a name="222119567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222119567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222119567">(Jan 08 2021 at 20:12)</a>:</h4>
<p>The "are you up to date" checking is built into the base template.  I don't see a reason to add a redundant call to put it in the script too.</p>



<a name="222119728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222119728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222119728">(Jan 08 2021 at 20:14)</a>:</h4>
<p>i already said that and they pooh-poohed me :)</p>



<a name="222119879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222119879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222119879">(Jan 08 2021 at 20:15)</a>:</h4>
<p>For the update checking, I'm talking about checking for updates to the contents of <a href="https://github.com/HL7/ig-publisher-scripts">https://github.com/HL7/ig-publisher-scripts</a>, not <code>publisher.jar</code></p>



<a name="222120099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222120099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222120099">(Jan 08 2021 at 20:17)</a>:</h4>
<p>We don't really care if the scripts are up-to-date.  The scripts don't influence the publication.  The only negative consequence of out-of-date scripts is that if something major changes, they start to fail - which itself provides a pretty strong indication you should try updating the scripts :)  Also, the publisher changes <em>far</em> more often than the scripts do, so being notified that the publisher has changed is generally enough to trigger someone to update the scripts at the same time.</p>



<a name="222120341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222120341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222120341">(Jan 08 2021 at 20:19)</a>:</h4>
<p>Maybe <code>_updatePublisher</code> could do the update check for the scripts then, and directly warn users if they were out of date.</p>
<p>This wasn't really possible until the scripts were in a separate repo, but now that they are it still seems worth doing to me.</p>



<a name="222120497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222120497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222120497">(Jan 08 2021 at 20:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192166">Jean Duteau</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222119728">said</a>:</p>
<blockquote>
<p>i already said that and they pooh-poohed me :)</p>
</blockquote>
<p>I agree there's no point in duplicating the <code>publisher.jar</code> check. I didn't realize the out-of-date publisher warning showed up in <code>qa.txt</code> until now, but since it does that makes it easy to programmatically check for updates.</p>



<a name="222121247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222121247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222121247">(Jan 08 2021 at 20:26)</a>:</h4>
<p>There is currently no version control on the scripts. If we want the scripts to have some sort of check, it makes sense only if it is very simple or if it prevents us from having to maintain updates in 2 places</p>



<a name="222121560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222121560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222121560">(Jan 08 2021 at 20:29)</a>:</h4>
<p>My concern is about the scripts being on the root folder of sample-ig - and we may need to put it inside a folder if we want to keep only one source.</p>



<a name="222122549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222122549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222122549">(Jan 08 2021 at 20:37)</a>:</h4>
<p>We want the warning to show up in the qa.html, not elsewhere.  The qa.html is part of the publication and it needs to be there for external review purposes.  So moving it isn't an option.  I don't understand why we'd want to duplicate it.</p>



<a name="222122708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222122708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222122708">(Jan 08 2021 at 20:38)</a>:</h4>
<p>Note that we don't have to put the scripts in the sample-ig at all if it's too hard.  Simply providing guidance in the readme that explains where to download the desired 'upload scripts' script is sufficient if we can't find an automated way to make it work.</p>



<a name="222122962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222122962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222122962">(Jan 08 2021 at 20:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222122549">said</a>:</p>
<blockquote>
<p>We want the warning to show up in the qa.html, not elsewhere.  The qa.html is part of the publication and it needs to be there for external review purposes.  So moving it isn't an option.  I don't understand why we'd want to duplicate it.</p>
</blockquote>
<p>You're talking about the <code>publisher.jar</code> version check? I'm not suggesting that should be moved or duplicated</p>



<a name="222123261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222123261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222123261">(Jan 08 2021 at 20:43)</a>:</h4>
<p>I'm talking about a separate version check for the script files in <a href="https://github.com/HL7/ig-publisher-scripts">https://github.com/HL7/ig-publisher-scripts</a>, which isn't hard to implement and I think is worthwhile for the reasons I described above. I don't believe this currently exists, but it would make sense with the introduction of tagged releases in <a href="https://github.com/HL7/ig-publisher-scripts">https://github.com/HL7/ig-publisher-scripts</a></p>



<a name="222123816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222123816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222123816">(Jan 08 2021 at 20:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F/near/222122708">said</a>:</p>
<blockquote>
<p>Note that we don't have to put the scripts in the sample-ig at all if it's too hard.  Simply providing guidance in the readme that explains where to download the desired 'upload scripts' script is sufficient if we can't find an automated way to make it work.</p>
</blockquote>
<p>the simplest i can think of is to put the _updatePublisher script in the IG root folder. Once people run it, they will get the other scripts, and the _updatePublisher will update itself</p>



<a name="222125959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222125959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222125959">(Jan 08 2021 at 21:07)</a>:</h4>
<p>We don't really want the _updatePublisher committed in more than one place though.  Doing so would eliminate at least some of the benefit of maintaining the scripts only in a tightly controlled repository.</p>



<a name="222127784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222127784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222127784">(Jan 08 2021 at 21:23)</a>:</h4>
<p>Just realized that we may need to keep  the scripts (or at least _updatePublisher) in the sample IG for a while, because that is where all the _updatePublishers out there will get the scripts from.</p>



<a name="222127928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222127928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222127928">(Jan 08 2021 at 21:24)</a>:</h4>
<p>so we need to allow current IGs to update the _updatePublisher from the sampleIG , even if it is just to be able to run it again and get the scripts from the repo</p>



<a name="222127961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222127961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222127961">(Jan 08 2021 at 21:24)</a>:</h4>
<p>Not really.  If we yank them, the update scripts will just stop working.  I think we push the current ones for a week or so and tell everyone to update.  Those who fail to do so will find that they fail to work and will need to go download.</p>



<a name="222133715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222133715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222133715">(Jan 08 2021 at 22:19)</a>:</h4>
<p>2 weeks and a dedicated Zulip stream for the complaints. Deal? <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="222133798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222133798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222133798">(Jan 08 2021 at 22:20)</a>:</h4>
<p>(jk about the zulip stream of course)</p>



<a name="222297487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222297487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222297487">(Jan 11 2021 at 13:39)</a>:</h4>
<p>just document well the very specific error that happens when someone failed to update... (making it easy to search the internet for, start a zulip thread covering it)...</p>



<a name="222585413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222585413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222585413">(Jan 13 2021 at 14:19)</a>:</h4>
<p>FYI -- there was a bug in the download location in the scripts causing the dynamic script updates to fail.  I've submitted a PR.  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> / <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> -- can you review? <a href="https://github.com/HL7/ig-publisher-scripts/pull/3">https://github.com/HL7/ig-publisher-scripts/pull/3</a></p>



<a name="222591564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222591564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222591564">(Jan 13 2021 at 14:58)</a>:</h4>
<p>reviewed. Thanks</p>



<a name="222593613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222593613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222593613">(Jan 13 2021 at 15:08)</a>:</h4>
<p>Cool.  So how do we get that merged?  We have a ready update for SUSHI that points to the new scripts, but I don't want to release that until the scripts have been fixed here.</p>



<a name="222609060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/222609060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#222609060">(Jan 13 2021 at 16:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> merged it.  Thanks, Lloyd!</p>



<a name="226024923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/226024923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#226024923">(Feb 11 2021 at 17:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  <a href="https://github.com/FHIR/sample-ig/pull/45">https://github.com/FHIR/sample-ig/pull/45</a> <br>
updates the sample script so that all scripts point to the same location</p>



<a name="226030817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Releases%20of%20sample-ig%3F/near/226030817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Releases.20of.20sample-ig.3F.html#226030817">(Feb 11 2021 at 17:52)</a>:</h4>
<p>Merged</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
