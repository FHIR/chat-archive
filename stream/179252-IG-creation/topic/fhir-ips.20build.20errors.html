---
layout: page
title: "FHIR Chat  · fhir-ips build errors · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html">fhir-ips build errors</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153989217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989217">(Aug 19 2018 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Giving you a heads up before you start your day.  I'm still working through various errors and I just pushed my latest updates.  The auto-build still fails, but I have a fix that allows my local build to succeed by handling some null pointer errors that I was receiving from ProfileValidator.validate().  I had to start going into that so I could figure out what the actual error was (the trapped exception wasn't very localized or helpful for that).  I added a couple of if..else wrappers to handle the nulls - and I'm logging data to the console, which isn't elegant but is easy:</p>
<div class="codehilite"><pre><span></span>            for (TypeRefComponent type : snapElement.getType()) {
              if (type != null ) {
                if (type.getCode() != null) {
                  if (type.getCode().equals(&quot;http://hl7.org/fhir/Reference&quot;) || type.getCode().equals(&quot;http://hl7.org/fhir/canonical&quot;)) {
                    warning(errors, IssueType.BUSINESSRULE, diffElement.getId(), type.hasAggregation(), &quot;Elements with type Reference or canonical should declare aggregation&quot;);
                  }
                }
                else {
                  System.out.println(&quot;diffElement.getId() == &quot; + diffElement.getId() +
                  &quot;; type == &quot; + type + &quot;; type.getCode() == null&quot;);
                }
              }
              else {
                System.out.println(&quot;diffElement.getId() == &quot; + diffElement.getId() + &quot;; type == null&quot;);
              }
            }
</pre></div>


<p>And when I build this is now what I'm getting:</p>
<div class="codehilite"><pre><span></span>Processing Conformance Resources                                                 (31.0618sec)
process type: NamingSystem                                                       (31.0618sec)
process type: CodeSystem                                                         (31.0618sec)
process res: absent-unknown-uv-ips                                               (31.0618sec)
process type: ValueSet                                                           (31.0660sec)
process res: absent-or-unknown-allergies-uv-ips                                  (31.0660sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-allergies-uv-ips - overriding from 2017-03-29T00:00:00 to 0.1.0
process res: absent-or-unknown-devices-uv-ips                                    (31.0670sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-devices-uv-ips - overriding from 2018-01-27T22:19:47 to 0.1.0
process res: absent-or-unknown-immunization-uv-ips                               (31.0679sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-immunization-uv-ips - overriding from 2017-05-24T00:00:00 to 0.1.0
process res: pcid-uv-ips                                                         (31.0685sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-pcid-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0
process res: mpid-uv-ips                                                         (31.0693sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-mpid-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0
process res: phpid-lvl1-uv-ips                                                   (31.0700sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-phpid-lvl1-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0
process res: phpid-lvl2-uv-ips                                                   (31.0706sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-phpid-lvl2-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0
process res: phpid-lvl3-uv-ips                                                   (31.0712sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-phpid-lvl3-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0
process res: phpid-lvl4-uv-ips                                                   (31.0719sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-phpid-lvl4-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0
process res: imaging-txtobs-code-uv-ips                                          (31.0728sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-txtobs-code-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: imaging-linear-measure-code-uv-ips                                  (31.0737sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-linear-measure-code-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: imaging-volume-measure-code-uv-ips                                  (31.0752sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-volume-measure-code-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: imaging-area-measure-code-uv-ips                                    (31.0758sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-area-measure-code-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: specimen-type-uv-ips                                                (31.0764sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-specimen-type-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: specimen-collection-method-uv-ips                                   (31.0792sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-specimen-collection-method-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: absent-or-unknown-medication-uv-ips                                 (31.0800sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-medication-uv-ips - overriding from 2017-04-01T00:00:00 to 0.1.0
process res: absent-or-unknown-procedures-uv-ips                                 (31.0808sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-procedures-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: absent-or-unknown-problems-uv-ips                                   (31.0815sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-problems-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0
process res: allergy-intolerance-substance-condition-uv-ips                      (31.0824sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-allergy-intolerance-substance-condition-uv-ips - overriding from 2018-03-20T16:38:39 to 0.1.0
process res: allergy-reaction-uv-ips                                             (31.0829sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-allergy-reaction-uv-ips - overriding from 2017-02-23T00:00:00 to 0.1.0
process res: condition-severity-uv-ips                                           (31.0845sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-condition-severity-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0
process res: core-problem-list-disorders-uv-ips                                  (31.0851sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-core-problem-list-disorders-uv-ips - overriding from 2017-02-01T00:00:00 to 0.1.0
process res: current-smoking-status-uv-ips                                       (32.0568sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-current-smoking-status-uv-ips - overriding from 2017-12-14T09:33:20 to 0.1.0
process res: edd-method-uv-ips                                                   (32.0584sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-edd-method-uv-ips - overriding from 2017-04-13T00:00:00 to 0.1.0
process res: healthcare-professional-roles-uv-ips                                (32.0588sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-healthcare-professional-roles-uv-ips - overriding from 2017-06-21T00:00:00 to 0.1.0
process res: imaging-observations-uv-ips                                         (32.0596sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-observations-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: laboratory-and-vital-signs-observations                             (32.0601sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-laboratory-and-vital-signs-observations - overriding from 2017-05-23T00:00:00 to 0.1.0
process res: laboratory-tests-and-panels-uv-ips                                  (32.0610sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-laboratory-tests-and-panels-uv-ips - overriding from 2018-03-20T15:32:30 to 0.1.0
process res: lab-result-coded-value-uv-ips                                       (32.0618sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-lab-result-coded-value-uv-ips - overriding from 2017-05-31T00:00:00 to 0.1.0
process res: medical-devices-uv-ips                                              (32.0626sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-medical-devices-uv-ips - overriding from 2018-02-16T00:00:00 to 0.1.0
process res: medicine-active-substances-uv-ips                                   (32.0631sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-medicine-active-substances-uv-ips - overriding from 2017-05-03T00:00:00 to 0.1.0
process res: medicine-doseform                                                   (32.0634sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-medicine-doseform - overriding fr
</pre></div>



<a name="153989218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989218">(Aug 19 2018 at 17:22)</a>:</h4>
<p>You can see that the extensions are causing the issues with the null type code.  That's probably correctable and I'll dig into that further, but it still might be useful to actually trap this error (and do the logging properly).</p>



<a name="153989219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989219">(Aug 19 2018 at 17:34)</a>:</h4>
<p>And on the other error, after changing the discriminator path from reference:resolve() to resolve() alone I'm now getting a number of errors like this with the example Bundle:</p>
<div class="codehilite"><pre><span></span>Problem evaluating slicing expression for element in profile http://hl7.org/fhir/uv/ips/StructureDefinition/composition-uv-ips path Bundle.entry[1].resource.section[1].entry (fhirPath = true and resolve().conformsTo(&#39;http://hl7.org/fhir/uv/ips/StructureDefinition/condition-uv-ips&#39;)): null
</pre></div>


<p>It's the caught exception message itself in InstanceValidator.sliceMatches() that's 'null', which seems a little odd, but that's what it is.  I'm still looking at this, too.</p>



<a name="153989329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989329">(Aug 20 2018 at 00:03)</a>:</h4>
<p>I don't see history notes for IPS?</p>



<a name="153989335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989335">(Aug 20 2018 at 00:32)</a>:</h4>
<p>guess I need to do that</p>



<a name="153989338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989338">(Aug 20 2018 at 00:34)</a>:</h4>
<p>yes please</p>



<a name="153989342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989342">(Aug 20 2018 at 00:47)</a>:</h4>
<p>ok - remind me where the thread is on this?<br>
I looked at it some before, but I'm not managing to find it now</p>



<a name="153989344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989344">(Aug 20 2018 at 00:49)</a>:</h4>
<p>thread on what?</p>



<a name="153989346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989346">(Aug 20 2018 at 00:50)</a>:</h4>
<p>wherever it was explained what's needed for the history</p>



<a name="153989352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989352">(Aug 20 2018 at 00:53)</a>:</h4>
<p><a href="#narrow/stream/9-committers/subject/Ballot.20Freeze/near/178357" title="#narrow/stream/9-committers/subject/Ballot.20Freeze/near/178357">https://chat.fhir.org/#narrow/stream/9-committers/subject/Ballot.20Freeze/near/178357</a></p>



<a name="153989566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989566">(Aug 20 2018 at 16:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> I am still not aware of change notes for IPS</p>



<a name="153989570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989570">(Aug 20 2018 at 16:26)</a>:</h4>
<p>(deleted)</p>



<a name="153989721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989721">(Aug 21 2018 at 02:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> is this version 0.2.0?</p>



<a name="153989722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989722">(Aug 21 2018 at 02:50)</a>:</h4>
<p>and LIVD is 0.1.0?</p>



<a name="153989740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989740">(Aug 21 2018 at 03:52)</a>:</h4>
<p>I assume that would be the case, if we increment minor version for each ballot cycle.  The May ballot was STU3, but I assume that won't  affect this.</p>



<a name="153989745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989745">(Aug 21 2018 at 04:00)</a>:</h4>
<p>I would still like to get the "Problem evaluating slicing expression for element in profile" errors (and the others) fixed.</p>



<a name="153989748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989748">(Aug 21 2018 at 04:10)</a>:</h4>
<p>I did start poking around the code, as that message itself is pretty generic.  But the FHIRPathEngine.evaluateToBoolean method inside InstanceValidator.sliceMatches I'm finding a bit hard to fathom exactly how it's supposed to be working, and figuring out what the error is indicating should actually be done - either with the example instance data or if it's a bug how the code should be fixed.</p>



<a name="153989751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989751">(Aug 21 2018 at 04:33)</a>:</h4>
<p>yes you don't want to take it on. I already declined to take it on this cycle.</p>



<a name="153989752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/fhir-ips%20build%20errors/near/153989752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/fhir-ips.20build.20errors.html#153989752">(Aug 21 2018 at 04:33)</a>:</h4>
<p>ok</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
