---
layout: page
title: "FHIR Chat  · `ElementDefinition.slicing.description` · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html">`ElementDefinition.slicing.description`</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="262849687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/262849687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#262849687">(Nov 27 2021 at 02:55)</a>:</h4>
<p>OK I tested out <code>ElementDefinition.slicing.description</code>  and I got a validation error for an example and incorrect rendering for the SD.   So I assume it has not been implemented yet?</p>



<a name="262857321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/262857321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#262857321">(Nov 27 2021 at 06:18)</a>:</h4>
<p>what's to implement?</p>



<a name="262899275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/262899275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#262899275">(Nov 27 2021 at 23:48)</a>:</h4>
<ul>
<li>Here is the slicing definition:</li>
</ul>
<div class="codehilite" data-code-language="YAML"><pre><span></span><code><span class="c1"># .....</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DiagnosticReport.category</span>
      <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DiagnosticReport.category</span>
      <span class="nt">slicing</span><span class="p">:</span>
        <span class="c1"># discriminator:</span>
        <span class="c1">#   - type: pattern</span>
        <span class="c1">#     path: $this</span>
        <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">&gt;-</span>   <span class="c1">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; description for slice</span>
          <span class="no">A required or extensible binding with a Value Set that enumerates the list of possible codes in the value set.</span>
        <span class="nt">rules</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">open</span>
      <span class="nt">min</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">mustSupport</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="s">'DiagnosticReport.category:us-core'</span>
      <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DiagnosticReport.category</span>
      <span class="nt">sliceName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-core</span>
      <span class="nt">min</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">mustSupport</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
      <span class="nt">binding</span><span class="p">:</span>
        <span class="nt">strength</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">extensible</span>
        <span class="nt">valueSet</span><span class="p">:</span> <span class="s">'http://hl7.org/fhir/us/core/ValueSet/us-core-diagnosticreport-category'</span>
<span class="c1"># .....</span>
</code></pre></div>
<ul>
<li>The validator produced zero errors.</li>
<li>
<p>For the rendering, I expected the description to be reproduced in the detailed description and the table views.<br>
 However, it looks like this:</p>
<p><a href="/user_uploads/10155/_xB57Hoewg7sA6WD21-_-FoG/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/_xB57Hoewg7sA6WD21-_-FoG/image.png" title="image.png"><img src="/user_uploads/10155/_xB57Hoewg7sA6WD21-_-FoG/image.png"></a></div></li>
<li>
<p>Since a description is not machine readable I expected no errors, maybe a warning or more likely an informational message that it cannot be validated. However, these are a the errors produced for an example:   </p>
<p><a href="/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png" title="image.png"><img src="/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png"></a></div></li>
</ul>



<a name="262934095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/262934095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#262934095">(Nov 28 2021 at 15:24)</a>:</h4>
<p>This is a really bad path forward.  You're defining slicing rules that can't be tested electronically (by the validator or by anyone else).  So what's the point?</p>



<a name="262950940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/262950940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#262950940">(Nov 28 2021 at 22:04)</a>:</h4>
<p>well, since you you've define a slice with a minimum cardinality of 0, the validator is telling you didn't find a match.</p>



<a name="262950944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/262950944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#262950944">(Nov 28 2021 at 22:04)</a>:</h4>
<p>but it would be good if the renderer presented it properly</p>



<a name="263029495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/263029495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#263029495">(Nov 29 2021 at 16:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60/near/262934095">said</a>:</p>
<blockquote>
<p>This is a really bad path forward.  You're defining slicing rules that can't be tested electronically (by the validator or by anyone else).  So what's the point?</p>
</blockquote>
<p>that is not the point.   The point here is If the base defines an element in ElementDefinition then the expectation is that the ig-publisher would render and validate it according to the definition and not produce and error if an element is present in the example instances.</p>



<a name="263050525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/263050525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#263050525">(Nov 29 2021 at 18:40)</a>:</h4>
<p>I think it should present it correctly, yes, and it's on my list to address that. But I don't know how I'd improve the validation</p>



<a name="263072979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/263072979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#263072979">(Nov 29 2021 at 21:57)</a>:</h4>
<p>If slicing just has a description, then there's no validation that <em>can</em> happen - other than "slicing is happening here, no clue if any of the rules are being followed because the rules aren't expressed computably".  And frankly, it's not possible to write computer code that could do what the description says.</p>



<a name="263084541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%60ElementDefinition.slicing.description%60/near/263084541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60.html#263084541">(Nov 29 2021 at 23:58)</a>:</h4>
<p>back to the validation issue I found for this example instance :</p>
<div class="codehilite" data-code-language="YAML"><pre><span></span><code><span class="c1">#...</span>
<span class="nt">status</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">final</span>
<span class="nt">category</span><span class="p">:</span>   <span class="c1">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
  <span class="p p-Indicator">-</span> <span class="nt">coding</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">system</span><span class="p">:</span> <span class="s">'http://loinc.org'</span>
        <span class="nt">code</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">LP29684-5</span>
        <span class="nt">display</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Radiology</span>
    <span class="nt">text</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Radiology</span>
<span class="nt">code</span><span class="p">:</span>
<span class="c1">#...</span>
</code></pre></div>
<p>The error on category states that there is no category when there is one.  I think that is an incorrect Error.</p>
<p><a href="user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png">https://chat.fhir.org/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png</a></p>
<div class="message_inline_image"><a href="user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png" title="https://chat.fhir.org/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png"><img src="user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png"></a></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
