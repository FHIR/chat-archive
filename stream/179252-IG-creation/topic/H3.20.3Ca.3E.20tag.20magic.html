---
layout: page
title: "FHIR Chat  · H3 &lt;a&gt; tag magic · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html">H3 &lt;a&gt; tag magic</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="268622419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622419">(Jan 20 2022 at 00:04)</a>:</h4>
<p>Hello - running into an issue with my index.xml - It seems there's some magic that inserts an &lt;a&gt; tag around &lt;h3&gt; tags, but it's not behaving quite right for me, causing the entire contents of &lt;p&gt; tags after the &lt;h3&gt; tags to be encased in the &lt;a&gt; tag as well.  This means all the contents of the section are blue and highlightable.  Any idea what could cause that?</p>



<a name="268622575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622575">(Jan 20 2022 at 00:06)</a>:</h4>
<p>Our first h3 tag renders correctly: <a href="/user_uploads/10155/UpazBeGjE9_J_bbjr3rruLJn/Screen-Shot-2022-01-19-at-4.05.34-PM.png">Screen-Shot-2022-01-19-at-4.05.34-PM.png</a> <br>
but subsequent ones do not: <br>
<a href="/user_uploads/10155/wM0BLGNQnFLPjRAAATf4nEf8/Screen-Shot-2022-01-19-at-4.06.16-PM.png">Screen-Shot-2022-01-19-at-4.06.16-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/UpazBeGjE9_J_bbjr3rruLJn/Screen-Shot-2022-01-19-at-4.05.34-PM.png" title="Screen-Shot-2022-01-19-at-4.05.34-PM.png"><img src="/user_uploads/10155/UpazBeGjE9_J_bbjr3rruLJn/Screen-Shot-2022-01-19-at-4.05.34-PM.png"></a></div><div class="message_inline_image"><a href="/user_uploads/10155/wM0BLGNQnFLPjRAAATf4nEf8/Screen-Shot-2022-01-19-at-4.06.16-PM.png" title="Screen-Shot-2022-01-19-at-4.06.16-PM.png"><img src="/user_uploads/10155/wM0BLGNQnFLPjRAAATf4nEf8/Screen-Shot-2022-01-19-at-4.06.16-PM.png"></a></div>



<a name="268622652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622652">(Jan 20 2022 at 00:07)</a>:</h4>
<p>is your IG source in markdown or xml?</p>



<a name="268622667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622667">(Jan 20 2022 at 00:07)</a>:</h4>
<p>xml</p>



<a name="268622762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622762">(Jan 20 2022 at 00:08)</a>:</h4>
<p>could you share your github? more eyes are often helpful.</p>



<a name="268622779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622779">(Jan 20 2022 at 00:08)</a>:</h4>
<p>sorry not public yet (working towards that!)</p>



<a name="268622791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622791">(Jan 20 2022 at 00:09)</a>:</h4>
<p>but would be happy to switch to markdown... is that just a question of replacing html/pagecontents/index.xml with html/pagecontents/index.md?</p>



<a name="268622815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622815">(Jan 20 2022 at 00:09)</a>:</h4>
<p>mostly, yes. and using markdown rather than xml</p>



<a name="268622836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622836">(Jan 20 2022 at 00:10)</a>:</h4>
<p>ok, and I don't have to change anything else to tell it to use the index.md rather than index.xml?</p>



<a name="268622882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622882">(Jan 20 2022 at 00:10)</a>:</h4>
<p>I'll try that and see if that works better for the headers</p>



<a name="268622910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622910">(Jan 20 2022 at 00:10)</a>:</h4>
<p>not going to say it will fix the problem. but these things tend to be things that hide from the original author, but a second set of eyes sees it. pair-programming</p>



<a name="268622986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268622986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268622986">(Jan 20 2022 at 00:11)</a>:</h4>
<p>well, it seems to be an issue with some processing that gets done by the publisher on top of the exiting xml</p>



<a name="268623044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268623044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268623044">(Jan 20 2022 at 00:12)</a>:</h4>
<p>I wonder if there are certain structures of content sections that we're expected to be following to make the renderer happy</p>



<a name="268623143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268623143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268623143">(Jan 20 2022 at 00:13)</a>:</h4>
<p>hmm seeing <code>Template based HTML file index.html is missing source file index.xml</code></p>



<a name="268632996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268632996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268632996">(Jan 20 2022 at 02:34)</a>:</h4>
<p>You shouldn't need to change from using XHTML.  I've seen anchor tags inserted if there's a validation error, but those usually use UUIDs, not sequential numbers unless something has changed.  And even there, the anchors shouldn't <em>wrap</em> anything.  What template is your IG using?</p>



<a name="268648482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268648482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268648482">(Jan 20 2022 at 06:40)</a>:</h4>
<p><span class="user-mention" data-user-id="196561">@Nick George</span> if you have you ig resource as xml or json you should replace the <code>html</code> with the  <code>markdown</code> in page.generation</p>
<div class="codehilite"><pre><span></span><code>    &quot;page&quot;: {
      &quot;nameUrl&quot;: &quot;index.html&quot;,
      &quot;title&quot;: &quot;Main Page&quot;,
      &quot;generation&quot;: &quot;html&quot;,
</code></pre></div>
<div class="codehilite"><pre><span></span><code>    &quot;page&quot;: {
      &quot;nameUrl&quot;: &quot;index.html&quot;,
      &quot;title&quot;: &quot;Main Page&quot;,
      &quot;generation&quot;: &quot;markdown&quot;,
</code></pre></div>



<a name="268648984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268648984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268648984">(Jan 20 2022 at 06:47)</a>:</h4>
<p>as for the tag - why are you adding an &lt;a&gt; tag on the h3 tag? If I understand correctly, the template will create the links around any heading tag from h1 to h6.<br>
Besides, there is an annoying issue where this works well</p>
<div class="codehilite"><pre><span></span><code>&lt;a name=&quot;summary&quot;&gt; &lt;/a&gt;
&lt;h3 id=&quot;summary&quot;&gt;Summary&lt;/h3&gt;
</code></pre></div>
<p>but this messes up the text</p>
<div class="codehilite"><pre><span></span><code>&lt;a name=&quot;summary&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;summary&quot;&gt;Summary&lt;/h3&gt;
</code></pre></div>
<p>(note the missing space before closing the &lt;/a&gt;. If that is not there, the following text will be a hyperlink</p>



<a name="268725968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268725968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268725968">(Jan 20 2022 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> all out of the-box defaults for templates...<code>fhir.base.template</code>.  Ran through some html sanitizers that seem to be ok with it</p>



<a name="268726010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268726010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268726010">(Jan 20 2022 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> I'm not adding an &lt;a&gt; tag, the publisher is</p>



<a name="268731962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268731962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268731962">(Jan 20 2022 at 17:57)</a>:</h4>
<p>Just to close the loop here - converting to markdown has worked easily and is easier to read in source anyway, so just doing that.  Dunno what was going on with the xml version.</p>



<a name="268733393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268733393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268733393">(Jan 20 2022 at 18:06)</a>:</h4>
<p>Sorry we did not find the issue - but without looking at the code it's really hard</p>



<a name="268733916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268733916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268733916">(Jan 20 2022 at 18:10)</a>:</h4>
<p>yeah for sure</p>



<a name="268733947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268733947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268733947">(Jan 20 2022 at 18:10)</a>:</h4>
<p>thanks for your help!</p>



<a name="268750626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/H3%20%3Ca%3E%20tag%20magic/near/268750626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/H3.20.3Ca.3E.20tag.20magic.html#268750626">(Jan 20 2022 at 20:12)</a>:</h4>
<p>Actually, it may be that you should list your content as "xml" rather than "html".  The former is for XHTML.  The latter is for pure html.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
