---
layout: page
title: "FHIR Chat  · Smart validation Error · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Smart.20validation.20Error.html">Smart validation Error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="232508089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Smart%20validation%20Error/near/232508089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Smart.20validation.20Error.html#232508089">(Mar 30 2021 at 22:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  we need some help on this error:</p>
<p>QA error on smart example CapabilityStatement issues to resolve:</p>
<p><strong>Summary</strong> the url for the extension lives in both the Smart guide and the FHIR spec so...</p>
<p>this snippet from the CapabilityStatement :</p>
<div class="codehilite" data-code-language="YAML"><pre><span></span><code>    <span class="nt">security</span><span class="p">:</span>
      <span class="nt">extension</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">extension</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nt">url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">token</span>
              <span class="nt">valueUri</span><span class="p">:</span> <span class="s">'https://my-server.org/token'</span>
            <span class="p p-Indicator">-</span> <span class="nt">url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">authorize</span>
              <span class="nt">valueUri</span><span class="p">:</span> <span class="s">'https://my-server.org/authorize'</span>
            <span class="p p-Indicator">-</span> <span class="nt">url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">manage</span>
              <span class="nt">valueUri</span><span class="p">:</span> <span class="s">'https://my-server.org/authorizations/manage'</span>
            <span class="p p-Indicator">-</span> <span class="nt">url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">introspect</span>
              <span class="nt">valueUri</span><span class="p">:</span> <span class="s">'https://my-server.org/authorizations/introspect'</span>
            <span class="p p-Indicator">-</span> <span class="nt">url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">revoke</span>
              <span class="nt">valueUri</span><span class="p">:</span> <span class="s">'https://my-server.org/authorizations/revoke'</span>
          <span class="nt">url</span><span class="p">:</span> <span class="p p-Indicator">&gt;-</span>
            <span class="no">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris</span>
</code></pre></div>
<p>leads to the following validator error because the validator is using the SD from the core spec here : <a href="http://hl7.org/fhir/extension-oauth-uris.html">http://hl7.org/fhir/extension-oauth-uris.html</a>   <em>instead of</em>  the updated definition from the IG:</p>
<blockquote>
<ul>
<li>CapabilityStatement/smart-app-launch-example: CapabilityStatement.rest[0].security.extension[0].extension[3] Slicing Information This element does not match any known slice defined in the profile <a href="http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris</a> Hide Reasoning</li>
</ul>
</blockquote>
<blockquote>
<p>This element does not match any known slicedefined_in_the_profilehttp://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris<br>
 - CapabilityStatement.rest[0].security.extension[0].extension[3]: discriminator = true and ('authorize' in url)</p>
</blockquote>
<blockquote>
<ul>
<li>CapabilityStatement.rest[0].security.extension[0].extension[3]: discriminator = true and ('token' in url)</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>CapabilityStatement.rest[0].security.extension[0].extension[3]: discriminator = true and ('register' in url)</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>CapabilityStatement.rest[0].security.extension[0].extension[3]: discriminator = true and ('manage' in url)</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>CapabilityStatement/smart-app-launch-example: &gt; CapabilityStatement.rest[0].security.extension[0].extension[3][url='introspect']    error   Sub-extension url 'introspect' is not defined by the Extension <a href="http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris</a></li>
<li>CapabilityStatement/smart-app-launch-example: &gt; &gt; CapabilityStatement.rest[0].security.extension[0].extension[4][url='revoke']  error   Sub-extension url 'revoke' is not defined by the Extension <a href="http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-URIs">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-URIs</a></li>
</ul>
</blockquote>
<h2>What I did</h2>
<p>As a temporary fix  I appended the version which seems to redirect the validator to look in the IG package , but then get the following error (since the element is type uri not canonical):</p>
<ul>
<li>CapabilityStatement/smart-app-launch-example: CapabilityStatement.rest[0].security.extension[0].url   error   Value is '<a href="http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris|2.0.0">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris|2.0.0</a>' but must be '<a href="http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris</a>'</li>
</ul>



<a name="232508496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Smart%20validation%20Error/near/232508496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Smart.20validation.20Error.html#232508496">(Mar 30 2021 at 22:36)</a>:</h4>
<p>I think this is related to the renaming the package for the SMART ig  that <span class="user-mention" data-user-id="191315">@Josh Mandel</span> mentioned before here:  <a href="#narrow/stream/179252-IG-creation/topic/SMART.20and.20.22uv.22">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/SMART.20and.20.22uv.22</a></p>



<a name="232792661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Smart%20validation%20Error/near/232792661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Smart.20validation.20Error.html#232792661">(Apr 01 2021 at 17:16)</a>:</h4>
<p>(deleted)</p>



<a name="232799180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Smart%20validation%20Error/near/232799180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Smart.20validation.20Error.html#232799180">(Apr 01 2021 at 18:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  NM  is resolved !</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
