---
layout: page
title: "FHIR Chat  · Publisher error in OperationDefinition · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html">Publisher error in OperationDefinition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200561646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200561646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200561646">(Jun 11 2020 at 15:38)</a>:</h4>
<p>I've created an operation definition in fsh which is giving me this error:<br>
Processing Conformance Resources                                                 (00:13.0913)<br>
Publishing Content Failed: Error parsing /media/veracrypt1/ownCloud/Ready/Sequoia/CQPush/Profile/fsh/build/input/examples/OperationDefinition-ceqsubscribe: Not a JSON Object: null (00:13.0946)<br>
                                                                                 (00:13.0946)<br>
Use -? to get command line help                                                  (00:13.0946)<br>
                                                                                 (00:13.0946)<br>
Stack Dump (for debugging):                                                      (00:13.0947)<br>
java.lang.Exception: Error parsing /media/veracrypt1/ownCloud/Ready/Sequoia/CQPush/Profile/fsh/build/input/examples/OperationDefinition-ceqsubscribe: Not a JSON Object: null<br>
        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:4043)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3604)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:836)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:698)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7533)<br>
Caused by: java.lang.IllegalStateException: Not a JSON Object: null<br>
        at com.google.gson.JsonElement.getAsJsonObject(JsonElement.java:91)<br>
        at org.hl7.fhir.r4.formats.JsonParser.parseOperationDefinitionProperties(JsonParser.java:19326)<br>
        at org.hl7.fhir.r4.formats.JsonParser.parseOperationDefinition(JsonParser.java:19204)<br>
        at org.hl7.fhir.r4.formats.JsonParser.parseResource(JsonParser.java:27598)<br>
        at org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:124)<br>
        at org.hl7.fhir.r4.formats.ParserBase.parse(ParserBase.java:61)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.parseContent(Publisher.java:4391)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.parse(Publisher.java:4448)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:4039)<br>
        ... 4 more</p>



<a name="200561709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200561709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200561709">(Jun 11 2020 at 15:39)</a>:</h4>
<p>This is the definition:<br>
<a href="/user_uploads/10155/B7i_6lLC8ShzmX3sAiAZkfAx/OperationDefinition-ceqsubscribe.json">OperationDefinition-ceqsubscribe.json</a></p>



<a name="200561749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200561749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200561749">(Jun 11 2020 at 15:39)</a>:</h4>
<p>this is the FSH code that created it. <a href="/user_uploads/10155/0SNgYaMiv8Js3pEHdxO-sZOt/CEQSubscriptionoperation.fsh">CEQSubscriptionoperation.fsh</a></p>



<a name="200561764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200561764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200561764">(Jun 11 2020 at 15:39)</a>:</h4>
<p>sushi has no problem with it.</p>



<a name="200561777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200561777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200561777">(Jun 11 2020 at 15:39)</a>:</h4>
<p>ANy ideas?</p>



<a name="200563399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200563399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200563399">(Jun 11 2020 at 15:50)</a>:</h4>
<p>generally, to debug, i run the publisher process separately (because I don't want sushi to change the stuff that I am debugging. <br>
With that in mind:</p>
<ol>
<li>can you try to run the publisher without sushi? just rename your fsh folder to something else </li>
<li></li>
</ol>
<div class="codehilite"><pre><span></span><code>      &quot;targetProfile&quot;: [&quot;http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient&quot;,&quot;http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization&quot;,&quot;http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner&quot;, &quot;RelatedPerson&quot;]
</code></pre></div>


<p>RelatedPerson is not valid as a canonical, is it? - If I were the publisher, I think I'd complain as well<br>
Try to remove that and run the publisher without sushi, and if that solves it, you know what to change in fsh</p>



<a name="200563905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200563905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200563905">(Jun 11 2020 at 15:54)</a>:</h4>
<p>I always run sushi and the publsiher separately, I didn't set up the directory structure for the combined build yet.  <br>
I removed RelatedPerson, no change.  I'm not seeing a null anywhere in the OpDef, might it be referring to a code that doesn't resolve?</p>



<a name="200564059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200564059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200564059">(Jun 11 2020 at 15:55)</a>:</h4>
<p>is the entire IG available somewhere?</p>



<a name="200564650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200564650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200564650">(Jun 11 2020 at 15:58)</a>:</h4>
<p>Only on my computer, I haven't uploaded it anywhere.  I can send the fsh to you?</p>



<a name="200564836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200564836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200564836">(Jun 11 2020 at 15:59)</a>:</h4>
<p>is the IG only one fsh? yes please</p>



<a name="200596346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200596346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200596346">(Jun 11 2020 at 19:49)</a>:</h4>
<p>that's a super weird error. According to the stack, you have a null in your parameters array, but your example doesn't have that. So there's some disconnect between what you think you have and what java thinks you have</p>



<a name="200598907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200598907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200598907">(Jun 11 2020 at 20:07)</a>:</h4>
<p><a href="#narrow/stream/215610-shorthand/topic/sushi.20needs.20to.20handle.20missing.20array.20entry">https://chat.fhir.org/#narrow/stream/215610-shorthand/topic/sushi.20needs.20to.20handle.20missing.20array.20entry</a></p>



<a name="200599591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200599591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200599591">(Jun 11 2020 at 20:12)</a>:</h4>
<p>the FSH does have a null in it.  I don't think the JSON definition is your actual definition.  The FSH file will create a null for parameter 1 which causes the error you are seeing.</p>



<a name="200605580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%20error%20in%20OperationDefinition/near/200605580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.20error.20in.20OperationDefinition.html#200605580">(Jun 11 2020 at 21:01)</a>:</h4>
<p>Yep, that should throw at least a warning.  Having a null may be in rare circumstances desirable but the user should be alerted.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
