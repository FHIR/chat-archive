---
layout: page
title: "FHIR Chat  · Device.type.text out of order · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html">Device.type.text out of order</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223622830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223622830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223622830">(Jan 22 2021 at 10:12)</a>:</h4>
<p>5:20 AM<br>
Oh man, typed something wrong and lost all my text. I hate web apps.</p>
<p>The PHD IG has been sitting for more than a year after being balloted and accepted. Publishing back then just never got done as covid took over. In any case to finally move forward on that the IG had to be updated to the new publisher. It was an easy task since the original IG used Lloyd's framework and the new publisher was essentially the same thing with a few shifts of directories. There was no need to change any content.</p>
<p>However, the QA gives new errors that were not present previously, most of which I dont understand. This is one of them - and there are many of the same type of errors reported:</p>
<p>StructureDefinition.where(url = '<a href="http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice">http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice</a>') error The element Device.type.text is out of order (and maybe others after it)</p>
<p>As far as I can tell the text element is exactly where it should be - the Device.type is a CodeableConcept. So what is this error, how do I fix it, and why does it occur?</p>



<a name="223623632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223623632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223623632">(Jan 22 2021 at 10:20)</a>:</h4>
<p>(deleted)</p>



<a name="223650341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223650341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223650341">(Jan 22 2021 at 14:49)</a>:</h4>
<p>usually the out of order error means just that, in xml (<a href="https://www.hl7.org/fhir/xml.html">https://www.hl7.org/fhir/xml.html</a>) elements are expected to be in the order that the spec defines them in, so Device.type being a codableConcept means that its two child elements, coding and text, are expected to be in that order (i.e. not text and then coding) <a href="/user_uploads/10155/0NLdUjPNDrk-UyLB3VP2wWWq/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/0NLdUjPNDrk-UyLB3VP2wWWq/image.png" title="image.png"><img src="/user_uploads/10155/0NLdUjPNDrk-UyLB3VP2wWWq/image.png"></a></div>



<a name="223652271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223652271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223652271">(Jan 22 2021 at 15:03)</a>:</h4>
<p>If you were typing and accidentally hit escape, your text will be saved in Zulip as a draft - just click on the 'drafts' link.  (Just a note for the future <span class="user-mention" data-user-id="192228">@Brian Reinhold</span> )</p>



<a name="223655294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223655294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223655294">(Jan 22 2021 at 15:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="237342">ryan moehrke</span> I have JSON and not xml but the text IS in the correct place, yet I get the error everywhere I have a CodeableConcept and a text element. For example, this one</p>
<div class="codehilite"><pre><span></span><code>    &quot;type&quot;: {
        &quot;coding&quot;: [
            {
                &quot;system&quot;: &quot;urn:iso:std:iso:11073:10101&quot;,
                &quot;code&quot;: &quot;65573&quot;
            }
        ],
        &quot;text&quot;: &quot;MDC_MOC_VMS_MDS_SIMP&quot;
    },
</code></pre></div>



<a name="223657721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223657721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223657721">(Jan 22 2021 at 15:42)</a>:</h4>
<p>actually, looking at your error, is the 'out of order' error on an <em>instance</em> of the Device resource? or the StructureDefinition resource for the PhdDevice profile itself?</p>



<a name="223661020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223661020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223661020">(Jan 22 2021 at 16:05)</a>:</h4>
<p>@_**ryan moehrke <br>
Its actually on a structure definition. However, it looks fine to me. Its like all the other codeable concepts that I do not touch (at least in the resolved displays). I don't know how to display that here.</p>



<a name="223698806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223698806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223698806">(Jan 22 2021 at 20:56)</a>:</h4>
<p>Do you have a snapshot in your structuredefinition? If everything looks correct in your differential and you have a snapshot, try deleting the snapshot.</p>



<a name="223700865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223700865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223700865">(Jan 22 2021 at 21:11)</a>:</h4>
<p>The other thing to mention is that that error is quite often a red herring - your missing or out of order issue will likely be before the element that it is telling you about.</p>



<a name="223704268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223704268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223704268">(Jan 22 2021 at 21:39)</a>:</h4>
<p>But I think it's this in the StructureDefinition:<br>
<a href="/user_uploads/10155/NxJs_JeZNdSaaK_d05CNGFnp/image.png">image.png</a> <br>
Device.type.text needs to be after Device.type.coding</p>
<div class="message_inline_image"><a href="/user_uploads/10155/NxJs_JeZNdSaaK_d05CNGFnp/image.png" title="image.png"><img src="/user_uploads/10155/NxJs_JeZNdSaaK_d05CNGFnp/image.png"></a></div>



<a name="223713410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223713410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223713410">(Jan 22 2021 at 23:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191918">Sarah Gaunt</span> <br>
It IS after the Device.type.coding</p>



<a name="223714016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223714016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223714016">(Jan 22 2021 at 23:10)</a>:</h4>
<p>But when I looked at the file in Git, it wasn't. Maybe I'm looking in the wrong place? This is the file I was looking at: <a href="https://github.com/HL7/PHD/blob/master/input/resources/PhdDevice.xml">https://github.com/HL7/PHD/blob/master/input/resources/PhdDevice.xml</a></p>



<a name="223714085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223714085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223714085">(Jan 22 2021 at 23:10)</a>:</h4>
<p>Line 241</p>



<a name="223714225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223714225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223714225">(Jan 22 2021 at 23:12)</a>:</h4>
<p>It looks like it's correct in the example you posted above, but it's the structuredefinition that is wrong.</p>



<a name="223877975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Device.type.text%20out%20of%20order/near/223877975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order.html#223877975">(Jan 25 2021 at 10:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191918">Sarah Gaunt</span> <a href="#narrow/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order/near/223714225">said</a>:</p>
<blockquote>
<p>It looks like it's correct in the example you posted above, but it's the structuredefinition that is wrong.</p>
</blockquote>
<p>It IS is the wrong place. I wonder why? I coded the gateway long before I ever made the structure definition. I find that all my structure definition text elements are in the wrong place though they are correct in all actual code implementations that generate resources from PHDs.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
