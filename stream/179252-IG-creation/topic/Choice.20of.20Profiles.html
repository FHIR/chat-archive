---
layout: page
title: "FHIR Chat  · Choice of Profiles · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html">Choice of Profiles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153972257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153972257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153972257">(Jun 27 2018 at 22:10)</a>:</h4>
<p>A colleague of mine has a profile on Patient that specifies the <code>identifier</code> element type as a choice of profiles:</p>
<div class="codehilite"><pre><span></span>&quot;type&quot;: [
          {
            &quot;code&quot;: &quot;Identifier&quot;,
            &quot;profile&quot;: &quot;http://nightingaleproject.github.io/fhirDeathRecord/StructureDefinition/sdr-decedent-DecedentID&quot;
          },
          {
            &quot;code&quot;: &quot;Identifier&quot;,
            &quot;profile&quot;: &quot;http://nightingaleproject.github.io/fhirDeathRecord/StructureDefinition/sdr-decedent-SocialSecurityNumber&quot;
          }
],
</pre></div>


<p>When we generate an IG, however, the Snapshot and Differential views only show the first profile (<code>sdr-decedent-DecedentID</code>).  Is this an issue in the IG tooling, or are we wrong to turn a non-choice <code>Identifier</code> type to a choice of two profiles on <code>Identifier</code>?</p>
<p>We're using the IG Publisher from the May 2018 ballot.</p>



<a name="153972298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153972298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153972298">(Jun 28 2018 at 06:29)</a>:</h4>
<p>In R4, you should have one "identifier" and "profile" should be an array.</p>



<a name="153972357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153972357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153972357">(Jun 28 2018 at 12:36)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>.  That's good to know as we move toward R4.  For R3, however, is the approach I demonstrated above valid?  I think so, as invariant <strong>eld-13</strong> says: "Types must be unique by the combination of code and profile."  But since the IG publisher doesn't handle it correctly, it does give me pause.</p>



<a name="153972428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153972428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153972428">(Jun 28 2018 at 18:41)</a>:</h4>
<p>R3 doesn't allow multiple profiles for any data type.</p>



<a name="153972430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153972430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153972430">(Jun 28 2018 at 18:56)</a>:</h4>
<p>If R3 doesn't support multiple profiles (as a choice), shouldn't <strong>eld-13</strong> simply read: "Types must be unique by code"?  Saying that they must be unique by "combination of code and profile" makes it sound like you can have two types w/ the same code but different profiles.  Where does R3 say you can't have that?</p>



<a name="153972432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153972432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153972432">(Jun 28 2018 at 19:11)</a>:</h4>
<p>In R3, Reference can repeat multiple times</p>



<a name="153972433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153972433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153972433">(Jun 28 2018 at 19:17)</a>:</h4>
<p>Can't find a place that says it can't, but I can't remember the tooling ever supporting it.</p>



<a name="153974105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153974105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153974105">(Jul 06 2018 at 19:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> you do not specify which version of FHIR you are using</p>



<a name="153974303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Choice%20of%20Profiles/near/153974303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Choice.20of.20Profiles.html#153974303">(Jul 09 2018 at 12:30)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> .  I apologize.  My IG uses FHIR 3.0.1 -- and as noted above, indicating that an element should be a choice of multiple profiles (on the same base type) only shows up as the <em>first</em> profile when we produce the IG documentation (although the profile JSON correctly shows both choices in the type array).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
