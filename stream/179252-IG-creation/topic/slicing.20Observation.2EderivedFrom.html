---
layout: page
title: "FHIR Chat  · slicing Observation.derivedFrom · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html">slicing Observation.derivedFrom</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="193625865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/193625865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#193625865">(Apr 10 2020 at 22:36)</a>:</h4>
<p>I'm creating a profile that creates a slice on <code>Observation.derivedFrom</code> that references another profile. If the referenced profile is another Observation, I can set the discriminator type to <code>pattern</code> and the path to <code>resolve().code</code>. But if the referenced profile is something else (e.g., MolecularSequence) that doesn't have a code, how should the path be set? I tried setting it to <code>resolve().type</code> since MolecularSequence contains a <code>type</code>, but I get this error in the <code>qa.html</code>when it goes to validate an example.</p>
<div class="codehilite"><pre><span></span>Unsupported fixed pattern type for discriminator(resolve().type) for slice Observation.derivedFrom
</pre></div>



<a name="193646743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/193646743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#193646743">(Apr 11 2020 at 07:16)</a>:</h4>
<p>discriminator = type + pattern</p>



<a name="206395313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206395313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206395313">(Aug 09 2020 at 13:34)</a>:</h4>
<p>I just tried to apply this. To me it is unclear where and how to apply the pattern of the targeted observation.coding.<br>
Intuitively i would create a path like: <code>Observation.derivedFrom.resolve().code</code>but i'm pretty sure this is wrong. When profiling references i can only find examples on how to do it with the target type or profile.<br>
Couldn't find an example using a pattern on data of the targeted resource.</p>



<a name="206410338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206410338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206410338">(Aug 09 2020 at 20:26)</a>:</h4>
<p>why are you sure this is wrong?</p>



<a name="206437870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206437870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206437870">(Aug 10 2020 at 08:18)</a>:</h4>
<p>Felt/thought that this isn't possible, happy to hear i was probably wrong.</p>



<a name="206438685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206438685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206438685">(Aug 10 2020 at 08:31)</a>:</h4>
<p>Concrete Example: I want to restrict the targets of Compositions.section.entry:</p>
<ul>
<li>discriminator on entry: type: $this.resolve(), pattern: $this.resolve().code</li>
<li>in the slice (Composition.section.entry:firstSlice): targetProfile: <a href="http://hl7.org/fhir/StructureDefinition/Observation">http://hl7.org/fhir/StructureDefinition/Observation</a></li>
</ul>



<a name="206438917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206438917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206438917">(Aug 10 2020 at 08:34)</a>:</h4>
<p>do i now just add another ElementDefinition with id: <code>Observation.derivedFrom.resolve().code</code>and path <code>Observation.derivedFrom.resolve().code</code> including the pattern on Coding into the Composition Profile? </p>
<p>That felt wrong to me.</p>



<a name="206445651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206445651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206445651">(Aug 10 2020 at 10:09)</a>:</h4>
<p>oh. I think... you have to refer to another profile and that profile has to be on the target resource and it has to profile the value to what you want it to be</p>



<a name="206445659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206445659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206445659">(Aug 10 2020 at 10:09)</a>:</h4>
<p>it can be a contained profile - I think the validator test cases do that</p>



<a name="206451029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206451029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206451029">(Aug 10 2020 at 11:33)</a>:</h4>
<p>Thats what i thought. Unfortunately the FHIR Endpoint in this project can't do slicing on profiles</p>



<a name="206451143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206451143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206451143">(Aug 10 2020 at 11:35)</a>:</h4>
<p>Does the end point need to?</p>



<a name="206465745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20Observation.derivedFrom/near/206465745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20Observation.2EderivedFrom.html#206465745">(Aug 10 2020 at 14:19)</a>:</h4>
<p>Yes during validation, to discriminate slices. Thanks for your clarification. As always very helpful.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
