---
layout: page
title: "FHIR Chat  · ValueSetReference lost on publishing 3.0.1 · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html">ValueSetReference lost on publishing 3.0.1</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153972117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153972117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153972117">(Jun 27 2018 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> </p>
<p>I think I found a bug in the newest publisher - I'm publishing with FHIR version 3.0.1 with differentials that have binding.valueSetReference. On running the publisher this reference is lost. I didn't get an error message that I can see. A slightly older version of the publisher does not lose this field. I couldn't find any mention of this here so thought I would let you know.</p>



<a name="153972208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153972208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153972208">(Jun 27 2018 at 20:04)</a>:</h4>
<p>ok I'm at the end of 2 weeks on the road; I'll be prioritising IG issues early next week</p>



<a name="153972213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153972213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153972213">(Jun 27 2018 at 20:21)</a>:</h4>
<p>I always use ValueSetUri    with no issue</p>



<a name="153972214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153972214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153972214">(Jun 27 2018 at 20:26)</a>:</h4>
<p>I've got an older copy that works fine for my purposes. Just thought I'd let you know.</p>



<a name="153974104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974104">(Jul 06 2018 at 19:26)</a>:</h4>
<p><span class="user-mention" data-user-id="196572">@Travis Stenerson</span> I'm trying to catch up on IG publishing issues. I can't see easily from the code what is the problem here. how do I reproduce this?</p>



<a name="153974107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974107">(Jul 06 2018 at 19:51)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> </p>
<p>I produced a differential with this:</p>
<div class="codehilite"><pre><span></span>{
                &quot;id&quot;: &quot;Observation.valueCodeableConcept&quot;,
                &quot;path&quot;: &quot;Observation.valueCodeableConcept&quot;,
                &quot;type&quot;: [
                    {
                        &quot;code&quot;: &quot;CodeableConcept&quot;
                    }
                ],
                &quot;binding&quot;: {
                    &quot;strength&quot;: &quot;required&quot;,
                    &quot;valueSetReference&quot;: {
                        &quot;reference&quot;: &quot;https://fhir.evinance.net/baseDstu3/ValueSet/cN-category-values-ajcc8-HAN-MSG&quot;
                    }
                }
            }
</pre></div>


<p>And what resulted after running the publisher with those differentials was this:</p>
<div class="codehilite"><pre><span></span>{
                &quot;id&quot;: &quot;Observation.valueCodeableConcept&quot;,
                &quot;path&quot;: &quot;Observation.valueCodeableConcept&quot;,
                &quot;type&quot;: [
                    {
                        &quot;code&quot;: &quot;CodeableConcept&quot;
                    }
                ],
                &quot;binding&quot;: {
                    &quot;strength&quot;: &quot;required&quot;
                }
            }
</pre></div>


<p>The differential is built with python, the valueset was definitely available. I didn't actually get any errors when it built.<br>
the build file has version 3.0.1</p>



<a name="153974108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974108">(Jul 06 2018 at 19:54)</a>:</h4>
<blockquote>
<p>what resulted after running</p>
</blockquote>
<p>where?</p>



<a name="153974109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974109">(Jul 06 2018 at 19:55)</a>:</h4>
<p>That was the produced StructureDefinition, the full snapshot version. In the output folder.</p>
<p>The version that worked was: <br>
FHIR Implementation Guide Publisher (v3.4.0-13801, gen-code v3.4.0-13757)</p>
<p>The version that didn't seem to work had that five digit number at like 13850?</p>



<a name="153974110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974110">(Jul 06 2018 at 19:56)</a>:</h4>
<p>ah found it</p>



<a name="153974111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974111">(Jul 06 2018 at 19:57)</a>:</h4>
<p>13866</p>



<a name="153974112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974112">(Jul 06 2018 at 19:57)</a>:</h4>
<p>k. committed a fix. wait for the next build, you should be good</p>



<a name="153974113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974113">(Jul 06 2018 at 19:58)</a>:</h4>
<p>Thanks</p>



<a name="153974175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974175">(Jul 06 2018 at 20:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191897">@Christopher Schuler</span>  also fixed your issue with v3 value set references</p>



<a name="153974177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christopher Schuler <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974177">(Jul 06 2018 at 20:39)</a>:</h4>
<p>Awesome, thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> !</p>



<a name="153974193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christopher Schuler <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974193">(Jul 06 2018 at 21:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , the binding links are much closer now, but still broken. For example, the url for MedicationDispense SubstanceAdminSubstitutionReason in the snapshot table is <a href="http://hl7.org/implement/standards/fhir/STU3/v3/SubstanceAdminSubstitutionReason/index.html" target="_blank" title="http://hl7.org/implement/standards/fhir/STU3/v3/SubstanceAdminSubstitutionReason/index.html">http://hl7.org/implement/standards/fhir/STU3/v3/SubstanceAdminSubstitutionReason/index.html</a>, but it should be <a href="http://hl7.org/implement/standards/fhir/STU3/v3/SubstanceAdminSubstitutionReason/vs.html" target="_blank" title="http://hl7.org/implement/standards/fhir/STU3/v3/SubstanceAdminSubstitutionReason/vs.html">http://hl7.org/implement/standards/fhir/STU3/v3/SubstanceAdminSubstitutionReason/vs.html</a></p>



<a name="153974194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974194">(Jul 06 2018 at 21:59)</a>:</h4>
<p>where is this? but why is it even starting with <a href="http://hl7.org/implement/standards/fhir/" target="_blank" title="http://hl7.org/implement/standards/fhir/">http://hl7.org/implement/standards/fhir/</a>? that URL should never appear anywhere</p>



<a name="153974196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christopher Schuler <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974196">(Jul 06 2018 at 22:04)</a>:</h4>
<p>Yeah, that's weird - those links weren't pointing there in previous builds. It is in the QiCore IG: <a href="http://build.fhir.org/ig/cqframework/qi-core/StructureDefinition-qicore-medicationdispense.html" target="_blank" title="http://build.fhir.org/ig/cqframework/qi-core/StructureDefinition-qicore-medicationdispense.html">http://build.fhir.org/ig/cqframework/qi-core/StructureDefinition-qicore-medicationdispense.html</a>. Those links I posted were from my local build. I committed that about 5 mins ago.</p>



<a name="153974203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/ValueSetReference%20lost%20on%20publishing%203.0.1/near/153974203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/ValueSetReference.20lost.20on.20publishing.203.2E0.2E1.html#153974203">(Jul 06 2018 at 22:55)</a>:</h4>
<p>ok fixed</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
