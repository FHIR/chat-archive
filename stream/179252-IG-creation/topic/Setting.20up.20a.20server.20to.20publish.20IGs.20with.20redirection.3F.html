---
layout: page
title: "FHIR Chat  · Setting up a server to publish IGs with redirection? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html">Setting up a server to publish IGs with redirection?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="199802229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199802229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199802229">(Jun 04 2020 at 20:07)</a>:</h4>
<p>We're developing a couple of organizational IGs (non-HL7) that we want to host. If possible, I'd like to do this using the same tooling and methods as HL7 uses. For example, we'd like to have a CI/CD environment. Travis? Jenkins? does it matter? Also, I'd like to use the same tooling that HL7 uses for redirection of structuredefinition urls (e.g., <code>http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient</code> gets redirected to <code>http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-patient.html</code>). From reading <a href="#narrow/stream/179252-IG-creation/topic/IG.20releases">this thread</a>, I see a comment from <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  saying there's a <code>publish.ini</code> file that is used to generate code to do this depending on whether the server parameter is set to Apache or ASP. Does this need to exist before running the igpublisher? or is it something read by other tooling? And where exactly does it go? I've seen someone mention<code>input/pages/publish.ini</code> I can't seem to find any clear documentation around it. I've seen the <a href="https://confluence.hl7.org/display/FHIR/Process+for+Publishing+a+FHIR+IG">Process for Publishing a FHIR IG</a> and  <a href="https://wiki.hl7.org/FHIR_Guide_to_Authoring_Types">FHIR Guide to Authoring Types</a>, but it doesn't have much of a documentation around <code>publish.ini</code> (just a bit around <code>[pages]</code> and talks about "shared types" which I admit I don't understand. Any clarification will be greatly appreciated.</p>



<a name="199803397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199803397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199803397">(Jun 04 2020 at 20:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191916">@ Bob Milius</span> I recently went through the process of manually publishing an IG - i did it manually and may have cut some corners, but it turns out to be not so complicated in the essence</p>



<a name="199803635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199803635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199803635">(Jun 04 2020 at 20:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> I've been able to manually upload an IG to an S3 bucket. I'm looking more toward the redirection bit, and adding a CI/CD environment, as well as having a process for current builds, and milestone releases for our organization. Have you been able to do that?</p>



<a name="199803643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199803643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199803643">(Jun 04 2020 at 20:21)</a>:</h4>
<p>I'm not sure but I think the redirects are a result of the packages</p>



<a name="199803748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199803748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199803748">(Jun 04 2020 at 20:22)</a>:</h4>
<p>CI- CD - interesting, I'm on to it as well. Your idea to use Jenkins may just help me a lot</p>



<a name="199803812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199803812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199803812">(Jun 04 2020 at 20:22)</a>:</h4>
<p>my first step was to get the publisher to do this (notice the publish box):<br>
<a href="https://hl7belgium.org/fhir/2020May">https://hl7belgium.org/fhir/2020May</a></p>



<a name="199804455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199804455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199804455">(Jun 04 2020 at 20:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> the IG looks nice! But I'm not seeing the redirection. e.g., I think the url <code>https://www.ehealth.fgov.be/standards/fhir/StructureDefinition/be-patient</code> should redirect to <code>https://hl7belgium.org/fhir/2020May/StructureDefinition-be-patient.html</code>, shouldn't it?</p>



<a name="199804697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199804697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199804697">(Jun 04 2020 at 20:31)</a>:</h4>
<p>or <code>[igname]/StructureDefinition/[profile]</code> should redirect to <code>[igname]/StructureDefinition-[profile]</code></p>



<a name="199805217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199805217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199805217">(Jun 04 2020 at 20:36)</a>:</h4>
<p>i  did not setup the redirects. Perhaps we can do that soon?</p>



<a name="199805298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199805298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199805298">(Jun 04 2020 at 20:36)</a>:</h4>
<p>and indeed I have to clean up the urls - this IG actually uses resources that are from another IG, and I am not sure how best to handle it</p>



<a name="199805456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199805456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199805456">(Jun 04 2020 at 20:38)</a>:</h4>
<p>I'll check my notes about getting the publisher to move through the release cycle (ci-build, qa-preview, final...) and I will share them</p>



<a name="199805670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199805670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199805670">(Jun 04 2020 at 20:40)</a>:</h4>
<p>(I took those notes sometime before my computer got attacked, so i don't have them here). But I started with a simple vanilla process, and now I hope to enrich with all these details - that is the process that works for me: remove parts until I see how it works, then add those parts again</p>



<a name="199807294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199807294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199807294">(Jun 04 2020 at 20:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191916">@ Bob Milius</span>:</p>
<ul>
<li>the publishing thing is a separate mode that you run the IG publisher in at a different time in the process.</li>
<li>it's true that this is very poorly documented</li>
<li>the redirects aren't going to work on an S3 bucket. They need active logic on the server, and there's no way I've found to do that on an S3 bucket</li>
<li>Setting up a CI build if you can't use the public one is a much bigger piece of work - that's real infrastructure...</li>
</ul>



<a name="199811743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199811743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199811743">(Jun 04 2020 at 21:38)</a>:</h4>
<p>so, what is required? I am trying to get IHE publication site and need to give system requirements.</p>



<a name="199813154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199813154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199813154">(Jun 04 2020 at 21:51)</a>:</h4>
<p>you need a web server. Currently, we support Apache, Nginx, Lightspeed, and IIS</p>



<a name="199813297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199813297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199813297">(Jun 04 2020 at 21:52)</a>:</h4>
<p>and technically, the sub-directory that hosts the FHIR content needs to be able to run ASP or PHP scripts. I can provide more specific requirements by web server</p>



<a name="199816078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199816078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199816078">(Jun 04 2020 at 22:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F/near/199807294">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191916"> Bob Milius</span>:</p>
<ul>
<li>the redirects aren't going to work on an S3 bucket. They need active logic on the server, and there's no way I've found to do that on an S3 bucket</li>
</ul>
</blockquote>
<p>The S3 thing was just to quickly share. We are planning on deploying a dockerized Apache server. Any advice on this would be welcome</p>
<blockquote>
<ul>
<li>Setting up a CI build if you can't use the public one is a much bigger piece of work - that's real infrastructure...</li>
</ul>
</blockquote>
<p>I'm assuming we can't use the public one for a non-HL7 IG. Is that true?<br>
We have devops guys who can set up the infrastructure. I was just wondering if there are preferred public tools/workflows we can reuse. They are talking Atlassian Bamboo for CI/CD. Maybe that would be easiest for us.</p>



<a name="199816095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199816095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199816095">(Jun 04 2020 at 22:23)</a>:</h4>
<p>According to <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/how-to-page-redirect.html">this S3 documentation</a>, you can setup redirects with Amazon S3.  I've never tried it before though.</p>
<p>I just experimented with a poor man's approach that <em>seems</em> to work, assuming you're hosting your IG at a URL matching its canonical root.  It takes advantage of two things:</p>
<ol>
<li>Most web servers are setup such that if you request a path matching a folder, it will serve the <code>index.html</code> from that folder</li>
<li>The <code>META</code> refresh directive</li>
</ol>
<p>Basically, if my IG has canonical URL: <code>http://example.org/fhir/myIG/</code> and is also hosted at <code>http://example.org/fhir/myIG/</code>, then <code>MyProfile</code> documentation will be at: <code>http://example.org/fhir/myIG/StructureDefinition-MyProfile.html</code>.  The canonical for <code>MyProfile</code> will be <code>http://example.org/fhir/myIG/StructureDefinition/MyProfile</code>.  So here is what I do:</p>
<ol>
<li>Create a <code>StructureDefinition</code> folder at the root of where my IG is served.  Now <code>http://example.org/fhir/myIG/StructureDefinition</code> would go there.</li>
<li>Create a <code>MyProfile</code> folder under <code>StructureDefinition</code>.  Now <code>http://example.org/fhir/myIG/StructureDefinition/MyProfile</code> would go there -- but there's nothing there to serve yet.</li>
<li>Create a simple <code>index.html</code> file in the <code>MyProfile</code> folder.  Now <code>http://example.org/fhir/myIG/StructureDefinition/MyProfile</code> will serve that <code>index.html</code> file.</li>
<li>Put a <code>META</code> directive in that index.html to redirect to MyProfile's documentation page.  E.g.,:</li>
</ol>
<div class="codehilite"><pre><span></span><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;META http-equiv=&quot;refresh&quot; content=&quot;0;URL=http://example.org/fhir/myIG/StructureDefinition-MyProfile.html&quot;&gt;
&lt;body&gt;
Redirecting to &lt;a href=&quot;http://example.org/fhir/myIG/StructureDefinition-MyProfile.html&quot;&gt;http://example.org/fhir/myIG/StructureDefinition-MyProfile.html&lt;/a&gt;...
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>


<p>So... I don't know if that's helpful.  But it was kind of fun figuring out.  And a script could be written to basically setup all that structure so the redirects work on any standard HTTP server.</p>



<a name="199817269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199817269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199817269">(Jun 04 2020 at 22:38)</a>:</h4>
<p>What are PHP or ASP for?</p>



<a name="199817998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199817998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199817998">(Jun 04 2020 at 22:46)</a>:</h4>
<p>well, the scripts look at the request on the canonical URL, and decide whether the client wants HTML, JSON, or XML based on the Accept header, and redirects to the appropriate file</p>



<a name="199818233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199818233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199818233">(Jun 04 2020 at 22:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> that's new but typical of Amazon. I have no idea how I would set that in bulk because the only way I can see how to make it work says</p>
<blockquote>
<p>Amazon S3 has a limitation of 50 routing rules per website configuration</p>
</blockquote>
<p>50? I routinely have 1000s. And I still don't see how to do different redirects based on the Accept header. So I'll still call this unsupported for now</p>



<a name="199818640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199818640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Johnson <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199818640">(Jun 04 2020 at 22:53)</a>:</h4>
<p>It is easy to mistake generated IG content as plain html that could be served by S3.  The solution may be a requirements document that indicates the need for redirects by scripting language, required mime types and any other background processes.</p>



<a name="199819340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199819340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199819340">(Jun 04 2020 at 23:01)</a>:</h4>
<p>We used S3 just as a proof-of-concept to share with others to evaluate the IG during development. When we finally deploy it'll be in a dockerized Apache server. Any advice on using the <code>publish.ini</code> file and steps to run the scripts to generate the proper PHP would be nice so we don't have to reinvent it.</p>



<a name="199819544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199819544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199819544">(Jun 04 2020 at 23:04)</a>:</h4>
<p>dockerised Apache will work fine.</p>



<a name="199819553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199819553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199819553">(Jun 04 2020 at 23:04)</a>:</h4>
<p>you certainly don't want to re-invent it</p>



<a name="199819563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199819563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199819563">(Jun 04 2020 at 23:04)</a>:</h4>
<p>I wrote it up for <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> - do you know where that was?</p>



<a name="199819708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199819708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199819708">(Jun 04 2020 at 23:06)</a>:</h4>
<p>I think you mean the instructions in the thread that Bob mentions on the top of this thread?</p>



<a name="199819947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199819947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199819947">(Jun 04 2020 at 23:09)</a>:</h4>
<p><a href="#narrow/stream/179252-IG-creation/topic/IG.20releases/near/196823326">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/IG.20releases/near/196823326</a></p>



<a name="199823412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199823412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199823412">(Jun 04 2020 at 23:59)</a>:</h4>
<p>yes that one thanks</p>



<a name="199872293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199872293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199872293">(Jun 05 2020 at 13:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- I missed that bit about the S3 limit of 50 rules per website.  That's just silly.  Sorry for the red herring.  And yeah, doing different redirects for accepted content type makes it even trickier.  My hack solution doesn't cover that either.</p>



<a name="199892992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199892992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199892992">(Jun 05 2020 at 15:28)</a>:</h4>
<p>Jumping back to CI/CD, I'm working on GitHub action definitions to run SUSHI and IG-Publisher.  With those pieces, you can do quite a bit directly in GitHub (e.g., build and publish to GH-Pages on check-in, etc.).</p>



<a name="199894290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199894290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199894290">(Jun 05 2020 at 15:36)</a>:</h4>
<p>I'd like to look at that.</p>



<a name="199897968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199897968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199897968">(Jun 05 2020 at 16:02)</a>:</h4>
<blockquote>
<p>I'm working on GitHub action definitions to run SUSHI and IG-Publisher</p>
</blockquote>
<p><span class="user-mention" data-user-id="255031">@Julia Afeltra</span> also did some work on something like this.  She didn't have a chance to take it as far as she wanted, but she might have something to share.  Julia, is there anything worth sharing from that effort?</p>



<a name="199906236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199906236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199906236">(Jun 05 2020 at 17:03)</a>:</h4>
<p>Hoping to get back to it later today - once a pass is working I'll put a link to the repo here.  That said, once it's working I hope to move it under the HL7 GH org so that it's not locked on me.</p>



<a name="199920838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199920838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julia Afeltra <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199920838">(Jun 05 2020 at 19:04)</a>:</h4>
<p>I don't think I have much to share based off of where I got to in the work. I was trying to do similar things (run SUSHI and the IG publisher and then publish to GitHub Pages), and I was able to get an IG onto GitHub pages. Hopefully things have been going smoothly for you as well.</p>



<a name="199931954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199931954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199931954">(Jun 05 2020 at 20:46)</a>:</h4>
<p>I understand the desire for this, but it would be great, from my pov, if the builds doing that would continue to update <a href="https://fhir.github.io/auto-ig-builder/builds.html">https://fhir.github.io/auto-ig-builder/builds.html</a> and the <a class="stream" data-stream-id="179297" href="/#narrow/stream/179297-committers.2Fnotification">#committers/notification</a> thread (unless not a public github repo)</p>



<a name="199932040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199932040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199932040">(Jun 05 2020 at 20:46)</a>:</h4>
<p>also, you shouldn't need a github action to run sushi if you can run the ig publisher</p>



<a name="199932583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199932583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199932583">(Jun 05 2020 at 20:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F/near/199932040">said</a>:</p>
<blockquote>
<p>also, you shouldn't need a github action to run sushi if you can run the ig publisher</p>
</blockquote>
<p>Yep, figured that out earlier today  :-)</p>



<a name="199933442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/199933442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#199933442">(Jun 05 2020 at 20:59)</a>:</h4>
<p>For updating the builds.html file.. I think it's possible, but I need to tinker a bit.<br>
First thought is something like a different webhook for <code>auto-ig-builder</code> that collects the information but doesn't trigger a build.  Will add to my list for it.</p>



<a name="200299408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/200299408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Preston Lee <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#200299408">(Jun 09 2020 at 22:30)</a>:</h4>
<p>I've done the same for S3/CloudFront redirects on projects, though I would think an apache vhost with mod_rewrite rules (or w/nginx) would be cleaner so nothing needs to be generated</p>



<a name="200299753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Setting%20up%20a%20server%20to%20publish%20IGs%20with%20redirection%3F/near/200299753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Setting.20up.20a.20server.20to.20publish.20IGs.20with.20redirection.3F.html#200299753">(Jun 09 2020 at 22:34)</a>:</h4>
<p>I still generate the rules for servers that support the rules with enough precision, since there's a lot of them. But right now, I'm still doing redirects using PHP for Apache, because last time I couldn't see how to do rewrite rules based on Accept header for Apache</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
