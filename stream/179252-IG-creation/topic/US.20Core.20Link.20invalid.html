---
layout: page
title: "FHIR Chat  · US Core Link invalid · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html">US Core Link invalid</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183583317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183583317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183583317">(Dec 16 2019 at 19:45)</a>:</h4>
<p>Hello<br>
I have a dependency on US Core and the dependency is working when i create profiles and such. However whenever I refer to US Core using the following Link it comes up as Invalid in the QA Report, Any idea on what may be going on ? </p>
<p>The link '<a href="http://hl7.org/fhir/us/core/STU3" target="_blank" title="http://hl7.org/fhir/us/core/STU3">http://hl7.org/fhir/us/core/STU3</a>' for "US Core - R4 version" cannot be resolved<br>
Should i use the complete URI as present in the Dependencies below to avoid the error ? </p>
<p>Any thoughts would be appreciated .. </p>
<p>&lt;dependsOn&gt;<br>
    &lt;uri value="http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core"/&gt;<br>
    &lt;packageId value="hl7.fhir.us.core"/&gt;<br>
    &lt;version value="3.1.0"/&gt;<br>
  &lt;/dependsOn&gt;</p>



<a name="183584019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183584019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183584019">(Dec 16 2019 at 19:52)</a>:</h4>
<p>I would have expected:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;dependsOn&gt;</span>
  <span class="nt">&lt;uri</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/us/core&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;packageId</span> <span class="na">value=</span><span class="s">&quot;hl7.fhir.us.core&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;version</span> <span class="na">value=</span><span class="s">&quot;3.1.0&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/dependsOn&gt;</span>
</pre></div>



<a name="183614832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183614832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183614832">(Dec 17 2019 at 03:39)</a>:</h4>
<p>If I use the above dependency as suggested, I get an Exception as below</p>
<p>org.hl7.fhir.exceptions.FHIRException: Unable to understand IG url: <a href="http://hl7.org/fhir/us/core" target="_blank" title="http://hl7.org/fhir/us/core">http://hl7.org/fhir/us/core</a><br>
    at org.hl7.fhir.igtools.publisher.Publisher.determineCanonical(Publisher.java:1540)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:2213)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1475)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1168)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:650)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6661)</p>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span>  had provided the above dependency solution which works..but my absolute links  <br>
'<a href="http://hl7.org/fhir/us/core/STU3" target="_blank" title="http://hl7.org/fhir/us/core/STU3">http://hl7.org/fhir/us/core/STU3</a>'  show up as Error in the build log but the link itself resolves.</p>



<a name="183615470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183615470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183615470">(Dec 17 2019 at 03:54)</a>:</h4>
<p>ahh. technically, you depend on the IG resource itself, so your reference needs to be : <a href="http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core" target="_blank" title="http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core">http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core</a></p>



<a name="183615577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183615577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183615577">(Dec 17 2019 at 03:57)</a>:</h4>
<p>So that works and the links when i navigate on the Browser works.<br>
For e.g when I derive from the US Core Patient, it is recognized and the profile renders. </p>
<p>However the build QA output has the following error: <br>
The link '<a href="http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-patient.html" target="_blank" title="http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-patient.html">http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-patient.html</a>' for "USCorePatientProfile" cannot be resolved</p>
<p>There are many errors like this all of which point back to USCore, which it says it does not recognize, cannot resolve etc. </p>
<p>Trying to figure out what the tool does not like ..</p>



<a name="183615623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183615623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183615623">(Dec 17 2019 at 03:58)</a>:</h4>
<p>which IG is this? I'm about to go out but I'll have a look later tonight</p>



<a name="183615662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183615662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183615662">(Dec 17 2019 at 03:59)</a>:</h4>
<p>QA Output : <a href="http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html" target="_blank" title="http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html">http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html</a> <br>
GitHub Location: <a href="https://github.com/hl7/davinci-atr" target="_blank" title="https://github.com/hl7/davinci-atr">https://github.com/hl7/davinci-atr</a> </p>
<p>Everything is checked in, by the way I am using the new templates, dont know if that matters. <br>
The dependency is present in davinci-atr.xml</p>



<a name="183652747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183652747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183652747">(Dec 17 2019 at 14:28)</a>:</h4>
<p>I have US Core dependency for Da Vinci Notifications using the old ig.json approach:</p>
<div class="codehilite"><pre><span></span>  &quot;dependencyList&quot;: [
    {
      &quot;name&quot;: &quot;uscore&quot;,
      &quot;package&quot;: &quot;hl7.fhir.us.core&quot;,
      &quot;version&quot;: &quot;3.1.0&quot;,
      &quot;location&quot;: &quot;http://hl7.org/fhir/us/core&quot;
    },
    {
      &quot;name&quot;: &quot;hrex&quot;,
      &quot;package&quot;: &quot;hl7.fhir.us.davinci-hrex&quot;,
      &quot;version&quot;: &quot;0.1.0&quot;,
      &quot;location&quot;: &quot;http://hl7.org/fhir/us/davinci-hrex&quot;
    }
  ],
</pre></div>


<p>which corresponds to the Implementation Guide resource as :</p>
<div class="codehilite"><pre><span></span>  &lt;!-- insert dependency --&gt;
  &lt;dependsOn id=&quot;hrex&quot;&gt;
    &lt;!-- 0..* Another Implementation guide this depends on --&gt;
    &lt;uri value=&quot;http://hl7.org/fhir/us/davinci-hrex&quot;&gt;
      &lt;!-- 1..1 canonical(ImplementationGuide) Identity of the IG that this depends on --&gt;
    &lt;/uri&gt;
    &lt;packageId value=&quot;hl7.fhir.us.davinci-hrex&quot;/&gt;
    &lt;!-- 0..1 NPM Package name for IG this depends on --&gt;
    &lt;version value=&quot;0.1.0&quot;/&gt;&lt;!-- 0..1 Version of the IG --&gt;&lt;/dependsOn&gt;
  &lt;dependsOn id=&quot;uscore&quot;&gt;
    &lt;!-- 0..* Another Implementation guide this depends on --&gt;
    &lt;uri value=&quot;http://hl7.org/fhir/us/core&quot;&gt;
      &lt;!-- 1..1 canonical(ImplementationGuide) Identity of the IG that this depends on --&gt;
    &lt;/uri&gt;
    &lt;packageId value=&quot;hl7.fhir.us.core&quot;/&gt;
    &lt;!-- 0..1 NPM Package name for IG this depends on --&gt;
    &lt;version value=&quot;3.1.0&quot;/&gt;&lt;!-- 0..1 Version of the IG --&gt;&lt;/dependsOn&gt;
</pre></div>



<a name="183652805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183652805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183652805">(Dec 17 2019 at 14:29)</a>:</h4>
<p>last time I checked this worked for  me..,</p>



<a name="183653116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183653116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183653116">(Dec 17 2019 at 14:32)</a>:</h4>
<p>The dependencies work, but the Build has unresolved link errors but they all resolve.</p>



<a name="183653476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183653476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183653476">(Dec 17 2019 at 14:36)</a>:</h4>
<p>no errors for me, let me clone yours and run and see.....</p>



<a name="183653589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183653589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183653589">(Dec 17 2019 at 14:37)</a>:</h4>
<p>If I use the Id maybe it will go away... I could use {{site.data.fhir.uscore}}/index.html ..correct ?</p>



<a name="183654942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183654942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183654942">(Dec 17 2019 at 14:51)</a>:</h4>
<p>After I used the id now that eliminated a whole bunch of errors. I will check in that fix and get the errors reduced before i address the next batch. I will have to do the same in profile of profiles i think..where i see the same issues with uscore references.</p>



<a name="183664221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183664221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183664221">(Dec 17 2019 at 16:22)</a>:</h4>
<p>Here is what I get with the templates build...</p>
<div class="codehilite"><pre><span></span>Error checking links for hl7.fhir.us.core#3.0.0: null
Error checking links for hl7.fhir.us.core#3.1.0: null
  ... 638 html files, 0 pages invalid xhtml (0%)                                 (02:22.0534)
  ... 201906 links, 375 broken links (0%)
</pre></div>



<a name="183664342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183664342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183664342">(Dec 17 2019 at 16:23)</a>:</h4>
<p>this is before I made any changes.</p>



<a name="183665461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183665461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183665461">(Dec 17 2019 at 16:34)</a>:</h4>
<p>ooops on the above IG resource,  I need to update the uris to IGs.</p>



<a name="183665759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183665759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183665759">(Dec 17 2019 at 16:36)</a>:</h4>
<p>(deleted)</p>



<a name="183671037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183671037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183671037">(Dec 17 2019 at 17:32)</a>:</h4>
<p>I don't have a clue.. I have yet to wrangle and tame the templates approach... sorry.</p>



<a name="183688486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183688486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183688486">(Dec 17 2019 at 20:33)</a>:</h4>
<p><span class="user-mention" data-user-id="192017">@Nagesh Bashyam</span> I am still debugging to make sure this kind of thing has a clear answer.. but which are you trying to refer to? STU3 or STU3.1? Because that's the immediate source of your problems</p>



<a name="183690513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183690513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183690513">(Dec 17 2019 at 20:55)</a>:</h4>
<p>3.1<br>
The dependency has only 3.1.0 in it..<br>
How does 3.0 come into picutre ?</p>



<a name="183694708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183694708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183694708">(Dec 17 2019 at 21:39)</a>:</h4>
<p>the build reports an error that it can't find 3.0.0 ( see above )</p>



<a name="183706845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183706845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183706845">(Dec 18 2019 at 00:23)</a>:</h4>
<blockquote>
<p>How does 3.0 come into picutre ?</p>
</blockquote>
<p>In the menu, you have hard coded links to 3.0.0 not 3.1.0</p>



<a name="183707209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183707209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183707209">(Dec 18 2019 at 00:29)</a>:</h4>
<p>ok so I will update your source, and the IG publisher, leaving you to fix:</p>
<ul>
<li>you have broken links in the narrative</li>
<li>you are adding a link to a downloadable schematron, but the path in the link is wrong</li>
</ul>



<a name="183719182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20Link%20invalid/near/183719182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20Link.20invalid.html#183719182">(Dec 18 2019 at 04:23)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , the change is awesome ..almost all of the US Core bad links are resolved. <br>
I will work on the rest, there are few that are because of the new template which will get resolved soon.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
