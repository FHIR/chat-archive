---
layout: page
title: "FHIR Chat  · build STU3 IG · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/build.20STU3.20IG.html">build STU3 IG</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="180435936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/build%20STU3%20IG/near/180435936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cees de Jonge <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/build.20STU3.20IG.html#180435936">(Nov 11 2019 at 16:09)</a>:</h4>
<p>Next to our R4 IG's we are (still) building our STU3 IG's.<br>
We have some trouble separating the STU3 from R4. Sooner or later in our STU3 IG's we hit R4 references (references without version information). We have some problems with the "baseDefinition" element in our profiles if they reference base-profiles (<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>).<br>
We provide our derived profiles as differentials only. We notice in creation the snapshots the proper FHIR version is used (STU3) and also the "fhirVersion" element in the snapshot is adjusted to "3.0.2" (we specified 3.0.1), but the "baseDefinition" element stays untouched, which ends up in the IG's as a reference to R4 resources.</p>
<p>Is there a way out or do I overlook something (I'm pretty new to this subject)</p>



<a name="180452417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/build%20STU3%20IG/near/180452417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/build.20STU3.20IG.html#180452417">(Nov 11 2019 at 19:28)</a>:</h4>
<p>well, this ends up being tricky. the baseDefinition is a reference to a canonical URL and if you say that this is a R3 resource, the space of resolution is magically understood to be the R3 space, and the baseDefinition still refers to the R3 base</p>



<a name="180491632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/build%20STU3%20IG/near/180491632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cees de Jonge <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/build.20STU3.20IG.html#180491632">(Nov 12 2019 at 08:11)</a>:</h4>
<p>Indeed the documentation pages we create for our resources indeed contains R3 content.<br>
Only our line "This profile is based on ..." brings us to R4 content. Not if this point to our own profile, because they have fhir-version information in the canonicalURL.<br>
I can of course create a little post-processing script to replace '<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>' with '<a href="http://hl7.org/fhir/stu3" target="_blank" title="http://hl7.org/fhir/stu3">http://hl7.org/fhir/stu3</a>'.<br>
I wonder if there is a better way to do this. Should this be done in the template we use? <br>
Had a look at the template but was not able to find a hook, but then again I do not know Jekyll well enough.</p>



<a name="180493243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/build%20STU3%20IG/near/180493243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/build.20STU3.20IG.html#180493243">(Nov 12 2019 at 08:33)</a>:</h4>
<p>no you don't need to do post-processing. If the references are to <a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">hl7.org/fhir</a> there's something wrong. can I try building this IG?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
