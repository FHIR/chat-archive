---
layout: page
title: "FHIR Chat  · Template approach · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html">Template approach</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="167730451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167730451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167730451">(Jun 10 2019 at 03:37)</a>:</h4>
<p>One of the things that would be nice to do as part of the onCheck (and/or onGenerate) is the ability for the Ant process to define additional validation results.  For example, one of my clients has a rule that every element in a differential must declare mustSupport.  Right now, I run a check before the IGPublisher launches that just blows up if the check fails, but really this should be something that shows up in the validation results.  Would it be possible to define a file (presumably JSON) that the Ant script could populate with a list of additional issues (with severity, the artifact, the location and the issue) that could then be integrated and sorted and reported as part of the final build (including being incorporated into error and warning counts, etc.)?  (<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> )</p>



<a name="167753726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167753726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167753726">(Jun 10 2019 at 12:13)</a>:</h4>
<p>ok. it's a file validation.json/xml in the root of the template directory. The IGPublisher will ensure that it doesn't exist before running the script, and if it does exist afterwards, will load it. Format will be :</p>
<ul>
<li>an OperationOutcome in json or xml format (by file extension) in R5 format</li>
<li>each issue must have a severity, a code, a details.text, and an expression (which need not be fhirpath)</li>
</ul>
<p>Issues may also carry extensions:</p>
<ul>
<li>"<a href="http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-source" target="_blank" title="http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-source">http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-source</a>" - the filename in which the error occurs, relative to the root. If this is not present, or not matched, the error will be reported against the IG as a whole</li>
<li><a href="http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-line" target="_blank" title="http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-line">http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-line</a></li>
<li><a href="http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-col" target="_blank" title="http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-col">http://hl7.org/fhir/StructureDefinition/operationoutcome-issue-col</a></li>
<li><a href="http://hl7.org/fhir/StructureDefinition/rendering-xhtml" target="_blank" title="http://hl7.org/fhir/StructureDefinition/rendering-xhtml">http://hl7.org/fhir/StructureDefinition/rendering-xhtml</a> - an html rendering of the element, if preferred as a view</li>
</ul>



<a name="167755095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167755095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167755095">(Jun 10 2019 at 12:35)</a>:</h4>
<p>a fatal error will terminate the publication process</p>



<a name="167789421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167789421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167789421">(Jun 10 2019 at 19:38)</a>:</h4>
<p>done and released</p>



<a name="167819527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167819527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167819527">(Jun 11 2019 at 05:06)</a>:</h4>
<p>Another question:<br>
The onLoad event says the only thing you're allowed to change is the IG resource.  However, this seems like the appropriate time to make changes to other source files (or at least copying a transformed version of source files to a different location that will be used as actual input).  There doesn't seem to be any other event that will allow for the source artifacts to be manipulated.  (Examples of potential manipulation include changing the metadata associated with the artifacts, setting defaults for things like 'mustSupport' that haven't been declared, expanding "shortcuts" embedded in descriptive text, etc.)  Is there a reason to not allow changes to other files?  Does it create problems with the 'continuous publication' mode (because you're not watching source files that would be 'copied')?  If so, is there a way we could work around that by letting you know where to look for files that should be monitored for changes but should not be used as source?</p>



<a name="167837290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167837290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167837290">(Jun 11 2019 at 10:27)</a>:</h4>
<blockquote>
<p>at least copying a transformed version of source files to a different location that will be used as actual input</p>
</blockquote>
<p>Why?</p>



<a name="167837364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167837364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167837364">(Jun 11 2019 at 10:28)</a>:</h4>
<blockquote>
<p>hanging the metadata associated with the artifacts, setting defaults for things like 'mustSupport' that haven't been declared, expanding "shortcuts" embedded in descriptive text</p>
</blockquote>
<p>Why is this the business of the <em>template</em>? Why not just get the content correct?</p>



<a name="167863210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167863210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167863210">(Jun 11 2019 at 15:54)</a>:</h4>
<p>Getting the content correct may require the author to correctly set values in 100s of artifacts and/or reproduce the 'same content' in hundreds of places.  Doing that in bulk is much more efficient and more likely to be accurate/consistent</p>



<a name="167863266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167863266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167863266">(Jun 11 2019 at 15:55)</a>:</h4>
<p>Is there a reason why doing this is problematic?</p>



<a name="167893760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Template%20approach/near/167893760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Template.20approach.html#167893760">(Jun 11 2019 at 21:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
