---
layout: page
title: "FHIR Chat  · Error with Citation resource · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html">Error with Citation resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227594917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/227594917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#227594917">(Feb 24 2021 at 13:09)</a>:</h4>
<p>I've the following error when I try to profile the Citation resource</p>
<p>java.lang.Exception: Error generating snapshot for C:\Users\giorg\OneDrive\github\fhir-forfair-4b\input\profiles\StructureDefinition-Citation-uv-f4f(Citation-uv-f4f): Cannot find or generate snapshot for base definition (<a href="http://hl7.org/fhir/StructureDefinition/Citation">http://hl7.org/fhir/StructureDefinition/Citation</a> from </p>
<p>FHIR version is set to "4.5.0"</p>
<p>I have this error even if I make a very trivial profile </p>
<div class="codehilite"><pre><span></span><code>Profile:  CitationF4F
Parent:   Citation
Id:       Citation-uv-f4f
Title:    &quot;Citation (FHIR for FAIR)&quot;
Description: &quot;This profile defines how to use the Citation resource to convey metadata information for a FAIR dataset by using HL7 FHIR&quot;
* identifier MS
</code></pre></div>



<a name="227644374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/227644374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#227644374">(Feb 24 2021 at 18:04)</a>:</h4>
<p>suggestions ?</p>



<a name="227664405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/227664405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#227664405">(Feb 24 2021 at 20:15)</a>:</h4>
<p>Quick thought - try cleaning out your .class files and see if that helps?</p>



<a name="227664813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/227664813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#227664813">(Feb 24 2021 at 20:18)</a>:</h4>
<p>now you don't do that anymore. class files are now irrelevant. It'll be something to do with packages and versions</p>



<a name="227677746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/227677746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#227677746">(Feb 24 2021 at 21:40)</a>:</h4>
<p>OK.  Good to know we don't need to consider the .class files any longer - I don't recall hearing anything about that.  Agree it then makes sense to look at packages and versions.</p>



<a name="227729356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/227729356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#227729356">(Feb 25 2021 at 07:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource/near/227664813">said</a>:</p>
<blockquote>
<p>now you don't do that anymore. class files are now irrelevant. It'll be something to do with packages and versions</p>
</blockquote>
<p>Basically what do you suggest me to do? :-)</p>



<a name="228258526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/228258526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#228258526">(Mar 01 2021 at 16:18)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  have you any suggestion for me on this point ?</p>



<a name="228308203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/228308203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#228308203">(Mar 01 2021 at 21:20)</a>:</h4>
<p>oh - I meant ot ask - how do I reproduce this?</p>



<a name="228484520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/228484520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#228484520">(Mar 02 2021 at 20:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource/near/228308203">said</a>:</p>
<blockquote>
<p>oh - I meant ot ask - how do I reproduce this?</p>
</blockquote>
<p><a href="https://github.com/HL7/fhir-forfair">https://github.com/HL7/fhir-forfair</a>. <br>
Thanks a lot</p>



<a name="228589823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/228589823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#228589823">(Mar 03 2021 at 13:24)</a>:</h4>
<p>I don't know if it can help..  but  creating a Citation instance, instead of a profile based on the Citation, the error that is returned is the following</p>



<a name="228589840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/228589840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#228589840">(Mar 03 2021 at 13:24)</a>:</h4>
<p>Exception in thread "main" java.lang.Error: The resource type "Citation" does not implement the property "publisher"<br>
        at org.hl7.fhir.r5.model.Citation.getPublisher(Citation.java:11392)<br>
        at org.hl7.fhir.igtools.renderers.StatusRenderer.readOwner(StatusRenderer.java:121)<br>
        at org.hl7.fhir.igtools.renderers.StatusRenderer.analyse(StatusRenderer.java:62)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.genStatus(Publisher.java:7402)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.saveDirectResourceOutputs(Publisher.java:7165)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:6651)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4906)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:888)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:732)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8417)</p>



<a name="228654659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/228654659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#228654659">(Mar 03 2021 at 19:42)</a>:</h4>
<p>so that github repo generates without error for me</p>



<a name="228655057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/228655057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#228655057">(Mar 03 2021 at 19:45)</a>:</h4>
<p>so the stack was very useful. fixed next release</p>



<a name="228732407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/228732407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#228732407">(Mar 04 2021 at 08:14)</a>:</h4>
<p>Thank you so much Grahame !</p>



<a name="229618533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/229618533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#229618533">(Mar 10 2021 at 08:13)</a>:</h4>
<p>The Citation profile now works (thanks :-) ), but if I add an example as the following..</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;Citation&quot;,
  &quot;id&quot;: &quot;10.1038-s41597-021-00811-3&quot;,
  &quot;identifier&quot;: [
    {
      &quot;system&quot;: &quot;https://doi.org&quot;,
      &quot;value&quot;: &quot;10.13026/c4n5-3b04&quot;
    }
  ],
  &quot;name&quot;: &quot;NInFEA&quot;,
  &quot;title&quot;: &quot;A non-invasive multimodal foetal ECG-doppler dataset for antenatal cardiology research&quot;,
  &quot;status&quot;: &quot;active&quot;
}
</code></pre></div>



<a name="229618782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/229618782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#229618782">(Mar 10 2021 at 08:15)</a>:</h4>
<p>the following error is returned </p>
<div class="codehilite"><pre><span></span><code>Generating Summary Outputs                                                       (01:58.0066)
Publishing Content Failed: Cannot invoke &quot;String.compareTo(String)&quot; because the return value of &quot;org.hl7.fhir.r5.model.CanonicalResource.getUrl()&quot; is null (02:16.0464)
&lt;..&gt;
Stack Dump (for debugging):                                                      (02:16.0473)
java.lang.NullPointerException: Cannot invoke &quot;String.compareTo(String)&quot; because the return value of &quot;org.hl7.fhir.r5.model.CanonicalResource.getUrl()&quot; is null
        at org.hl7.fhir.r5.utils.ResourceSorters$CanonicalResourceSortByUrl.compare(ResourceSorters.java:13)
        at org.hl7.fhir.r5.utils.ResourceSorters$CanonicalResourceSortByUrl.compare(ResourceSorters.java:9)
        at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)
        at java.base/java.util.TimSort.sort(TimSort.java:220)
        at java.base/java.util.Arrays.sort(Arrays.java:1306)
        at java.base/java.util.ArrayList.sort(ArrayList.java:1721)
        at java.base/java.util.Collections.sort(Collections.java:179)
        at org.hl7.fhir.igtools.publisher.Publisher.generateCanonicalSummary(Publisher.java:5871)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSummaryOutputs(Publisher.java:5657)
        at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4916)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:888)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:732)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8424)
</code></pre></div>



<a name="229618810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/229618810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#229618810">(Mar 10 2021 at 08:16)</a>:</h4>
<p>any suggestion on where I should look at ?</p>



<a name="232483511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20with%20Citation%20resource/near/232483511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource.html#232483511">(Mar 30 2021 at 19:29)</a>:</h4>
<p>something doesn't have a canonical URL?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
