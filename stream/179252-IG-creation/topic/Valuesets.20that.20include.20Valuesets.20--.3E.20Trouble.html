---
layout: page
title: "FHIR Chat  · Valuesets that include Valuesets --&gt; Trouble · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html">Valuesets that include Valuesets --&gt; Trouble</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="206639183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206639183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206639183">(Aug 11 2020 at 22:34)</a>:</h4>
<p>Having trouble with the IG PUblisher building a ValueSet that includes another Valueset.</p>
<p>Take a look at:   <a href="https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/ValueSet-IndividualSpecialtyAndDegreeLicenseCertificateVS.html">https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/ValueSet-IndividualSpecialtyAndDegreeLicenseCertificateVS.html</a><br>
Codes in this valueset are flagged as not being members of the VS.<br>
See <a href="https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/qa.html#_scratch_ig-build-temp-LZAZV5_repo_input_examples_Practitioner-HansSoloPractitioner">https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/qa.html#_scratch_ig-build-temp-LZAZV5_repo_input_examples_Practitioner-HansSoloPractitioner</a><br>
The code in question <a href="https://taxonomy.nucc.org/#207RC0000X">https://taxonomy.nucc.org/#207RC0000X</a> is definitely part of <a href="https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/ValueSet-IndividualAndGroupSpecialtiesVS.html">https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/ValueSet-IndividualAndGroupSpecialtiesVS.html</a> which is part of the above VS.</p>
<p>I have issues with the CodeSystem for the NUCC Provider Taxonomy, but that error/warning should be distinct from failure of Valueset membership, IMHO.   THX</p>



<a name="206659394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206659394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206659394">(Aug 12 2020 at 04:39)</a>:</h4>
<p>I think I fixed this as part of fixing this: <a href="#narrow/stream/179252-IG-creation/topic/multiple.20valueSets.20in.20a.20valueSet">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/multiple.20valueSets.20in.20a.20valueSet</a></p>



<a name="206659438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206659438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206659438">(Aug 12 2020 at 04:40)</a>:</h4>
<p>if not.. maybe it's an NUCC thing...</p>



<a name="206705203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206705203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206705203">(Aug 12 2020 at 14:59)</a>:</h4>
<p>The behavior of valuesets that include value sets is improved.   They now display properly on the ValueSet Page.<br>
However, I still get lots of warnings and errors when I try to use the codes in examples.<br>
I am referencing NUCC Provider Taxonomy as per <a href="https://www.hl7.org/fhir/terminologies-systems.html">https://www.hl7.org/fhir/terminologies-systems.html</a>  -- <a href="http://nucc.org/provider-taxonomy">http://nucc.org/provider-taxonomy</a>.</p>
<p>Use of NUCC codes in Value sets composed of valuesets that include these codes generate <strong>errors</strong> <a href="https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/qa.html#_scratch_ig-build-temp-W2KPU7_repo_input_examples_HealthcareService-BurrClinicServices">https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/qa.html#_scratch_ig-build-temp-W2KPU7_repo_input_examples_HealthcareService-BurrClinicServices</a> for valid codes.</p>
<p>All NUCC Provider Taxonomy code references generate a warning: <a href="https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/qa.html#_scratch_ig-build-temp-W2KPU7_repo_input_vocabulary_ValueSet-IndividualAndGroupSpecialtiesVS">https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/qa.html#_scratch_ig-build-temp-W2KPU7_repo_input_vocabulary_ValueSet-IndividualAndGroupSpecialtiesVS</a></p>



<a name="206709523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206709523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206709523">(Aug 12 2020 at 15:29)</a>:</h4>
<p>Saul, I have been grappling with this exact thing as well.   I am VERY slowly updating the v3 value sets in the UTG current build that enumerate NUCC codes to use the correct codes (the coremif published old codes that were superseded over 12 years ago but never updated in HL7) and have fixed about half of them as of UTG build 1.0.28.   But several that have valid codes and look ok still are triggering build errors that may still be a remaining publisher issue - I don't know.</p>



<a name="206713341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206713341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206713341">(Aug 12 2020 at 15:56)</a>:</h4>
<p>I'm most concerned about the errors, since that is a barrier to publication.   We are supposed to publish one of these days, sigh.</p>



<a name="206748289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206748289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206748289">(Aug 12 2020 at 20:38)</a>:</h4>
<p>errors in NUCC caused by bad UTG definitions are not a barrier to publishing</p>



<a name="206749001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206749001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206749001">(Aug 12 2020 at 20:44)</a>:</h4>
<p>So can I stop worrying about this type of error, and if I buy you a beer you will tell Melva that I'm to be trusted with these errors? ;-).  The error message makes me think that there is more going on here.   Like a combination of a inability to validate a code and using Valuesets that include valuesets.  I don't get similar errors without the hierarchical valueset.</p>
<p><a href="https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/qa.html#_scratch_ig-build-temp-W2KPU7_repo_input_examples_HealthcareService-BurrClinicServices">https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/qa.html#_scratch_ig-build-temp-W2KPU7_repo_input_examples_HealthcareService-BurrClinicServices</a></p>
<p>Thx...</p>



<a name="206786230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206786230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206786230">(Aug 13 2020 at 07:07)</a>:</h4>
<p>hang on - what is code XXXXXXXX ?</p>



<a name="206852714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/206852714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#206852714">(Aug 13 2020 at 18:37)</a>:</h4>
<p>Mea culpa...fixed that one....</p>



<a name="207680123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/207680123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#207680123">(Aug 21 2020 at 20:20)</a>:</h4>
<p>How and to whom should a signal flare be sent up that there is a problem with the UTG definition?   THANX</p>



<a name="207682179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/207682179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#207682179">(Aug 21 2020 at 20:40)</a>:</h4>
<p>Maybe <a class="stream" data-stream-id="194616" href="/#narrow/stream/194616-terminology-.2F-utg">#terminology / utg</a> ?</p>



<a name="217306454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/217306454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Charlie Filkins <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#217306454">(Nov 19 2020 at 17:53)</a>:</h4>
<p>Folks,</p>
<p>I am experiencing a similar problem validating representations of our resources using NUCC codes. This led me to look at the examples in hl7.fhir.us.davinci-pdex-plan-net#current. For this discussion, I'm working with OrganizationAffiliation-PharmChainAffil3.json and PractitionerRole-HansSoloRole1.json. </p>
<p>The specialty attribute of the OrganizationAffiliation is bound to <a href="http://hl7.org/fhir/us/davinci-pdex-plan-net/ValueSet/SpecialtiesVS">http://hl7.org/fhir/us/davinci-pdex-plan-net/ValueSet/SpecialtiesVS</a>, which includes two other ValueSets. In the PractitionerRole, specialty is bound to <a href="http://hl7.org/fhir/us/davinci-pdex-plan-net/ValueSet/IndividualAndGroupSpecialtiesVS">http://hl7.org/fhir/us/davinci-pdex-plan-net/ValueSet/IndividualAndGroupSpecialtiesVS</a>, which does not include other ValueSets. </p>
<p>Version 5.1.21 of the Validator processes the PractionerRole example just fine (Warning and Informational messages), but not OrganizationExample (Errors too). However 5.1.22 throws Errors for both files.</p>
<p>Any help on this is appreciated ... Charlie</p>



<a name="217345679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valuesets%20that%20include%20Valuesets%20--%3E%20Trouble/near/217345679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valuesets.20that.20include.20Valuesets.20--.3E.20Trouble.html#217345679">(Nov 19 2020 at 23:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
