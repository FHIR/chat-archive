---
layout: page
title: "FHIR Chat  · Socket timeout validating value set code batch · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Socket.20timeout.20validating.20value.20set.20code.20batch.html">Socket timeout validating value set code batch</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221984674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Socket%20timeout%20validating%20value%20set%20code%20batch/near/221984674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Socket.20timeout.20validating.20value.20set.20code.20batch.html#221984674">(Jan 07 2021 at 18:55)</a>:</h4>
<p>I am getting a HTTP socket timeout error when running my guide and it appears to be when it's validating a set of codes in a value set when generating a narrative:</p>
<div class="codehilite"><pre><span></span><code>Generating Narratives                                                            (00:29.0858)
Publishing Content Failed: An error occurred trying to process this transaction request (01:00.0945)
                                                                                 (01:00.0946)
Use -? to get command line help                                                  (01:00.0947)
                                                                                 (01:00.0948)
Stack Dump (for debugging):                                                      (01:00.0950)
org.hl7.fhir.r5.utils.client.EFhirClientException: An error occurred trying to process this transaction request
    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.handleException(FHIRToolingClient.java:325)
    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.transaction(FHIRToolingClient.java:296)
    at org.hl7.fhir.convertors.txClient.TerminologyClientR5.validateBatch(TerminologyClientR5.java:120)
    at org.hl7.fhir.r5.context.BaseWorkerContext.validateCodeBatch(BaseWorkerContext.java:820)
    at org.hl7.fhir.r5.renderers.ValueSetRenderer.getConceptsForCodes(ValueSetRenderer.java:1001)
    at org.hl7.fhir.r5.renderers.ValueSetRenderer.genInclude(ValueSetRenderer.java:825)
    at org.hl7.fhir.r5.renderers.ValueSetRenderer.generateComposition(ValueSetRenderer.java:754)
    at org.hl7.fhir.r5.renderers.ValueSetRenderer.render(ValueSetRenderer.java:84)
    at org.hl7.fhir.r5.renderers.ValueSetRenderer.render(ValueSetRenderer.java:73)
    at org.hl7.fhir.r5.renderers.ResourceRenderer.render(ResourceRenderer.java:74)
    at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:1135)
    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3826)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:877)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:732)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8414)
Caused by: java.net.SocketTimeoutException: timeout
    at okio.Okio$4.newTimeoutException(Okio.java:230)
    at okio.AsyncTimeout.exit(AsyncTimeout.java:285)
    at okio.AsyncTimeout$2.read(AsyncTimeout.java:241)
    at okio.RealBufferedSource.indexOf(RealBufferedSource.java:345)
    at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:217)
    at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:211)
    at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189)
    at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:75)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
    at org.hl7.fhir.r5.utils.client.network.RetryInterceptor.intercept(RetryInterceptor.java:60)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
    at okhttp3.RealCall.execute(RealCall.java:69)
    at org.hl7.fhir.r5.utils.client.network.FhirRequestBuilder.executeAsBatch(FhirRequestBuilder.java:214)
    at org.hl7.fhir.r5.utils.client.network.Client.executeBundleRequest(Client.java:197)
    at org.hl7.fhir.r5.utils.client.network.Client.postBatchRequest(Client.java:181)
    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.transaction(FHIRToolingClient.java:294)
    ... 13 more
Caused by: java.net.SocketTimeoutException: Read timed out
    at java.base/java.net.SocketInputStream.socketRead0(Native Method)
    at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)
    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)
    at okio.Okio$2.read(Okio.java:139)
    at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)
    ... 39 more
</code></pre></div>
<p>I tried looking for a log file to see what it was failing on or if there was more information about the error but couldn't find anything.</p>



<a name="221992855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Socket%20timeout%20validating%20value%20set%20code%20batch/near/221992855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Socket.20timeout.20validating.20value.20set.20code.20batch.html#221992855">(Jan 07 2021 at 20:00)</a>:</h4>
<p>how long is it waiting?</p>



<a name="221993569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Socket%20timeout%20validating%20value%20set%20code%20batch/near/221993569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Socket.20timeout.20validating.20value.20set.20code.20batch.html#221993569">(Jan 07 2021 at 20:06)</a>:</h4>
<p>in this latest run, it seemed to get one step further but it was 19 seconds from validating to failure:</p>
<div class="codehilite"><pre><span></span><code>Generating Narratives                                                            (00:42.0453)
Validating Conformance Resources                                                 (01:00.0300)
Publishing Content Failed: An error occurred trying to process this transaction request (01:19.0431)
                                                                                 (01:19.0432)
</code></pre></div>



<a name="221995155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Socket%20timeout%20validating%20value%20set%20code%20batch/near/221995155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Socket.20timeout.20validating.20value.20set.20code.20batch.html#221995155">(Jan 07 2021 at 20:19)</a>:</h4>
<p>how do I reproduce this?</p>



<a name="221995198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Socket%20timeout%20validating%20value%20set%20code%20batch/near/221995198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Socket.20timeout.20validating.20value.20set.20code.20batch.html#221995198">(Jan 07 2021 at 20:19)</a>:</h4>
<p>i'll check in my stuff to fhir-icsr-ae-reporting</p>



<a name="222000392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Socket%20timeout%20validating%20value%20set%20code%20batch/near/222000392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Socket.20timeout.20validating.20value.20set.20code.20batch.html#222000392">(Jan 07 2021 at 21:03)</a>:</h4>
<p>checked in</p>



<a name="222000595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Socket%20timeout%20validating%20value%20set%20code%20batch/near/222000595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Socket.20timeout.20validating.20value.20set.20code.20batch.html#222000595">(Jan 07 2021 at 21:04)</a>:</h4>
<p>and it failed on CI build as well (so it's not just me)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
