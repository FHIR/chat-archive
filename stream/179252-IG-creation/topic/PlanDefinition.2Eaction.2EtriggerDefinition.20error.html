---
layout: page
title: "FHIR Chat  · PlanDefinition.action.triggerDefinition error · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/PlanDefinition.2Eaction.2EtriggerDefinition.20error.html">PlanDefinition.action.triggerDefinition error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153988731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/PlanDefinition.action.triggerDefinition%20error/near/153988731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/PlanDefinition.2Eaction.2EtriggerDefinition.20error.html#153988731">(Aug 17 2018 at 23:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>   when we (<span class="user-mention" data-user-id="192604">@Kanwarpreet Sethi</span>  ) add a triggerDefinition into this PlanDefinition (<a href="https://github.com/HL7/case-reporting/blob/master/source/resources/instances/ecr-bundle-knowledge-distribution.xml" target="_blank" title="https://github.com/HL7/case-reporting/blob/master/source/resources/instances/ecr-bundle-knowledge-distribution.xml">https://github.com/HL7/case-reporting/blob/master/source/resources/instances/ecr-bundle-knowledge-distribution.xml</a>)</p>
<div class="codehilite"><pre><span></span>&lt;action id=&quot;Orchestration&quot;&gt;
          &lt;textEquivalent
            value=&quot;Pick between the two sequence options based on rules processing: Healthcare-based processing, or RCKMS Rules Processing on AIMS Platform&quot; /&gt;
          &lt;triggerDefinition&gt;
            &lt;type value=&quot;data-added&quot; /&gt;
            &lt;eventName value=&quot;Diagnoses or problems documented in a clinical record.&quot; /&gt;
            &lt;!--&lt;eventData&gt;
              &lt;type value=&quot;Condition&quot; /&gt;
              &lt;codeFilter&gt;
                &lt;path value=&quot;code&quot; /&gt;
                &lt;valueSetReference&gt;
                  &lt;reference value=&quot;diagnosis-value-set&quot; /&gt;
                &lt;/valueSetReference&gt;
              &lt;/codeFilter&gt;
            &lt;/eventData&gt;--&gt;
          &lt;/triggerDefinition&gt;
</pre></div>


<p>we are getting this error:</p>
<div class="codehilite"><pre><span></span>exception in thread &quot;main&quot; java.lang.Error: Unknown type TriggerDefinition
    at org.hl7.fhir.convertors.VersionConvertor_30_40.convertType(VersionConvertor_30_40.java:2781)
    at org.hl7.fhir.igtools.publisher.Publisher$TypeParserR3.parseType(Publisher.java:313)
    at org.hl7.fhir.r4.utils.NarrativeGenerator.parseType(NarrativeGenerator.java:966)
    at org.hl7.fhir.r4.utils.NarrativeGenerator$BaseWrapperMetaElement.getBase(NarrativeGenerator.java:542)
    at org.hl7.fhir.r4.utils.NarrativeGenerator.renderLeaf(NarrativeGenerator.java:1330)
    at org.hl7.fhir.r4.utils.NarrativeGenerator.addColumnValues(NarrativeGenerator.java:1269)
    at org.hl7.fhir.r4.utils.NarrativeGenerator.generateByProfile(NarrativeGenerator.java:1143)
    at org.hl7.fhir.r4.utils.NarrativeGenerator.generate(NarrativeGenerator.java:1048)
    at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:654)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:538)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:498)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4761)
</pre></div>


<p>Log here: <a href="http://build.fhir.org/ig/HL7/case-reporting/build.log" target="_blank" title="http://build.fhir.org/ig/HL7/case-reporting/build.log">http://build.fhir.org/ig/HL7/case-reporting/build.log</a> </p>
<p>It works when the triggerDefinition is commented out and fails when it isn't... I've tried all permutations of including/not including the stuff inside the triggerDefinition too...</p>



<a name="153988732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/PlanDefinition.action.triggerDefinition%20error/near/153988732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/PlanDefinition.2Eaction.2EtriggerDefinition.20error.html#153988732">(Aug 18 2018 at 00:05)</a>:</h4>
<p>ok I'll look at it in a few minutes</p>



<a name="153988745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/PlanDefinition.action.triggerDefinition%20error/near/153988745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/PlanDefinition.2Eaction.2EtriggerDefinition.20error.html#153988745">(Aug 18 2018 at 00:49)</a>:</h4>
<p>ok try again after the next build</p>



<a name="153988761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/PlanDefinition.action.triggerDefinition%20error/near/153988761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/PlanDefinition.2Eaction.2EtriggerDefinition.20error.html#153988761">(Aug 18 2018 at 01:22)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  - that worked...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
