---
layout: page
title: "FHIR Chat  · Double-binding on Extension w/ valueCodeableConcept · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html">Double-binding on Extension w/ valueCodeableConcept</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="177166344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/177166344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#177166344">(Oct 02 2019 at 16:23)</a>:</h4>
<p>In the mCODE IG, we have an <code>obf-SpecimenType-extension</code> that has a CodeableConcept value bound to <code>v2 Specimen Type</code> value set w/ <code>example</code> strength.<br>
<a href="/user_uploads/10155/fS9r2TzqY2OPDjVAD-7URTsf/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/fS9r2TzqY2OPDjVAD-7URTsf/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/fS9r2TzqY2OPDjVAD-7URTsf/pasted_image.png"></a></div><p>In our <code>GenomicReport</code> profile, we include this extension, <em>but</em> we override the value set in the extension with a new one (<code>GeneticSpecimenTypeVS</code> w/ <code>extensible</code> binding). This is done by expanding the <code>obf-SpecimenType-extension</code> inline in the profile and overwriting the <code>binding</code>.</p>
<p>When the IG Publisher renders that profile page, however, it renders both the old value set (from the original extension definition) <em>and</em> the new value set (applied in the profile):<br>
<a href="/user_uploads/10155/ESj_h8PqHE7VdMUDrYOq1nGC/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/ESj_h8PqHE7VdMUDrYOq1nGC/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/ESj_h8PqHE7VdMUDrYOq1nGC/pasted_image.png"></a></div><p>This doesn't seem right.</p>
<p>One interesting tidbit is that for a short period, the IG Publisher apparently did not work this way, as this is a screen shot from the <a href="http://build.fhir.org" target="_blank" title="http://build.fhir.org">build.fhir.org</a>, which was built on Aug 2:<br>
<a href="/user_uploads/10155/V16bAdyOjMZmxiTpRWA9vBWC/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/V16bAdyOjMZmxiTpRWA9vBWC/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/V16bAdyOjMZmxiTpRWA9vBWC/pasted_image.png"></a></div><p>But the previous screen shots (w/ double-bindings) are from the latest build IG Publisher jar.</p>



<a name="177182107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/177182107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#177182107">(Oct 02 2019 at 19:09)</a>:</h4>
<p>The bindings are declared at two different levels I think?  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="177190279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/177190279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#177190279">(Oct 02 2019 at 20:38)</a>:</h4>
<p>In the StructureDefinition JSON files, the binding is on the <code>valueCodeableConcept</code> element in both cases (the original extension and the profile).  E.g.:<br>
From obf-SpecimenType-extension extension:</p>
<div class="codehilite"><pre><span></span>      {
        &quot;id&quot; : &quot;Extension.valueCodeableConcept&quot;,
        &quot;path&quot; : &quot;Extension.valueCodeableConcept&quot;,
        // snipping out irrelevant stuff
        &quot;type&quot; : [
          {
            &quot;code&quot; : &quot;CodeableConcept&quot;
          }
        ],
        // snipping out irrelevant stuff
        &quot;binding&quot; : {
          &quot;strength&quot; : &quot;example&quot;,
          &quot;valueSet&quot; : &quot;http://terminology.hl7.org/ValueSet/v2-0487&quot;
        }
      }
</pre></div>


<p>From onco-core-GenomicsReport profile:</p>
<div class="codehilite"><pre><span></span>      {
        &quot;id&quot; : &quot;DiagnosticReport.extension:specimentype.valueCodeableConcept&quot;,
        &quot;path&quot; : &quot;DiagnosticReport.extension.valueCodeableConcept&quot;,
        // snipping out irrelevant stuff
        &quot;type&quot; : [
          {
            &quot;code&quot; : &quot;CodeableConcept&quot;
          }
        ],
        // snipping out irrelevant stuff
        &quot;binding&quot; : {
          &quot;strength&quot; : &quot;extensible&quot;,
          &quot;valueSet&quot; : &quot;http://hl7.org/fhir/us/mcode/ValueSet/onco-core-GeneticSpecimenTypeVS&quot;
        }
      }
</pre></div>



<a name="177528784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/177528784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#177528784">(Oct 07 2019 at 15:13)</a>:</h4>
<p>Just checking in on this.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- any idea what might be going on here?</p>



<a name="177528870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/177528870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#177528870">(Oct 07 2019 at 15:13)</a>:</h4>
<p>still on my todo list. I'm running behind</p>



<a name="177530215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/177530215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#177530215">(Oct 07 2019 at 15:26)</a>:</h4>
<p>OK.  NP.  I just wanted to be sure it wasn't falling through the cracks.  Would it be helpful for me to create a tracker?</p>



<a name="177573195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/177573195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#177573195">(Oct 08 2019 at 00:13)</a>:</h4>
<p>I don't think it will help right now.</p>



<a name="178440252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/178440252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#178440252">(Oct 18 2019 at 03:22)</a>:</h4>
<p>Is this still a problem <span class="user-mention" data-user-id="191469">@Chris Moesel</span> ?</p>



<a name="178475901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/178475901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#178475901">(Oct 18 2019 at 13:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- I <em>suspect</em> it is, but I haven't tried with a new build for a little while, so we'll try w/ the latest publisher to confirm.</p>



<a name="178498517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/178498517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#178498517">(Oct 18 2019 at 18:17)</a>:</h4>
<p>Good news.  This doesn't seem to be an issue anymore with the extension rendering in the latest IG Publisher jar.  Thanks, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>!</p>



<a name="178500602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Double-binding%20on%20Extension%20w/%20valueCodeableConcept/near/178500602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Double-binding.20on.20Extension.20w.2F.20valueCodeableConcept.html#178500602">(Oct 18 2019 at 18:47)</a>:</h4>
<p>great thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
