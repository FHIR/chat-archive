---
layout: page
title: "FHIR Chat  · IndexOutOfBoundsException · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html">IndexOutOfBoundsException</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153965971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965971">(May 30 2018 at 22:54)</a>:</h4>
<p>It looks like package.tgz is OK now, but I'm getting this error:</p>
<div class="codehilite"><pre><span></span>process res: deviceusestatement-uv-ips                                           (38.0168sec)
Business version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/DeviceUseStatement-uv-ips.structuredefinition - overriding from 0.1 to 0.1.0
Publishing Content Failed: Exception loading http://hl7.org/fhir/uv/ips/StructureDefinition/deviceusestatement-uv-ips: Index: 0, Size: 0 (38.0180sec)
                                                                                 (38.0181sec)
Use -? to get command line help                                                  (38.0181sec)
                                                                                 (38.0181sec)
Stack Dump (for debugging):                                                      (38.0181sec)
java.lang.Exception: Exception loading http://hl7.org/fhir/uv/ips/StructureDefinition/deviceusestatement-uv-ips: Index: 0, Size: 0
    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2272)
    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:1937)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:499)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:461)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4501)
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
    at java.util.ArrayList.rangeCheck(ArrayList.java:653)
    at java.util.ArrayList.get(ArrayList.java:429)
    at org.hl7.fhir.r4.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:519)
    at org.hl7.fhir.r4.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:370)
    at org.hl7.fhir.r4.context.SimpleWorkerContext.seeMetadataResource(SimpleWorkerContext.java:559)
    at org.hl7.fhir.r4.context.BaseWorkerContext.cacheResource(BaseWorkerContext.java:188)
    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2270)
    ... 4 more
Exception in thread &quot;main&quot; java.lang.NullPointerException
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4511)
</pre></div>


<p>Not sure why the index would be out of bounds.  The StructureDefinition looks OK to me, and it validates OK separately.  Thoughts?</p>



<a name="153965972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965972">(May 30 2018 at 22:56)</a>:</h4>
<p>Just to inform that mine builds ok now. I had the package name in the IG.XML but i was not putting it in the ig.json. Once I got it in the ig.json, it builds ok.</p>



<a name="153965973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965973">(May 30 2018 at 22:56)</a>:</h4>
<p>I'm using the latest publisher v3.4.0-13810.</p>



<a name="153965974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965974">(May 30 2018 at 22:57)</a>:</h4>
<p>Glad yours is good now, Jose. :)</p>



<a name="153965975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965975">(May 30 2018 at 22:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span>  you are using command line or GUI?</p>



<a name="153965976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965976">(May 30 2018 at 22:58)</a>:</h4>
<p>command line</p>



<a name="153965977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965977">(May 30 2018 at 22:58)</a>:</h4>
<p>mine is working on the command line (using Lloyd's  template)</p>



<a name="153965978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965978">(May 30 2018 at 22:59)</a>:</h4>
<p>since I have it open, do you want to send your structureDefinition and i can see if i can build with it?</p>



<a name="153965979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965979">(May 30 2018 at 23:00)</a>:</h4>
<p>i am precisely working on a draft publishing mechanism for IHE which is intended to just publish existing conformance resources. So it should be easy to rehearse it with your resource</p>



<a name="153965980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965980">(May 30 2018 at 23:01)</a>:</h4>
<p>Attached <a href="/user_uploads/10155/2eU0Kd1vh4ReyDBndfWWfpNK/DeviceUseStatement-uv-ips.structuredefinition.xml" target="_blank" title="DeviceUseStatement-uv-ips.structuredefinition.xml">DeviceUseStatement-uv-ips.structuredefinition.xml</a></p>



<a name="153965986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965986">(May 30 2018 at 23:32)</a>:</h4>
<p>well, i can confirm you are correct, <span class="user-mention" data-user-id="191405">@Rob Hausam</span> . Same error once i use it.</p>



<a name="153965987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965987">(May 30 2018 at 23:33)</a>:</h4>
<p>could not figure out what is causing it, sorry.<br>
but i do know that if you take out most of the elements, it builds again.</p>



<a name="153965988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965988">(May 30 2018 at 23:33)</a>:</h4>
<p>sorry i do not know which are the offending ones.</p>



<a name="153965989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965989">(May 30 2018 at 23:33)</a>:</h4>
<p>did a few experiments but lost track</p>



<a name="153965991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965991">(May 30 2018 at 23:35)</a>:</h4>
<p>thanks for checking and at least confirming, Jose</p>



<a name="153965992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153965992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153965992">(May 30 2018 at 23:35)</a>:</h4>
<p>(and am just realizing that I posted my "it works now" message in the wrong thread. Sorry.. Let's see if anyone can help figure out what iswrong here.</p>



<a name="153966180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966180">(May 31 2018 at 22:57)</a>:</h4>
<p>can I reproduce this?</p>



<a name="153966185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966185">(May 31 2018 at 23:03)</a>:</h4>
<p>It's in <a href="https://github.com/HL7/fhir-ips" target="_blank" title="https://github.com/HL7/fhir-ips">https://github.com/HL7/fhir-ips</a>, branch fhir-r4.</p>



<a name="153966219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966219">(Jun 01 2018 at 00:31)</a>:</h4>
<p>Of course, it's the same differential path issue and solution for this, too (even though the error messages are very different).  It build now.  I actually thought I had taken care of all of those before in the stu3 version before I moved to the r4 branch - presumably the publisher may be picking up more of them now?</p>



<a name="153966224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966224">(Jun 01 2018 at 00:38)</a>:</h4>
<p>one of the errors is because an element has been renamed but your profile hasn't picked that up</p>



<a name="153966225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966225">(Jun 01 2018 at 00:41)</a>:</h4>
<p>yes - it's picked it up now :)</p>



<a name="153966228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966228">(Jun 01 2018 at 00:45)</a>:</h4>
<p>But, interestingly (actually disturbingly), the validator didn't pick up that the element name had changed and that the instance had it wrong! :(  That instance validated fine as fhirVersion 3.4.0 <strong>before</strong> fixing the element name.</p>



<a name="153966229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966229">(Jun 01 2018 at 00:46)</a>:</h4>
<p>really? I have to a look at the validator</p>



<a name="153966230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966230">(Jun 01 2018 at 00:46)</a>:</h4>
<p>yes, probably should</p>



<a name="153966232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966232">(Jun 01 2018 at 00:50)</a>:</h4>
<p>anyway, you should get better error messages and be right after the current build compeltes</p>



<a name="153966233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966233">(Jun 01 2018 at 00:51)</a>:</h4>
<p>of course, it is an instance of StructureDefinition, not DeviceUseStatement (where the actual change occurred), but I would think it should be strictly validating the SD element ids and path values (which are instances of ElementDefinition)</p>



<a name="153966234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966234">(Jun 01 2018 at 00:51)</a>:</h4>
<p>sounds good</p>



<a name="153966235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966235">(Jun 01 2018 at 00:52)</a>:</h4>
<p>well, the excption is kind of it trying to valdate ...</p>



<a name="153966237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IndexOutOfBoundsException/near/153966237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IndexOutOfBoundsException.html#153966237">(Jun 01 2018 at 00:52)</a>:</h4>
<p>yes, the IG Publisher is doing that, but not the validator</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
