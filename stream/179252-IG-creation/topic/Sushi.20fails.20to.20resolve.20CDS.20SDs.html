---
layout: page
title: "FHIR Chat  · Sushi fails to resolve CDS SDs · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html">Sushi fails to resolve CDS SDs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="261654922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261654922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Braman (FLY.HEALTH) <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261654922">(Nov 16 2021 at 15:12)</a>:</h4>
<p>I am trying to create an example CDSHooksServicePlanDefinition as defined here <a href="https://www.hl7.org/fhir/cdshooksserviceplandefinition.html">https://www.hl7.org/fhir/cdshooksserviceplandefinition.html</a><br>
Sushi reports an error:</p>
<div class="codehilite"><pre><span></span><code>Sushi: error InstanceOf CDSHooksServicePlanDefinition not found for T2D-PlanDefinition
</code></pre></div>
<p>How do I import the SDs for CDSHooks?<br>
I also need this one: <a href="http://hl7.org/fhir/R4/cdshooksrequestgroup.html">http://hl7.org/fhir/R4/cdshooksrequestgroup.html</a></p>



<a name="261656528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261656528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Braman (FLY.HEALTH) <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261656528">(Nov 16 2021 at 15:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191701">@Matt Jenks</span></p>



<a name="261661122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261661122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jenks <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261661122">(Nov 16 2021 at 15:49)</a>:</h4>
<p>I profiled requestgroup in fsh using the Parent: directive and pointing it to the SD. For instance:</p>
<p>Profile: NBARequestGroup<br>
Parent: <a href="http://hl7.org/fhir/StructureDefinition/cdshooksrequestgroup">http://hl7.org/fhir/StructureDefinition/cdshooksrequestgroup</a></p>
<p>You can see my full profile (still in development) here: <a href="https://github.com/GigaTech-net/hh-nba-ig/blob/development/input/fsh/profiles/requestgroup-nba.fsh#L4">https://github.com/GigaTech-net/hh-nba-ig/blob/development/input/fsh/profiles/requestgroup-nba.fsh#L4</a></p>
<p>and you can see my RequestGroup inline example used within a CarePlan, here: <a href="https://github.com/GigaTech-net/hh-nba-ig/blob/development/input/fsh/examples/careplan-nba.fsh#L23">https://github.com/GigaTech-net/hh-nba-ig/blob/development/input/fsh/examples/careplan-nba.fsh#L23</a></p>
<p>So you should be able to just use,<br>
Parent: <a href="https://www.hl7.org/fhir/cdshooksserviceplandefinition.html">https://www.hl7.org/fhir/cdshooksserviceplandefinition.html</a></p>



<a name="261673475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261673475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261673475">(Nov 16 2021 at 17:08)</a>:</h4>
<p>What <span class="user-mention" data-user-id="191701">@Matt Jenks</span> suggested above should work, but without the <code>.html</code> at the end.</p>
<p>To provide some more detail on how SUSHI looks up items... Generally, you can refer to items by their <code>name</code>, <code>id</code>, or <code>url</code>.  Sometimes you need to look at a definition's JSON/XML to see what the actual <code>name</code>, <code>id</code>, and <code>url</code> are (as they're not always surfaced well in the documentation).  Looking at the <a href="https://www.hl7.org/fhir/cdshooksserviceplandefinition.profile.json.html">CDSHooksServicePlanDefinition JSON</a>, we see these three values:</p>
<div class="codehilite"><pre><span></span><code>&quot;id&quot; : &quot;cdshooksserviceplandefinition&quot;,
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/cdshooksserviceplandefinition&quot;,
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&quot;name&quot; : &quot;CDS Hooks Service PlanDefinition&quot;,
</code></pre></div>
<p>Note that <code>CDSHooksServicePlanDefinition</code> is neither the <code>name</code>, nor <code>id</code>, nor <code>url</code>.  This is why it did not work when you tried to use it in SUSHI.  </p>
<p>Now... there is one more wrinkle in this particular case -- and that is that the specified <code>name</code> (<code>"CDS Hooks Service PlanDefinition"</code>) contains spaces, which FHIR says should not be used in names (see <a href="https://www.hl7.org/fhir/structuredefinition-definitions.html#StructureDefinition.name">StructureDefinition.name</a>).  For this reason, we actually <em>can't</em> use the <code>name</code> in this case.  But either the <code>id</code> or <code>url</code> should work.</p>
<p>cc: <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> regarding incorrect naming format on CDS Hooks Service PlanDefinition.</p>



<a name="261674555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261674555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Braman (FLY.HEALTH) <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261674555">(Nov 16 2021 at 17:16)</a>:</h4>
<p>Thank you Gentlemen.</p>



<a name="261674676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261674676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jenks <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261674676">(Nov 16 2021 at 17:17)</a>:</h4>
<p>yeah, the .html was copy/paste error on my part. Thanks for pointing that our <span class="user-mention" data-user-id="191469">@Chris Moesel</span> !</p>



<a name="261683413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261683413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261683413">(Nov 16 2021 at 18:17)</a>:</h4>
<p>NP.  Actually, as I look at it, I see that more than the <code>.html</code> was wrong.  These darn doc URLs and canonical URLs are just close enough to each other to be confusing!  <span class="user-mention" data-user-id="396697">@Richard Braman (FLY.HEALTH)</span> -- if you go for the URL approach, make sure you use <code>http://hl7.org/fhir/StructureDefinition/cdshooksserviceplandefinition</code>.</p>



<a name="261692654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261692654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261692654">(Nov 16 2021 at 19:20)</a>:</h4>
<p>Submitted a JIRA ticket to fix the profile name:</p>



<a name="261692684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261692684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261692684">(Nov 16 2021 at 19:20)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-34323">https://jira.hl7.org/browse/FHIR-34323</a></p>



<a name="261693170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Sushi%20fails%20to%20resolve%20CDS%20SDs/near/261693170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Sushi.20fails.20to.20resolve.20CDS.20SDs.html#261693170">(Nov 16 2021 at 19:23)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span>!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
