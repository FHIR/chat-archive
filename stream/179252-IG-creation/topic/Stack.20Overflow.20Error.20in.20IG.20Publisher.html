---
layout: page
title: "FHIR Chat  · Stack Overflow Error in IG Publisher · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html">Stack Overflow Error in IG Publisher</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="195057744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195057744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195057744">(Apr 23 2020 at 13:09)</a>:</h4>
<p>Running the IG Publisher (1.0.81-SNAPSHOT) on my IG (which used to build fine...) I get the error:</p>
<div class="codehilite"><pre><span></span>Exception in thread &quot;main&quot; java.lang.StackOverflowError
        at java.util.ArrayList.contains(Unknown Source)
        at org.hl7.fhir.igtools.publisher.Publisher.logDebugMessage(Publisher.java:6846)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4090)
        at org.hl7.fhir.igtools.publisher.Publisher.fetchSnapshotted(Publisher.java:4190)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4093)
        at org.hl7.fhir.igtools.publisher.Publisher.fetchSnapshotted(Publisher.java:4190)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4093)
</pre></div>


<p>and so on...<br>
It displays no errors before this one, so I don't really where to look for the cause. Has anyone else also encountered this error?</p>



<a name="195070800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195070800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195070800">(Apr 23 2020 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="195119095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195119095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195119095">(Apr 23 2020 at 21:01)</a>:</h4>
<p>I certainly don't understand that</p>



<a name="195120727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195120727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195120727">(Apr 23 2020 at 21:17)</a>:</h4>
<p>I'll have to reproduce this - <span class="user-mention" data-user-id="221444">@Noemi Deppenwiese</span> how do I do that?</p>



<a name="195155384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195155384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195155384">(Apr 24 2020 at 07:45)</a>:</h4>
<p>The issue seems to be caused by one profile that does not (yet) define any constraints and is just a placeholder. SUSHI generated this as differential for it</p>
<div class="codehilite"><pre><span></span>&quot;derivation&quot;: &quot;constraint&quot;,
  &quot;differential&quot;: {
    &quot;element&quot;: [
      {
        &quot;id&quot;: &quot;Encounter&quot;,
        &quot;path&quot;: &quot;Encounter&quot;
      }
    ]
  }
</pre></div>


<p>which seems to cause the publisher loop.</p>



<a name="195181649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195181649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195181649">(Apr 24 2020 at 12:42)</a>:</h4>
<p>OK... The issue <em>might</em> have been caused by me having a profile declaring itself as its parent... <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> and not noticing because the parent file was there, only overwritten by SUSHI with this new profile which had the same ID as a result of a copy-paste-error <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>  So, not a publisher issue after all. Still, it would be nice to get a "impossible parent profile" error...</p>



<a name="195186506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195186506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195186506">(Apr 24 2020 at 13:21)</a>:</h4>
<p>I <em>thought</em> that SUSHI issued an error if it detected a circular reference in the parent hierarchy.  Did you not get a SUSHI error when you declared a profile with itself as a parent, <span class="user-mention" data-user-id="243697">@Etienne Cantineau</span>?</p>



<a name="195187102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195187102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195187102">(Apr 24 2020 at 13:26)</a>:</h4>
<p>Well, SUSHI did not detect the error because I had one Parent-Profile with the id and one child profile with different "Profile" Value, referencing its parent with the parents "Profile" value but had the same id. So, the parent profile was created but had the same url/filename (because of the id) and was the overwritten with the child profile, so it resulted in a circular reference.... I hope I could explain the issue :)</p>



<a name="195247684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Stack%20Overflow%20Error%20in%20IG%20Publisher/near/195247684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Stack.20Overflow.20Error.20in.20IG.20Publisher.html#195247684">(Apr 24 2020 at 21:39)</a>:</h4>
<p>I'll add it to my todo list. I thought I had already guarded against that</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
