---
layout: page
title: "FHIR Chat  · Use igpublisher to create json schema&#x27;s · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html">Use igpublisher to create json schema&#x27;s</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205365975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205365975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205365975">(Jul 29 2020 at 14:44)</a>:</h4>
<p>Hi I am trying to create json schema files for the profiles we created. Is this possible for our own custom created profiles? <br>
If possible is it some option in the ig.ini or something like this?</p>
<p>thanks in advance.</p>



<a name="205366559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205366559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205366559">(Jul 29 2020 at 14:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="205368721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205368721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cees de Jonge <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205368721">(Jul 29 2020 at 15:03)</a>:</h4>
<p>According the documentation: <a href="https://wiki.hl7.org/IG_Publisher_Documentation#HTML_Template">https://wiki.hl7.org/IG_Publisher_Documentation#HTML_Template</a>  the fragment could be generated setting property "json-schema" to true.<br>
I tried this using "<a href="https://github.com/FHIR/test-template/blob/master/config.json">https://github.com/FHIR/test-template/blob/master/config.json</a>" as inspiration, but the json-schema was not generated (yet), maybe I overlooked something.</p>



<a name="205473695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205473695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205473695">(Jul 30 2020 at 12:49)</a>:</h4>
<p>We want to use the json schema as payload description in openAPI yaml API description.</p>



<a name="205474510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205474510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205474510">(Jul 30 2020 at 12:57)</a>:</h4>
<p>I'll want to look at openAPI also. I think <span class="user-mention" data-user-id="191401">@Eric Haas</span> and  <span class="user-mention" data-user-id="222054">@Gino Canessa</span> have got this working?</p>



<a name="205498660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205498660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205498660">(Jul 30 2020 at 16:11)</a>:</h4>
<p>I'm working on OpenAPI generation for the core specs right now (have plans to add profiles, but need the core working first).</p>
<p>In my experience, the files are very use-case dependent.  For example, FHIR has circular references, which are not allowed in OpenAPI.  To resolve, I have an option for how many levels the types get expanded, then truncate with <code>object</code>.  Going too many levels results in a large file, which some tooling rejects.</p>
<p>Tooling also appears to be particular about various conventions (and many tools disagree), so I'm trying to build in options for those.</p>
<p>Overall, I am confident in building out good tooling, but less confident in having things like canonical versions of the output.</p>



<a name="205499276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205499276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205499276">(Jul 30 2020 at 16:16)</a>:</h4>
<p>Since OpenAPI is just horribly broken, I suggest you dump it for FHIR to FSH.  It only makes sense.  <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="205503474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205503474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205503474">(Jul 30 2020 at 16:52)</a>:</h4>
<p>OpenAPI  has always been there and is available for all IGs not something I did. There is a link on the capabilitystatement page in the base templates/</p>
<p><a href="/user_uploads/10155/ZkAXRUtFeNv4qq7Aiq0Fcg5I/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/ZkAXRUtFeNv4qq7Aiq0Fcg5I/image.png" title="image.png"><img src="/user_uploads/10155/ZkAXRUtFeNv4qq7Aiq0Fcg5I/image.png"></a></div>



<a name="205506732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205506732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205506732">(Jul 30 2020 at 17:24)</a>:</h4>
<p>Odd, I can't find any others that have it.  That said, the file does not contain model information, just parameters.</p>



<a name="205506836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205506836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205506836">(Jul 30 2020 at 17:25)</a>:</h4>
<p>Lol David.  It's on my list</p>



<a name="205533414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205533414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205533414">(Jul 30 2020 at 21:13)</a>:</h4>
<p>The generated openAPI statements do not contain json schema for profiles. Maybe that's on the todo list for one day, but I've found the whole json schema/open api world impossible to navigate - the specs and tools all differ in unresolvable ways for me</p>



<a name="205533533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205533533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205533533">(Jul 30 2020 at 21:14)</a>:</h4>
<p>the existing openAPI generated documents reference a single schema which is <a href="http://hl7.org/fhir/fhir.schema.json">http://hl7.org/fhir/fhir.schema.json</a></p>



<a name="205534495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205534495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205534495">(Jul 30 2020 at 21:25)</a>:</h4>
<p>Yeah, I don't think it's possible to generate a (useful) canonical OpenAPI document, because the needs vary so much.  I'm trying to build some flexible tooling that can generate what's needed on the fly instead.</p>



<a name="205572190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205572190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205572190">(Jul 31 2020 at 09:16)</a>:</h4>
<p>my current need is generating only the json schemas of the profiles something that is already done for the base profiles eg:<a href="https://www.hl7.org/fhir/patient.schema.json.html">https://www.hl7.org/fhir/patient.schema.json.html</a><br>
I was looking for the ig templates to do something similar for our own custom profiles.</p>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span>  I believe it is possible to have a circular dependency in openAPI aslong as it is not infinite(by having mandatory (circular) dependent fields). Although from an openAPI spec it is allowed the swagger-ui does not like it :)</p>



<a name="205603817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Use%20igpublisher%20to%20create%20json%20schema%27s/near/205603817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Use.20igpublisher.20to.20create.20json.20schema&#x27;s.html#205603817">(Jul 31 2020 at 15:21)</a>:</h4>
<p>Yep, that's why I qualified my statement with <em>useful</em>  :-)  I know circular references are possible (it's how my definitions started), but if tooling doesn't accept it then it's not a useful file.</p>
<p>With all of that said, I don't have profile support in my tooling yet either.  It is on the list though.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
