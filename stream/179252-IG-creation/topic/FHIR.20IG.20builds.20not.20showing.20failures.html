---
layout: page
title: "FHIR Chat  · FHIR IG builds not showing failures · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html">FHIR IG builds not showing failures</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="246930121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246930121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246930121">(Jul 23 2021 at 03:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> - lower priority than some of the other fires you are/have been fighting, but the <a href="https://fhir.github.io/auto-ig-builder/builds.html">https://fhir.github.io/auto-ig-builder/builds.html</a> now only shows successful builds, not failures.  It would be very nice if it went back to showing failures as well as successes.  (Nice to be able to force a re-build without a meaningless commit, nice to see what's working and what's not, etc.)</p>



<a name="246930199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246930199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246930199">(Jul 23 2021 at 03:05)</a>:</h4>
<p>I thought I was seeing thumbs downs?  But I agree that we should be able to see both?</p>



<a name="246930296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246930296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246930296">(Jul 23 2021 at 03:06)</a>:</h4>
<p>Thumbs down is working find on <a class="stream" data-stream-id="179297" href="/#narrow/stream/179297-committers.2Fnotification">#committers/notification</a>.  I'm talking about the build dashboard page.</p>



<a name="246930313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246930313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246930313">(Jul 23 2021 at 03:06)</a>:</h4>
<p>It shows all green for the last 3 years, which seems unlikely (particularly given recent troubles)</p>



<a name="246930901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246930901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246930901">(Jul 23 2021 at 03:19)</a>:</h4>
<p>Yes, that makes sense.</p>



<a name="246931950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246931950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246931950">(Jul 23 2021 at 03:41)</a>:</h4>
<p>I've fixed up <a href="https://fhir.github.io/auto-ig-builder/builds.html">https://fhir.github.io/auto-ig-builder/builds.html</a> so it's not totally borked. It needs a re-work at some point, since it's literally downloading all the build logs from all the IGs into the browser to determine which ones succeeded and which ones failed. But for now, I just added a request "pool" so it doesn't try to grab hundreds of logs all at once; it now will stick to no more than eight requests at a time :-)</p>



<a name="246932321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246932321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246932321">(Jul 23 2021 at 03:50)</a>:</h4>
<blockquote>
<p>Nice to be able to force a re-build without a meaningless commit, nice to see what's working and what's not, etc.</p>
</blockquote>
<p>FWIW I generally use curl for triggering a re-build; instructions at <a href="https://github.com/FHIR/auto-ig-builder#if-you-want-to-manually-trigger-a-build">https://github.com/FHIR/auto-ig-builder#if-you-want-to-manually-trigger-a-build</a></p>



<a name="246997585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246997585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246997585">(Jul 23 2021 at 16:09)</a>:</h4>
<p>Ok, I'm still only seeing 'green'? (<span class="user-mention" data-user-id="191315">@Josh Mandel</span> )</p>



<a name="246998897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246998897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246998897">(Jul 23 2021 at 16:21)</a>:</h4>
<p>Open dev tools and look at the network tab -- build failures will only show up in the "Builds" table when the script finishes fetching all the logs (like: 500+ http requests).</p>



<a name="246998939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246998939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246998939">(Jul 23 2021 at 16:21)</a>:</h4>
<p>This takes ~10sec for me on a fast network connection.</p>



<a name="246998961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246998961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246998961">(Jul 23 2021 at 16:22)</a>:</h4>
<p><a href="/user_uploads/10155/TkKhgjsjgBJZbOY_prW0kIzt/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/TkKhgjsjgBJZbOY_prW0kIzt/image.png" title="image.png"><img src="/user_uploads/10155/TkKhgjsjgBJZbOY_prW0kIzt/image.png"></a></div>



<a name="246999080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246999080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246999080">(Jul 23 2021 at 16:22)</a>:</h4>
<p>(there are also issues with this dashboard for repos that use <code>main</code> instead of <code>master</code> -- they were missing altogether until last night; now they show up but the "logs" links etc are still not right.)</p>



<a name="246999168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246999168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246999168">(Jul 23 2021 at 16:23)</a>:</h4>
<p>This dashboard was created in <del>2016</del> 2018 when there were, like... a <del>small</del> smaller number of IGs in the world. It has lasted much longer than I ever though it would, but it's by no means capable of handling our current size (or growth!).</p>



<a name="246999196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/246999196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#246999196">(Jul 23 2021 at 16:24)</a>:</h4>
<p>It's time for a rewrite, if anyone's interested ;-)</p>



<a name="247012083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247012083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247012083">(Jul 23 2021 at 18:03)</a>:</h4>
<p>What's it written in Josh?</p>



<a name="247012712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247012712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247012712">(Jul 23 2021 at 18:09)</a>:</h4>
<p>There's two parts:</p>
<ol>
<li>
<p>During the IG Auto-build process, every time an IG is built and copied into <a href="http://build.fhir.org">build.fhir.org</a>, we run this <a href="https://github.com/FHIR/auto-ig-builder/blob/b9715c5369ed571e3e95fab9a0fb9db9061b3595/images/ci-build/publish-ig#L39-L43">four-line bash script</a> to update the <a href="https://build.fhir.org/ig/builds.json"><code>builds.json</code></a> file and the <a href="https://build.fhir.org/ig/qas.json"><code>qas.json</code></a> file on the CI server.  These two files are JSON arrays with entries for every (ig, branch) hosted on <a href="http://build.fhir.org">build.fhir.org</a></p>
</li>
<li>
<p><a href="https://fhir.github.io/auto-ig-builder/builds.html">https://fhir.github.io/auto-ig-builder/builds.html</a> is HTML/JS (all self-contained) that grabs the builds.json and qas.json files to create a table of builds, and it <em>also</em> grabs all the build <em>logs</em> from the folders on the CI server to determine which builds succeeded vs failed.</p>
</li>
</ol>



<a name="247012864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247012864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247012864">(Jul 23 2021 at 18:11)</a>:</h4>
<p>It's probably a good idea for (1) to do the additional work of analyzing build log to determine success-vs-failure status, and include this info in builds.json directly, so that way the web page could rely on the builds.json file without also needing to grab/evaluate logs.</p>



<a name="247478608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247478608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247478608">(Jul 28 2021 at 16:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> <a href="#narrow/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures/near/246932321">said</a>:</p>
<blockquote>
<blockquote>
<p>Nice to be able to force a re-build without a meaningless commit, nice to see what's working and what's not, etc.</p>
</blockquote>
<p>FWIW I generally use curl for triggering a re-build; instructions at <a href="https://github.com/FHIR/auto-ig-builder#if-you-want-to-manually-trigger-a-build">https://github.com/FHIR/auto-ig-builder#if-you-want-to-manually-trigger-a-build</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I was trying to follow your instructions on manually triggering a re-build and I don't see the "Settings &gt; Webhooks &gt; ".  I'm going to try the curl option.</p>



<a name="247608749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247608749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247608749">(Jul 29 2021 at 16:41)</a>:</h4>
<p>If you don't see webhooks, can you confirm you're an administrator on the repository? In any case, curl should work for you and is generaly what I'd recommend.</p>



<a name="247609303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247609303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247609303">(Jul 29 2021 at 16:46)</a>:</h4>
<p>If it's an HL7 repository, they shouldn't be an administrator - administrator privileges are supposed to be tightly held.</p>



<a name="247626924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247626924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247626924">(Jul 29 2021 at 19:04)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> you could  fork the repo, make stuff work as you like it to be and add the webhooks - and then afterwards make a PR back to the origin</p>



<a name="247628071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247628071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247628071">(Jul 29 2021 at 19:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> <a href="#narrow/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures/near/246999080">said</a>:</p>
<blockquote>
<p>(there are also issues with this dashboard for repos that use <code>main</code> instead of <code>master</code> -- they were missing altogether until last night; now they show up but the "logs" links etc are still not right.)</p>
</blockquote>
<p>Have you also changed the default browsing path then? Meaning that by default it will direct you to the <code>main</code>branch instead of <code>master</code> ?</p>



<a name="247636457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247636457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247636457">(Jul 29 2021 at 20:25)</a>:</h4>
<p>No, the tooling still pretty much expects everything to be called <code>master</code>. I've written a plan outlining the development steps required to improve this, but I don't want to take this work on myself; if we're going to invest in improvements to the tooling, we need to grow the community around it.</p>



<a name="247636492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247636492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247636492">(Jul 29 2021 at 20:25)</a>:</h4>
<p>makes sense</p>



<a name="247649250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247649250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247649250">(Jul 29 2021 at 22:27)</a>:</h4>
<p>Just to complete the thought: <a href="#narrow/stream/179252-IG-creation/topic/Primary.20branch.20name/near/214200898">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Primary.20branch.20name/near/214200898</a> is a link to the previous discussion where I outlined steps required.</p>



<a name="247652815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247652815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247652815">(Jul 29 2021 at 23:09)</a>:</h4>
<p>I'll read the discussion - but I'll ask this now.  For an IG that currently has a 'main' branch (not 'master'), should we change the 'main' branch to 'master' to be more compatible with the current tooling (at least until the use of a 'main' branch is sufficiently supported)?</p>



<a name="247665902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/FHIR%20IG%20builds%20not%20showing%20failures/near/247665902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/FHIR.20IG.20builds.20not.20showing.20failures.html#247665902">(Jul 30 2021 at 03:02)</a>:</h4>
<p>You can.  You can also just push your changes to a 'master' branch in addition to 'main' to trigger publication.  (While I don't like doing so, I've been manually changing new IGs from 'main' to 'master' when I set them up just to keep things simpler for people.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
