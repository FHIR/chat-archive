---
layout: page
title: "FHIR Chat  · UK Base IG Testing · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html">UK Base IG Testing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="182237552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182237552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182237552">(Nov 30 2019 at 12:31)</a>:</h4>
<p>Sorry - not sure if this the right forum</p>
<p>I've created a draft UK Base IG here: <a href="https://project-wildfyre.github.io/UK-STU3" target="_blank" title="https://project-wildfyre.github.io/UK-STU3">https://project-wildfyre.github.io/UK-STU3</a> and have populated a UK terminology server: <a href="https://ontoserver.dataproducts.nhs.uk/fhir" target="_blank" title="https://ontoserver.dataproducts.nhs.uk/fhir">https://ontoserver.dataproducts.nhs.uk/fhir</a></p>
<p>So when I use HL7 FHIR Validator, this should work:</p>
<p>java -jar org.hl7.fhir.validator.jar observation-9084.xml -ig <a href="https://project-wildfyre.github.io/UK-STU3" target="_blank" title="https://project-wildfyre.github.io/UK-STU3">https://project-wildfyre.github.io/UK-STU3</a> -tx <a href="https://ontoserver.dataproducts.nhs.uk/fhir" target="_blank" title="https://ontoserver.dataproducts.nhs.uk/fhir">https://ontoserver.dataproducts.nhs.uk/fhir</a></p>
<p>but fails with: </p>
<p><em>Exception in thread "main" org.hl7.fhir.exceptions.FHIRException: Unable to connect to terminology server. Use parameter '-tx n/a' tun run without using terminology services to validate LOINC, SNOMED, ICD-X etc. Error = Error parsing response message: Unknown Content acceptUnknown @  START_TAG seen ...&lt;fhirVersion value="3.0.1"/&gt;&lt;acceptUnknown value="extensions"/&gt;... @1:929</em></p>
<p>It doesn't seem to like the STU3 OntoServer.</p>
<p>Trying without the onto server gives me these errors:</p>
<ul>
<li>Error @ Observation.category[0].coding[0] (line 13, col17) : Unknown Code System <a href="http://hl7.org/fhir/observation-category" target="_blank" title="http://hl7.org/fhir/observation-category">http://hl7.org/fhir/observation-category</a><br>
  Error @ Observation.category[0].coding[0].system (line 14, col71) : URL value '<a href="http://hl7.org/fhir/observation-category" target="_blank" title="http://hl7.org/fhir/observation-category">http://hl7.org/fhir/observation-category</a>' does not resolve*</li>
</ul>
<p>Do I need to include these in my IG?</p>
<p>Note I am having to correct profiles as I am coming across a number of issues in UK profiles.</p>



<a name="182249070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182249070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182249070">(Nov 30 2019 at 18:04)</a>:</h4>
<p>did you try <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a>? <br>
The source of the first error is that you did not specify -version 3.0, so the validator assumes R4 (which it will have said in the output)</p>



<a name="182249100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182249100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182249100">(Nov 30 2019 at 18:05)</a>:</h4>
<p>and no, you don't need to include those in your IG. The problem is that those don't exist in R4, and the validator is using R4. S0: -version 3.0</p>



<a name="182277285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182277285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182277285">(Dec 01 2019 at 09:18)</a>:</h4>
<p>Many many thanks, working now.  :)</p>
<p><a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a> works. Get the warning below and presume that is because this server doesn't have UK Base ValueSets (and CodeSystems). [Ideally: should HL7 UK be asking for these to be on the <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a> server? <span class="user-mention" data-user-id="191651">@Rik Smithies</span> <span class="user-mention" data-user-id="191362">@Richard Kavanagh</span> If so is this something we should do?]</p>
<p><em>Warning @ Observation.code.coding[0] (line 21, col17) : Could not confirm that the codes provided are in the value set <a href="https://fhir.hl7.org.uk/STU3/ValueSet/CareConnect-ObservationType-1" target="_blank" title="https://fhir.hl7.org.uk/STU3/ValueSet/CareConnect-ObservationType-1">https://fhir.hl7.org.uk/STU3/ValueSet/CareConnect-ObservationType-1</a> (<a href="https://fhir.hl7.org.uk/STU3/ValueSet/CareConnect-ObservationType-1" target="_blank" title="https://fhir.hl7.org.uk/STU3/ValueSet/CareConnect-ObservationType-1">https://fhir.hl7.org.uk/STU3/ValueSet/CareConnect-ObservationType-1</a>, and a code should come from this value set unless it has no suitable code)</em></p>



<a name="182283936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182283936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182283936">(Dec 01 2019 at 12:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span>  not sure what is loaded in <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a> but if the intent is to validate via the publisher you will need these<br>
1) A TX server with all the CareConnect VS/CS loaded<br>
2) A TX with the UK extensions of SNOMED loaded<br>
3) The numerous technical issues in the CareConnect VS to be fixed</p>
<p>These could be loaded in the NHS Digital "test" OntoServer. The errors in the CareConnect VS should have been fixed a long time ago, but there does not appear to be any maintenance activity on these.</p>



<a name="182295513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182295513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182295513">(Dec 01 2019 at 18:41)</a>:</h4>
<p><a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a> does have UK Snomed on there, so what remains is to ask myself or <span class="user-mention" data-user-id="191405">@Rob Hausam</span> to load the care connect value sets on there</p>



<a name="182295518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182295518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182295518">(Dec 01 2019 at 18:41)</a>:</h4>
<p>I'm not sure what #3 is about</p>



<a name="182302913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182302913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182302913">(Dec 01 2019 at 22:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> <span class="user-mention" data-user-id="191362">@Richard Kavanagh</span>  Happy to help with getting the CareConnect value sets loaded on <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a>, if you want to do that.  Are there also additional code system(s) to load, or is it all in the SNOMED CT UK Edition?</p>



<a name="182325771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182325771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182325771">(Dec 02 2019 at 09:00)</a>:</h4>
<p>Re: 3 I had some issues with the valuesets &amp; codesystems but the validatecode changes in the validator solved them for me. </p>
<p>What is the best way of sourcing the HL7 UK CodeSystems and ValueSets? Would an IG be suitable?</p>
<p>I'm going to raise a request to move <a href="https://project-wildfyre.github.io/UK-STU3/" target="_blank" title="https://project-wildfyre.github.io/UK-STU3/">https://project-wildfyre.github.io/UK-STU3/</a> to HL7 UK as an IG demonstrator (but it will work from technical pov). <br>
I would suggest HL7 UK github could be an ideal place to record issues with HL7 UK profiles, ValueSets and CodeSystems.</p>



<a name="182397076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182397076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182397076">(Dec 02 2019 at 22:31)</a>:</h4>
<p>Draft UK base now available :) </p>
<p><a href="https://hl7-uk.github.io/UK-STU3/index.html" target="_blank" title="https://hl7-uk.github.io/UK-STU3/index.html">https://hl7-uk.github.io/UK-STU3/index.html</a></p>



<a name="182397478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182397478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182397478">(Dec 02 2019 at 22:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191687">@Kevin Mayfield</span>  Good Work - will send through some pull request to address some of the technical defects....</p>



<a name="182423902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182423902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182423902">(Dec 03 2019 at 07:56)</a>:</h4>
<p>Wondering if we should change the version numbering on altered resources and names?</p>
<p>We've got an issue with same name e.g. AdmissionMethod-1 is an extension, valueset and codessystem. In the IG I've prefixed the name with vs- and cs- for the ValueSets and CodeSystems. It works but may not be ideal.</p>
<p>For versioning I think we will need to up the version number in some way (I'm using software to identify to changes from <a href="http://fhir.hl7.org.uk/STU3" target="_blank" title="http://fhir.hl7.org.uk/STU3">fhir.hl7.org.uk/STU3</a>, so incrementing version number will prevent overwrite). So a modified CareConnect-Patient-1 goes from 1.3 to 1.3.1. (Note the published resources will use the IG version - so in the IG the version number of the patient profile is 3.0.0)</p>
<p>As <span class="user-mention" data-user-id="191651">@Rik Smithies</span> mentioned in the email, we don't need the 'CareConnect' and '-1' prefix and suffix on the profiles. In addition I think we may need to loose the fhir version from the url's. So <a href="https://fhir.hl7.org.uk/STU3/StructureDefinition/CareConnect-Patient-1" target="_blank" title="https://fhir.hl7.org.uk/STU3/StructureDefinition/CareConnect-Patient-1">https://fhir.hl7.org.uk/STU3/StructureDefinition/CareConnect-Patient-1</a> would become <br>
<a href="https://fhir.hl7.org.uk/StructureDefinition/Patient" target="_blank" title="https://fhir.hl7.org.uk/StructureDefinition/Patient">https://fhir.hl7.org.uk/StructureDefinition/Patient</a> or <a href="https://fhir.hl7.org.uk/StructureDefinition/uk-Patient" target="_blank" title="https://fhir.hl7.org.uk/StructureDefinition/uk-Patient">https://fhir.hl7.org.uk/StructureDefinition/uk-Patient</a> (for naming in the IG). <br>
I'm thinking we should do this for R4/5 IG and so tackle later.</p>



<a name="182435264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182435264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182435264">(Dec 03 2019 at 10:44)</a>:</h4>
<p>Internal version number change is fine, but I don't see others putting a version number in the profile name so neither should we. We should put forward the names that we think are the best. Then we may need to argue whether or not these are better than what exists, given that there has been some adoption. Whether or not we put "uk" in the name, rather than just in the path I am not sure. Let's see what is best practice. US core says "us-core-patient". I don't think that "core" adds much, and resource names are case sensitive, so perhaps <a href="https://fhir.hl7.org.uk/StructureDefinition/uk-Patient" target="_blank" title="https://fhir.hl7.org.uk/StructureDefinition/uk-Patient">https://fhir.hl7.org.uk/StructureDefinition/uk-Patient</a> is best.</p>



<a name="182435939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182435939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182435939">(Dec 03 2019 at 10:52)</a>:</h4>
<p>I'd followed Australian convention <a href="http://build.fhir.org/ig/hl7au/au-fhir-base/profiles.html" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base/profiles.html">http://build.fhir.org/ig/hl7au/au-fhir-base/profiles.html</a> <br>
Was also wondering if the IG / repo name would be better as <strong>uk-fhir-base</strong> instead of <strong>UK-STU3</strong>, so following similar convention to AU (and so guide would be  <a href="https://hl7-uk.github.io/uk-fhir-base/" target="_blank" title="https://hl7-uk.github.io/uk-fhir-base/">https://hl7-uk.github.io/uk-fhir-base/</a>)</p>



<a name="182438852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UK%20Base%20IG%20Testing/near/182438852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UK.20Base.20IG.20Testing.html#182438852">(Dec 03 2019 at 11:38)</a>:</h4>
<p>We don't want to put STU3 in any names at this stage, or any other FHIR version in fact. ??_fhir_base seems as good as any other form (and AU is recent I assume, so perhaps current best practice). Any other examples?<br>
There is also the issue of  <a href="https://fhir.hl7.org.uk/StructureDefinition/" target="_blank" title="https://fhir.hl7.org.uk/StructureDefinition/">https://fhir.hl7.org.uk/StructureDefinition/</a>... vs. <a href="https://hl7.org.uk/fhir/StructureDefinition/" target="_blank" title="https://hl7.org.uk/fhir/StructureDefinition/">https://hl7.org.uk/fhir/StructureDefinition/</a>... We went for <a href="http://fhir.hl7.org.uk" target="_blank" title="http://fhir.hl7.org.uk">fhir.hl7.org.uk</a> for technical hosting reasons I think, not because it is was the preferred form. Maybe that can be changed now. <br>
AU profile example is <a href="http://hl7.org.au/fhir/StructureDefinition/au-patient" target="_blank" title="http://hl7.org.au/fhir/StructureDefinition/au-patient">http://hl7.org.au/fhir/StructureDefinition/au-patient</a>, with international being <a href="http://hl7.org/fhir/StructureDefinition/Patient" target="_blank" title="http://hl7.org/fhir/StructureDefinition/Patient">http://hl7.org/fhir/StructureDefinition/Patient</a>. Profiles names tend to be all lower case in fact.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
