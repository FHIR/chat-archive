---
layout: page
title: "FHIR Chat  · Validator giving semi-unhelpful error · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html">Validator giving semi-unhelpful error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219363957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219363957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219363957">(Dec 09 2020 at 16:49)</a>:</h4>
<p>I have a sample Bundle that is being validated and the validator gives me an error that I just can't see:</p>
<div class="codehilite"><pre><span></span><code>  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[0] (line 67, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
</code></pre></div>
<p>When I open up this JSON file in a JSON editor, there are no complaints.  Here is the json around that line number:</p>
<div class="codehilite"><pre><span></span><code>66        &quot;item&quot;: [
67          {
68            &quot;extension&quot;: [
69              {
70                &quot;url&quot;: &quot;http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/extension-itemTitle&quot;,
71                &quot;valueString&quot;: &quot;Single Line Text&quot;
72              },
</code></pre></div>
<p>I'm getting an instance of the error for each item repetition and they all look the same.<br>
<a href="/user_uploads/10155/CSRQIH8mC73D-Q9n3LOgpGJm/Bundle-HaleySampleSurveyBundle.json">Bundle-HaleySampleSurveyBundle.json</a></p>



<a name="219363992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219363992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219363992">(Dec 09 2020 at 16:49)</a>:</h4>
<p>I'd appreciate if anyone could look and tell me what I'm missing.</p>



<a name="219367741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219367741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219367741">(Dec 09 2020 at 17:17)</a>:</h4>
<p>JSON is valid according to Spy.  You're using the most recent validator?</p>



<a name="219368213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219368213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219368213">(Dec 09 2020 at 17:20)</a>:</h4>
<p>yep and IG Publisher spits out the same error</p>



<a name="219368695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219368695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219368695">(Dec 09 2020 at 17:23)</a>:</h4>
<p>FHIR Validation tool Version 5.2.9 (Git# 6907a004bed8). Built 2020-12-06T22:31:33.68Z (66 hours old)</p>



<a name="219384076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219384076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219384076">(Dec 09 2020 at 19:16)</a>:</h4>
<p>that's an internal error for me. You should also be getting a warning or a hint as well</p>



<a name="219384509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219384509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219384509">(Dec 09 2020 at 19:19)</a>:</h4>
<p>hmm, i am getting other errors/warnings/hints but those make sense and don't seem related to this error.  Here is my full error log:</p>
<div class="codehilite"><pre><span></span><code>*FAILURE*: 19 errors, 2 warnings, 9 notes
  Error @ Bundle.entry[0] (line 6, col6) : Except for transactions and batches, each entry in a Bundle must have a fullUrl which is the identity of the resource in the entry
  Error @ Bundle.entry[0].resource.ofType(Questionnaire) (line 9, col17) : Resource requires an id, but none is present
  Error @ Bundle.entry[1] (line 41, col6) : Except for transactions and batches, each entry in a Bundle must have a fullUrl which is the identity of the resource in the entry
  Error @ Bundle.entry[1].resource.ofType(Questionnaire) (line 44, col17) : Resource requires an id, but none is present
  Error @ Bundle.entry[2] (line 550, col6) : Except for transactions and batches, each entry in a Bundle must have a fullUrl which is the identity of the resource in the entry
  Error @ Bundle.entry[2].resource.ofType(QuestionnaireResponse) (line 579, col19) : Resource requires an id, but none is present
  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[0] (line 67, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[1] (line 186, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[2] (line 271, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[3] (line 295, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[4] (line 380, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[5] (line 439, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[6] (line 486, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[7] (line 511, col11) : Internal error: Error in ?? at 1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected
  Error @ Bundle.entry[1].resource.ofType(Questionnaire) (line 44, col17) : Questionnaire.date: minimum required = 1, but only found 0 (from http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire)
  Error @ Bundle.entry[1].resource.ofType(Questionnaire) (line 44, col17) : Questionnaire.description: minimum required = 1, but only found 0 (from http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire)
  Error @ Bundle.entry[1].resource.ofType(Questionnaire) (line 44, col17) : Questionnaire.identifier: minimum required = 1, but only found 0 (from http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire)
  Error @ Bundle.entry[1].resource.ofType(Questionnaire) (line 44, col17) : Questionnaire.name: minimum required = 1, but only found 0 (from http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire)
  Error @ Bundle.entry[1].resource.ofType(Questionnaire) (line 44, col17) : Questionnaire.title: minimum required = 1, but only found 0 (from http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire)
  Information @ Bundle.entry[1].resource.ofType(Questionnaire).item[2].extension[2] (line 281, col15) : This element does not match any known slice defined in the profile http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire
  Information @ Bundle.entry[1].resource.ofType(Questionnaire).item[5].extension[3] (line 460, col15) : This element does not match any known slice defined in the profile http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire
  Information @ Bundle.entry[1].resource.ofType(Questionnaire).item[5].extension[4] (line 464, col15) : This element does not match any known slice defined in the profile http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire
  Information @ Bundle.entry[1].resource.ofType(Questionnaire).item[5].extension[5] (line 468, col15) : This element does not match any known slice defined in the profile http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire
  Information @ Bundle.entry[1].resource.ofType(Questionnaire).item[5].extension[6] (line 472, col15) : This element does not match any known slice defined in the profile http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire
  Information @ Bundle.entry[1].resource.ofType(Questionnaire).item[5].extension[7] (line 476, col15) : This element does not match any known slice defined in the profile http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire
  Information @ Bundle.entry[1].resource.ofType(Questionnaire).item[7].extension[3] (line 532, col15) : This element does not match any known slice defined in the profile http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire
  Information @ Bundle.entry[1].resource.ofType(Questionnaire).item[7].extension[4] (line 536, col15) : This element does not match any known slice defined in the profile http://hl7.org/fhir/us/icsr-ae-reporting/StructureDefinition/ibm-fda-shape-questionnaire
  Information @ Bundle.entry[2].resource.ofType(QuestionnaireResponse) (line 579, col19) : No questionnaire is identified, so no validation can be performed against the base questionnaire
  Warning @ Bundle.entry[0].resource.ofType(Questionnaire) (line 9, col9) : que-0: Name should be usable as an identifier for the module by machine processing applications such as code generation [name.matches(&#39;[A-Z]([A-Za-z0-9_]){0,254}&#39;)]
  Warning @ Bundle.entry[1].resource.ofType(Questionnaire) (line 44, col44) : que-0: Name should be usable as an identifier for the module by machine processing applications such as code generation [name.matches(&#39;[A-Z]([A-Za-z0-9_]){0,254}&#39;)]
</code></pre></div>



<a name="219385408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219385408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219385408">(Dec 09 2020 at 19:26)</a>:</h4>
<p>strange. how do I reproduce this</p>



<a name="219385435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219385435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219385435">(Dec 09 2020 at 19:26)</a>:</h4>
<p>I'll send you the bundle and the validator.pack.</p>



<a name="219386604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219386604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219386604">(Dec 09 2020 at 19:34)</a>:</h4>
<p>a validator.pack?</p>



<a name="219389949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219389949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219389949">(Dec 09 2020 at 20:00)</a>:</h4>
<p>the only reason I can think of for the validator to expect a ) in a json document is for a fhirpath expression, is there some constraint or something in the structureDefinition that has a : in it?</p>



<a name="219390522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validator%20giving%20semi-unhelpful%20error/near/219390522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validator.20giving.20semi-unhelpful.20error.html#219390522">(Dec 09 2020 at 20:05)</a>:</h4>
<p>what the error should say (having debugged it, and fixed up the error reporting) is:</p>
<div class="codehilite"><pre><span></span><code>  Error @ Bundle.entry[1].resource.ofType(Questionnaire).item[1] (line 186, col11) : Internal error: Error processing path expression for disciminator: Error @1, 1: The token : is not expected here - either a &quot;,&quot; or a &quot;)&quot; expected (src = &#39;extension(http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl)&#39;)
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
