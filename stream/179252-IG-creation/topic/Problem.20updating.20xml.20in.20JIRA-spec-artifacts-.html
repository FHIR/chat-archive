---
layout: page
title: "FHIR Chat  · Problem updating xml in JIRA-spec-artifacts- · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html">Problem updating xml in JIRA-spec-artifacts-</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="260158083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260158083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260158083">(Nov 03 2021 at 16:16)</a>:</h4>
<p>I'm trying to check in <code>FHIR-us-mcode.xml </code> and getting validation errors. Here are type of statement causing the problem:</p>
<div class="codehilite"><pre><span></span><code>&lt;artifact deprecated=&quot;true&quot; id=&quot;StructureDefinition/mcode-cancer-patient&quot; key=&quot;cancer-patient&quot; name=&quot;Cancer Patient Profile&quot;/&gt;
&lt;artifact id=&quot;StructureDefinition/mcode-cancer-patient&quot; key=&quot;StructureDefinition-mcode-cancer-patient&quot; name=&quot;Cancer Patient Profile&quot;/&gt;
</code></pre></div>
<p>I am getting two types of error messages:</p>
<div class="codehilite"><pre><span></span><code>[schemavalidate] /home/runner/work/JIRA-Spec-Artifacts/JIRA-Spec-Artifacts/xml/FHIR-us-mcode.xml:33:135: cvc-identity-constraint.4.1: Duplicate unique value [StructureDefinition/mcode-cancer-patient] declared for identity constraint &quot;artifact-id-unique&quot; of element &quot;specification&quot;.
</code></pre></div>
<p>and:</p>
<div class="codehilite"><pre><span></span><code>     [xslt] ERROR: Artifact with key FHIR-us-mcode-cancer-patient in specification FHIR-us-mcode has been removed or changed.  Keys should never change - just change the name.  Keys should also not usually be removed.  Instead, set the &#39;deprecated&#39; flag to true.  Keys can only be removed if no JIRA tracker references that artifact.  If this is the case and the key should really be removed, please coordinate with an administrator.
</code></pre></div>



<a name="260159876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260159876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260159876">(Nov 03 2021 at 16:29)</a>:</h4>
<p>you're intentionally trying to change the key of that structure definition?</p>



<a name="260160154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260160154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260160154">(Nov 03 2021 at 16:31)</a>:</h4>
<p>Yeah, moving from the old key format to the new causes all kinds of problems <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="260165322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260165322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260165322">(Nov 03 2021 at 17:04)</a>:</h4>
<p>You can't change keys.  Keys need to stay the same forever or it breaks Jira.  (That's not entirely true - there are back-end things we can do, but they're painful and time-consuming, so the default answer is 'once a key exists, it never goes away and never changes')</p>



<a name="260165371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260165371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260165371">(Nov 03 2021 at 17:04)</a>:</h4>
<p>Keep the key as it was and just change the name and/or artifact id.</p>



<a name="260166449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260166449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260166449">(Nov 03 2021 at 17:12)</a>:</h4>
<p>Noting that other xml's don't have keys for deprecated items, I deleted the keys. That only gave another error, and it is a frustrating one, because it is claiming something changed, but I am directly copying jira-xml-new.</p>



<a name="260166465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260166465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260166465">(Nov 03 2021 at 17:13)</a>:</h4>
<div class="codehilite"><pre><span></span><code> [xslt] ERROR: Artifact with key FHIR-us-mcode-StructureDefinition-mcode-evidence-type in specification FHIR-us-mcode has been removed or changed.  Keys should never change - just change the name.  Keys should also not usually be removed.  Instead, set the &#39;deprecated&#39; flag to true.  Keys can only be removed if no JIRA tracker references that artifact.  If this is the case and the key should really be removed, please coordinate with an administrator.
</code></pre></div>



<a name="260167382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260167382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260167382">(Nov 03 2021 at 17:19)</a>:</h4>
<p>Impossible. I give up. <a href="/user_uploads/10155/gFUU-dlFWA3an5Zvx-196vVo/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/gFUU-dlFWA3an5Zvx-196vVo/image.png" title="image.png"><img src="/user_uploads/10155/gFUU-dlFWA3an5Zvx-196vVo/image.png"></a></div>



<a name="260168952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260168952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lynn Laakso <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260168952">(Nov 03 2021 at 17:32)</a>:</h4>
<p>please move this to the <a class="stream" data-stream-id="179252" href="/#narrow/stream/179252-IG-creation">#IG creation</a></p>



<a name="260173481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260173481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260173481">(Nov 03 2021 at 18:04)</a>:</h4>
<p><a href="https://zulip.com/help/move-content-to-another-stream">https://zulip.com/help/move-content-to-another-stream</a><br>
This doesn't work for me because "move topic" is not a menu choice I have at my disposal.</p>



<a name="260174853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260174853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260174853">(Nov 03 2021 at 18:13)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="184932" href="/#narrow/stream/184932-JIRA.2FConfluence/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-">#JIRA/Confluence &gt; Problem updating xml in JIRA-spec-artifacts-</a> by <span class="user-mention silent" data-user-id="191315">Josh Mandel</span></p>



<a name="260174922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260174922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260174922">(Nov 03 2021 at 18:13)</a>:</h4>
<p>(<span class="user-mention" data-user-id="191447">@Mark Kramer</span> moving messages across topics is configured as a moderators-only feature here. For anyone who wants to be a mod, please ping me, I expect we could use more  :-))</p>



<a name="260175407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260175407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260175407">(Nov 03 2021 at 18:17)</a>:</h4>
<p>So, just to reiterate the problem... I <em>thought</em> one just had to take jira-new.xml and check it into the Jira-spec-artifacts/xml.  But it doesn't work that way, apparently. Nor can I find -- after MUCH MUCH trial and error -- any edits that successfully address the error messages that come out of the verification checks.</p>



<a name="260175572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260175572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260175572">(Nov 03 2021 at 18:18)</a>:</h4>
<p>This process sounds incredibly frustrating.</p>



<a name="260181094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260181094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260181094">(Nov 03 2021 at 18:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191447">@Mark Kramer</span> just to be pedantic - you've run the IG Publisher on your guide, you get the jira-new.xml that it produces, and when you overwrite your entry in your Jira-Spec-Artifacts fork and run the build on that, you get the errors that you posted about a missing key?</p>



<a name="260181457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260181457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260181457">(Nov 03 2021 at 19:00)</a>:</h4>
<p>Exactly. But the first set of errors are about duplicate keys (I get a bunch of this type):</p>
<div class="codehilite"><pre><span></span><code>Duplicate unique value [StructureDefinition/mcode-cancer-patient] declared for identity constraint
</code></pre></div>



<a name="260181607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260181607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260181607">(Nov 03 2021 at 19:01)</a>:</h4>
<p>I tried just about everything to get around this, and that's when I started seeing errors of this type:</p>
<div class="codehilite"><pre><span></span><code>Artifact with key FHIR-us-mcode-cancer-patient in specification FHIR-us-mcode has been removed or changed.
</code></pre></div>



<a name="260182272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260182272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260182272">(Nov 03 2021 at 19:06)</a>:</h4>
<p>Can you share the current 'new' file?</p>



<a name="260182506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260182506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260182506">(Nov 03 2021 at 19:08)</a>:</h4>
<p><a href="/user_uploads/10155/AoEe1goYq3343KxNe05jsQKV/jira-new.xml">jira-new.xml</a> </p>
<p>i just cloned the repo to see and I see the same problem that Mark saw - the jira-new is being produced with artifacts that have the same id but a different key - one is deprecated and one isn't.</p>
<div class="codehilite"><pre><span></span><code>&lt;artifact deprecated=&quot;true&quot; id=&quot;StructureDefinition/mcode-cancer-patient&quot; key=&quot;cancer-patient&quot; name=&quot;Cancer Patient&quot;/&gt;
&lt;artifact id=&quot;StructureDefinition/mcode-cancer-patient&quot; key=&quot;StructureDefinition-mcode-cancer-patient&quot; name=&quot;Cancer Patient Profile&quot;/&gt;
</code></pre></div>



<a name="260184829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260184829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260184829">(Nov 03 2021 at 19:27)</a>:</h4>
<p>And I should point out that <code>mcode-cancer-patient</code> is not deprecated and there has never been a version without that profile. However, we did change the title from "title" : "Cancer Patient" to "title" : "Cancer Patient Profile", because that renders better in some contexts. That should be benign; title is just a display text with no deeper significance.</p>



<a name="260185635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260185635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260185635">(Nov 03 2021 at 19:33)</a>:</h4>
<p>Right.  But the process doesn't understand renames, so it instead puts in an 'add' and a 'deprecate'.  What you want to do is move the new name to the 'deprecated' key and remove the deprecated flag and remove the new entry with the 'new' key entirely.</p>



<a name="260190942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260190942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260190942">(Nov 03 2021 at 20:11)</a>:</h4>
<p>I wonder whether the process could understand renames - whether it would be easier to remember to make a record somewhere when you rename</p>



<a name="260191216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260191216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260191216">(Nov 03 2021 at 20:13)</a>:</h4>
<p>This has been my day -- 5 hours.  Now the problem seems to be revolving around the change of ids on extensions from id="Extension/foo" to id="StructureDefinition/foo" . No idea how to fix the mess. </p>
<div class="codehilite"><pre><span></span><code>     [xslt] ERROR: Artifact with key FHIR-us-mcode-StructureDefinition-mcode-evidence-type in specification FHIR-us-mcode has been removed or changed.  Keys should never change - just change the name.  Keys should also not usually be removed.  Instead, set the &#39;deprecated&#39; flag to true.  Keys can only be removed if no JIRA tracker references that artifact.  If this is the case and the key should really be removed, please coordinate with an administrator.
</code></pre></div>



<a name="260191654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260191654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260191654">(Nov 03 2021 at 20:17)</a>:</h4>
<p>(deleted)</p>



<a name="260192099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260192099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260192099">(Nov 03 2021 at 20:20)</a>:</h4>
<p>&lt;!-- Here is a problem --&gt;<br>
&lt;artifact deprecated="true" id="Extension/mcode-evidence-type-extension" key="evidence-type-extension" name="Evidence Type"/&gt;<br>
&lt;artifact id="StructureDefinition/mcode-evidence-type-extension" key="evidence-type-extension" name="Evidence Type Extension"/&gt;<br>
&lt;!-- End of problem ha ha --&gt;</p>



<a name="260205110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260205110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260205110">(Nov 03 2021 at 22:16)</a>:</h4>
<p>For that one, just delete the 'deprecated' row and submit with the new artifact id and the original key.  (Not sure how you got an id of 'Extension/???' originally...)</p>



<a name="260205589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260205589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260205589">(Nov 03 2021 at 22:22)</a>:</h4>
<p>We've talked about trying to drive renames from Git, but it'd be pretty complex and wouldn't catch the numerous cases where renames happen that don't manifest in Git.  For example, if you have 3 examples in a FSH file, renaming the artifact in the FSH file isn't going to show up in Git.<br>
As mentioned in an earlier thread, there's a proposal to revemp this process which will help with some of the pain, but not all of it.</p>



<a name="260210477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260210477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260210477">(Nov 03 2021 at 23:14)</a>:</h4>
<p>These aren't name, they are Titles. The profile name did not change.</p>



<a name="260211343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260211343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260211343">(Nov 03 2021 at 23:24)</a>:</h4>
<p>'name' is irrelevant.  It's just for computable artifacts.  Jira cares about 'title', which is what shows up as artifact/@name.  That's what "real humans" are expected to see when looking at an artifact page or table of contents.</p>



<a name="260211534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260211534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260211534">(Nov 03 2021 at 23:27)</a>:</h4>
<p>Your suggestion 6:16 pm did not work. It is still giving the "Keys should not change" message.</p>



<a name="260211700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260211700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260211700">(Nov 03 2021 at 23:29)</a>:</h4>
<p>But I copied what was in master, and it passed, finally. But it makes zero sense because the current name is not "Evidence Type"</p>
<div class="codehilite"><pre><span></span><code>&lt;artifact id=&quot;StructureDefinition/mcode-evidence-type&quot; key=&quot;StructureDefinition-mcode-evidence-type&quot; name=&quot;Evidence Type&quot;/&gt;
&lt;artifact deprecated=&quot;true&quot; id=&quot;Extension/mcode-evidence-type-extension&quot; key=&quot;evidence-type-extension&quot; name=&quot;Evidence Type Extension&quot;/&gt;
</code></pre></div>
<p><span aria-label="cross mark" class="emoji emoji-274c" role="img" title="cross mark">:cross_mark:</span></p>



<a name="260211788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260211788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260211788">(Nov 03 2021 at 23:30)</a>:</h4>
<p>Anyway, I am so so so done with this and someone with powers can merge it: <a href="https://github.com/HL7/JIRA-Spec-Artifacts/pull/333">https://github.com/HL7/JIRA-Spec-Artifacts/pull/333</a></p>



<a name="260211920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260211920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260211920">(Nov 03 2021 at 23:32)</a>:</h4>
<p><a href="http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/StructureDefinition-mcode-evidence-type.profile.json.html">http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/StructureDefinition-mcode-evidence-type.profile.json.html</a></p>



<a name="260211989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260211989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260211989">(Nov 03 2021 at 23:33)</a>:</h4>
<p>I suspect this will not get rid of the build warning either</p>



<a name="260212499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260212499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260212499">(Nov 03 2021 at 23:41)</a>:</h4>
<blockquote>
<p>'name' is irrelevant. It's just for computable artifacts. Jira cares about 'title', which is what shows up as artifact/@name. That's what "real humans" are expected to see when looking at an artifact page or table of contents.</p>
</blockquote>
<p>However 'title' is not a proper persistent identifier. It is just free text and if one thinks of a better description, the title may change and it is still the same StructureDefinition.  Change the ID, however, they it is not the same.</p>



<a name="260213988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260213988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260213988">(Nov 04 2021 at 00:01)</a>:</h4>
<p>hey <span class="user-mention" data-user-id="191447">@Mark Kramer</span> congratulations - you are now a qualified expert, well suited to help others with this onerous task. Congratulations on graduating</p>



<a name="260214325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260214325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260214325">(Nov 04 2021 at 00:06)</a>:</h4>
<p>I know you are teasing, but I truly have no idea what I am doing.  What finally passed validation is dead wrong.</p>



<a name="260214571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260214571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260214571">(Nov 04 2021 at 00:11)</a>:</h4>
<p>When we come to FMG soon for publication approval, that Jira warning will will still be on the QA page.</p>



<a name="260219876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260219876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260219876">(Nov 04 2021 at 01:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191447">@Mark Kramer</span> Sorry for not having time to chase this further.  First thing I see is this:<br>
In the build log, when processing the Jira file, it's reporting this:<br>
<strong>WARNING</strong> Jira file generation will not be correct because multiple artifacts have the same name (ignoring content in "()"): Staging Type Value Set<br>
<strong>WARNING</strong> Jira file generation will not be correct because multiple artifacts have the same name (ignoring content in "()"): Staging Type Value Set<br>
<strong>WARNING</strong> Jira file generation will not be correct because multiple artifacts have the same name (ignoring content in "()"): Staging Type Value Set</p>
<p>Content in round brackets is used to designate old names for the artifact and are ignored in name comparisons and for matching.  So, I'd suggest renaming "Staging Type Value Set (for Distant Metastases Category)" to "Distant Metastases Category Staging Type Value Set" or, if you need them to sort together, "Staging Type Value Set - Distant Metastases Category"</p>
<p>I recognize that this rule isn't well-documented.  Grahame is working on catching it earlier in the process.  If you have thoughts on where would be a good place to put it that IG authors would see, we can put it there too.</p>
<p>Continuing to probe to see what else is going on for you.</p>



<a name="260226555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260226555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260226555">(Nov 04 2021 at 03:51)</a>:</h4>
<p>I've made some fixes to the HL7 template around generating new Jira files that handled some edge cases you had in your file <span class="user-mention" data-user-id="191447">@Mark Kramer</span>.  The only remaining issue that I see now with the generated 'new' file is that it (correctly) yells about there being a duplicate name between an artifact that was deprecated in the 'current' Jira-Spec-Artifacts and an artifact that is being added as 'new' based on the current set of artifacts in the IG - specifically "Evidence Type Extension".  (Looks like you yanked it, then put it back?)<br>
The simplest thing to do is to un-deprecate the old artifact (i.e. use the old key) and associate it with the new artifact id.  If you do that and commit the Jira spec file, then all should be well.</p>
<p>I have <em>not</em> merged your current pull request so you can look at the results of the new template process and address this one change.</p>
<p>I'm sorry for the time this has cost you :(</p>



<a name="260235703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260235703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260235703">(Nov 04 2021 at 07:12)</a>:</h4>
<p>from the next release of the IG publisher HL7 IGs will get a new kind of error:</p>



<a name="260235739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260235739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260235739">(Nov 04 2021 at 07:12)</a>:</h4>
<p><a href="/user_uploads/10155/cUSD8zoBtvjQO14O9G2bBUMW/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/cUSD8zoBtvjQO14O9G2bBUMW/image.png" title="image.png"><img src="/user_uploads/10155/cUSD8zoBtvjQO14O9G2bBUMW/image.png"></a></div>



<a name="260235766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260235766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260235766">(Nov 04 2021 at 07:12)</a>:</h4>
<p>this is because these name clashes are a common source of problems in the jira file</p>



<a name="260236018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260236018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260236018">(Nov 04 2021 at 07:17)</a>:</h4>
<p><span class="user-mention" data-user-id="215604">@Saul Kravitz</span> heads up since that's from yours (I happened to be building that IG when I tested this)</p>



<a name="260313583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260313583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260313583">(Nov 04 2021 at 18:25)</a>:</h4>
<p><span class="user-mention" data-user-id="215604">@Saul Kravitz</span> It looks like you manually tweaked your Jira file to avoid the duplicates, but didn't update your source, so presumably you're getting the "not aligned" warning.</p>



<a name="260361021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260361021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260361021">(Nov 05 2021 at 02:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> my sins in the past with Plan-Net will be atoned for by someone else....I think <span class="user-mention" data-user-id="215603">@Sean Mahoney</span> will have that opportunity.</p>



<a name="260465304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260465304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260465304">(Nov 05 2021 at 21:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Almost all the errors are now gone, but there is still trouble with Evidence Type Extension. I did exactly what you said (I think), and now I am getting:</p>
<div class="codehilite"><pre><span></span><code>[xslt] ERROR: Artifact with key FHIR-us-mcode-StructureDefinition-mcode-evidence-type in specification FHIR-us-mcode has been removed or changed.  Keys should never change - just change the name.  Keys should also not usually be removed.  Instead, set the &#39;deprecated&#39; flag to true.  Keys can only be removed if no JIRA tracker references that artifact.  If this is the case and the key should really be removed, please coordinate with an administrator.
</code></pre></div>



<a name="260466141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260466141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260466141">(Nov 05 2021 at 21:18)</a>:</h4>
<p>It looks like we've now got both old and new committed, each with their own key, so we can't delete one of them anymore.  If the issue is you want the new 'current' one to be called "Evidence Type Extension" rather than "Evidence Type" (which is what's there now), then you'll need to change the name of the old deprecated one to something that doesn't conflict. (e.g. "Evidence Type Extension - old")</p>



<a name="260472212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260472212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260472212">(Nov 05 2021 at 22:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I changed the new name. So now it is good to merge, if you can do so: <a href="https://github.com/HL7/JIRA-Spec-Artifacts/pull/336">https://github.com/HL7/JIRA-Spec-Artifacts/pull/336</a><br>
Thank you for your help.</p>



<a name="260476222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260476222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Reynolds <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260476222">(Nov 05 2021 at 23:21)</a>:</h4>
<p>&lt;deleted&gt; <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="260622543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/260622543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#260622543">(Nov 08 2021 at 07:36)</a>:</h4>
<p>Is it an anti-pattern to have the same title for both a code system and a value set? Or is this just an issue with Jira integration?</p>



<a name="261434784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/261434784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#261434784">(Nov 14 2021 at 19:40)</a>:</h4>
<p>In the standard templates, it also means you'll get two entries with the same name in the table of contents - which is less than ideal.  So I'd say it's at least somewhat an anti-pattern</p>



<a name="261434913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Problem%20updating%20xml%20in%20JIRA-spec-artifacts-/near/261434913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Problem.20updating.20xml.20in.20JIRA-spec-artifacts-.html#261434913">(Nov 14 2021 at 19:44)</a>:</h4>
<p>very much so, since newbies are already confused by value set vs code system all the time. So we want to be as clear as we can about this</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
