---
layout: page
title: "FHIR Chat  · Error building IG FHIR STU3 · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html">Error building IG FHIR STU3</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="273447623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/273447623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roeland Luykx <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#273447623">(Feb 28 2022 at 05:28)</a>:</h4>
<p>Since Version 1.0.102 there is a failure building an IG based on FHIR STU3: <br>
onGenerate:<br>
Unable to convert resource Bundle/0-1-Bundle-FindAll-Response Unknown resource DocumentManifest (00:31.0335)<br>
Unable to convert resource Bundle/0-12-Bundle-FindAll-Response-m4d Unknown resource DocumentManifest (00:31.0848)<br>
Unable to convert resource DocumentManifest/1-1-DocumentManifest-Upload-Request Unknown resource DocumentManifest (00:31.0882)<br>
Unable to convert resource DocumentManifest/1-2-DocumentManifest-Upload-Response Unknown resource DocumentManifest (00:31.0908)<br>
Unable to convert resource DocumentManifest/1-4-DocumentManifest-Query-Response Unknown resource DocumentManifest (00:31.0942)<br>
Unable to convert resource DocumentManifest/1-5-DocumentManifest-Replace-Request Unknown resource DocumentManifest (00:31.0975)<br>
Unable to convert resource DocumentManifest/1-6-DocumentManifest-Replace-Response Unknown resource DocumentManifest (00:31.0999)<br>
Unable to convert resource DocumentManifest/1-7-DocumentManifest-Update-Request Unknown resource DocumentManifest (00:32.0032)<br>
Unable to convert resource DocumentManifest/1-8-DocumentManifest-Update-Response Unknown resource DocumentManifest (00:32.0057)<br>
Unable to convert resource DocumentManifest/1-9-DocumentManifest-Retrieve-withKOS-Response Unknown resource DocumentManifest (00:32.0158)<br>
Unable to convert resource DocumentManifest/1-10-DocumentManifest-GetSubmissionSet-Response Unknown resource DocumentManifest (00:32.0183)<br>
Unable to convert resource DocumentManifest/1-11-DocumentManifest-marked4deletion Unknown resource DocumentManifest (00:32.0208)<br>
Unable to convert resource DocumentManifest/18d04b34-a329-4992-bd9b-5bd8a920909c Unknown resource DocumentManifest (00:32.0237)<br>
Generating Summary Outputs                                                       (00:42.0957)<br>
Publishing Content Failed: Error retrieving ISO country-code &amp; state value sets  (00:45.0795)<br>
                                                                                 (00:45.0795)<br>
Use -? to get command line help                                                  (00:45.0795)<br>
                                                                                 (00:45.0796)<br>
Stack Dump (for debugging):                                                      (00:45.0796)<br>
java.lang.Exception: Error retrieving ISO country-code &amp; state value sets<br>
    at org.hl7.fhir.igtools.publisher.Publisher.setupCountries(Publisher.java:7163)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.translateCountryCode(Publisher.java:7125)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.populateResourceEntry(Publisher.java:6998)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.generateSummaryOutputs(Publisher.java:6828)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5862)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1018)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10007)</p>
<p>building with 1.0.99 all is OK.</p>



<a name="273447827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/273447827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#273447827">(Feb 28 2022 at 05:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> looks like this one is for you</p>



<a name="273463986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/273463986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roeland Luykx <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#273463986">(Feb 28 2022 at 09:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <br>
topic <a href="#narrow/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3</a> seems to be the same... i suppose</p>



<a name="273507818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/273507818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#273507818">(Feb 28 2022 at 15:40)</a>:</h4>
<p>Is there a place I can test with?</p>



<a name="274159695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274159695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274159695">(Mar 04 2022 at 17:13)</a>:</h4>
<p><a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/758">https://github.com/hapifhir/org.hl7.fhir.core/pull/758</a> and <a href="https://github.com/HL7/fhir-ig-publisher/pull/410">https://github.com/HL7/fhir-ig-publisher/pull/410</a> together address the issue.  I didn't realize that some of the value sets I was using only existed in R4 on.  There was also a bug in the value set expansion code for STU3.  Once these are merged and a new release of the publisher comes out, this problem should go away.</p>



<a name="274161781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274161781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274161781">(Mar 04 2022 at 17:27)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> - pull request against HAPI is choking w/ Maven issues I don't understand (I didn't touch any of the maven config at all).  Can you take a peek?</p>



<a name="274161989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274161989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274161989">(Mar 04 2022 at 17:29)</a>:</h4>
<p>Let me take a look</p>



<a name="274162202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274162202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274162202">(Mar 04 2022 at 17:30)</a>:</h4>
<p>This isn't a maven issue, this is an actual test failure</p>



<a name="274162205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274162205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274162205">(Mar 04 2022 at 17:30)</a>:</h4>
<p>[ERROR] Tests run: 8, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.462 s &lt;&lt;&lt; FAILURE! - in org.hl7.fhir.r5.test.NarrativeGenerationTests<br>
[ERROR] org.hl7.fhir.r5.test.NarrativeGenerationTests.test(String, TestDetails)[7]  Time elapsed: 0.013 s  &lt;&lt;&lt; FAILURE!<br>
org.opentest4j.AssertionFailedError: Output does not match expected: Text differs at /html/body/div/div/div/div/div/div/table/tr/td: (SNOMED CT International Edition)/(SNOMED CT (all versions)) ==&gt; expected: &lt;true&gt; but was: &lt;false&gt;<br>
    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)<br>
    at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:40)<br>
    at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:193)</p>



<a name="274162232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274162232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274162232">(Mar 04 2022 at 17:31)</a>:</h4>
<p><span class="user-mention" data-user-id="453078">@David Otasek</span> can you take a quick look at why this might be bombing out?</p>



<a name="274162562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274162562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Otasek <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274162562">(Mar 04 2022 at 17:33)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> Yes, this is the error that I just created a PR for: <a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/756">https://github.com/hapifhir/org.hl7.fhir.core/pull/756</a></p>



<a name="274165293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274165293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274165293">(Mar 04 2022 at 17:55)</a>:</h4>
<p>So long as it's not my fault :)</p>



<a name="274165850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274165850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Otasek <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274165850">(Mar 04 2022 at 17:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Nope, that's on us. We're reviewing, and I'll ping you here when it's merged.</p>



<a name="274463000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274463000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Otasek <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274463000">(Mar 07 2022 at 21:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> PR is merged. If you merge the changes in master you should no longer see that test failure.</p>



<a name="274936417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274936417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roeland Luykx <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274936417">(Mar 11 2022 at 06:28)</a>:</h4>
<p>with version 1.1.112 the build is running now, but still a strange message:<br>
"onGenerate:<br>
Unable to convert resource Bundle/0-1-Bundle-FindAll-Response Unknown resource DocumentManifest (00:25.0327)<br>
Unable to convert resource Bundle/0-12-Bundle-FindAll-Response-m4d Unknown resource DocumentManifest (00:25.0622)<br>
Unable to convert resource DocumentManifest/1-1-DocumentManifest-Upload-Request Unknown resource DocumentManifest (00:25.0642)<br>
..."</p>



<a name="274954832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/274954832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#274954832">(Mar 11 2022 at 10:09)</a>:</h4>
<p>sigh. that particular problem is gift that keeps giving. how do I reproduce that?</p>



<a name="275193409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%20building%20IG%20FHIR%20STU3/near/275193409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Roeland Luykx <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.20building.20IG.20FHIR.20STU3.html#275193409">(Mar 14 2022 at 04:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> i'll send you the IG</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
