---
layout: page
title: "FHIR Chat  · ✔ All Coding must come from the valueSet · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html">✔ All Coding must come from the valueSet</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271704493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271704493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271704493">(Feb 12 2022 at 19:05)</a>:</h4>
<p>I am getting a new error during IG build that seems to indicate that an element of type Coding that has an extensible binding to a valueSet must hold values ONLY from that valueSet. I have one that is from that valueSet, but i also have two others that are not from that valueSet.  I am getting an ERROR from IG build on the others.</p>
<p>Is this a new rule? (first to confirm that this did work before, but second do I understand the rule).</p>
<p>In my case it is <code>AuditEvent.subtype</code></p>



<a name="271707342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271707342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271707342">(Feb 12 2022 at 20:06)</a>:</h4>
<p>no that would be a bizarre rule.</p>



<a name="271712020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271712020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271712020">(Feb 12 2022 at 22:06)</a>:</h4>
<p>Note that the binding covers all repetitions - which means that if the type is 'Coding', you can't send translations, only completely orthogonal codes.</p>



<a name="271717821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271717821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271717821">(Feb 13 2022 at 00:26)</a>:</h4>
<p>I am confused. It seems that Grahame is saying that I should be able to put different codes than from the ValueSet, yet Lloyd is saying all codes in all repetitions must be from the valueSet. Which is it?</p>



<a name="271723153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271723153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271723153">(Feb 13 2022 at 02:51)</a>:</h4>
<p>That's not what I said.  What I said is that if you send codes other than what's in the value set, they can't be translations, specializations or generalizations of codes that <em>are</em> in the value set.  I.e. the binding applies to all repetitions, not just one of them.  (Which is why we typically don't want tight bindings on repeating elements.)</p>



<a name="271724486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271724486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271724486">(Feb 13 2022 at 03:29)</a>:</h4>
<p>Where's this documented and what's the rationale for preventing additional nuance? (The concept of "completely orthogonal" sounds definitionally perilous to me.)</p>



<a name="271725056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271725056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271725056">(Feb 13 2022 at 03:47)</a>:</h4>
<p>Extensible says "To be conformant, the concept in this element SHALL be from the specified value set if any of the codes within the value set can apply to the concept being communicated."<br>
Typically, we use the CodeableConcept data type, and in that case, if you want to convey additional nuance, you send the appropriate code from the value set as well as your additional more nuanced code.  But you <em>must</em> send the code from the value set.</p>
<p>However, in the case of Coding, there's no ability to send a translation, which means that your only choice if a code from the valueset applies is to send the code from the value set.  There's no opportunity to convey more nuance.  (Which is why, for a 0..* Coding if you're going to declare a tight binding, it's typically best to do it on a single slice rather than all repetitions.)</p>



<a name="271725406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271725406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271725406">(Feb 13 2022 at 03:56)</a>:</h4>
<p>In practice, sending multiple granularities in a repeating Coding does not lead to any ambiguities or interoperability challenges that I'm aware of. The prohibition is just a side effect of the modeling choices that someone almost certainly didn't intend when creating the binding?</p>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> where is the binding in question defined?  We should probably throw IG build warnings whenever a tight binding is assigned to a Coding array (even if no example data are triggering a validation problem), to avoid mistakes in the constraint design and encourage slicing (otherwise these mistakes aren't noticed until it's too late -- like, after publication)</p>



<a name="271727282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271727282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271727282">(Feb 13 2022 at 04:49)</a>:</h4>
<p>It's not a question of leading to ambiguities, it's a question of what the rules are.  I understand that the constraints might well not have been intended, but it doesn't change what they are.</p>



<a name="271750166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271750166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271750166">(Feb 13 2022 at 15:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> it is AuditEvent, and R5 is already fixed.</p>



<a name="271750248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271750248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271750248">(Feb 13 2022 at 15:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> so then I should NOT include ANY code from the valueset? That seems really contrary? Extensible is only extensible if you ignore the valueset?</p>



<a name="271750301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271750301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271750301">(Feb 13 2022 at 15:08)</a>:</h4>
<blockquote>
<p>@<strong>Josh Mandel</strong> it is AuditEvent, and R5 is already fixed.</p>
</blockquote>
<p>By slicing?</p>



<a name="271750358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271750358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271750358">(Feb 13 2022 at 15:10)</a>:</h4>
<p>I don't see a repeating Coding in any of the elements of <a href="http://build.fhir.org/auditevent">http://build.fhir.org/auditevent</a></p>



<a name="271753501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271753501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271753501">(Feb 13 2022 at 16:22)</a>:</h4>
<p>they have all been changed to CodeableConcept and to Example/Preferred binding... Lloyd taught us the error of  the extensible way... but I did not know extensible forbids finer-grain codes.</p>



<a name="271762933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271762933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271762933">(Feb 13 2022 at 20:11)</a>:</h4>
<p>Extensible doesn't forbid finer-grained codes as translations, but if there's a code in the valueset that applies (regardless of granularity), you must use it.</p>



<a name="271772596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271772596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271772596">(Feb 13 2022 at 23:47)</a>:</h4>
<p>I shall ignore the ig builder error.</p>



<a name="271775127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271775127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271775127">(Feb 14 2022 at 00:44)</a>:</h4>
<p>you still haven't told us what the error is, but I think you must have mis-understood it</p>



<a name="271823325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271823325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271823325">(Feb 14 2022 at 13:09)</a>:</h4>
<p>I found it...   so, the answer to my top level question is... "NO". Which Grahame gave, but Lloyd then confused me.</p>



<a name="271823335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20All%20Coding%20must%20come%20from%20the%20valueSet/near/271823335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20All.20Coding.20must.20come.20from.20the.20valueSet.html#271823335">(Feb 14 2022 at 13:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> has marked this topic as resolved.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
