---
layout: page
title: "FHIR Chat  · US Core profile link wrong · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html">US Core profile link wrong</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245756294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245756294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245756294">(Jul 12 2021 at 22:05)</a>:</h4>
<p>I have a dependency on the latest version of US Core: </p>
<div class="codehilite"><pre><span></span><code>&lt;dependsOn id=&quot;hl7fhiruscore&quot;&gt;
        &lt;uri value=&quot;http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core&quot;/&gt;
        &lt;packageId value=&quot;hl7.fhir.us.core&quot;/&gt;
        &lt;version value=&quot;4.0.0&quot;/&gt;
    &lt;/dependsOn&gt;
</code></pre></div>
<p>This is creating links in the profiles that have a US Core base profile that appear to be wrong: <a href="http://build.fhir.org/ig/HL7/vr-common-library/StructureDefinition-Patient-mother.html">http://build.fhir.org/ig/HL7/vr-common-library/StructureDefinition-Patient-mother.html</a> (See the link at "This structure is derived from USCorePatientProfile).</p>
<p>Something is setting the link to: <a href="http://hl7.org/fhir/us/core/STU4.0.0/StructureDefinition-us-core-patient.html">http://hl7.org/fhir/us/core/STU4.0.0/StructureDefinition-us-core-patient.html</a> and it looks like the link should be: <a href="http://hl7.org/fhir/us/core/STU4/StructureDefinition-us-core-patient.html">http://hl7.org/fhir/us/core/STU4/StructureDefinition-us-core-patient.html</a>.</p>
<p>Another thing to note is that the IG Publisher is not picking up that the link is bad...</p>
<p>Is this something I can fix on my end (I guess I could change the version I'm depending on to current, but I don't think I really want to do that do I?)?</p>



<a name="245759378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245759378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245759378">(Jul 12 2021 at 22:42)</a>:</h4>
<p>Actually will try to set the dependsOn version to just be 4 - not sure that's actually valid in terms of versions though....</p>



<a name="245761744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245761744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245761744">(Jul 12 2021 at 23:12)</a>:</h4>
<p>Unfortunately that doesn't work - crashes with <code>Publishing Content Failed: Unable to find package hl7.fhir.us.core#4</code></p>



<a name="245764136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245764136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245764136">(Jul 12 2021 at 23:47)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span>  I have created an issue for this here: <a href="https://github.com/HL7/fhir-ig-publisher/issues/295">https://github.com/HL7/fhir-ig-publisher/issues/295</a></p>



<a name="245776447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245776447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245776447">(Jul 13 2021 at 03:47)</a>:</h4>
<p>I erroneously set the package file to <code> http://hl7.org/fhir/us/core/STU4.0.0</code> and Grahame fixed it prior to publishing.   Obviously it had some other consequences because the package file </p>
<p><code>~/.fhir/packages/hl7.fhir.us.core#4.0.0/package/package.json</code></p>
<p>has this </p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"hl7.fhir.us.core"</span><span class="p">,</span>
  <span class="nt">"version"</span><span class="p">:</span> <span class="s2">"4.0.0"</span><span class="p">,</span>
  <span class="nt">"tools-version"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"fhir.ig"</span><span class="p">,</span>
  <span class="nt">"date"</span><span class="p">:</span> <span class="s2">"20210628190945"</span><span class="p">,</span>
  <span class="nt">"license"</span><span class="p">:</span> <span class="s2">"CC0-1.0"</span><span class="p">,</span>
  <span class="nt">"canonical"</span><span class="p">:</span> <span class="s2">"http://hl7.org/fhir/us/core"</span><span class="p">,</span>
  <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"http://hl7.org/fhir/us/core/STU4.0.0"</span><span class="p">,</span>
  <span class="err">...</span>
<span class="p">}</span>
</code></pre></div>



<a name="245777194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245777194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245777194">(Jul 13 2021 at 04:03)</a>:</h4>
<p>you can do a temporary work around this locally by editing this file</p>



<a name="245786015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245786015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245786015">(Jul 13 2021 at 07:06)</a>:</h4>
<p>Ah... Thanks for the intel <span class="user-mention" data-user-id="191401">@Eric Haas</span> . We're getting ready to publish a few (3) IGs that depend on US Core, so the local fix won't really help much.</p>



<a name="245841531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245841531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245841531">(Jul 13 2021 at 15:23)</a>:</h4>
<p>sorry for the error causing this delay</p>



<a name="245879009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245879009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245879009">(Jul 13 2021 at 20:00)</a>:</h4>
<p>No delay yet - I'm sure we'll work something out before we publish!</p>



<a name="245880604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245880604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245880604">(Jul 13 2021 at 20:12)</a>:</h4>
<p>sigh. Publishing errors are really pernicious. This is really difficult to fix because the package is released, and wrong.</p>



<a name="245880844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245880844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245880844">(Jul 13 2021 at 20:14)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> you can work around this in /org.hl7.fhir.utilities/src/main/java/org/hl7/fhir/utilities/npm/PackageHacker.java in fixPackageUrl</p>



<a name="245884629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245884629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245884629">(Jul 13 2021 at 20:43)</a>:</h4>
<p>BTW - the IG publisher didn't catch that the links were broken, was just a fluke that I found them. (I've added that to the ticket so hopefully it can be changed to pick them up in the future.)</p>



<a name="245897294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245897294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245897294">(Jul 13 2021 at 22:23)</a>:</h4>
<p>Is this Warning the same issue: [Unable to determine whether the provided codes are in the value set <a href="http://hl7.org/fhir/us/core/ValueSet/us-core-vital-signs">http://hl7.org/fhir/us/core/ValueSet/us-core-vital-signs</a> because the value set or code system is not known to the validator]?</p>
<p>If you try to go to <a href="http://hl7.org/fhir/us/core/ValueSet/us-core-vital-signs">http://hl7.org/fhir/us/core/ValueSet/us-core-vital-signs</a> it re-directs to: <a href="http://hl7.org/fhir/us/core/STU4.0.0/ValueSet-us-core-vital-signs.html">http://hl7.org/fhir/us/core/STU4.0.0/ValueSet-us-core-vital-signs.html</a>...</p>



<a name="245897381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245897381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245897381">(Jul 13 2021 at 22:24)</a>:</h4>
<p>Hitting the same issue with the SDOH-CC IG.  We have hyperlinks in the CapabilityStatement that are driven by the canonical URL.  The canonical URL is redirecting, but there's nothing at the location it redirects to.</p>



<a name="245897530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245897530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245897530">(Jul 13 2021 at 22:26)</a>:</h4>
<p>If the vital signs value set re-directed to <a href="http://hl7.org/fhir/us/core/STU4/ValueSet-us-core-vital-signs.html">http://hl7.org/fhir/us/core/STU4/ValueSet-us-core-vital-signs.html</a> it would work, I think.</p>



<a name="245961343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245961343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245961343">(Jul 14 2021 at 13:45)</a>:</h4>
<p>Looking at this now</p>



<a name="245964303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245964303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245964303">(Jul 14 2021 at 14:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> if I wanted to test this, what would be the quickest way to see if my fix works?</p>



<a name="245968639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245968639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245968639">(Jul 14 2021 at 14:36)</a>:</h4>
<p>(deleted)</p>



<a name="245968672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245968672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245968672">(Jul 14 2021 at 14:36)</a>:</h4>
<p>nm answered my own question</p>



<a name="245969239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245969239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245969239">(Jul 14 2021 at 14:41)</a>:</h4>
<p>I still would like to know how to test it though <span class="user-mention" data-user-id="191918">@Sarah Gaunt</span></p>



<a name="245969271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/245969271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#245969271">(Jul 14 2021 at 14:41)</a>:</h4>
<p>PR is here: <a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/560">https://github.com/hapifhir/org.hl7.fhir.core/pull/560</a></p>



<a name="246016176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246016176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246016176">(Jul 14 2021 at 20:33)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span>  Re-build HL7 / vr-common-library from here: <a href="https://fhir.github.io/auto-ig-builder/builds.html">https://fhir.github.io/auto-ig-builder/builds.html</a>, then go to <a href="http://build.fhir.org/ig/HL7/vr-common-library/StructureDefinition-Patient-mother.html">http://build.fhir.org/ig/HL7/vr-common-library/StructureDefinition-Patient-mother.html</a>, find "This structure is derived from USCorePatientProfile" and make sure the link works.</p>



<a name="246016287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246016287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246016287">(Jul 14 2021 at 20:34)</a>:</h4>
<p>I'm rebuilding now - not sure if you've fixed or not, but will test...</p>



<a name="246016428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246016428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246016428">(Jul 14 2021 at 20:35)</a>:</h4>
<p>Or I guess, build that IG locally and check same.</p>



<a name="246085163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246085163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246085163">(Jul 15 2021 at 12:15)</a>:</h4>
<p>I did not merge the PR yet</p>



<a name="246085173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246085173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246085173">(Jul 15 2021 at 12:15)</a>:</h4>
<p>I would have to check locally</p>



<a name="246457255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246457255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246457255">(Jul 19 2021 at 13:52)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> can you please try the latest release of the IG-publisher</p>



<a name="246457257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246457257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246457257">(Jul 19 2021 at 13:52)</a>:</h4>
<p><a href="https://github.com/HL7/fhir-ig-publisher/releases/tag/1.1.77">https://github.com/HL7/fhir-ig-publisher/releases/tag/1.1.77</a></p>



<a name="246457272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246457272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246457272">(Jul 19 2021 at 13:52)</a>:</h4>
<p>let me know if that solves your issue</p>



<a name="246457289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246457289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246457289">(Jul 19 2021 at 13:52)</a>:</h4>
<p>it contains the fix from the core libraries that I put in tlast week</p>



<a name="246501677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246501677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246501677">(Jul 19 2021 at 19:27)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> I just re-built and still getting the "4.0.0" instead of "4" in the url: <a href="http://hl7.org/fhir/us/core/STU4.0.0/StructureDefinition-us-core-encounter.html">http://hl7.org/fhir/us/core/STU4.0.0/StructureDefinition-us-core-encounter.html</a>. (see <a href="http://build.fhir.org/ig/HL7/fhir-bfdr/branches/master/StructureDefinition-Encounter-birth.html">http://build.fhir.org/ig/HL7/fhir-bfdr/branches/master/StructureDefinition-Encounter-birth.html</a>).</p>



<a name="246730402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246730402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246730402">(Jul 21 2021 at 14:51)</a>:</h4>
<p>Any further updates on this <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> ?</p>



<a name="246745131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246745131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246745131">(Jul 21 2021 at 16:39)</a>:</h4>
<p>I had a fix in , and I couldn't build because the terminology server was down. Now that it is back working again, I will try and push out the change</p>



<a name="246745140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246745140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246745140">(Jul 21 2021 at 16:39)</a>:</h4>
<p>Sorry for the delay</p>



<a name="246763078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/246763078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#246763078">(Jul 21 2021 at 18:55)</a>:</h4>
<p>No worries, just didn't want it to fall off the radar! And I didn't actually realize you couldn't build either with the tx server being down...</p>



<a name="247012583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247012583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247012583">(Jul 23 2021 at 18:08)</a>:</h4>
<p>Okay, so reviewing this again, I'm not sure why this is still not working for you. I released 1.1.77 (<a href="https://github.com/HL7/fhir-ig-publisher/releases/tag/1.1.77">https://github.com/HL7/fhir-ig-publisher/releases/tag/1.1.77</a>) with the changed from the core (specifically <a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/560/files">https://github.com/hapifhir/org.hl7.fhir.core/pull/560/files</a>).</p>



<a name="247012646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247012646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247012646">(Jul 23 2021 at 18:08)</a>:</h4>
<p>I check for the url fragment </p>
<div class="codehilite"><pre><span></span><code>    if (webref.contains(&quot;hl7.org/fhir/us/core/STU4.0.0&quot;)) {
      webref.replace(&quot;hl7.org/fhir/us/core/STU4.0.0&quot;, &quot;hl7.org/fhir/us/core/STU4&quot;);
    }`
</code></pre></div>



<a name="247012850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247012850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247012850">(Jul 23 2021 at 18:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> is there any other place other than the PackageHacker that I need to check for this?</p>



<a name="247017808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247017808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247017808">(Jul 23 2021 at 18:57)</a>:</h4>
<p>I the downloaded package file  today and it still has <a href="http://hl7.org/fhir/us/core/STU4.0.0">hl7.org/fhir/us/core/STU4.0.0</a> in package.json:</p>
<div class="codehilite" data-code-language="JavaScript"><pre><span></span><code><span class="p">{</span>
  <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"hl7.fhir.us.core"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"4.0.0"</span><span class="p">,</span>
  <span class="s2">"tools-version"</span><span class="o">:</span> <span class="mf">3</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="o">:</span> <span class="s2">"fhir.ig"</span><span class="p">,</span>
  <span class="s2">"date"</span><span class="o">:</span> <span class="s2">"20210628190945"</span><span class="p">,</span>
  <span class="s2">"license"</span><span class="o">:</span> <span class="s2">"CC0-1.0"</span><span class="p">,</span>
  <span class="s2">"canonical"</span><span class="o">:</span> <span class="s2">"http://hl7.org/fhir/us/core"</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://hl7.org/fhir/us/core/STU4.0.0"</span><span class="p">,</span> <span class="c1">//&lt;&lt;&lt;&lt;&lt;&lt;&lt; still here</span>
  <span class="s2">"title"</span><span class="o">:</span> <span class="s2">"US Core Implementation Guide"</span><span class="p">,</span>
  <span class="c1">//..</span>
<span class="p">}</span>
</code></pre></div>



<a name="247024323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247024323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247024323">(Jul 23 2021 at 19:56)</a>:</h4>
<p>I think that's an <span class="user-mention" data-user-id="193599">@Lynn Laakso</span> issue?</p>



<a name="247207479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247207479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247207479">(Jul 26 2021 at 14:13)</a>:</h4>
<p><span class="user-mention" data-user-id="193599">@Lynn Laakso</span> can we have a quick call at some point today, if you are available. I have most of the permissions to do commits and publish, I just need clarification on exactly what needs to be done.</p>



<a name="247207560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247207560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247207560">(Jul 26 2021 at 14:14)</a>:</h4>
<p>I would prefer to get this done soon, as I know <span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> has been waiting on this.</p>



<a name="247207599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247207599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lynn Laakso <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247207599">(Jul 26 2021 at 14:14)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> just back from medical time off, DM me for scheduling</p>



<a name="247262044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247262044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247262044">(Jul 26 2021 at 21:02)</a>:</h4>
<p>We won't have approval to publish the affected IGs for a couple of weeks (still have to go through FMG and TSC), so it's not a huge rush - just needs to be fixed before we actually publish.</p>



<a name="247262564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247262564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247262564">(Jul 26 2021 at 21:05)</a>:</h4>
<p>Also - I will re-build again now - I am not sure if you made another change after the terminology server issues.  I haven't tested since then...</p>



<a name="247266729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/247266729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#247266729">(Jul 26 2021 at 21:33)</a>:</h4>
<p>Yes, still broken - must be the package.json file that Eric mentioned.</p>



<a name="249941446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/249941446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#249941446">(Aug 19 2021 at 04:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> don't want to hassle you too much though I suspect there was no easing back into work for you... Could you take a look at this issue sometime in the near future as we have a few IGs that are being held up from publication because we can't publish with the broken US Core links.</p>



<a name="249942340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/249942340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#249942340">(Aug 19 2021 at 05:00)</a>:</h4>
<p>so I thought this was fixed. How to reproduce?</p>



<a name="249943093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/249943093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#249943093">(Aug 19 2021 at 05:17)</a>:</h4>
<p>Build any IG that bases a profile on a US Core profile. Like here: <a href="http://build.fhir.org/ig/HL7/case-reporting/branches/master/StructureDefinition-us-ph-patient.html">http://build.fhir.org/ig/HL7/case-reporting/branches/master/StructureDefinition-us-ph-patient.html</a><br>
Click on the link for the US Core Patient and it uses <code>http://hl7.org/fhir/us/core/STU4.0.0/StructureDefinition-us-core-patient.html</code><br>
It should be: <code>http://hl7.org/fhir/us/core/STU4/StructureDefinition-us-core-patient.html</code></p>
<p>It's not just the base profile links either, I think it's anything from US Core - like if you click on the US Core Ethnicity extension link in that same profile I linked above, you'll get the same problem.</p>



<a name="249943773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/249943773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#249943773">(Aug 19 2021 at 05:32)</a>:</h4>
<p>And now I'm super confused, because I look at an IG that just went to ballot and it doesn't have the issue: <a href="http://hl7.org/fhir/us/cancer-reporting/2021Sep/StructureDefinition-us-pathology-related-practitioner-role.html">http://hl7.org/fhir/us/cancer-reporting/2021Sep/StructureDefinition-us-pathology-related-practitioner-role.html</a></p>
<p>So maybe it's something I'm doing wrong?</p>



<a name="249944013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/249944013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#249944013">(Aug 19 2021 at 05:38)</a>:</h4>
<p>Though, that same profile in the ci build has the issue, so maybe Lynn etc. manually fixed the issue before ballot... <a href="https://build.fhir.org/ig/HL7/cancer-reporting/StructureDefinition-us-pathology-related-practitioner-role.html">https://build.fhir.org/ig/HL7/cancer-reporting/StructureDefinition-us-pathology-related-practitioner-role.html</a></p>



<a name="249979284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/249979284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lynn Laakso <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#249979284">(Aug 19 2021 at 12:35)</a>:</h4>
<p>It was fixed after publication, note the link in cancer-reporting goes to us/core/STU4 but your IG is still picking up a reference to us/core/STU4.0.0. There's somewhere that didn't get fixed.</p>



<a name="250049450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/250049450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#250049450">(Aug 19 2021 at 21:08)</a>:</h4>
<p>I just rebuilt the Cancer IG in the CI Build and it's still picking up the 4.0.0 reference - maybe was just fixed for the ballot publications?</p>



<a name="250057303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/250057303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#250057303">(Aug 19 2021 at 22:30)</a>:</h4>
<p>fixed next release</p>



<a name="250831185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/250831185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#250831185">(Aug 26 2021 at 20:00)</a>:</h4>
<p>Do we have an ETA on the next release?</p>



<a name="250836675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20profile%20link%20wrong/near/250836675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20profile.20link.20wrong.html#250836675">(Aug 26 2021 at 20:38)</a>:</h4>
<p>sometime soon. maybe today or tomorrow</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
