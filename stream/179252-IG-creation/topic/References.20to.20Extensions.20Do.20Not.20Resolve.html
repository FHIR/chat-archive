---
layout: page
title: "FHIR Chat  · References to Extensions Do Not Resolve · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html">References to Extensions Do Not Resolve</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="172320363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172320363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172320363">(Aug 02 2019 at 15:58)</a>:</h4>
<p>I'm working on the DaVinci Plan-net IG.   We are incorporating extensions from VHDir into profiles of USCore and R4 resources.<br>
So, I'm trying to incorporate extensions like <a href="http://hl7.org/fhir/uv/vhdir/StructureDefinition/newpatients" target="_blank" title="http://hl7.org/fhir/uv/vhdir/StructureDefinition/newpatients">http://hl7.org/fhir/uv/vhdir/StructureDefinition/newpatients</a> (<a href="http://hl7.org/fhir/uv/vhdir/2018Sep/StructureDefinition-newpatients.html" target="_blank" title="http://hl7.org/fhir/uv/vhdir/2018Sep/StructureDefinition-newpatients.html">http://hl7.org/fhir/uv/vhdir/2018Sep/StructureDefinition-newpatients.html</a>).</p>
<p>Apparently, since these are still in ballot, they don't have resolvable URLs, like extensions in published IGs.<br>
The IG publisher flags them as unresolvable extensions: <strong>"URL value '<a href="http://hl7.org/fhir/uv/vhdir/StructureDefinition/newpatients" target="_blank" title="http://hl7.org/fhir/uv/vhdir/StructureDefinition/newpatients">http://hl7.org/fhir/uv/vhdir/StructureDefinition/newpatients</a>' does not resolve" </strong></p>
<p>The type of extension is listed as: <strong>  ?? [CanonicalType[http://hl7.org/fhir/uv/vhdir/StructureDefinition/newpatients]]</strong></p>
<p>What can be done?</p>



<a name="172326682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172326682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172326682">(Aug 02 2019 at 17:28)</a>:</h4>
<p>The validator will complain about any extensions referenced from external IGs if you haven't specifically identified those IGs as dependencies.  That's the only way it can know how to resolve the URLs.</p>



<a name="172326765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172326765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172326765">(Aug 02 2019 at 17:29)</a>:</h4>
<p>Given that VHDir depends on USCore, why is USCore referencing VHDir extensions?  If they're useful in US-Core, then migrate them and define them there.  Otherwise, US-Core shouldn't be referencing any extensions from IGs that depend on it.  In terms of referencing extensions defined in IGs within the core spec, that's a harder problem.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="172329879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172329879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172329879">(Aug 02 2019 at 18:11)</a>:</h4>
<p>USCore isn't referencing VHDir extensions (unless Plan-Net is destined to be annointed as part of USCore)...<br>
I'll need to learn how to define the VHDir (and USCore?)  IG as a dependency....</p>



<a name="172333171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172333171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172333171">(Aug 02 2019 at 18:53)</a>:</h4>
<p>Here's an example from QI-Core, depending on US-Core STU 3:</p>



<a name="172333172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172333172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172333172">(Aug 02 2019 at 18:53)</a>:</h4>
<p><a href="https://github.com/cqframework/qi-core/blob/master/ig.json#L26" target="_blank" title="https://github.com/cqframework/qi-core/blob/master/ig.json#L26">https://github.com/cqframework/qi-core/blob/master/ig.json#L26</a></p>



<a name="172334739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172334739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172334739">(Aug 02 2019 at 19:14)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> </p>
<p>When I added the dependency to my ig.json file as follows:<br>
Here is the dependency I added to ig.json:<br>
"dependencyList": [<br>
   {<br>
     "package": "hl7.fhir.us.core",<br>
     "version": "3.0.0",<br>
     "name": "uscore",<br>
     "location": "<a href="http://hl7.org/fhir/us/core" target="_blank" title="http://hl7.org/fhir/us/core">http://hl7.org/fhir/us/core</a>"<br>
   },<br>
   {<br>
     "package": "hl7.fhir.uv.vhdir",<br>
     "version": "0.2.0",<br>
     "name": "VhDir",<br>
     "location": "<a href="http://build.fhir.org/ig/HL7/VhDir/" target="_blank" title="http://build.fhir.org/ig/HL7/VhDir/">http://build.fhir.org/ig/HL7/VhDir/</a>"<br>
   }</p>
<p>I get a strange IG builder error:<br>
Load VhDir (<a href="http://build.fhir.org/ig/HL7/VhDir/" target="_blank" title="http://build.fhir.org/ig/HL7/VhDir/">http://build.fhir.org/ig/HL7/VhDir/</a>) from hl7.fhir.uv.vhdir#0.2.0    (43.0793sec)<br>
Version mismatch. This IG is version 4.0.0, while the IG 'VhDir' is from version 3.5.0 (will try to run anyway) (43.0800sec)<br>
Publishing Content Failed: Unsupported version 3.5.0                             (43.0802sec)<br>
                                                                                (43.0802sec)<br>
Use -? to get command line help                                                  (43.0802sec)<br>
                                                                                (43.0802sec)<br>
Stack Dump (for debugging):                                                      (43.0802sec)<br>
java.lang.Exception: Unsupported version <strong>3.5.0</strong><br>
    at org.hl7.fhir.igtools.publisher.Publisher.loadFromPackage(Publisher.java:2130)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:2201)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1685)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1123)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:606)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6208)<br>
Exception in thread "main" java.lang.NullPointerException<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6218)</p>
<p>(FHIR IG Publisher Version 0.9.43-SNAPSHOT - Built 2019-07-23T10:57:09.698Z - Git 6aa2358bd653)</p>
<p>The VHDir IG clearly says it is based on R4:<br>
{<br>
  "resourceType": "ImplementationGuide",<br>
  "id": "hl7.core.uv.vhdir-0.2.0",<br>
  "text": {<br>
    "status": "generated",<br>
    "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;h2&gt;VhDir&lt;/h2&gt;&lt;p&gt;The official URL for this implementation guide is: &lt;/p&gt;&lt;pre&gt;http://hl7.org/fhir/uv/vhdir/ImplementationGuide/ig&lt;/pre&gt;&lt;/div&gt;"<br>
  },<br>
  "url": "<a href="http://hl7.org/fhir/uv/vhdir/ImplementationGuide/ig" target="_blank" title="http://hl7.org/fhir/uv/vhdir/ImplementationGuide/ig">http://hl7.org/fhir/uv/vhdir/ImplementationGuide/ig</a>",<br>
  "version": "0.2.0",<br>
  "name": "VhDir",<br>
  "title": "Validated Healthcare Directory",<br>
  "status": "draft",<br>
  "publisher": "HL7 International - Patient Admistration Working Group",<br>
  "contact": [<br>
    {<br>
      "telecom": [<br>
        {<br>
          "system": "url",<br>
          "value": "<a href="http://www.hl7.org/Special/Committees/pafm/index.cfm" target="_blank" title="http://www.hl7.org/Special/Committees/pafm/index.cfm">http://www.hl7.org/Special/Committees/pafm/index.cfm</a>"<br>
        }<br>
      ]<br>
    }<br>
  ],<br>
  "copyright": "Used by permission of HL7 Patient Administration Committee, all rights reserved Creative Commons License",<br>
  "packageId": "hl7.fhir.uv.vhdir",<br>
  "license": "CC0-1.0",<br>
  "fhirVersion": [<br>
    "4.0.0"<br>
  ],</p>



<a name="172334874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172334874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172334874">(Aug 02 2019 at 19:16)</a>:</h4>
<p>Hmmm... check the fhirVersion attribute in your ImplementationGuide resource?</p>



<a name="172335181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172335181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172335181">(Aug 02 2019 at 19:20)</a>:</h4>
<p>"packageId": "hl7.fhir.uv.vhdir",<br>
"license": "CC0-1.0",<br>
"fhirVersion": [<br>
"4.0.0"</p>



<a name="172335961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172335961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lynn Laakso <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172335961">(Aug 02 2019 at 19:32)</a>:</h4>
<p><a href="https://build.fhir.org/ig/HL7/VhDir/branches/master/qa.html" target="_blank" title="https://build.fhir.org/ig/HL7/VhDir/branches/master/qa.html">https://build.fhir.org/ig/HL7/VhDir/branches/master/qa.html</a> shows the package id not in the usual format hl7.core.uv.vhdir#0.2.0 could that be it? should probably be hl7.fhir.uv.vhdir#0.2.0</p>



<a name="172335993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172335993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172335993">(Aug 02 2019 at 19:33)</a>:</h4>
<p>It looks like there's already a dependencyList entry in the IG, pointing to the current US Core and bulk data:</p>



<a name="172335998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172335998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172335998">(Aug 02 2019 at 19:33)</a>:</h4>
<p><a href="https://github.com/HL7/VhDir/blob/master/ig.json#L1108" target="_blank" title="https://github.com/HL7/VhDir/blob/master/ig.json#L1108">https://github.com/HL7/VhDir/blob/master/ig.json#L1108</a></p>



<a name="172336016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172336016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172336016">(Aug 02 2019 at 19:33)</a>:</h4>
<p>Is it possible you now have 2 dependencyList entries in your ig.json?</p>



<a name="172336525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172336525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172336525">(Aug 02 2019 at 19:39)</a>:</h4>
<p>The dependency list in my plan-net IG has two dependencies:<br>
"dependencyList": [<br>
    {<br>
      "package": "hl7.fhir.us.core",<br>
      "version": "3.0.0",<br>
      "name": "uscore",<br>
      "location": "<a href="http://hl7.org/fhir/us/core" target="_blank" title="http://hl7.org/fhir/us/core">http://hl7.org/fhir/us/core</a>"<br>
    },<br>
    {<br>
      "package": "hl7.fhir.uv.vhdir",<br>
      "version": "0.2.0",<br>
      "name": "VhDir",<br>
      "location": "<a href="http://build.fhir.org/ig/HL7/VhDir/" target="_blank" title="http://build.fhir.org/ig/HL7/VhDir/">http://build.fhir.org/ig/HL7/VhDir/</a>"<br>
    }<br>
  ],</p>
<p>FHIR 3.5 seems to correspond to FHIR v3.5.0: R4 Ballot #2<br>
<a href="http://hl7.org/fhir/2018Sep/" target="_blank" title="http://hl7.org/fhir/2018Sep/">http://hl7.org/fhir/2018Sep/</a></p>
<p>The version history says it is based on 3.5:<br>
<a href="http://www.hl7.org/fhir/uv/vhdir/history.cfml" target="_blank" title="http://www.hl7.org/fhir/uv/vhdir/history.cfml">http://www.hl7.org/fhir/uv/vhdir/history.cfml</a></p>
<p>The Implementation guide file says it is based on 4.0….</p>



<a name="172337258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172337258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172337258">(Aug 02 2019 at 19:48)</a>:</h4>
<p>For the time being, the content is here:   <a href="https://github.com/saulakravitz/davinci-pdex-plan-net" target="_blank" title="https://github.com/saulakravitz/davinci-pdex-plan-net">https://github.com/saulakravitz/davinci-pdex-plan-net</a></p>



<a name="172338331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172338331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172338331">(Aug 02 2019 at 20:04)</a>:</h4>
<p>Right, so you need to point to the "current" version of VhDir, not 0.2.0. 0.2.0 was based on Fhir 3.5, the latest version is based on R4, but it's going to ballot, so they haven't bumped the version in the CI Build yet.</p>



<a name="172341238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172341238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172341238">(Aug 02 2019 at 20:48)</a>:</h4>
<p>So, until the conclusion of the ballot, are we stuck?   This seems like a accounting /procedural  problem, not a technical problem....or am I missing something (as is often the case in my naive wanderings through HL7/FHIR-land).</p>



<a name="172341505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172341505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172341505">(Aug 02 2019 at 20:53)</a>:</h4>
<p>No, change the version in your dependencyList to "current", it should work.</p>



<a name="172341663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172341663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172341663">(Aug 02 2019 at 20:55)</a>:</h4>
<p>Of course, I can't get VhDir to build locally, so there might be a different issue there :)</p>



<a name="172341928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/References%20to%20Extensions%20Do%20Not%20Resolve/near/172341928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/References.20to.20Extensions.20Do.20Not.20Resolve.html#172341928">(Aug 02 2019 at 20:59)</a>:</h4>
<p>Works like a charm.... I <strong>never</strong> would have figured that out.   Thanks for saving us 1-2 days!   Enjoy the weekend.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
