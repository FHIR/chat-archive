---
layout: page
title: "FHIR Chat  · Unable to resolve StructureDefinition exceptions · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20StructureDefinition.20exceptions.html">Unable to resolve StructureDefinition exceptions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="269280012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20StructureDefinition%20exceptions/near/269280012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20StructureDefinition.20exceptions.html#269280012">(Jan 25 2022 at 16:12)</a>:</h4>
<p>I'm seeing a number of these exceptions from the IG Publisher (1.1.97) now when building the IPS IG (<a href="https://github.com/HL7/fhir-ips">https://github.com/HL7/fhir-ips</a>):</p>
<div class="codehilite"><pre><span></span><code>Exception rendering http://hl7.org/fhir/uv/ips/StructureDefinition/Observation-results-uv-ips|1.0.0||http://hl7.org/fhir/uv/ips/StructureDefinition/Observation-results-uv-ips|1.0.0: Unable to resolve StructureDefinition  resolving content reference #Observation.referenceRange
org.hl7.fhir.exceptions.FHIRException: Unable to resolve StructureDefinition  resolving content reference #Observation.referenceRange
    at org.hl7.fhir.r5.conformance.ProfileUtilities.getElementByName(ProfileUtilities.java:3724)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.genTypes(ProfileUtilities.java:3493)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.genElementCells(ProfileUtilities.java:4243)
    at org.hl7.fhir.r5.comparison.ProfileComparer.genElementComp(ProfileComparer.java:991)
    at org.hl7.fhir.r5.comparison.ProfileComparer.genElementComp(ProfileComparer.java:1003)
    at org.hl7.fhir.r5.comparison.ProfileComparer.genElementComp(ProfileComparer.java:1003)
    at org.hl7.fhir.r5.comparison.ProfileComparer.renderStructure(ProfileComparer.java:926)
    at org.hl7.fhir.r5.comparison.ComparisonRenderer.renderProfile(ComparisonRenderer.java:208)
    at org.hl7.fhir.r5.comparison.ComparisonRenderer.renderComparison(ComparisonRenderer.java:131)
    at org.hl7.fhir.r5.comparison.ComparisonRenderer.processList(ComparisonRenderer.java:98)
    at org.hl7.fhir.r5.comparison.ComparisonRenderer.render(ComparisonRenderer.java:74)
    at org.hl7.fhir.igtools.publisher.PreviousVersionComparator.finishChecks(PreviousVersionComparator.java:260)
    at org.hl7.fhir.igtools.publisher.Publisher.checkConformanceResources(Publisher.java:4213)
    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4119)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:947)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:798)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:9079)
</code></pre></div>
<p>These don't seem to have anything to do with what we've profiled in the IG (e.g., referenceRange isn't in the Observation-results-uv-ips profile), and they also don't stop the build.  Thoughts?  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="269284966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20StructureDefinition%20exceptions/near/269284966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20StructureDefinition.20exceptions.html#269284966">(Jan 25 2022 at 16:44)</a>:</h4>
<p>It seems that this is coming from the PreviousVersionComparator.</p>



<a name="269520051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20StructureDefinition%20exceptions/near/269520051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20StructureDefinition.20exceptions.html#269520051">(Jan 27 2022 at 03:04)</a>:</h4>
<p>I don't worry much about those kinds of errors doing previous version comparison - sometimes the comparison ends up trying to compare things that don't exist</p>



<a name="269630917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20StructureDefinition%20exceptions/near/269630917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20StructureDefinition.20exceptions.html#269630917">(Jan 27 2022 at 20:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> That seems fair enough, and is good to know.  But that's not exactly obvious from looking at the build output - and at least it <strong>looks</strong> like it could be significant.  Could this be handled in a different way in the build log other than the raw exception messages?</p>



<a name="269632076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Unable%20to%20resolve%20StructureDefinition%20exceptions/near/269632076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Unable.20to.20resolve.20StructureDefinition.20exceptions.html#269632076">(Jan 27 2022 at 20:21)</a>:</h4>
<p>maybe. the problem is that the logging code doesn't know that's the context it's running in</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
