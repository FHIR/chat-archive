---
layout: page
title: "FHIR Chat  · Logical Models · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html">Logical Models</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157711123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157711123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157711123">(Feb 06 2019 at 18:05)</a>:</h4>
<p>Does the IG build support Logical Models? I have one created in Forge, but it fails in the build. Likely I am doing something wrong. please point me at a IG that uses a logical model</p>



<a name="157711404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157711404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157711404">(Feb 06 2019 at 18:08)</a>:</h4>
<p>What's the failure message?</p>



<a name="157711935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157711935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157711935">(Feb 06 2019 at 18:15)</a>:</h4>
<div class="codehilite"><pre><span></span>  [java] java.lang.Exception: Unable to determine type for  C:\Users\john.moehrke\Git\eLTSS\src\resources\eltss-logical-model: Resource has no id in C:\Users\john.moehrke\Git\eLTSS\src\resources\eltss-logical-model.xml
 [java]     at org.hl7.fhir.igtools.publisher.Publisher.loadAsElementModel(Publisher.java:2402)
 [java]     at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1786)
 [java]     at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:583)
 [java]     at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:527)
 [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4933)
 [java] Caused by: java.lang.Exception: Resource has no id in C:\Users\john.moehrke\Git\eLTSS\src\resources\eltss-logical-model.xml
 [java]     at org.hl7.fhir.igtools.publisher.Publisher.loadAsElementModel(Publisher.java:2349)
 [java]     ... 4 more
</pre></div>



<a name="157712013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157712013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157712013">(Feb 06 2019 at 18:16)</a>:</h4>
<p>I added it to my IG xml file as such</p>
<div class="codehilite"><pre><span></span>&amp;lt;resource&amp;gt;
  &amp;lt;reference&amp;gt;
    &amp;lt;reference value=&quot;StructureDefinition/eltss-logical-model&quot;/&amp;gt;
  &amp;lt;/reference&amp;gt;
  &amp;lt;name value=&quot;LogicalModel&quot;/&amp;gt;
  &amp;lt;description value=&quot;Defines the Logocal Model for eLTSS.&quot;/&amp;gt;
  &amp;lt;exampleBoolean value=&quot;false&quot;/&amp;gt;
  &amp;lt;groupingId value=&quot;general&quot;/&amp;gt;
&amp;lt;/resource&amp;gt;
</pre></div>



<a name="157712086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157712086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157712086">(Feb 06 2019 at 18:17)</a>:</h4>
<p>it is all checked in with this  commented out  <a href="https://github.com/HL7/eLTSS" target="_blank" title="https://github.com/HL7/eLTSS">https://github.com/HL7/eLTSS</a></p>



<a name="157712195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157712195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157712195">(Feb 06 2019 at 18:18)</a>:</h4>
<p>Ok.  And does the referenced resource in fact have an id?</p>



<a name="157713215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157713215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157713215">(Feb 06 2019 at 18:31)</a>:</h4>
<p>well.... no.</p>



<a name="157713244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157713244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157713244">(Feb 06 2019 at 18:32)</a>:</h4>
<p>odd that Forge left it that way...</p>



<a name="157713318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157713318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157713318">(Feb 06 2019 at 18:32)</a>:</h4>
<p>&lt;StructureDefinition xmlns="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
  &lt;url value="<a href="http://example.org/fhir/StructureDefinition/eLTSS" target="_blank" title="http://example.org/fhir/StructureDefinition/eLTSS">http://example.org/fhir/StructureDefinition/eLTSS</a>" /&gt;<br>
  &lt;name value="eLTSS" /&gt;<br>
  &lt;status value="draft" /&gt;<br>
  &lt;fhirVersion value="3.0.1" /&gt;<br>
  &lt;kind value="logical" /&gt;<br>
  ....</p>



<a name="157713370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157713370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157713370">(Feb 06 2019 at 18:33)</a>:</h4>
<p>FYI -- our BreastCancer IG has logical models.  Note, however, that it was built a while ago (not with the latest publisher).</p>



<a name="157713395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157713395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157713395">(Feb 06 2019 at 18:33)</a>:</h4>
<p>And we didn't use Forge.</p>



<a name="157713617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157713617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157713617">(Feb 06 2019 at 18:36)</a>:</h4>
<p>added an id element... got a different failure<br>
      [java] C:\Users\john.moehrke\Git\eLTSS\src\resources\eltss-logical-model<br>
     [java] Publishing Content Failed: Differential is empty generating hierarchical table for <a href="http://example.org/fhir/StructureDefinition/eLTSS" target="_blank" title="http://example.org/fhir/StructureDefinition/eLTSS">http://example.org/fhir/StructureDefinition/eLTSS</a> (49.0270sec)<br>
     [java]                                                                                  (49.0270sec)<br>
     [java] Use -? to get command line help                                                  (49.0270sec)<br>
     [java]                                                                                  (49.0271sec)<br>
     [java] Stack Dump (for debugging):                                                      (49.0271sec)<br>
     [java] org.hl7.fhir.exceptions.FHIRException: Differential is empty generating hierarchical table for <a href="http://example.org/fhir/StructureDefinition/eLTSS" target="_blank" title="http://example.org/fhir/StructureDefinition/eLTSS">http://example.org/fhir/StructureDefinition/eLTSS</a><br>
     [java]     at org.hl7.fhir.r4.conformance.ProfileUtilities.generateTable(ProfileUtilities.java:2217)</p>



<a name="157714175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157714175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157714175">(Feb 06 2019 at 18:43)</a>:</h4>
<p>I had created one a while back ... will try to resurrect it...</p>



<a name="157716788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157716788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157716788">(Feb 06 2019 at 19:14)</a>:</h4>
<p>Is this an issue with how Forge exported? Meaning is there alternatives in Forge for export?  <span class="user-mention" data-user-id="191336">@Michel Rutten</span></p>



<a name="157717863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157717863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157717863">(Feb 06 2019 at 19:26)</a>:</h4>
<p>Is there a differential?  I believe there should be, even for logical models</p>



<a name="157718499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157718499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157718499">(Feb 06 2019 at 19:33)</a>:</h4>
<p>It only has snapshot..</p>



<a name="157719999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157719999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157719999">(Feb 06 2019 at 19:51)</a>:</h4>
<p>I think that's an error with Forge.  There should always be a differential that indicates the delta from the base - which for a logical model, might be nothing.  That's how it's handled with resources.  And logical models can build on other logical models just like resources.</p>



<a name="157721025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157721025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157721025">(Feb 06 2019 at 20:03)</a>:</h4>
<p>okay, I am going to try to get better output from Forge</p>



<a name="157727634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157727634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157727634">(Feb 06 2019 at 21:25)</a>:</h4>
<p>Yep -- I can confirm that our logical models definitely populated snapshot and differential -- with the same exact data (since they weren't based on anything).</p>



<a name="157734255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/157734255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#157734255">(Feb 06 2019 at 22:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> need help with forge...</p>



<a name="158022800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/158022800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#158022800">(Feb 11 2019 at 11:06)</a>:</h4>
<p>Indeed, Forge persists logical model constraints in the snapshot component. This is something I discussed and harmonized with <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> a long time ago. If rules have changed, I'd certainly like to know.</p>



<a name="158043718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/158043718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#158043718">(Feb 11 2019 at 16:33)</a>:</h4>
<p>I don't know about any change here</p>



<a name="158044818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/158044818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#158044818">(Feb 11 2019 at 16:46)</a>:</h4>
<p>Does that mean you can have a logical model with no differential?  (In which case the problem is that the tooling is trying to re-calculate a snapshot from a differential when it shouldn't)  Or does it mean that logical models need to have differential (in which case the understanding of Forge and Firely is incorrect)?</p>



<a name="158044859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/158044859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#158044859">(Feb 11 2019 at 16:47)</a>:</h4>
<p>I'd have to investigate. I don't remember</p>



<a name="158045967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Logical%20Models/near/158045967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Logical.20Models.html#158045967">(Feb 11 2019 at 17:00)</a>:</h4>
<p>I recall a discussion about this specific topic in the core team. IIRC, conclusion was that a Logical model is not constraining anything, but defining, therefore constraints are serialized into the snapshot component. I don't have a strong preference, easy to implement either way, just want to make sure that all tools are in sync. Note that the current Forge behavior exists for quite some time, certainly hasn't changed recently. And we haven't received any reports about compatibility/interoperability issues with logical model definitions.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
