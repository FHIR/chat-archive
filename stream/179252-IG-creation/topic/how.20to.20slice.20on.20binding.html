---
layout: page
title: "FHIR Chat  · how to slice on binding · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html">how to slice on binding</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154020469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020469">(Nov 22 2018 at 14:01)</a>:</h4>
<p>What distinguishes my Observation.component elements is the binding. But the FHIR slicing tools do not seem to support it. How can I effectively slice on the binding?</p>



<a name="154020484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020484">(Nov 22 2018 at 15:04)</a>:</h4>
<p>I would have thought you'd want a fixed value for Observation.component.code most times (and would use pattern).  If a particular Observation.component.code  is allowed to be any of a range of codes, then you'll have to do a binding for all of them (even if it's only a single-code value set) and then slice by value.</p>



<a name="154020601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020601">(Nov 23 2018 at 13:06)</a>:</h4>
<blockquote>
<p>I would have thought you'd want a fixed value for Observation.component.code most times (and would use pattern).  If a particular Observation.component.code  is allowed to be any of a range of codes, then you'll have to do a binding for all of them (even if it's only a single-code value set) and then slice by value.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  This appears to be what I need to do (though not sure how to accomplish the above because that is what I thought I was doing before I tried the pattern approach). <br>
I have four different bindings</p>
<div class="codehilite"><pre><span></span>1. a set where the codes come from a fixed partition of MDC and the code is fixed and system is fixed to MDC
2. a set where the codes come from all other partitions of MDC except the above and the code is different and the system is fixed to MDC
3. a set where the codes come from subset A of a code system and the codes are variable and the system is fixed to ASN1
</pre></div>


<p>4. a set where the codes come from subset B of a code system and the codes are variable and the system is fixed to ASN1</p>
<p>I currently DO specify the binding in each slice.</p>



<a name="154020614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020614">(Nov 23 2018 at 15:38)</a>:</h4>
<p>After some offline discussion w/ Brian, we landed on slicing Observation.component by value with a discriminator of "code" with a distinct value set specified for each slice.</p>



<a name="154020619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020619">(Nov 23 2018 at 16:28)</a>:</h4>
<blockquote>
<p>After some offline discussion w/ Brian, we landed on slicing Observation.component by value with a discriminator of "code" with a distinct value set specified for each slice.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I am getting messages as follows in the build for my value sets:</p>
<div class="codehilite"><pre><span></span>     [java] No value set at Observation.component.code (url = &#39;http://hl7.org/fhir/uv/phd/ValueSet/Quantity11073MDC&#39;)
</pre></div>


<p>which makes sense given that the URL is where the value set <em>will</em> be located when done in the continuous integration or its final resting place. At least that is where I think its going to go. Of course it doesn't exist there now. Is there a special way to define the URLs to the value sets which are currently only in the IG? Is there a relative way and will that be okay when all is said and done?</p>



<a name="154020629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020629">(Nov 23 2018 at 17:40)</a>:</h4>
<p>The value set with that canonical URL needs to be defined in your IG and referenced by your IG</p>



<a name="154020631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020631">(Nov 23 2018 at 17:50)</a>:</h4>
<blockquote>
<p>The value set with that canonical URL needs to be defined in your IG and referenced by your IG</p>
</blockquote>
<p>YEa, my bad. Forgot to do that. I was too proud of myself for actually making the value sets and fixing the sliced components only forgetting to add them to the guide.</p>
<p>However I am getting these kinds of errors everywhere</p>
<div class="codehilite"><pre><span></span>Could not match discriminator (code) for slice Observation.component:relativeTimeComponent in profile http://hl7.org/fhir/uv/phd/StructureDefinition/PhdNumericObservation - does not have fixed value, binding or existence assertions
</pre></div>


<p>probably because all my value sets have this error</p>
<div class="codehilite"><pre><span></span>Quantity11073MDC    error   Error from server: Unable to provide support for code system urn:iso:std:iso:11073:10101 (see Tx log)
</pre></div>



<a name="154020644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020644">(Nov 23 2018 at 23:07)</a>:</h4>
<p>Have you defined that code system?</p>



<a name="154020645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/how%20to%20slice%20on%20binding/near/154020645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/how.20to.20slice.20on.20binding.html#154020645">(Nov 23 2018 at 23:07)</a>:</h4>
<p>Also, does the relativeTimeComponent define and Observation.component:relativeTimeComponent.code element that has a value set binding?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
