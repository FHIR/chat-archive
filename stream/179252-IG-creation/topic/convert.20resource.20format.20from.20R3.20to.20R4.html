---
layout: page
title: "FHIR Chat  · convert resource format from R3 to R4 · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html">convert resource format from R3 to R4</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176408515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/convert%20resource%20format%20from%20R3%20to%20R4/near/176408515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html#176408515">(Sep 23 2019 at 20:52)</a>:</h4>
<p>During the WGM I was asked how I converted my R3 resources. I expose a $convert operation on our server which allows to update ig  resources to  the newer version. With RESTClient (VSCode) it works the following way: </p>
<div class="codehilite"><pre><span></span>@host = https://test.fhir.ch/r4

### Convert between XML STU3 to XML R4
POST {{host}}/$convert HTTP/1.1
Accept: application/fhir+xml;fhirVersion=4.0
Content-Type: application/fhir+xml;fhirVersion=3.0

&lt;StructureDefinition xmlns=&quot;http://hl7.org/fhir&quot;&gt;
  &lt;fhirVersion value=&quot;3.0.1&quot;/&gt;
&lt;/StructureDefinition&gt;
</pre></div>


<p>Please note that it converts only the format itself, so a profile which applies to a R3 resource needs to be adjusted for R4.</p>



<a name="176408590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/convert%20resource%20format%20from%20R3%20to%20R4/near/176408590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html#176408590">(Sep 23 2019 at 20:53)</a>:</h4>
<p>That'll work... though you don't actually need to do that; the IG Publisher can do what ever conversion is needed internally (though like yours , it doesn't do the adjustment)</p>



<a name="176409243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/convert%20resource%20format%20from%20R3%20to%20R4/near/176409243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html#176409243">(Sep 23 2019 at 21:00)</a>:</h4>
<p>I had in memory that the IG Publisher uses the VersionConverter_xx.java for transformation, using the R3R4 maps I had a that time (a few months ago) better conversion for the Medication Resource samples I wanted to transforrm, for the conformance resources itself there was no difference.</p>



<a name="176409294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/convert%20resource%20format%20from%20R3%20to%20R4/near/176409294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html#176409294">(Sep 23 2019 at 21:01)</a>:</h4>
<p>yes the maps are better for non-conformance resources, that's true.</p>



<a name="176409309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/convert%20resource%20format%20from%20R3%20to%20R4/near/176409309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html#176409309">(Sep 23 2019 at 21:01)</a>:</h4>
<p>so it doesn't convert them</p>



<a name="176409617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/convert%20resource%20format%20from%20R3%20to%20R4/near/176409617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html#176409617">(Sep 23 2019 at 21:05)</a>:</h4>
<p>sorry, i intended to point out first that it is a mapbased conversion, i forgot that (jetlag ..), why do mean it does not convert them?</p>



<a name="176409678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/convert%20resource%20format%20from%20R3%20to%20R4/near/176409678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html#176409678">(Sep 23 2019 at 21:06)</a>:</h4>
<p>the IG publisher only upconverts conformance resources - StructureDefinition, ValueSet, CodeSystem etc. It leaves the other resources exactly as it finds them</p>



<a name="176409740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/convert%20resource%20format%20from%20R3%20to%20R4/near/176409740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/convert.20resource.20format.20from.20R3.20to.20R4.html#176409740">(Sep 23 2019 at 21:06)</a>:</h4>
<p>thanks for clarification!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
