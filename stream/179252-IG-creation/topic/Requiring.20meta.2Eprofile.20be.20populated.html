---
layout: page
title: "FHIR Chat  · Requiring meta.profile be populated · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html">Requiring meta.profile be populated</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="210455639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/210455639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#210455639">(Sep 17 2020 at 21:46)</a>:</h4>
<p>In the Plan-Net IG, we want to require the meta.profile field be populated and the _profile search parameter be supported  for two reasons:</p>
<ol>
<li>Easier for clients, since the server attests that the data instances it is delivering conform to the Plan-Net Profiles, and its associated extensions/constraints.</li>
<li>There are two profiles of USCore Organization -- Plannet-Network and Plannet-Organization.   If one wants to retrieve only the Networks, which is a meaningful and reasonable query, the only way to differentiate is by constraining the search to _profile=Plannet-Network unless you traverse the relationships with other instances.</li>
</ol>
<p>Two questions:</p>
<ul>
<li>Is this an appropriate and reasonable profile constraint?  (If not, why have a meta.profile field?)</li>
<li>If so, should the constraint on meta.profile include:<ul>
<li>only the Plan-Net profile, or</li>
<li>the Plan-Net profile AND the underlying US-Core profile?</li>
</ul>
</li>
</ul>
<p>Thx,<br>
Saul.    <span class="user-mention" data-user-id="196359">@Robert Dieterle</span></p>



<a name="210457529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/210457529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#210457529">(Sep 17 2020 at 22:07)</a>:</h4>
<p>The problems with requiring declaration are:</p>
<ul>
<li>if a system is already producing instances that are otherwise conformant, you're requiring them to change code in order to conform</li>
<li>in a general space, you might not have control over the client systems and have no way to <em>make</em> them declare the profile, but still want their data (so having your system rely on its presence is going to eventually cause grief)</li>
<li>the declaration isn't a guarantee of accuracy.  Once someone puts a fixed value profile declaration in their code, odds are at some point in the future they'll make a change that breaks compatibility but will leave the profile declaration in place - so having the profile doesn't remove the need (or the cost) of validating the instance anyhow</li>
</ul>



<a name="210457602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/210457602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#210457602">(Sep 17 2020 at 22:08)</a>:</h4>
<p>You should <em>never</em> use profile as a way of searching for meaningful data.  If you want to know whether something is a network or organization, that must be inferrable from the data in the instance if you strip the profile declarations away.  If you can't, then your IG is non-conformant.</p>



<a name="210457665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/210457665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#210457665">(Sep 17 2020 at 22:08)</a>:</h4>
<p>I.e. you should be using an extension or some other data element to distinguish, not meta.profile</p>



<a name="210459572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/210459572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#210459572">(Sep 17 2020 at 22:32)</a>:</h4>
<p>So, if I can't require that someone populate meta.profile to declare conformance, you view it as an informational declaration of a data producer that is always optional?</p>



<a name="210460277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/210460277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#210460277">(Sep 17 2020 at 22:42)</a>:</h4>
<p>I'm not saying you <em>can't</em> require it, I'm saying it's not good practice - and it's certainly not something anyone should ever look at for semantic information.  It must always be possible to wipe all profile declarations and then redetermine them solely by validating instances against all of the possible applicable profiles.</p>



<a name="210462026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/210462026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#210462026">(Sep 17 2020 at 23:04)</a>:</h4>
<p>The automated conformance testing that some reference implementations do when the .meta.profile is populated is not the only way to get conformance testing. You can have a server that forcefully requires conformance.</p>



<a name="210524448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/210524448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#210524448">(Sep 18 2020 at 14:16)</a>:</h4>
<p>The trouble is the chicken-and-egg situation with respect to conformance testing. If you want to verify that a server conforms to US Core, one part of that involves testing that all labs conform to US Core Observation Lab. To do this, you query for all Observations, sort the Observations into two piles, labs and non-labs, and then run the validator on the labs. Simple! Except that....</p>
<p>How do you determine which Observations are supposed to be labs? Sorting them requires using the information in the Observation, which is exactly what you are testing. The server may have improperly populated Observation.category or used the wrong LOINC code (or didn't use LOINC at all), so the testing software cannot identify which resources are <em>supposed to be</em> labs. </p>
<p>If everything that the testing software identified as a lab passes validation, there still might be resources that <em>should have</em> conformed to US Core Lab, but were never identified as labs in the first place. So conformance question is undecidable.</p>
<p>This is a normal feature of black box testing. You can never really decide if the software you're testing is 100% correct via black box testing. What Saul suggests, and many have suggested before, doesn't change this.  It only changes the scope of what you are testing, namely, if the server declares via meta.profile that "I intend this resource to conform to US Core Lab" then a test can easily decide if what the server <em>thinks</em> are labs do or do not conform to US Core.  </p>
<p>Basically, conformance testing has limitations, and unless there is a out-of-band method of sorting out what is <em>intended</em> to be what, we're stuck.</p>



<a name="211067054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/211067054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#211067054">(Sep 23 2020 at 21:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191447">@Mark Kramer</span> you appear to have the last word....</p>



<a name="211067371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/211067371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#211067371">(Sep 23 2020 at 21:59)</a>:</h4>
<p>no having the last word on this is on my to do list</p>



<a name="211067391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/211067391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#211067391">(Sep 23 2020 at 21:59)</a>:</h4>
<p>I won't have a chance until after the WGM</p>



<a name="211148949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/211148949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#211148949">(Sep 24 2020 at 15:35)</a>:</h4>
<p>The FHIR documentation requires meta.profile to be populated if the server declares it a supported profile: <br>
"To help a consumer find the correct set of reports for a use-case, a producer of resources also SHALL, for any profile declared in CapabilityStatement.rest.resource.supportedProfile:</p>
<ol>
<li>Mark resources with profile assertions documenting the profile(s) they conform to (this enables indexing by the profile)</li>
<li>(if a server) support searching by the _profile parameter for the declared profiles<br>
Beyond these requirements, a producer of resources SHOULD ensure that any resource instance that would reasonably be expected to conform to the declared profiles SHOULD be published in this form."<br>
See <a href="https://www.hl7.org/fhir/profiling.html#CapabilityStatement.rest.resource.supportedProfile">https://www.hl7.org/fhir/profiling.html#CapabilityStatement.rest.resource.supportedProfile</a></li>
</ol>



<a name="211149021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/211149021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#211149021">(Sep 24 2020 at 15:36)</a>:</h4>
<p>Last word regained <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="211149225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/211149225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#211149225">(Sep 24 2020 at 15:37)</a>:</h4>
<p>... it's not over yet</p>



<a name="212627028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/212627028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#212627028">(Oct 07 2020 at 22:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>, going back to this discussion, I see that it's not a good practice to have meta.profile as a required element for client data submission and it's not appropriate to rely on searches by a "_profile" parameter (even though it's a standard parameter). However, I'm wondering whether it wouldn't make sense to require a read-only server (e.g. a CARIN BB or Plan Net server) to always declare meta.profile.</p>



<a name="212634653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/212634653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#212634653">(Oct 08 2020 at 00:05)</a>:</h4>
<p>You can certainly mandate declaring a profile</p>



<a name="212634837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/212634837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#212634837">(Oct 08 2020 at 00:08)</a>:</h4>
<p>However, that creates a cost for systems that might comply with the profile without having been custom designed for your IG.  Is that something that's even a vague possibility for compliant systems?</p>



<a name="212688546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/212688546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#212688546">(Oct 08 2020 at 13:25)</a>:</h4>
<p>Thank you Lloyd. I believe all the payers are implementing CARIN BB compliant servers and will implement the Plan Net ones next year to meet the new CMS/ONC rule, so possibly having meta.profile as required would make sense for all these implementations. <span class="user-mention" data-user-id="215604">@Saul Kravitz</span>, <span class="user-mention" data-user-id="243554">@Pat Taylor</span>, maybe some additional discussion of this requirement would be helpful.</p>



<a name="212703788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Requiring%20meta.profile%20be%20populated/near/212703788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Taylor <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Requiring.20meta.2Eprofile.20be.20populated.html#212703788">(Oct 08 2020 at 15:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> The CARIN BB profiles were designed to align with claims submission data standards adopted by HHS.  The reimbursement methodologies, benefits applied and value sets are different between the profiles.  As the  source of the data is the payer and the end user of the data is a consumer, from a payer perspective, conveying data with a high degree of data quality is an important consideration.  Our preference is to require the meta.profile to be populated.  <span class="user-mention" data-user-id="191393">@Igor Sirkovich</span> <span class="user-mention" data-user-id="192132">@Amol Vyas</span> <span class="user-mention" data-user-id="215604">@Saul Kravitz</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
