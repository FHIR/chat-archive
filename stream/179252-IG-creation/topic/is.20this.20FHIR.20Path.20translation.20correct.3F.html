---
layout: page
title: "FHIR Chat  · is this FHIR Path translation correct? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/is.20this.20FHIR.20Path.20translation.20correct.3F.html">is this FHIR Path translation correct?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="202214551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/is%20this%20FHIR%20Path%20translation%20correct%3F/near/202214551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/is.20this.20FHIR.20Path.20translation.20correct.3F.html#202214551">(Jun 28 2020 at 01:53)</a>:</h4>
<p>We have a tracker to change :<br>
the invariant for  "A code in Condition.category SHOULD be from US Core Condition Category Codes value set."</p>
<p>from:</p>
<p><code>where(category in 'http://hl7.org/fhir/us/core/ValueSet/us-core-condition-category').exists()</code></p>
<p>to:</p>
<p><code>where(category.memberOf('http://hl7.org/fhir/us/core/ValueSet/us-core-condition-category')).exists()</code></p>
<p>I tested it and am not getting any build errors but also not getting expected best practice notice in QA using either syntax above.  I'm not really concerned about the failure to get a best practice warning if is a tooling issue. (can live with that).   I am more concerned if the FHIR Path is wrong.</p>
<p>FYI the salient part in the SD is here:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">constraint</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">extension</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">url</span><span class="p">:</span> <span class="s">&#39;http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice&#39;</span>
        <span class="nt">valueBoolean</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-core-1</span>
    <span class="nt">severity</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">warning</span>
    <span class="nt">human</span><span class="p">:</span> <span class="p p-Indicator">&gt;-</span>
      <span class="no">A code in Condition.category SHOULD be from US Core Condition Category</span>
      <span class="no">Codes value set.</span>
    <span class="nt">expression</span><span class="p">:</span> <span class="p p-Indicator">&gt;-</span>
      <span class="no">where(category.memberOf(&#39;http://hl7.org/fhir/us/core/ValueSet/us-core-condition-category&#39;)).exists()</span>
    <span class="nt">xpath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">(no xpath equivalent)</span>
</code></pre></div>



<a name="202367912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/is%20this%20FHIR%20Path%20translation%20correct%3F/near/202367912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/is.20this.20FHIR.20Path.20translation.20correct.3F.html#202367912">(Jun 29 2020 at 21:05)</a>:</h4>
<p>also a tracker to change this:</p>
<p><code>($this.agent.who.resolve().is Practitioner or Device) implies exists()</code></p>
<p>to </p>
<p><code>"(($this.agent.who.resolve() is Practitioner) or ($this.agent.who.resolve() is Device)) implies exists()"</code></p>
<p>but again not able to test - there is no error in ig when element missing and reference is Practitioner<br>
does it look correct</p>



<a name="202368033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/is%20this%20FHIR%20Path%20translation%20correct%3F/near/202368033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/is.20this.20FHIR.20Path.20translation.20correct.3F.html#202368033">(Jun 29 2020 at 21:06)</a>:</h4>
<p>is there a way to test it outside of IG ?</p>



<a name="202369586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/is%20this%20FHIR%20Path%20translation%20correct%3F/near/202369586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/is.20this.20FHIR.20Path.20translation.20correct.3F.html#202369586">(Jun 29 2020 at 21:20)</a>:</h4>
<p>I don't know of a way to test this one</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
