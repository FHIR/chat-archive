---
layout: page
title: "FHIR Chat  · IG Publisher Error with some Profiles · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html">IG Publisher Error with some Profiles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="192762316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192762316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192762316">(Apr 03 2020 at 06:26)</a>:</h4>
<p>Today I noticed some new Errors in my IG QA. I have some profiles who have the same name as the resource they are constraining, e.g. a Patient profile based on Patient. All these profiles now have a <code> StructureDefinition/Patient: StructureDefinition.differential.element[0] error   Duplicate id value 'Patient' </code> (or eqivalent) error. I noticed the publisher seems to add a new element in each differential with id: ResourceName. Could this be the source of the error?</p>



<a name="192762664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192762664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192762664">(Apr 03 2020 at 06:32)</a>:</h4>
<p>That's a check I just added in this version. It should not be giving that error - can I reproduce this?</p>



<a name="192762810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192762810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192762810">(Apr 03 2020 at 06:35)</a>:</h4>
<p>Here is my IG input: <a href="https://github.com/samply/bbmri-fhir-ig/tree/feature/fullBuild" title="https://github.com/samply/bbmri-fhir-ig/tree/feature/fullBuild">https://github.com/samply/bbmri-fhir-ig/tree/feature/fullBuild</a></p>



<a name="192765106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192765106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192765106">(Apr 03 2020 at 07:11)</a>:</h4>
<p>see <a href="#narrow/stream/179177-conformance/topic/Element.20ID" title="#narrow/stream/179177-conformance/topic/Element.20ID">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Element.20ID</a></p>



<a name="192807569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192807569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Catherine Hosage Norman <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192807569">(Apr 03 2020 at 14:00)</a>:</h4>
<p>I am getting the same Duplicate id value error.  <a href="https://github.com/HL7/FHIR-pq-cmc" title="https://github.com/HL7/FHIR-pq-cmc">https://github.com/HL7/FHIR-pq-cmc</a>.  I thought it was because of code list because all of them were on codes.</p>



<a name="192851224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192851224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192851224">(Apr 03 2020 at 19:11)</a>:</h4>
<p>well, it'll be because of the ids one way or another. Do you have duplicate ids?</p>



<a name="192902580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192902580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192902580">(Apr 04 2020 at 11:09)</a>:</h4>
<p>I'm experiencing the same error with 'my' logical models, where I'm using as as id of the model the type of the model. <br>
I can easily fix this error renaming the id, but I don't understand why I should do this and in this case the rendering of the model is "less attractive"...</p>



<a name="192902745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192902745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192902745">(Apr 04 2020 at 11:13)</a>:</h4>
<p><a href="/user_uploads/10155/38R5ffvYF_sc-EoHeSqbKHXO/image.png" title="image.png">image.png</a> <br>
instead of<br>
<a href="/user_uploads/10155/-3lValwTavHbZPtDKlUn28O1/image.png" title="image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/38R5ffvYF_sc-EoHeSqbKHXO/image.png" title="image.png"><img src="/user_uploads/10155/38R5ffvYF_sc-EoHeSqbKHXO/image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/10155/-3lValwTavHbZPtDKlUn28O1/image.png" title="image.png"><img src="/user_uploads/10155/-3lValwTavHbZPtDKlUn28O1/image.png"></a></div>



<a name="192902820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192902820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192902820">(Apr 04 2020 at 11:14)</a>:</h4>
<p>[Q] is this issue related to <a href="#narrow/stream/179177-conformance/topic/Element.20ID" title="#narrow/stream/179177-conformance/topic/Element.20ID">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Element.20ID</a> or are two separate topics ?</p>



<a name="192904167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192904167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192904167">(Apr 04 2020 at 11:53)</a>:</h4>
<p>I can't see any link. The id shouldn't make any difference here</p>



<a name="192905107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192905107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192905107">(Apr 04 2020 at 12:18)</a>:</h4>
<p>with this </p>
<div class="codehilite"><pre><span></span>&lt;StructureDefinition xmlns=&quot;http://hl7.org/fhir&quot;&gt;
    &lt;id value=&quot;AziendaSanitaria&quot;/&gt;
    &lt;url value=&quot;http://hl7.it/fhir/StructureDefinition/AziendaSanitaria&quot;/&gt;
......
        &lt;name value=&quot;AziendaSanitaria&quot;/&gt;
......
        &lt;kind value=&quot;logical&quot;/&gt;
    &lt;abstract value=&quot;true&quot;/&gt;
    &lt;type value=&quot;AziendaSanitaria&quot;/&gt;
......
      &lt;differential&gt;
        &lt;element id=&quot;AziendaSanitaria&quot;&gt;
            &lt;path value=&quot;AziendaSanitaria&quot;/&gt;
</pre></div>


<p>I have this error <br>
StructureDefinition.differential.element[0] error   Duplicate id value 'AziendaSanitaria'</p>



<a name="192905185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192905185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192905185">(Apr 04 2020 at 12:21)</a>:</h4>
<p>if I make this change </p>
<div class="codehilite"><pre><span></span>&lt;StructureDefinition xmlns=&quot;http://hl7.org/fhir&quot;&gt;
    &lt;id value=&quot;AziendaSanitaria-lm&quot;/&gt;
    &lt;url value=&quot;http://hl7.it/fhir/StructureDefinition/AziendaSanitaria-lm&quot;/&gt;
</pre></div>


<p>the error disappear.</p>



<a name="192905244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192905244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192905244">(Apr 04 2020 at 12:22)</a>:</h4>
<p>but it is not clear to me why I should do that...</p>



<a name="192924634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192924634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192924634">(Apr 04 2020 at 20:04)</a>:</h4>
<p>the id question is the one discussed on your conformance link, about the scope of uniqueness. I don't see what it has to do with the presentation</p>



<a name="192956702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192956702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192956702">(Apr 05 2020 at 12:16)</a>:</h4>
<p>me either ... just reporting what I'm seeing :-)</p>
<p>if I use the same string for the id and the type (i.e the name of the model) in the column type is displayed the model name (in the example "AziendaSanitaria"); <br>
if I change the id (in the example change to "AziendaSanitaria-lm") - I've no more errors - but in the type column is shown the full URL (<a href="http://hl7.it/fhir/StaructureDefinition/AziendaSanitaria-lm" title="http://hl7.it/fhir/StaructureDefinition/AziendaSanitaria-lm">http://hl7.it/fhir/StaructureDefinition/AziendaSanitaria-lm</a>).</p>
<p>Any suggestion ?</p>



<a name="192956734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192956734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192956734">(Apr 05 2020 at 12:16)</a>:</h4>
<p>well, based on the discussion in the conformance stream, I'll be removing that check in the validator</p>



<a name="192963026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192963026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192963026">(Apr 05 2020 at 14:52)</a>:</h4>
<p>Removing the check completely, or allowing overlap between <a href="http://resource.id" title="http://resource.id">resource.id</a> and snapshot and differential ids?  I think that, in general, the rule should stand...  Certainly within a canonical or differential ids must be unique</p>



<a name="192976801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20Error%20with%20some%20Profiles/near/192976801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20Error.20with.20some.20Profiles.html#192976801">(Apr 05 2020 at 20:32)</a>:</h4>
<p>the overlap bit</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
