---
layout: page
title: "FHIR Chat  · Auto-IG-Builder and Template-based IGs · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html">Auto-IG-Builder and Template-based IGs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183280881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183280881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183280881">(Dec 12 2019 at 17:21)</a>:</h4>
<p>Does the auto-ig-builder work for template-based IGs?  The <a href="https://github.com/FHIR/auto-ig-builder" target="_blank" title="https://github.com/FHIR/auto-ig-builder">auto-ig-builder README</a> indicates that the IG must have an <code>ig.json</code> file, but template-based IGs do not have one.  It <em>looks</em> like the <code>auto-ig-builder</code> successfully built <a href="https://github.com/FHIR/ig-guidance/" target="_blank" title="https://github.com/FHIR/ig-guidance/">HL7/ig-guidance</a> last week, but I don't understand how it worked, because the logs contain this command:</p>
<div class="codehilite"><pre><span></span>DEBUG:root:running: java -Xms14000m -Xmx14000m -jar ../publisher.jar -ig ig.json -auto-ig-build -target https://build.fhir.org/ig/FHIR/ig-guidance/ -out /scratch/ig-build-temp-F4NQ3N/repo
</pre></div>


<p>If I try to run the publisher w/ <code>-ig ig.json</code> against a template-based IG locally, the publisher fails.</p>



<a name="183280985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183280985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183280985">(Dec 12 2019 at 17:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="183281660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183281660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183281660">(Dec 12 2019 at 17:30)</a>:</h4>
<p>For templates, it should be running against ig.ini.  There wouldn't typically even <em>be</em> an ig.json...</p>



<a name="183282039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183282039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183282039">(Dec 12 2019 at 17:34)</a>:</h4>
<p>Yes, that's basically the crux of my question.  Auto-IG-Builder says it _requires_ <code>ig.json</code>, and logs seem to confirm that it _assumes_ it -- and yet your <code>ig-guidance</code> IG somehow succeeded the auto-build.  I guess maybe I should just try mine and see what happens?</p>



<a name="183283206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183283206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183283206">(Dec 12 2019 at 17:49)</a>:</h4>
<p>Yup</p>



<a name="183283670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183283670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183283670">(Dec 12 2019 at 17:54)</a>:</h4>
<p>It worked! <a href="http://build.fhir.org/ig/HL7/fhir-shorthand/branches/master/index.html" target="_blank" title="http://build.fhir.org/ig/HL7/fhir-shorthand/branches/master/index.html">http://build.fhir.org/ig/HL7/fhir-shorthand/branches/master/index.html</a></p>



<a name="183284546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183284546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183284546">(Dec 12 2019 at 18:04)</a>:</h4>
<p>And did the log say it was using ig.ini or ig.json?</p>



<a name="183284704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183284704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183284704">(Dec 12 2019 at 18:06)</a>:</h4>
<p>ig.json</p>
<div class="codehilite"><pre><span></span>DEBUG:root:running: java -Xms14000m -Xmx14000m -jar ../publisher.jar -ig ig.json -auto-ig-build -target https://build.fhir.org/ig/HL7/fhir-shorthand/ -out /scratch/ig-build-temp-THA7KV/repo
</pre></div>


<p>Maybe the <code>-auto-ig-build</code> flag invokes some special-case logic that looks for ig.ini if ig.json is not found?</p>



<a name="183284894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183284894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183284894">(Dec 12 2019 at 18:08)</a>:</h4>
<p>Yup, I think that's it.  If I run the publisher locally <em>without</em> the <code>-auto-ig-build</code> flag, it fails because it can't find <code>ig.json</code>.  But if I run it <em>with</em> the <code>-auto-ig-build</code> flag, it seems to do the right thing, despite <code>-ig ig.json</code>.</p>



<a name="183285223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183285223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183285223">(Dec 12 2019 at 18:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> Is the process spitting out something hard-coded to the log that isn't actually true?</p>



<a name="183291231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183291231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183291231">(Dec 12 2019 at 19:12)</a>:</h4>
<p>no. the Publisher has some magic somewhere to accept the ini instead of the json on the autobuild</p>



<a name="183293696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183293696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183293696">(Dec 12 2019 at 19:39)</a>:</h4>
<p>Wow, glad Grahame invented magic here ;-) Does someone want to send a PR to the documentation explaining this exception (i.e. <code>ig.json</code> not required for template-based builds)?</p>



<a name="183294185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183294185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183294185">(Dec 12 2019 at 19:44)</a>:</h4>
<p>done</p>



<a name="183312486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183312486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183312486">(Dec 12 2019 at 23:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> just looking at <a href="https://build.fhir.org/ig/qas.json" target="_blank" title="https://build.fhir.org/ig/qas.json">https://build.fhir.org/ig/qas.json</a> for some processing purpose, and I note that the url field has a fantasy value</p>



<a name="183312569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183312569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183312569">(Dec 12 2019 at 23:06)</a>:</h4>
<p>unless it is intended to be the canonical URL? I was expecting it to contain the actual link to the built files?</p>



<a name="183312754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183312754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183312754">(Dec 12 2019 at 23:09)</a>:</h4>
<p>Interesting. Do we use it anywhere?</p>



<a name="183313041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Auto-IG-Builder%20and%20Template-based%20IGs/near/183313041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Auto-IG-Builder.20and.20Template-based.20IGs.html#183313041">(Dec 12 2019 at 23:13)</a>:</h4>
<p>turns out that I do. As the canonical URL. I was just about to say that. So that's what it is. could probably have a better name but let's not change that now</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
