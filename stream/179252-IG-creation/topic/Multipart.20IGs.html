---
layout: page
title: "FHIR Chat  · Multipart IGs · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html">Multipart IGs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="250434823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250434823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250434823">(Aug 24 2021 at 02:01)</a>:</h4>
<p>Is it possible to build an IG in multiple parts, and then combine them into a joint IG as part of the build or publication process?</p>
<p>I'm currently working on an IG that has some large valuesets in it. If I try to build it as one IG, it takes a couple of hours for IG publisher to run (if it doesn't crash from running out of memory) locally. However, if I strip the valuesets out into separate IGs, and make my main IG dependent on the valueset IGs, then I can build all of them in less than an hour. Although this works from the packaging side (anything that uses my skinny IG also brings in the vocab IGs), it means that the vocab doesn't show up in the artefact list, etc. of the main IG. Is there a way to get the faster builds of the multiple IG approach, along with the valueset visibility that comes with the single IG approach?</p>



<a name="250435282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250435282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250435282">(Aug 24 2021 at 02:09)</a>:</h4>
<p>no easy way. but the txCache is supposed to mean that this isn't such a big problem</p>



<a name="250435363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250435363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250435363">(Aug 24 2021 at 02:11)</a>:</h4>
<p>Right -- doesn't cause a problem for using the vocabulary if you know about it; it just means the value set isn't "advertised" anywhere.</p>



<a name="250476478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250476478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250476478">(Aug 24 2021 at 12:24)</a>:</h4>
<p>so you want something more than .dependsOn.</p>



<a name="250476518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250476518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250476518">(Aug 24 2021 at 12:24)</a>:</h4>
<p>so your narrative can easily handle this, so are you just looking for the valueset to show up in the artifacts page?</p>



<a name="250484875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250484875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250484875">(Aug 24 2021 at 13:31)</a>:</h4>
<p>We've heard the requirement to 'import' artifacts into an IG for a wide variety of reasons.  I really think we should re-explore this question.</p>



<a name="250494676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250494676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250494676">(Aug 24 2021 at 14:40)</a>:</h4>
<p>Yes please</p>



<a name="250494787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250494787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250494787">(Aug 24 2021 at 14:40)</a>:</h4>
<p><a href="https://github.com/HL7/ig-template-base/issues/173">https://github.com/HL7/ig-template-base/issues/173</a> ?</p>



<a name="250519757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250519757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250519757">(Aug 24 2021 at 17:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/179252-IG-creation/topic/Multipart.20IGs/near/250476518">said</a>:</p>
<blockquote>
<p>so your narrative can easily handle this, so are you just looking for the valueset to show up in the artifacts page?</p>
</blockquote>
<p>Exactly. I'd like it to all appear as one IG despite the fact that I've built it as three for performance reasons. </p>
<p>I don't know if this is possible (well, I do know it isn't <em>currently</em> possible), because as soon as you get away from the hierarchical dependsOn relationship, you need to start checking crossreferences and links, and I think that's what slows everything down.</p>
<p>Alternatively, modifying the IG publisher so that it doesn't slow down as much with large value sets would allow me to use a single IG and solve the problem.</p>



<a name="250521914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250521914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250521914">(Aug 24 2021 at 17:49)</a>:</h4>
<p>yup. all I can think of is someone complaining to their doctor that when they hit their head against a wall that it hurts... and the doctor tells them to stop hitting their head aginst the wall</p>



<a name="250524936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250524936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250524936">(Aug 24 2021 at 18:12)</a>:</h4>
<p>how would I reproduce this?</p>



<a name="250567141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250567141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250567141">(Aug 25 2021 at 00:24)</a>:</h4>
<p>The IGs I've been playing with have been put on <a href="https://github.com/ElliotSilver/infoway-tx">https://github.com/ElliotSilver/infoway-tx</a>. (I'm guessing that because I've got 5 IG in one repository, the CI build won't work.)</p>



<a name="250571013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250571013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250571013">(Aug 25 2021 at 01:28)</a>:</h4>
<p>right. 1 IG per repo for CI build</p>



<a name="250623240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250623240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250623240">(Aug 25 2021 at 13:54)</a>:</h4>
<p>Do you need me to refactor it, or can you investigate as is?</p>



<a name="250697934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250697934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250697934">(Aug 25 2021 at 23:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> did you want me change the github layout?</p>



<a name="250709217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250709217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250709217">(Aug 26 2021 at 01:59)</a>:</h4>
<p>it's not my problem; you would have to change it if it was an HL7 IG but it's not. So up to you and your customer if you want CI build or not. I would personally</p>



<a name="250709515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250709515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250709515">(Aug 26 2021 at 02:03)</a>:</h4>
<p>Well, right now it's just an experiment -- and the only one looking at it, other than me, is you. I suspect that we will restructure if we decide to go ahead, but unless you need it for your tests, I'll leave it for now.</p>



<a name="250709598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250709598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250709598">(Aug 26 2021 at 02:04)</a>:</h4>
<p>ok. but which one do I run to reproduce the two problems you want me to look at?</p>



<a name="250709748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250709748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250709748">(Aug 26 2021 at 02:07)</a>:</h4>
<p>To look at the long build times, compare building "term" to building "tx.1", "tx.2", tx.3" then "tx".<br>
To look at the odd valueset rendering, build "tx". (Which requires you to have already built "tx.1", "tx.2", tx.3", unless you remove the dependencies.)</p>



<a name="250710205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250710205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250710205">(Aug 26 2021 at 02:15)</a>:</h4>
<p>running term:</p>
<blockquote>
<p>C:\work\org.hl7.fhir.igs\infoway-tx\term\fsh-generated\resources\ImplementationGuide-ca.infoway.tx.json</p>
</blockquote>



<a name="250710252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250710252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250710252">(Aug 26 2021 at 02:16)</a>:</h4>
<blockquote>
<p>Error Parsing File C:\work\org.hl7.fhir.igs\infoway-tx\term\fsh-generated\resources\ImplementationGuide-ca.infoway.tx.json: C:\work\org.hl7.fhir.igs\infoway-tx\term\fsh-generated\resources\ImplementationGuide-ca.infoway.tx.json (The system cannot find the path specified)</p>
</blockquote>



<a name="250710256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250710256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250710256">(Aug 26 2021 at 02:16)</a>:</h4>
<blockquote>
<p>Caused by: java.io.FileNotFoundException: C:\work\org.hl7.fhir.igs\infoway-tx\term\fsh-generated\resources\ImplementationGuide-ca.infoway.tx.json (The system cannot find the path specified)</p>
</blockquote>



<a name="250710283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250710283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250710283">(Aug 26 2021 at 02:16)</a>:</h4>
<p>Arg. Ok, let me see if I can track that down.</p>



<a name="250710639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250710639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250710639">(Aug 26 2021 at 02:23)</a>:</h4>
<p>IG publisher doesn't appear to like a sushi project that doesn't actually contain any fsh files. Try running sushi manually once to create the IG resource and "fsh" and "fsh-generated" directories.</p>



<a name="250710839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250710839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250710839">(Aug 26 2021 at 02:26)</a>:</h4>
<p>run it where? on what?</p>



<a name="250710981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250710981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250710981">(Aug 26 2021 at 02:29)</a>:</h4>
<p>In the term directory, run sushi without any parameters before you run the publisher.<br>
You'll need to repeat that in the directory for each of the other projects tx, tx.1, tx.2, tx.3 as well.</p>



<a name="250711575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250711575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250711575">(Aug 26 2021 at 02:41)</a>:</h4>
<p>10:10 to run the term IG. Is that what you expected?</p>



<a name="250711633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250711633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250711633">(Aug 26 2021 at 02:42)</a>:</h4>
<p>Not at all. Took me just under 2 hours.</p>



<a name="250711712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250711712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250711712">(Aug 26 2021 at 02:44)</a>:</h4>
<p>I just kicked off building that about 18 minutes ago, and it is currently on "Validating Conformance Resources".</p>



<a name="250711744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250711744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250711744">(Aug 26 2021 at 02:45)</a>:</h4>
<p>how much memory are you giving it? Sounds like it's memory constrained</p>



<a name="250711754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250711754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250711754">(Aug 26 2021 at 02:45)</a>:</h4>
<blockquote>
<p>Detected Java version: 11.0.9 from C:\Program Files\Java\jdk-11.0.9 on Windows 10/amd64 (64bit). 16344MB available</p>
</blockquote>



<a name="250711771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250711771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250711771">(Aug 26 2021 at 02:45)</a>:</h4>
<blockquote>
<p>Detected Java version: 14.0.1 from /Library/Java/JavaVirtualMachines/jdk-14.0.1.jdk/Contents/Home on Mac OS X/x86_64 (64bit). 8192MB available</p>
</blockquote>



<a name="250711843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250711843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250711843">(Aug 26 2021 at 02:47)</a>:</h4>
<p>8GB of physical memory too. Is there any benefit to increasing java to 16GB?</p>



<a name="250712032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712032">(Aug 26 2021 at 02:51)</a>:</h4>
<p>I don't know</p>



<a name="250712041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712041">(Aug 26 2021 at 02:51)</a>:</h4>
<p>is it using all that you gave it?</p>



<a name="250712093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712093">(Aug 26 2021 at 02:52)</a>:</h4>
<p>what does this say at the end?</p>



<a name="250712094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712094">(Aug 26 2021 at 02:52)</a>:</h4>
<h2>Memory (MB): Use = 10261, Free = 810, Total = 11072, Max =16344</h2>
<p>Reclaiming memory...</p>
<h2>Memory (MB): Use = 2936, Free = 6959, Total = 9896, Max =16344</h2>



<a name="250712112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712112">(Aug 26 2021 at 02:52)</a>:</h4>
<p>I'll let you know in a couple of hours.</p>



<a name="250712208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712208">(Aug 26 2021 at 02:54)</a>:</h4>
<p>I've found some cases that definitely can benefit from going to 16GB (or possibly even more, if available - like with UTG).</p>



<a name="250712228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712228">(Aug 26 2021 at 02:54)</a>:</h4>
<p>UTG definitely needs all the 16GB. Hammers memory</p>



<a name="250712308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712308">(Aug 26 2021 at 02:56)</a>:</h4>
<p>You have two pretty big value sets</p>



<a name="250712358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712358">(Aug 26 2021 at 02:57)</a>:</h4>
<p>I can build UTG fine with 16GB on my M1 Mac Air, but it wasn't working too well with that on my Intel Mac Pro.</p>



<a name="250712640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250712640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250712640">(Aug 26 2021 at 03:01)</a>:</h4>
<p>Yeah -- pCLOCD and the Canadian Clinical Drug Data Set.</p>



<a name="250713835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250713835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250713835">(Aug 26 2021 at 03:20)</a>:</h4>
<p>which is the value set that renders wrongly?</p>



<a name="250713885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250713885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250713885">(Aug 26 2021 at 03:21)</a>:</h4>
<p>AcknowledgementCondition</p>



<a name="250713959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250713959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250713959">(Aug 26 2021 at 03:23)</a>:</h4>
<p>and what's wrong with it's rendering?</p>



<a name="250714140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250714140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250714140">(Aug 26 2021 at 03:25)</a>:</h4>
<p>I think there's some weird things about the value set itself, but the rendering is mostly what I expect</p>



<a name="250714520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250714520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250714520">(Aug 26 2021 at 03:31)</a>:</h4>
<p><a href="/user_uploads/10155/G2Pz2vPuJ6Juh4TijiBOKwXG/image.png">image.png</a> <br>
Should the version be the ValueSet.version value?<br>
Where is the CLD coming from, since there is no compose element, and why does it decide that it is all values from the CodeSystem, when it isn't?</p>
<div class="message_inline_image"><a href="/user_uploads/10155/G2Pz2vPuJ6Juh4TijiBOKwXG/image.png" title="image.png"><img src="/user_uploads/10155/G2Pz2vPuJ6Juh4TijiBOKwXG/image.png"></a></div>



<a name="250714701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250714701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250714701">(Aug 26 2021 at 03:32)</a>:</h4>
<p>the value set version is 0.1.0 so that's what renders</p>



<a name="250714799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250714799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250714799">(Aug 26 2021 at 03:33)</a>:</h4>
<p>it doesn't say it's all values from the code system. It just says that all the codes are from the code system</p>



<a name="250715065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715065">(Aug 26 2021 at 03:36)</a>:</h4>
<p>I see version 20160311 in the xml.</p>



<a name="250715099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715099">(Aug 26 2021 at 03:37)</a>:</h4>
<p><a href="/user_uploads/10155/fHJjAPq8Y55xLHFyOS5Qe2zR/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/fHJjAPq8Y55xLHFyOS5Qe2zR/image.png" title="image.png"><img src="/user_uploads/10155/fHJjAPq8Y55xLHFyOS5Qe2zR/image.png"></a></div>



<a name="250715500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715500">(Aug 26 2021 at 03:42)</a>:</h4>
<p>Interesting, the source xml for the valueset has a different version.</p>



<a name="250715670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715670">(Aug 26 2021 at 03:43)</a>:</h4>
<p>you've probably  set the business version to overwrite that</p>



<a name="250715821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715821">(Aug 26 2021 at 03:45)</a>:</h4>
<p>I feel the language implies "all of the values that are in the code system X, and here they are" rather than  "all of the following values are  from X code system".</p>



<a name="250715847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715847">(Aug 26 2021 at 03:46)</a>:</h4>
<p>you're right about the CLD though. That's a process sequence issue for me.</p>



<a name="250715908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715908">(Aug 26 2021 at 03:46)</a>:</h4>
<p>well, I adjusted the language</p>



<a name="250715909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715909">(Aug 26 2021 at 03:46)</a>:</h4>
<p><a href="/user_uploads/10155/M4yqxCpXvAz0IQt4Isfn0-qk/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/M4yqxCpXvAz0IQt4Isfn0-qk/image.png" title="image.png"><img src="/user_uploads/10155/M4yqxCpXvAz0IQt4Isfn0-qk/image.png"></a></div>



<a name="250715954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250715954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250715954">(Aug 26 2021 at 03:47)</a>:</h4>
<p>Thanks, that's clearer to me.</p>



<a name="250716129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250716129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250716129">(Aug 26 2021 at 03:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> do you want to fix these two issues, or invoke the review process for them</p>



<a name="250717315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250717315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250717315">(Aug 26 2021 at 04:02)</a>:</h4>
<p>Technically, the wording change wouldn't qualify as a technical correction.  It's clarifying and there could be debate as to what the wording ought to be, but obviously something like this should require a pretty light review process.  I'll point to it from the other thread as an example of what the process should have a way to address expeditiously.</p>



<a name="250717350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250717350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250717350">(Aug 26 2021 at 04:03)</a>:</h4>
<p>What's the second issue?</p>



<a name="250717771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250717771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250717771">(Aug 26 2021 at 04:09)</a>:</h4>
<p>I assume it's the erroneous generation of the CLD.</p>



<a name="250717780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250717780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250717780">(Aug 26 2021 at 04:09)</a>:</h4>
<p>At present, when rendering the CLD for a valueset, the rendering works like this:</p>
<ul>
<li>if there's a narrative, use that </li>
<li>if there's a compose, use that</li>
<li>if there's an expansion, use that</li>
</ul>
<p>That's not what we want to the ValueSet CLD rendering, particularly because there always is a narrative, since it's been generated already, and it might just be the expansion. I've changed it so that it works like this:</p>
<ul>
<li>If there's a narrative that was provided (not generated) use that</li>
<li>if there's a compose, generate from that</li>
<li>other wise, use the text "This ValueSet has no definition"</li>
</ul>



<a name="250718248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250718248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250718248">(Aug 26 2021 at 04:14)</a>:</h4>
<p>What about the issue of publisher tripping over a project with no fsh files, and only a sushi-config?</p>



<a name="250718322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250718322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250718322">(Aug 26 2021 at 04:15)</a>:</h4>
<p>well, that's by design.</p>



<a name="250718364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250718364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250718364">(Aug 26 2021 at 04:16)</a>:</h4>
<p>the design is, look for /fsh and if the IG publisher sees it, run Sushi</p>



<a name="250723265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250723265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250723265">(Aug 26 2021 at 05:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Multipart.20IGs/near/250715670">said</a>:</p>
<blockquote>
<p>you've probably  set the business version to overwrite that</p>
</blockquote>
<p>Can you remind me where that flag is?</p>



<a name="250724778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250724778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250724778">(Aug 26 2021 at 05:34)</a>:</h4>
<p>Nvm, found it -- apply-version. I didn't take any actions to set it, so unless it's defaulting to true, I don't think that's it.</p>



<a name="250724807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250724807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250724807">(Aug 26 2021 at 05:35)</a>:</h4>
<p>something is overwriting it. I don't know what else would be</p>



<a name="250725578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250725578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250725578">(Aug 26 2021 at 05:45)</a>:</h4>
<p>Hmm, somewhere between the fsh-generated/resources version of the IG resource, and the temp/pages version of the IG resource, all of the apply-* parameters get added.</p>



<a name="250730360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250730360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250730360">(Aug 26 2021 at 06:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Multipart.20IGs/near/250712093">said</a>:</p>
<blockquote>
<p>what does this say at the end?</p>
</blockquote>
<p>Running  the "term" IG with 16GB of java heap:</p>
<blockquote>
<p>Sending Usage Stats to Server                                                    (03:03:36.0228)</p>
<h2>Memory (MB): Use = 5005, Free = 11206, Total = 16212, Max =16384</h2>
<p>Reclaiming memory...</p>
<h2>Memory (MB): Use = 2938, Free = 6917, Total = 9856, Max =16384</h2>
<p>...<br>
Finished. Times: loading: 00:21.0841, generate: 03:47:56.0479, narrative generation: 01:35.0256, realm-rules: 00:00.0001, previous-version: 00:00.0000, jekyll: 00:39.0131, validation: 02:33:08.0319 (#29), template: 00:16.0027 (#3) (03:48:39.0543)<br>
context [anonymous] 4:2 attribute signposts isn't defined<br>
context [anonymous] 4:2 attribute signposts isn't defined<br>
Validation output in /Users/elliot/src/infoway-tx/term/output/qa.html<br>
Errors: 180, Warnings: 0, Info: 0, Broken Links = 143 (03:48:57.0454)</p>
</blockquote>



<a name="250730454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250730454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250730454">(Aug 26 2021 at 06:47)</a>:</h4>
<p>it's hard to read those numbers, but it does feel memory constrained</p>



<a name="250730671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250730671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250730671">(Aug 26 2021 at 06:51)</a>:</h4>
<p>I don't know how you get to that conclusion, but I'll believe you.</p>



<a name="250730814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250730814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250730814">(Aug 26 2021 at 06:53)</a>:</h4>
<p>I'll continue investigating tomorrow, starting with the apply-* parameters issue. I suspect it is a sushi thing.</p>



<a name="250731779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250731779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250731779">(Aug 26 2021 at 07:02)</a>:</h4>
<p>template thing?</p>



<a name="250731791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250731791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250731791">(Aug 26 2021 at 07:02)</a>:</h4>
<p>anyway, try running on a machine with more ram.</p>



<a name="250732112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250732112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250732112">(Aug 26 2021 at 07:07)</a>:</h4>
<p>It's using an unadulterated fhir.base.template#current template.</p>



<a name="250782179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/250782179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#250782179">(Aug 26 2021 at 14:37)</a>:</h4>
<p>Following up...<br>
Building the same IG, but with only 6GB of java heap:</p>
<blockquote>
<p>Sending Usage Stats to Server                                                    (48:34.0574)</p>
<h2>Memory (MB): Use = 3694, Free = 2449, Total = 6144, Max =6144</h2>
<p>Reclaiming memory...</p>
<h2>Memory (MB): Use = 2927, Free = 3216, Total = 6144, Max =6144</h2>
<p>...<br>
Finished. Times: loading: 00:20.0953, generate: 01:18:54.0111, narrative generation: 00:27.0894, realm-rules: 00:00.0000, previous-version: 00:00.0000, jekyll: 00:41.0863, validation: 35:38.0986 (#29), template: 00:05.0609 (#3) (01:20:05.0177)<br>
context [anonymous] 4:2 attribute signposts isn't defined<br>
context [anonymous] 4:2 attribute signposts isn't defined<br>
Validation output in /Users/elliot/src/infoway-tx/term/output/qa.html<br>
Errors: 180, Warnings: 0, Info: 0, Broken Links = 143 (01:20:09.0915)</p>
</blockquote>
<p>Interestingly, that's about 3x better performance with less memory.</p>



<a name="254660875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/254660875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#254660875">(Sep 24 2021 at 07:07)</a>:</h4>
<p>Returning to a part of this discussion that we kinda skipped over...</p>
<p><span class="user-mention silent" data-user-id="191380">Elliot Silver</span> <a href="#narrow/stream/179252-IG-creation/topic/Multipart.20IGs/near/250723265">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Multipart.20IGs/near/250715670">said</a>:</p>
<blockquote>
<p>you've probably  set the business version to overwrite that</p>
</blockquote>
<p>Can you remind me where that flag is?</p>
</blockquote>
<p>I'm working on a different IG now, and seeing the same behaviour of applying IG settings to the resources -- publisher, version, etc. According to the <a href="https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation">documentation</a> the default values of IG publisher parameters apply-publisher, apply-version, etc. is false. My IG does not include those as parameters. However it seems that ig-template-base inserts those parameters into the IG during the onLoad processing if not present.</p>
<p>Playing around a bit, if publisher is not set in a profile, but is set in the IG resource, I see the following behaviours:</p>
<ul>
<li>apply-publisher not present in IG:  IG publisher info present in profile</li>
<li>apply-publisher set to false in IG:  no publisher info present in profile</li>
<li>apply-publisher set to true in IG: IG publisher info present in profile.</li>
</ul>
<p>Similarly, if I set a version in a profile, and a version in the IG, I get:</p>
<ul>
<li>apply-version not present in IG:  IG version present in profile</li>
<li>apply-version set to false in IG:  profile version present in profile</li>
<li>apply-version set to true in IG: IG version present in profile.</li>
</ul>
<p>I guess the part here that's non-intuitive is the template setting apply-* to true if it isn't present. (It might also be nice to have a third option: true, false, apply-if-absent-from-resource.)</p>



<a name="254663337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/254663337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#254663337">(Sep 24 2021 at 07:33)</a>:</h4>
<p>well, do you want to document that somewhere?</p>



<a name="254663545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/254663545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#254663545">(Sep 24 2021 at 07:35)</a>:</h4>
<p>Is that the expected behaviour? It seems odd that the IG publisher defaults to off, but the standard template defaults to switching it on.</p>



<a name="254717877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/254717877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#254717877">(Sep 24 2021 at 14:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , what's the expected behaviour here? This dates back to the earliest checkin of the ig-template-base.</p>



<a name="254759529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/254759529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#254759529">(Sep 24 2021 at 19:30)</a>:</h4>
<p>The template does indeed set the apply-* to true if it's not present.  So IGs that <em>don't</em> want something applied need to specifically declare it.  This choice is because a) most IGs didn't have the apply parameters set; and b) most IGs absolutely wanted (and needed) the apply cascading to happen.  This should get documented at some point in the ig-guidance IG.</p>



<a name="254769524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Multipart%20IGs/near/254769524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Multipart.20IGs.html#254769524">(Sep 24 2021 at 20:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/Multipart.20IGs/near/254663337">said</a>:</p>
<blockquote>
<p>well, do you want to document that somewhere?</p>
</blockquote>
<p>Added to <a href="https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters">https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters</a>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
