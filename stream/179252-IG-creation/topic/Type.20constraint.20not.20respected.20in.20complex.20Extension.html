---
layout: page
title: "FHIR Chat  · Type constraint not respected in complex Extension · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html">Type constraint not respected in complex Extension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271992514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Type%20constraint%20not%20respected%20in%20complex%20Extension/near/271992514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Kelly <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html#271992514">(Feb 15 2022 at 15:45)</a>:</h4>
<p>When constraining a value type in a complex Extension, it seems that the Publisher does not correctly output the constraints on type and instead outputs a list of all possible types.</p>
<p>Here's an example of what I mean in an IG.</p>
<p>This Extension displays the following types: <br>
<a href="http://hl7.org/fhir/us/insurance-card/2022Jan/StructureDefinition-C4DIC-Coverage-definitions.html#Coverage.extension:C4DIC-PlanBeneficiaries-extension">http://hl7.org/fhir/us/insurance-card/2022Jan/StructureDefinition-C4DIC-Coverage-definitions.html#Coverage.extension:C4DIC-PlanBeneficiaries-extension</a></p>
<p><a href="/user_uploads/10155/Ap1f13DiHMw35YxiHDCH3nuj/Screen-Shot-2022-02-15-at-10.43.04-AM.png">Screen-Shot-2022-02-15-at-10.43.04-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/Ap1f13DiHMw35YxiHDCH3nuj/Screen-Shot-2022-02-15-at-10.43.04-AM.png" title="Screen-Shot-2022-02-15-at-10.43.04-AM.png"><img src="/user_uploads/10155/Ap1f13DiHMw35YxiHDCH3nuj/Screen-Shot-2022-02-15-at-10.43.04-AM.png"></a></div><p>The FSH backing this extension looks like the following:</p>
<div class="codehilite"><pre><span></span><code>Extension: PlanBeneficiaries
Id: C4DIC-PlanBeneficiaries-extension
Title: &quot;Plan Beneficiaries&quot;
Description: &quot;This extension allows for the representation of all of the members on the plan with corresponding Names and MemberIDs. This enables health plans to pass this information along with the Coverage resources to align with how this content is printed on physical insurance cards.&quot;
* ^context[0].type = #element
* ^context[0].expression = &quot;Coverage&quot;
* extension contains
    memberId 1..1 MS and
    name 1..1 MS
* extension[memberId] ^short = &quot;Member Id&quot;
* extension[memberId].value[x] 1..1
* extension[memberId].value[x] only string
* extension[name] ^short = &quot;Member Name&quot;
* extension[name].value[x] 1..1
* extension[name].value[x] only HumanName
* extension[name].valueHumanName.family 1..1 MS
* extension[name].valueHumanName.given 0..* MS
</code></pre></div>
<p>Is there a correct way to achieve the result of correctly showing the actual value type constraints for a complex Extension or is this a bug?</p>



<a name="273614067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Type%20constraint%20not%20respected%20in%20complex%20Extension/near/273614067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html#273614067">(Mar 01 2022 at 09:51)</a>:</h4>
<p>no that rendering is definitely wrong.</p>



<a name="273617165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Type%20constraint%20not%20respected%20in%20complex%20Extension/near/273617165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html#273617165">(Mar 01 2022 at 10:16)</a>:</h4>
<p>fixed next release</p>



<a name="273617193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Type%20constraint%20not%20respected%20in%20complex%20Extension/near/273617193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html#273617193">(Mar 01 2022 at 10:16)</a>:</h4>
<p><a href="/user_uploads/10155/tVSDSGyQPWvruNhyaCJMlzLg/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/tVSDSGyQPWvruNhyaCJMlzLg/image.png" title="image.png"><img src="/user_uploads/10155/tVSDSGyQPWvruNhyaCJMlzLg/image.png"></a></div>



<a name="276886604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Type%20constraint%20not%20respected%20in%20complex%20Extension/near/276886604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joshua Kelly <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html#276886604">(Mar 28 2022 at 15:02)</a>:</h4>
<p>Thanks!</p>
<p>Confirmed that this is resolved and our builds work as expected now.</p>
<p><a href="/user_uploads/10155/ah8mr_Cb3bHnY_4Pl0U85-ht/Screen-Shot-2022-03-28-at-9.59.09-AM.png">Screen-Shot-2022-03-28-at-9.59.09-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/ah8mr_Cb3bHnY_4Pl0U85-ht/Screen-Shot-2022-03-28-at-9.59.09-AM.png" title="Screen-Shot-2022-03-28-at-9.59.09-AM.png"><img src="/user_uploads/10155/ah8mr_Cb3bHnY_4Pl0U85-ht/Screen-Shot-2022-03-28-at-9.59.09-AM.png"></a></div>



<a name="276888651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Type%20constraint%20not%20respected%20in%20complex%20Extension/near/276888651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cille Kissel Watkins <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html#276888651">(Mar 28 2022 at 15:16)</a>:</h4>
<p>Thank you both! Is there a timeline for when this might be fixed in the auto-ig-publisher?</p>



<a name="276893873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Type%20constraint%20not%20respected%20in%20complex%20Extension/near/276893873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html#276893873">(Mar 28 2022 at 15:55)</a>:</h4>
<p><span class="user-mention" data-user-id="260046">@Cille Kissel Watkins</span> I don't know a timeline but (in case you don't know) you can check here: <br>
<a href="#narrow/stream/217600-tooling.2Freleases/topic/java.20IGPublisher">https://chat.fhir.org/#narrow/stream/217600-tooling.2Freleases/topic/java.20IGPublisher</a><br>
When there is a new notification, you should have the problem fixed</p>



<a name="276935365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Type%20constraint%20not%20respected%20in%20complex%20Extension/near/276935365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Type.20constraint.20not.20respected.20in.20complex.20Extension.html#276935365">(Mar 28 2022 at 21:44)</a>:</h4>
<blockquote>
<p>Is there a timeline for when this might be fixed in the auto-ig-publisher?</p>
</blockquote>
<p>That always runs the current version, so it should be fixed, but someone needs to re-trigger a build</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
