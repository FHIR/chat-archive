---
layout: page
title: "FHIR Chat  · US Core R4 as dependency · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html">US Core R4 as dependency</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="165574404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165574404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165574404">(May 13 2019 at 22:20)</a>:</h4>
<p>What's the proper way to list US Core R4 as a dependency in <code>ig.json</code>? I've found multiple answers on Zulip and it looks like the approach has changed over time -- but it's not clear where it landed.  I've tried every variation I found here but can't figure it out.  Do I have to also build US Core R4 locally for it to work?  Or should it work without having to actually build US Core R4 on my machine?</p>



<a name="165578672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165578672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165578672">(May 13 2019 at 23:30)</a>:</h4>
<p>Here is what I use for the latest current R4, and it works</p>
<p>"dependencyList": [<br>
    {<br>
      "package": "hl7.fhir.us.core",<br>
      "version": "current",<br>
      "name": "uscore",<br>
      "location": "<a href="http://hl7.org/fhir/us/core" target="_blank" title="http://hl7.org/fhir/us/core">http://hl7.org/fhir/us/core</a>"<br>
    }</p>



<a name="165582682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165582682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165582682">(May 14 2019 at 00:42)</a>:</h4>
<p>I get <br>
"Load core (<a href="http://hl7.org/fhir/us/core" target="_blank" title="http://hl7.org/fhir/us/core">http://hl7.org/fhir/us/core</a>) from hl7.fhir.us.core#current            (35.0568sec)<br>
  [java] Version mismatch. This IG is version 4.0.0, while the IG 'core' is from version 3.0.1 (will try to run anyway) (35.0570sec)"</p>



<a name="165582912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165582912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165582912">(May 14 2019 at 00:47)</a>:</h4>
<p>us.core is the STU3 version.  You need to point to us.core.r4 for the R4 stuff</p>



<a name="165583509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165583509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165583509">(May 14 2019 at 01:01)</a>:</h4>
<p>Like this?<br>
  &lt;dependsOn&gt;<br>
    &lt;uri value="http://hl7.org/fhir/us/core"/&gt;<br>
    &lt;packageId value="hl7.fhir.us.core.r4" /&gt;<br>
    &lt;version value="current" /&gt;<br>
  &lt;/dependsOn&gt;<br>
No change?</p>



<a name="165583759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165583759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165583759">(May 14 2019 at 01:06)</a>:</h4>
<p>y</p>



<a name="165583948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165583948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165583948">(May 14 2019 at 01:10)</a>:</h4>
<p>THen there must be something wrong because the generated ig-new shows:<br>
  &lt;dependsOn id="core"&gt;<br>
    &lt;uri value="http://hl7.org/fhir/us/core"/&gt;<br>
    &lt;packageId value="hl7.fhir.us.core"/&gt;<br>
    &lt;version value="current"/&gt;<br>
  &lt;/dependsOn&gt;</p>



<a name="165584056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165584056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165584056">(May 14 2019 at 01:13)</a>:</h4>
<p>sigh.  y.  Need a change to the template - which I've made in one of my IGs.  Just need to dig and figure out which...</p>



<a name="165584113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165584113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165584113">(May 14 2019 at 01:14)</a>:</h4>
<p>Wonderful, I've been driving myself mad with this since Thursday.</p>



<a name="165586498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165586498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165586498">(May 14 2019 at 02:13)</a>:</h4>
<p>File provided via email.  (Can't check it in yet because I'm hitting other build issues.)</p>



<a name="165591127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165591127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165591127">(May 14 2019 at 04:03)</a>:</h4>
<p>what's this about?</p>



<a name="165591489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165591489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165591489">(May 14 2019 at 04:11)</a>:</h4>
<p>My template was inferring the NPM url with an algorithm that worked most of the time, but not in this case.  (Because at the time I wrote it, there was no way to pass in the package id.)  Needed to fix the transform.</p>



<a name="165660820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/165660820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#165660820">(May 14 2019 at 20:49)</a>:</h4>
<p>Bingo!  This did the trick:</p>
<div class="codehilite"><pre><span></span>&quot;dependencyList&quot;: [
    {
      &quot;package&quot;: &quot;hl7.fhir.us.core.r4&quot;,
      &quot;version&quot;: &quot;current&quot;,
      &quot;name&quot;: &quot;uscore&quot;,
      &quot;location&quot;: &quot;http://hl7.org/fhir/us/core&quot;
    }
  ],
</pre></div>


<p>Thanks!</p>



<a name="166869818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/166869818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#166869818">(May 30 2019 at 00:36)</a>:</h4>
<p>I still can't get this to work. No matter what when I generate an IG the links keep pointing back to the STU3 version of US Core. </p>
<p>Can someone please post the exact values that go in the ImplementationGuide resource and in ig.json that actually work for US Core R4?</p>



<a name="166870257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/166870257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#166870257">(May 30 2019 at 00:46)</a>:</h4>
<p>In my ig resource I have:<br>
  &lt;dependsOn&gt;<br>
    &lt;uri value="http://hl7.org/fhir/us/core/"/&gt;<br>
    &lt;packageId value="hl7.fhir.us.core.r4"/&gt;<br>
    &lt;version value="current"/&gt;<br>
  &lt;/dependsOn&gt;</p>



<a name="166870269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/166870269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#166870269">(May 30 2019 at 00:46)</a>:</h4>
<p>In my ig.json I have<br>
  "dependencyList": [<br>
    {<br>
      "name" : "ig",<br>
      "version" : "current",<br>
      "package" : "hl7.fhir.us.core.r4"}<br>
  ],</p>



<a name="168947864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/US%20Core%20R4%20as%20dependency/near/168947864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> natus <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/US.20Core.20R4.20as.20dependency.html#168947864">(Jun 25 2019 at 15:17)</a>:</h4>
<p>hi<br>
to build a r4 based IG , i used the existing template and had to modified the source code of the ig. details there: <a href="https://github.com/HL7/cdmh/issues/1" target="_blank" title="https://github.com/HL7/cdmh/issues/1">https://github.com/HL7/cdmh/issues/1</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
