---
layout: page
title: "FHIR Chat  · Failure to process fhir-mCODE-ig · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Failure.20to.20process.20fhir-mCODE-ig.html">Failure to process fhir-mCODE-ig</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200285600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Failure%20to%20process%20fhir-mCODE-ig/near/200285600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Failure.20to.20process.20fhir-mCODE-ig.html#200285600">(Jun 09 2020 at 20:28)</a>:</h4>
<p>Trying to build  using the latest v0.12.7 and the latest IG Publisher.... the sushi build is successful, IG Publisher crashes with the message:</p>
<p>FHIR IG Publisher Version 1.0.100-SNAPSHOT (Git# 6c6b419dd19f). Built 2020-06-07T09:06:40.927+10:00 (64 hours old)<br>
Detected Java version: 1.8.0_242 from /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre on x86_64 (64bit). 3641MB available<br>
Parameters: -ig ig.ini<br>
dir = /Users/skravitz/git/fhir-mCODE-ig/fsh/build, path = /Users/skravitz/.rvm/gems/ruby-2.6.3/bin:/Users/skravitz/.rvm/gems/ruby-2.6.3@global/bin:/Users/skravitz/.rvm/rubies/ruby-2.6.3/bin:/Users/skravitz/opt/anaconda3/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki:/Users/skravitz/.rvm/bin<br>
Run time = Tuesday, June 9, 2020 12:01:26 PM EDT (2020-06-09T12:01:26-04:00)<br>
Package Cache: /Users/skravitz/.fhir/packages                                    (00:00.0173)<br>
Load Template from hl7.fhir.template#0.1.0                                       (00:02.0418)<br>
 Load Template from hl7.base.template#0.1.0                                      (00:02.0619)<br>
  Load Template from fhir.base.template#0.1.0                                    (00:02.0649)</p>
<p>onLoad.findSpreadsheets:</p>
<p>onLoad.updateIg:<br>
     [xslt] Processing /Users/skravitz/git/fhir-mCODE-ig/fsh/build/template/onLoad-ig-working.xml to /Users/skravitz/git/fhir-mCODE-ig/fsh/build/template/onLoad-ig-updated.xml<br>
     [xslt] Loading stylesheet /Users/skravitz/git/fhir-mCODE-ig/fsh/build/template/scripts/onLoad.xslt</p>
<p>onLoad.extend:</p>
<p>onLoad:<br>
Root directory: /Users/skravitz/git/fhir-mCODE-ig/fsh/build                      (00:09.0222)<br>
Core Package hl7.fhir.r4.core#4.0.1<br>
Terminology Cache is at /Users/skravitz/git/fhir-mCODE-ig/fsh/build/input-cache/txcache. 5 files in cache (00:29.0919)<br>
Connect to Terminology Server at <a href="http://tx.fhir.org">http://tx.fhir.org</a>                              (00:32.0962)<br>
Load Package hl7.fhir.pubpack#0.0.5<br>
Load Package hl7.fhir.xver-extensions#0.0.4<br>
Initialization complete                                                          (00:37.0428)<br>
Load Content                                                                     (00:37.0430)<br>
Processing Conformance Resources                                                 (00:38.0863)<br>
Terminology server: Check for supported code systems for <a href="http://snomed.info/sct">http://snomed.info/sct</a>  (00:43.0466)<br>
Exception in thread "main" java.lang.Error: Access single value, but value count is 2<br>
        at org.hl7.fhir.r5.renderers.utils.ElementWrappers$PropertyWrapperMetaElement.value(ElementWrappers.java:299)<br>
        at org.hl7.fhir.r5.renderers.DiagnosticReportRenderer.render(DiagnosticReportRenderer.java:51)<br>
        at org.hl7.fhir.r5.renderers.ResourceRenderer.render(ResourceRenderer.java:76)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:1034)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3610)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:836)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:698)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7533)</p>
<p><span class="user-mention" data-user-id="239822">@Nick Freiter</span>  has divined that the problem is example mCODECancerGenomicsReportExample01 which looks valid to us, specifically the category element.  IG Publisher doesn't like its (required) two elements.  Deleting one or the other allows the build to succeed.</p>



<a name="200406447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Failure%20to%20process%20fhir-mCODE-ig/near/200406447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Failure.20to.20process.20fhir-mCODE-ig.html#200406447">(Jun 10 2020 at 12:00)</a>:</h4>
<p>CancerGenomicsProfile: <a href="http://hl7.org/fhir/us/mcode/StructureDefinition-mcode-cancer-genomics-report.html">http://hl7.org/fhir/us/mcode/StructureDefinition-mcode-cancer-genomics-report.html</a><br>
Example of this profile causing an issue: <a href="http://hl7.org/fhir/us/mcode/DiagnosticReport-mCODECancerGenomicsReportExample01.html">http://hl7.org/fhir/us/mcode/DiagnosticReport-mCODECancerGenomicsReportExample01.html</a></p>
<p>As mentioned, when either element in the <code>category</code> array on the example is deleted, the build succeeds. You should be able to reproduce this using the latest version of the IG Publisher and the <a href="https://github.com/HL7/fhir-mCODE-ig">fhir-mCODE-ig</a></p>



<a name="200406729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Failure%20to%20process%20fhir-mCODE-ig/near/200406729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Failure.20to.20process.20fhir-mCODE-ig.html#200406729">(Jun 10 2020 at 12:03)</a>:</h4>
<p>I can no problem, thanks.</p>



<a name="200406734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Failure%20to%20process%20fhir-mCODE-ig/near/200406734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Failure.20to.20process.20fhir-mCODE-ig.html#200406734">(Jun 10 2020 at 12:03)</a>:</h4>
<p>will be fixed next release</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
