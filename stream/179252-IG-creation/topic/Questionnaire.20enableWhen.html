---
layout: page
title: "FHIR Chat  · Questionnaire enableWhen · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html">Questionnaire enableWhen</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160848202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/160848202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#160848202">(Mar 15 2019 at 05:18)</a>:</h4>
<p>So I have the following in a Questionnaire:</p>
<div class="codehilite"><pre><span></span>&lt;item&gt;
      &lt;linkId value=&quot;disposition-date&quot; /&gt;
      &lt;text value=&quot;Disposition date if discharged, transferred, or expired&quot; /&gt;
      &lt;type value=&quot;date&quot; /&gt;
      &lt;enableWhen&gt;
        &lt;question value=&quot;infant-disposition&quot; /&gt;
        &lt;answerCoding&gt;
          &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;
          &lt;code value=&quot;183665006&quot; /&gt;
        &lt;/answerCoding&gt;
      &lt;/enableWhen&gt;
      &lt;enableWhen&gt;
        &lt;question value=&quot;infant-disposition&quot; /&gt;
        &lt;answerCoding&gt;
          &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;
          &lt;code value=&quot;266751003&quot; /&gt;
        &lt;/answerCoding&gt;
      &lt;/enableWhen&gt;
      &lt;enableWhen&gt;
        &lt;question value=&quot;infant-disposition&quot; /&gt;
        &lt;answerCoding&gt;
          &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;
          &lt;code value=&quot;371828006&quot; /&gt;
        &lt;/answerCoding&gt;
      &lt;/enableWhen&gt;
      &lt;required value=&quot;false&quot; /&gt;
      &lt;repeats value=&quot;false&quot; /&gt;
    &lt;/item&gt;
</pre></div>


<p>Then I have the following in the QuestionnaireResponse:</p>
<div class="codehilite"><pre><span></span>&lt;item&gt;
            &lt;linkId value=&quot;infant-disposition&quot;/&gt;
            &lt;text value=&quot;Disposition of infant&quot;/&gt;
            &lt;answer&gt;
                &lt;valueCoding&gt;
                    &lt;system value=&quot;http://snomed.info/sct&quot;/&gt;
                    &lt;code value=&quot;266751003&quot;/&gt;
                    &lt;display value=&quot;Transferred from department (finding)&quot;/&gt;
                &lt;/valueCoding&gt;
            &lt;/answer&gt;
        &lt;/item&gt;
        &lt;item&gt;
            &lt;linkId value=&quot;disposition-date&quot;/&gt;
            &lt;text value=&quot;Disposition date if discharged, transferred, or expired&quot;/&gt;
            &lt;answer&gt;
                &lt;valueDate value=&quot;2019-01-02&quot;/&gt;
            &lt;/answer&gt;
        &lt;/item&gt;
</pre></div>


<p>The value in infant-disposition is one of the enableWhen answers, but I get this error from the IG Publisher:<br>
<code>QuestionnaireResponse/hai-questionnaireResponse-los-denom: QuestionnaireResponse.item  error   Item has answer, even though it is not enabled disposition-date</code></p>



<a name="160848290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/160848290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#160848290">(Mar 15 2019 at 05:20)</a>:</h4>
<p>can you make an test case - that is, a simple questionnaire/questionnaire response that shows this problem, so I can add it to the test cases for the validator?</p>



<a name="160848367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/160848367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#160848367">(Mar 15 2019 at 05:22)</a>:</h4>
<p>In fact, the only other place I have an enableWhen, it also errors with the IG publisher:</p>
<div class="codehilite"><pre><span></span>&lt;item&gt;
            &lt;linkId value=&quot;los-contributed-to-death&quot;/&gt;
            &lt;text value=&quot;Infection contributed to death&quot;/&gt;
            &lt;type value=&quot;boolean&quot;/&gt;
            &lt;enableWhen&gt;
                &lt;question value=&quot;died&quot;/&gt;
                &lt;answerBoolean value=&quot;true&quot;/&gt;
            &lt;/enableWhen&gt;
            &lt;required value=&quot;true&quot;/&gt;
            &lt;repeats value=&quot;false&quot;/&gt;
        &lt;/item&gt;
</pre></div>


<p>QuestionnaireResponse:</p>
<div class="codehilite"><pre><span></span>&lt;item&gt;
            &lt;linkId value=&quot;died&quot;/&gt;
            &lt;text value=&quot;Died&quot;/&gt;
            &lt;answer&gt;
                &lt;valueBoolean value=&quot;true&quot;/&gt;
            &lt;/answer&gt;
        &lt;/item&gt;
        &lt;item&gt;
            &lt;linkId value=&quot;los-contributed-to-death&quot;/&gt;
            &lt;text value=&quot;Infection contributed to death&quot;/&gt;
            &lt;answer&gt;
                &lt;valueBoolean value=&quot;false&quot;/&gt;
            &lt;/answer&gt;
        &lt;/item&gt;
</pre></div>


<p>Also errors.</p>



<a name="160848384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/160848384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#160848384">(Mar 15 2019 at 05:22)</a>:</h4>
<p>Yes, will create test case...</p>



<a name="160849098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/160849098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#160849098">(Mar 15 2019 at 05:41)</a>:</h4>
<p>BTW - this is R3</p>



<a name="160849357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/160849357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#160849357">(Mar 15 2019 at 05:49)</a>:</h4>
<p>Emailed test instances to you <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="160852381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/160852381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#160852381">(Mar 15 2019 at 07:11)</a>:</h4>
<p>hmm works fine in the validator</p>



<a name="161022629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/161022629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#161022629">(Mar 18 2019 at 00:45)</a>:</h4>
<p>Hmmm, I wonder if the issues I'm having have anything to do with the fact that the SNOMED code isn't being validated...</p>



<a name="161022785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/161022785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#161022785">(Mar 18 2019 at 00:50)</a>:</h4>
<p>I think I'll just comment out those answers from the QuestionnaireResponses for now, just so I have a (almost - still will have the SNOMED code issue) clean build.</p>



<a name="161023220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/161023220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#161023220">(Mar 18 2019 at 01:03)</a>:</h4>
<p>Oh just saw this - I guess there IS an issue? <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20550" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20550">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20550</a></p>



<a name="161026173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Questionnaire%20enableWhen/near/161026173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Questionnaire.20enableWhen.html#161026173">(Mar 18 2019 at 02:30)</a>:</h4>
<p>yes there is an issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
