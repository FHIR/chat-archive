---
layout: page
title: "FHIR Chat  · Snapshot generator · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Snapshot.20generator.html">Snapshot generator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154010823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Snapshot%20generator/near/154010823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Snapshot.20generator.html#154010823">(Oct 22 2018 at 03:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , <span class="user-mention" data-user-id="191368">@Brett Esler</span>  can you please check the snapshot generation for the Australian patient, <br>
<a href="http://hl7.org.au/fhir/base2018Oct/StructureDefinition-au-patient.html" target="_blank" title="http://hl7.org.au/fhir/base2018Oct/StructureDefinition-au-patient.html">http://hl7.org.au/fhir/base2018Oct/StructureDefinition-au-patient.html</a> the birthdate element (which only defines extensions, does it need the type there?) generates no type data in the snapshot.<br>
Differential:</p>
<div class="codehilite"><pre><span></span>&lt;ElementDefinition id=&quot;Patient.birthDate&quot;&gt;
  &lt;path value=&quot;Patient.birthDate&quot; /&gt;
  &lt;short value=&quot;Date of birth extended for time and accuracy indicator&quot; /&gt;
  &lt;requirements value=&quot;Age of the individual drives many clinical processes. May include accuracy indicator and specific birth time.&quot; /&gt;
&lt;/ElementDefinition&gt;
( ... plus some extensions)
</pre></div>


<p>Then the snapshot generated has this</p>
<div class="codehilite"><pre><span></span>&lt;ElementDefinition id=&quot;Patient.birthDate.value&quot;&gt;
  &lt;path value=&quot;Patient.birthDate.value&quot; /&gt;
  &lt;representation value=&quot;xmlAttr&quot; /&gt;
  &lt;short value=&quot;Primitive value for date&quot; /&gt;
  &lt;definition value=&quot;The actual value&quot; /&gt;
  &lt;min value=&quot;0&quot; /&gt;
  &lt;max value=&quot;1&quot; /&gt;
  &lt;base&gt;
    &lt;path value=&quot;date.value&quot; /&gt;
    &lt;min value=&quot;0&quot; /&gt;
    &lt;max value=&quot;1&quot; /&gt;
  &lt;/base&gt;
  &lt;type&gt;
    &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-regex&quot;&gt;
      &lt;valueString value=&quot;-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1]))?)?&quot; /&gt;
    &lt;/extension&gt;
  &lt;/type&gt;
&lt;/ElementDefinition&gt;
</pre></div>



<a name="154010825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Snapshot%20generator/near/154010825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Snapshot.20generator.html#154010825">(Oct 22 2018 at 04:01)</a>:</h4>
<p>The snapshot generated StructureDefinitions that the IG builder is outputting are not validated using the validator.<br>
There are quite a few in the au-base IG that do not pass basic validation, violations of eld-14, 'ElementDefinition.type.code' is 0, which is not within the specified cardinality of 1..1</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
