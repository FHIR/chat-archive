---
layout: page
title: "FHIR Chat  · Adding Search to IGs · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html">Adding Search to IGs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208604975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208604975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208604975">(Aug 31 2020 at 19:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> please add this to the navbar in some appropriate place for HL7 IGs:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">a</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;project-logo&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;searchform.html&quot;</span><span class="p">&gt;&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;./assets/images/search.png&quot;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&quot;Search this IG&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></div>



<a name="208608622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208608622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208608622">(Aug 31 2020 at 20:05)</a>:</h4>
<p>This is for HL7 IGs only, not for the generic base template, correct? <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
<span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span></p>



<a name="208608982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208608982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208608982">(Aug 31 2020 at 20:09)</a>:</h4>
<p>I was experimenting with search. What is this searchform.html?</p>



<a name="208609132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208609132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208609132">(Aug 31 2020 at 20:10)</a>:</h4>
<p>new file that's automatically going to appear everywhere</p>



<a name="208609235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208609235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208609235">(Aug 31 2020 at 20:11)</a>:</h4>
<p>at least on the HL7 website. Other websites can decide whether they want it or not</p>



<a name="208610566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208610566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208610566">(Aug 31 2020 at 20:23)</a>:</h4>
<p>can other templates override the searchform.html (if they want to use another search engine)?</p>



<a name="208610663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208610663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208610663">(Aug 31 2020 at 20:24)</a>:</h4>
<p>If so, we can add this in the base template - everyone gets a search form. If they want to override, they can.</p>



<a name="208610757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208610757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208610757">(Aug 31 2020 at 20:24)</a>:</h4>
<p>So I think this could go into the base template</p>



<a name="208610958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208610958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208610958">(Aug 31 2020 at 20:26)</a>:</h4>
<p>I'm not sure. The website specifies the search infrastructure, and I generate searchform.html in the web site maintenance process. So I don't want to dictate that all guides have this.</p>



<a name="208612740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208612740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208612740">(Aug 31 2020 at 20:44)</a>:</h4>
<p>So, HL7 guides have search built in, others have to add this?</p>



<a name="208614138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208614138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208614138">(Aug 31 2020 at 20:57)</a>:</h4>
<p>yes. I've made it as easy as I can. You put a searchform.template in the root directory, and refer to it in your publish.ini. If you do this, it will automatically be populated into all IGs that are published on the website, but I have no way to automatically inject references to the searchform in already published content - the website has to do that manually</p>



<a name="208643472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/208643472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#208643472">(Sep 01 2020 at 04:19)</a>:</h4>
<p>ok, I've added search to all the IGs on the web site. The UV ones are still uploading, but the US ones are all up. Every version of every IG has a search now. the search works using DuckDuckGo - google both is really manual to set up and also insists on advertising (in theory we can ask them not to but in practice it's not reliable that they'll agree. But DuckDuckGo is just simple and direct. (And it works in all countries)</p>
<p>The challenge for that for me is that I wanted to retrospectively add a search link to every page in the IGs. That's ~150k html files, so it clearly wasn't something I'd do be hand. But all the guides have slightly different HTML structures... so it wasn't a case of simple search and replace. I did what I could and checked quite a lot of pages, and it all looks good to me. </p>
<p>What I'm asking for is for you to check your IGs, particularly the milestone publications, that there is a search link on the page, either top (using the search icon) or bottom (just the word 'search'). Let me know if you find pages with no search link. </p>
<p>Thanks</p>



<a name="211697516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/211697516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#211697516">(Sep 29 2020 at 23:25)</a>:</h4>
<p>I'm getting like 3000 each of these:<br>
The link 'searchform.html' for "null" cannot be resolved<br>
The link 'searchform.html' for "Search | null | Propose a change anchors.options.visible = 'hover' anchors.add()" cannot be resolved</p>
<p>Clearly this is a template problem.  I'm not sure how to fix it.  I downloaded latest publisher. That didn't resolve it.  I looked for searchform.html in all templates, it's simply not there.</p>



<a name="211697558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/211697558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#211697558">(Sep 29 2020 at 23:26)</a>:</h4>
<p>fixed next release. it's a special case</p>



<a name="211765086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/211765086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#211765086">(Sep 30 2020 at 14:08)</a>:</h4>
<p>My issues seems to have been resolved with latest checkin to <a href="https://github.com/HL7/ig-template-base/tree/master">https://github.com/HL7/ig-template-base/tree/master</a><br>
But now I see: </p>
<div class="codehilite"><pre><span></span><code> Internal error in location for message: &#39;Error in ?? at 1, 1: Premature ExpressionNode termination at unexpected token &quot;:&quot;&#39;, loc = &#39;C:\Users\kboone\git\fhir-saner\output\searchform.html&#39;, err = &#39;The html source does not contain the publish box &lt;!--ReleaseHeader--&gt;&lt;p id=&quot;publish-box&quot;&gt;Publish Box&#39;
</code></pre></div>



<a name="211811985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Adding%20Search%20to%20IGs/near/211811985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Adding.20Search.20to.20IGs.html#211811985">(Sep 30 2020 at 19:58)</a>:</h4>
<p>yes this will be fixed next release</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
