---
layout: page
title: "FHIR Chat  · uri rules? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html">uri rules?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="265079320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265079320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265079320">(Dec 15 2021 at 21:43)</a>:</h4>
<p>what are the uri rules that the IG builder is applying? I ask because I have a use-case where an identifier (user identifier) is an X.509, made up of an X.509 path for the system ( "CN=John Miller,OU=Harris,O=HITS,L=Melbourne,ST=FL,C=US" ), and an X.509 for the user ("UID=kskagerb"). I converted the X.509 of the system to an "ldap://" url; which included url encoding,  but the builder complains</p>
<div class="codehilite"><pre><span></span><code>      &quot;who&quot; : {
        &quot;identifier&quot; : {
          &quot;system&quot; : &quot;ldap:///CN%3DSAML%20User%2COU%3DHarris%2CO%3DHITS%2CL%3DMelbourne%2CST%3DFL%2CC%3DUS&quot;,
          &quot;value&quot; : &quot;UID=kskagerb&quot;
        }
      },
</code></pre></div>
<p>validation error is</p>
<div class="codehilite"><pre><span></span><code>Identifier.system must be an absolute reference, not a local reference
</code></pre></div>



<a name="265081438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265081438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265081438">(Dec 15 2021 at 21:56)</a>:</h4>
<p>Needs to start with http: or https: I think</p>



<a name="265082144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265082144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265082144">(Dec 15 2021 at 22:01)</a>:</h4>
<p>that is a URI rule?</p>



<a name="265082211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265082211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265082211">(Dec 15 2021 at 22:01)</a>:</h4>
<p>urn: works</p>



<a name="265082586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265082586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265082586">(Dec 15 2021 at 22:04)</a>:</h4>
<p>It is probably a problem with the validator, I would be surprised if an LDAP URL had been tried before.<br>
The datatype of system is URI, which is any URI, and ldap:// is a valid URI and URL scheme, but has an unusual format after that (hence the three slashes).</p>



<a name="265082838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265082838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265082838">(Dec 15 2021 at 22:07)</a>:</h4>
<p>Nevertheless, I think the actual value of the X.509 path is not appropriate for system.<br>
if it were just "O=HITS,L=Melbourne,ST=FL,C=US" then maybe...</p>



<a name="265084060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265084060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265084060">(Dec 15 2021 at 22:16)</a>:</h4>
<p>I figured I needed to encode the X.509 path, and I found documentation on the internet about use of ldap://; and it indicated that where there is no ldap addressable hostname the convention was to use ldap:///</p>



<a name="265084114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265084114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265084114">(Dec 15 2021 at 22:17)</a>:</h4>
<p>but. I could see how the validator would see that as "local". let me try putting in a hostname to at least track down that issue.</p>



<a name="265088140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265088140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265088140">(Dec 15 2021 at 22:57)</a>:</h4>
<p>so, that did not help. it just does not like ldap:</p>



<a name="265088161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265088161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265088161">(Dec 15 2021 at 22:57)</a>:</h4>
<p>so is this a rule that needs to be added?</p>



<a name="265090013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265090013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265090013">(Dec 15 2021 at 23:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> where would I log this issue?</p>



<a name="265165577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265165577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265165577">(Dec 16 2021 at 14:44)</a>:</h4>
<p><a href="https://github.com/HL7/fhir-ig-publisher/issues/356">https://github.com/HL7/fhir-ig-publisher/issues/356</a></p>



<a name="265295767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265295767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265295767">(Dec 17 2021 at 13:34)</a>:</h4>
<p>now <a href="https://github.com/hapifhir/org.hl7.fhir.core/issues/692">https://github.com/hapifhir/org.hl7.fhir.core/issues/692</a></p>



<a name="265764940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/uri%20rules%3F/near/265764940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/uri.20rules.3F.html#265764940">(Dec 22 2021 at 04:22)</a>:</h4>
<p>this should be sorted next release. you can test the validation part now</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
