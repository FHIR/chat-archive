---
layout: page
title: "FHIR Chat  · discriminators based on profiles is not yet supported · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html">discriminators based on profiles is not yet supported</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153966791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153966791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153966791">(Jun 04 2018 at 21:51)</a>:</h4>
<p>The more complete error message is "Validating against slices with discriminators based on profiles is not yet supported by the FHIRPath engine".  Is there any general suggestion on how to work with this or around it to fix the error?  I'll provide more specifics if that's helpful.</p>



<a name="153966795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153966795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153966795">(Jun 04 2018 at 21:54)</a>:</h4>
<p>hmm. I'll have to fix that. I'm not sure when though  in the next few weeks. That sounds like a flight to Boston thing....</p>



<a name="153966798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153966798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153966798">(Jun 04 2018 at 22:16)</a>:</h4>
<p>ok - any suggestions for what would be good for us to do in the meantime?</p>



<a name="153966812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153966812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153966812">(Jun 04 2018 at 23:32)</a>:</h4>
<p>I'm not sure</p>



<a name="153978221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153978221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153978221">(Jul 26 2018 at 06:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191405">@Rob Hausam</span> <br>
Any progress?<br>
Is  <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17553" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17553">#17553</a> relevant?</p>



<a name="153978340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153978340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153978340">(Jul 26 2018 at 13:10)</a>:</h4>
<p>have the same question - anything further on it <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>?</p>



<a name="153978341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153978341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153978341">(Jul 26 2018 at 13:16)</a>:</h4>
<p>nothing happening on ig publisher until the main build is under control</p>



<a name="153983577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983577">(Aug 08 2018 at 09:32)</a>:</h4>
<p>So I presume that this error (Validating against slices with discriminators based on profiles is not yet supported by the FHIRPath engine: reference) will get ignored if it is showing up in our IG ballot builds?</p>



<a name="153983608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983608">(Aug 08 2018 at 11:09)</a>:</h4>
<p>don't know</p>



<a name="153983623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983623">(Aug 08 2018 at 13:05)</a>:</h4>
<p>I've been getting that one, too, and if possible it would be great to get it fixed</p>



<a name="153983630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983630">(Aug 08 2018 at 13:13)</a>:</h4>
<p>ok well, I'll get onto it. I started today with a small task to find out why I had some bad expansions. 16 hours later.... I am committing now</p>



<a name="153983956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983956">(Aug 09 2018 at 01:57)</a>:</h4>
<p>so i'm debugging my implementation of profile based slicing... but I'm not understanding the profiles using it....</p>



<a name="153983957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983957">(Aug 09 2018 at 01:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> what profile are you suing it in?</p>



<a name="153983959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983959">(Aug 09 2018 at 02:00)</a>:</h4>
<p>I think we've used it in the past (but maybe not anymore) to slice on <code>Observation.related</code> and indicate that certain profiles of Observation should exist.</p>



<a name="153983961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983961">(Aug 09 2018 at 02:01)</a>:</h4>
<p><a href="http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-eicr-composition.html" target="_blank" title="http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-eicr-composition.html">http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-eicr-composition.html</a></p>



<a name="153983962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983962">(Aug 09 2018 at 02:04)</a>:</h4>
<p>This is probably a better example: <a href="http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-rr-communication.html" target="_blank" title="http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-rr-communication.html">http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-rr-communication.html</a></p>



<a name="153983963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983963">(Aug 09 2018 at 02:05)</a>:</h4>
<p>Though maybe not - they are both pretty much the same thing...</p>



<a name="153983967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983967">(Aug 09 2018 at 02:27)</a>:</h4>
<p>so I think you want profile:resolve() as your discriminator, not profile:reference</p>



<a name="153983970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983970">(Aug 09 2018 at 02:37)</a>:</h4>
<p>Ok, will test out - thanks</p>



<a name="153983972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983972">(Aug 09 2018 at 02:46)</a>:</h4>
<p>I'll need to commit before it works.</p>



<a name="153983973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983973">(Aug 09 2018 at 02:46)</a>:</h4>
<p>kk</p>



<a name="153983974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983974">(Aug 09 2018 at 02:47)</a>:</h4>
<p>Should it be profile:reference.resolve() ?</p>



<a name="153983976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983976">(Aug 09 2018 at 02:48)</a>:</h4>
<p>no.</p>



<a name="153983977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983977">(Aug 09 2018 at 02:48)</a>:</h4>
<p>.resolve() is defined work with either</p>



<a name="153983978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983978">(Aug 09 2018 at 02:49)</a>:</h4>
<p>ta</p>



<a name="153983979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983979">(Aug 09 2018 at 02:52)</a>:</h4>
<p>So:</p>
<div class="codehilite"><pre><span></span>&lt;discriminator&gt;
          &lt;type value=&quot;profile&quot; /&gt;
          &lt;path value=&quot;reference.resolve()&quot; /&gt;
&lt;/discriminator&gt;
</pre></div>


<p>?</p>



<a name="153983980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983980">(Aug 09 2018 at 02:56)</a>:</h4>
<p>Ooops I mean:</p>
<div class="codehilite"><pre><span></span>&lt;discriminator&gt;
          &lt;type value=&quot;profile&quot; /&gt;
          &lt;path value=&quot;resolve()&quot; /&gt;
&lt;/discriminator&gt;
</pre></div>



<a name="153983981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983981">(Aug 09 2018 at 02:57)</a>:</h4>
<p>yes.</p>



<a name="153983982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983982">(Aug 09 2018 at 02:58)</a>:</h4>
<p>committing now...</p>



<a name="153983983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983983">(Aug 09 2018 at 02:58)</a>:</h4>
<p>Okie dokie</p>



<a name="153983985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983985">(Aug 09 2018 at 03:00)</a>:</h4>
<p><a href="/user_uploads/10155/6clD6Oimo-7NHICiBpdYz68q/structuredefinition-eicr-composition.xml" target="_blank" title="structuredefinition-eicr-composition.xml">structuredefinition-eicr-composition.xml</a> <a href="/user_uploads/10155/9RoiSaxPn-wvHyA-uDy3TTh1/structuredefinition-rr-communication.xml" target="_blank" title="structuredefinition-rr-communication.xml">structuredefinition-rr-communication.xml</a> - these are my copies, in case of any doubt</p>



<a name="153983986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983986">(Aug 09 2018 at 03:01)</a>:</h4>
<p>Tx</p>



<a name="153983999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153983999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153983999">(Aug 09 2018 at 03:17)</a>:</h4>
<p>Errors gone!! Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="153986689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986689">(Aug 15 2018 at 03:40)</a>:</h4>
<p>So I am still having a small problem with these slices... (i.e. only giving me severity=information messages) but something is clearly not working.</p>
<p>I have a slice set up as follows (<a href="http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-eicr-composition.xml" target="_blank" title="http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-eicr-composition.xml">http://build.fhir.org/ig/HL7/case-reporting/StructureDefinition-eicr-composition.xml</a>):</p>
<div class="codehilite"><pre><span></span>&lt;element id=&quot;Composition.section:sliceProblemSection.entry&quot;&gt;
  &lt;path value=&quot;Composition.section.entry&quot; /&gt;
  &lt;slicing&gt;
    &lt;discriminator&gt;
      &lt;type value=&quot;profile&quot; /&gt;
      &lt;path value=&quot;resolve()&quot; /&gt;
    &lt;/discriminator&gt;
    &lt;rules value=&quot;open&quot; /&gt;
  &lt;/slicing&gt;
  &lt;mustSupport value=&quot;true&quot; /&gt;
&lt;/element&gt;
&lt;element id=&quot;Composition.section:sliceProblemSection.entry:sliceEICRCondition&quot;&gt;
  &lt;path value=&quot;Composition.section.entry&quot; /&gt;
  &lt;sliceName value=&quot;sliceEICRCondition&quot; /&gt;
  &lt;type&gt;
    &lt;code value=&quot;Reference&quot; /&gt;
    &lt;targetProfile value=&quot;http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-condition&quot; /&gt;
  &lt;/type&gt;
  &lt;mustSupport value=&quot;true&quot; /&gt;
  &lt;isModifier value=&quot;false&quot; /&gt;
&lt;/element&gt;
</pre></div>


<p>The profile doesn't error or produce a warning or anything.</p>
<p>But when I create an example (<a href="http://build.fhir.org/ig/HL7/case-reporting/Composition-eicr-composition-zika.xml" target="_blank" title="http://build.fhir.org/ig/HL7/case-reporting/Composition-eicr-composition-zika.xml">http://build.fhir.org/ig/HL7/case-reporting/Composition-eicr-composition-zika.xml</a>):</p>
<div class="codehilite"><pre><span></span> &lt;entry&gt;
      &lt;reference value=&quot;Condition/eicr-condition-eve-everywoman-common-cold&quot; /&gt;
      &lt;display value=&quot;Common cold (disorder)&quot; /&gt;
&lt;/entry&gt;
</pre></div>


<p>I get the following: <code>This element does not match any known slice for the profile http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-composition</code></p>
<p>The condition I'm referencing conforms to the eicr-condition referenced in the targetProfile of the slice.</p>
<p>I can't see what I'm doing wrong....</p>



<a name="153986695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986695">(Aug 15 2018 at 03:46)</a>:</h4>
<p>If you haven't tried it yet, you might try changing your discriminator path to be:</p>
<div class="codehilite"><pre><span></span>&lt;path value=&quot;reference.resolve()&quot; /&gt;
</pre></div>


<p>In the examples of the <a href="https://www.hl7.org/fhir/profiling.html#discriminator" target="_blank" title="https://www.hl7.org/fhir/profiling.html#discriminator">discriminator</a> doc, they always seem to resolve on the Reference's <code>reference</code> element (whereas you're resolving on the root of the Reference).</p>



<a name="153986697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986697">(Aug 15 2018 at 03:47)</a>:</h4>
<p>Yeah, I tried that... That makes the example have an actual error (rather than just information message). Tried just "reference" too... Thanks though...</p>



<a name="153986700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986700">(Aug 15 2018 at 03:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> stated earlier in this topic that it should be just resolve() btw...</p>



<a name="153986725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986725">(Aug 15 2018 at 04:06)</a>:</h4>
<p>is this all committed?</p>



<a name="153986729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986729">(Aug 15 2018 at 04:09)</a>:</h4>
<p>Yes</p>



<a name="153986730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986730">(Aug 15 2018 at 04:09)</a>:</h4>
<p><a href="http://build.fhir.org/ig/HL7/case-reporting/qa.html#_scratch_ig-build-temp-TWYNSX_repo_source_resources_examples_eicr-composition-zika" target="_blank" title="http://build.fhir.org/ig/HL7/case-reporting/qa.html#_scratch_ig-build-temp-TWYNSX_repo_source_resources_examples_eicr-composition-zika">http://build.fhir.org/ig/HL7/case-reporting/qa.html#_scratch_ig-build-temp-TWYNSX_repo_source_resources_examples_eicr-composition-zika</a></p>



<a name="153986769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986769">(Aug 15 2018 at 07:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> a side issue - how are you authoring your profiles? you're not following the guidance for use of name/title</p>



<a name="153986770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986770">(Aug 15 2018 at 07:02)</a>:</h4>
<p>Manually and/ or Forge<br>
Where do I find the guidance on that? Will fix.</p>



<a name="153986771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986771">(Aug 15 2018 at 07:03)</a>:</h4>
<p><a href="http://build.fhir.org/structuredefinition.html#metadata" target="_blank" title="http://build.fhir.org/structuredefinition.html#metadata">http://build.fhir.org/structuredefinition.html#metadata</a></p>



<a name="153986772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986772">(Aug 15 2018 at 07:04)</a>:</h4>
<p>Oh... Oops! Another bulk editing job!</p>



<a name="153986773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986773">(Aug 15 2018 at 07:05)</a>:</h4>
<p>Can the name be the same as the id?</p>



<a name="153986774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986774">(Aug 15 2018 at 07:05)</a>:</h4>
<p>yes can be if that makes sense</p>



<a name="153986775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986775">(Aug 15 2018 at 07:06)</a>:</h4>
<p>Ok</p>



<a name="153986776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986776">(Aug 15 2018 at 07:08)</a>:</h4>
<p>All authors should check this</p>



<a name="153986814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986814">(Aug 15 2018 at 10:55)</a>:</h4>
<p>underlying problem fixed - I forgot to try resolving the references in the entire IG. And then once I did, I had a bunch of issues to fix</p>



<a name="153986924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986924">(Aug 15 2018 at 14:39)</a>:</h4>
<p>Is there now a place we can capture the title distinct from the name in spreadsheets?</p>



<a name="153986991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153986991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153986991">(Aug 15 2018 at 16:36)</a>:</h4>
<p>Well that should be in metadata page:   headers  'name' and 'display'</p>



<a name="153987045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987045">(Aug 15 2018 at 18:39)</a>:</h4>
<p>How does that work for multiple profiles per workbook?  (and for extensions in a workbook?)</p>



<a name="153987070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987070">(Aug 15 2018 at 19:51)</a>:</h4>
<p>it doesn't I had to split the vitals profile  - there is a task already for this</p>



<a name="153987097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987097">(Aug 15 2018 at 20:36)</a>:</h4>
<p>I'll maybe change the code to generate a name from the id if you've got multiple profiles per spreadsheet</p>



<a name="153987098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987098">(Aug 15 2018 at 20:36)</a>:</h4>
<p>And for extensions</p>



<a name="153987116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987116">(Aug 15 2018 at 21:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> now I'm getting errors in my example.<br>
<a href="/user_uploads/10155/hsLfjP1IrSN3PbOrZBw4fCTV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/hsLfjP1IrSN3PbOrZBw4fCTV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/hsLfjP1IrSN3PbOrZBw4fCTV/pasted_image.png"></a></div><p>So in the profile (<a href="https://github.com/HL7/case-reporting/blob/master/source/resources/profiles/structuredefinition-eicr-composition.xml" target="_blank" title="https://github.com/HL7/case-reporting/blob/master/source/resources/profiles/structuredefinition-eicr-composition.xml">https://github.com/HL7/case-reporting/blob/master/source/resources/profiles/structuredefinition-eicr-composition.xml</a> ) I have this:</p>
<div class="codehilite"><pre><span></span>&lt;element id=&quot;Composition.section:sliceSocialHistorySection.entry&quot;&gt;
      &lt;path value=&quot;Composition.section.entry&quot; /&gt;
      &lt;slicing&gt;
        &lt;discriminator&gt;
          &lt;type value=&quot;profile&quot; /&gt;
          &lt;path value=&quot;resolve()&quot; /&gt;
        &lt;/discriminator&gt;
        &lt;rules value=&quot;open&quot; /&gt;
      &lt;/slicing&gt;
      &lt;mustSupport value=&quot;true&quot; /&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Composition.section:sliceSocialHistorySection.entry:sliceTravelHistory&quot;&gt;
      &lt;path value=&quot;Composition.section.entry&quot; /&gt;
      &lt;sliceName value=&quot;sliceTravelHistory&quot; /&gt;
      &lt;type&gt;
        &lt;code value=&quot;Reference&quot; /&gt;
        &lt;targetProfile value=&quot;http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-travel-history&quot; /&gt;
      &lt;/type&gt;
      &lt;mustSupport value=&quot;true&quot; /&gt;
      &lt;isModifier value=&quot;false&quot; /&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Composition.section:sliceSocialHistorySection.entry:slicePregnancyStatus&quot;&gt;
      &lt;path value=&quot;Composition.section.entry&quot; /&gt;
      &lt;sliceName value=&quot;slicePregnancyStatus&quot; /&gt;
      &lt;max value=&quot;1&quot; /&gt;
      &lt;type&gt;
        &lt;code value=&quot;Reference&quot; /&gt;
        &lt;targetProfile value=&quot;http://hl7.org/fhir/us/ecr/StructureDefinition/pregnancy-status&quot; /&gt;
      &lt;/type&gt;
      &lt;mustSupport value=&quot;true&quot; /&gt;
      &lt;isModifier value=&quot;false&quot; /&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Composition.section:sliceSocialHistorySection.entry:sliceOccupationHistory&quot;&gt;
      &lt;path value=&quot;Composition.section.entry&quot; /&gt;
      &lt;sliceName value=&quot;sliceOccupationHistory&quot; /&gt;
      &lt;type&gt;
        &lt;code value=&quot;Reference&quot; /&gt;
        &lt;targetProfile value=&quot;http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-occupationhistory&quot; /&gt;
      &lt;/type&gt;
      &lt;mustSupport value=&quot;true&quot; /&gt;
      &lt;isModifier value=&quot;false&quot; /&gt;
    &lt;/element&gt;
</pre></div>


<p>In the example (<a href="https://github.com/HL7/case-reporting/blob/master/source/resources/examples/eicr-composition-zika.xml" target="_blank" title="https://github.com/HL7/case-reporting/blob/master/source/resources/examples/eicr-composition-zika.xml">https://github.com/HL7/case-reporting/blob/master/source/resources/examples/eicr-composition-zika.xml</a>) I have this:</p>
<div class="codehilite"><pre><span></span>&lt;!-- eICR Travel History --&gt;
    &lt;entry&gt;
      &lt;reference value=&quot;Observation/eicr-travel-history-eve-everywoman-201801&quot; /&gt;
      &lt;display value=&quot;eICR Travel History: Eve Everywoman 2018-01&quot; /&gt;
    &lt;/entry&gt;
    &lt;!-- eICR Pregnancy Status --&gt;
    &lt;entry&gt;
      &lt;reference value=&quot;Observation/eicr-pregnancy-status-eve-everywoman&quot; /&gt;
      &lt;display value=&quot;eICR Pregnancy Status Example 1&quot; /&gt;
    &lt;/entry&gt;
    &lt;!-- eICR Occupation History --&gt;
    &lt;entry&gt;
      &lt;reference value=&quot;Observation/eicr-occupation-history-eve-everywoman&quot; /&gt;
      &lt;display value=&quot;eICR Occupation History: Eve Everywoman&quot; /&gt;
    &lt;/entry&gt;
</pre></div>


<p>I have double checked the stuff (eg. <a href="https://github.com/HL7/case-reporting/blob/master/source/resources/examples/eicr-pregnancy-status-eve-everywoman.xml" target="_blank" title="https://github.com/HL7/case-reporting/blob/master/source/resources/examples/eicr-pregnancy-status-eve-everywoman.xml">https://github.com/HL7/case-reporting/blob/master/source/resources/examples/eicr-pregnancy-status-eve-everywoman.xml</a>)  that is being referenced and they each conform to the correct profile:</p>
<div class="codehilite"><pre><span></span>&lt;id value=&quot;eicr-pregnancy-status-eve-everywoman&quot; /&gt;
  &lt;meta&gt;
    &lt;profile value=&quot;http://hl7.org/fhir/us/ecr/StructureDefinition/pregnancy-status&quot; /&gt;
  &lt;/meta&gt;
</pre></div>


<p>Is there still an issue? Am I doing something wrong?</p>



<a name="153987233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987233">(Aug 16 2018 at 00:08)</a>:</h4>
<p>well, I'm just committing an update that parses the metadata like this:<br>
if there's a metadata entry for title, then :<br>
  - profile.title = metadata('title')<br>
 - <a href="http://profile.name" target="_blank" title="http://profile.name">profile.name</a> = metadata('name')<br>
else<br>
  - profile.title = metadata('name')<br>
 - <a href="http://profile.name" target="_blank" title="http://profile.name">profile.name</a> = metadata('name')</p>



<a name="153987244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987244">(Aug 16 2018 at 00:24)</a>:</h4>
<p>How does that work for multi-profile spreadsheets or extensions?</p>



<a name="153987271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987271">(Aug 16 2018 at 01:10)</a>:</h4>
<p>don't know. Stop using spreadsheets...</p>



<a name="153987274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987274">(Aug 16 2018 at 01:11)</a>:</h4>
<p>Stop using spreadsheets essentially means handcode the structuredefinitions, which isn't a terribly viable option</p>



<a name="153987331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987331">(Aug 16 2018 at 03:53)</a>:</h4>
<p>I'm still getting the same error that I was getting this morning, btw: Profile <a href="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-composition" target="_blank" title="http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-composition">http://hl7.org/fhir/us/ecr/StructureDefinition/eicr-composition</a>, Element matches more than one slice - sliceTravelHistory, slicePregnancyStatus</p>



<a name="153987515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987515">(Aug 16 2018 at 11:15)</a>:</h4>
<blockquote>
<p>How does that work for multiple profiles per workbook? </p>
</blockquote>
<p>Add 2 new columns <a href="http://Profile.name" target="_blank" title="http://Profile.name">Profile.name</a> and Profile.title, and give them a value only in the first row</p>



<a name="153987516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987516">(Aug 16 2018 at 11:16)</a>:</h4>
<p>Extensions pick up name and title from the [Name] and [Display] columns, but these are dual used, so if you want to override them, you can also use <a href="http://Profile.name" target="_blank" title="http://Profile.name">Profile.name</a> and Profile.title on each extension (root extensions)</p>



<a name="153987572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987572">(Aug 16 2018 at 14:30)</a>:</h4>
<p>Thank you!</p>



<a name="153987574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153987574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153987574">(Aug 16 2018 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span>, we'll need to do this for ours.</p>



<a name="153988005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153988005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153988005">(Aug 17 2018 at 01:58)</a>:</h4>
<p>this is the same error that Stefan is getting. I'm not going to fix it, for ow. It won't prevent it going to ballot</p>



<a name="153988007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153988007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153988007">(Aug 17 2018 at 01:59)</a>:</h4>
<p>Ok will ignore errors...</p>



<a name="153988008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153988008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153988008">(Aug 17 2018 at 02:03)</a>:</h4>
<p>Sorry - maybe build hasn't completed yet? I saw a bot come up but it looks like it was an IG build, not main build. Will wait.</p>



<a name="153988015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/discriminators%20based%20on%20profiles%20is%20not%20yet%20supported/near/153988015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/discriminators.20based.20on.20profiles.20is.20not.20yet.20supported.html#153988015">(Aug 17 2018 at 02:24)</a>:</h4>
<p>Works! Thanks GG!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
