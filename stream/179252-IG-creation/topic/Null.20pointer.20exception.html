---
layout: page
title: "FHIR Chat  · Null pointer exception · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html">Null pointer exception</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154020717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020717">(Nov 25 2018 at 15:22)</a>:</h4>
<p>THe IG Publisher is throwing a null pointer exception but I cannot tell from the output where this is happening. The stack trace is as follows:</p>
<div class="codehilite"><pre><span></span>     [java] java.lang.NullPointerException
     [java]     at org.hl7.fhir.igtools.publisher.IGKnowledgeProvider.getProperty(IGKnowledgeProvider.java:186)
     [java]     at org.hl7.fhir.igtools.publisher.IGKnowledgeProvider.getLinkFor(IGKnowledgeProvider.java:471)
     [java]     at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1804)
     [java]     at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:582)
     [java]     at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:526)
     [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4925)
     [java] Exception in thread &quot;main&quot; java.lang.NullPointerException
     [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4935)
</pre></div>


<p>I did add a new codesystem and two value sets to handle Device Identifiers. Before the addition there was no problem building. However, I cannot see what is wrong with what I have done. THe new system and values sets are added to the guide and they follow other coding systems/valuesets I have done.</p>
<p>Is it because I am extending a coding system for the Identifier.type? Do I need to do something special when extending an existing coding system (I needed to add Bluetooth Address, USB PID.VID, ZIGBEE MAC, SystemId, etc identifiers for a device that were not present in the current list.</p>



<a name="154020723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020723">(Nov 25 2018 at 16:50)</a>:</h4>
<p>You can't extend a code system - ever.  You can define codes in a new code system and define a value set that draws from both an original code systema nd a new code system.  In this case, are these new identifier types or identifier systems?  It seems that at least some of them should be systems...</p>



<a name="154020727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020727">(Nov 25 2018 at 19:25)</a>:</h4>
<blockquote>
<p>You can't extend a code system - ever.  You can define codes in a new code system and define a value set that draws from both an original code systema nd a new code system.  In this case, are these new identifier types or identifier systems?  It seems that at least some of them should be systems...</p>
</blockquote>
<p>I didn't think so and I did not extend the system. I defined a new codesystem containing the identifiers and two values sets, one for the system id and the other for the transport addresses.</p>



<a name="154020729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020729">(Nov 25 2018 at 19:48)</a>:</h4>
<p>Why are you defining types for these instead of systems?</p>



<a name="154020731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020731">(Nov 25 2018 at 20:10)</a>:</h4>
<blockquote>
<p>Why are you defining types for these instead of systems?</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Not quite sure of what you are asking. I am not defining types but just a set of codes, like I do for the ASN1 and COntinua PAN and HFS. That is because the already defined IdentifierTypes code system does not include Bluetooth Address or System Ids as a possible identifier type. It is actually customer demand that is driving the inclusion of the transport address in the Device resource.<br>
The new code system has these values</p>
<div class="codehilite"><pre><span></span>  &lt;concept&gt;
    &lt;code value=&quot;SYSID&quot;/&gt;
    &lt;display value=&quot;IEEE 11073 System Identifier&quot;/&gt;
    &lt;definition value=&quot;This code indicates that the identifier is the IEEE 11073 SystemId from the equivalent of the System-Id attribute&quot;/&gt;
  &lt;/concept&gt;
  &lt;concept&gt;
    &lt;code value=&quot;BTMAC&quot;/&gt;
    &lt;display value=&quot;Bluetooth MAC address&quot;/&gt;
    &lt;definition value=&quot;This code indicates that the identifier is the Bluetooth MAC address, either classic or low energy&quot;/&gt;
  &lt;/concept&gt;
  &lt;concept&gt;
    &lt;code value=&quot;USB&quot;/&gt;
    &lt;display value=&quot;USB PID and VID designators&quot;/&gt;
    &lt;definition value=&quot;This code indicates that the identifier is the USB Pid and Vid values&quot;/&gt;
  &lt;/concept&gt;
  &lt;concept&gt;
    &lt;code value=&quot;ZIGBEE&quot;/&gt;
    &lt;display value=&quot;ZigBee MAC address&quot;/&gt;
    &lt;definition value=&quot;This code indicates that the identifier is the ZigBee MAC address&quot;/&gt;
  &lt;/concept&gt;
</pre></div>


<p>And the two value sets group a subset of the above codes like this</p>
<div class="codehilite"><pre><span></span>  &lt;compose&gt;
    &lt;include&gt;
      &lt;system value=&quot;http://hl7.org/fhir/uv/phd/CodeSystem/ContinuaDeviceIdentifiers&quot;/&gt;
      &lt;concept&gt;
        &lt;code value=&quot;BTMAC&quot;/&gt;
      &lt;/concept&gt;
      &lt;concept&gt;
        &lt;code value=&quot;USB&quot;/&gt;
      &lt;/concept&gt;
      &lt;concept&gt;
        &lt;code value=&quot;ZIGBEE&quot;/&gt;
      &lt;/concept&gt;
    &lt;/include&gt;
  &lt;/compose&gt;
</pre></div>



<a name="154020735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020735">(Nov 25 2018 at 21:51)</a>:</h4>
<p>What is the system for those identifiers?  I.e. What's the namespace in which they're globally unique?  If the identifier type has a unique system, there's no need to specify a type.</p>



<a name="154020736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020736">(Nov 25 2018 at 21:57)</a>:</h4>
<blockquote>
<p>What is the system for those identifiers?  I.e. What's the namespace in which they're globally unique?  If the identifier type has a unique system, there's no need to specify a type.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  My identifiers (in an actual Device resource)  look as follows:</p>
<div class="codehilite"><pre><span></span>    &quot;identifier&quot;: [
        {
            &quot;type&quot;: {
                &quot;coding&quot;: [
                    {
                        &quot;system&quot;: &quot;http://hl7.org/fhir/uv/phd/CodeSystem/ContinuaDeviceIdentifiers&quot;,
                        &quot;code&quot;: &quot;SYSID&quot;  // Indicates that this identifier is the IEEE 11073 System-Id
                    }
                ]
            },
            &quot;system&quot;: &quot;urn:oid:1.2.840.10004.1.1.1.0.0.1.0.0.1.2680&quot;,
            &quot;value&quot;: &quot;74-E8-FF-FE-FF-05-1C-00&quot;
        },
        {
            &quot;type&quot;: {
                &quot;coding&quot;: [
                    {
                        &quot;system&quot;: &quot;http://hl7.org/fhir/uv/phd/CodeSystem/ContinuaDeviceIdentifiers&quot;,
                        &quot;code&quot;: &quot;BTMAC&quot; // Indicates that this identifier is the Bluetooth Address
                    }
                ]
            },
            &quot;system&quot;: &quot;urn:oid:1.2.840.10004.1.1.1.0.0.1.0.0.1.2680&quot;,
            &quot;value&quot;: &quot;00-1C-05-FF-E8-74&quot;
        }
    ],
</pre></div>


<p>The identifier.type  (which is a CodeableConcept) is using this new code system. Just like I did for the Observation.component, I slice on value and the path is the type element. I then use the value set for the binding in the two cases. There is really no difference between this and the handling of the Observation.components.</p>
<p>Note that the identifier.system is the same for both types of identifiers, thus the need for the identifier.type element.</p>



<a name="154020754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020754">(Nov 26 2018 at 03:51)</a>:</h4>
<p>What is the 1.2.840.10004 namespace?</p>



<a name="154020757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020757">(Nov 26 2018 at 04:09)</a>:</h4>
<p>ISO/IEEE 11073 "Health informatics -- Point-of-care medical (or, Personal health) device communication"</p>



<a name="154020758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020758">(Nov 26 2018 at 04:10)</a>:</h4>
<p><a href="http://oid-info.com/cgi-bin/display?oid=1.2.840.10004&amp;action=display" target="_blank" title="http://oid-info.com/cgi-bin/display?oid=1.2.840.10004&amp;action=display">http://oid-info.com/cgi-bin/display?oid=1.2.840.10004&amp;action=display</a></p>



<a name="154020765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020765">(Nov 26 2018 at 05:33)</a>:</h4>
<p>The description doesn't really sound like an identifier namespace.  Who manages it?  How is it ensured that the identifiers within it are globally unique?</p>



<a name="154020791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020791">(Nov 26 2018 at 09:37)</a>:</h4>
<blockquote>
<p>What is the 1.2.840.10004 namespace?</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  IEEE. Both PoCD and PHD have been using it for quite a while and it has not been causing an issue with the IG publisher. The new part of the identifier is the addition of the 'type' element. That has not been in PHD or PoCD. PoCD has no need for the transport address.</p>



<a name="154020797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Karl <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020797">(Nov 26 2018 at 09:59)</a>:</h4>
<p>OID 1.2.840.10004.1.1.1.0.0.1.0.0.1.2680 is defined in the HL7 OID Registry (<a href="http://www.hl7.org/OID/" target="_blank" title="http://www.hl7.org/OID/">http://www.hl7.org/OID/</a>). It's for EUI-64, so I think it doesn't apply for EUI-48. According to <a href="http://build.fhir.org/terminologies-systems.html" target="_blank" title="http://build.fhir.org/terminologies-systems.html">this</a> page using HL7 OID is the preferred choice if no FHIR system identifier is defined. <br>
Specific system identifiers for EUI-64 and EUI-48 have been proposed in <a href="#narrow/stream/4-implementers/subject/Multiple.20identifiers" title="#narrow/stream/4-implementers/subject/Multiple.20identifiers">this</a> discussion, but didn't find their way into the FHIR specs.</p>



<a name="154020813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020813">(Nov 26 2018 at 11:28)</a>:</h4>
<blockquote>
<p>OID 1.2.840.10004.1.1.1.0.0.1.0.0.1.2680 is defined in the HL7 OID Registry (<a href="http://www.hl7.org/OID/" target="_blank" title="http://www.hl7.org/OID/">http://www.hl7.org/OID/</a>). It's for EUI-64, so I think it doesn't apply for EUI-48. According to <a href="http://build.fhir.org/terminologies-systems.html" target="_blank" title="http://build.fhir.org/terminologies-systems.html">this</a> page using HL7 OID is the preferred choice if no FHIR system identifier is defined. <br>
Specific system identifiers for EUI-64 and EUI-48 have been proposed in <a href="#narrow/stream/4-implementers/subject/Multiple.20identifiers" title="#narrow/stream/4-implementers/subject/Multiple.20identifiers">this</a> discussion, but didn't find their way into the FHIR specs.</p>
</blockquote>
<p>I can't find an oid for EUI-48 so I am dropping the system value altogether and relying on the type.coding.code to identify the kind of transport address</p>
<p>I found the problem. An extra comma in a hand-edited JSON example. It would help if the tool did indicate which file caused the exception. Teaches me a lesson though. If you hand-edit these files, use a syntax checker even if it was one line!</p>



<a name="154020855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Karl <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020855">(Nov 26 2018 at 14:28)</a>:</h4>
<p>Yes, you can make your own definition for Identifier.type. But it would greatly improve interoperability if everyone who is encoding EUI-64 or EUI-48 does it the same way. <br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> can we add the proposed "<a href="http://hl7.org/fhir/sid/eui-64" target="_blank" title="http://hl7.org/fhir/sid/eui-64">http://hl7.org/fhir/sid/eui-64</a>" and "<a href="http://hl7.org/fhir/sid/eui-48" target="_blank" title="http://hl7.org/fhir/sid/eui-48">http://hl7.org/fhir/sid/eui-48</a>" system identifiers to the FHIR specs?</p>



<a name="154020861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020861">(Nov 26 2018 at 14:53)</a>:</h4>
<blockquote>
<p>Yes, you can make your own definition for Identifier.type. But it would greatly improve interoperability if everyone who is encoding EUI-64 or EUI-48 does it the same way. <br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> can we add the proposed "<a href="http://hl7.org/fhir/sid/eui-64" target="_blank" title="http://hl7.org/fhir/sid/eui-64">http://hl7.org/fhir/sid/eui-64</a>" and "<a href="http://hl7.org/fhir/sid/eui-48" target="_blank" title="http://hl7.org/fhir/sid/eui-48">http://hl7.org/fhir/sid/eui-48</a>" system identifiers to the FHIR specs?</p>
</blockquote>
<p>There are other transports as well in PHD: ZigBee, USB, and NFC. In the future there could be more.</p>



<a name="154020864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020864">(Nov 26 2018 at 15:01)</a>:</h4>
<p>Each transport is presumably a distinct namespace and should have a distinct system - the combination of system + value must be globally unique.  Identifier type is ignored when comparing identifiers to see if they match.</p>



<a name="154020866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020866">(Nov 26 2018 at 15:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Would be nice ... and if they do it would be nice to find out what they are!</p>



<a name="154020868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020868">(Nov 26 2018 at 15:09)</a>:</h4>
<p>It's possible they haven't been defined yet.  But it's not a "would be nice" situation.  If the values have different namespaces, they <em>must</em> have different systems.</p>



<a name="154020882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020882">(Nov 26 2018 at 16:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  What would it take to define these systems?<br>
 "<a href="http://hl7.org/fhir/sid/eui-64" target="_blank" title="http://hl7.org/fhir/sid/eui-64">http://hl7.org/fhir/sid/eui-64</a>" for system id or the OID<br>
 "<a href="http://hl7.org/fhir/sid/eui-48" target="_blank" title="http://hl7.org/fhir/sid/eui-48">http://hl7.org/fhir/sid/eui-48</a>" for Bluetooth mac<br>
? for Ethernet MAC (48-bit value but I do not know if it is an EUI)<br>
? for USB<br>
? for ZigBee (64-bit value but I do not know if it is an EUI)</p>



<a name="154020883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020883">(Nov 26 2018 at 16:36)</a>:</h4>
<p>Change requests to the attention of the vocab work group</p>



<a name="154020888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020888">(Nov 26 2018 at 17:00)</a>:</h4>
<blockquote>
<p>Change requests to the attention of the vocab work group</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  seems tough to get done in time for ballot<br>
<span class="user-mention" data-user-id="192966">@Stefan Karl</span>  Got any good ideas here? <br>
for the system id we already have urn:oid:1.2.840.10004.1.1.1.0.0.1.0.0.1.2680<br>
For the Bluetooth Address which is an EUI-48 ?<br>
For the Ethernet MAC address which is an EUI-48<br>
For the ZigBee address which is 64 bits?<br>
For the USB designator which is the VID and PID?<br>
For NFC which I know nothing about but is a PHD transport?</p>



<a name="154020892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Karl <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020892">(Nov 26 2018 at 17:07)</a>:</h4>
<p>For EUI-64 and EUI-48 there is a good guidance document <a href="https://standards.ieee.org/content/dam/ieee-standards/standards/web/documents/tutorials/eui.pdf" target="_blank" title="https://standards.ieee.org/content/dam/ieee-standards/standards/web/documents/tutorials/eui.pdf">here</a>. 48-bit MAC addresses are also considered EUI-48.</p>



<a name="154020894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020894">(Nov 26 2018 at 17:13)</a>:</h4>
<blockquote>
<p>For EUI-64 and EUI-48 there is a good guidance document <a href="https://standards.ieee.org/content/dam/ieee-standards/standards/web/documents/tutorials/eui.pdf" target="_blank" title="https://standards.ieee.org/content/dam/ieee-standards/standards/web/documents/tutorials/eui.pdf">here</a>. 48-bit MAC addresses are also considered EUI-48.</p>
</blockquote>
<p><span class="user-mention" data-user-id="192966">@Stefan Karl</span>  How does one know that one is a Bluetooth address and the other is an Ethernet MAC address? My Android has both. There needs to be some way to distinguish between these different types of addresses which are of the same 'type'. Customers have 'demanded' the inclusion of these addresses as they are often on the device itself. But you need to know what 48-bit number you are looking at, or in the case of ZigBee, 64-bit.</p>



<a name="154020921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020921">(Nov 26 2018 at 20:49)</a>:</h4>
<p>In the absence of all else, and the apparent NEED to use only system and value in the identifier to discriminate (the type does NOT work so you cant invent codes to solve the problem) how about these for the transport addresses (placeholders until something real comes along:<br>
"<a href="http://hl7.org/fhir/sid/eui-64/ZigBee" target="_blank" title="http://hl7.org/fhir/sid/eui-64/ZigBee">http://hl7.org/fhir/sid/eui-64/ZigBee</a>"<br>
"<a href="http://hl7.org/fhir/sid/eui-48/BTMAC" target="_blank" title="http://hl7.org/fhir/sid/eui-48/BTMAC">http://hl7.org/fhir/sid/eui-48/BTMAC</a>"<br>
"<a href="http://hl7.org/fhir/sid/eui-48/ETHMAC" target="_blank" title="http://hl7.org/fhir/sid/eui-48/ETHMAC">http://hl7.org/fhir/sid/eui-48/ETHMAC</a>"<br>
"<a href="http://hl7.org/fhir/sid/USB" target="_blank" title="http://hl7.org/fhir/sid/USB">http://hl7.org/fhir/sid/USB</a>"</p>



<a name="154020934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020934">(Nov 26 2018 at 21:29)</a>:</h4>
<p>If eui-48 is, itself a unique namespace, we don't actually need BTMAC and ETHMAC.  I.e. If you have an arbitrary value and you know it's an EUI-48, and you match with another EUI-48, does that tell you for certain it's the same instance?</p>



<a name="154020935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020935">(Nov 26 2018 at 21:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  I'm looking for a way for a reader to be able to tell that one of the EUI-48's is a Bluetooth Address and the other is an Ethernet MAC address. A device can have both (for example an Android)<br>
Null pointer exception</p>



<a name="154020938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020938">(Nov 26 2018 at 21:43)</a>:</h4>
<p>I understand.  The question is what the right division is between "type" and "system".  The system defines the namespace that ensures global uniqueness - and that's all it does.  We need to ensure that systems are defined at the level of what ensures that uniqueness.  Is EUI-48 a single namespace across which all identifiers are unique?  I.e. there's no possibility that the Bluetooth address of one device might end up being the MAC address of a different device?</p>



<a name="154020940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020940">(Nov 26 2018 at 21:48)</a>:</h4>
<blockquote>
<p>I understand.  The question is what the right division is between "type" and "system".  The system defines the namespace that ensures global uniqueness - and that's all it does.  We need to ensure that systems are defined at the level of what ensures that uniqueness.  Is EUI-48 a single namespace across which all identifiers are unique?  I.e. there's no possibility that the Bluetooth address of one device might end up being the MAC address of a different device?</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> That is a good question. I do not know. But from what I have read, standards (like Bluetooth) only require that the Bluetooth address be unique, and of course this is in the context of Bluetooth transports.  Given that the physical mechanisms are different, a Bluetooth address that happens to be the same as an Ethernet MAC address is not going to cause a clash. So it does not seem like there is a reason for them to be unique across both transport platforms. That being said I have never seen the two be the same. However, it is often the case that a device that has both Ethernet and Bluetooth get the chips from separate manufactures ensuring uniqueness (the OUI).</p>
<p>Nevertheless, there is still no way to tell which of the two EUI-48s are Bluetooth or Ethernet MACs if all you have is an EUI-48 system value.</p>



<a name="154020942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020942">(Nov 26 2018 at 21:58)</a>:</h4>
<p>The question is whether the EUI-48 mechanism prevents collisions because all identifiers are from the same namespace.  If the answer is yes, then there should only be one system id.</p>



<a name="154020944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020944">(Nov 26 2018 at 22:04)</a>:</h4>
<blockquote>
<p>The question is whether the EUI-48 mechanism prevents collisions because all identifiers are from the same namespace.  If the answer is yes, then there should only be one system id.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <br>
So then I see something like this:</p>
<div class="codehilite"><pre><span></span>    &quot;identifier&quot;: [
        {
            &quot;system&quot;: &quot;http://hl7.org/fhir/sid/eui-48&quot;,
            &quot;value&quot;: &quot;74-E8-FF-FE-FF-05&quot;
        },
        {
            &quot;system&quot;: &quot;http://hl7.org/fhir/sid/eui-48&quot;,
            &quot;value&quot;: &quot;00-1C-05-FF-E8-74&quot;
        }
    ],
</pre></div>


<p>Which is the Bluetooth address and which is the Ethernet MAC address? I need some more information. So do I need to keep my Code System for the 'type' if I want to let the downstream readers know?</p>
<p>(slicing on fixed system value does work).</p>



<a name="154020957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Null%20pointer%20exception/near/154020957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Null.20pointer.20exception.html#154020957">(Nov 26 2018 at 23:21)</a>:</h4>
<p><em>IF</em> they have the same namespace, then yes you'll need to slice by both Identifier.system (by value) and Identifier.type (by pattern)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
