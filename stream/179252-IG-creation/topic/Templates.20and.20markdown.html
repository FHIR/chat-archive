---
layout: page
title: "FHIR Chat  · Templates and markdown · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html">Templates and markdown</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208896266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208896266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208896266">(Sep 02 2020 at 22:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> how do the templates process markdown?</p>



<a name="208898673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208898673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208898673">(Sep 02 2020 at 22:53)</a>:</h4>
<p>They were using a liquid command, but I believe Eric made changes because it was causing him grief</p>



<a name="208899128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208899128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208899128">(Sep 02 2020 at 22:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> created this:</p>
<p><a href="https://github.com/hapifhir/org.hl7.fhir.core/issues/310">https://github.com/hapifhir/org.hl7.fhir.core/issues/310</a></p>
<p>but it turns out that the IG publisher doesn't do anything with those 2 fields; it's the template that builds the html in question, so it's the template that needs to process them as markdown</p>



<a name="208905406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208905406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208905406">(Sep 03 2020 at 00:10)</a>:</h4>
<p>FHIR-28140 shows a screenshot of the artifacts table which I have not touched.  The other one only shows up in the SD narrative I believe.</p>



<a name="208972434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208972434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208972434">(Sep 03 2020 at 14:08)</a>:</h4>
<p>So, how do we update the template to process those two fields as markdown?? <span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="208972858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208972858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208972858">(Sep 03 2020 at 14:11)</a>:</h4>
<p>this field is all Lloyds handiwork ...</p>
<div class="message_inline_image"><a href="https://jira.hl7.org/secure/attachment/16684/screenshot-1.png"><img src="https://jira.hl7.org/secure/attachment/16684/screenshot-1.png"></a></div>



<a name="208973106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208973106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208973106">(Sep 03 2020 at 14:13)</a>:</h4>
<p>ok... <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> ?</p>



<a name="208973164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208973164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208973164">(Sep 03 2020 at 14:14)</a>:</h4>
<p>this one I presumed was the ig-publisher since that is in the SD narrative</p>
<div class="message_inline_image"><a href="https://jira.hl7.org/secure/attachment/16682/screenshot-1.png"><img src="https://jira.hl7.org/secure/attachment/16682/screenshot-1.png"></a></div>



<a name="208973674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208973674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208973674">(Sep 03 2020 at 14:17)</a>:</h4>
<p>I'll be looking at templates again post-WGM</p>



<a name="208975542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208975542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208975542">(Sep 03 2020 at 14:29)</a>:</h4>
<p>can't we <code>|markdownify</code> the entire content in the layout?</p>



<a name="208978803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208978803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208978803">(Sep 03 2020 at 14:48)</a>:</h4>
<p>actually the first one looked like the artifact summary but  I am wrong it is not.  @sean where is the rendered output and source for this?</p>



<a name="208979358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208979358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208979358">(Sep 03 2020 at 14:52)</a>:</h4>
<p>I was thinking markdown="1" in the generated artifacts.</p>



<a name="208980804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208980804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208980804">(Sep 03 2020 at 15:02)</a>:</h4>
<p>We don't want to markdownify content that isn't explicitly expected to be markdown - that causes nasty side-effects</p>



<a name="208981009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/208981009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#208981009">(Sep 03 2020 at 15:03)</a>:</h4>
<p>We want to invoke markdownify on those specific elements that should be converted (and are required to be markdown).  Where things get a bit messy is where stuff wasn't markdown in R4 but is in R5.  Simplest is to make it markdown regardless of version, but that could cause rendering issues with older IGs</p>



<a name="209024356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/209024356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#209024356">(Sep 03 2020 at 20:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> yes that bit comes from the IG publisher. I apparently missed and  clicked on the same task twice. <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> now that I look in the code, I'm not so sure about the wisdom of making the constraint.human into markdown - it gets used in a lot of contexts where html is not in the picture. It would be better to leave it as a plain string for use in those contexts and provide a markdown variant in an extension (we have a markdown extension)</p>



<a name="209025424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/209025424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#209025424">(Sep 03 2020 at 20:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I'll defer to your suggestion. I'm happy to use an extension instead, I just need to know what the extension is; maybe an example of how to render that field as markdown</p>



<a name="209025817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Templates%20and%20markdown/near/209025817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Templates.20and.20markdown.html#209025817">(Sep 03 2020 at 20:32)</a>:</h4>
<p><code>http://hl7.org/fhir/StructureDefinition/rendering-markdown</code></p>
<p>so </p>
<div class="codehilite"><pre><span></span><code>      <span class="nt">&lt;constraint&gt;</span>
        <span class="nt">&lt;key</span> <span class="na">value=</span><span class="s">&quot;act-er-1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;severity</span> <span class="na">value=</span><span class="s">&quot;error&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;human</span> <span class="na">value=</span><span class="s">&quot;Only one of observation, regionOfInterest, observationMedia, substanceAdministration, supply, procedure, encounter, organizer, and act&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;valueMarkdown</span> <span class="na">value=</span><span class="s">&quot;**Only one** of (```observation, regionOfInterest, observationMedia, substanceAdministration, supply, procedure, encounter, organizer, act```)&quot;</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;/extension&gt;</span>
       <span class="nt">&lt;/human&gt;</span>
        <span class="nt">&lt;expression</span> <span class="na">value=</span><span class="s">&quot;(observation | regionOfInterest | observationMedia | substanceAdministration | supply | procedure | encounter | organizer | act).count() = 1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;source</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/constraint&gt;</span>
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
