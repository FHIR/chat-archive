---
layout: page
title: "FHIR Chat  · BUG: The element Extension.url has a fixed of type uri · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html">BUG: The element Extension.url has a fixed of type uri</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230527035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230527035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230527035">(Mar 16 2021 at 14:59)</a>:</h4>
<p>When building R4 IGs, they're raising the following error in the qa.txt: "The element Extension.url has a fixed of type uri, which is not in the list of allowed types.([http://hl7.org/fhirpath/System.String])"</p>
<p>This issue was initially raised over 10 days ago on the <a href="#narrow/stream/215610-shorthand/topic/The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri">FSH stream</a>.  I know <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> and <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> were heads down on R4B at that point.  So re-surfacing it here to make sure it's on the priority list to fix.</p>



<a name="230527136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230527136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230527136">(Mar 16 2021 at 14:59)</a>:</h4>
<p>Have they tried building again recently</p>



<a name="230527214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230527214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230527214">(Mar 16 2021 at 15:00)</a>:</h4>
<p>this is similar to another error that I encountered recently, that was fixed with a kindling dependency bump</p>



<a name="230527628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230527628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230527628">(Mar 16 2021 at 15:01)</a>:</h4>
<p>I just retried with a client IG (not publicly available) 5 minutes ago with the current validator and it was still an issue</p>



<a name="230527824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230527824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230527824">(Mar 16 2021 at 15:02)</a>:</h4>
<p>I'll retry again with a 'public' one.</p>



<a name="230529633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230529633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230529633">(Mar 16 2021 at 15:12)</a>:</h4>
<p>Still an issue w/ SDC<br>
<a href="http://build.fhir.org/ig/HL7/sdc/branches/master/qa.html#_scratch_ig-build-temp-JVWTM1_repo_input_examples_questionnaire-sdc-profile-example">http://build.fhir.org/ig/HL7/sdc/branches/master/qa.html#_scratch_ig-build-temp-JVWTM1_repo_input_examples_questionnaire-sdc-profile-example</a></p>



<a name="230544929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230544929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230544929">(Mar 16 2021 at 16:23)</a>:</h4>
<p>And I forgot about this issue and why I was holding off upgrading to the latest publisher.  I did that in one project and now have 40 spurious errors. that I'm going to have to explain to the client.  I really need to start using stickies around my computer to remind me of things!</p>



<a name="230594434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230594434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230594434">(Mar 16 2021 at 21:30)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> do you need anything further to chase?</p>



<a name="230697883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230697883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230697883">(Mar 17 2021 at 14:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri/near/230594434">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="248736">Mark Iantorno</span> do you need anything further to chase?</p>
</blockquote>
<p>There is the error on the &lt;fixedUri&gt; element when in an extension introduced by the latest version of the IG publisher ....Does this fix it?</p>



<a name="230699668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230699668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230699668">(Mar 17 2021 at 14:32)</a>:</h4>
<p>I don't believe we have a fix yet...</p>



<a name="230701237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230701237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230701237">(Mar 17 2021 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Okay, working with Jessica on the transport identifier naming system. Going well.<br>
Resolved the dependency issue. Have an agreed upon JIRA xml file (today's DoF meeting) so the only thing left is this fix uri.  <strong>By the way, if I change &lt;fixedUri&gt; to &lt;fixeduri&gt; in the extension, the error goes away.</strong></p>



<a name="230719715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230719715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230719715">(Mar 17 2021 at 16:14)</a>:</h4>
<p>That's definitely a bug in the publisher - because fixedUri is what's defined in the schema, and that's not allowed to change.  (<span class="user-mention" data-user-id="248736">@Mark Iantorno</span> FYI)</p>



<a name="230720984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230720984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> François Macary <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230720984">(Mar 17 2021 at 16:19)</a>:</h4>
<p>I have the same issue today on both local and public build of fhir-order-catalog IG. Two weeks ago the same IG had zero errors in its QA. Now it has 65 after the single change of adding copyrigths to ValueSet resources to comply with HTA QA.</p>



<a name="230722877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/230722877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#230722877">(Mar 17 2021 at 16:30)</a>:</h4>
<p>Yes, and some of the 65 errors are "Attempt to use Terminology server when no Terminology server is available for 'http://unitsofmeasure.org#mmol/L'" - which seems (almost certainly) unrelated (but since they've occurred at the same time that is a little suspicious).</p>



<a name="231088845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231088845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231088845">(Mar 19 2021 at 20:57)</a>:</h4>
<p>Alright so, I think this is related to a commit made on March 2-3 (14dc86e3a2f895498d5a63aa8baefa0c5283fc85)</p>



<a name="231088876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231088876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231088876">(Mar 19 2021 at 20:57)</a>:</h4>
<p>There was code added in the validation process to add the message you are encountering</p>



<a name="231088901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231088901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231088901">(Mar 19 2021 at 20:57)</a>:</h4>
<p>specifically:<br>
<code>    // in a snapshot, we validate that fixedValue, pattern, and defaultValue, if present, are all of the right type
    if (snapshot &amp;&amp; element.getIdBase().contains(".")) {
      if (rule(errors, IssueType.EXCEPTION, stack.getLiteralPath(), !typeCodes.isEmpty() || element.hasChild("contentReference"), I18nConstants.SD_NO_TYPES_OR_CONTENTREF, element.getIdBase())) {
        Element v = element.getNamedChild("defaultValue");
        if (v != null) {
          rule(errors, IssueType.EXCEPTION, stack.push(v, -1, null, null).getLiteralPath(), typeCodes.contains(v.fhirType()), I18nConstants.SD_VALUE_TYPE_IILEGAL, element.getIdBase(), "defaultValue", v.fhirType(), typeCodes);
        }
        v = element.getNamedChild("fixed");
        if (v != null) {
          rule(errors, IssueType.EXCEPTION, stack.push(v, -1, null, null).getLiteralPath(), typeCodes.contains(v.fhirType()), I18nConstants.SD_VALUE_TYPE_IILEGAL, element.getIdBase(), "fixed", v.fhirType(), typeCodes);
        }
        v = element.getNamedChild("pattern");
        if (v != null) {
          rule(errors, IssueType.EXCEPTION, stack.push(v, -1, null, null).getLiteralPath(), typeCodes.contains(v.fhirType()), I18nConstants.SD_VALUE_TYPE_IILEGAL, element.getIdBase(), "pattern", v.fhirType(), typeCodes);
        }
      }
    }</code></p>



<a name="231089001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089001">(Mar 19 2021 at 20:58)</a>:</h4>
<p>That is the only time this message is used in the core.</p>
<p>SD_VALUE_TYPE_IILEGAL = The element {0} has a {1} of type {2}, which is not in the list of allowed types ({3})</p>



<a name="231089032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089032">(Mar 19 2021 at 20:58)</a>:</h4>
<p>This is in the StructureDefinitionValidator</p>



<a name="231089079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089079">(Mar 19 2021 at 20:59)</a>:</h4>
<p>Let me look at what exactly is getting validated there</p>



<a name="231089085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089085">(Mar 19 2021 at 20:59)</a>:</h4>
<p>and why</p>



<a name="231089273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089273">(Mar 19 2021 at 21:00)</a>:</h4>
<p>Can someone here please provide me with instructions on how to actually get this to happen, like provide me with the files and steps so I can reproduce locally</p>



<a name="231089312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089312">(Mar 19 2021 at 21:00)</a>:</h4>
<p>it will help me get it done faster</p>



<a name="231089500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089500">(Mar 19 2021 at 21:01)</a>:</h4>
<p>any IG with extensions will trigger.  You can test it on one of mine:  <a href="https://github.com/HL7/fhir-spl">https://github.com/HL7/fhir-spl</a></p>



<a name="231089597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089597">(Mar 19 2021 at 21:02)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> I've never published an IG, are there instructions on how to do it</p>



<a name="231089636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089636">(Mar 19 2021 at 21:02)</a>:</h4>
<p>I just do the plumbing, never done the actual spec work</p>



<a name="231089685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089685">(Mar 19 2021 at 21:03)</a>:</h4>
<p>clone the repository, run <a href="http://_updatePublisher.sh">_updatePublisher.sh</a> to download the publisher.jar and then run <a href="http://_genonce.sh">_genonce.sh</a> to generate the IG</p>



<a name="231089690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231089690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231089690">(Mar 19 2021 at 21:03)</a>:</h4>
<p>great</p>



<a name="231090207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090207">(Mar 19 2021 at 21:08)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> I'm getting an error</p>



<a name="231090218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090218">(Mar 19 2021 at 21:08)</a>:</h4>
<p>(deleted)</p>



<a name="231090271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090271">(Mar 19 2021 at 21:08)</a>:</h4>
<p>forget it, I remember I had a messed up installation of the tools from before</p>



<a name="231090288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090288">(Mar 19 2021 at 21:09)</a>:</h4>
<p>I will fix</p>



<a name="231090543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090543">(Mar 19 2021 at 21:11)</a>:</h4>
<p>actually it's still throwing the error after I re-installed</p>



<a name="231090549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090549">(Mar 19 2021 at 21:11)</a>:</h4>
<div class="codehilite" data-code-language="checking"><pre><span></span><code>Online

FHIR IG Publisher Version 1.1.63 (Git# 0bd80eee0691). Built 2021-03-05T01:42:43.498Z (14 days old)
Detected Java version: 11.0.9.1 from /home/mark/.sdkman/candidates/java/11.0.9.open-adpt on Linux/amd64 (64bit). 8028MB available
dir = /home/mark/Documents/Projects/temp/fhir-spl, path = /home/mark/gems/bin:/home/mark/Downloads/google-cloud-sdk/bin:/home/mark/gems/bin:/home/mark/.nvm/versions/node/v8.9.1/bin:/home/mark/.sdkman/candidates/java/current/bin:/home/mark/.sdkman/candidates/gradle/current/bin:/home/mark/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-8-oracle/bin:/usr/lib/jvm/java-8-oracle/db/bin:/usr/lib/jvm/java-8-oracle/jre/bin:Users/home/mark/.local/bin:Users/home/mark/.local/bin
Parameters: -ig .
Start Clock @ Friday, March 19, 2021 at 5:10:19 p.m. Eastern Daylight Time (2021-03-19T17:10:19-04:00)

API keys loaded from /home/mark/apikeys.ini                                      (00:00.0013)
Package Cache: /home/mark/.fhir/packages                                         (00:00.0015)
Run Sushi on /home/mark/Documents/Projects/temp/fhir-spl                         (00:00.0015)
Sushi: info  Running SUSHI v1.3.0 (implements FHIR Shorthand specification v1.1.0) (00:00.0375)
Sushi: info  Arguments:                                                          (00:00.0375)
Sushi: info    --out /home/mark/Documents/Projects/temp/fhir-spl                 (00:00.0376)
Sushi: info    /home/mark/Documents/Projects/temp/fhir-spl                       (00:00.0376)
Sushi: info  Using configuration file: /home/mark/Documents/Projects/temp/fhir-spl/sushi-config.yaml (00:00.0379)
Sushi: info  Importing FSH text...                                               (00:00.0389)
Sushi: info  Preprocessed 12 documents with 1 aliases.                           (00:00.0585)
Sushi: error BigInt is not defined                                               (00:00.0590)
Sushi: File: /home/mark/Documents/Projects/temp/fhir-spl/input/fsh/EstablishmentLogicalModel.fsh (00:00.0590)
Sushi: Line: 1 - 337                                                             (00:00.0591)
Sushi: error BigInt is not defined                                               (00:00.0593)
Sushi: File: /home/mark/Documents/Projects/temp/fhir-spl/input/fsh/GDUFALogicalModel.fsh (00:00.0594)
Sushi: Line: 1 - 247                                                             (00:00.0594)
Sushi: error BigInt is not defined                                               (00:00.0595)
Sushi: File: /home/mark/Documents/Projects/temp/fhir-spl/input/fsh/LabelerLogicalModel.fsh (00:00.0595)
Sushi: Line: 1 - 220                                                             (00:00.0596)
Sushi: error BigInt is not defined                                               (00:00.0596)
Sushi: File: /home/mark/Documents/Projects/temp/fhir-spl/input/fsh/Operations.fsh (00:00.0596)
Sushi: Line: 1 - 27                                                              (00:00.0597)
Sushi: error BigInt is not defined                                               (00:00.0598)
Sushi: File: /home/mark/Documents/Projects/temp/fhir-spl/input/fsh/ProductSubmissionLogicalModel.fsh (00:00.0598)
Sushi: Line: 1 - 328                                                             (00:00.0599)
Sushi: info  Imported 32 definitions and 18 instances.                           (00:00.0601)
Sushi: info  Checking local cache for hl7.fhir.r4.core#4.0.1...                  (00:00.0602)
Sushi: info  Found hl7.fhir.r4.core#4.0.1 in local cache.                        (00:00.0980)
Sushi: info  Loaded package hl7.fhir.r4.core#4.0.1                               (00:00.0981)
Sushi: info  Converting FSH to FHIR resources...                                 (00:01.0035)
Sushi: info  Converted 23 FHIR StructureDefinitions.                             (00:01.0921)
Sushi: info  Converted 2 FHIR CodeSystems.                                       (00:01.0953)
Sushi: info  Converted 7 FHIR ValueSets.                                         (00:02.0017)
Sushi: info  Converted 18 FHIR instances.                                        (00:02.0473)
Sushi: info  Exporting FHIR resources as JSON...                                 (00:02.0473)
Sushi: info  Exported 50 FHIR resources as JSON.                                 (00:02.0523)
Sushi: info  Assembling Implementation Guide sources...                          (00:02.0523)
Sushi: error Group LogicalModel configured with nonexistent resource StructureDefinition/LabelerCodeRequestLogicalModel (00:02.0525)
Sushi: error Group LogicalModel configured with nonexistent resource StructureDefinition/EstablishmentRegistrationLogicalModel (00:02.0526)
Sushi: error Group LogicalModel configured with nonexistent resource StructureDefinition/GDUFAFacilityIdentificationLogicalModel (00:02.0526)
Sushi: error Group LogicalModel configured with nonexistent resource StructureDefinition/ProductSubmissionDocumentLogicalModel (00:02.0526)
Sushi: error Group Operations configured with nonexistent resource OperationDefinition/processOrganizationBundle (00:02.0526)
Sushi: info  Generated ImplementationGuide-hl7.fhir.us.spl.json                  (00:02.0529)
Sushi: info  Assembled Implementation Guide sources; ready for IG Publisher.     (00:02.0530)
Sushi:                                                                           (00:02.0530)
Sushi: ========================= SUSHI RESULTS ===========================       (00:02.0530)
Sushi: |  -------------------------------------------------------------  |       (00:02.0531)
Sushi: | | Profiles | Extensions | ValueSets | CodeSystems | Instances | |       (00:02.0531)
Sushi: | |-------------------------------------------------------------| |       (00:02.0531)
Sushi: | |    19    |     4      |     7     |      2      |    18     | |       (00:02.0532)
Sushi: |  -------------------------------------------------------------  |       (00:02.0532)
Sushi: |                                                                 |       (00:02.0532)
Sushi: ===================================================================       (00:02.0533)
Sushi: | Some-fin went wrong...                 10 Errors     0 Warnings |       (00:02.0533)
Sushi: ===================================================================       (00:02.0533)
Sushi couldn't be run. Complete output from running Sushi :                      (00:02.0539)
Note: Check that Sushi is installed correctly ("npm install -g fsh-sushi". On windows, get npm from https://www.npmjs.com/get-npm) (00:02.0539)
Exception: Process exited with an error: 10 (Exit value: 10)                     (00:02.0539)
Publishing Content Failed: Process exited with an error: 10 (Exit value: 10)     (00:02.0540)
                                                                                 (00:02.0540)
Use -? to get command line help                                                  (00:02.0540)
                                                                                 (00:02.0540)
Stack Dump (for debugging):                                                      (00:02.0540)
org.apache.commons.exec.ExecuteException: Process exited with an error: 10 (Exit value: 10)
    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)
    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)
    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)
    at org.hl7.fhir.igtools.publisher.Publisher.runFsh(Publisher.java:1567)
    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1451)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:726)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8424)
</code></pre></div>



<a name="231090556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090556">(Mar 19 2021 at 21:11)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span></p>



<a name="231090563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090563">(Mar 19 2021 at 21:11)</a>:</h4>
<p>any idea why this is happening</p>



<a name="231090597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090597">(Mar 19 2021 at 21:11)</a>:</h4>
<p>Sushi is installed</p>



<a name="231090951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231090951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231090951">(Mar 19 2021 at 21:14)</a>:</h4>
<p>no, BigInt isn't in those files, so this seems like a SUSHI bug.  I'd suggest to reinstall sushi?</p>



<a name="231091147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231091147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231091147">(Mar 19 2021 at 21:15)</a>:</h4>
<p>will try</p>



<a name="231091149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231091149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231091149">(Mar 19 2021 at 21:15)</a>:</h4>
<p>Here is a guide that doesn't have logical models, not sure if that will bypass this error: <a href="https://github.com/bcgov/moh-plr-fhir">https://github.com/bcgov/moh-plr-fhir</a></p>



<a name="231091253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231091253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231091253">(Mar 19 2021 at 21:16)</a>:</h4>
<p>It's also happening on the <a href="https://github.com/HL7/fhir-subscription-backport-ig">Subscription Backport IG</a>, which is fairly simple.</p>



<a name="231091567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231091567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231091567">(Mar 19 2021 at 21:19)</a>:</h4>
<p>quick question, does sushi work on linux</p>



<a name="231091619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231091619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231091619">(Mar 19 2021 at 21:20)</a>:</h4>
<p>yep</p>



<a name="231091632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231091632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231091632">(Mar 19 2021 at 21:20)</a>:</h4>
<p>kk</p>



<a name="231091643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231091643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231091643">(Mar 19 2021 at 21:20)</a>:</h4>
<p>wanted to make sure</p>



<a name="231092519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231092519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231092519">(Mar 19 2021 at 21:30)</a>:</h4>
<p>Yeah, that code all got added on March 2nd.  The problem is that the list of valid type codes is only String.  In the snapshots that are being created, we have the following declaration of type:</p>
<div class="codehilite"><pre><span></span><code>        &quot;type&quot;: [
          {
            &quot;extension&quot;: [
              {
                &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type&quot;,
                &quot;valueUrl&quot;: &quot;uri&quot;
              }
            ],
            &quot;code&quot;: &quot;http://hl7.org/fhirpath/System.String&quot;
          }
        ],
</code></pre></div>
<p>The validation uses this where the type is declared as fhirpath/System.String.  That is actually incorrect.  It should be "<a href="http://hl7.org/fhir/data-types/uri">http://hl7.org/fhir/data-types/uri</a>".</p>
<p>This leads me to believe that the bug is not necessarily in this new validation routine but in the snapshot generation which is putting the wrong type for this element.</p>



<a name="231092921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231092921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231092921">(Mar 19 2021 at 21:34)</a>:</h4>
<p>I think the issue is that the code isn't doing camel-casing properly.  It should be looking for fixedUri rather than fixeduri</p>



<a name="231093086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231093086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231093086">(Mar 19 2021 at 21:36)</a>:</h4>
<p>i'm not sure that an earlier report about changing it to uri wasn't a red herring.  Here's the code where it builds up the valid set of types:</p>
<div class="codehilite"><pre><span></span><code>    List&lt;Element&gt; types = element.getChildrenByName(&quot;type&quot;);
    Set&lt;String&gt; typeCodes = new HashSet&lt;&gt;();
    for (Element type : types) {
      if (hasMustSupportExtension(type)) {
        typeMustSupport = true;
      }
      typeCodes.add(type.getChildValue(&quot;code&quot;));
      // check the stated profile - must be a constraint on the type
      if (snapshot || sd != null) {
        validateElementType(errors, type, stack.push(type, -1, null, null), sd, element.getChildValue(&quot;path&quot;));
      }
    }
</code></pre></div>
<p>It's just looking at element.type.code.</p>



<a name="231093226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231093226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231093226">(Mar 19 2021 at 21:37)</a>:</h4>
<p>That totally fits with the error message: The element Extension.url has a fixed of type uri, which is not in the list of allowed types ([http://hl7.org/fhirpath/System.String])</p>
<p>The only value in the typeCode array is System.String because that's exactly what the snapshot says it can be.  So fixedUri isn't allowed.  fixedSystem.String would be :)</p>



<a name="231093421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231093421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231093421">(Mar 19 2021 at 21:39)</a>:</h4>
<p>Extension.url has a type of 'uri' - so why is the list of allowed types only String?</p>



<a name="231093504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231093504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231093504">(Mar 19 2021 at 21:40)</a>:</h4>
<p>look up in the chat.  because the snapshot is saying that it's type is [http://hl7.org/fhirpath/System.String]</p>



<a name="231093548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231093548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231093548">(Mar 19 2021 at 21:40)</a>:</h4>
<p>So it's a snapshot generation issue?</p>



<a name="231093561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231093561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231093561">(Mar 19 2021 at 21:40)</a>:</h4>
<p>yes, I think this is actually a bug in snapshot generation</p>



<a name="231094863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231094863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231094863">(Mar 19 2021 at 21:53)</a>:</h4>
<p>yeah, I manually changed the generated structure definition from "<a href="http://hl7.org/fhirpath/System.String">http://hl7.org/fhirpath/System.String</a>" to "string" or "uri" and then ran the validator and it passed.</p>



<a name="231095059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231095059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231095059">(Mar 19 2021 at 21:55)</a>:</h4>
<p>I'm not sure why the snapshot generation is putting both "string" and "uri" to "<a href="http://hl7.org/fhirpath/System.String">http://hl7.org/fhirpath/System.String</a>".  There might be a reason for that.  But if there is, the validator code that checks types doesn't recognize it.</p>



<a name="231095061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231095061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231095061">(Mar 19 2021 at 21:55)</a>:</h4>
<p>so explain to me exactly what would need to be changed here</p>



<a name="231095128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231095128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231095128">(Mar 19 2021 at 21:56)</a>:</h4>
<p>when the generation happens you want uri's to be labelled as Strings?</p>



<a name="231095175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231095175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231095175">(Mar 19 2021 at 21:56)</a>:</h4>
<p>well, I think the easiest solution is to comment out lines 152-162 in the StructureDefinitionValidator.  I'm loathe to change the snapshot generator without knowing why it's spitting out <a href="http://hl7.org/fhirpath/System.String">http://hl7.org/fhirpath/System.String</a>.</p>



<a name="231095310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231095310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231095310">(Mar 19 2021 at 21:58)</a>:</h4>
<p>okay, i can make that change in the validator for now, and then tag Grahame to actually figure out what is going on when he is back from being sick</p>



<a name="231095367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231095367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231095367">(Mar 19 2021 at 21:58)</a>:</h4>
<p>exactly.  Can you point me to the code that does snapshot generation?  I can look into that and see if I can see why it's doing what it is doing.</p>



<a name="231095377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231095377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231095377">(Mar 19 2021 at 21:58)</a>:</h4>
<p>I will have to run the full test suite to make sure I don' mess up anythig</p>



<a name="231095387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231095387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231095387">(Mar 19 2021 at 21:58)</a>:</h4>
<p>give me a bit</p>



<a name="231097464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231097464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231097464">(Mar 19 2021 at 22:19)</a>:</h4>
<p>PR here: <a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/465">https://github.com/hapifhir/org.hl7.fhir.core/pull/465</a></p>



<a name="231098480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231098480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231098480">(Mar 19 2021 at 22:31)</a>:</h4>
<p>pardon my ignorance, but what is the process to move from the pull request to getting out a new release of the publisher?</p>



<a name="231100108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100108">(Mar 19 2021 at 22:48)</a>:</h4>
<p>lots of pipelines</p>



<a name="231100113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100113">(Mar 19 2021 at 22:48)</a>:</h4>
<p>I will detail shortly</p>



<a name="231100260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100260">(Mar 19 2021 at 22:50)</a>:</h4>
<p>Phrased a different way - <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> do you expect to push out a new version of the publisher incorporating that rollback "soon-ish"?</p>



<a name="231100266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100266">(Mar 19 2021 at 22:50)</a>:</h4>
<p>:)</p>



<a name="231100285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100285">(Mar 19 2021 at 22:50)</a>:</h4>
<p>Version 5.3.6 of the core libraries will have this fix, the pipeline running the job is here: <a href="https://dev.azure.com/fhir-pipelines/fhir-core-library/_build/results?buildId=2855&amp;view=results">https://dev.azure.com/fhir-pipelines/fhir-core-library/_build/results?buildId=2855&amp;view=results</a></p>



<a name="231100305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100305">(Mar 19 2021 at 22:50)</a>:</h4>
<p>this will take 45ish min to release</p>



<a name="231100319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100319">(Mar 19 2021 at 22:50)</a>:</h4>
<p>once that is completed, I will need to release the IG publisher</p>



<a name="231100394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100394">(Mar 19 2021 at 22:51)</a>:</h4>
<p>The current version of the IG publisher is 1.1.63, these changes will be released in IG publisher 1.1.64</p>



<a name="231100530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100530">(Mar 19 2021 at 22:53)</a>:</h4>
<p>if everything works this should all be done in a couple hours</p>



<a name="231100541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231100541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231100541">(Mar 19 2021 at 22:53)</a>:</h4>
<p>takes time to upload and run all the tests and such</p>



<a name="231107449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231107449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231107449">(Mar 20 2021 at 00:14)</a>:</h4>
<p>The latest build is live</p>



<a name="231107465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231107465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231107465">(Mar 20 2021 at 00:15)</a>:</h4>
<p>v1.1.64 is available to download here: <a href="https://github.com/HL7/fhir-ig-publisher/releases/tag/1.1.64">https://github.com/HL7/fhir-ig-publisher/releases/tag/1.1.64</a></p>



<a name="231107497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/231107497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#231107497">(Mar 20 2021 at 00:15)</a>:</h4>
<p>please let me know if there is an issue</p>



<a name="232384256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232384256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232384256">(Mar 30 2021 at 07:21)</a>:</h4>
<p>this is properly working the latest validator now</p>



<a name="232385206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232385206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232385206">(Mar 30 2021 at 07:30)</a>:</h4>
<p>Did you fix the snapshot generation code?  We have an R5 ticket that has the same symptoms that caused this validation error.</p>



<a name="232482604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232482604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232482604">(Mar 30 2021 at 19:23)</a>:</h4>
<p>no the problem was in the validator.</p>



<a name="232487209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232487209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232487209">(Mar 30 2021 at 19:55)</a>:</h4>
<p>really?  Because we have a JIRA issues that seems related:<br>
<a href="http://jira.hl7.org/browse/FHIR-28586">FHIR-28586</a>: unsignedInt.value has a type.code of System.String</p>
<div class="codehilite"><pre><span></span><code>    {
      &quot;id&quot; : &quot;unsignedInt.value&quot;,
      &quot;path&quot; : &quot;unsignedInt.value&quot;,
      &quot;representation&quot; : [&quot;xmlAttr&quot;],
      &quot;short&quot; : &quot;Primitive value for unsignedInt&quot;,
      &quot;definition&quot; : &quot;Primitive value for unsignedInt&quot;,
      &quot;min&quot; : 0,
      &quot;max&quot; : &quot;1&quot;,
      &quot;type&quot; : [{
        &quot;extension&quot; : [{
          &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type&quot;,
          &quot;valueUri&quot; : &quot;unsignedInt&quot;
        },
        {
          &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/regex&quot;,
          &quot;valueString&quot; : &quot;[0]|([1-9][0-9]*)&quot;
        }],
        &quot;code&quot; : &quot;http://hl7.org/fhirpath/System.String&quot;
      }
</code></pre></div>
<p>Do you know why the snapshot generation is putting System.String here?</p>



<a name="232504284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232504284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232504284">(Mar 30 2021 at 21:58)</a>:</h4>
<p>for what version?</p>



<a name="232504508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232504508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232504508">(Mar 30 2021 at 22:00)</a>:</h4>
<p>that's currently in R5</p>



<a name="232504612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232504612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232504612">(Mar 30 2021 at 22:00)</a>:</h4>
<p>oh. not an IG issue?</p>



<a name="232506231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232506231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232506231">(Mar 30 2021 at 22:14)</a>:</h4>
<p>that's not an IG issue but it looked the same as the error we saw in the IGs</p>



<a name="232516386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232516386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232516386">(Mar 31 2021 at 00:02)</a>:</h4>
<p>yes it should be System.Integer not System.String</p>



<a name="232519997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232519997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232519997">(Mar 31 2021 at 00:49)</a>:</h4>
<p>right.  do you know where this gets created?  Marc and I couldn't see it, so I assigned the issue to you.  If it's something you can point me to, i.e. not some snapshot generation code, then I'll take it back</p>



<a name="232520654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232520654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232520654">(Mar 31 2021 at 00:59)</a>:</h4>
<p>it's in code, that one. Just found it. I'll commit it now but it won't be released for a few days</p>



<a name="232520772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232520772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232520772">(Mar 31 2021 at 01:00)</a>:</h4>
<p>thanks.  i'll mark the issue as applied.</p>



<a name="232522053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/BUG%3A%20The%20element%20Extension.url%20has%20a%20fixed%20of%20type%20uri/near/232522053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/BUG.3A.20The.20element.20Extension.2Eurl.20has.20a.20fixed.20of.20type.20uri.html#232522053">(Mar 31 2021 at 01:21)</a>:</h4>
<p><a href="https://github.com/HL7/kindling/pull/12">https://github.com/HL7/kindling/pull/12</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
