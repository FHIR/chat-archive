---
layout: page
title: "FHIR Chat  · Validation of messages and operations · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html">Validation of messages and operations</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="275201698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275201698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275201698">(Mar 14 2022 at 07:39)</a>:</h4>
<p>More what is the best approach?</p>
<p>Should we lean on profiles or rely more on OperationDefinition and MessageDefinition resources.</p>
<p>For FHIR Messages I've already gone down the route of extending validation to use MessageDefinition (to check the focused resources are following the profile specified in the message definition).<br>
I'm looking at extending this to operations and if a Parameters resource is present, this should have the OperationDefinition and that needs to be followed. </p>
<p>I think I'd rather not have both profiles and Message/Operation Definition with similar rules which allows them to get out of step.</p>



<a name="275241506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275241506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275241506">(Mar 14 2022 at 14:16)</a>:</h4>
<p>OperationDefinition and MessageDefinition don't really validate instances, they validate interface behavior.  I would definitely expect to have a profile (or, for messages, GraphDefinition) that defines the content.  (I was unsuccessful in stripping the parameters from OperationDefinition and having them defined exclusively in StructureDefinition.)</p>



<a name="275331532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275331532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275331532">(Mar 15 2022 at 05:33)</a>:</h4>
<p>I'll take a look. I think it's possible to create a <code>profile on the fly</code> from the OperationDefinition and use that for testing. <br>
I don't like the idea of documenting twice - one for testing (profile) and another for documentation. They can easily get out of step.</p>



<a name="275331884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275331884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275331884">(Mar 15 2022 at 05:40)</a>:</h4>
<p>The main issue around that is</p>
<p><a href="/user_uploads/10155/BZ7SqO-K0B9VBMYbj3QIpc70/Screenshot-2022-03-15-at-05.38.52.png">Screenshot-2022-03-15-at-05.38.52.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/BZ7SqO-K0B9VBMYbj3QIpc70/Screenshot-2022-03-15-at-05.38.52.png" title="Screenshot-2022-03-15-at-05.38.52.png"><img src="/user_uploads/10155/BZ7SqO-K0B9VBMYbj3QIpc70/Screenshot-2022-03-15-at-05.38.52.png"></a></div><p>if type is a Resource, then would want to specify a profile. This constraint prevents that.</p>



<a name="275332073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275332073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275332073">(Mar 15 2022 at 05:45)</a>:</h4>
<p>one reason it's not a profile per se is that the parameters can be in HTTP formats, not a parameters resource</p>



<a name="275332139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275332139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275332139">(Mar 15 2022 at 05:46)</a>:</h4>
<p>I could extend the validator to validate an HTTP request/response against an OperationDefinition</p>



<a name="275335108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275335108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275335108">(Mar 15 2022 at 06:47)</a>:</h4>
<p>Fingers crossed - we may be able to help with that.</p>



<a name="275370375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275370375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275370375">(Mar 15 2022 at 13:11)</a>:</h4>
<p>Even if they can be passed in the URL, you might still need the capabilities of profile to fully define what's going on.  There are a whole bunch of constraints that ElementDefinition allows that OperationDefinition doesn't.</p>



<a name="275427146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Validation%20of%20messages%20and%20operations/near/275427146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Validation.20of.20messages.20and.20operations.html#275427146">(Mar 15 2022 at 19:56)</a>:</h4>
<p>but there are also things going on that StructureDefinition doesn't deal with</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
