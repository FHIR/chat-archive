---
layout: page
title: "FHIR Chat  · Valueset include.filter extending beyond its .include · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html">Valueset include.filter extending beyond its .include</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204858608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/204858608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David deRoode <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#204858608">(Jul 23 2020 at 22:02)</a>:</h4>
<p>My Valueset is</p>
<div class="codehilite"><pre><span></span><code>  &lt;compose&gt;
        &lt;include&gt;
            &lt;system value=&quot;http://hl7.org/fhir/sid/icd-10-cm&quot;/&gt;
        &lt;/include&gt;
        &lt;include&gt;
            &lt;system value=&quot;http://loinc.org&quot;/&gt;
        &lt;/include&gt;
        &lt;include&gt;
            &lt;system value=&quot;http://www.ada.org/snodent&quot;/&gt;
            &lt;filter&gt;
                &lt;property value=&quot;parent&quot;/&gt;
                &lt;op value=&quot;=&quot;/&gt;
                &lt;value value=&quot;165877D&quot;/&gt;
            &lt;/filter&gt;
            &lt;filter&gt;
                &lt;property value=&quot;parent&quot;/&gt;
                &lt;op value=&quot;=&quot;/&gt;
                &lt;value value=&quot;165733D&quot;/&gt;
            &lt;/filter&gt;
        &lt;/include&gt;
        &lt;include&gt;
            &lt;system value=&quot;http://snomed.info/sct&quot;/&gt;
            &lt;filter&gt;
                &lt;property value=&quot;parent&quot;/&gt;
                &lt;op value=&quot;=&quot;/&gt;
                &lt;value value=&quot;404684003&quot;/&gt;
            &lt;/filter&gt;
            &lt;filter&gt;
                &lt;property value=&quot;parent&quot;/&gt;
                &lt;op value=&quot;=&quot;/&gt;
                &lt;value value=&quot;243796009&quot;/&gt;
            &lt;/filter&gt;
        &lt;/include&gt;
    &lt;/compose&gt;
</code></pre></div>


<p>And example</p>
<div class="codehilite"><pre><span></span><code>        &lt;coding&gt;
            &lt;system value=&quot;http://loinc.org&quot;/&gt;
            &lt;code value=&quot;32916-9&quot;/&gt;
            &lt;display value=&quot;Horizontal overlap [Length] Maxilla and Mandible Measured&quot;/&gt;
        &lt;/coding&gt;
</code></pre></div>


<p>And am getting "The filter "parent = 404684003" was not understood in the context of <a href="http://snomed.info/sct">http://snomed.info/sct</a>". </p>
<p>The publisher appears to be applying/checking filters across all includes.</p>



<a name="204858903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/204858903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#204858903">(Jul 23 2020 at 22:05)</a>:</h4>
<p>the message is correct because "parent" isn't a property of SNOMED.  the filter shouldn't be "parent = xxx" but rather "concept descendent-of xxx" (or "is-a" if you want to include the parent code itself</p>



<a name="204859278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/204859278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David deRoode <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#204859278">(Jul 23 2020 at 22:10)</a>:</h4>
<p>Thanks Jean, that makes sense and has resolved the issue. Thanks for the clarity</p>



<a name="204859418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/204859418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#204859418">(Jul 23 2020 at 22:12)</a>:</h4>
<p>you're welcome.  btw, i responded so quickly because I keep hitting my head against that same issue when I'm define SNOMED subsets.  If too much time passes between my writing up definitions, I forget that "parent" isn't in SNOMED's concepts.</p>



<a name="204859980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/204859980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David deRoode <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#204859980">(Jul 23 2020 at 22:19)</a>:</h4>
<p>Though, now I'm getting "The filter "descendent-of = 404684003" was not understood in the context of <a href="http://snomed.info/sct">http://snomed.info/sct</a>". But my example file uses a LOINC code/system, and LOINC in my valueset has no filter</p>



<a name="204860072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/204860072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#204860072">(Jul 23 2020 at 22:20)</a>:</h4>
<p>yes, but the problem is the filter on your SNOMED codesystem<br>
Your filter should look like this:</p>
<div class="codehilite"><pre><span></span><code>            &lt;filter&gt;
                &lt;property value=&quot;concept&quot;/&gt;
                &lt;op value=&quot;descendent-of&quot;/&gt;
                &lt;value value=&quot;404684003&quot;/&gt;
            &lt;/filter&gt;
</code></pre></div>



<a name="204860289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/204860289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David deRoode <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#204860289">(Jul 23 2020 at 22:23)</a>:</h4>
<p>Oh, I'm following now. Looks like we're error free now. And identified a tooling bug. Thanks again</p>



<a name="205305275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205305275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David deRoode <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205305275">(Jul 29 2020 at 00:04)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> Just curious, which IG uses the decedent-of valueset? Wondering if different error might be related to descendant-of in snodent</p>



<a name="205305442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205305442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205305442">(Jul 29 2020 at 00:07)</a>:</h4>
<p>unfortunately not a public domain IG</p>



<a name="205309731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205309731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205309731">(Jul 29 2020 at 01:34)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> do you get an expansion for your intensional value set?</p>
<p>We are getting: "This value set contains 0 concepts"</p>



<a name="205309774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205309774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205309774">(Jul 29 2020 at 01:35)</a>:</h4>
<p><a href="/user_uploads/10155/jk4IiCuOLi0tqPaK2AGsZ7zE/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/jk4IiCuOLi0tqPaK2AGsZ7zE/image.png" title="image.png"><img src="/user_uploads/10155/jk4IiCuOLi0tqPaK2AGsZ7zE/image.png"></a></div>



<a name="205312500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205312500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205312500">(Jul 29 2020 at 02:33)</a>:</h4>
<p>where is this?</p>



<a name="205312608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205312608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205312608">(Jul 29 2020 at 02:35)</a>:</h4>
<p>It was here: <a href="https://build.fhir.org/ig/HL7/dental-data-exchange/branches/master/ValueSet-dental-observation-codes.html">https://build.fhir.org/ig/HL7/dental-data-exchange/branches/master/ValueSet-dental-observation-codes.html</a> <br>
But I added back the includes for SNODENT terms and the whole LOINC code system so now don't get that as it can't expand it "No Expansion for this valueset (not supported by Publication Tooling)". I'm assuming that's because of SNODENT.</p>



<a name="205312671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205312671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205312671">(Jul 29 2020 at 02:37)</a>:</h4>
<p>not sure</p>



<a name="205317285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205317285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205317285">(Jul 29 2020 at 04:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> Yes.<br>
<a href="/user_uploads/10155/-xNgVvN_opMUPSuwOcbk2c24/Screen-Shot-2020-07-28-at-10.26.33-PM.png">Screen-Shot-2020-07-28-at-10.26.33-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/-xNgVvN_opMUPSuwOcbk2c24/Screen-Shot-2020-07-28-at-10.26.33-PM.png" title="Screen-Shot-2020-07-28-at-10.26.33-PM.png"><img src="/user_uploads/10155/-xNgVvN_opMUPSuwOcbk2c24/Screen-Shot-2020-07-28-at-10.26.33-PM.png"></a></div>



<a name="205317293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205317293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205317293">(Jul 29 2020 at 04:27)</a>:</h4>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;ValueSet&quot;,
  &quot;status&quot;: &quot;active&quot;,
  &quot;name&quot;: &quot;TestEncounterType&quot;,
  &quot;id&quot;: &quot;Test-SNOMED-EncounterType&quot;,
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;url&quot;: &quot;http://hl7.org/fhir/us/davinci-pas/ValueSet/Test-SNOMED-EncounterType&quot;,
  &quot;compose&quot;: {
    &quot;include&quot;: [
      {
        &quot;system&quot;: &quot;http://snomed.info/sct&quot;,
        &quot;filter&quot;: [
          {
            &quot;property&quot;: &quot;concept&quot;,
            &quot;op&quot;: &quot;descendent-of&quot;,
            &quot;value&quot;: &quot;308335008&quot;
          }
        ]
      }
    ]
  }
}
</code></pre></div>



<a name="205318941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Valueset%20include.filter%20extending%20beyond%20its%20.include/near/205318941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Valueset.20include.2Efilter.20extending.20beyond.20its.20.2Einclude.html#205318941">(Jul 29 2020 at 05:11)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="192166">@Jean Duteau</span> !</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
