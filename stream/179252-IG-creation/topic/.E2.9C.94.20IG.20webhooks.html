---
layout: page
title: "FHIR Chat  · ✔ IG webhooks · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html">✔ IG webhooks</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="264458083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264458083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264458083">(Dec 10 2021 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I'm getting an HTTP 500 and the message <code>Error: could not handle the request</code> after having added the IG Webhook to a range of my new IG's (eg. ). Could it be because they currently only have the <code>main</code> branch and not a <code>master</code> ?</p>



<a name="264458908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264458908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264458908">(Dec 10 2021 at 15:02)</a>:</h4>
<p>Nvm - that was actually the cause... You might wanna add that to the <a href="https://github.com/FHIR/auto-ig-builder">https://github.com/FHIR/auto-ig-builder</a> that the main branch <em>must</em> be named master</p>



<a name="264459714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264459714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264459714">(Dec 10 2021 at 15:06)</a>:</h4>
<p>Interesting,  We have talked through some of the plans required to overcome this limitation here, but I don't remember having an issue with the initial web hook as part of those plans.</p>



<a name="264460178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264460178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264460178">(Dec 10 2021 at 15:09)</a>:</h4>
<p>In any case, I have updated the guidance with a note <a href="https://github.com/FHIR/auto-ig-builder/commit/3fc7987d503eeecb1d6d111eca3eb05f3414b389">https://github.com/FHIR/auto-ig-builder/commit/3fc7987d503eeecb1d6d111eca3eb05f3414b389</a></p>



<a name="264462641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264462641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lynn Laakso <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264462641">(Dec 10 2021 at 15:26)</a>:</h4>
<p>(deleted)</p>



<a name="264498130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264498130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264498130">(Dec 10 2021 at 19:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> has marked this topic as resolved.</p>



<a name="264498213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264498213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264498213">(Dec 10 2021 at 19:43)</a>:</h4>
<p>but that can't be true - there are plenty of IGs running through the autobuilder that use main not master</p>



<a name="264543026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264543026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264543026">(Dec 11 2021 at 05:31)</a>:</h4>
<p>Not that publish on the IG-builder without pushing to master</p>



<a name="264543033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264543033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264543033">(Dec 11 2021 at 05:31)</a>:</h4>
<p>You can publish a 'branch' using 'main', but not the root CI-build folder</p>



<a name="264553279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264553279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264553279">(Dec 11 2021 at 09:52)</a>:</h4>
<p>Yep - agree with <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> here. You can very easily test it by creating a new repo (defaults to 'main' branch) and throw a webhook at it.</p>



<a name="264553294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264553294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264553294">(Dec 11 2021 at 09:52)</a>:</h4>
<p>Then you'll see that it fails</p>



<a name="264553379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/264553379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#264553379">(Dec 11 2021 at 09:54)</a>:</h4>
<p>And this is the default experience (until <span class="user-mention" data-user-id="191315">@Josh Mandel</span>  updated the doc)</p>



<a name="270976907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/270976907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmytro Rud <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#270976907">(Feb 07 2022 at 13:24)</a>:</h4>
<p>Which other reasons may lead to HTTP status code 500?  The branch is called "master" and is the only branch in the repository.  Unfortunately, the error message "Error: could not handle the request" does not allow me to understand what shall be fixed.</p>



<a name="271000514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271000514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmytro Rud <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271000514">(Feb 07 2022 at 16:06)</a>:</h4>
<p>Ok, in my case, the error occurred because the value of the parameter <code>name</code> in sushi-config.yaml was not suitable for an identifier.</p>



<a name="271009469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271009469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271009469">(Feb 07 2022 at 17:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191870">@Dmytro Rud</span> that woud normally be trapped with a local build, no? Did you try to run locally?</p>



<a name="271009936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271009936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmytro Rud <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271009936">(Feb 07 2022 at 17:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> Sure, I ran the build locally multiple times.  There was no error, no warning in the console, but a warning on the QA page.</p>



<a name="271010206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271010206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271010206">(Feb 07 2022 at 17:11)</a>:</h4>
<p>Can you clarify where you're seeing this error (on what repo, and what the POST body looked like)?</p>



<a name="271011131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271011131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmytro Rud <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271011131">(Feb 07 2022 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <br>
Repository: <a href="https://github.com/ehealthsuisse/ch-epr-ppqm">https://github.com/ehealthsuisse/ch-epr-ppqm</a><br>
Failed delivery log: see attached <a href="/user_uploads/10155/jwZSyGx_9OUmUywlcuCwfCsX/delivery.txt">delivery.txt</a></p>



<a name="271012892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271012892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271012892">(Feb 07 2022 at 17:30)</a>:</h4>
<p>I see a header in your delivery.txt with:</p>
<div class="codehilite"><pre><span></span><code>X-GitHub-Event: ping
</code></pre></div>

<p>... which is not expected. Can you confrim that you've selected "Just the push" and followed other instructions at <a href="https://github.com/fhir/auto-ig-builder#quick-start-guide">https://github.com/fhir/auto-ig-builder#quick-start-guide</a> ?</p>
<p>i.e. your config should show:<br>
<a href="/user_uploads/10155/e2Vvsndour2jT35fTuOA_n9V/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/e2Vvsndour2jT35fTuOA_n9V/image.png" title="image.png"><img src="/user_uploads/10155/e2Vvsndour2jT35fTuOA_n9V/image.png"></a></div>



<a name="271013797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271013797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmytro Rud <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271013797">(Feb 07 2022 at 17:36)</a>:</h4>
<p>Yes, I confirm this.  The header is probably because I clicked on the "Redeliver" button on GitHub.  Please see attached the log of the previous (original) delivery: <a href="/user_uploads/10155/k6HLx_3lf5vmSJZlEjaB-oBg/delivery1.txt">delivery1.txt</a>.</p>



<a name="271025586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271025586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271025586">(Feb 07 2022 at 18:56)</a>:</h4>
<p>The txt file you included again has</p>
<div class="codehilite"><pre><span></span><code>X-GitHub-Event: ping
</code></pre></div>



<a name="271025630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271025630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271025630">(Feb 07 2022 at 18:57)</a>:</h4>
<p>This indicates an unexpected event notification</p>



<a name="271027849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271027849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmytro Rud <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271027849">(Feb 07 2022 at 19:12)</a>:</h4>
<p>Sorry, don't know how to improve this.  Webhook configuration:<br>
<a href="/user_uploads/10155/dTW7IdDnQ0NjYRjXTItWKEqW/image.png">image.png</a><br>
Payload of the both requests:</p>
<div class="message_inline_image"><a href="/user_uploads/10155/dTW7IdDnQ0NjYRjXTItWKEqW/image.png" title="image.png"><img src="/user_uploads/10155/dTW7IdDnQ0NjYRjXTItWKEqW/image.png"></a></div><div class="codehilite"><pre><span></span><code>    &quot;events&quot;: [
      &quot;push&quot;
    ],
</code></pre></div>



<a name="271035976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271035976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271035976">(Feb 07 2022 at 20:15)</a>:</h4>
<p>And when you actually do push to the repo, what notification log do you see?</p>



<a name="271036097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271036097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271036097">(Feb 07 2022 at 20:16)</a>:</h4>
<p>If you want to share access with me (<code>jmandel</code>) I can attempt to diagnose.</p>



<a name="271055624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271055624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmytro Rud <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271055624">(Feb 07 2022 at 22:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> Thank you, the problem was solved by fixing the attribute <code>name</code> in sushi-config.yaml.</p>



<a name="271055722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20IG%20webhooks/near/271055722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20IG.20webhooks.html#271055722">(Feb 07 2022 at 22:57)</a>:</h4>
<p>Hmm, I don't see how that could affect the initial webhook invocation's response status, since the sush-config contents aren't  part of the webhook invocation. But glad you've got this working now.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
