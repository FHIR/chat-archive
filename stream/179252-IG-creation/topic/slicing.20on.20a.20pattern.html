---
layout: page
title: "FHIR Chat  · slicing on a pattern · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20a.20pattern.html">slicing on a pattern</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159282648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20a%20pattern/near/159282648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20a.20pattern.html#159282648">(Feb 24 2019 at 16:50)</a>:</h4>
<p>I cannot not find any examples on the FHIR web site how to syntactically setup slicing using a pattern. This seems like a way to slice on a value set when one value set has one set of codes and the other has another set of codes, but both value sets come from the same code system. But I do not how to further setup a slicing when I indicate &lt;type value="pattern" /&gt;. I guess this is very rarely used.</p>
<p>So far this is the best I have found:</p>
<p><a href="https://www.hl7.org/fhir/structuredefinition-example-composition.xml.html" target="_blank" title="https://www.hl7.org/fhir/structuredefinition-example-composition.xml.html">https://www.hl7.org/fhir/structuredefinition-example-composition.xml.html</a><br>
<code>      &lt;patternCodeableConcept&gt; 
        &lt;coding&gt; 
          &lt;system value="http://loinc.org"/&gt; 
          &lt;code value="18776-5"/&gt; 
          &lt;display value="Plan of treatment (narrative)"/&gt; 
        &lt;/coding&gt; 
      &lt;/patternCodeableConcept&gt; </code></p>
<p>However its not clear to me what my options are. Can I use a value set somehow since the value set identifies the list of codes? It would be a pain to copy all of those codes into this list and then remember to update it when the value set gets updated.</p>



<a name="159306323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20a%20pattern/near/159306323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20a.20pattern.html#159306323">(Feb 25 2019 at 01:44)</a>:</h4>
<p>slice on pattern is used a lot.   And the example is how is typically used.   pattern is like fixed for a complex datatype.  If you want to use a value set then slice by valueset?</p>



<a name="159328157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20a%20pattern/near/159328157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Reinhold <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20a.20pattern.html#159328157">(Feb 25 2019 at 10:46)</a>:</h4>
<blockquote>
<p>slice on pattern is used a lot.   And the example is how is typically used.   pattern is like fixed for a complex datatype.  If you want to use a value set then slice by valueset?</p>
</blockquote>
<p>I DO want to slice on a value set. Can you tell me how to do that?</p>



<a name="159349617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20a%20pattern/near/159349617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20a.20pattern.html#159349617">(Feb 25 2019 at 16:17)</a>:</h4>
<p>Pattern doesn't let you slice by value set.  Pattern lets you say "the complex type I'm slicing on should match this pattern" - where the pattern is a set of fixed values for some of the elements.  None of them can be expressed with a valueset.  If you want to sliced with a value set, you have to slice by value.</p>



<a name="160006191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/slicing%20on%20a%20pattern/near/160006191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/slicing.20on.20a.20pattern.html#160006191">(Mar 05 2019 at 14:20)</a>:</h4>
<p>Regarding the example pattern above, I'd also add that profilers should be careful about including the <code>display</code> in a <code>patternCodeableConcept</code>.  If you do use <code>display</code>, the profile requires the instance data to contain that exact display value.  If you only care that it includes the necessary <code>system</code> and <code>code</code> (regardless of <code>display</code>), you should leave <code>display</code> out of the pattern.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
