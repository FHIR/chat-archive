---
layout: page
title: "FHIR Chat  · IG development in the cloud · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html">IG development in the cloud</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="256806360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/256806360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#256806360">(Oct 08 2021 at 21:09)</a>:</h4>
<p>Somewhat inspired by a recent thread on <a class="stream" data-stream-id="179280" href="/#narrow/stream/179280-fhir.2Finfrastructure-wg">#fhir/infrastructure-wg</a> and by some limitations that I'm running into with my development environment, I'm wondering if anyone is doing IG development in cloud containers? What I'm envisioning is putting a container in AWS that I can run the IG publisher in, along with Apache or similar pointing to the output directory, and then connecting to the container using VS Code remote development. (AWS only because I have a little experience, which is more than what I have on other platforms.)</p>



<a name="257000775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257000775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257000775">(Oct 11 2021 at 01:37)</a>:</h4>
<p>there's a docker somewhere</p>



<a name="257000781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257000781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257000781">(Oct 11 2021 at 01:37)</a>:</h4>
<p>and <span class="user-mention" data-user-id="191401">@Eric Haas</span> has been doing something like this for a long time</p>



<a name="257177224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257177224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257177224">(Oct 12 2021 at 09:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span>  I dont understand the question. Are you asking if the igpub can run in a container? If that is the question, the answer is: yes</p>



<a name="257177364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257177364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257177364">(Oct 12 2021 at 09:58)</a>:</h4>
<p>and if it can run in a container it can run basically everywhere - local and cloud</p>



<a name="257177414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257177414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257177414">(Oct 12 2021 at 09:59)</a>:</h4>
<p>and - yes, that is what I do</p>



<a name="257262929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257262929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257262929">(Oct 12 2021 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> , so, I know IG pub can run in a container, and have used the hl7fhir/ig-publisher-base image to do local development. I'm wondering about people who have experience using containers in the cloud. </p>
<p>My local system is resource constrained, so I'd like to run IG publisher elsewhere (running it in a container on my local machine just makes it more resource constrained). Ideally, I'd like to take advantage of VSCode's remote development capabilities that lets me locally edit the IG files on a remote system, and run the builds on the remote system. I've tried setting up an AWS EC2 instance (EC2 = a regular AWS VM) and doing development in it both directly, and running docker in the VM, and that works. But it seems to be an extra level of virtualization that I should be able to avoid. So, my vision is to set up an AWS ECS (AWS container service) container that I can connect to directly from VSCode. I think my issue is less running IG publisher in the container, and more about setting up the container parameters themselves.</p>
<p>I'll ping <span class="user-mention" data-user-id="191401">@Eric Haas</span> to see if he has any experience to share.</p>



<a name="257263762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257263762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257263762">(Oct 12 2021 at 20:04)</a>:</h4>
<p>I'll see if I can throw together an example of using  Codespaces for this (this is a github feature I've been using more and more in my daily development)</p>



<a name="257268258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257268258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257268258">(Oct 12 2021 at 20:37)</a>:</h4>
<p>I was looking at Codespaces briefly, but my impression is that it's limited to paid Github accounts.</p>



<a name="257271149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257271149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257271149">(Oct 12 2021 at 20:58)</a>:</h4>
<p>That's true, but same applies to cloud VMs, right?</p>



<a name="257271818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257271818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257271818">(Oct 12 2021 at 21:03)</a>:</h4>
<p>True, but I'm already set up with an AWS account, but not with a paid Github account.</p>



<a name="257271824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257271824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257271824">(Oct 12 2021 at 21:03)</a>:</h4>
<p>There's also a story where you can also run VS Code locally and connect to a container hosted in any cloud server of your choice (<a href="https://code.visualstudio.com/docs/remote/containers">https://code.visualstudio.com/docs/remote/containers</a>)</p>



<a name="257271906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257271906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257271906">(Oct 12 2021 at 21:04)</a>:</h4>
<p>That'd let you run a docker container on AWS and connect from your local VS Code.</p>



<a name="257271934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257271934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257271934">(Oct 12 2021 at 21:04)</a>:</h4>
<p>Anyway, I'll start with a self-contained example and see if it's any good.</p>



<a name="257272181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257272181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257272181">(Oct 12 2021 at 21:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> <a href="#narrow/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud/near/257271824">said</a>:</p>
<blockquote>
<p>There's also a story where you can also run VS Code locally and connect to a container hosted in any cloud server of your choice (<a href="https://code.visualstudio.com/docs/remote/containers">https://code.visualstudio.com/docs/remote/containers</a>)</p>
</blockquote>
<p>That's exactly where I was heading -- I just need to figure out how to set up the container in AWS.</p>



<a name="257273222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257273222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257273222">(Oct 12 2021 at 21:14)</a>:</h4>
<p>Sounds good; hopefully I'll have a working example of a container for you by the time you've got the AWS side of things set up.</p>



<a name="257277693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257277693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257277693">(Oct 12 2021 at 21:53)</a>:</h4>
<p><a href="https://github.com/jmandel/smart-app-launch/tree/master/.devcontainer">https://github.com/jmandel/smart-app-launch/tree/master/.devcontainer</a> has an example --</p>
<ul>
<li>you can add this same directory to your own project and update <a href="https://github.com/jmandel/smart-app-launch/blob/master/.devcontainer/devcontainer.json#L23">https://github.com/jmandel/smart-app-launch/blob/master/.devcontainer/devcontainer.json#L23</a> to use your project name instead of <code>smart-app-launch</code> (there's obviously work that'd make this easier; right now just trying to get the rough shape working)</li>
<li>this will be slow to create the container as it compiles ruby extensions right now (this'll easy to avoid by using a hosted docker image instead of re-building a Dockerfile every time)</li>
</ul>



<a name="257452134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257452134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257452134">(Oct 13 2021 at 23:00)</a>:</h4>
<p>I made a few improvements and put together a quick demo at <a href="https://youtu.be/4o9dDQM_zHA">https://youtu.be/4o9dDQM_zHA</a></p>
<div class="youtube-video message_inline_image"><a data-id="4o9dDQM_zHA" href="https://youtu.be/4o9dDQM_zHA"><img src="https://uploads.zulipusercontent.net/b33af986916845b10cf967da794fb72d7316c390/68747470733a2f2f692e7974696d672e636f6d2f76692f346f396444514d5f7a48412f64656661756c742e6a7067"></a></div>



<a name="257454995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257454995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257454995">(Oct 13 2021 at 23:28)</a>:</h4>
<p>This is great, we are also doing this with the CQL VSCode plugin using codespaces: <br>
<a href="/user_uploads/10155/BuXC7Pf4fPHDhSg_Jv_8nCpf/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/BuXC7Pf4fPHDhSg_Jv_8nCpf/image.png" title="image.png"><img src="/user_uploads/10155/BuXC7Pf4fPHDhSg_Jv_8nCpf/image.png"></a></div>



<a name="257455041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257455041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257455041">(Oct 13 2021 at 23:29)</a>:</h4>
<p>Here's the .devcontainer we're using: <a href="https://github.com/alphora/cqf-ccc/tree/master/.devcontainer">https://github.com/alphora/cqf-ccc/tree/master/.devcontainer</a></p>



<a name="257477617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257477617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257477617">(Oct 14 2021 at 04:23)</a>:</h4>
<p>That's beautiful--just what I was trying to do. <br>
I'm still fighting with AWS--I think I should be able to run the container in Farscape on ECS (their "serverless" container service), but right now have only been able connect to the container when I'm running docker in an EC2 instance. (Also, the connection was via ssh; I haven't gone back and tried to do it via a container connection.) Since I was able to get something going, I may need to put aside perfecting it for now though.</p>



<a name="257518892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257518892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257518892">(Oct 14 2021 at 11:26)</a>:</h4>
<p>I use a docker image running in Azure DevOps, but I think the others here have all referenced something nicer ;)<br>
(supporting our own internal CI-CD, and for some that don't do it often, running it locally)</p>



<a name="257580966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257580966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257580966">(Oct 14 2021 at 18:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span> maybe there is something I'm not catching here - ... but AFAIK, you already draftet an IG setup using GH actions, which by the way works perfectly. It may just be me, but where does the need come from to have to step into the container that runs the build? Especially if its already running at e.g. github? Are you doing a lot of formatting in the templates or something like that?</p>



<a name="257584445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257584445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257584445">(Oct 14 2021 at 18:41)</a>:</h4>
<blockquote>
<p>where does the need come from to have to step into the container that runs the build?</p>
</blockquote>
<p>Elliot is looking for an easier or faster or more flexible way to edit IGs without having a local environment configured with all the dependencies.</p>



<a name="257586411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257586411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257586411">(Oct 14 2021 at 18:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> and the turn-around time using eg. GH actions is insufficient?</p>



<a name="257586670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257586670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257586670">(Oct 14 2021 at 18:56)</a>:</h4>
<p>arh .... ok ...... just looked at the times for our GH actions for the build ... and that is ~5 mins ... thats too long .... I get it</p>



<a name="257587420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257587420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257587420">(Oct 14 2021 at 19:01)</a>:</h4>
<p>Yeah. And also, just not having to push code between every tweak, and having syntax highlighting, extensions, etc.</p>



<a name="257591322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20development%20in%20the%20cloud/near/257591322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20development.20in.20the.20cloud.html#257591322">(Oct 14 2021 at 19:26)</a>:</h4>
<p>Correct. I realize I could check in every change, but my preference is not to commit “transient” versions.  It has little to do with GitHub build times and more to do with my pitiful laptop.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
