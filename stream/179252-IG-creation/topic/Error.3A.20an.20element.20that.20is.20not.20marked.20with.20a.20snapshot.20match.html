---
layout: page
title: "FHIR Chat  · Error: an element that is not marked with a snapshot match · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html">Error: an element that is not marked with a snapshot match</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153959960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%3A%20an%20element%20that%20is%20not%20marked%20with%20a%20snapshot%20match/near/153959960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html#153959960">(May 14 2018 at 06:47)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> </p>
<p>I am getting these errors when I run the IG Publisher on the practitioner profile derived from the hl7au. (<a href="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-practitioner.html" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-practitioner.html">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-practitioner.html</a>)</p>
<p>It seems this error has relation to the following commit " <a href="https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e" target="_blank" title="https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e">https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e</a> ” “AHPRA qualifier” done in the repository.</p>
<p>I had a brief email discussion with <span class="user-mention" data-user-id="191368">@Brett Esler</span> too. </p>
<p><strong>The errors are</strong>: </p>
<p>process res: practitioner-dh-base                                                (34.0715sec)<br>
Error in snapshot generation: Differential for <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> with id: Practitioner.address.issuer has an element that is not marked with a snapshot match<br>
Publishing Content Failed: Exception loading <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a>: Snapshot for <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.address.issuer (34.0804sec)<br>
                                                                                 (34.0804sec)<br>
Use -? to get command line help                                                  (34.0804sec)<br>
                                                                                 (34.0805sec)<br>
Stack Dump (for debugging):                                                      (34.0805sec)<br>
java.lang.Exception: Exception loading <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a>: Snapshot for <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.address.issuer<br>
        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2188)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:1854)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:495)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:459)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4393)<br>
Caused by: org.hl7.fhir.exceptions.DefinitionException: Snapshot for <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.address.issuer<br>
        at org.hl7.fhir.r4.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:394)<br>
        at org.hl7.fhir.r4.context.SimpleWorkerContext.seeMetadataResource(SimpleWorkerContext.java:513)<br>
        at org.hl7.fhir.r4.context.BaseWorkerContext.cacheResource(BaseWorkerContext.java:188)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2186)<br>
        ... 4 more<br>
Exception in thread "main" java.lang.NullPointerException</p>
<p><strong>And</strong></p>
<p>process res: practitioner-dh-base                                                (37.0786sec)<br>
Error in snapshot generation: Differential for <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> with id: Practitioner.qualification.identifier has an element that is not marked with a snapshot match<br>
Publishing Content Failed: Exception loading <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a>: Snapshot for <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.qualification.identifier (37.0884sec)<br>
                                                                                 (37.0884sec)<br>
Use -? to get command line help                                                  (37.0884sec)<br>
                                                                                 (37.0884sec)<br>
Stack Dump (for debugging):                                                      (37.0884sec)<br>
java.lang.Exception: Exception loading <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a>: Snapshot for <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.qualification.identifier<br>
        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2188)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:1854)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:495)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:459)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4393)<br>
Caused by: org.hl7.fhir.exceptions.DefinitionException: Snapshot for <a href="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base" target="_blank" title="http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.qualification.identifier<br>
        at org.hl7.fhir.r4.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:394)<br>
        at org.hl7.fhir.r4.context.SimpleWorkerContext.seeMetadataResource(SimpleWorkerContext.java:513)<br>
        at org.hl7.fhir.r4.context.BaseWorkerContext.cacheResource(BaseWorkerContext.java:188)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2186)<br>
        ... 4 more<br>
Exception in thread "main" java.lang.NullPointerException<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4403)</p>
<p><strong>I am attaching the two practitioner profiles in two different repositories we are using to run the IG Publisher</strong>.<br>
<a href="/user_uploads/10155/kphG0UBCMd7NfCoWGimyZzLu/practitioner-dh-base.xml" target="_blank" title="practitioner-dh-base.xml">practitioner-dh-base.xml</a><br>
<a href="/user_uploads/10155/As0aPe1NIJ3gRKINgVeR74aj/practitioner-dh-base.xml" target="_blank" title="practitioner-dh-base.xml">practitioner-dh-base.xml</a></p>
<p>Please suggest.</p>



<a name="153959968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%3A%20an%20element%20that%20is%20not%20marked%20with%20a%20snapshot%20match/near/153959968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html#153959968">(May 14 2018 at 06:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="153959973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%3A%20an%20element%20that%20is%20not%20marked%20with%20a%20snapshot%20match/near/153959973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html#153959973">(May 14 2018 at 07:06)</a>:</h4>
<p>I don't immediately recognise the problem</p>



<a name="153963826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%3A%20an%20element%20that%20is%20not%20marked%20with%20a%20snapshot%20match/near/153963826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html#153963826">(May 21 2018 at 05:39)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> . Sorry for the delay in my response. <br>
Hi <span class="user-mention" data-user-id="191368">@Brett Esler</span> may I request you to add your comments on this issue. <br>
Although I will try to add more information below if that can help in understanding the issue. </p>
<p>So the issue is as below:</p>
<p>1) We at the Agency created a derived profile called "practitioner-dh-base" which is derived from the hl7au practitioner profile. <br>
2) Till then the IG Publisher was running fine on our derived profile. <br>
3) Then the following commit in relation to the "AHPRA qualifier" "<a href="https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e" target="_blank" title="https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e">https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e</a>" was made in hl7au repository<br>
4) After that the IG Publisher started giving the error. <br>
5) The error I got is there in my previous post/message. <br>
6) Also the files (derived practitioner profile) which I used to run the IG Publisher are attached here<br>
<a href="user_uploads/10155/kphG0UBCMd7NfCoWGimyZzLu/practitioner-dh-base.xml" target="_blank" title="user_uploads/10155/kphG0UBCMd7NfCoWGimyZzLu/practitioner-dh-base.xml">https://chat.fhir.org/user_uploads/10155/kphG0UBCMd7NfCoWGimyZzLu/practitioner-dh-base.xml</a><br>
<a href="user_uploads/10155/As0aPe1NIJ3gRKINgVeR74aj/practitioner-dh-base.xml" target="_blank" title="user_uploads/10155/As0aPe1NIJ3gRKINgVeR74aj/practitioner-dh-base.xml">https://chat.fhir.org/user_uploads/10155/As0aPe1NIJ3gRKINgVeR74aj/practitioner-dh-base.xml</a></p>
<p>Please let me know if there is any more information that I need to add so that this issue can be resolved. </p>
<p>Thanks heaps.<br>
Vikas</p>



<a name="153963840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%3A%20an%20element%20that%20is%20not%20marked%20with%20a%20snapshot%20match/near/153963840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html#153963840">(May 21 2018 at 13:28)</a>:</h4>
<p>The first issue is because you've got the following:<br>
<code>    &lt;element id="Practitioner.address"&gt;
      &lt;path value="Practitioner.address" /&gt;
      &lt;type&gt;
        &lt;code value="Address" /&gt;
        &lt;profile value="http://hl7.org.au/fhir/StructureDefinition/au-address" /&gt;
      &lt;/type&gt;
    &lt;/element&gt;
    &lt;element id="Practitioner.qualification.issuer"&gt;</code></p>
<p>You need a <code>Practitioner.qualification</code> element before you list <code>Practitioner.qualification.issuer</code> (or at least you do for certain versions of the igpublisher.  I have no clue what's going wrong in the second case though.</p>



<a name="153963968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%3A%20an%20element%20that%20is%20not%20marked%20with%20a%20snapshot%20match/near/153963968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html#153963968">(May 21 2018 at 23:47)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <br>
You are right,  the file must have the "Practitioner.qualification" before "Practitioner.qualification.issuer". <br>
But the other file already has that code and still gives the error. <br>
<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> or <span class="user-mention" data-user-id="191368">@Brett Esler</span> can you suggest something further in relation to this?</p>



<a name="153963971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%3A%20an%20element%20that%20is%20not%20marked%20with%20a%20snapshot%20match/near/153963971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html#153963971">(May 21 2018 at 23:48)</a>:</h4>
<p>it's on my task list - maybe tomorrow....</p>



<a name="153963974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Error%3A%20an%20element%20that%20is%20not%20marked%20with%20a%20snapshot%20match/near/153963974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vikas Mittal <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Error.3A.20an.20element.20that.20is.20not.20marked.20with.20a.20snapshot.20match.html#153963974">(May 21 2018 at 23:49)</a>:</h4>
<p>Sure. Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
