---
layout: page
title: "FHIR Chat  · Table &quot;Must have rows&quot; error · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html">Table &quot;Must have rows&quot; error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153947890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153947890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153947890">(Mar 26 2018 at 11:00)</a>:</h4>
<p>Can anyone shed some light on this one and how to fix it?</p>
<blockquote>
<p>Publishing Content Failed: Error generating table for profile <a href="http://hl7.org/fhir/ips/StructureDefinition/coding-uv-ips" target="_blank" title="http://hl7.org/fhir/ips/StructureDefinition/coding-uv-ips">http://hl7.org/fhir/ips/StructureDefinition/coding-uv-ips</a>: Must have rows (21.0366sec)</p>
</blockquote>



<a name="153947891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153947891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153947891">(Mar 26 2018 at 11:06)</a>:</h4>
<p>what's the stack?</p>



<a name="153947892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153947892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153947892">(Mar 26 2018 at 11:07)</a>:</h4>
<p>Stack Dump (for debugging):                                                      (21.0366sec)<br>
org.hl7.fhir.exceptions.FHIRException: Error generating table for profile <a href="http://hl7.org/fhir/ips/StructureDefinition/coding-uv-ips" target="_blank" title="http://hl7.org/fhir/ips/StructureDefinition/coding-uv-ips">http://hl7.org/fhir/ips/StructureDefinition/coding-uv-ips</a>: Must have rows<br>
    at org.hl7.fhir.r4.conformance.ProfileUtilities.generateTable(ProfileUtilities.java:2035)<br>
    at org.hl7.fhir.r4.utils.NarrativeGenerator.generate(NarrativeGenerator.java:3915)<br>
    at org.hl7.fhir.r4.utils.NarrativeGenerator.generate(NarrativeGenerator.java:315)<br>
    at org.hl7.fhir.r4.utils.NarrativeGenerator.generate(NarrativeGenerator.java:293)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:486)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:419)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:387)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4247)<br>
Caused by: org.hl7.fhir.exceptions.FHIRException: Must have rows<br>
    at org.hl7.fhir.utilities.xhtml.HierarchicalTableGenerator.check(HierarchicalTableGenerator.java:666)<br>
    at org.hl7.fhir.utilities.xhtml.HierarchicalTableGenerator.checkModel(HierarchicalTableGenerator.java:560)<br>
    at org.hl7.fhir.utilities.xhtml.HierarchicalTableGenerator.generate(HierarchicalTableGenerator.java:378)<br>
    at org.hl7.fhir.r4.conformance.ProfileUtilities.generateTable(ProfileUtilities.java:2033)<br>
    ... 7 more<br>
Exception in thread "main" java.lang.NullPointerException<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4257)</p>



<a name="153947893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153947893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153947893">(Mar 26 2018 at 11:10)</a>:</h4>
<p>I need to add an extension - not sure if that is the cause.</p>



<a name="153947894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153947894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153947894">(Mar 26 2018 at 11:13)</a>:</h4>
<p>not sure. I think I'll have to debug that one in detail</p>



<a name="153947895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153947895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153947895">(Mar 26 2018 at 11:14)</a>:</h4>
<p>OK.  Let me try this first before you spend any time on it.  I'll let you know one way or the other.</p>



<a name="153947896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153947896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153947896">(Mar 26 2018 at 11:15)</a>:</h4>
<p>ok</p>



<a name="153947909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153947909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153947909">(Mar 26 2018 at 11:47)</a>:</h4>
<p>Looks like it is going to need some debugging.  Adding the translation extension dependency (which itself builds OK) didn't change anything - still get the error.  What do you need?</p>



<a name="153948024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948024">(Mar 26 2018 at 14:26)</a>:</h4>
<p>That one's typically triggered by a differential that doesn't include the root node for the StructureDefinition.  In the IG Publication tool, differentials must include the ancestor nodes of all listed nodes, including the root.</p>



<a name="153948037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948037">(Mar 26 2018 at 14:50)</a>:</h4>
<p>OK, thanks.  I'll take a look at that.</p>



<a name="153948056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948056">(Mar 26 2018 at 15:34)</a>:</h4>
<p>I fixed some URL inconsistencies, but the same error is still persisting.  I'm not seeing a problem with the differential or anything else in particular.  All of the references go to the root node.  But maybe you can spot something.<br>
<a href="/user_uploads/10155/FhJ1v8jG0yCxcIMhKr_NFZja/coding-uv-ips.structuredefinition.xml" target="_blank" title="coding-uv-ips.structuredefinition.xml">coding-uv-ips.structuredefinition.xml</a> <a href="/user_uploads/10155/GKiUfbAgCdBorxTMfPK5-m1q/translation.xml" target="_blank" title="translation.xml">translation.xml</a></p>



<a name="153948063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948063">(Mar 26 2018 at 15:58)</a>:</h4>
<p>Your differential starts wtih       &lt;element id="Coding.display.extension"&gt;</p>



<a name="153948064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948064">(Mar 26 2018 at 15:58)</a>:</h4>
<p>It needs to start with id="Coding"</p>



<a name="153948065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948065">(Mar 26 2018 at 15:59)</a>:</h4>
<p>(And you'll need to have a node for "Coding.display" too)</p>



<a name="153948066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948066">(Mar 26 2018 at 15:59)</a>:</h4>
<p>Parent branches need to be present for every node in the tree</p>



<a name="153948067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948067">(Mar 26 2018 at 15:59)</a>:</h4>
<p>Of course.  I get it and that makes sense - now.</p>



<a name="153948068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948068">(Mar 26 2018 at 16:00)</a>:</h4>
<p>That's not actually a rule in the methodology, but it's a current limitation of the publishing tool</p>



<a name="153948069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948069">(Mar 26 2018 at 16:00)</a>:</h4>
<p>You don't have to actually <em>say</em> anything about the intervening nodes - they just need to be there.</p>



<a name="153948070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948070">(Mar 26 2018 at 16:01)</a>:</h4>
<p>I didn't create that one, but it was generated by Forge.  I'll correct it.</p>



<a name="153948073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948073">(Mar 26 2018 at 16:26)</a>:</h4>
<p>Correct, Forge generates sparse differentials (allowed by the FHIR spec). However the IG builder currently does not handle sparse diff trees (yet), so you have to manually fix the diff (recursively add any missing parent nodes). Hopefully a future version of the IG builder learns how to handle this.</p>



<a name="153948181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948181">(Mar 26 2018 at 18:59)</a>:</h4>
<p>I'll try and address that today. It used to work, and I don't know what happened</p>



<a name="153948237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Table%20%22Must%20have%20rows%22%20error/near/153948237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Table.20.22Must.20have.20rows.22.20error.html#153948237">(Mar 26 2018 at 22:08)</a>:</h4>
<p>It fails when producing the tree view for the differential - couldn't see any evidence that it would ever have worked and hard to break by accident...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
