---
layout: page
title: "FHIR Chat  · Publisher 1.1.0 build is hanging · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html">Publisher 1.1.0 build is hanging</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="202595823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202595823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202595823">(Jul 01 2020 at 17:06)</a>:</h4>
<p>Trying to build the IPS IG with Publisher 1.1.0, the build is hanging without any errors or warnings:</p>
<div class="codehilite"><pre><span></span><code>RHausamMacbookPro:fhir-ips rhausam$ ./_genonce.sh
Checking internet connection...
Online

FHIR IG Publisher Version 1.1.0 (Git# e654d867a231). Built 2020-07-01T02:23:14.763Z (12 hours old)
File log: /var/folders/vv/4dq6q1157n3b62yb7cxyr6br0000gn/T/fhir-ig-publisher-tmp.log
Detected Java version: 14.0.1 from /Library/Java/JavaVirtualMachines/adoptopenjdk-14.jdk/Contents/Home on x86_64 (64bit). 4096MB available
Parameters: -ig ig.ini

dir = /Users/rhausam/git-repo/fhir-ips, path = /usr/local/Cellar/pyenv-virtualenv/1.1.5/shims:/Users/rhausam/.pyenv/shims:/Library/Frameworks/Python.framework/Versions/2.7/bin:/usr/local/opt/bison/bin:/usr/local/opt/ruby/bin:/opt/local/bin:/opt/local/sbin:/Users/rhausam/google-cloud-sdk/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware Fusion.app/Contents/Public:/usr/local/MacGPG2/bin:/usr/local/share/dotnet:/opt/X11/bin:~/.dotnet/tools:/usr/local/git/bin:/opt/apache-maven-3.6.2/bin:/usr/local/ant/bin

Run time = Wednesday, July 1, 2020 at 9:59:53 AM Central Daylight Time (2020-07-01T09:59:53-05:00)
Package Cache: /Users/rhausam/.fhir/packages                                     (00:00.0072)
Load Template from hl7.fhir.template                                             (00:01.0028)
 Load Template from hl7.base.template#current                                    (00:03.0717)
  Load Template from fhir.base.template#current                                  (00:03.0821)

onLoad.findSpreadsheets:

onLoad.updateIg:
     [xslt] Processing /Users/rhausam/git-repo/fhir-ips/template/onLoad-ig-working.xml to /Users/rhausam/git-repo/fhir-ips/template/onLoad-ig-updated.xml
     [xslt] Loading stylesheet /Users/rhausam/git-repo/fhir-ips/template/scripts/onLoad.xslt

onLoad.extend:

onLoad:
Root directory: /Users/rhausam/git-repo/fhir-ips                                 (00:07.0920)
Core Package hl7.fhir.r4.core#4.0.1
Terminology Cache is at /Users/rhausam/git-repo/fhir-ips/input-cache/txcache. 7 files in cache (00:17.0203)
Connect to Terminology Server at http://tx.fhir.org                              (00:20.0236)
Load Package hl7.fhir.pubpack#0.0.6
Load Package hl7.fhir.xver-extensions#0.0.4
Initialization complete                                                          (00:22.0506)
Load Content                                                                     (00:22.0507)
Translating CQL source                                                           (00:22.0596)
Translating CQL source in folder /Users/rhausam/git-repo/fhir-ips/input/cql      (00:22.0597)
Processing Conformance Resources                                                 (00:29.0747)
Terminology server: Check for supported code systems for http://unstats.un.org/unsd/methods/m49/m49.htm (00:33.0693)
</code></pre></div>


<p>It appears to hang at the terminology server validation.  But the <a href="http://tx.fhir.org">tx.fhir.org</a> server itself is up, and restarting it didn't make a difference.</p>



<a name="202596935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202596935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202596935">(Jul 01 2020 at 17:16)</a>:</h4>
<p>The tx server is able to expand the <a href="http://hl7.org/fhir/ValueSet/jurisdiction">http://hl7.org/fhir/ValueSet/jurisdiction</a> value set (where the <a href="http://unstats.un.org/unsd/methods/m49/m49.htm">http://unstats.un.org/unsd/methods/m49/m49.htm</a> code system is used) without a problem.  So I'm not seeing an obvious reason so far why the publisher isn't getting any further with the build.</p>



<a name="202618161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202618161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202618161">(Jul 01 2020 at 20:09)</a>:</h4>
<p>it won't be that - that's just the last thing it did.</p>



<a name="202618212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202618212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202618212">(Jul 01 2020 at 20:10)</a>:</h4>
<p>How long did you give it?</p>



<a name="202618245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202618245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202618245">(Jul 01 2020 at 20:10)</a>:</h4>
<p>at least 30 minutes</p>



<a name="202618444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202618444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202618444">(Jul 01 2020 at 20:12)</a>:</h4>
<p>the next step is to look to see what it was attempting to do next</p>



<a name="202618946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202618946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202618946">(Jul 01 2020 at 20:16)</a>:</h4>
<p>Actually, I just looked at my last attempt - and it turns out that it did complete. :)  I'll check to see how long that step really took (it was a long time).</p>



<a name="202620021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202620021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202620021">(Jul 01 2020 at 20:27)</a>:</h4>
<p>Well, this is really interesting! - sort of :(  It turns out that from the last step that I showed above, to the next step of <code>Generating Narratives</code> - it took a total of 3 hours, 6 minutes and 7 seconds. :( <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>?</p>



<a name="202620080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202620080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202620080">(Jul 01 2020 at 20:27)</a>:</h4>
<p>it probably won't take that long next time, and if it doesn't, a diff on the txcache will tell you what happened</p>



<a name="202620836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202620836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202620836">(Jul 01 2020 at 20:35)</a>:</h4>
<p>OK, I'm sure you're right about that, regarding subsequent builds.  I'm pretty sure that I'm as aware as probably anyone that building the txcache can take a long time.  But, as I recall, it normally gives output for each terminology artifact that it processes.  Without that and with no response at all for over 3 hours, how would anyone expect that it was doing its normal job and would actually complete (or have any idea when that would happen)?</p>



<a name="202621438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202621438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202621438">(Jul 01 2020 at 20:40)</a>:</h4>
<p>I'm not sure. Does txCache tell you anything?</p>



<a name="202622070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202622070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202622070">(Jul 01 2020 at 20:46)</a>:</h4>
<p>I'll look.  The second build was 5 min and 39 sec. total.</p>



<a name="202623798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202623798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202623798">(Jul 01 2020 at 21:03)</a>:</h4>
<p>The txcache looks pretty unremarkable to me.  The snomed cache is 20.2 MB, which is pretty big - but I don't recall if that's any bigger than usual, or why that would be a problem.</p>



<a name="202625554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Publisher%201.1.0%20build%20is%20hanging/near/202625554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Publisher.201.2E1.2E0.20build.20is.20hanging.html#202625554">(Jul 01 2020 at 21:20)</a>:</h4>
<p>you can do a diff?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
