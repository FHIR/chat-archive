---
layout: page
title: "FHIR Chat  · UTG branches · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html">UTG branches</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200843561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200843561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200843561">(Jun 15 2020 at 02:05)</a>:</h4>
<p>In attempting to get the build of the branch for UTG proposal UP-68 <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> yours - it does not seem to be building the branch in git/UTG.  May have something to do with having the folder 'bugfix' in your branch instead of directly under the UTG master, but I am not skilled enough in git intricacy or build interaction with git to know really.   But the branch was committed and pushed to the UTG git.  Until we get a successful build (builds locally just fine) I cannot push it to Consensus Review.   Anyone have any idea what the issue may be?   <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> maybe some issue around the automation where the extra folder inn the path silently kills it?</p>



<a name="200843607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200843607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200843607">(Jun 15 2020 at 02:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> how would we investigate this?</p>



<a name="200845060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200845060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200845060">(Jun 15 2020 at 02:49)</a>:</h4>
<p>Are there build logs being produced? Can you share a link to the branch in question? (One thought, from previous experience: this IG has needed several times more memory than other IGs, and if that has grown, the build may be running out of RAM.)</p>



<a name="200906874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200906874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200906874">(Jun 15 2020 at 15:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> , no build logs or anything I can see or find.   The Git branch is at <a href="https://github.com/HL7/UTG/tree/bugfix/UP-68-clarify-inclusion-nature-of-population-criteria-in-measure-and-measurereport">https://github.com/HL7/UTG/tree/bugfix/UP-68-clarify-inclusion-nature-of-population-criteria-in-measure-and-measurereport</a>.    Maxxing out the RAM in the java argument to a full 16Gb (all that my laptop has) the build still coredumps locally if I have graphics-heavy apps (like zoom call) running; works ok if I kill them.   (I run on a MacBookPro 2018 model max memory).    The build does not show up with any error or anything on <a href="#narrow/stream/179297-committers.2Fnotification/topic/ig-build">https://chat.fhir.org/#narrow/stream/179297-committers.2Fnotification/topic/ig-build</a>    So I am pretty well at a loss.   the other branches build just fine btw (there are 3 others there for the UP submissions)</p>



<a name="200907307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200907307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200907307">(Jun 15 2020 at 15:42)</a>:</h4>
<p>OK, so you're saying this IG requires 16Gb of RAM to for you to build it locally?</p>



<a name="200907495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200907495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200907495">(Jun 15 2020 at 15:43)</a>:</h4>
<p>We don't have that much allocated. Is there a known issue that's causing this IG to require multiple times more RAM than others?</p>



<a name="200909019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200909019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200909019">(Jun 15 2020 at 15:54)</a>:</h4>
<p>It's a massive IG - 100s of code systems and value sets, some of which are huge.</p>



<a name="200909115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200909115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200909115">(Jun 15 2020 at 15:55)</a>:</h4>
<p>It's really a stress test in terms of size, though not so bad in terms of complexity</p>



<a name="200910058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200910058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200910058">(Jun 15 2020 at 16:02)</a>:</h4>
<p>Yeah what Lloyd said.   5000+ value sets, 700+ code systems.   2.7 million html links.   When I uploaded the initial release (and we are a wee bigger now) it generated 87000+ files.   So it is just a massive huge beast.</p>



<a name="200910357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200910357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200910357">(Jun 15 2020 at 16:05)</a>:</h4>
<p>but interestingly, no real content difference between the cited branch and the others and the current build - the cited branch tweaked several of the concept &lt;definition&gt; strings in ONE code system resource.    The only other difference I could see is that Bryn created a tree node 'bugfix' and the content below that.   Maybe some pathname length issue?   But I am just randomly blabbering here.</p>



<a name="200915930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200915930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200915930">(Jun 15 2020 at 16:52)</a>:</h4>
<p>Ahh, I think I have another about what is going on. I think we don't support Branch names with flashes in them, and this branch name has a slash.</p>



<a name="200916024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200916024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200916024">(Jun 15 2020 at 16:53)</a>:</h4>
<p>The underlying issue is that we map Branch names directly to URL paths, without any kind of conversion or escaping.</p>



<a name="200916270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200916270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200916270">(Jun 15 2020 at 16:54)</a>:</h4>
<p>I added <a href="https://github.com/FHIR/auto-ig-builder/issues/14">https://github.com/FHIR/auto-ig-builder/issues/14</a> to capture this limitation; of course, if anyone is interested in figuring out a way to overcome this limitation and contributing back to the build system, that would be most welcome.</p>



<a name="200934719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200934719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200934719">(Jun 15 2020 at 19:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I thought that was likely what it was - ok thanks for verifying it.  I'll contact <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> to see how the easiest way will be for use to rectify it without a lot of thrashing.   Thanks!</p>



<a name="200940730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200940730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200940730">(Jun 15 2020 at 20:24)</a>:</h4>
<p>Okay, so I think that happened because when I drafted the proposal I said bug fix (seemed like the most fitting category) instead of custom, so the branch name prefixed that bugfix/</p>



<a name="200940761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200940761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200940761">(Jun 15 2020 at 20:24)</a>:</h4>
<p>So should I just abandon that branch and draft a new proposal?</p>



<a name="200942968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200942968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200942968">(Jun 15 2020 at 20:42)</a>:</h4>
<p>That'd be good -- shouldn't involve any new writing, right? Just push a new branch for the same head commit?</p>



<a name="200951669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200951669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200951669">(Jun 15 2020 at 22:03)</a>:</h4>
<p>Yep what Josh said.   Same content but just name the branch like the ticket ID generated by Jira (see UP-64, UP-65, and UP-67 for examples.  We use simple string scripts to for the URL, the branch, the history bundle names, all kinds of stuff.    Many of these might get broken with strange characters like slashes...IMHO no need for 'categories' of types of change proposals; we may see how best to deal with that if a need arises in the future.</p>



<a name="200968279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/UTG%20branches/near/200968279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/UTG.20branches.html#200968279">(Jun 16 2020 at 02:51)</a>:</h4>
<p>I created the branch from the JIRA ticket integration though, is there any linkage there that I'd be orphaning by doing that?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
