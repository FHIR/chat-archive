---
layout: page
title: "FHIR Chat  · IG Publisher problems with Bundles · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html">IG Publisher problems with Bundles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="240668798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240668798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240668798">(May 28 2021 at 22:48)</a>:</h4>
<p>I have isolated two problems with IG Publisher and Bundles<br>
1) Some bundles are not showing up in Artifacts, when they should<br>
2) A List resource in a Bundle with a .subject that is populated will crash the publisher</p>



<a name="240668854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240668854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240668854">(May 28 2021 at 22:49)</a>:</h4>
<p>I have created a Test IG that ONLY contains the problem bundle</p>



<a name="240668864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240668864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240668864">(May 28 2021 at 22:49)</a>:</h4>
<p>GitHub <a href="https://github.com/JohnMoehrke/testBundle">https://github.com/JohnMoehrke/testBundle</a></p>



<a name="240668874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240668874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240668874">(May 28 2021 at 22:49)</a>:</h4>
<p>Build <a href="http://build.fhir.org/ig/JohnMoehrke/testBundle/branches/main/Bundle-ex-dummyProvideDocumentBundle.html">http://build.fhir.org/ig/JohnMoehrke/testBundle/branches/main/Bundle-ex-dummyProvideDocumentBundle.html</a></p>



<a name="240668960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240668960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240668960">(May 28 2021 at 22:50)</a>:</h4>
<p>To see the #2 problem, take the comments off of line 9 of the patieht.fsh file</p>



<a name="240668997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240668997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240668997">(May 28 2021 at 22:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="240669136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240669136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240669136">(May 28 2021 at 22:52)</a>:</h4>
<p>I do not think this is a Sushi problem. I think it is creating the json properly</p>



<a name="240670155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240670155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240670155">(May 28 2021 at 23:09)</a>:</h4>
<p>#1 I think is just pending a release.  What's the stack trace for #2?</p>



<a name="240701526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240701526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240701526">(May 29 2021 at 13:12)</a>:</h4>
<p>yes, I understood #1 was already pending. I created this for #2, and just happened to observe it also showed 1</p>



<a name="240701558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240701558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240701558">(May 29 2021 at 13:12)</a>:</h4>
<p>Failed build <a href="http://build.fhir.org/ig/JohnMoehrke/testBundle/branches/main/failure/build.log">http://build.fhir.org/ig/JohnMoehrke/testBundle/branches/main/failure/build.log</a></p>
<div class="codehilite"><pre><span></span><code>onGenerate.extend:

onGenerate:
Exception in thread &quot;main&quot; java.lang.Error: Wrong node type - node is Text (&#39;null/Subject: &#39;)
    at org.hl7.fhir.utilities.xhtml.XhtmlNode.addTag(XhtmlNode.java:200)
    at org.hl7.fhir.utilities.xhtml.XhtmlNode.ah(XhtmlNode.java:642)
    at org.hl7.fhir.r5.renderers.ResourceRenderer.renderReference(ResourceRenderer.java:187)
    at org.hl7.fhir.r5.renderers.ResourceRenderer.renderReference(ResourceRenderer.java:172)
    at org.hl7.fhir.r5.renderers.ListRenderer.shortForRef(ListRenderer.java:205)
    at org.hl7.fhir.r5.renderers.ListRenderer.render(ListRenderer.java:129)
    at org.hl7.fhir.r5.renderers.ListRenderer.render(ListRenderer.java:33)
    at org.hl7.fhir.r5.renderers.ResourceRenderer.build(ResourceRenderer.java:55)
    at org.hl7.fhir.r5.renderers.BundleRenderer.render(BundleRenderer.java:298)
    at org.hl7.fhir.igtools.publisher.Publisher.getXhtml(Publisher.java:8048)
    at org.hl7.fhir.igtools.publisher.Publisher.saveDirectResourceOutputs(Publisher.java:7367)
    at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:6800)
    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5000)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:901)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:745)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8577)
</code></pre></div>



<a name="240938963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240938963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240938963">(Jun 01 2021 at 13:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> is this an IG publisher problem? Should I create an issue?</p>



<a name="240941861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/240941861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#240941861">(Jun 01 2021 at 13:32)</a>:</h4>
<p>no idea. I haven't investigated yet</p>



<a name="241138614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/241138614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#241138614">(Jun 02 2021 at 12:03)</a>:</h4>
<p>Note that adding to the List a .text extensions will also prevent the crash</p>



<a name="241337232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/241337232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#241337232">(Jun 03 2021 at 00:42)</a>:</h4>
<p>fixed next release</p>



<a name="264057686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/264057686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#264057686">(Dec 07 2021 at 19:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles/near/241337232">said</a>:</p>
<blockquote>
<p>fixed next release</p>
</blockquote>
<p>Has this been fixed in the meantime? I ask because I have the problem at the element List.encounter.</p>



<a name="264057896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/264057896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#264057896">(Dec 07 2021 at 19:24)</a>:</h4>
<p>how do I reproduce?</p>



<a name="264058310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/264058310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#264058310">(Dec 07 2021 at 19:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles/near/264057896">said</a>:</p>
<blockquote>
<p>how do I reproduce?</p>
</blockquote>
<p><a href="https://github.com/ahdis/scs-versandservice/tree/master">ahdis/scs-versandservice: master</a><br>
<a href="http://build.fhir.org/ig/ahdis/scs-versandservice/branches/master/failure/build.log">build logs</a></p>



<a name="264098315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/IG%20Publisher%20problems%20with%20Bundles/near/264098315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/IG.20Publisher.20problems.20with.20Bundles.html#264098315">(Dec 08 2021 at 01:07)</a>:</h4>
<p>fixed next release - I overlooked making the relevant change on one line of code</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
