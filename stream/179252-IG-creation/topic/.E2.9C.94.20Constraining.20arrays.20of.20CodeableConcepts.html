---
layout: page
title: "FHIR Chat  · ✔ Constraining arrays of CodeableConcepts · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html">✔ Constraining arrays of CodeableConcepts</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="251484347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251484347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251484347">(Sep 01 2021 at 00:58)</a>:</h4>
<p>Formally, does <a href="http://hl7.org/fhir/us/cancer-reporting/2021Sep/StructureDefinition-us-pathology-next-of-kin.html">http://hl7.org/fhir/us/cancer-reporting/2021Sep/StructureDefinition-us-pathology-next-of-kin.html</a> prevent the addition of a 2nd relationship to the <code>relationship[]</code> -- e.g., is the following invalid?</p>
<div class="codehilite" data-code-language="JavaScript"><pre><span></span><code><span class="s2">"relationship"</span><span class="o">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"coding"</span><span class="o">:</span> <span class="p">[{</span>
      <span class="s2">"system"</span><span class="o">:</span> <span class="s2">"http://terminology.hl7.org/CodeSystem/v2-0131"</span><span class="p">,</span>
      <span class="s2">"code"</span><span class="o">:</span> <span class="s2">"N"</span><span class="p">,</span>
      <span class="s2">"display"</span><span class="o">:</span> <span class="s2">"Next-of-Kin"</span><span class="p">}]},</span>
  <span class="p">{</span>
    <span class="s2">"text"</span><span class="o">:</span> <span class="s2">"Fraternal grand-whatsit"</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p>-- I <em>think</em> this would be invalid because <code>relationship[1]</code> doesn't meet the profile's requirement for:</p>
<div class="codehilite" data-code-language="JavaScript"><pre><span></span><code>        <span class="s2">"id"</span> <span class="o">:</span> <span class="s2">"RelatedPerson.relationship"</span><span class="p">,</span>
        <span class="s2">"path"</span> <span class="o">:</span> <span class="s2">"RelatedPerson.relationship"</span><span class="p">,</span>
        <span class="s2">"min"</span> <span class="o">:</span> <span class="mf">1</span><span class="p">,</span>
        <span class="s2">"max"</span> <span class="o">:</span> <span class="s2">"*"</span><span class="p">,</span>
        <span class="c1">// snipped for brevity</span>
        <span class="s2">"patternCodeableConcept"</span> <span class="o">:</span> <span class="p">{</span>
          <span class="s2">"coding"</span> <span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="s2">"system"</span> <span class="o">:</span> <span class="s2">"http://terminology.hl7.org/CodeSystem/v2-0131"</span><span class="p">,</span>
              <span class="s2">"code"</span> <span class="o">:</span> <span class="s2">"N"</span><span class="p">,</span>
              <span class="s2">"display"</span> <span class="o">:</span> <span class="s2">"Next-of-Kin"</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">},</span>
</code></pre></div>
<p>... but I'm not sure I'm interpreting the inheritance correctly.</p>



<a name="251485278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251485278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251485278">(Sep 01 2021 at 01:09)</a>:</h4>
<p>Correct.  A pattern on a repeating element applies to <em>all</em> repetitions.  So does a binding.  If you want the constraints to apply on only one of the repetitions, you need to define a slice.</p>



<a name="251485279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251485279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251485279">(Sep 01 2021 at 01:09)</a>:</h4>
<p>looks like it does to me. The pattern means that whatever else relationship contains, it must contain a next-of-kin</p>



<a name="251485312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251485312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251485312">(Sep 01 2021 at 01:09)</a>:</h4>
<p>Don't agree <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> because the pattern is not on a repeating element</p>



<a name="251487079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487079">(Sep 01 2021 at 01:36)</a>:</h4>
<blockquote>
<p>Grahame Grieve: Don't agree @Lloyd McKenzie because the pattern is not on a repeating element</p>
</blockquote>
<p>The pattern is not on a repeating element, but the <em>only</em> way to have a <code>RelatedPerson.relationship</code> in a valid instance here is to match the supplied "patternCodeableConcept". </p>
<p>I'm trying to figure out whether to file a bug against:</p>
<ol>
<li>
<p>The core spec for being ambiguous (if Lloyd and I have one reading, and Grahame has another -- but I'm having trouble seeing it Grahame's way, even when I try)</p>
</li>
<li>
<p>This IG for unnecessarily constraining the relationship array (it <em>might</em> be the authors' intention, which would be OK -- but I'd guess it's because saying the correct thing here is... awkward, requiring slicing).</p>
</li>
</ol>



<a name="251487369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487369">(Sep 01 2021 at 01:41)</a>:</h4>
<blockquote>
<p>When pattern[x] is used to constrain an array, it means that each element provided in the pattern[x] array must (recursively) match at least one element from the instance array.</p>
</blockquote>



<a name="251487373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487373">(Sep 01 2021 at 01:41)</a>:</h4>
<p>seems clear to me</p>



<a name="251487460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487460">(Sep 01 2021 at 01:42)</a>:</h4>
<blockquote>
<p>each element provided in the pattern[x] array</p>
</blockquote>
<p>^^ in my example, what does "the pattern[x] array" refer to?</p>



<a name="251487639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487639">(Sep 01 2021 at 01:45)</a>:</h4>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="nt">"patternCodeableConcept"</span> <span class="p">:</span> <span class="p">{</span>
          <span class="nt">"coding"</span> <span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">"system"</span> <span class="p">:</span> <span class="s2">"http://terminology.hl7.org/CodeSystem/v2-0131"</span><span class="p">,</span>
              <span class="nt">"code"</span> <span class="p">:</span> <span class="s2">"N"</span><span class="p">,</span>
              <span class="nt">"display"</span> <span class="p">:</span> <span class="s2">"Next-of-Kin"</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">},</span>
</code></pre></div>
<p>So the CodeableConcept must match the pattern. And the pattern has one coding, so at least one of the codings must match the coding supplied in the pattern. So your example</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="nt">"relationship"</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">"coding"</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">"system"</span><span class="p">:</span> <span class="s2">"http://terminology.hl7.org/CodeSystem/v2-0131"</span><span class="p">,</span>
      <span class="nt">"code"</span><span class="p">:</span> <span class="s2">"N"</span><span class="p">,</span>
      <span class="nt">"display"</span><span class="p">:</span> <span class="s2">"Next-of-Kin"</span><span class="p">}]},</span>
  <span class="p">{</span>
    <span class="nt">"text"</span><span class="p">:</span> <span class="s2">"Fraternal grand-whatsit"</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p>That's valid because each element provided in the pattern[x] array (one Coding) does (recursively) match at least one element from the instance array (the Coding)</p>



<a name="251487723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487723">(Sep 01 2021 at 01:46)</a>:</h4>
<p>The question wasn't about the coding.  It was about the separate repetition that was just "text"</p>



<a name="251487768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487768">(Sep 01 2021 at 01:47)</a>:</h4>
<p>I definitely understood that within a CodeableConcept only one coding didn't match.  I didn't realize that meant that when a pattern was asserted on an array, only one element in the array needed to match.</p>



<a name="251487789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487789">(Sep 01 2021 at 01:47)</a>:</h4>
<p>oh. ok. I agree with Lloyd. I missed that, and thought that text was in the same relationship. Bad indenting...</p>



<a name="251487972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251487972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251487972">(Sep 01 2021 at 01:50)</a>:</h4>
<p>Thanks! So should:</p>
<blockquote>
<p>When pattern[x] is used to constrain an array, it means that each element provided in the pattern[x] <strong>array</strong></p>
</blockquote>
<p>Instead say one of</p>
<blockquote>
<p>When pattern[x] is used to constrain an array, it means that each element provided in the pattern[x] <del><strong>array</strong></del><br>
When pattern[x] is used to constrain an array, it means that each element provided in the pattern[x] <strong>element</strong></p>
</blockquote>
<p>?</p>



<a name="251488052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251488052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251488052">(Sep 01 2021 at 01:51)</a>:</h4>
<p>I don't think so</p>



<a name="251488126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251488126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251488126">(Sep 01 2021 at 01:52)</a>:</h4>
<p>When is <code>pattern[x]</code> itself an <em>array</em>? I understand the instances can have arrays, but what does "the pattern[x] array" refer to? <a href="http://build.fhir.org/elementdefinition-definitions.html#ElementDefinition.pattern_x_"><code>ElementDefinition.pattern[x]</code></a> is <code>0..1</code></p>



<a name="251488162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251488162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251488162">(Sep 01 2021 at 01:53)</a>:</h4>
<p>well, arrays inside of it</p>



<a name="251488210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251488210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251488210">(Sep 01 2021 at 01:54)</a>:</h4>
<p>that's covered by the recursion rule:</p>
<blockquote>
<p>If an array: it must match (recursively) the pattern value.</p>
</blockquote>
<p>(Which seems clear to me.)</p>



<a name="251488464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251488464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251488464">(Sep 01 2021 at 01:59)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
<p>checking this for myself -- it works as advertised</p>
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$ wget https://github.com/hapifhir/org.hl7.fhir.core/releases/latest/download/validator_cli.jar
$ wget http://hl7.org/fhir/us/cancer-reporting/2021Sep/full-ig.zip
$ unzip full-ig.zip
$ cat rp.json
<span class="o">{</span>
  <span class="s2">"resourceType"</span>: <span class="s2">"RelatedPerson"</span>,
  <span class="s2">"patient"</span>: <span class="o">{</span>
    <span class="s2">"display"</span>: <span class="s2">"Bob"</span>
  <span class="o">}</span>,
  <span class="s2">"relationship"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"coding"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"system"</span>: <span class="s2">"http://terminology.hl7.org/CodeSystem/v2-0131"</span>,
          <span class="s2">"code"</span>: <span class="s2">"N"</span>,
          <span class="s2">"display"</span>: <span class="s2">"Next-of-Kin"</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"text"</span>: <span class="s2">"Fraternal grand-whatsit"</span>,
      <span class="s2">"coding"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"display"</span>: <span class="s2">"Fraternal grand-whatsit"</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

$ java -jar validator_cli.jar  -ig site  -profile http://hl7.org/fhir/us/cancer-reporting/StructureDefinition/us-pathology-next-of-kin rp.json
FHIR Validation tool Version <span class="m">5</span>.4.11 <span class="o">(</span>Git# 1b4c675c19f6<span class="o">)</span>. Built <span class="m">2021</span>-08-25T23:38:40.103Z <span class="o">(</span><span class="m">6</span> days old<span class="o">)</span>
  Java:   <span class="m">16</span>.0.2 from /usr/lib/jvm/java-16-openjdk on amd64 <span class="o">(</span>64bit<span class="o">)</span>. 16064MB available
  Paths:  <span class="nv">Current</span> <span class="o">=</span> /tmp/tt, Package <span class="nv">Cache</span> <span class="o">=</span> /home/jmandel/.fhir/packages
  Params: -ig site -profile http://hl7.org/fhir/us/cancer-reporting/StructureDefinition/us-pathology-next-of-kin rp.json
Scanning <span class="k">for</span> versions <span class="o">(</span>no -version parameter<span class="o">)</span>:
  Package site: <span class="m">4</span>.0
-&gt; use version <span class="m">4</span>.0
Loading
  Load FHIR v4.0 from hl7.fhir.r4.core#4.0.1 - <span class="m">4575</span> resources <span class="o">(</span><span class="m">00</span>:02.0460<span class="o">)</span>
  Load hl7.terminology#2.1.0 - <span class="m">3767</span> resources <span class="o">(</span><span class="m">00</span>:00.0471<span class="o">)</span>
  Terminology server http://tx.fhir.org - Version <span class="m">1</span>.9.382 <span class="o">(</span><span class="m">00</span>:01.0228<span class="o">)</span>
  Load site+  .. load IG from hl7.fhir.us.core#4.0.0
+  .. load IG from hl7.fhir.uv.bulkdata#1.0.1
+  .. load IG from us.nlm.vsac#0.3.0
+  .. load IG from hl7.fhir.us.medmorph#0.1.0
+  .. load IG from hl7.fhir.us.core#3.1.0
 - <span class="m">9118</span> resources <span class="o">(</span><span class="m">00</span>:12.0863<span class="o">)</span>
  Get set...  go <span class="o">(</span><span class="m">00</span>:00.0012<span class="o">)</span>
Validating
  Profiles: <span class="o">[</span>http://hl7.org/fhir/us/cancer-reporting/StructureDefinition/us-pathology-next-of-kin<span class="o">]</span>
  Validate rp.json <span class="m">00</span>:00.0731
Done. Times: Loading: <span class="m">00</span>:17.0361, validation: <span class="m">00</span>:00.0731. <span class="nv">Memory</span> <span class="o">=</span> 3Gb

*FAILURE*: <span class="m">1</span> errors, <span class="m">0</span> warnings, <span class="m">0</span> notes
  Error @ RelatedPerson.relationship<span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">(</span>line <span class="m">16</span>, col6<span class="o">)</span> : The pattern <span class="o">[</span>system http://terminology.hl7.org/CodeSystem/v2-0131, code N, and display <span class="s1">'Next-of-Kin'</span><span class="o">]</span> defined <span class="k">in</span> the profile http://hl7.org/fhir/us/cancer-reporting/StructureDefinition/us-pathology-next-of-kin not found. Issues: <span class="o">[</span>ValidationMessage<span class="o">[</span><span class="nv">level</span><span class="o">=</span>ERROR,type<span class="o">=</span>VALUE,location<span class="o">=</span>RelatedPerson.relationship<span class="o">[</span><span class="m">1</span><span class="o">]</span>.coding.system,message<span class="o">=</span>Missing element <span class="s1">'system'</span> - required by fixed value assigned <span class="k">in</span> profile http://hl7.org/fhir/us/cancer-reporting/StructureDefinition/us-pathology-next-of-kin<span class="o">]</span>, ValidationMessage<span class="o">[</span><span class="nv">level</span><span class="o">=</span>ERROR,type<span class="o">=</span>VALUE,location<span class="o">=</span>RelatedPerson.relationship<span class="o">[</span><span class="m">1</span><span class="o">]</span>.coding.code,message<span class="o">=</span>Missing element <span class="s1">'code'</span> - required by fixed value assigned <span class="k">in</span> profile http://hl7.org/fhir/us/cancer-reporting/StructureDefinition/us-pathology-next-of-kin<span class="o">]</span>, ValidationMessage<span class="o">[</span><span class="nv">level</span><span class="o">=</span>ERROR,type<span class="o">=</span>VALUE,location<span class="o">=</span>RelatedPerson.relationship<span class="o">[</span><span class="m">1</span><span class="o">]</span>.coding.display,message<span class="o">=</span>Value is <span class="s1">'Fraternal grand-whatsit'</span> but must be <span class="s1">'Next-of-Kin'</span><span class="o">]]</span>
</code></pre></div>
</div></div>



<a name="251488490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251488490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251488490">(Sep 01 2021 at 01:59)</a>:</h4>
<blockquote>
<p>it works as advertised</p>
</blockquote>
<p>well, good</p>



<a name="251488763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251488763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251488763">(Sep 01 2021 at 02:02)</a>:</h4>
<p>Submitted <a href="http://jira.hl7.org/browse/FHIR-33316">FHIR-33316</a> for this tweak</p>



<a name="251488936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251488936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251488936">(Sep 01 2021 at 02:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> has marked this topic as resolved.</p>



<a name="251489198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251489198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251489198">(Sep 01 2021 at 02:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> has marked this topic as unresolved.</p>



<a name="251489212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/%E2%9C%94%20Constraining%20arrays%20of%20CodeableConcepts/near/251489212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/.E2.9C.94.20Constraining.20arrays.20of.20CodeableConcepts.html#251489212">(Sep 01 2021 at 02:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> has marked this topic as resolved.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
