---
layout: page
title: "FHIR Chat  · stack dump with -publish parameter · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/stack.20dump.20with.20-publish.20parameter.html">stack dump with -publish parameter</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="217157830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/stack%20dump%20with%20-publish%20parameter/near/217157830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/stack.20dump.20with.20-publish.20parameter.html#217157830">(Nov 18 2020 at 16:17)</a>:</h4>
<p>Not sure if this is a sushi issue or publisher issue. Since publisher is giving me stack dump instead of an error msg, I figured I would post it here.</p>
<p>versions:<br>
SUSHI v1.0.1 (implements FHIR Shorthand specification v1.0.0)<br>
FHIR IG Publisher Version 1.1.42 (Git# 6036cc0fc6a7). Built 2020-11-13T20:16:00.666Z (4 days old)</p>
<p>I'm doing a <code>sushi --init</code> and defaulting everything. It creates a single project with a patient resource. Then I updated publisher, and run it. Every builds fine. No publisher errors, but 2 warnings and 11 broken links. Then I run publisher again and add the <code>-publish</code> parameter and I get a stack dump at the very end during the onGenerate bit. No output is produced except for a <code>qa.json</code> file. Here's an example session, commented and edited for brevity:</p>
<div class="codehilite"><pre><span></span><code>$ sushi --init
# entered defaults

$ cd ExampleIG/
$ sushi .
# no errors

$ ./_updatePublisher.sh
# entered defaults, updated scripts = y

$ java -jar input-cache/publisher.jar -ig ig.ini
FHIR IG Publisher Version 1.1.42 (Git# 6036cc0fc6a7). Built 2020-11-13T20:16:00.666Z (4 days old)
File log: /var/folders/tz/3rrsdjx94d5fj_z_trln782xzm_j0b/T/fhir-ig-publisher-tmp.log
Detected Java version: 1.8.0_172 from /Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre on x86_64 (64bit). 3641MB available
Parameters: -ig ig.ini
...etc...
onGenerate:
Generating Summary Outputs                                                       (00:25.0230)
Sending Usage Stats to Server                                                    (00:26.0351)
## Memory (MB): Use = 700, Free = 482, Total = 1183, Max =3641
Reclaiming memory...
## Memory (MB): Use = 181, Free = 1018, Total = 1200, Max =3641
Jekyll: Source: /Users/bmilius/Documents/src/fsh/ExampleIG/temp/pages            (00:27.0510)
Jekyll: Generating...                                                            (00:27.0510)
Jekyll: done in 0.295 seconds.                                                   (00:27.0805)
Installing fhir.example#dev to the package cache
  Fetching:
  Installing:  done.
Checking Output HTML                                                             (00:28.0037)
found 496 files                                                                  (00:28.0042)
.........................................
.........................................
  ... 496 html files, 0 pages invalid xhtml (0%)                                 (00:28.0660)
  ... 8350 links, 11 broken links (0%)                                           (00:28.0661)
Build final .zip                                                                 (00:28.0661)
Final .zip built                                                                 (00:28.0890)
Finished. Times: loading: 00:00.0217, generate: 00:17.0217, narrative generation: 00:00.0204, realm-rules: 00:00.0000, previous-version: 00:00.0000, jekyll: 00:01.0178, validation: 00:00.0362 (#2), template: 00:08.0660 (#3) (00:29.0242)
context [anonymous] 2:13 attribute path isn&#39;t defined
context [anonymous] 2:13 attribute path isn&#39;t defined
Validation output in /Users/bmilius/Documents/src/fsh/ExampleIG/output/qa.html
Errors: 0, Warnings: 2, Info: 0, Broken Links = 11 (00:29.0354)
Done. This IG has been built using the &#39;normal&#39; process for local use. If building to host on an an external website, use the process documented [yet to be documented]]) (00:29.0355)

$ java -jar input-cache/publisher.jar -ig ig.ini -publish
FHIR IG Publisher Version 1.1.42 (Git# 6036cc0fc6a7). Built 2020-11-13T20:16:00.666Z (4 days old)
File log: /var/folders/tz/3rrsdjx94d5fj_z_trln782xzm_j0b/T/fhir-ig-publisher-tmp.log
Detected Java version: 1.8.0_172 from /Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre on x86_64 (64bit). 3641MB available
Parameters: -ig ig.ini -publish
...etc...
onGenerate:Generating Summary Outputs                                                       (00:21.0419)
Sending Usage Stats to Server                                                    (00:22.0989)
## Memory (MB): Use = 543, Free = 421, Total = 965, Max =3641
Reclaiming memory...
## Memory (MB): Use = 181, Free = 979, Total = 1160, Max =3641
Publishing Content Failed: null                                                  (00:23.0261)
                                                                                 (00:23.0261)
Use -? to get command line help                                                  (00:23.0261)
                                                                                 (00:23.0261)
Stack Dump (for debugging):                                                      (00:23.0261)
java.lang.NullPointerException
    at java.lang.String.replace(String.java:2240)
    at org.hl7.fhir.igtools.publisher.Publisher.fixSearchForm(Publisher.java:5016)
    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4932)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:884)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:728)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8373)
$
</code></pre></div>



<a name="217158673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/stack%20dump%20with%20-publish%20parameter/near/217158673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/stack.20dump.20with.20-publish.20parameter.html#217158673">(Nov 18 2020 at 16:22)</a>:</h4>
<p>why are you adding a -publish parameter?</p>



<a name="217159168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/stack%20dump%20with%20-publish%20parameter/near/217159168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/stack.20dump.20with.20-publish.20parameter.html#217159168">(Nov 18 2020 at 16:25)</a>:</h4>
<p>I'm creating IGs to be published on a non-HL7 server, which will create redirect php scripts, and history. I'm following a procedure you described in another thread. It worked for me for another IG, but that was last June with earlier versions of publisher and sushi. I was getting this error now using the newer sushi and publisher and am trying to figure out whether it was something wrong with my IG or if it's a new sushi/publisher issue, so I tried to create a minimal IG.</p>



<a name="217159630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/stack%20dump%20with%20-publish%20parameter/near/217159630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/stack.20dump.20with.20-publish.20parameter.html#217159630">(Nov 18 2020 at 16:28)</a>:</h4>
<p>using the workflow described here: <br>
<a href="#narrow/stream/179252-IG-creation/topic/IG.20releases/near/196824352">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/IG.20releases/near/196824352</a></p>



<a name="217161509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/stack%20dump%20with%20-publish%20parameter/near/217161509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/stack.20dump.20with.20-publish.20parameter.html#217161509">(Nov 18 2020 at 16:40)</a>:</h4>
<p>you have to provide an additional parameter with -publish, the url you are going to publish at</p>



<a name="217163255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/stack%20dump%20with%20-publish%20parameter/near/217163255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/stack.20dump.20with.20-publish.20parameter.html#217163255">(Nov 18 2020 at 16:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Thanks! That was it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
