---
layout: page
title: "FHIR Chat  · data elements lost in output examples · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html">data elements lost in output examples</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="188023182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188023182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> François Macary <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188023182">(Feb 12 2020 at 15:59)</a>:</h4>
<p>I'm building the fhir-order-catalog IG. This IG includes profiles of PlanDefinition and ChargeItemDefinition. My example of these two resources systematically lose their useContext elements in the output of the IG. In addition PlanDefinition also loses action.definitionCanonical element. See for intance this example in the input: <a href="https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-blood-electrolyte.xml" target="_blank" title="https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-blood-electrolyte.xml">https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-blood-electrolyte.xml</a>, and then check the output in the artifacts of the guide.  Any idea on this issue? Thanks</p>



<a name="188024325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188024325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188024325">(Feb 12 2020 at 16:07)</a>:</h4>
<p>What version of FHIR is the IG targeting?</p>



<a name="188024470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188024470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> François Macary <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188024470">(Feb 12 2020 at 16:08)</a>:</h4>
<p>4.0.1</p>



<a name="188025799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188025799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188025799">(Feb 12 2020 at 16:20)</a>:</h4>
<p>That's really weird...  The order of elements in your source instance is correct.  There appears to be no change from 4.0.1 to R5 for the respective elements.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> any ideas?</p>



<a name="188046288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188046288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188046288">(Feb 12 2020 at 19:41)</a>:</h4>
<p>it was code you wrote, <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> , of course</p>



<a name="188046733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188046733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188046733">(Feb 12 2020 at 19:46)</a>:</h4>
<p>fixed next release</p>



<a name="188055024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188055024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> François Macary <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188055024">(Feb 12 2020 at 21:30)</a>:</h4>
<p>Looking forward to it :-) Thank you, guys.</p>



<a name="188055397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188055397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188055397">(Feb 12 2020 at 21:35)</a>:</h4>
<p>I don't think I'm deserving of thanks in this particular case... (sorry)</p>



<a name="188125225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188125225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> François Macary <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188125225">(Feb 13 2020 at 16:48)</a>:</h4>
<p>The fix is only partial, unfortunately. <br>
Now my examples of PlanDefinition and ChargeItemDefinition have their useContext elements generated in the output. Happy of this!<br>
But my PlanDefinition elements are still missing some child elements  of PlanDefinition.action in the output.</p>
<p>This example:  <a href="https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-blood-electrolyte.xml" target="_blank" title="https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-blood-electrolyte.xml">https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-blood-electrolyte.xml</a> <br>
is missing action.definitionCanonical value="ActivityDefinition/example-lab-blood-electrolyte" in the output. </p>
<p>This example:  <a href="https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-test-serum-creatinine.xml" target="_blank" title="https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-test-serum-creatinine.xml">https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-test-serum-creatinine.xml</a><br>
is missing its two sub-actions and their respective definitionCanonical child elements (lines #107 to #112 vanished from the output)</p>



<a name="188136717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188136717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> François Macary <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188136717">(Feb 13 2020 at 18:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> There is more around parsing PlanDefinition.action. Apparently the IG builder is not able to parse a PlanDefinition with more than one level of nested actions. It aborts with a java error in that case.<br>
Unlike in the Dune novel, it could not say "I can see plans within plans".<br>
I'm guessing that this is closely related to the issue above.</p>



<a name="188142939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188142939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188142939">(Feb 13 2020 at 19:45)</a>:</h4>
<p>looking into this... I notice that you are not using semantic versioning for your version. As an HL7 IG, this will be required before publication</p>



<a name="188144533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188144533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188144533">(Feb 13 2020 at 20:01)</a>:</h4>
<p><span class="user-mention" data-user-id="192504">@François Macary</span>  I found and fixed the issue with action.definitionCanonical but I can not reproduce the issue with the sub-actions. I see it on the ci-build, but not locally. that's real weird, because there's no change since release except for the action.definitionCanonical  thing. </p>
<p>you say:</p>
<blockquote>
<p>It aborts with a java error in that case.</p>
</blockquote>
<p>What is the specific error? I don't see that on the ci-build?</p>



<a name="188187573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188187573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> François Macary <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188187573">(Feb 14 2020 at 08:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I checked right now on the CI build. The PlanDefinition.action.definitionCanonical are still missing for all my 5 examples.<br>
I had commented the more complex one E5 with two levels of sub-actions, which provoked the abort. I'm removing the comments right now.<br>
This one:  <a href="https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-urine24h-creatinine-clearance.xml" target="_blank" title="https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-urine24h-creatinine-clearance.xml">https://github.com/HL7/fhir-order-catalog/blob/master/input/examples/example-lab-panel-urine24h-creatinine-clearance.xml</a> <br>
I have also used the &lt;Debug Summary&gt; button and sent you the content by email, as instructed by this button.<br>
So in summary: <br>
1) I don't see yet any PlanDefinition.action.definitionCanonical in the output<br>
2) The problematic example above aborts tne build.</p>



<a name="188617614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/data%20elements%20lost%20in%20output%20examples/near/188617614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> François Macary <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/data.20elements.20lost.20in.20output.20examples.html#188617614">(Feb 20 2020 at 08:12)</a>:</h4>
<p>All corrected. Thanks <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
