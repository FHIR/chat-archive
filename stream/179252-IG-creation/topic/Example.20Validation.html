---
layout: page
title: "FHIR Chat  · Example Validation · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Example.20Validation.html">Example Validation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="177488481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Example%20Validation/near/177488481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Example.20Validation.html#177488481">(Oct 07 2019 at 03:35)</a>:</h4>
<p>I assume that the IG Publisher uses the java validator internally right?<br>
The below resource is in my IG and it fails the validation:<br>
<code>https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/gp-assessment-report</code><br>
(however it does pass the .net validator - which I believe to be correct in this instance)<br>
The errors (2) reported are:</p>
<div class="codehilite"><pre><span></span>entry.request mandatory for batch/transaction/history, otherwise prohibited [entry.all(request.exists() = ((%resource.type = &#39;batch&#39;) or (%resource.type = &#39;transaction&#39;) or (%resource.type = &#39;history&#39;)))]
entry.response mandatory for batch-response/transaction-response/history, otherwise prohibited [entry.all(response.exists() = ((%resource.type = &#39;batch-response&#39;) or (%resource.type = &#39;transaction-response&#39;) or (%resource.type = &#39;history&#39;)))]
</pre></div>


<p>Its complaining about my contained bundle which is a batch request</p>
<div class="codehilite"><pre><span></span>&lt;contained&gt;
    &lt;Bundle&gt;
        &lt;id value=&quot;PrePopQuery&quot;/&gt;
        &lt;type value=&quot;batch&quot;/&gt;
        &lt;entry&gt;
            &lt;fullUrl value=&quot;urn:uuid:88f151c0-a954-468a-88bd-5ae15c08e059&quot;/&gt;
            &lt;request&gt;
                &lt;method value=&quot;GET&quot;/&gt;
                &lt;url value=&quot;RelatedPerson?patient={{%LaunchPatient.id}}&amp;amp;active=true&quot;/&gt;
            &lt;/request&gt;
        &lt;/entry&gt;
    &lt;/Bundle&gt;
&lt;/contained&gt;
</pre></div>



<a name="177490005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Example%20Validation/near/177490005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Example.20Validation.html#177490005">(Oct 07 2019 at 04:27)</a>:</h4>
<p>Why on earth would you use 'contained' for a Batch?  The Batch can clearly stand alone - seems to be a mis-use of 'contained'.</p>



<a name="177507911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Example%20Validation/near/177507911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Example.20Validation.html#177507911">(Oct 07 2019 at 10:45)</a>:</h4>
<p>ok. fixed next release. It was to do with resource/rootResource</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
