---
layout: page
title: "FHIR Chat  · Defining custom queries · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html">Defining custom queries</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229560374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229560374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229560374">(Mar 09 2021 at 21:51)</a>:</h4>
<p>I am venturing into some new space and am defining some custom queries for an IG.  I created the OperationDefinition and it is represented quite nicely.  I'm using a query instead of an operation because I want all of the standard search parameters to be available.  They aren't listed on the generated page for the query definition, but I'm assuming that all of the standard search parameters for queries in general as well as the search parameters for the specific resource (Practitioner, Organization, or Location in my case) would all be accepted?  Or do I have to list those specifically?</p>



<a name="229560840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229560840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229560840">(Mar 09 2021 at 21:55)</a>:</h4>
<p>I'm sort of confused by this line in the specification about named queries:</p>
<blockquote>
<p>For named queries, all the standard search parameters are automatically in scope (though servers do not need to support them unless explicitly documented).</p>
</blockquote>
<p>If I don't document the parameters, then they may or may not be in scope.  If I do document them, then they are definitely in scope.  How do I indicate that these parameters are in scope but these other ones aren't?</p>



<a name="229578470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229578470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229578470">(Mar 09 2021 at 23:57)</a>:</h4>
<p>I have documented the supported SPs in the OD comments or intro. although I never really understood the  difference between an operation and query since they both use OD.</p>



<a name="229579224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229579224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229579224">(Mar 10 2021 at 00:04)</a>:</h4>
<p>so have defined an operation and said could use standard SP like _count etc and still invoked as an operation.  </p>
<p><code>GET /Patient/$foo&amp;_count=6</code></p>



<a name="229579481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229579481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229579481">(Mar 10 2021 at 00:06)</a>:</h4>
<p>truth be told I don't recall ever seeing any queries being specified only operations...</p>



<a name="229581680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229581680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229581680">(Mar 10 2021 at 00:29)</a>:</h4>
<p>Query you can invoke using the search mechanism.  I.e. Patient?_query=foo&amp;parm1=a&amp;param2=b.  All of the standard stuff like _sort, _elements, etc. is fully available.</p>



<a name="229581692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229581692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229581692">(Mar 10 2021 at 00:29)</a>:</h4>
<p>So is paging</p>



<a name="229581710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229581710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229581710">(Mar 10 2021 at 00:29)</a>:</h4>
<p>With a regular operation, you don't get that stuff.</p>



<a name="229601168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229601168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229601168">(Mar 10 2021 at 04:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179252-IG-creation/topic/Defining.20custom.20queries/near/229581680">said</a>:</p>
<blockquote>
<p>Query you can invoke using the search mechanism.  I.e. Patient?_query=foo&amp;parm1=a&amp;param2=b.  All of the standard stuff like _sort, _elements, etc. is fully available.</p>
</blockquote>
<p>And that line from the spec that I quoted - is that just saying that not all servers support all standard search parameters, so if I want to guarantee support for them, I need to be explicit?</p>
<p>Since it is a search, do you get all the resource search parameters as well?</p>



<a name="229601355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229601355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229601355">(Mar 10 2021 at 04:22)</a>:</h4>
<p>That, I don't know.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191405">@Rob Hausam</span>?</p>



<a name="229601654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229601654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229601654">(Mar 10 2021 at 04:26)</a>:</h4>
<p>so I think that, to be safe, a defined query should specify all of the search parameters that it expects can be used with it.</p>



<a name="229606252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Defining%20custom%20queries/near/229606252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Defining.20custom.20queries.html#229606252">(Mar 10 2021 at 05:37)</a>:</h4>
<p>I think that I have the same interpretation as <span class="user-mention" data-user-id="192166">@Jean Duteau</span>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
