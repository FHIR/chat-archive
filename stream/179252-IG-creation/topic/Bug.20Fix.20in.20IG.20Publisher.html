---
layout: page
title: "FHIR Chat  · Bug Fix in IG Publisher · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html">Bug Fix in IG Publisher</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="172009668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172009668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172009668">(Jul 30 2019 at 06:35)</a>:</h4>
<p><span class="user-mention" data-user-id="*">@all</span> if you are producing an IG for publication this cycle, take note: in the next few hours I will release a new version of the IG publisher than includes a rather significant bug fix for the validator. The change is this:</p>
<p>If you specified a fixed value in your profile, and it had a null for any element in the fixed value (in the profile), then the validator would ignore any provided value in any instances that were supposed to conform to the profile. <br>
It's not valid, if you have a fixed value, and it has a null, for the instance not to have null, but this wasn't being checked. </p>
<p>If you are balloting this cycle, please rebuild your IG with the latest publisher, and hunt down and fix any new errors that arise.</p>



<a name="172055334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172055334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172055334">(Jul 30 2019 at 16:55)</a>:</h4>
<blockquote>
<p>If you specified a fixed value in your profile, and it had a null for any element in the fixed value (in the profile), then the validator would ignore any provided value in any instances that were supposed to conform to the profile. <br>
It's not valid, if you have a fixed value, and it has a null, for the instance not to have null, but this wasn't being checked.</p>
</blockquote>
<p>I don't know what this means,  can you provide an example?</p>



<a name="172058526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172058526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172058526">(Jul 30 2019 at 17:32)</a>:</h4>
<p>My understanding: If you provided a fixed value for a Coding that had just a code and a system and your instance was missing a system, it would match for the fixed value anyhow.</p>



<a name="172060677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172060677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172060677">(Jul 30 2019 at 17:54)</a>:</h4>
<p>still not clear.  you have mins for code and system too so the validation is based on that as well.</p>



<a name="172068584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172068584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172068584">(Jul 30 2019 at 19:28)</a>:</h4>
<p>no. if you provided a fix value for Coding that did not include a version , then the validator would completely ignore the version in the instance - it could be present or not</p>



<a name="172070140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172070140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172070140">(Jul 30 2019 at 19:49)</a>:</h4>
<p>when you say " a fix value for Coding "  what do you mean exactly?  because I think of ...</p>
<p>Coding <br>
Coding.value, fixed value = 'foo' , min =1, max =1 <br>
Coding.system, fixed value = '<a href="http://foo.bar.com" target="_blank" title="http://foo.bar.com">http://foo.bar.com</a>', min =1, max =1</p>
<p>so here Coding.version could be present or not and still validate correctly.</p>



<a name="172070377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172070377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172070377">(Jul 30 2019 at 19:52)</a>:</h4>
<p>no. if you specify a fixed value for a coding of </p>
<p><code>{ "system" : "http://foo.bar.com", "code" : "foo" }</code></p>



<a name="172073137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172073137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172073137">(Jul 30 2019 at 20:23)</a>:</h4>
<p>I did not know that was even allowed.  :-)</p>



<a name="172073288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172073288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172073288">(Jul 30 2019 at 20:25)</a>:</h4>
<p>no and it would be better to use it - say in US core. I had not noticed</p>



<a name="172073351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172073351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172073351">(Jul 30 2019 at 20:26)</a>:</h4>
<p>though there are 3 CodeableConcept patterns in US core</p>



<a name="172076749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172076749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172076749">(Jul 30 2019 at 21:10)</a>:</h4>
<p>In general, fixed values for complex structures is not a great idea - it means that you're non-conformant if you send a display or primary or extension or anything 'extra'.  And treating extra stuff as an error essentially means imposing a site-specific interface on all clients, which is not good interoperability practice.</p>



<a name="172088360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172088360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172088360">(Jul 31 2019 at 00:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  with the new publisher, I'm getting  "The FHIRPath expression 'Observation.value[x].code' is not valid" Error but not able to trace down which Observation is causing this error. Is there a way to trace the respective Observation.. For your reference, here is the build log: <a href="http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/build.log" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/build.log">http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/build.log</a></p>



<a name="172093049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Bug%20Fix%20in%20IG%20Publisher/near/172093049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Bug.20Fix.20in.20IG.20Publisher.html#172093049">(Jul 31 2019 at 02:04)</a>:</h4>
<p>fixed next release (sometime today)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
