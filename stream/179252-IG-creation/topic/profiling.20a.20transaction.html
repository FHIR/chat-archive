---
layout: page
title: "FHIR Chat  · profiling a transaction · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html">profiling a transaction</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="184939493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/184939493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#184939493">(Jan 06 2020 at 19:51)</a>:</h4>
<p>I have a problem that might be a tooling issue, but might also be a mistake in the way I have profiled a transaction. In my IG (IHE MHD profile), I have profiled a transaction Bundle as having 1 DocumentManifest, 0..* DocumentReference, 0..* List, 0..* Binary, and 0..1 Patient. The problem I have is with my examples. An example of this Bundle seems to not like having the profile indicated at the Bundle level, and also doesn't like Bundle.entity that are DocumentReference where that instance is a profile indicated.<br>
    IG is published <a href="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/index.html" target="_blank" title="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/index.html">http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/index.html</a><br>
    all of my bundle examples have the problem, but most simple is <a href="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-NT2L2T_repo_input_examples_pdb-minimalSubmission" target="_blank" title="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-NT2L2T_repo_input_examples_pdb-minimalSubmission">http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-NT2L2T_repo_input_examples_pdb-minimalSubmission</a></p>
<p>I can eliminate the first "information" by removing the profile declaration on that DocumentReference<br>
Note I do not get these kind of "information" on DocumentManifest or List.... which leads me to think I have messed up, but can't figure out what the mess up is.</p>



<a name="185068499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185068499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185068499">(Jan 08 2020 at 00:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191401">@Eric Haas</span> ?</p>



<a name="185131677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185131677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185131677">(Jan 08 2020 at 16:47)</a>:</h4>
<p>When you say "doesn't like", do you mean the "doesn't match any known slice" messages?</p>



<a name="185164285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185164285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185164285">(Jan 08 2020 at 22:29)</a>:</h4>
<p>I was JUST about to start writing a post about a similar problem (I think)... Are you talking about the slicing of Bundle.entry?</p>
<p>We have this bundle: <a href="https://build.fhir.org/ig/HL7/bser/StructureDefinition-BSeR-ChildhoodNutritionReferralFeedbackSupportingInformation.html" target="_blank" title="https://build.fhir.org/ig/HL7/bser/StructureDefinition-BSeR-ChildhoodNutritionReferralFeedbackSupportingInformation.html">https://build.fhir.org/ig/HL7/bser/StructureDefinition-BSeR-ChildhoodNutritionReferralFeedbackSupportingInformation.html</a> with a slice on entry. The slices are: 2 Observations and one MedicationStatement:</p>
<p><a href="/user_uploads/10155/InijCh-j6hyY6MaTF0EabMVJ/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/InijCh-j6hyY6MaTF0EabMVJ/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/InijCh-j6hyY6MaTF0EabMVJ/pasted_image.png"></a></div><p>I was getting an error on my example: <code>Element matches more than one slice.</code></p>
<p>I tried every permutation and combination of discriminator.type and discrininator.value and they all had various errors, none worked. </p>
<p>I eventually went back to the original type=profile and path=resource and ended up having to change the Observations to get it to work. </p>
<p>I feel that this is a total hack though - what I had to do was to fix the value  of Observation.meta.profile to the uri of the Observation profile. <a href="https://build.fhir.org/ig/HL7/bser/StructureDefinition-BSeR-EarlyChildhoodNutritionFeedbackObservation.html" target="_blank" title="https://build.fhir.org/ig/HL7/bser/StructureDefinition-BSeR-EarlyChildhoodNutritionFeedbackObservation.html">https://build.fhir.org/ig/HL7/bser/StructureDefinition-BSeR-EarlyChildhoodNutritionFeedbackObservation.html</a>:</p>
<p><a href="/user_uploads/10155/fSfPgjm14Wtg-LOs41HWvxtB/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/fSfPgjm14Wtg-LOs41HWvxtB/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/fSfPgjm14Wtg-LOs41HWvxtB/pasted_image.png"></a></div><p>I thought that maybe it wasn't able to differentiate between slices because Observation.code is bound to a value set (extensible). But I'm pretty sure the same pattern works in a Composition.section.entry slice and there isn't an issue. (ETA: It's not quite the same pattern with the Composition.section.entry.slice because the type is Reference there whereas in the Bundle.entry it's Resource)</p>
<p>So - not sure if this is the same issue, but it's similar?</p>



<a name="185166840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185166840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185166840">(Jan 08 2020 at 22:57)</a>:</h4>
<p>seems similar.</p>



<a name="185166935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185166935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185166935">(Jan 08 2020 at 22:58)</a>:</h4>
<p>I noticed today that <span class="user-mention" data-user-id="191405">@Rob Hausam</span> has done something similar in the IPS implementation guide for a Composition Bundle. SO I am going to look into that. He doesn't get any informational or warnings.</p>



<a name="185169990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185169990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185169990">(Jan 08 2020 at 23:44)</a>:</h4>
<p>Funny, I just looked at his IG too - saw a commit message that made me think it might be similar. But I can't see a Bundle profile in that IG. There is a Composition that slices on section.entry, but it's not quite the same - and the slicing there has always worked fine (reference vs resource maybe).</p>



<a name="185171372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185171372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185171372">(Jan 09 2020 at 00:04)</a>:</h4>
<p>Right.  We do use Bundle in IPS, but it's the base and didn't see a need to profile it.  The IPS Composition profile is working, as you both described.  Is it possible to profile Composition (doesn't necessarily need to be a "document") for what you're doing, <span class="user-mention" data-user-id="191404">@John Moehrke</span>?</p>



<a name="185173999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185173999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185173999">(Jan 09 2020 at 00:49)</a>:</h4>
<p>I have an equivalent in that I have  in the MHD transaction (Bundle) there MUST be one and only one DocumentManifest, and that DocumentManifest is similar to Composition in that it  links to everything else... However the IHE MHD specification requires that some of these references to within and some are allowed to be external..  <br>
I tried that with a "degenerate" profile and example -- see <a href="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-UN3UJS_repo_input_examples_pdb-degenerateSubmission" target="_blank" title="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-UN3UJS_repo_input_examples_pdb-degenerateSubmission">http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-UN3UJS_repo_input_examples_pdb-degenerateSubmission</a></p>



<a name="185469184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185469184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185469184">(Jan 13 2020 at 06:56)</a>:</h4>
<p>I'm not sure I follow all this. Can you make a test case? E.g. a profile, and a bundle that fails the profile, with a reason why?</p>



<a name="185469546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185469546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185469546">(Jan 13 2020 at 07:07)</a>:</h4>
<p>I'll create a test case tomorrow...</p>



<a name="185497200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185497200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185497200">(Jan 13 2020 at 14:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> my MHD ig has this problem.</p>



<a name="185529960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185529960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185529960">(Jan 13 2020 at 19:47)</a>:</h4>
<p>where?</p>



<a name="185656066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185656066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185656066">(Jan 15 2020 at 00:20)</a>:</h4>
<p>I am trying to slice in a Bundle to assure that it has ONE DocumentManifest profiled according to a profile in my IG. I have the following slice in my profile on Bundle, but it doesn't seem to work.<br>
        &lt;element id="Bundle.entry"&gt;<br>
            &lt;path value="Bundle.entry" /&gt;<br>
            &lt;slicing&gt;<br>
                &lt;discriminator&gt;<br>
                    &lt;type value="profile" /&gt;<br>
                    &lt;path value="$this.resource" /&gt;<br>
                &lt;/discriminator&gt;<br>
                &lt;description value="Everything in a proper Bundle"/&gt;<br>
                &lt;ordered value="false"/&gt;<br>
                &lt;!-- TODO: This should be closed, but because of the warnings on DocumentReference not being found I need to leave it open --&gt;<br>
                &lt;rules value="open" /&gt;<br>
            &lt;/slicing&gt;<br>
        &lt;/element&gt;<br>
        &lt;element id="Bundle.entry:ManifestSlice"&gt;<br>
            &lt;path value="Bundle.entry" /&gt;<br>
            &lt;sliceName value="ManifestSlice" /&gt;<br>
            &lt;short value="Manifest Slice" /&gt;<br>
            &lt;definition value="The DocumentManifest defining this submission."/&gt;<br>
            &lt;alias value="SubmissionSet" /&gt;<br>
            &lt;min value="1" /&gt;<br>
            &lt;max value="1" /&gt;<br>
        &lt;/element&gt;<br>
        &lt;element id="Bundle.entry:ManifestSlice.resource"&gt;<br>
            &lt;path value="Bundle.entry.resource" /&gt;<br>
            &lt;min value="1" /&gt;<br>
            &lt;type&gt;<br>
                &lt;code value="Reference" /&gt;<br>
                &lt;profile value="<a href="http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.DocumentManifest" target="_blank" title="http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.DocumentManifest">http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.DocumentManifest</a>" /&gt;<br>
            &lt;/type&gt;<br>
        &lt;/element&gt;</p>



<a name="185657480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185657480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185657480">(Jan 15 2020 at 00:46)</a>:</h4>
<p>should be type=type, not type = profile</p>



<a name="185657877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185657877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185657877">(Jan 15 2020 at 00:54)</a>:</h4>
<p>tried that still not finding the DocumentManifest that is in the example</p>



<a name="185657902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185657902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185657902">(Jan 15 2020 at 00:55)</a>:</h4>
<p><a href="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-OG2IBB_repo_input_examples_pdb-degenerateSubmission" target="_blank" title="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-OG2IBB_repo_input_examples_pdb-degenerateSubmission">http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html#_scratch_ig-build-temp-OG2IBB_repo_input_examples_pdb-degenerateSubmission</a></p>



<a name="185662948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185662948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185662948">(Jan 15 2020 at 02:43)</a>:</h4>
<p>Sorry <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  - I meant to create an example for this yesterday... </p>
<p>I tried every single permutation and combination of discriminator type and path and finally ended up wtih profile/resource. <br>
And the only way that combination worked was if I hard coded meta.profile in the Observation profile that is referenced by the slice. (The code on the Observation comes from a value set that is extensibly bound).</p>
<p>This bundle profile works and the example doesn't error (with the meta.profile hack) <a href="http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-TobaccoUseCessationReferralSupportingInformation.html" target="_blank" title="http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-TobaccoUseCessationReferralSupportingInformation.html">http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-TobaccoUseCessationReferralSupportingInformation.html</a> <br>
and here is the Observation that I put the meta.profile hard coded onto: <a href="http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-TelcomCommunicationPreferences.html#tabs-diff" target="_blank" title="http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-TelcomCommunicationPreferences.html#tabs-diff">http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-TelcomCommunicationPreferences.html#tabs-diff</a><br>
The example QA: <a href="http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-M7QR6H_repo_source_resources_bundle_bundle-bser-tobacco-referral-eve-everywoman" target="_blank" title="http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-M7QR6H_repo_source_resources_bundle_bundle-bser-tobacco-referral-eve-everywoman">http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-M7QR6H_repo_source_resources_bundle_bundle-bser-tobacco-referral-eve-everywoman</a></p>
<p>I've edited this bundle profile (<a href="http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-DiabetesPreventionReferralFeedbackSupportingInformation.html#tabs-diff" target="_blank" title="http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-DiabetesPreventionReferralFeedbackSupportingInformation.html#tabs-diff">http://build.fhir.org/ig/HL7/bser/branches/master/StructureDefinition-BSeR-DiabetesPreventionReferralFeedbackSupportingInformation.html#tabs-diff</a>) to be type/$this.resource as you suggest, and removed the meta.profile constraint.<br>
And the example errors: <a href="http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-M7QR6H_repo_source_resources_bundle_bundle-bser-diabetes-referral-feedback-eve-everywoman" target="_blank" title="http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-M7QR6H_repo_source_resources_bundle_bundle-bser-diabetes-referral-feedback-eve-everywoman">http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-M7QR6H_repo_source_resources_bundle_bundle-bser-diabetes-referral-feedback-eve-everywoman</a></p>



<a name="185671967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185671967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185671967">(Jan 15 2020 at 06:21)</a>:</h4>
<p>hmm. I'm working on this. I'm going to use this test profile:</p>



<a name="185671970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185671970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185671970">(Jan 15 2020 at 06:21)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;StructureDefinition</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;id</span> <span class="na">value=</span><span class="s">&quot;bundle-slice-profile-master&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;url</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/test/StructureDefinition/bundle-slice-profile-master&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;status</span> <span class="na">value=</span><span class="s">&quot;active&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;experimental</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;date</span> <span class="na">value=</span><span class="s">&quot;2020-01-06&quot;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;fhirVersion</span> <span class="na">value=</span><span class="s">&quot;4.0.0&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;kind</span> <span class="na">value=</span><span class="s">&quot;resource&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;abstract</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;type</span> <span class="na">value=</span><span class="s">&quot;Bundle&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;baseDefinition</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/Bundle&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;derivation</span> <span class="na">value=</span><span class="s">&quot;constraint&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;differential&gt;</span>
<span class="c">&lt;!-- slice definition for the Bundle content --&gt;</span>
        <span class="nt">&lt;element&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;slicing&gt;</span>
                <span class="nt">&lt;discriminator&gt;</span>
                    <span class="nt">&lt;type</span> <span class="na">value=</span><span class="s">&quot;profile&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;$this.resource&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/discriminator&gt;</span>
                <span class="nt">&lt;ordered</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;rules</span> <span class="na">value=</span><span class="s">&quot;closed&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/slicing&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
<span class="c">&lt;!-- Patient - a simply profiled resource --&gt;</span>
        <span class="nt">&lt;element&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;sliceName</span> <span class="na">value=</span><span class="s">&quot;Patient&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;max</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
        <span class="nt">&lt;elemen&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry.resource&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;type&gt;</span>
                <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;Resource&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;profile</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/test/StructureDefinition/bundle-slice-profile-patient&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
<span class="c">&lt;!-- Observation1 - make sure can differentiate same type but different profile --&gt;</span>
        <span class="nt">&lt;element&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;sliceName</span> <span class="na">value=</span><span class="s">&quot;Obs1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;max</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
        <span class="nt">&lt;elemen&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry.resource&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;type&gt;</span>
                <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;Resource&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;profile</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/test/StructureDefinition/bundle-slice-profile-obs1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
<span class="c">&lt;!-- Observation2 - 2nd observation --&gt;</span>
        <span class="nt">&lt;element&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;sliceName</span> <span class="na">value=</span><span class="s">&quot;Obs2&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;max</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
        <span class="nt">&lt;elemen&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry.resource&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;type&gt;</span>
                <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;Resource&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;profile</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/test/StructureDefinition/bundle-slice-profile-obs2&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
<span class="c">&lt;!-- Procedure (base resource) --&gt;</span>
        <span class="nt">&lt;element&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;sliceName</span> <span class="na">value=</span><span class="s">&quot;Patient&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;max</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
        <span class="nt">&lt;elemen&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry.resource&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;type&gt;</span>
                <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;Resource&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;profile</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/Procedure&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
    <span class="nt">&lt;/differential&gt;</span>
<span class="nt">&lt;/StructureDefinition&gt;</span>
</pre></div>



<a name="185671974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185671974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185671974">(Jan 15 2020 at 06:21)</a>:</h4>
<p>that tests out the range of things we need to test, I think?</p>



<a name="185672780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185672780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185672780">(Jan 15 2020 at 06:42)</a>:</h4>
<p>You might want to fix typo in &lt;elemen&gt;<br>
I think that will do it... <br>
Though one of the reasons I think mine is failing is because Observation.code of one of the slices is bound to a value set and the binding is extensible. Not sure if that has anything to do with it - but it doesn't seem to fail if Observation.code is a fixed value - so if you could make one of your obs similar...</p>



<a name="185673128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185673128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185673128">(Jan 15 2020 at 06:52)</a>:</h4>
<p>no. profile testing simply didn't work on a direct resource boundary. I've been working on code and test cases for several hours now</p>



<a name="185673598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185673598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185673598">(Jan 15 2020 at 07:05)</a>:</h4>
<p>Any ideas what is wrong? I've spent may hours trying to get it to work too...</p>



<a name="185674350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185674350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185674350">(Jan 15 2020 at 07:21)</a>:</h4>
<p>we have slight variation on <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> testcase which works for document and I think should work also for a transaction</p>
<div class="codehilite"><pre><span></span>        <span class="nt">&lt;element</span> <span class="na">id=</span><span class="s">&quot;Bundle.entry&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;slicing&gt;</span>
                <span class="nt">&lt;discriminator&gt;</span>
                    <span class="nt">&lt;type</span> <span class="na">value=</span><span class="s">&quot;profile&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;resource&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/discriminator&gt;</span>
                <span class="nt">&lt;rules</span> <span class="na">value=</span><span class="s">&quot;open&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/slicing&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
        <span class="nt">&lt;element</span> <span class="na">id=</span><span class="s">&quot;Bundle.entry:Composition&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;sliceName</span> <span class="na">value=</span><span class="s">&quot;Composition&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;short</span> <span class="na">value=</span><span class="s">&quot;Composition&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;max</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
        <span class="nt">&lt;element</span> <span class="na">id=</span><span class="s">&quot;Bundle.entry:Composition.resource&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Bundle.entry.resource&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;type&gt;</span>
                <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;Composition&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;profile</span> <span class="na">value=</span><span class="s">&quot;http://fhir.ch/ig/ch-core/StructureDefinition/ch-core-composition&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
</pre></div>


<p>test sample is here: <a href="http://build.fhir.org/ig/hl7ch/ch-core/branches/master/qa.html#_scratch_ig-build-temp-ZH5SXM_repo_examples_bundle_1-ZuweisungZurRadiologischenDiagnostik-FHIR" target="_blank" title="http://build.fhir.org/ig/hl7ch/ch-core/branches/master/qa.html#_scratch_ig-build-temp-ZH5SXM_repo_examples_bundle_1-ZuweisungZurRadiologischenDiagnostik-FHIR">http://build.fhir.org/ig/hl7ch/ch-core/branches/master/qa.html#_scratch_ig-build-temp-ZH5SXM_repo_examples_bundle_1-ZuweisungZurRadiologischenDiagnostik-FHIR</a>, entry[0] is matched</p>



<a name="185674446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185674446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185674446">(Jan 15 2020 at 07:23)</a>:</h4>
<p>difference:</p>
<ul>
<li>discriminator path: resource instead of $this.resource</li>
<li>type.code: resource name (Composition) instead of 'Resource'</li>
</ul>



<a name="185690203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/185690203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#185690203">(Jan 15 2020 at 11:47)</a>:</h4>
<p>the validator will reject that now, after todays work .... code must be Resource</p>



<a name="213392373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/213392373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#213392373">(Oct 15 2020 at 08:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/profiling.20a.20transaction/near/185690203">said</a>:</p>
<blockquote>
<p>the validator will reject that now, after todays work .... code must be Resource</p>
</blockquote>
<p>With the latest publisher (v1.1.35), there is an error (Profile <a href="http://fhir.ch/ig/ch-core/StructureDefinition/ch-core-composition">http://fhir.ch/ig/ch-core/StructureDefinition/ch-core-composition</a> is for type Composition, but this element has type Resource) when we do it this way. Do we have to adjust our profile or is it an error in the publisher?</p>
<div class="codehilite"><pre><span></span><code>         &lt;element id=&quot;Bundle.entry&quot;&gt;
            &lt;path value=&quot;Bundle.entry&quot; /&gt;
            &lt;slicing&gt;
                &lt;discriminator&gt;
                    &lt;type value=&quot;profile&quot; /&gt;
                    &lt;path value=&quot;resource&quot; /&gt;
                &lt;/discriminator&gt;
                &lt;rules value=&quot;open&quot; /&gt;
            &lt;/slicing&gt;
        &lt;/element&gt;
        &lt;element id=&quot;Bundle.entry:Composition&quot;&gt;
            &lt;path value=&quot;Bundle.entry&quot; /&gt;
            &lt;sliceName value=&quot;Composition&quot; /&gt;
            &lt;short value=&quot;Composition&quot; /&gt;
            &lt;min value=&quot;1&quot; /&gt;
            &lt;max value=&quot;1&quot; /&gt;
        &lt;/element&gt;
        &lt;element id=&quot;Bundle.entry:Composition.resource&quot;&gt;
            &lt;path value=&quot;Bundle.entry.resource&quot; /&gt;
            &lt;min value=&quot;1&quot; /&gt;
            &lt;type&gt;
                &lt;code value=&quot;Resource&quot; /&gt;
                &lt;profile value=&quot;http://fhir.ch/ig/ch-core/StructureDefinition/ch-core-composition&quot; /&gt;
            &lt;/type&gt;
        &lt;/element&gt;
</code></pre></div>



<a name="213395513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/213395513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#213395513">(Oct 15 2020 at 08:46)</a>:</h4>
<p>oh dear I'm sorry</p>



<a name="213430764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/213430764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#213430764">(Oct 15 2020 at 14:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179252-IG-creation/topic/profiling.20a.20transaction/near/213395513">said</a>:</p>
<blockquote>
<p>oh dear I'm sorry</p>
</blockquote>
<p>Does "oh dear" mean, that I have to change the profile?</p>
<ul>
<li>The discriminator of the slice will stay</li>
<li>type.code will change from 'Resource' to 'Composition'</li>
</ul>
<p>Will that be the correct way how to do it?</p>



<a name="213473298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/213473298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#213473298">(Oct 15 2020 at 19:07)</a>:</h4>
<p>no that's an oversight on my part. you don't need to  change anything</p>



<a name="232265369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/232265369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#232265369">(Mar 29 2021 at 13:13)</a>:</h4>
<blockquote>
<p>the validator will reject that now, after todays work .... code must be Resource</p>
</blockquote>
<p>Sorry for resurrecting an old thread, but it appears that this may have implications for SUSHI (<a href="#narrow/stream/215610-shorthand/topic/Support.20for.20slicing.20with.20type.20code.20'Resource'.20and.20profile.20.3F">SUSHI thread</a>). If SUSHI sees a FSH rule like <code>* entry.resource only MyObservationProfile</code>, then it will a) set the <code>type.code</code> to <code>Observation</code>, and b) set the <code>type.profile</code> to the canonical for <code>MyObservationProfile</code>. If you only allow that profile, I don't see why you <em>wouldn't</em> also narrow the <code>type.code</code> to be more specific. This might be helpful to human reviewers if the profile name doesn't so obviously mark its resource type -- and also potentially allows for more efficient processing if mismatched types can be outright rejected before even getting into the profile definition.</p>
<p>But if I understand <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> correctly, he is saying that for some reason, narrowing <code>Resource</code> to <code>Observation</code> would fail validation of a slice that differentiates on type <code>profile</code>?  I don't understand why since it does not affect the set of valid instances at all. Grahame, did I understand you correctly, and if so, can you explain why this is the case?</p>



<a name="232341718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/profiling%20a%20transaction/near/232341718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/profiling.20a.20transaction.html#232341718">(Mar 29 2021 at 21:48)</a>:</h4>
<p>I'm not sure, the details have slipped from my mind. What's the current state of play?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
