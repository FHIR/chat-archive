---
layout: page
title: "FHIR Chat  · Strange error in IG XML introduced when running the publishe · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Strange.20error.20in.20IG.20XML.20introduced.20when.20running.20the.20publishe.html">Strange error in IG XML introduced when running the publishe</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205269836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Strange%20error%20in%20IG%20XML%20introduced%20when%20running%20the%20publishe/near/205269836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Strange.20error.20in.20IG.20XML.20introduced.20when.20running.20the.20publishe.html#205269836">(Jul 28 2020 at 18:05)</a>:</h4>
<p>Hello</p>
<p>With the latest publisher, I am getting a strange error within the implementation guide resource.<br>
Error Log: <a href="http://build.fhir.org/ig/HL7/FHIR-ONC-Meds/branches/master/qa.html">http://build.fhir.org/ig/HL7/FHIR-ONC-Meds/branches/master/qa.html</a><br>
Project Link: <a href="https://github.com/HL7/FHIR-ONC-Meds/">https://github.com/HL7/FHIR-ONC-Meds/</a><br>
All files are checked in.</p>
<p>Here is the text of the error. The references are not there in the ig-new.xml file, however when i run publisher these things get added to the ig-new.xml file and then the errors are reported.</p>
<p>ERROR REPORTED:<br>
ImplementationGuide/hl7.fhir.us.meds: ImplementationGuide.extension[0] error The extension <a href="http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource</a> is unknown, and not allowed here</p>
<p>EXTENSION ADDED To ig-new.xml when i run publisher:<br>
&lt;ImplementationGuide xmlns="<a href="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
&lt;id value="ig"/&gt;<br>
&lt;extension url="<a href="http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource</a>"&gt;<br>
&lt;valueString value="/Users/nbashyam/git/FHIR-ONC-Meds/source/resources"/&gt;<br>
&lt;/extension&gt;<br>
&lt;extension url="<a href="http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource</a>"&gt;<br>
&lt;valueString value="/Users/nbashyam/git/FHIR-ONC-Meds/source/examples"/&gt;<br>
&lt;/extension&gt;<br>
&lt;extension url="<a href="http://hl7.org/fhir/StructureDefinition/igpublisher-folder-pages">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-pages</a>"&gt;<br>
&lt;valueString value="/Users/nbashyam/git/FHIR-ONC-Meds/framework"/&gt;<br>
&lt;/extension&gt;<br>
&lt;extension url="<a href="http://hl7.org/fhir/StructureDefinition/igpublisher-folder-pages">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-pages</a>"&gt;<br>
&lt;valueString value="/Users/nbashyam/git/FHIR-ONC-Meds/source/pages"/&gt;<br>
&lt;/extension&gt;</p>
<p>Looking to solve the mystery..</p>



<a name="205270109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Strange%20error%20in%20IG%20XML%20introduced%20when%20running%20the%20publishe/near/205270109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Strange.20error.20in.20IG.20XML.20introduced.20when.20running.20the.20publishe.html#205270109">(Jul 28 2020 at 18:07)</a>:</h4>
<p>There has been signficant change in the way the  IG build gets instructions. almost all of ig.ini is now in the IG xml; as is many other things. See <a href="https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters">https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters</a></p>



<a name="205291111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Strange%20error%20in%20IG%20XML%20introduced%20when%20running%20the%20publishe/near/205291111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Strange.20error.20in.20IG.20XML.20introduced.20when.20running.20the.20publishe.html#205291111">(Jul 28 2020 at 21:09)</a>:</h4>
<p>well, you have a very strange set up. ig-new.xml is produced to help you migrate to the new ig setup, instead of using the template. And it looks like you have kind of done that, but not properly. The code is still finding and running based on ig.json, so still producing ig-new.xml. In which case, ig-new.xml should not be loaded into the IG - it should be ignored. </p>
<p>I'm not sure what to do to fix because I'm not sure what you're trying to do here</p>



<a name="205294868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Strange%20error%20in%20IG%20XML%20introduced%20when%20running%20the%20publishe/near/205294868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Strange.20error.20in.20IG.20XML.20introduced.20when.20running.20the.20publishe.html#205294868">(Jul 28 2020 at 21:49)</a>:</h4>
<p>@dragon  I just cloned the repro and ran it and here is your problem in the ig.json file:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;ig-new.xml&quot;</span><span class="p">,</span>  <span class="err">&lt;----</span> <span class="err">replace</span> <span class="err">this</span> <span class="err">with</span> <span class="err">ig.xml</span>
  <span class="nt">&quot;sct-edition&quot;</span><span class="p">:</span> <span class="s2">&quot;http://snomed.info/sct/731000124108&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;CC0-1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;publisher&quot;</span><span class="p">:</span> <span class="s2">&quot;HL7 International - Pharmacy Work Group&quot;</span><span class="p">,</span>
  <span class="nt">&quot;gen-examples&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
<span class="err">...</span>
</code></pre></div>



<a name="205301814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Strange%20error%20in%20IG%20XML%20introduced%20when%20running%20the%20publishe/near/205301814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nagesh Bashyam <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Strange.20error.20in.20IG.20XML.20introduced.20when.20running.20the.20publishe.html#205301814">(Jul 28 2020 at 23:12)</a>:</h4>
<p>Thanks Grahame and Eric , Fixed it per the suggestion and it is working.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
