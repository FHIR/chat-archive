---
layout: page
title: "FHIR Chat  · Relative link bug? · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html">Relative link bug?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215367185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/215367185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#215367185">(Nov 02 2020 at 19:33)</a>:</h4>
<p>Hi -- I am trying to figure out what part IG publishing workflow is responsible for what I think is a bug.</p>
<p>I am adding a relative link in the Description field of a StructureDefintion implemented in FSH (<a href="https://github.com/HL7/fhir-mCODE-ig/blob/debug-relative-link-issue/input/fsh/SD_Bundle.fsh#L5">view on GitHub</a>:</p>
<div class="codehilite"><pre><span></span><code>Profile: MCODEPatientBundle
Parent: Bundle
Id: mcode-patient-bundle
Title: &quot;mCODE Patient Bundle&quot;
Description: &quot;A collection of data for an mCODE cancer patient. [See details here](mcode-patient-bundle.html).&quot;
</code></pre></div>
<p>This link appears as a relative link on <a href="https://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/debug-relative-link-issue/artifacts.html"><code>artifacts.html</code></a>:</p>
<div class="codehilite"><pre><span></span><code>&lt;a href=&quot;mcode-patient-bundle.html&quot;&gt;See details here&lt;/a&gt;
</code></pre></div>
<p>However, on the <a href="https://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/debug-relative-link-issue/StructureDefinition-mcode-patient-bundle.html">StructureDefinition</a> page, the link is converted to an absolute link to <code>http://hl7.org/fhir/R4/</code>:</p>
<div class="codehilite"><pre><span></span><code>&lt;tr&gt;&lt;td&gt;Definition:&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;a name=&quot;8c170834-61ce-429b-99b2-d3dbf6558d9a&quot;&gt;&lt;/a&gt;A collection of data for an mCODE cancer patient. &lt;a href=&quot;http://hl7.org/fhir/R4/mcode-patient-bundle.html&quot;&gt;See details here&lt;/a&gt;.&lt;/p&gt;
&lt;/td&gt;&lt;/tr&gt;
</code></pre></div>
<p><strong>I believe the expected behavior here is a relative link</strong> (<code>&lt;a href="mcode-patient-bundle.html"&gt;See details here&lt;/a&gt;</code>) on all pages where this appears in the built IG.</p>
<p>I looked at the JSON generated by SUSHI, and it appears the Markdown link is being passed to the IG Publisher correctly:</p>
<div class="codehilite"><pre><span></span><code>fsh-generated/resources/StructureDefinition-mcode-patient-bundle.json:
   17    &quot;title&quot;: &quot;mCODE Patient Bundle&quot;,
   18    &quot;status&quot;: &quot;active&quot;,
   19:   &quot;description&quot;: &quot;A collection of data for an mCODE cancer patient. [See details here](mcode-patient-bundle.html).&quot;,
</code></pre></div>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  Does this indicate a bug with the IG Publisher? If so, does this need an issue on GitHub? If not, what else could be the culprit?</p>



<a name="215374844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/215374844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#215374844">(Nov 02 2020 at 20:35)</a>:</h4>
<p>I'll have to debug. I don't know why it would be interpreting the context of the link as the base specification</p>



<a name="215387498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/215387498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#215387498">(Nov 02 2020 at 22:23)</a>:</h4>
<p>Thanks, please let me know if you need any additional information to reproduce this.</p>



<a name="215660512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/215660512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#215660512">(Nov 05 2020 at 00:57)</a>:</h4>
<p>this doesn't happen for me. I get:</p>



<a name="215660554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/215660554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#215660554">(Nov 05 2020 at 00:58)</a>:</h4>
<div class="codehilite" data-code-language="HTML"><pre><span></span><code><span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>A collection of data for an mCODE cancer patient. <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"mcode-patient-bundle.html"</span><span class="p">&gt;</span>See details here<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</code></pre></div>



<a name="215703449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/215703449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#215703449">(Nov 05 2020 at 12:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I reproduced this with a completely fresh clone of the mCODE git repo and the most up-to-date publisher. The full dump from my terminal showing this is here: <a href="https://gist.github.com/masnick/da69d3dd925ff012214553b181124e2f">https://gist.github.com/masnick/da69d3dd925ff012214553b181124e2f</a></p>
<p>The key line showing the repro (at the very bottom):</p>
<div class="codehilite"><pre><span></span><code>$ cat output/StructureDefinition-mcode-patient-bundle.html | grep http://hl7.org/fhir/R4/mcode-patient-bundle.html
 &lt;tr&gt;&lt;td&gt;Definition:&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;a name=&quot;d8c1570f-1bec-486e-a44a-7c51d63774b6&quot;&gt;​&lt;/a&gt;A collection of data for an mCODE cancer patient. &lt;a href=&quot;http://hl7.org/fhir/R4/mcode-patient-bundle.html&quot;&gt;See details here&lt;/a&gt;.&lt;/p&gt;
</code></pre></div>
<p>The CI build is also reproducing this, at least as of Monday. I believe <span class="user-mention" data-user-id="191447">@Mark Kramer</span> also saw this happen on his Windows computer.</p>



<a name="216194315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/216194315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#216194315">(Nov 10 2020 at 10:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> any luck reproducing this? We have some changes we want to merge into the mCODE IG that depend on these relative links working.</p>



<a name="217395865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/217395865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#217395865">(Nov 20 2020 at 12:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> sorry to bug you again...have you had any luck reproducing/fixing this?</p>



<a name="217932680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Relative%20link%20bug%3F/near/217932680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Relative.20link.20bug.3F.html#217932680">(Nov 25 2020 at 20:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> this appears to be resolved with the latest publisher. Thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
