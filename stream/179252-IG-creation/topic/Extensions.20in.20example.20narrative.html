---
layout: page
title: "FHIR Chat  · Extensions in example narrative · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html">Extensions in example narrative</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208819097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208819097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niklas Haldorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208819097">(Sep 02 2020 at 12:59)</a>:</h4>
<p>Hi everyone,<br>
in my IG I have a StructureDefinition that adds an Extension to the ResearchStudy resource, but the auto-generated narrative for the examples does not show this extension.  <br>
I have already created a liquid template for the extension, but if I use that template for the ResearchStudy then the narrative only shows the extension.<br>
Is there a way to just add the rules for the extension to the default template or do I have to copy the complete default template into my template?<br>
Thanks for your attention,<br>
Niklas</p>



<a name="208821756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208821756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208821756">(Sep 02 2020 at 13:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> Could we set up some sort of inheritance of liquid templates?  (Obviously we'd need to convert all the existing narrative code to be liquid and I don't know how feasible that is either - <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>)</p>



<a name="208826065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208826065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208826065">(Sep 02 2020 at 13:49)</a>:</h4>
<p>we can refactor the base templates as layouts and then template get inserted as content. but that requires the templating to use front matter to indicate the layout.  <a href="https://jekyllrb.com/docs/layouts/">https://jekyllrb.com/docs/layouts/</a></p>
<p>otherwise use conditional includes</p>
<div class="codehilite"><pre><span></span><code>{% if foo %} {%  include  bar.md %} {% endif  %}
</code></pre></div>



<a name="208826592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208826592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208826592">(Sep 02 2020 at 13:53)</a>:</h4>
<p>This isn't about the rendering templates, this is about the liquid templates the publisher uses to generate narratives.</p>



<a name="208836516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208836516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208836516">(Sep 02 2020 at 14:56)</a>:</h4>
<p>ok let me think about this ... I only created one of those.</p>



<a name="208870123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208870123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208870123">(Sep 02 2020 at 18:51)</a>:</h4>
<p><span class="user-mention" data-user-id="312153">@Niklas Haldorn</span>  is modifying the liquid template something that mere mortals might attempt?   Can you point me to the example of what you did?</p>
<p>I've taken a different approach, just doing a concise pseudo-FSH dump of the examples in the notes section with no customization for the profile.  <a href="https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/InsurancePlan-AcmeQHPGold.html#notes">https://build.fhir.org/ig/HL7/davinci-pdex-plan-net/InsurancePlan-AcmeQHPGold.html#notes</a></p>



<a name="208880090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208880090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208880090">(Sep 02 2020 at 20:06)</a>:</h4>
<p>no liquid doesn't have any concept of inheritance.</p>



<a name="208883152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208883152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208883152">(Sep 02 2020 at 20:30)</a>:</h4>
<p>So no way to define one liquid narrative that leverages a different liquid file?</p>



<a name="208883547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208883547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208883547">(Sep 02 2020 at 20:33)</a>:</h4>
<p>I'm not sure what that means. you can always provide your own liquid template, either in a template or an implementation guide</p>



<a name="208883660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208883660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208883660">(Sep 02 2020 at 20:34)</a>:</h4>
<p>back to <span class="user-mention" data-user-id="312153">@Niklas Haldorn</span>'s question: is this something I can reproduce? It actually sounds like something I've overlooked to me</p>



<a name="208883933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208883933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208883933">(Sep 02 2020 at 20:36)</a>:</h4>
<p>Sure, you can provide your own - but if you want to use the 'standard' one (including taking advantage of future enhancements), but insert some stuff, it'd be nice if there was a way.  Could we possibly embed special comments that a subsequent liquid processor could use in consuming the results of a liquid first pass to add extra stuff at certain key locations?</p>



<a name="208886226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208886226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208886226">(Sep 02 2020 at 20:54)</a>:</h4>
<p>some things are just a bad idea</p>



<a name="208886841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208886841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208886841">(Sep 02 2020 at 20:58)</a>:</h4>
<p>So your preference is fork from what exists and override and monitor the base for your fork to see if you want to incorporate future changes?</p>



<a name="208891178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208891178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208891178">(Sep 02 2020 at 21:37)</a>:</h4>
<p>it's not really my preference. that's like asking me if gravity is my preference</p>



<a name="208951333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208951333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niklas Haldorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208951333">(Sep 03 2020 at 11:15)</a>:</h4>
<p><span class="user-mention" data-user-id="215604">@Saul Kravitz</span>  i found a documentation about how to use liquid in the IG Stream: <a href="#narrow/stream/179252-IG-creation/topic/Using.20liquid">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Using.20liquid</a>. I dont know how to modify the default templates, but if you just want to replace the default template with your custom one, you can follow the steps in the documentation</p>



<a name="208951971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/208951971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Niklas Haldorn <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#208951971">(Sep 03 2020 at 11:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  this is my ResearchStudyExample: <a href="http://build.fhir.org/ig/Daelam/rdd-example/branches/master/ResearchStudy-exampleStudy_extern.html">http://build.fhir.org/ig/Daelam/rdd-example/branches/master/ResearchStudy-exampleStudy_extern.html</a>. The narrative does not display the DataSetDefinition, but the extensions content is important to understand the example. I have written a template for the extension(<a href="https://github.com/Daelam/rdd-example/blob/master/input/liquid/DataSetDefinition.liquid">https://github.com/Daelam/rdd-example/blob/master/input/liquid/DataSetDefinition.liquid</a>), but I am not sure how to include this, because with the current name it gets ignored and if I rename it to ResearchStudy.liquid it overrides the default template and the narrative only show the extension.</p>



<a name="209054667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/209054667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#209054667">(Sep 04 2020 at 04:47)</a>:</h4>
<p>well, I fixed the various bugs that were stopping extensions being rendered.I did note that you extension has an odd structure. Here's what you have:</p>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;extension&quot;</span><span class="err">:</span> <span class="p">[</span> <span class="p">{</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://interopehrate.eu/fhir/StructureDefinition/DataSetDefinition&quot;</span><span class="p">,</span>
    <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;DataRequirement&quot;</span><span class="p">,</span>
      <span class="nt">&quot;valueDataRequirement&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="err">...</span>  <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;DataRequirement&quot;</span><span class="p">,</span>
      <span class="nt">&quot;valueDataRequirement&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="err">...</span>  <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;DataRequirement&quot;</span><span class="p">,</span>
      <span class="nt">&quot;valueDataRequirement&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="err">...</span>  <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;DataRequirement&quot;</span><span class="p">,</span>
      <span class="nt">&quot;valueDataRequirement&quot;</span><span class="p">:</span> <span class="p">{</span><span class="err">...</span> <span class="p">}</span>
<span class="p">}</span> <span class="p">]</span>
</code></pre></div>



<a name="209054669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/209054669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#209054669">(Sep 04 2020 at 04:47)</a>:</h4>
<p>Just do this:</p>



<a name="209054723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/209054723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#209054723">(Sep 04 2020 at 04:48)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;extension&quot;</span><span class="err">:</span> <span class="p">[</span> <span class="p">{</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://interopehrate.eu/fhir/StructureDefinition/DataSetDefinition&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueDataRequirement&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="err">...</span>  <span class="p">}</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://interopehrate.eu/fhir/StructureDefinition/DataSetDefinition&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueDataRequirement&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="err">...</span>  <span class="p">}</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://interopehrate.eu/fhir/StructureDefinition/DataSetDefinition&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueDataRequirement&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="err">...</span>  <span class="p">}</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://interopehrate.eu/fhir/StructureDefinition/DataSetDefinition&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueDataRequirement&quot;</span><span class="p">:</span> <span class="p">{</span><span class="err">...</span> <span class="p">}</span>
 <span class="p">}]</span>
</code></pre></div>



<a name="209054737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Extensions%20in%20example%20narrative/near/209054737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Extensions.20in.20example.20narrative.html#209054737">(Sep 04 2020 at 04:49)</a>:</h4>
<p>as for liquid templates... if you still want to do the liquid template thing, you'll have to handle the whole resource</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
