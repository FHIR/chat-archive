---
layout: page
title: "FHIR Chat  · Narrative size of strucDefs · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html">Narrative size of strucDefs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175569339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175569339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175569339">(Sep 12 2019 at 20:42)</a>:</h4>
<p>The generated narrative of StrucDef contains the Treeview, including inline css. So if your profile contains a lote of nodes the narrative size explodes:<br>
<a href="http://build.fhir.org/ig/HL7/genomics-reporting/obs-variant.profile.xml.html" target="_blank" title="http://build.fhir.org/ig/HL7/genomics-reporting/obs-variant.profile.xml.html">http://build.fhir.org/ig/HL7/genomics-reporting/obs-variant.profile.xml.html</a><br>
narrative = 350,000 chars ~300kb on the narrative alone.</p>



<a name="175569447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175569447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175569447">(Sep 12 2019 at 20:44)</a>:</h4>
<p>So:</p>
<ul>
<li>could the narrative generation for StrucDefs be disabled?</li>
<li>do we need a narrative of StrucDefs? If yes what should be the content?</li>
</ul>



<a name="175572776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175572776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175572776">(Sep 12 2019 at 21:22)</a>:</h4>
<p>The general principle is that we should have narrative everywhere.  If we expect others to do that, we sort of need to set the example.</p>



<a name="175573876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175573876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175573876">(Sep 12 2019 at 21:38)</a>:</h4>
<p>can  you overide the generated narrative with your own?</p>



<a name="175573889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175573889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175573889">(Sep 12 2019 at 21:38)</a>:</h4>
<p>for SDs</p>



<a name="175576651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175576651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175576651">(Sep 12 2019 at 22:21)</a>:</h4>
<p>Yes, but why would you?</p>



<a name="175584960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175584960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175584960">(Sep 13 2019 at 00:58)</a>:</h4>
<p>Because the generated narrative is 350.000 characters long and a copy of the rendered tree view.</p>



<a name="175584999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175584999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175584999">(Sep 13 2019 at 00:58)</a>:</h4>
<p>Including CSS</p>



<a name="175585042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175585042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175585042">(Sep 13 2019 at 00:59)</a>:</h4>
<p>300kb overhead due to the narrative isn‘t acceptable. Could the narrative generation be overwritten/ modified?</p>



<a name="175585115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175585115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175585115">(Sep 13 2019 at 01:00)</a>:</h4>
<p>I would replace it with some explaining text and a link into the profile inside of the IG</p>



<a name="175585881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175585881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175585881">(Sep 13 2019 at 01:19)</a>:</h4>
<p>also if you look at this: <a href="http://build.fhir.org/ig/HL7/genomics-reporting/obs-variant.profile.xml.html" target="_blank" title="http://build.fhir.org/ig/HL7/genomics-reporting/obs-variant.profile.xml.html">http://build.fhir.org/ig/HL7/genomics-reporting/obs-variant.profile.xml.html</a><br>
you have to scroll for ages until you reach the parts you want to look at.</p>



<a name="175631737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175631737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175631737">(Sep 13 2019 at 14:54)</a>:</h4>
<p>ok so the that prompted me to get round to doing something I meant to do do before, and that is that the next release of the IG publisher will create the anchor "end-xhtml" at the end of the  narrative, so that you can add a 'jump past the narrative' link</p>



<a name="175631942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175631942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175631942">(Sep 13 2019 at 14:56)</a>:</h4>
<p>I've never been sure about the utility of putting in the entire tree or not. You might have seen the tree appear in places where the narrative is viewed - it works... tolerably well.</p>



<a name="175631984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175631984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175631984">(Sep 13 2019 at 14:56)</a>:</h4>
<p>that doesn't mean that a simpler text-centered representation wouldn't be better.... but I don't have a good one of them to pull out of my hat....</p>



<a name="175632015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175632015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175632015">(Sep 13 2019 at 14:57)</a>:</h4>
<p>maybe the FL discussion will bring us to that.... though I'm not convinced about that</p>



<a name="175632819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175632819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175632819">(Sep 13 2019 at 15:05)</a>:</h4>
<p>could the narrative creation mechanism in the IG publisher be modified or overwritten by the IG authors? Or is it hardcoded? Propably part of the template?</p>



<a name="175633553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175633553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175633553">(Sep 13 2019 at 15:13)</a>:</h4>
<p>it's hard coded for the core conformance resources (CodeSystem, ValueSet, ConceptMap, StructureDefinition, StructureMap, OperationDefinition, SearchParameter, CapabilityStatement, GraphDefinition)</p>



<a name="175633573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/Narrative%20size%20of%20strucDefs/near/175633573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/Narrative.20size.20of.20strucDefs.html#175633573">(Sep 13 2019 at 15:13)</a>:</h4>
<p>it can be changed for other resources using a liquid template.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
