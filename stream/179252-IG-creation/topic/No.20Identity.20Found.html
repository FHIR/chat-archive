---
layout: page
title: "FHIR Chat  · No Identity Found · IG creation"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/index.html">IG creation</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html">No Identity Found</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="184782409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/184782409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David deRoode <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#184782409">(Jan 04 2020 at 01:46)</a>:</h4>
<p>Anyone seen this error: '''Error loading CodeSystem-2.16.840.1.113883.6.259.json: Internal error in IG NHSNHealthcareAssociatedInfectionReports map: No identity found for <a href="http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259" target="_blank" title="http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259">http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259</a> (00:14.0516)<br>
Publishing Content Failed: Error loading CodeSystem-2.16.840.1.113883.6.259.json: Internal error in IG NHSNHealthcareAssociatedInfectionReports map: No identity found for <a href="http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259" target="_blank" title="http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259">http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259</a> (00:14.0516)'''. </p>
<p>Not sure what 'no identity found' refers to.</p>



<a name="184785562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/184785562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#184785562">(Jan 04 2020 at 03:20)</a>:</h4>
<p>It means that when loading that code system from the package where it's defined, there's no entry in the spec.internals file that indicates what page should be the target of hyperlinks when referring to that resource in the current IG.  It means that there's something wrong with the NPM package for the IG you're pointing to.  If you're able to, try regenerating the referenced IG.  If that's still unhappy, provide a copy of the NPM package for that IG and we can see if we can figure out what's going on.</p>



<a name="184979129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/184979129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#184979129">(Jan 07 2020 at 03:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> we can't regenerate the IG we are pointing to as it's published. The NPM Package is here: <a href="http://hl7.org/fhir/us/hai/package.tgz" target="_blank" title="http://hl7.org/fhir/us/hai/package.tgz">http://hl7.org/fhir/us/hai/package.tgz</a> <br>
It looks like the spec.internals file is correct though? (Not that I really know what it should look like!). But in "paths" it has:</p>
<div class="codehilite"><pre><span></span>&quot;http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259|2.0.0&quot;: &quot;2.0.0/CodeSystem-2.16.840.1.113883.6.259.html&quot;,
    &quot;http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259&quot;: &quot;CodeSystem-2.16.840.1.113883.6.259.html&quot;,
</pre></div>


<p>And in "targets" it has:</p>
<div class="codehilite"><pre><span></span> &quot;CodeSystem-2.16.840.1.113883.6.259.html&quot;,
    &quot;CodeSystem-2.16.840.1.113883.6.259.json.html&quot;,
    &quot;CodeSystem-2.16.840.1.113883.6.259.ttl.html&quot;,
    &quot;CodeSystem-2.16.840.1.113883.6.259.xml.html&quot;,
</pre></div>



<a name="184979277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/184979277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#184979277">(Jan 07 2020 at 03:30)</a>:</h4>
<p>And actually, now I'm confused. There is also this file: <a href="http://hl7.org/fhir/us/hai/STU2/package.tgz" target="_blank" title="http://hl7.org/fhir/us/hai/STU2/package.tgz">http://hl7.org/fhir/us/hai/STU2/package.tgz</a> which is from the circled url in the screen shot: <a href="/user_uploads/10155/HIblrhgPCpnxz40R7r2tEs8-/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/HIblrhgPCpnxz40R7r2tEs8-/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/HIblrhgPCpnxz40R7r2tEs8-/pasted_image.png"></a></div><p>Its contained spec.internals file is quite different to the one at the previous link I sent. Should they not be the same?</p>



<a name="184980437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/184980437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#184980437">(Jan 07 2020 at 04:02)</a>:</h4>
<p>Now I'm thinking it must have had something to do with this thread (<a href="#narrow/stream/179252-IG-creation/topic/Dependency.20package.20missing.20other.2Fspec.2Einternals" title="#narrow/stream/179252-IG-creation/topic/Dependency.20package.20missing.20other.2Fspec.2Einternals">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Dependency.20package.20missing.20other.2Fspec.2Einternals</a>) where <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> fixed our earlier issue. The internals.spec in the STU2 link has the same date as when he fixed it. I think maybe someone just needs to regenerate the tgz?</p>



<a name="185013099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/185013099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#185013099">(Jan 07 2020 at 14:08)</a>:</h4>
<p>I don't see anything obviously wrong from the tgz.  Only thing suspect is that the versions of the artifacts and the versions of the IG aren't the same.  Also, the version-specific paths have a relative path of 2.0.0, which I don't think is correct - though tool would have no way of knowing that.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , thoughts?</p>



<a name="185048050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/185048050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#185048050">(Jan 07 2020 at 19:56)</a>:</h4>
<p>I looked at US Core's file to compare and it also had those version specific paths.</p>



<a name="185048296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/185048296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#185048296">(Jan 07 2020 at 19:58)</a>:</h4>
<p>The second spec.internals file I mentioned that is different (the one at the permanent link for stu2) does not have those version specific paths. It is missing some other stuff at the beginning of the file.</p>



<a name="185469403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/185469403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#185469403">(Jan 13 2020 at 07:02)</a>:</h4>
<p>so this is still an issue?</p>



<a name="185469544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/185469544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#185469544">(Jan 13 2020 at 07:07)</a>:</h4>
<p>Yes it is.</p>



<a name="185470034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/185470034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#185470034">(Jan 13 2020 at 07:19)</a>:</h4>
<p>ok. so I'm not clear what the actual manifestation of it is, or how I would know if I've fixed it</p>



<a name="185470322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/185470322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#185470322">(Jan 13 2020 at 07:26)</a>:</h4>
<p>Let me just rebuild that IG and double check that it's still an issue. I'll get back to you if it is.</p>



<a name="185470781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/185470781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#185470781">(Jan 13 2020 at 07:38)</a>:</h4>
<p>Ok definitely still an issue. Will try to explain...<br>
The HAI LTCF IG is failing to build with the following error message (<a href="http://build.fhir.org/ig/HL7/HAI-LTCF/branches/master/build.log" target="_blank" title="http://build.fhir.org/ig/HL7/HAI-LTCF/branches/master/build.log">http://build.fhir.org/ig/HL7/HAI-LTCF/branches/master/build.log</a>): </p>
<div class="codehilite"><pre><span></span>org.hl7.fhir.exceptions.FHIRException: Error loading CodeSystem-2.16.840.1.113883.6.259.json: Internal error in IG NHSNHealthcareAssociatedInfectionReports map: No identity found for http://hl7.org/fhir/us/hai/CodeSystem/2.16.840.1.113883.6.259
</pre></div>


<p>The HAI LTCF IG has a dependency on the HAI IG that has already been published.</p>
<p>According to Lloyd, that error message means that there is no entry in the spec.internals file to show what page should be the target of hyperlinks when referring to that resource in the IG (HAI ig).</p>
<p>So I did a bit of digging and found two different spec.internals files here: <a href="http://hl7.org/fhir/us/hai/package.tgz" target="_blank" title="http://hl7.org/fhir/us/hai/package.tgz">http://hl7.org/fhir/us/hai/package.tgz</a> and here: <a href="http://hl7.org/fhir/us/hai/STU2/package.tgz" target="_blank" title="http://hl7.org/fhir/us/hai/STU2/package.tgz">http://hl7.org/fhir/us/hai/STU2/package.tgz</a> </p>
<p>The latter spec.internals file looks incomplete. I'm assuming the dependency lookup would be on the specific version (STU2).</p>
<p>Back in November we had a different issue when trying to build the HAI LTCF IG  - HAI was completely missing the spec.internals file. See this thread:  <a href="#narrow/stream/179252-IG-creation/topic/Dependency.20package.20missing.20other.2Fspec.2Einternals" title="#narrow/stream/179252-IG-creation/topic/Dependency.20package.20missing.20other.2Fspec.2Einternals">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Dependency.20package.20missing.20other.2Fspec.2Einternals</a> </p>
<p>You fixed this for us, I'm guessing, by generating the file?</p>
<p>But... and again this is just a guess based on the date on the STU2 spec.internals file (i.e. the same date that you said you'd fixed it) that is missing information that I mention up above, I think maybe something went wrong there and it is missing some stuff??  Like I said just a guess...</p>



<a name="211906925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179252-IG%20creation/topic/No%20Identity%20Found/near/211906925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179252-IG-creation/topic/No.20Identity.20Found.html#211906925">(Oct 01 2020 at 13:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> I get the same when depending on hl7.fhir.r4.core#3.0.2:</p>
<div class="codehilite"><pre><span></span><code>org.hl7.fhir.exceptions.FHIRException: Error loading CapabilityStatement-base.json: Internal error in IG hl7.fhir.r3.core#3.0.2 map: No identity found for http://hl7.org/fhir/CapabilityStatement/base
        at org.hl7.fhir.igtools.publisher.Publisher.loadFromPackage(Publisher.java:2620)
        at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:2574)
        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1754)
        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1334)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:701)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7756)
Caused by: java.lang.Exception: Internal error in IG hl7.fhir.r3.core#3.0.2 map: No identity found for http://hl7.org/fhir/CapabilityStatement/base
        at org.hl7.fhir.igtools.publisher.Publisher.loadResourceFromPackage(Publisher.java:2652)
        at org.hl7.fhir.igtools.publisher.Publisher.loadFromPackage(Publisher.java:2617)
        ... 5 more
</code></pre></div>


<p>Dependencies in my IG:</p>
<div class="codehilite"><pre><span></span><code>  &quot;dependsOn&quot;: [
    {
      &quot;packageId&quot;: &quot;hl7.fhir.r3.core&quot;,
      &quot;version&quot;: &quot;3.0.2&quot;,
    }
</code></pre></div>


<p>I probably shouldn't have done that, it's already inferred by the validator from my FHIR version setting and runs fine when I leave out the <code>dependsOn</code>. But perhaps it helps debugging the above.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
