---
layout: page
title: "FHIR Chat  · docs / Issue #76 Extensions · cds hooks/github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/index.html">cds hooks/github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html">docs / Issue #76 Extensions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153902123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153902123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153902123">(Aug 11 2017 at 11:32)</a>:</h4>
<p>robs16 opened <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>
<blockquote>
<p>There will be times where CDS Hooks structure will need to be extended for a particular service provider, hook, etc. Can the documents be updated to describe how this should be done to limit impacts as the spec evolves?  Should cover things like JWT extensions, discovery extensions, request extensions, etc. </p>
<p>The issue I see here is that a service provider could easily fall into the trap of building a service that actually broke when sent an extended request, and vice-versa where the response/discovery is extended and that breaks the EHRs implementation.</p>
</blockquote>



<a name="153905134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153905134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153905134">(Sep 09 2017 at 13:35)</a>:</h4>
<p>robs16 <a href="https://github.com/cds-hooks/docs/issues/76#issuecomment-328277744" target="_blank" title="https://github.com/cds-hooks/docs/issues/76#issuecomment-328277744">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>
<blockquote>
<p>I haven't seen any comments on this and I believe it will be really important, so I wrote up the following as an example of what this should potentially be:</p>
<div class="codehilite"><pre><span></span>Extensibility
This specification is meant to cover the needs of most services. However it is clear
that this specification will evolve over time and may not meet the needs of all services
and all consumers in any given revision. As a result, implementations may add extensions
to meet their particular needs. In order to keep these extensions from negatively
impacting existing implementation, they will follow a form similar to FHIR, but available
at each level of structure within the request and response.

example discovery extension
{
  &quot;services&quot;: [
    {
      &quot;title&quot;: &quot;Stanson Health Advisory&quot;,
      &quot;hook&quot;: &quot;patient-view&quot;,
      &quot;id&quot;: &quot;patientview&quot;,
      &quot;prefetch&quot;: {
        &quot;patient&quot;: &quot;Patient/{{Patient.id}}&quot;
      },
      &quot;description&quot;: &quot;clinical decision support for patient view&quot;,
      &quot;extension&quot;: [
        {
          &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/client-conformance&quot;,
          &quot;valueUri&quot;: &quot;http://my.hooks.org/fhir/102/Conformance/patientview&quot;
        }
      ]

    }
  ]
}


example request extension:
{
  &quot;hookInstance&quot;: &quot;84162911-F961-4EE7-B348-3FCE01FFFDDF&quot;,
  &quot;hook&quot;: &quot;order-review&quot;,
  &quot;user&quot;: &quot;Practitioner/testdoc&quot;,
  &quot;patient&quot;: &quot;testpatient&quot;,
  &quot;encounter&quot;: &quot;testencounter&quot;,
  &quot;context&quot;: {},
  &quot;prefetch&quot;: {},
  &quot;extension&quot;: [
    {
      &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/requesting-organization&quot;,
      &quot;valueId&quot;: &quot;gastrointerology&quot;
    }
  ]
}


example response extensions:
{
  &quot;cards&quot;: [
    {
      &quot;indicator&quot;: &quot;warning&quot;,
      &quot;summary&quot;: &quot;Don&#39;t perform imaging of the carotid arteries for simple syncope without other neurologic symptoms.&quot;,
      &quot;links&quot;: [
        {
          &quot;label&quot;: &quot;Review in the CDS application&quot;,
          &quot;type&quot;: &quot;absolute&quot;,
          &quot;url&quot;: &quot;https://my.not.smart.app/token=EA559D17-6FE1-4A1D-8976-06CE158EA40F&quot;
          &quot;extension&quot;: [
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/link-timeout&quot;,
              &quot;valuePositiveInt&quot;: 3600
            }
          ]
        }
      ],
      &quot;suggestions&quot;: [
        {
          &quot;extension&quot;: [
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/suggestionType&quot;,
              &quot;valueCode&quot;: &quot;dismiss&quot;
            },
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/PAMA-score&quot;,
              &quot;valueCode&quot;: &quot;inappropriate&quot;
            }
          ],
          &quot;label&quot;: &quot;Dismiss&quot;,
          &quot;actions&quot;: [],
          &quot;uuid&quot;: &quot;12C12C48-7985-43CF-A12C-D5D9458B1BF1&quot;,
        },
        {
          &quot;extension&quot;: [
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/suggestionType&quot;,
              &quot;valueCode&quot;: &quot;accept&quot;
            },
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/PAMA-score&quot;,
              &quot;valueCode&quot;: &quot;appropriate&quot;
            }
          ],
          &quot;label&quot;: &quot;Remove Orders&quot;,
          &quot;actions&quot;: [
            {
              &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;DiagnosticOrder&quot;,
                &quot;id&quot;: &quot;C7ACB00B-C3B6-45E8-B469-CDCDABF905F6&quot;
              },
              &quot;description&quot;: &quot;Remove imaging of carotid arteries&quot;,
              &quot;type&quot;: &quot;delete&quot;,
              &quot;extension&quot;: [
                {
                  &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/markdown-description&quot;,
                  &quot;valueString&quot;: &quot;**Remove imaging of carotid arteries**&quot;
                }
              ]
            }
          ],
          &quot;uuid&quot;: &quot;12C12C48-7985-43CF-A12C-D5D9458B1BF2&quot;
        },
        {
          &quot;extension&quot;: [
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/suggestionType&quot;,
              &quot;valueCode&quot;: &quot;override&quot;
            },
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/PAMA-score&quot;,
              &quot;valueCode&quot;: &quot;appropriate&quot;
            }
          ],
          &quot;label&quot;: &quot;Focal neurological findings&quot;,
          &quot;actions&quot;: [],
          &quot;uuid&quot;: &quot;12C12C48-7985-43CF-A12C-D5D9458B1BF3&quot;
        },
        {
          &quot;extension&quot;: [
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/suggestionType&quot;,
              &quot;valueCode&quot;: &quot;prompt&quot;
            },
            {
              &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/PAMA-score&quot;,
              &quot;valueCode&quot;: &quot;potentially inappropriate&quot;
            }
          ],
          &quot;label&quot;: &quot;Other (please specify)&quot;,
          &quot;actions&quot;: [],
          &quot;uuid&quot;: &quot;12C12C48-7985-43CF-A12C-D5D9458B1BF4&quot;
        }
      ],
      &quot;detail&quot;: &quot;[Occlusive carotid artery disease does not cause fainting but rather causes focal neurologic deficits such as unilateral weakness. Thus, carotid imaging will not identify the cause of the fainting and increases cost. Fainting is a frequent complaint, affecting 40% of people during their lifetime.](http://www.choosingwisely.org/clinician-lists/american-academy-neurology-carotid-artery-imaging-for-simple-syncope/)\n* Secondary Source: American Academy of Neurology\n* Education: [The American Academy of Neurology&#39;s Top Five Choosing Wisely recommendations](http://www.neurology.org/content/early/2013/02/20/WNL.0b013e31828aab14.full.pdf+html)\n* Release Date: 02-18-2013\n\n# Supporting Evidence:\n\n1. [National Institute for Health and Clinical Excellence. Transient loss of consciousness (\u2018Blackouts\u2019) Management in adults and young people. [Internet]. London: Royal College of Physicians (UK); 2010](http://www.nice.org.uk/guidance/cg109/chapter/notes-on-the-scope-of-the-guidance)\n1. [Strickberger SA, Benson DW, Biaggioni I, Callans DJ, Cohen MI, Ellenbogen KA, Epstein AE, Friedman P, Goldberger J, Heidenreich PA, Klein GJ, Knight BP, Morillo CA, Myerburg RJ, Sila CA. AHA/ ACCF scientific statement on the evaluation of Syncope: From the American Heart Association councils on clinical cardiology, cardiovascular nursing, cardiovascular disease in the young, and stroke, and the quality of care and outcomes research interdisciplinary working group; and the American College of Cardiology Foundation in collaboration with the Heart Rhythm Society. J Am Coll Cardiol 2006 17;47(2):473-84](http://www.sciencedirect.com/science/article/pii/S0735109705030445)\n1. [The Task Force for the Diagnosis and Management of Syncope of the European Society of Cardiology. Guidelines for the diagnosis and management of syncope (version 2009). Eur Heart J 2009 ;30(21):2631-2671.](http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3295536/)\n&quot;,
      &quot;source&quot;: {
        &quot;label&quot;: &quot;Choosing Wisely&quot;,
        &quot;url&quot;: &quot;http://www.choosingwisely.org/clinician-lists/american-academy-neurology-carotid-artery-imaging-for-simple-syncope/&quot;,
        &quot;extension&quot;: [
          {
            &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/source-type&quot;,
            &quot;valueCode&quot;: &quot;Research&quot;
          }
        ]
      },
      &quot;extension&quot;: [
        {
          &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/related-resources&quot;,
          &quot;valueReference&quot;: {
            &quot;reference&quot;: &quot;DiagnosticOrder/C7ACB00B-C3B6-45E8-B469-CDCDABF905F6&quot;
          }
        },
        {
          &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/related-resources&quot;,
          &quot;valueReference&quot;: {
            &quot;reference&quot;: &quot;Condition/3F244E7D-2A75-4BF8-900A-FA4FD67C29F9&quot;
          }
        }
      ]
    }
  ],
  &quot;decisions&quot;: {
    &quot;create&quot;: [],
    &quot;delete&quot;: []
  },
  &quot;extension&quot;: [
    {
      &quot;url&quot;: &quot;http://my.hooks.org/fhir/102/StructureDefinition/request-reference&quot;,
      &quot;valueId&quot;: &quot;F59F2521-9653-4894-B0CB-09A7652B1FF6&quot;
    }
  ]
}
</pre></div>


</blockquote>



<a name="153905514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153905514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153905514">(Sep 09 2017 at 22:35)</a>:</h4>
<p>kpshek milestoned <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>



<a name="153911910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153911910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153911910">(Oct 02 2017 at 21:30)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/76#issuecomment-333671124" target="_blank" title="https://github.com/cds-hooks/docs/issues/76#issuecomment-333671124">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>
<blockquote>
<p>Hey @robs16, </p>
<p>Extensions are custom. It's perfectly reasonable to add in new, system-specific fields in an integration and even to use them across multiple implementations. </p>
<p>The concern with your above approach is that they enable the possibility of standardizing extensions and explicitly using the FHIR approach. It's not obvious that we need to either standardize extensions and in other aspects of the CDS Hooks specification, we've specifically avoided copying FHIR for the sake of copyign FHIR. Rather CDS Hooks has stayed simpler, with more elegant structures because we haven't copied FHIR.</p>
<p>To that end how about this:<br>
 - The CDS Hooks spec reserves the name "extension".<br>
- the content and datatype of this object is dependent upon the implementation.<br>
- extension can live at any level in any CDS Hooks message.<br>
- implementors should ignore any object named extension that they don't know about.</p>
<p>Isaac</p>
</blockquote>



<a name="153911914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153911914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153911914">(Oct 02 2017 at 21:47)</a>:</h4>
<p>isaacvetter assigned <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>



<a name="153911919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153911919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153911919">(Oct 02 2017 at 21:51)</a>:</h4>
<p>isaacvetter unassigned <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>



<a name="153911920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153911920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153911920">(Oct 02 2017 at 21:51)</a>:</h4>
<p>isaacvetter assigned <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>



<a name="153912039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153912039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153912039">(Oct 03 2017 at 11:00)</a>:</h4>
<p>robs16 <a href="https://github.com/cds-hooks/docs/issues/76#issuecomment-333808682" target="_blank" title="https://github.com/cds-hooks/docs/issues/76#issuecomment-333808682">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>
<blockquote>
<p>With respect to extensions are custom. I am not under the impression that extensions will be custom for each pair of service and consumer. In most cases, certain consumers will require a particular set of extensions from all services, and a particular service will provide a set of extensions to all consumers. Over time, some of those extensions will become common among many services and many consumers before they are added to the spec. Also over time, many extensions may be added that are somewhat similar, but not semantically equivalent - ie the risk of extension name collisions will increase.</p>
<p>I actually think the FHIR approach for extensions is very elegant, though it does have its limitations. It solves the above issues and has already stood the test of (at least some) time.</p>
<p>In any case, an extension needs an identifier. This can be the field name (if it is long and doesn't conflict). However the FHIR approach of a list of objects, where the object contains a url is a bit cleaner IMHO.</p>
</blockquote>



<a name="153916023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153916023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153916023">(Oct 25 2017 at 15:29)</a>:</h4>
<p>brynrhodes <a href="https://github.com/cds-hooks/docs/issues/76#issuecomment-339369475" target="_blank" title="https://github.com/cds-hooks/docs/issues/76#issuecomment-339369475">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>
<blockquote>
<p>So we have two proposals on this, one is to use a scheme similar to the FHIR extension model, and the other is to simply reserve the name "extension" and leave the details out of scope for the spec. In the interest of simplicity, I suggest we adopt the simpler approach, and note that an implementation would be free to use a FHIR-like extension model within the "extension" element.</p>
</blockquote>



<a name="153922675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153922675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153922675">(Dec 02 2017 at 16:59)</a>:</h4>
<p>kpshek closed <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>



<a name="153926833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2376%20Extensions/near/153926833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2376.20Extensions.html#153926833">(Dec 22 2017 at 17:08)</a>:</h4>
<p>JustinStauffer <a href="https://github.com/cds-hooks/docs/issues/76#issuecomment-353638842" target="_blank" title="https://github.com/cds-hooks/docs/issues/76#issuecomment-353638842">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/76" target="_blank" title="https://github.com/cds-hooks/docs/issues/76">Issue #76</a></p>
<blockquote>
<p>I left a comment on @brynrhodes <a href="https://github.com/cds-hooks/docs/commit/b34534ee30c61e99489f86df7662efde65559663" target="_blank" title="https://github.com/cds-hooks/docs/commit/b34534ee30c61e99489f86df7662efde65559663">commit </a>.</p>
<p>However, I wasn't sure if that was the right place so I am posting my comment here as well:</p>
<p>Can we model this more like a FHIR Extension (<a href="http://hl7.org/fhir/extensibility.html" target="_blank" title="http://hl7.org/fhir/extensibility.html">http://hl7.org/fhir/extensibility.html</a>)? I don't think we have to get _quite as complicated_ as FHIR's extensibility model but using a key/value pair would be much more preferable than using dynamically named JSON properties.</p>
<p>For example, this is readable/writable using a standard JSON formatter/writer and does not require customizing out-of-the-box / off-the-shelf JSON libraries:</p>
<p><code>"services": [
{
    "extension": [{
        "url": "http://domain/example-client-conformance",
        "value": "http://my.hooks.org/fhir/102/Conformance/patientview"
     },
    {
        "url": "http://domain/example-client-another-extension",
        "value": "another-extension-value"
     }]
}</code></p>
<p>Notice that I simplified this a little from the FHIR Extension type in that I am just using one "value" property instead of "valueInt", "valueDecimal", "valueString", etc.</p>
<p>To conclude, I think it is important that we stop requiring customization to off-the-shelf JSON libraries when adding support for new features in CDS Hooks as it will make implementation of those features more difficult for everyone and therefore, slower to reach users (customers).</p>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
