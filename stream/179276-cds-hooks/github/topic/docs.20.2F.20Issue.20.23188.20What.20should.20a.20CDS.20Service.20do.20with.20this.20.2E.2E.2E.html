---
layout: page
title: "FHIR Chat  · docs / Issue #188 What should a CDS Service do with this ... · cds hooks/github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/index.html">cds hooks/github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23188.20What.20should.20a.20CDS.20Service.20do.20with.20this.20.2E.2E.2E.html">docs / Issue #188 What should a CDS Service do with this ...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153948744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23188%20What%20should%20a%20CDS%20Service%20do%20with%20this%20.../near/153948744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23188.20What.20should.20a.20CDS.20Service.20do.20with.20this.20.2E.2E.2E.html#153948744">(Mar 28 2018 at 16:08)</a>:</h4>
<p>isaacvetter opened <a href="https://github.com/cds-hooks/docs/issues/188" target="_blank" title="https://github.com/cds-hooks/docs/issues/188">Issue #188</a></p>
<blockquote>
<p>There's some disparate guidance to CDS Services in the <a href="https://cds-hooks.org/specification/1.0/#trusting-ehrs" target="_blank" title="https://cds-hooks.org/specification/1.0/#trusting-ehrs">Trusting EHRs</a> section of the spec now, about how the EHR-created JWT should be validated.</p>
<p>Currently, we say:<br>
- CDS Services SHOULD whitelist the iss, jku and sub fields to only the EHRs they trust.</p>
<p>Additional best-practices to verify the JWT are:<br>
1) Respect the exp field. A CDS Service SHOULD reject a request containing a JWT with an _exp_ value greater than now.<br>
2) Use the jti / nonce field. A CDS Service SHOULD reject a request containing a _jti_ that has been previously used by the EHR.<br>
3) Perhaps even reject requests with an old iat. A CDS Service MAY reject a request containing a _iat_ older than 8 minutes.<br>
4) Verify that the public key used to sign the JWT is valid. A CDS Service SHOULD verify that the public key used to sign the JWT exists within the JWK set at the location identified by the jku and is identified by the kid. </p>
<p>Is this worthwhile? What am I missing?</p>
<p>In a brief conversation with @kpshek , he pointed out that this type of guidance may be best placed in an implementation guide and not in the spec. </p>
</blockquote>



<a name="153951875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23188%20What%20should%20a%20CDS%20Service%20do%20with%20this%20.../near/153951875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23188.20What.20should.20a.20CDS.20Service.20do.20with.20this.20.2E.2E.2E.html#153951875">(Apr 11 2018 at 15:29)</a>:</h4>
<p>isaacvetter labeled <a href="https://github.com/cds-hooks/docs/issues/188" target="_blank" title="https://github.com/cds-hooks/docs/issues/188">Issue #188</a></p>



<a name="153966992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23188%20What%20should%20a%20CDS%20Service%20do%20with%20this%20.../near/153966992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23188.20What.20should.20a.20CDS.20Service.20do.20with.20this.20.2E.2E.2E.html#153966992">(Jun 05 2018 at 07:51)</a>:</h4>
<p>kpshek milestoned <a href="https://github.com/cds-hooks/docs/issues/188" target="_blank" title="https://github.com/cds-hooks/docs/issues/188">Issue #188</a></p>



<a name="153966994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23188%20What%20should%20a%20CDS%20Service%20do%20with%20this%20.../near/153966994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23188.20What.20should.20a.20CDS.20Service.20do.20with.20this.20.2E.2E.2E.html#153966994">(Jun 05 2018 at 07:52)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/188#issuecomment-394615959" target="_blank" title="https://github.com/cds-hooks/docs/issues/188#issuecomment-394615959">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/188" target="_blank" title="https://github.com/cds-hooks/docs/issues/188">Issue #188</a></p>
<blockquote>
<p>I agree with @isaacvetter that we need this documentation. I originally was thinking this should be placed in an implementation guide but my thoughts are that we should just have this directly in the spec now.</p>
</blockquote>



<a name="153967503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23188%20What%20should%20a%20CDS%20Service%20do%20with%20this%20.../near/153967503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23188.20What.20should.20a.20CDS.20Service.20do.20with.20this.20.2E.2E.2E.html#153967503">(Jun 06 2018 at 16:49)</a>:</h4>
<p>bvdh <a href="https://github.com/cds-hooks/docs/issues/188#issuecomment-395137702" target="_blank" title="https://github.com/cds-hooks/docs/issues/188#issuecomment-395137702">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/188" target="_blank" title="https://github.com/cds-hooks/docs/issues/188">Issue #188</a></p>
<blockquote>
<p>My worry is that if we put it in the specification we run the risk of deviating with the RFC's. <br>
On the other hand. More explanation on how this should work is valuable and an implementation guide that describes the common implementation way is valuable. It should be placed outside of the spec and should not contain mandatory text.<br>
Alternatively a profile on the recommended security approach could be considered.</p>
</blockquote>



<a name="153967604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23188%20What%20should%20a%20CDS%20Service%20do%20with%20this%20.../near/153967604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23188.20What.20should.20a.20CDS.20Service.20do.20with.20this.20.2E.2E.2E.html#153967604">(Jun 06 2018 at 22:00)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/188#issuecomment-395227919" target="_blank" title="https://github.com/cds-hooks/docs/issues/188#issuecomment-395227919">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/188" target="_blank" title="https://github.com/cds-hooks/docs/issues/188">Issue #188</a></p>
<blockquote>
<p>## <span class="emoji emoji-1f4de" title="telephone receiver">:telephone_receiver:</span> CDS Working Group Call (6-6-2018)</p>
<p>Meeting notes: <a href="http://wiki.hl7.org/index.php?title=File:2018-06-06_CDS_WG_Call_Minutes.docx" target="_blank" title="http://wiki.hl7.org/index.php?title=File:2018-06-06_CDS_WG_Call_Minutes.docx">http://wiki.hl7.org/index.php?title=File:2018-06-06_CDS_WG_Call_Minutes.docx</a></p>
<p>@isacvetter moved the following disposition, seconded by @bvhd</p>
<p><strong>Disposition:</strong> Persuasive with Mod<br>
<strong>Disposition Comment:</strong><br>
"The CDS Hooks website should contain a set of CDS Services security best practices. This content should exist outside of the specification. We should be careful to not conflict with the existing and primary JWT spec and further should link out to the JWT specification. These security best practices should not be mandatory. </p>
<p>We will add content following the above guidance to the CDS Hooks website."</p>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span> For: 13<br>
<span class="emoji emoji-1f611" title="expressionless">:expressionless:</span> Abstain: 0<br>
<span class="emoji emoji-1f44e" title="-1">:-1:</span> Against: 0</p>
<p><span class="emoji emoji-1f389" title="tada">:tada:</span> The motion passed! <span class="emoji emoji-1f389" title="tada">:tada:</span></p>
<hr>
</blockquote>



<a name="153969866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23188%20What%20should%20a%20CDS%20Service%20do%20with%20this%20.../near/153969866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23188.20What.20should.20a.20CDS.20Service.20do.20with.20this.20.2E.2E.2E.html#153969866">(Jun 14 2018 at 13:45)</a>:</h4>
<p>cds-hooks-bot assigned <a href="https://github.com/cds-hooks/docs/issues/188" target="_blank" title="https://github.com/cds-hooks/docs/issues/188">Issue #188</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
