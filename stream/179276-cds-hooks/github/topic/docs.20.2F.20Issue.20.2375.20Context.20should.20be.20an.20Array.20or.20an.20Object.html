---
layout: page
title: "FHIR Chat  · docs / Issue #75 Context should be an Array or an Object · cds hooks/github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/index.html">cds hooks/github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html">docs / Issue #75 Context should be an Array or an Object</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153901960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153901960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153901960">(Aug 11 2017 at 01:49)</a>:</h4>
<p>grahamegrieve opened <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Some hooks require a set of resources be passed to the decision support service, so that it can evaluate a set of actions that are inter-related. For instance, order-review - many of the uses of this hook will relate to a set of orders e.g. the set of diagnostic requests proposed. The same applies to medications particularly, where clinicians - rightly - think of a single prescription that contains multiple medications, but FHIR (also rightly) treats this as a set of resources.  </p>
<p>The context should be either an object or an array of objects, where each elemetn in the array is an object that has the same content as the object would have. The hook definition should define the cardinality of the context.</p>
</blockquote>



<a name="153905429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905429">(Sep 09 2017 at 20:24)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328301401" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328301401">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Context is an array of objects in our current implementation so we just have a bug in our current documentation. Thanks for raising this and I'll get it fixed today with a PR</p>
</blockquote>



<a name="153905430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905430">(Sep 09 2017 at 20:24)</a>:</h4>
<p>kpshek milestoned <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>



<a name="153905554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905554">(Sep 09 2017 at 23:08)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328308777" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328308777">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>I think we're going to run into limitations with simple arrays. For example, let's imagine a future hook definition like <code>reconcile-med-lists</code> where two lists of medications will be passed into the service. Let's say List One includes: drug a, drug b; whereas List Two includes drug c, drug d.</p>
<p>If we just have a context array, the service will see:<br>
[<br>
  {Prescription for drug a },<br>
  {Prescription for drug b },<br>
  {Prescription for drug c },<br>
  {Prescription for drug d }<br>
]</p>
<p>... but it won't know which correspond to "List One" and which correspond to "List Two".</p>
<p>We can solve this by adding context parameter names as part of a hook definition like:</p>
<div class="codehilite"><pre><span></span>&quot;context&quot;: [{
  &quot;name&quot;: &quot;list_one&quot;,
  &quot;value&quot;: {Prescription resource for drug a}
}, {
  &quot;name&quot;: &quot;list_one&quot;,
  &quot;value&quot;: {Prescription resource for drug b}
}, {
  &quot;name&quot;: &quot;list_two&quot;,
  &quot;value&quot;: {Prescription resource for drug c}
}, {
  &quot;name&quot;: &quot;list_two&quot;,
  &quot;value&quot;: {Prescription resource for drug d}
}, ]
</pre></div>


</blockquote>



<a name="153905732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905732">(Sep 10 2017 at 13:49)</a>:</h4>
<p>robs16 <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328343891" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328343891">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p><span class="user-mention" data-user-email="jmandel@gmail.com" data-user-id="9">@Josh Mandel</span> I agree that the array is too limited. However I might take a page from the prefetch approach and use:</p>
<div class="codehilite"><pre><span></span>&quot;context&quot;: {
  &quot;list_one&quot;: {
    &quot;response&quot;: {
      &quot;status&quot;: &quot;200 OK&quot;
    },
    &quot;resource&quot;: {
      &quot;resourceType&quot;: &quot;Bundle&quot;,
      &quot;entry&quot;: [
        {&quot;resource&quot;: {Prescription resource for drug a}},
        {&quot;resource&quot;: {Prescription resource for drug b}}
      ]
    }
  },
  &quot;list_two&quot;: {
    &quot;response&quot;: {
      &quot;status&quot;: &quot;200 OK&quot;
    },
    &quot;resource&quot;: {
      &quot;resourceType&quot;: &quot;Bundle&quot;,
      &quot;entry&quot;: [
        {&quot;resource&quot;: {Prescription resource for drug c}},
        {&quot;resource&quot;: {Prescription resource for drug d}}
      ]
    }
  }
}
</pre></div>


</blockquote>



<a name="153905741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905741">(Sep 10 2017 at 14:11)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328345152" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328345152">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Agreed @robs16! Agee discussion with you Alex, I think the cleanest thing to say is: context is an object whose properties are entirely specified in the hook definition.</p>
</blockquote>



<a name="153905763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905763">(Sep 10 2017 at 16:10)</a>:</h4>
<p>grahamegrieve <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328352697" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328352697">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>that's moving the deck chairs around... how is the hook definition going to say that?</p>
</blockquote>



<a name="153905918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905918">(Sep 10 2017 at 18:42)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328362851" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328362851">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>I'd say that this approach is separating concerns between the generic spec and the hook-specific requirements. As for "how"... it could be prose, or a snippet of swagger (JSON schema), or whatever... We can be prescriptive on this point.</p>
</blockquote>



<a name="153905933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905933">(Sep 10 2017 at 18:49)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328363336" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328363336">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Hey <span class="user-mention" data-user-email="jmandel@gmail.com" data-user-id="9">@Josh Mandel</span>, </p>
<p>At some point, the CDS Hooks community will start pumping out new hooks. For this reason, the process for defining a new hook, including specifying any required context, needs to be tightly defined. </p>
<p>Defining a minimal key/value pair as the structure of context seems like it's needed, otherwise, context format is going to be all over the board. I'd further suggest that we should not only define the structure ahead of time, but also provide guidelines for naming the keys and defining when resources are required.</p>
</blockquote>



<a name="153905939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905939">(Sep 10 2017 at 18:52)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328363480" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328363480">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Agreed <span class="user-mention" data-user-email="isaacvetter@gmail.com" data-user-id="558">@Isaac Vetter</span>! I don't think this dissuades us from adopting the "hook-specified context" approach that @robs16 described above, right?</p>
</blockquote>



<a name="153905999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153905999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153905999">(Sep 10 2017 at 22:01)</a>:</h4>
<p>bkaney <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328375254" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328375254">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>It would be nice if <code>context</code> were similar in schema/shape to <code>resource</code> in SMART, as we are finding it convienent to pass through. The data disparity requires more work in between.</p>
</blockquote>



<a name="153906041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153906041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153906041">(Sep 11 2017 at 01:13)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328391258" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328391258">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Hey @bkaney ,</p>
<p>Are you using SMART's resource? If so, you'll be interested in <a href="https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/138" target="_blank" title="https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/138">this conversation</a>.</p>
<p>Secondly, I don't think that SMART's launch parameters that specify a FHIR resource (patient, encounter, location, resource, etc) actually contain/include a full FHIR resource, rather they're just the resourceType/FhirId.</p>
<p>Isaac</p>
</blockquote>



<a name="153906077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153906077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153906077">(Sep 11 2017 at 11:13)</a>:</h4>
<p>bkaney <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328498341" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328498341">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Things are moving fast. And I didn't know <code>resource</code> wasn't able to be a full resource in SMART.</p>
<p>We are not quite there, but planning to implement over the next few weeks. Given this, I will not use  it and see how else contextual launch information could be passed on.</p>
<p>Thanks!</p>
</blockquote>



<a name="153906081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153906081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153906081">(Sep 11 2017 at 13:27)</a>:</h4>
<p>jmandel <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328528579" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328528579">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>As we work through the standardization process for smart, we will also clarify that launch context is extensible. It's OK  to add details/parameters as needed (but if there's a standard way to accomplish your use case, that's clearly better). </p>
</blockquote>



<a name="153906083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153906083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153906083">(Sep 11 2017 at 13:43)</a>:</h4>
<p>bkaney <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-328533027" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-328533027">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p><span class="user-mention" data-user-email="jmandel@gmail.com" data-user-id="9">@Josh Mandel</span> right, I am thinking we will add a new key called <code>context</code> to the SMART launch_context, and have it pass what we get from CDS Hooks.</p>
</blockquote>



<a name="153909002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153909002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153909002">(Sep 19 2017 at 14:36)</a>:</h4>
<p>bkaney <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-330560383" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-330560383">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Re-reading this thread, and to summarize the proposal I think the idea is to advertise the <code>context</code> in the service definition (following the pattern we have for <code>prefetch</code>), like this:</p>
<div class="codehilite"><pre><span></span>{
  &quot;hook&quot;: &quot;medication-prescribe&quot;,
  &quot;title&quot;: &quot;Medication Foo Service&quot;,
  &quot;id&quot;: &quot;medication-foo&quot;,
  &quot;context&quot;: {
    &quot;list_one&quot;: &quot;MedicationRequest?patient={{Patient.id}}&amp;code=285018&quot;,
    &quot;list_two&quot;: &quot;MedicationRequest?patient={{Patient.id}}&amp;code=1594660&quot;
  }
}
</pre></div>


<p>Then when calling the service, include the resources, like this:</p>
<div class="codehilite"><pre><span></span>&quot;context&quot;: {
  &quot;list_one&quot;: {
    &quot;response&quot;: {
      &quot;status&quot;: &quot;200 OK&quot;
    },
    &quot;resource&quot;: {
      &quot;resourceType&quot;: &quot;Bundle&quot;,
      &quot;entry&quot;: [
        {&quot;resource&quot;: {MedRequest resource for drug a, date 1}},
        {&quot;resource&quot;: {MedRequest resource for drug a, date 2}}
      ]
    }
  },
  &quot;list_two&quot;: {
    &quot;response&quot;: {
      &quot;status&quot;: &quot;200 OK&quot;
    },
    &quot;resource&quot;: {
      &quot;resourceType&quot;: &quot;Bundle&quot;,
      &quot;entry&quot;: [
        {&quot;resource&quot;: {MedRequest resource for drug b, date 3}}
      ]
    }
  }
}
</pre></div>


<p>Is this correct?</p>
</blockquote>



<a name="153911912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153911912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153911912">(Oct 02 2017 at 21:46)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-333674666" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-333674666">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Need to better document in spec:<br>
- context is an object<br>
- the structure of the context object is hook dependent.</p>
<p>We should update the spec's Hook Catalog to clarify the medication-prescribe and order-review hooks.<br>
- Should medication-prescribe's context should be a list of one or more MedicationOrders?</p>
</blockquote>



<a name="153911913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153911913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153911913">(Oct 02 2017 at 21:46)</a>:</h4>
<p>isaacvetter assigned <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>



<a name="153915161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153915161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153915161">(Oct 21 2017 at 07:27)</a>:</h4>
<p>vlindhol <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-338371365" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-338371365">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>@bkaney I'm a bit confused, if <code>context</code> is so rigidly structured with FHIR search strings, how does that differ from <code>prefetch</code>? I use <code>context</code> for e.g. setting some request specific settings (like the version number of the data that the CDS uses to make its decisions). These are generally simple key-value pairs.</p>
</blockquote>



<a name="153915162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153915162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153915162">(Oct 21 2017 at 15:27)</a>:</h4>
<p>bkaney <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-338410256" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-338410256">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>I think the difference is <code>context</code> is required to use the service whereas <code>prefetch</code> is an optimization but not required. I am guessing here though...</p>
</blockquote>



<a name="153915163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153915163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153915163">(Oct 21 2017 at 15:31)</a>:</h4>
<p>vadi2 <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-338410526" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-338410526">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>That is my understanding as well.</p>
<p>On Sat, Oct 21, 2017 at 5:27 PM Brian Kaney &lt;<a href="mailto:notifications@github.com" title="mailto:notifications@github.com">notifications@github.com</a>&gt;<br>
wrote:</p>
<blockquote>
<p>I think the difference is context is required to use the service whereas<br>
prefetch is an optimization but not required. I am guessing here though...</p>
<p>—<br>
You are receiving this because you are subscribed to this thread.<br>
Reply to this email directly, view it on GitHub<br>
&lt;<a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-338410256" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-338410256">https://github.com/cds-hooks/docs/issues/75#issuecomment-338410256</a>&gt;, or mute<br>
the thread<br>
&lt;<a href="https://github.com/notifications/unsubscribe-auth/AAGxjJSVU42OhjTiQuWC3TzoR4_p7Sl1ks5sug1wgaJpZM4O0KzL" target="_blank" title="https://github.com/notifications/unsubscribe-auth/AAGxjJSVU42OhjTiQuWC3TzoR4_p7Sl1ks5sug1wgaJpZM4O0KzL">https://github.com/notifications/unsubscribe-auth/AAGxjJSVU42OhjTiQuWC3TzoR4_p7Sl1ks5sug1wgaJpZM4O0KzL</a>&gt;<br>
.</p>
</blockquote>
</blockquote>



<a name="153915847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153915847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153915847">(Oct 25 2017 at 03:57)</a>:</h4>
<p>vlindhol <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-339207042" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-339207042">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>I see. Is there any official place to put small "configuration-type" values? Like my example above, where I basically want to have the config <code>{ dataVersion: "0.9.0" }</code> somewhere, so my CDS can return a reply based on version 0.9.0 of its clinical data. Another use case might be setting the wanted language of the returned messages.</p>
<p>Should <code>context</code> be used here as well? Any special syntax to signify that it is not a FHIR search string?</p>
</blockquote>



<a name="153915849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153915849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153915849">(Oct 25 2017 at 04:03)</a>:</h4>
<p>vlindhol <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-339207875" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-339207875">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>I should add that my CDS is stateless and pure, i.e. it does not contact the calling server for more information. I have been (wrongly) using <code>prefetch</code> for specifying what data I need using FHIR search strings, and <code>context</code> as a place to put both config values as well as FHIR resources that are not expressible through FHIR search strings.</p>
</blockquote>



<a name="153920839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153920839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153920839">(Nov 21 2017 at 22:51)</a>:</h4>
<p>isaacvetter closed <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>



<a name="153920840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2375%20Context%20should%20be%20an%20Array%20or%20an%20Object/near/153920840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2375.20Context.20should.20be.20an.20Array.20or.20an.20Object.html#153920840">(Nov 21 2017 at 22:51)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/75#issuecomment-346187379" target="_blank" title="https://github.com/cds-hooks/docs/issues/75#issuecomment-346187379">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/75" target="_blank" title="https://github.com/cds-hooks/docs/issues/75">Issue #75</a></p>
<blockquote>
<p>Hey @vlindhol , I think that you should check out this issue #76.</p>
<p>I'm going to close this issue in favor of #39 .</p>
<p>Isaac</p>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
