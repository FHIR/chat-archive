---
layout: page
title: "FHIR Chat  · docs / Issue #151 Prefetch variables and context key/valu... · cds hooks/github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/index.html">cds hooks/github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23151.20Prefetch.20variables.20and.20context.20key.2Fvalu.2E.2E.2E.html">docs / Issue #151 Prefetch variables and context key/valu...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153931471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23151%20Prefetch%20variables%20and%20context%20key/valu.../near/153931471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23151.20Prefetch.20variables.20and.20context.20key.2Fvalu.2E.2E.2E.html#153931471">(Jan 27 2018 at 21:46)</a>:</h4>
<p>robs16 opened <a href="https://github.com/cds-hooks/docs/issues/151" target="_blank" title="https://github.com/cds-hooks/docs/issues/151">Issue #151</a></p>
<blockquote>
<p>#119 is moving some top-level fields into the context (patient, encounter). The prefetch definitions provided in discovery need to reference user, patient, encounter, and potentially other elements which may be defined in the context of the given hook. These two needs should have a clear relationship. After discussing with @kpshek, I would propose the following for prefetch definition replacements:</p>
<ul>
<li>Continue to use the same delimiters. ie '{{', '}}'</li>
<li>Reference the user via 'user'</li>
<li>Reference context entries via prefix 'context.' to the name of the context field. For example 'context.patientid'</li>
</ul>
<p>Note that this does not support structures in the context values. Rather than provide some form of structure support (ie the id field of a MedicationOrder), define a separate field for that id in the context to make it usable in prefetch.</p>
</blockquote>



<a name="153931640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23151%20Prefetch%20variables%20and%20context%20key/valu.../near/153931640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23151.20Prefetch.20variables.20and.20context.20key.2Fvalu.2E.2E.2E.html#153931640">(Jan 28 2018 at 03:41)</a>:</h4>
<p>olbrich <a href="https://github.com/cds-hooks/docs/issues/151#issuecomment-361035885" target="_blank" title="https://github.com/cds-hooks/docs/issues/151#issuecomment-361035885">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/151" target="_blank" title="https://github.com/cds-hooks/docs/issues/151">Issue #151</a></p>
<blockquote>
<p>For consistency, I would also suggest that references to FHIR resources be named like <code>context.patient_ref</code> (with a value of <code>Patient/123</code> or <code>context.user_ref</code> ( <code>Provider/456</code>). </p>
</blockquote>



<a name="153931704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23151%20Prefetch%20variables%20and%20context%20key/valu.../near/153931704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23151.20Prefetch.20variables.20and.20context.20key.2Fvalu.2E.2E.2E.html#153931704">(Jan 28 2018 at 12:08)</a>:</h4>
<p>robs16 <a href="https://github.com/cds-hooks/docs/issues/151#issuecomment-361057992" target="_blank" title="https://github.com/cds-hooks/docs/issues/151#issuecomment-361057992">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/151" target="_blank" title="https://github.com/cds-hooks/docs/issues/151">Issue #151</a></p>
<blockquote>
<p>While naming of context parameters is a separate issue, I agree with having naming conventions for ids vs resource references. So using your example, should the user identified at the request level be be <code>user_ref</code> (it is not part of the context)?</p>
</blockquote>



<a name="153932292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23151%20Prefetch%20variables%20and%20context%20key/valu.../near/153932292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23151.20Prefetch.20variables.20and.20context.20key.2Fvalu.2E.2E.2E.html#153932292">(Jan 28 2018 at 20:59)</a>:</h4>
<p>kpshek milestoned <a href="https://github.com/cds-hooks/docs/issues/151" target="_blank" title="https://github.com/cds-hooks/docs/issues/151">Issue #151</a></p>



<a name="153932881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23151%20Prefetch%20variables%20and%20context%20key/valu.../near/153932881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23151.20Prefetch.20variables.20and.20context.20key.2Fvalu.2E.2E.2E.html#153932881">(Jan 29 2018 at 15:30)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/151#issuecomment-361281951" target="_blank" title="https://github.com/cds-hooks/docs/issues/151#issuecomment-361281951">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/151" target="_blank" title="https://github.com/cds-hooks/docs/issues/151">Issue #151</a></p>
<blockquote>
<p>Note for myself -- more generally, we also need to update all of our prefetch documentation and examples now based upon #109</p>
</blockquote>



<a name="153932916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23151%20Prefetch%20variables%20and%20context%20key/valu.../near/153932916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23151.20Prefetch.20variables.20and.20context.20key.2Fvalu.2E.2E.2E.html#153932916">(Jan 29 2018 at 15:43)</a>:</h4>
<p>kpshek assigned <a href="https://github.com/cds-hooks/docs/issues/151" target="_blank" title="https://github.com/cds-hooks/docs/issues/151">Issue #151</a></p>



<a name="153948119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23151%20Prefetch%20variables%20and%20context%20key/valu.../near/153948119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23151.20Prefetch.20variables.20and.20context.20key.2Fvalu.2E.2E.2E.html#153948119">(Mar 26 2018 at 17:48)</a>:</h4>
<p>kpshek closed <a href="https://github.com/cds-hooks/docs/issues/151" target="_blank" title="https://github.com/cds-hooks/docs/issues/151">Issue #151</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
