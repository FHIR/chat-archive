---
layout: page
title: "FHIR Chat  · docs / Issue #410 Clarification on example prefetch template · cds hooks/github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/index.html">cds hooks/github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23410.20Clarification.20on.20example.20prefetch.20template.html">docs / Issue #410 Clarification on example prefetch template</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153990935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23410%20Clarification%20on%20example%20prefetch%20template/near/153990935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23410.20Clarification.20on.20example.20prefetch.20template.html#153990935">(Aug 27 2018 at 02:50)</a>:</h4>
<p>xMECian opened <a href="https://github.com/cds-hooks/docs/issues/410" target="_blank" title="https://github.com/cds-hooks/docs/issues/410">Issue #410</a></p>
<blockquote>
<p>The <a href="https://cds-hooks.org/specification/1.0/#http-request_1" target="_blank" title="https://cds-hooks.org/specification/1.0/#http-request_1">spec</a> says that the user field in the POST request to a CDS Service would be of the format FHIR resourceType+id, in that case if the service wants the EHR to prefetch user information, the template should really be </p>
<p><code>prefetch: {
         user: '{{user}}'
    }</code></p>
<p>as such the example given <a href="https://cds-hooks.org/specification/1.0/#example-prefetch-templates" target="_blank" title="https://cds-hooks.org/specification/1.0/#example-prefetch-templates">here</a> is wrong?</p>
</blockquote>



<a name="154019629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23410%20Clarification%20on%20example%20prefetch%20template/near/154019629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23410.20Clarification.20on.20example.20prefetch.20template.html#154019629">(Nov 19 2018 at 18:29)</a>:</h4>
<p>mattvarghese <a href="https://github.com/cds-hooks/docs/issues/410#issuecomment-439994593" target="_blank" title="https://github.com/cds-hooks/docs/issues/410#issuecomment-439994593">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/410" target="_blank" title="https://github.com/cds-hooks/docs/issues/410">Issue #410</a></p>
<blockquote>
<p>Now with the old <code>/user</code> moved to <code>context/userId</code>, there is still a problem with <a href="https://cds-hooks.org/specification/1.0/#example-prefetch-templates" target="_blank" title="https://cds-hooks.org/specification/1.0/#example-prefetch-templates">this</a> example.<br>
<code>context/userId</code> is of the form <code>Practitioner/{id}</code></p>
<p>So this line<br>
<code>"u": "Practitioner/{{context.userId}}"</code><br>
Becomes<br>
<code>"u": "Practitioner/Practitioner/{id}"</code></p>
<p>I would say the context should remove <code>userId</code> and have a field <code>practitionerId</code> which is just the ID. _Alternatively, we can remove the <code>Practitioner</code> prefix from <code>userId</code>, but now we have an ID, which is or a type that is not directly obvious and therefore tacky._</p>
</blockquote>



<a name="154026958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23410%20Clarification%20on%20example%20prefetch%20template/near/154026958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23410.20Clarification.20on.20example.20prefetch.20template.html#154026958">(Dec 21 2018 at 17:01)</a>:</h4>
<p>isaacvetter closed <a href="https://github.com/cds-hooks/docs/issues/410" target="_blank" title="https://github.com/cds-hooks/docs/issues/410">Issue #410</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
