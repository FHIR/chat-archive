---
layout: page
title: "FHIR Chat  · docs / Issue #43 Enhance suggestion to support grouped re... · cds hooks/github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/index.html">cds hooks/github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html">docs / Issue #43 Enhance suggestion to support grouped re...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153893289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153893289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153893289">(Jun 12 2017 at 20:54)</a>:</h4>
<p>kpshek milestoned <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>



<a name="153893795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153893795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153893795">(Jun 14 2017 at 16:50)</a>:</h4>
<p>travisstenerson <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-308491844" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-308491844">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>Few questions about this issue:</p>
<p>"This intentionally does not support the additional feature and complexity of Clinical Reasoning’s RequestGroup selectionBehavior".</p>
<p>As far as I can tell from the spec, the function of selectionBehavior would only be enforceable within the SMART app. So a service hoping to use a Suggestion card to provide alternatives could only provide alternatives that were not mutually exclusive. Like this situation:</p>
<p>Doctor prescribing Amoxicillin, medication-prescribe fires, CDS service realizes patient has confirmed MRSA.</p>
<p>Service wants to suggest doctor prescribe Bactrim or Clindamycin, but not both. Through suggestion cards, you can't enforce the mutual exclusivity there. Or am I misinterpreting, and certain suggestions can cancel other suggestions?</p>
<p>Which means the service would need to return a RequestGroup to show that you can choose one of these medications, but not both. From what I can see, a suggestion card is just saying "create this resource if the user clicks this card", and not "select from these options and then create".</p>
<p>Has there been discussion on allowing for selection behaviour in Suggestion cards. Can a Suggestion card return a RequestGroup? The problem I see with that is the recursive nature of a request group.action, problems displaying it, problems parsing it. I get the feeling the attractive nature of CDS-Hooks is it's simplicity and a RequestGroup is kind of a complicated Resource, and that it seems implied that a single suggestion should be a single resource.</p>
</blockquote>



<a name="153895969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153895969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153895969">(Jul 03 2017 at 15:51)</a>:</h4>
<p>bdoolittle <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-312680868" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-312680868">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>@travisstenerson, the CDS-Hooks specification does not clarify how suggestions should be interpreted. This is an area that should be described in greater detail as misaligned interpretations between CDS service and EHR could result in a degraded user experience and potential patient safety issues.</p>
<p>At athenaHealth, our implementation aligns with <span class="user-mention" data-user-email="isaacvetter@gmail.com" data-user-id="558">@Isaac Vetter</span> interpretation where resources specified within each suggestion <code>create</code> and <code>delete</code> array or the <code>actions</code> array are AND'ed together and all suggestions within the <code>suggestions</code> array are OR'ed together and are all mutually exclusive. In this implementation, suggestions that are not mutually exclusive must be tied to separate cards.</p>
<p>If we were to connect with a service that did not assume mutual exclusivity between suggestions within a card, our providers would not be able to accept more than one of the services suggestions. </p>
<p>An even worse case can happen if an EHR does not assume mutual exclusivity but a CDS service does. Here a provider may accept multiple suggestions when in reality this should have only been one. In benign cases, this might result in a more expensive visit for a patient, but in more extreme cases harmful drug-drug interactions may be selected. </p>
<p>The important thing here is not how the EHR executes suggestions, but that both EHRs and CDS services agree on how suggestions should be handled.</p>
</blockquote>



<a name="153896515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153896515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153896515">(Jul 10 2017 at 20:50)</a>:</h4>
<p>kpshek assigned <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>



<a name="153896802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153896802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153896802">(Jul 13 2017 at 03:20)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-314959476" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-314959476">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>I agree with <span class="user-mention" data-user-email="bdoolittle@athenahealth.com" data-user-id="1891">@brian doolittle</span> wholeheartedly that we need to be very clear in our intentions/definition of suggestions. Today we are sorely lacking here so we should all aim to ensure that we address this in this issue. <img alt="😄" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f604.png" title="😄"></p>
<p><span class="user-mention" data-user-email="jmandel@gmail.com" data-user-id="9">@Josh Mandel</span> - You're correct that the proposal <span class="user-mention" data-user-email="isaacvetter@gmail.com" data-user-id="558">@Isaac Vetter</span>, @brynrhodes, and myself have here is functionally equivalent to what we have today but just semantically different. Though you touched on the differences, I thought I'd lay them out very plainly with additional reasoning.</p>
<p>####  Consolidated actions array vs arrays-per-action-type<br>
Rather than grouping action types in distinct arrays (<code>create</code>, <code>delete</code>), all actions have been combined into a single <code>actions</code> array. We felt that this was a cleaner structure than what we have today.</p>
<p>#### Addition of an explicit modify action type<br>
Not having a modify action seems confusing as we don't see all developers understanding that EHRs may convert a <code>delete</code> and <code>create</code> action into a single <code>modify</code> action -- especially if the CDS Service simply wants to perform a simple action like modifying the dosage of an existing medication.</p>
<p>The addition of a <code>modify</code> action also aligns with Clinical Reasoning.</p>
<p>@brynrhodes - RequestGroup calls this <code>update</code>. It seems like we should use that term too rather than <code>modify</code>. Thoughts?</p>
<hr>
<p>@travisstenerson - You are correct that both our current suggestions API and the proposal here do not support mutually exclusivity; RequestGroup in Clinical Reasoning does. When <span class="user-mention" data-user-email="isaacvetter@gmail.com" data-user-id="558">@Isaac Vetter</span>, @brynrhodes, and I were discussing this, it was a conscious decision on our part to omit this. We were trying to balance simplicity of the API and allowing for interesting scenarios and use cases. These are often opposing concerns and favoring one is often at the expense of the other. I would like to see what use cases we can support today with our current API/functionality and over time enhance the API if we find there to be enough interest from both CDS Services providers and EHRs. For those who want to push beyond what the specification supports today, I think there are several options at their disposal: SMART apps, custom vendor/service collaboration, etc.</p>
</blockquote>



<a name="153897013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153897013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153897013">(Jul 16 2017 at 19:33)</a>:</h4>
<p>brynrhodes <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-315631558" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-315631558">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>@kpshek - I agree we should use consistent terms and call it update.</p>
</blockquote>



<a name="153897489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153897489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153897489">(Jul 20 2017 at 17:41)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-316777911" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-316777911">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>Does anyone (@kpshek, <span class="user-mention" data-user-email="jmandel@gmail.com" data-user-id="9">@Josh Mandel</span> ) have the ability to regenerate <a href="http://cds-hooks.org/images/overview-with-decisions.png" target="_blank" title="http://cds-hooks.org/images/overview-with-decisions.png">this</a> image? We need to change the text on the suggestion from _[{delete: ..., create: ...,}]_ to <br>
_actions: [{ <br>
   type”: create, ...,<br>
   type: delete, ...,<br>
}]_</p>
<p><a href="http://cds-hooks.org/images/overview-with-decisions.png" target="_blank" title="http://cds-hooks.org/images/overview-with-decisions.png">http://cds-hooks.org/images/overview-with-decisions.png</a></p>
</blockquote>
<div class="message_inline_image"><a href="http://cds-hooks.org/images/overview-with-decisions.png" target="_blank" title="this"><img src="http://cds-hooks.org/images/overview-with-decisions.png"></a></div><div class="message_inline_image"><a href="http://cds-hooks.org/images/overview-with-decisions.png" target="_blank" title="http://cds-hooks.org/images/overview-with-decisions.png"><img src="http://cds-hooks.org/images/overview-with-decisions.png"></a></div>



<a name="153898175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153898175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153898175">(Jul 25 2017 at 22:25)</a>:</h4>
<p>bdagnall <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-317891074" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-317891074">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>Hi there. I am trying to catch up on this thread so forgive me if the answer to my question has already been provided. I am working with Bryn Rhodes on a health platform that engages with a CDS service using CDS Hooks. I don't have a specific use cases necessarily. I am wondering if there is a pre-defined taxonomy of suggestion card types that could be used for downstream processing to determine how a suggestion should be handled? I can imagine that some suggestions are urgent and should be routed to a provider or patient through a real-time messaging system. Other suggestion cards might be stored and only shown when someone actively logs into the system. Who receives the suggestion card, when they receive it and through which communication channel they receive it could all be based on the suggestion card type. Thanks!</p>
</blockquote>



<a name="153898260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153898260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153898260">(Jul 26 2017 at 06:27)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-317960637" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-317960637">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>Hi @bdagnall! Your questions are great and best discussed either in their own issue (feel free to open a new Github issue here) or raise this discussion in a new topic in our <a href="https://chat.fhir.org/#narrow/stream/cds-hooks" target="_blank" title="https://chat.fhir.org/#narrow/stream/cds-hooks">#cds-hooks stream</a> in our <a href="http://cds-hooks.org/#community" target="_blank" title="http://cds-hooks.org/#community">Zulip chat</a>.</p>
<p>Would you mind raising your questions in either of those two venues?</p>
</blockquote>



<a name="153898262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153898262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153898262">(Jul 26 2017 at 06:30)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-317961144" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-317961144">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p><span class="user-mention" data-user-email="isaacvetter@gmail.com" data-user-id="558">@Isaac Vetter</span> - What if we replace that image with this one?</p>
<p>&lt;img width="892" alt="cds hooks workflow" src="<a href="https://user-images.githubusercontent.com/157327/28607547-015335ce-71a2-11e7-83c2-259b8a6f0742.png" target="_blank" title="https://user-images.githubusercontent.com/157327/28607547-015335ce-71a2-11e7-83c2-259b8a6f0742.png">https://user-images.githubusercontent.com/157327/28607547-015335ce-71a2-11e7-83c2-259b8a6f0742.png</a>"&gt;</p>
</blockquote>
<div class="message_inline_image"><a href="https://user-images.githubusercontent.com/157327/28607547-015335ce-71a2-11e7-83c2-259b8a6f0742.png" target="_blank" title="https://user-images.githubusercontent.com/157327/28607547-015335ce-71a2-11e7-83c2-259b8a6f0742.png"><img src="https://user-images.githubusercontent.com/157327/28607547-015335ce-71a2-11e7-83c2-259b8a6f0742.png"></a></div>



<a name="153898361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153898361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153898361">(Jul 26 2017 at 13:33)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-318054157" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-318054157">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>Swapped in above image, per suggestion, on pull #60 </p>
</blockquote>



<a name="153901351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153901351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153901351">(Aug 09 2017 at 18:25)</a>:</h4>
<p>isaacvetter <a href="https://github.com/cds-hooks/docs/issues/43#issuecomment-321340955" target="_blank" title="https://github.com/cds-hooks/docs/issues/43#issuecomment-321340955">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>
<blockquote>
<p>Fixed in #60 </p>
</blockquote>



<a name="153901352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%2343%20Enhance%20suggestion%20to%20support%20grouped%20re.../near/153901352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.2343.20Enhance.20suggestion.20to.20support.20grouped.20re.2E.2E.2E.html#153901352">(Aug 09 2017 at 18:25)</a>:</h4>
<p>isaacvetter closed <a href="https://github.com/cds-hooks/docs/issues/43" target="_blank" title="https://github.com/cds-hooks/docs/issues/43">Issue #43</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
