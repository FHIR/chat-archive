---
layout: page
title: "FHIR Chat  · docs / Issue #323 May 2018 Ballot Comment 117 · cds hooks/github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/index.html">cds hooks/github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html">docs / Issue #323 May 2018 Ballot Comment 117</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153962737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153962737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153962737">(May 16 2018 at 23:02)</a>:</h4>
<p>cds-hooks-bot milestoned <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>



<a name="153962738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153962738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153962738">(May 16 2018 at 23:02)</a>:</h4>
<p>cds-hooks-bot labeled <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>



<a name="153962739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153962739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153962739">(May 16 2018 at 23:02)</a>:</h4>
<p>cds-hooks-bot edited <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>
<blockquote>
<p>## May 2018 Ballot Comment 117</p>
<p>Submitted by @kensaku-kawamoto on behalf of @euvitudo from University of Utah</p>
<p><strong>Chapter:</strong> Link<br>
<strong>Section:</strong> <a href="https://cds-hooks.org/specification/1.0/" target="_blank" title="https://cds-hooks.org/specification/1.0/">https://cds-hooks.org/specification/1.0/</a><br>
<strong>Type:</strong> A-S :bulb:<br>
<strong>In Person Requested?</strong> Yes <span class="emoji emoji-1f464" title="bust in silhouette">:bust_in_silhouette:</span></p>
<p><strong>Existing Wording:</strong></p>
<blockquote>
<p>appContext: An optional field that allows the CDS Service to pass context regarding the launch of this SMART app from the CDS card to the SMART app. The appContext field should only be valued if the link type is smart and is not valid for absolute links. The appContext field and value will be sent to the SMART app as part of the OAuth 2 access token response, alongside the other launch context when the SMART app is launched.</p>
</blockquote>
<p><strong>Comment:</strong><br>
  Recommend we be able to send information/insights gained from the CDS Hooks process to the SMART app as parameters.</p>
<hr>
<p>_This issue was imported by @cds-hooks-bot from the <a href="https://bit.ly/cds-hooks-may-2018-ballot-comments" target="_blank" title="https://bit.ly/cds-hooks-may-2018-ballot-comments">consolidated CDS Hooks May 2018 ballot spreadsheet</a>._</p>
</blockquote>



<a name="153962740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153962740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153962740">(May 16 2018 at 23:02)</a>:</h4>
<p>cds-hooks-bot opened <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>
<blockquote>
<p>## May 2018 Ballot Comment 117</p>
<p>Submitted by @kensaku-kawamoto on behalf of @euvitudo from University of Utah</p>
<p><strong>Chapter:</strong> Link<br>
<strong>Section:</strong> <a href="https://cds-hooks.org/specification/1.0/" target="_blank" title="https://cds-hooks.org/specification/1.0/">https://cds-hooks.org/specification/1.0/</a><br>
<strong>Type:</strong> A-S :bulb:<br>
<strong>In Person Requested?</strong> Yes <span class="emoji emoji-1f464" title="bust in silhouette">:bust_in_silhouette:</span></p>
<p><strong>Existing Wording:</strong></p>
<blockquote>
<p>appContext: An optional field that allows the CDS Service to pass context regarding the launch of this SMART app from the CDS card to the SMART app. The appContext field should only be valued if the link type is smart and is not valid for absolute links. The appContext field and value will be sent to the SMART app as part of the OAuth 2 access token response, alongside the other launch context when the SMART app is launched.</p>
</blockquote>
<p><strong>Comment:</strong><br>
  Recommend we be able to send information/insights gained from the CDS Hooks process to the SMART app as parameters.</p>
<hr>
<p>_This issue was imported by @cds-hooks-bot from the <a href="https://bit.ly/cds-hooks-may-2018-ballot-comments" target="_blank" title="https://bit.ly/cds-hooks-may-2018-ballot-comments">consolidated CDS Hooks May 2018 ballot spreadsheet</a>._</p>
</blockquote>



<a name="153963779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153963779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153963779">(May 20 2018 at 10:45)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/323#issuecomment-390472216" target="_blank" title="https://github.com/cds-hooks/docs/issues/323#issuecomment-390472216">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>
<blockquote>
<p>Hi @euvitudo, </p>
<p>While reviewing the ballot comments in Cologne earlier this week, we had a question regarding this ballot comment (117) from you.</p>
<p>Your comment was that we “Recommend we be able to send information/insights gained from the CDS Hooks process to the SMART app as parameters.” Were you referring to URL parameters such that a CDS Service could return a link to a SMART app where the URL contains parameters containing this information?</p>
<p>For example:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;summary&quot;</span><span class="p">:</span> <span class="s2">&quot;Example Card&quot;</span><span class="p">,</span>
  <span class="nt">&quot;indicator&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Example&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Example SMART app&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com/launch?myCustomParam=1&amp;anotherParam=abc&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;smart&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>If this was what you were suggesting, check out our discussion in issue #59, where we debated the pros/cons of the various approaches for a CDS Service to communicate custom information to the SMART app they link to. We ultimately went with launch context parameters alongside your OAuth access token (via the appContext field) as this provides a better security model, as any parameters which are sensitive would not be shared/accessible via the URL.</p>
<p>Let us know if this what your ballot commenter was referring to or if we misunderstood. Thanks!</p>
</blockquote>



<a name="153963891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153963891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153963891">(May 21 2018 at 16:43)</a>:</h4>
<p>euvitudo <a href="https://github.com/cds-hooks/docs/issues/323#issuecomment-390711603" target="_blank" title="https://github.com/cds-hooks/docs/issues/323#issuecomment-390711603">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>
<blockquote>
<p>Hi @kpshek,</p>
<p>URL parameters are not ideal as you mention, as they would expose PHI.</p>
<p>The appContext field is limiting, as a String is likely not sufficient for all use cases.  Which is to say that a full JSON object would be beneficial (e.g., a Parameters resource).  That's really what I wanted to say and ultimately wasn't clear on that (apologies).</p>
<p>A couple alternatives to consider:</p>
<p>1. allow passing a Parameters resource in the CDSResponse (as part of the spec) where the appContext could reference the ID<br>
2. set the value of appContext field to the Parameters resource</p>
<p>In either case, the EHR can either (1) pass the Parameters as part of the OAuth 2 access token, or (2) provide a reference to the Parameters, where the SoF app would then obtain them via the EHR's FHIR service.  Both the EHR and the SoF app must understand the protocol.</p>
</blockquote>



<a name="153963899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153963899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153963899">(May 21 2018 at 18:50)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/323#issuecomment-390747235" target="_blank" title="https://github.com/cds-hooks/docs/issues/323#issuecomment-390747235">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>
<blockquote>
<p>@euvitudo - Thanks for the additional clarification! Now I understand. <span class="emoji emoji-1f604" title="smile">:smile:</span> </p>
<p>You could represent a full JSON object as a string which is why we didn't think it was limiting. For instance:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;summary&quot;</span><span class="p">:</span> <span class="s2">&quot;Example Card&quot;</span><span class="p">,</span>
  <span class="nt">&quot;indicator&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Example&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Example SMART app&quot;</span><span class="p">,</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com/launch&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;smart&quot;</span><span class="p">,</span>
      <span class="nt">&quot;appContext&quot;</span><span class="p">:</span> <span class="s2">&quot;{\&quot;foo\&quot;:1,\&quot;bar\&quot;:{\&quot;baz\&quot;:false}}&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>That <code>appContext</code> blows out to the following JSON (which I've formatted for readability:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;bar&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;baz&quot;</span><span class="p">:</span><span class="kc">false</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>You could even serialize a FHIR Parameters resource as JSON and communicate it as well like this. <span class="emoji emoji-1f525" title="fire">:fire:</span> </p>
<p>This is why we went with the string type for <code>appContext</code>. The value is inherently something only the CDS Service and SMART app understand (which you pointed out too). As such, choosing a string type allows CDS Hooks to support any data the two entities want to communicate between each other. Parties that want to share simple data can do so easily with a simple string; if you want to share more complex data in a richer format, you can do as well by simply serializing it as json (like in the above example).</p>
<p>Choosing some other type like the FHIR Parameters resource also allows any data to be shared, albeit in a more verbose fashion. So, if you want to communicate this data via the Parameters resource, feel free to -- just serialize it over in the string field. We believe the majority of SMART apps/CDS Services won't communicate using that data type; most are just wanting to communicate a simple bit of data (like session/reference id).</p>
<p>Thanks again for the additional clarification behind your ballot comment. I've tagged this for discussion on the May 30th CDS working group call. Let me know if you want to discuss it on a different CDS working group call.</p>
</blockquote>



<a name="153963901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153963901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153963901">(May 21 2018 at 18:58)</a>:</h4>
<p>euvitudo <a href="https://github.com/cds-hooks/docs/issues/323#issuecomment-390749386" target="_blank" title="https://github.com/cds-hooks/docs/issues/323#issuecomment-390749386">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>
<blockquote>
<p>This intent should be communicated clearly in the spec.</p>
</blockquote>



<a name="153965960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153965960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153965960">(May 30 2018 at 22:33)</a>:</h4>
<p>kpshek <a href="https://github.com/cds-hooks/docs/issues/323#issuecomment-393341237" target="_blank" title="https://github.com/cds-hooks/docs/issues/323#issuecomment-393341237">commented</a> on <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>
<blockquote>
<p>## <span class="emoji emoji-1f4de" title="telephone receiver">:telephone_receiver:</span> CDS Working Group Vote (5-30-2018)</p>
<p>Meeting notes: <a href="http://wiki.hl7.org/index.php?title=File:2018-05-30_CDS_WG_Call_Minutes.docx" target="_blank" title="http://wiki.hl7.org/index.php?title=File:2018-05-30_CDS_WG_Call_Minutes.docx">http://wiki.hl7.org/index.php?title=File:2018-05-30_CDS_WG_Call_Minutes.docx</a></p>
<p>@kpshek moved the following disposition, seconded by @euvitudo.</p>
<p><strong>Disposition:</strong> Persuasive with Mod<br>
<strong>Disposition Comment:</strong><br>
We will clarify the documentation to state that appContext allows you to share any information between a CDS Service and SMART app with this string value. We will also include an example showing appContext being used to share data between a CDS Service and SMART app launch.</p>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span> For: 15<br>
<span class="emoji emoji-1f611" title="expressionless">:expressionless:</span> Abstain: 0<br>
<span class="emoji emoji-1f44e" title="-1">:-1:</span> Against: 0</p>
<p><span class="emoji emoji-1f389" title="tada">:tada:</span> The motion passed! <span class="emoji emoji-1f389" title="tada">:tada:</span></p>
</blockquote>



<a name="153969848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153969848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153969848">(Jun 14 2018 at 13:43)</a>:</h4>
<p>cds-hooks-bot assigned <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>



<a name="153983642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179276-cds%20hooks/github/topic/docs%20/%20Issue%20%23323%20May%202018%20Ballot%20Comment%20117/near/153983642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications <a href="https://fhir.github.io/chat-archive/stream/179276-cds-hooks/github/topic/docs.20.2F.20Issue.20.23323.20May.202018.20Ballot.20Comment.20117.html#153983642">(Aug 08 2018 at 13:40)</a>:</h4>
<p>kpshek closed <a href="https://github.com/cds-hooks/docs/issues/323" target="_blank" title="https://github.com/cds-hooks/docs/issues/323">Issue #323</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
