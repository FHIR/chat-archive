---
layout: page
title: "FHIR Chat  · Reconciling prefetch between CRD and CDS Hooks · Da Vinci CRD"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/180803-Da-Vinci-CRD/index.html">Da Vinci CRD</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/180803-Da-Vinci-CRD/topic/Reconciling.20prefetch.20between.20CRD.20and.20CDS.20Hooks.html">Reconciling prefetch between CRD and CDS Hooks</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="267602096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/180803-Da%20Vinci%20CRD/topic/Reconciling%20prefetch%20between%20CRD%20and%20CDS%20Hooks/near/267602096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Varghese <a href="https://fhir.github.io/chat-archive/stream/180803-Da-Vinci-CRD/topic/Reconciling.20prefetch.20between.20CRD.20and.20CDS.20Hooks.html#267602096">(Jan 11 2022 at 15:58)</a>:</h4>
<p>Is there any update on reconciling the CRD prefetch with CDS Hooks specification? <br>
CDS Hooks specification says: <a href="https://cds-hooks.org/specification/current/#prefetch-tokens">https://cds-hooks.org/specification/current/#prefetch-tokens</a><br>
<a href="/user_uploads/10155/VeasZDvVC8kvponyxh-T7k30/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/VeasZDvVC8kvponyxh-T7k30/image.png" title="image.png"><img src="/user_uploads/10155/VeasZDvVC8kvponyxh-T7k30/image.png"></a></div><p>This currently contradicts with wording in the Da Vinci CRD spec <a href="http://build.fhir.org/ig/HL7/davinci-crd/hooks.html#additional-prefetch-capabilities">http://build.fhir.org/ig/HL7/davinci-crd/hooks.html#additional-prefetch-capabilities</a> which suggests using prefetch tokens such as <code>{{context.draftOrders.ServiceRequest.id}}</code></p>
<p>Da Vinci spec calls out that there is a proposal, but last activity on that proposal GitHub issue <a href="https://github.com/cds-hooks/docs/issues/377">https://github.com/cds-hooks/docs/issues/377</a> dates from 2019. </p>
<p>Without this reconciled, CRD is NOT COMPLIANT with the underlying CDS Hooks specification. This puts implementers in a bind. </p>
<p>What is the plan here? Has there been any updates on this front?</p>



<a name="267602214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/180803-Da%20Vinci%20CRD/topic/Reconciling%20prefetch%20between%20CRD%20and%20CDS%20Hooks/near/267602214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Varghese <a href="https://fhir.github.io/chat-archive/stream/180803-Da-Vinci-CRD/topic/Reconciling.20prefetch.20between.20CRD.20and.20CDS.20Hooks.html#267602214">(Jan 11 2022 at 15:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="267651246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/180803-Da%20Vinci%20CRD/topic/Reconciling%20prefetch%20between%20CRD%20and%20CDS%20Hooks/near/267651246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/180803-Da-Vinci-CRD/topic/Reconciling.20prefetch.20between.20CRD.20and.20CDS.20Hooks.html#267651246">(Jan 11 2022 at 21:55)</a>:</h4>
<p>When we discussed in 2019, there was concern about relying on prefetch at all.  However, in order to pre-fetch what's necessary, there's no ability to do so without referring to the 'id' of the order.  That's because the entire order is passed as context, not just the id of it (which is what's passed for encounter and patient).</p>



<a name="267745391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/180803-Da%20Vinci%20CRD/topic/Reconciling%20prefetch%20between%20CRD%20and%20CDS%20Hooks/near/267745391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Varghese <a href="https://fhir.github.io/chat-archive/stream/180803-Da-Vinci-CRD/topic/Reconciling.20prefetch.20between.20CRD.20and.20CDS.20Hooks.html#267745391">(Jan 12 2022 at 16:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  - I'm not asking why we use <code>{{context.draftOrders.ServiceRequest.id}}</code><br>
Rather this incompatibility between the specs needs to be resolved for us to implement CRD on top of CDS Hooks. <br>
I'm asking what is the plan towards resolving that incompatibility.</p>



<a name="267775023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/180803-Da%20Vinci%20CRD/topic/Reconciling%20prefetch%20between%20CRD%20and%20CDS%20Hooks/near/267775023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/180803-Da-Vinci-CRD/topic/Reconciling.20prefetch.20between.20CRD.20and.20CDS.20Hooks.html#267775023">(Jan 12 2022 at 19:37)</a>:</h4>
<p>Let's try to land it Thur. Q4.</p>



<a name="268020031"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/180803-Da%20Vinci%20CRD/topic/Reconciling%20prefetch%20between%20CRD%20and%20CDS%20Hooks/near/268020031" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kyle Johnsen <a href="https://fhir.github.io/chat-archive/stream/180803-Da-Vinci-CRD/topic/Reconciling.20prefetch.20between.20CRD.20and.20CDS.20Hooks.html#268020031">(Jan 14 2022 at 14:26)</a>:</h4>
<p>There's also the related issue where "_include" isn't part of <a href="https://cds-hooks.org/specification/current/#prefetch-query-restrictions">https://cds-hooks.org/specification/current/#prefetch-query-restrictions</a></p>
<p>Submitted <a href="https://jira.hl7.org/browse/FHIR-35804">https://jira.hl7.org/browse/FHIR-35804</a> to track this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
