---
layout: page
title: "FHIR Chat  · GraphDefinition as &#x27;open&#x27; or &#x27;closed&#x27; definition · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html">GraphDefinition as &#x27;open&#x27; or &#x27;closed&#x27; definition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183610747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/183610747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#183610747">(Dec 17 2019 at 01:57)</a>:</h4>
<p>Is there a way to say using MessageDef or GraphDef these are all the edges that are allowed? ( or conversely this is the minimum but there could be more)  I could not find any and I think for messaging it might be useful to nail it down.   Thoughts?</p>



<a name="183624457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/183624457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#183624457">(Dec 17 2019 at 07:31)</a>:</h4>
<p>In my new proposal for GraphDefinition (HL7 Jira site is down at the moment) I'm silent on this, but the default thinking was 'closed'. This question was already on my list.. we could define a flag define the entire Graph to be 'open'.  This could be an argument to start using Sub-graphs, because then some sub-graphs could be open whereas others could be closed. It does however add to the complexity. We'll also have to think of the Graph validation software: an open definition presumably would be harder to validate than a closed definition.</p>



<a name="183653291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/183653291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#183653291">(Dec 17 2019 at 14:34)</a>:</h4>
<blockquote>
<p>but the default thinking was 'closed'. </p>
</blockquote>
<p>Is this thethinking using the current GD as well?  I was not aware of that and did not see it documented?</p>



<a name="183658455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/183658455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#183658455">(Dec 17 2019 at 15:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ? I don't think it's stated anywhere..</p>



<a name="183679701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/183679701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#183679701">(Dec 17 2019 at 19:04)</a>:</h4>
<p>It's not closed in that sense</p>



<a name="183826747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/183826747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#183826747">(Dec 19 2019 at 08:55)</a>:</h4>
<p>GraphDef is build on StrucDefs (those can be open or closed in nature). GraphDef allows one to define cardinalities when it comes to (inbound/outbound) references, those could be bound (closed) or unbound (open). GraphDef allows one to constrain the number of instance resources of a type, but the cardinality needs not be limited.<br>
In other words: GraphDef allows you to create fully open graphs, full closed ones, or hybrids.</p>



<a name="183987283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/183987283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#183987283">(Dec 21 2019 at 00:39)</a>:</h4>
<p>Is it possible to discuss this at Sydney?   I agree with what <span class="user-mention" data-user-id="191372">@René Spronk</span>  is saying...but  when I say <em>closed</em> in the context of a Graph:  I meant is this a complete graph overall and you can't add any more edges.   By <em>open</em> I mean you are allowed to add more edges the the graph.</p>



<a name="184162569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/184162569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#184162569">(Dec 24 2019 at 10:40)</a>:</h4>
<p>We'd need an attribute as part of the 'header' of GraphDefinition to ensure the definition is closed. Remember that if one of the StrucDefs referenced by the Graph is open, then the entire Graph is open. So labeling a Graph as closed effectively turns all open strucDefs into closed Strucdefs as well.</p>



<a name="184171802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/184171802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#184171802">(Dec 24 2019 at 14:17)</a>:</h4>
<p>Ok I get it.    The profiles  would have to at least allow the references that the Graph defined.</p>



<a name="184184700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/184184700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#184184700">(Dec 24 2019 at 19:08)</a>:</h4>
<p>... but necessarily the other way  around depending on the  'aggregation'  in the SDs ....</p>



<a name="184184793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/184184793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#184184793">(Dec 24 2019 at 19:11)</a>:</h4>
<p>My wish was for the SDs (Profiles)  to be generally permissive which means:</p>
<ul>
<li>Define only the mandatory and must supports.</li>
<li>Leave all the aggregation "open"</li>
<li>don't exclude any elements</li>
</ul>



<a name="184184913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/184184913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#184184913">(Dec 24 2019 at 19:14)</a>:</h4>
<p>Then use the Graphs to define the edges ( aggregations)  obviously not crossing the line where the SD excludes a reference (which would violates my permissive approach above anyway) or limits the target or cardinality and usage  ( e.g., mandatory --&gt; mandatory)</p>



<a name="184185064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/184185064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#184185064">(Dec 24 2019 at 19:18)</a>:</h4>
<p>So the Graph would be in control of whether the it could be open to addtitional edges  or not. </p>
<p>...Are we saying the same thing?</p>



<a name="184212533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/GraphDefinition%20as%20%27open%27%20or%20%27closed%27%20definition/near/184212533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/GraphDefinition.20as.20&#x27;open&#x27;.20or.20&#x27;closed&#x27;.20definition.html#184212533">(Dec 25 2019 at 10:36)</a>:</h4>
<p>A GraphDef could be more restrictive than a StrucDef, so yes, ultimately GraphDef fully controls the edges. </p>
<p>If we assume a GraphDef G has populated attributes for min/max on the edge relationships then it represents a closed graph. There are two uses cases for openess, to go beyond such a closed graph G: </p>
<ol>
<li>To state that anywhere there may be additional links, of reference-types not mentioned/defined in the GraphDef. This would require a new 'header' attribute on GraphDef,</li>
<li>To state that on a particular node one could have additional links, f reference-types not mentioned/defined in the GraphDef for that specific node. This use case can be solved by adding a new node for resource type "Resource" (effectively an ANY). </li>
</ol>
<p>Note that if we were to ever introduce sub-graphs in GraphDef this will get even more complex. But let's not go there right now until we have a very good use case which requires it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
