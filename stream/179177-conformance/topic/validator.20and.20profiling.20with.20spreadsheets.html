---
layout: page
title: "FHIR Chat  · validator and profiling with spreadsheets · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20and.20profiling.20with.20spreadsheets.html">validator and profiling with spreadsheets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154013819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20and%20profiling%20with%20spreadsheets/near/154013819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20and.20profiling.20with.20spreadsheets.html#154013819">(Oct 30 2018 at 19:53)</a>:</h4>
<p>I have some questions about using the <a href="http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator" target="_blank" title="http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator">FHIR Validator</a> to validate examples based on profiles that have been authored with spreadsheets (xml). Is this the right stream for that?</p>



<a name="154013821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20and%20profiling%20with%20spreadsheets/near/154013821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20and.20profiling.20with.20spreadsheets.html#154013821">(Oct 30 2018 at 19:59)</a>:</h4>
<p>sure</p>



<a name="154013830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20and%20profiling%20with%20spreadsheets/near/154013830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20and.20profiling.20with.20spreadsheets.html#154013830">(Oct 30 2018 at 20:31)</a>:</h4>
<p>I'm working on examples for our Genomics Reporting IG, and using the FHIR Validator to validate them. I initially found an issue where a Pattern (in json) was being ignored and the observation.code binding wasn't being enforced. I created a gf ticket on this (<a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19565" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19565">#19565</a>). So I tried editing the spreadsheet to do the slicing as I've seen other profiles do it (eg heartrate), and have this: <a href="/user_uploads/10155/_eMlyy3bqgEEpg-BBsjWNYAR/obs-genotype.png" target="_blank" title="obs-genotype.png">obs-genotype.png</a>. </p>
<div class="message_inline_image"><a href="/user_uploads/10155/_eMlyy3bqgEEpg-BBsjWNYAR/obs-genotype.png" target="_blank" title="obs-genotype.png"><img src="/user_uploads/10155/_eMlyy3bqgEEpg-BBsjWNYAR/obs-genotype.png"></a></div><p>Now the validator seems to work, ie gives me an error when I don't have the correct observation.code.coding. But it doesn't allow for other codings. e.g., if I use this coding</p>
<div class="codehilite"><pre><span></span>   <span class="nt">&lt;code&gt;</span>
        <span class="nt">&lt;coding&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://loinc.org&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;84413-4&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;display</span> <span class="na">value=</span><span class="s">&quot;Genotype display name&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/coding&gt;</span>
        <span class="nt">&lt;coding&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://loinc.org&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;57290-9&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;display</span> <span class="na">value=</span><span class="s">&quot;HLA-A [Type] by High resolution&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/coding&gt;</span>
    <span class="nt">&lt;/code&gt;</span>
</pre></div>


<p>I get this error that tells me the second coding doesn't match any known slice. If I comment out the second coding, it passes validation.</p>
<div class="codehilite"><pre><span></span>$ java -jar org.hl7.fhir.validator.jar observation_genotype_test.xml -ig hl7.fhir.uv.genomics-reporting#dev -profile http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/obs-genotype
FHIR Validator Build ??
Arguments: observation_genotype_test.xml -ig hl7.fhir.uv.genomics-reporting#dev -profile http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/obs-genotype
  .. connect to tx server @ http://tx.fhir.org
  .. definitions from hl7.fhir.core#3.6.0
    <span class="o">(</span>v3.6.0-null<span class="o">)</span>
+  .. load IG from hl7.fhir.uv.genomics-reporting#dev
  .. validate <span class="o">[</span>observation_genotype_test.xml<span class="o">]</span> against <span class="o">[</span>http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/obs-genotype<span class="o">]</span>
Terminology server: Check <span class="k">for</span> supported code systems <span class="k">for</span> http://loinc.org
Success...validating observation_genotype_test.xml:  error:0 warn:0 info:1
  Information @ Observation.code.coding<span class="o">[</span><span class="m">2</span><span class="o">]</span> <span class="o">(</span>line <span class="m">24</span>, col17<span class="o">)</span> : This element does not match any known slice <span class="k">for</span> the profile http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/obs-genotype
</pre></div>


<p>I want the validator to make sure the first coding is present, but allow for other codings as well.<br>
I hope that makes sense.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
