---
layout: page
title: "FHIR Chat  · Slicing on valueset binding · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html">Slicing on valueset binding</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153920124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920124">(Nov 17 2017 at 01:44)</a>:</h4>
<p>Hi all - looking for slicing options for the following, would like to slice a CodeableConcept 0..* element to support multiple slices bound to different ValueSets from a single CodeSystem hierarchy - how do i define discriminators so can determine which ValueSet binding is relevant since codes are all in the same CodeSystem (i.e. can't use Coding.system value to discriminate)?</p>



<a name="153920168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920168">(Nov 17 2017 at 10:55)</a>:</h4>
<p>Yeah, it's pretty hard then. Could you give some context - why do you need to do this? Why not one valueset?</p>



<a name="153920193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920193">(Nov 17 2017 at 12:19)</a>:</h4>
<p>Just slice on the element that has the binding and declare the value set for each.  So long as the value sets are mutually exclusive (or at least all the codes you receive only exist in one of the value sets), validation should work.</p>



<a name="153920202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920202">(Nov 17 2017 at 12:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191363">@Vadim Peretokin</span>  couple of example cases - Australian Medicines Terminology (SNOMED-CT AU Edition)  Medication.code.coding slices for Medicinal Product Pack and Trade Product Pack (0..1 of each)  both are SNOMED-CT but want to restrict to up to  one of each subset.   Another one Organization.type slices using ANZSIC (industry classification); there are two levels in this CodeSystem; want to allow up to one from each level in a profile.</p>



<a name="153920210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920210">(Nov 17 2017 at 13:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> how would a validator know which slice  is to be applied? Is the discriminator then the 'code' value itself?  obviously this is more difficult for a validator as needs to check contained in ValueSet rather than a matched value</p>



<a name="153920234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920234">(Nov 17 2017 at 17:04)</a>:</h4>
<p>The validator would evaluate the code against each slice.  If it finds 0 or more than one match, it yells.  If it only finds one, it knows what slice applies and then validates the rest accordingly.</p>



<a name="153920256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920256">(Nov 18 2017 at 05:50)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  will try this out</p>



<a name="153920265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920265">(Nov 18 2017 at 15:50)</a>:</h4>
<blockquote>
<p>Just slice on the element that has the binding and declare the value set for each.  So long as the value sets are mutually exclusive (or at least all the codes you receive only exist in one of the value sets), validation should work.<br>
```so if I have valueset A = a,b,c   And valueset B = a,c,d,f.    It will yell if the code is a or c?</p>
</blockquote>



<a name="153920284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153920284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153920284">(Nov 18 2017 at 23:02)</a>:</h4>
<p>Yup.  Because the element will match multiple slices and that's not (presently) allowed.</p>



<a name="153955614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153955614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153955614">(May 03 2018 at 06:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <br>
As I read the documentation on <a href="http://build.fhir.org/profiling.html#discriminator" target="_blank" title="http://build.fhir.org/profiling.html#discriminator">discriminators</a> the slice's discriminator specifies the elements and method of testing used to test for slice membership, so if I slice Medication.code with discriminator Medication.code.coding.system, I can only have one slice for each value of system. That would prevent what Brett is asking for.</p>



<a name="153955674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153955674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153955674">(May 03 2018 at 12:19)</a>:</h4>
<p>You can also slice by valueset.  So long as the valuesets don't have overlapping codes (i.e. code + system the same), it's fine if they have codes from the same code system</p>



<a name="153955826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153955826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153955826">(May 03 2018 at 22:26)</a>:</h4>
<p>How do you slice by value set? It is obvious how to slice by CodeSystem: value of coding.system, but I cannot see how to slice by ValueSet.<br>
Would I slice Medication.code with two discriminators, discriminator1 a 'value' on Medication.code.coding.system and discriminator2 a 'value' on Medication.code.coding.code and then the definitions for each slice specify a value for system, but not for code? That looks wrong.</p>



<a name="153955827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153955827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153955827">(May 03 2018 at 22:31)</a>:</h4>
<p>Slice by value and declare non-overlapping value sets (or fixed values) in your slices.  It looks like the documentation about this as an option could be better, so feel free to submit a change request.  So you'd slice on Medication.code and then in each slice you'd declare a different binding  for Medication.code</p>



<a name="153956874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20valueset%20binding/near/153956874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20valueset.20binding.html#153956874">(May 08 2018 at 04:01)</a>:</h4>
<p>Thanks<br>
<a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16522" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16522">#16522</a> added</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
