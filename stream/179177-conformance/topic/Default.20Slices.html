---
layout: page
title: "FHIR Chat  · Default Slices · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html">Default Slices</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153850891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850891">(Sep 27 2016 at 13:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> and I were discussing slicing and the topic of default slices came up.  During profiling, there are times when you'd like to constrain all instances that don't conform to any existing slices.  Generally for me this is when there is no good way to fix the other slices or they are too numerous to enumerate.  Opened <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12198" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12198">GF#12198</a> on this.  Has anyone else experienced this?</p>



<a name="153850892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850892">(Sep 27 2016 at 13:22)</a>:</h4>
<p>One of the challenges we face is how to present a default slice in a user interface in a comprehensible and intuitive way. In Forge, the default children of a sliced element are hidden and instead the actual slices are presented as child nodes. If we'd want to support the proposed default slicing contstraints, Forge would have to show the (currently hidden) child elements, as well as any actual slices. However this would clutter the UI and probably confuse the end user.  As of yet, I haven't come up with a user friendly and intuitive visualisation. Suggestions are welcome.</p>



<a name="153850893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850893">(Sep 27 2016 at 13:28)</a>:</h4>
<p>I would present it as a sibling to the named slices as (default)</p>



<a name="153850894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850894">(Sep 27 2016 at 13:29)</a>:</h4>
<p>What you're calling "default children" isn't actually default but rather the unsliced children, correct?</p>



<a name="153850895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850895">(Sep 27 2016 at 13:41)</a>:</h4>
<p>Yes, I am referring to the ordinary child elements of the unsliced child element, e.g. the child elements of "Patient.Identifier". I like you're suggestion of a "[default]" slice, that would be clear to the user. I'd have to do some UI work, as the regular children would then be pushed down one level and I'd have to dynamically update all the associated UI and ViewModel bindings. But it's possible.</p>



<a name="153850897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850897">(Sep 27 2016 at 13:44)</a>:</h4>
<p>So there are 2 things here: the (all) element which is not sliced - what we have today.  And a (default) slice for all instances that are not "in" the existing slices:</p>
<div class="codehilite"><pre>Patient
  identifier (discriminator: system)
    (all)  &lt;--- We have this today - the unsliced elements
      system (min:1)
    (ssn)
      system (fixed: http://.../ssn)
    (mrn)
      system (fixed: http://.../mrn)
    (default)  &lt;--- This is the new thing, everything that is not an ssn or mrn.
</pre></div>



<a name="153850899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850899">(Sep 27 2016 at 13:49)</a>:</h4>
<p>Ah, so these default constraints would be separate from/in addition to the regular child elements?</p>



<a name="153850900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850900">(Sep 27 2016 at 13:50)</a>:</h4>
<p>They would apply to everything *not* already constrained by existing slices</p>



<a name="153850901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850901">(Sep 27 2016 at 13:51)</a>:</h4>
<p>So then Forge would have to display virtual child nodes for both "[all]" and "[default]" slice constraints?</p>



<a name="153850902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850902">(Sep 27 2016 at 13:52)</a>:</h4>
<p>Only if needed...but yes.  Forge already needs the (all)</p>



<a name="153850903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850903">(Sep 27 2016 at 13:53)</a>:</h4>
<p>I'm no UI guy, but I'd probably use some visual aid to distinguish between a parent/child relationship (Patient-&gt;identifier) and an element/slice relationship (identifier-&gt;ssn).  Maybe just a different color/style for the branch lines or something...</p>



<a name="153850911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850911">(Sep 27 2016 at 14:22)</a>:</h4>
<p>Indeed, concrete slices are already indicated by a special icon (currently a sliced pie chart). So this would discern the slices from the virtual "[all]" and "[default]" nodes.</p>



<a name="153850912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850912">(Sep 27 2016 at 14:24)</a>:</h4>
<p>I could easily bind visibility of the virtual nodes to a global toggle, so the user could selectively show/hide these elements. This would allow for a "basic" vs. "advanced" view. Just as the user can currently toggle visibility of the inherited common resource elements such as meta.</p>



<a name="153850916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153850916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153850916">(Sep 27 2016 at 15:03)</a>:</h4>
<p>I'm not sure I understand the use case; you want elements that don't match a slice to be constrained, but differently to the rules that apply to all slices?</p>



<a name="153851436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153851436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153851436">(Sep 30 2016 at 14:25)</a>:</h4>
<p>Yes.  Mostly for labeling/definition reasons, but potentially other constraints as well.</p>



<a name="153851437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153851437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153851437">(Sep 30 2016 at 14:25)</a>:</h4>
<p>There are many cases where we'd like the set of slices to be complete and need an "other" bucket.</p>



<a name="153851458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Default%20Slices/near/153851458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Default.20Slices.html#153851458">(Sep 30 2016 at 18:26)</a>:</h4>
<p>I'm not entirely sure that would go with further slicing. It's kind of a lot easier to understand if it's final</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
