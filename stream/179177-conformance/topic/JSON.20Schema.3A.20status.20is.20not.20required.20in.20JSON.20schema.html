---
layout: page
title: "FHIR Chat  · JSON Schema: status is not required in JSON schema · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html">JSON Schema: status is not required in JSON schema</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215482492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215482492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julius Severin <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215482492">(Nov 03 2020 at 17:06)</a>:</h4>
<p>Now I'm pretty sure to have found a bug.<br>
In the JSON Schema for <a href="https://www.hl7.org/fhir/observation.schema.json.html">R4 Observations</a> the status field is not in the <code>required</code> array.<br>
Therefore our validation does not fail when the status field is missing.</p>



<a name="215499859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215499859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215499859">(Nov 03 2020 at 19:29)</a>:</h4>
<p>That's not a bug - because you could have <code>status</code> or <code>_status</code>.  The requirement is for one or the other (or both), but it's legal to omit <code>status</code> if there's an extension.</p>



<a name="215504659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215504659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215504659">(Nov 03 2020 at 20:14)</a>:</h4>
<p>json schema has no way to say "you must have at least one of status or _status"</p>



<a name="215549812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215549812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215549812">(Nov 04 2020 at 07:52)</a>:</h4>
<p>Maybe I'm getting this wrong, but I thought the JSON schema <a href="http://json-schema.org/understanding-json-schema/reference/combining.html#oneof"><code>oneOf</code> keyword</a> would allow this. I.e. it seems one could specify one subschema with <code>status</code> required and one with <code>_status</code> required, and then combine the two in a schema that says the instance must fit exactly one of them (which , for several required fields, would of course mean having to multiply out all possible combinations...). Did I misunderstand that or are there obstacles to using that?</p>



<a name="215602408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215602408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215602408">(Nov 04 2020 at 16:06)</a>:</h4>
<p>The problem is that you'd need to do that for <em>every</em> simple type that was mandatory, so it becomes unreasonable pretty quickly</p>



<a name="215655159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215655159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215655159">(Nov 04 2020 at 23:39)</a>:</h4>
<p>maybe that would work. I think that I didn't do that because.... some reason. I can't remember.</p>



<a name="215655169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215655169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215655169">(Nov 04 2020 at 23:39)</a>:</h4>
<p>I</p>



<a name="215655174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215655174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215655174">(Nov 04 2020 at 23:39)</a>:</h4>
<p>I'll add it to my todo list</p>



<a name="215682845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/JSON%20Schema%3A%20status%20is%20not%20required%20in%20JSON%20schema/near/215682845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/JSON.20Schema.3A.20status.20is.20not.20required.20in.20JSON.20schema.html#215682845">(Nov 05 2020 at 08:39)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> this would definitely help catch some nasty errors! Just let us know if we can support in some way.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
