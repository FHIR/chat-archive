---
layout: page
title: "FHIR Chat  · Slicing by datatype profile checking · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20by.20datatype.20profile.20checking.html">Slicing by datatype profile checking</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203675725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20by%20datatype%20profile%20checking/near/203675725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20by.20datatype.20profile.20checking.html#203675725">(Jul 13 2020 at 03:55)</a>:</h4>
<p>When we are attempting to slice by profile on an element (match datatype profiles) we do this:<br>
  &lt;element id="Patient.identifier"&gt;<br>
      &lt;path value="Patient.identifier" /&gt;<br>
      &lt;slicing&gt;<br>
        &lt;discriminator&gt;<br>
          &lt;type value="profile" /&gt;<br>
          &lt;path value="$this" /&gt;<br>
        &lt;/discriminator&gt;<br>
        &lt;rules value="open" /&gt;<br>
      &lt;/slicing&gt;<br>
    &lt;/element&gt;<br>
Where the path is $this  as we are trying to match the  instance element with one of the datatype slices which each have a profile defined for the type<br>
e.g<br>
  &lt;element id="Patient.identifier:ihiNumber"&gt;<br>
      &lt;path value="Patient.identifier" /&gt;<br>
      &lt;sliceName value="ihiNumber" /&gt;<br>
      &lt;max value="1" /&gt;<br>
      &lt;type&gt;<br>
        &lt;code value="Identifier" /&gt;<br>
        &lt;profile value="<a href="http://hl7.org.au/fhir/StructureDefinition/au-ihinumber">http://hl7.org.au/fhir/StructureDefinition/au-ihinumber</a>" /&gt;<br>
      &lt;/type&gt;<br>
      &lt;mustSupport value="true" /&gt;<br>
    &lt;/element&gt;</p>
<p>For examples - QA report is showing 'Not supported yet' <br>
Internal error: Problem evaluating slicing expression for element in profile <a href="http://hl7.org.au/fhir/StructureDefinition/patient-ident-choice-ihi-med">http://hl7.org.au/fhir/StructureDefinition/patient-ident-choice-ihi-med</a> path Patient.identifier[0] (fhirPath = true and $this.conformsTo('<a href="http://hl7.org.au/fhir/StructureDefinition/au-ihinumber">http://hl7.org.au/fhir/StructureDefinition/au-ihinumber</a>')): Not supported yet</p>
<p>Is there any plan for this validation capability (assume the Java validator?) ; resolve() works fine for Reference resolution and profile check but not datatype profile check</p>



<a name="203685417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20by%20datatype%20profile%20checking/near/203685417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20by.20datatype.20profile.20checking.html#203685417">(Jul 13 2020 at 07:35)</a>:</h4>
<p>I think I fixed this over the weekend, so fixed in the next release</p>



<a name="203782905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20by%20datatype%20profile%20checking/near/203782905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20by.20datatype.20profile.20checking.html#203782905">(Jul 13 2020 at 23:16)</a>:</h4>
<p>Thanks will try with next version</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
