---
layout: page
title: "FHIR Chat  · Narrow Quantity to Duration and Age · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html">Narrow Quantity to Duration and Age</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="197991933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/197991933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#197991933">(May 18 2020 at 20:33)</a>:</h4>
<p>If I want to say that <code>Observation.value[x]</code> can only be a <code>Duration</code> or an <code>Age</code>, how do I do that?  The <code>value[x]</code> choice does not contain <code>Duration</code> or <code>Age</code> specifically, but it does contain <code>Quantity</code> -- and <code>Duration</code>/<code>Age</code> are specializations of <code>Quantity</code>.</p>
<p>In the past, I thought that this worked:</p>
<div class="codehilite"><pre><span></span><code>      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Observation.value[x]&quot;</span><span class="p">,</span>
        <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Observation.value[x]&quot;</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Duration&quot;</span> <span class="p">},</span> <span class="p">{</span> <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Age&quot;</span> <span class="p">}</span> <span class="p">]</span>
      <span class="p">}</span>
</code></pre></div>


<p>but now the Publisher barks at that:</p>
<blockquote>
<p>illegal constrained type Duration from Quantity, CodeableConcept, string, boolean, integer, Range, Ratio, SampledData, time, dateTime, Period in <a href="http://hl7.org/fhir/StructureDefinition/Observation">http://hl7.org/fhir/StructureDefinition/Observation</a></p>
</blockquote>
<p>Is what I've done above legal or is this something you need to drop into FHIRPath to express?</p>



<a name="198006440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198006440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198006440">(May 18 2020 at 23:08)</a>:</h4>
<p>it's not legal. Choice types are final, in effect; you'll have to use FHIRPath</p>



<a name="198014351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198014351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198014351">(May 19 2020 at 01:29)</a>:</h4>
<p>You should be able to specify a targetProfile for the type</p>



<a name="198023399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198023399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198023399">(May 19 2020 at 05:26)</a>:</h4>
<p>You mean profile not targetProfile but Age and Duration are not profiles</p>



<a name="198060481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198060481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198060481">(May 19 2020 at 12:53)</a>:</h4>
<p>Right.  At first I thought profile too, but they are <em>specializations</em>, not <em>constraints</em>, so we can't use profile.  So... FHIRPath it is.</p>



<a name="198081969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198081969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198081969">(May 19 2020 at 15:19)</a>:</h4>
<p>Why are they specializations - they don't add any new elements...</p>



<a name="198082012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198082012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198082012">(May 19 2020 at 15:19)</a>:</h4>
<p>I'm pretty sure I've referenced them with profile and it's worked...</p>



<a name="198083880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198083880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198083880">(May 19 2020 at 15:33)</a>:</h4>
<blockquote>
<p>Why are they specializations</p>
</blockquote>
<p>We just had this same exact question/conversation during our team meeting.  We couldn't figure out why they are <em>specializations</em> either.  Best we could come up w/ is that in cases where they are used as choices in core spec, it allows <code>valueAge</code> and <code>valueDuration</code> to be used instead of <code>valueQuantity</code> -- which is probably a bit more explicit from a user perspective.  But still... I'd be interested to hear the story behind it.  It looks like they were <em>constraint</em>s in DSTU2.</p>



<a name="198084398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198084398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198084398">(May 19 2020 at 15:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="198112883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198112883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198112883">(May 19 2020 at 19:10)</a>:</h4>
<p>they were constraints, but that meant that when you used them, you didn't really use them. People got confused by this - for instance, a value that was a choice of Age and Duration was actually a choice of Quantity. So we changed them to specializations instead of constraints. We discussed that this meant that you couldn't do what Chris wants to do, but we felt that it wouldn't happen very often (and we were right - it was such a long time till someone tried to do it that Lloyd didn't remember the discussion)</p>



<a name="198118021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/198118021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#198118021">(May 19 2020 at 19:54)</a>:</h4>
<p>And I'll admit that this didn't come up in a real world use case for us either.  It came up in a fairly contrived unit test in SUSHI.</p>



<a name="199657666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199657666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199657666">(Jun 03 2020 at 18:27)</a>:</h4>
<p>Followup question.  We've established that the following is an illegal constraint because <code>Duration</code> and <code>Age</code> are not in the original type list (even though their parent, <code>Quantity</code>, is in the type list):</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Observation.value[x]&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Observation.value[x]&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Duration&quot;</span> <span class="p">},</span> <span class="p">{</span> <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Age&quot;</span> <span class="p">}</span> <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>


<p>It appears that if I try to do a similar thing, but with <code>Bundle.entry.resource</code> instead, the IG Publisher is happy with it.  For example, even though <code>Bundle.entry.resource</code> only has <code>Resource</code> in its type list, I can apparently constrain it to sub-types like this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle.entry.resource&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle.entry.resource&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Patient&quot;</span> <span class="p">},</span> <span class="p">{</span> <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Condition&quot;</span> <span class="p">}]</span>
<span class="p">}</span>
</code></pre></div>



<a name="199657909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199657909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199657909">(Jun 03 2020 at 18:29)</a>:</h4>
<ol>
<li>Is that second example (w/ Bundle.entry.resource) indeed valid?</li>
<li>If so, what makes the first invalid? Is it because it is a choice (e.g., the <code>[x]</code> makes the type list final)?  I think this is what Graham implied, but I want to confirm before I code up SUSHI this way.</li>
</ol>



<a name="199659605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199659605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199659605">(Jun 03 2020 at 18:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="199661056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199661056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199661056">(Jun 03 2020 at 18:55)</a>:</h4>
<p>Upon further investigation, the following ALSO does not work:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;DeviceDefinition.quantity&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;DeviceDefinition.quantity&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Duration&quot;</span> <span class="p">},</span> <span class="p">{</span> <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Age&quot;</span> <span class="p">}</span> <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>



<a name="199661242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199661242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199661242">(Jun 03 2020 at 18:57)</a>:</h4>
<p>because Observation.value has a set of concrete types, but Bundle.entry.resource has a single abstract type</p>



<a name="199661543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199661543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199661543">(Jun 03 2020 at 19:00)</a>:</h4>
<p>Ooooohhh... is that the key?  We can do it on something that is type <code>Resource</code> because <code>Resource</code> is abstract, but we can't do it on something like <code>Quantity</code> because it is concrete?  Because it can't just be due to the choice since <code>DeviceDefinition.quantity</code> also does not work.</p>



<a name="199661705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199661705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199661705">(Jun 03 2020 at 19:01)</a>:</h4>
<p>Unless the type is abstract, the type is <code>final</code></p>



<a name="199661848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199661848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199661848">(Jun 03 2020 at 19:02)</a>:</h4>
<p>And by <code>final</code>, you mean it cannot be replaced by specializations in the type list.  If you want to constrain it to a specialization you have to fall back to FHIRPath invariants.</p>



<a name="199661921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/199661921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#199661921">(Jun 03 2020 at 19:03)</a>:</h4>
<p>I think I understand now.  Thank you, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>!</p>



<a name="200689318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/200689318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#200689318">(Jun 12 2020 at 16:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , we were under the impression that if we wanted to use FHIRPath to express on a profile that a Quantity element should be a Duration, we would place the following in the <code>constraint</code> array on the Quantity type element in question:</p>
<div class="codehilite"><pre><span></span><code> {
            &quot;key&quot;: &quot;dur-1&quot;,
            &quot;severity&quot;: &quot;error&quot;,
            &quot;human&quot;: &quot;Type is a duration&quot;,
            &quot;expression&quot;: &quot;is(FHIR.Duration)&quot;,
}
</code></pre></div>


<p>However, this leads to an error in validation of any instance of that profile, and the error seems to be caused by the fact that the element is of type Quantity, but the FHIRPath constraint indicates it should be of type Duration. We thought this would be allowed since Duration is a child type of Quantity. We have also tried using the <code>conformsTo</code> operator instead of <code>is</code>, and that also leads to validation errors. Was the above not what you meant when you said we would have to use FHIRPath to constrain a Quantity to a Duration?</p>



<a name="200715091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/200715091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#200715091">(Jun 12 2020 at 19:35)</a>:</h4>
<p>it wasn't what I meant. </p>
<blockquote>
<p>"expression": "is(FHIR.Duration)"</p>
</blockquote>
<p>No, because that's just saying again that the type is a Duration, but it can't be since the binding is final.</p>



<a name="200715155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/200715155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#200715155">(Jun 12 2020 at 19:35)</a>:</h4>
<p>conformsTo - maybe that should work if you provide a canonical URL? but that would really be a bug on my part since it can't conform to the definition, since the definition says it's a type</p>



<a name="200715450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/200715450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#200715450">(Jun 12 2020 at 19:38)</a>:</h4>
<div class="codehilite"><pre><span></span><code> {
            &quot;key&quot;: &quot;dur-1&quot;,
            &quot;severity&quot;: &quot;error&quot;,
            &quot;human&quot;: &quot;Type is a duration&quot;,
            &quot;expression&quot;: &quot;$this.memberOf(&#39;http://hl7.org/fhir/ValueSet/all-time-units)&quot;,
}
</code></pre></div>



<a name="200727989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/200727989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#200727989">(Jun 12 2020 at 21:45)</a>:</h4>
<p>So are you saying there is no uniform way for a profile author to succinctly say that an element of TypeA should be a specific <em>specialization</em> of that type?  Is that intentional because a specialization can introduce new elements -- and it's really only rather unfortunate here because these specific specializations (Duration and Age) <em>don't</em> introduce new units (e.g., they act much more like constraints)?</p>



<a name="200728258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/200728258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#200728258">(Jun 12 2020 at 21:49)</a>:</h4>
<p>if a specialization is allowed then you can say that it must be done - exactly how you did it. But since it's not allowed, you can't satisfy that constraint</p>



<a name="200728679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/200728679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#200728679">(Jun 12 2020 at 21:54)</a>:</h4>
<p>OK.  I think we just got confused because Duration and Age act more like constraints, so it <em>feels</em> like they should be allowed, even if they're not.  We'll update SUSHI to yell when an author tries to constrain a type to a specialization (if that specialization hasn't already been explicitly allowed via a choice).</p>



<a name="200728868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Narrow%20Quantity%20to%20Duration%20and%20Age/near/200728868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age.html#200728868">(Jun 12 2020 at 21:56)</a>:</h4>
<p>it's unfortunate, I agree, because they do feel a lot like constraints. they used to be. But people were confused by that since they couldn't listed as types in resource definitions/profiles, and didn't appear in choices.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
