---
layout: page
title: "FHIR Chat  · StructureDefinition.context · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html">StructureDefinition.context</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153911200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911200">(Sep 28 2017 at 11:22)</a>:</h4>
<p>Michel pointed out to me that Lloyd assumed StructureDefinition.context can be any kind of text. Indeed, this element is a <code>string</code>- but I doubt very much tools would expect prose here. The intention - as far as I know - is for this element to contain a path (at least when the context type is Resource or Datatype).  When would narrative be acceptable (if at all)?</p>



<a name="153911201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911201">(Sep 28 2017 at 11:37)</a>:</h4>
<p>Sorry for the confusion, here's Lloyd's earlier comments on extension context:</p>
<p><a href="https://chat.fhir.org/#narrow/stream/implementers/subject/extensions" target="_blank" title="https://chat.fhir.org/#narrow/stream/implementers/subject/extensions">https://chat.fhir.org/#narrow/stream/implementers/subject/extensions</a></p>
<p>Lloyd McKenzie 04:35   <br>
"...If contextType is "resource", then the context must be a resource name or path. If contextType is "datatype" then the context must be a data type name or path. If contextType is extension, then the context must be the extension URL. I'm actually not sure how to refer to a sub-element within a complex extension..."</p>
<p><a href="https://chat.fhir.org/#narrow/stream/implementers/subject/extensions.20Patient.20Name.20Parts" target="_blank" title="https://chat.fhir.org/#narrow/stream/implementers/subject/extensions.20Patient.20Name.20Parts">https://chat.fhir.org/#narrow/stream/implementers/subject/extensions.20Patient.20Name.20Parts</a></p>
<p>"2. Context must be a specific Resource path. It's computable."</p>
<p>So the exception is when contextType equals extension, then the context property apparently should specify a canonical url instead of an element path.</p>



<a name="153911202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911202">(Sep 28 2017 at 11:40)</a>:</h4>
<p>Ok, so I agree on all that ;-)   Maybe it wasn't Lloyd who thought it could by any text, then?</p>



<a name="153911203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911203">(Sep 28 2017 at 11:42)</a>:</h4>
<p>Found it, turns out the comment wasn't by Lloyd:</p>
<p>"Grahame Grieve 01:32   <br>
the conext can be any meaningful string, where meaning is specified by the contextType"</p>



<a name="153911204"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911204" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911204">(Sep 28 2017 at 11:44)</a>:</h4>
<p>Funny, those 01:32 timestamps.  Makes ik look like "The Gospel according to...."</p>



<a name="153911205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911205">(Sep 28 2017 at 11:45)</a>:</h4>
<p>That's ok, as long as "meaningful" here means "a FhirPath(?) path" for type={resource,datatype}, "uri" for type={extension} etc....</p>



<a name="153911220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911220">(Sep 28 2017 at 12:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> does FHIRPath have any kind of hi/low complexity categories? As in, a context must be a <em>simple</em> FHIRPath expression? Or is the whole syntax always available?</p>



<a name="153911221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911221">(Sep 28 2017 at 12:54)</a>:</h4>
<p>Also, note that URIs may include locators:</p>
<p><code>http://example.com/StructureDefinition/my-extension#Extension.extension:firstPart.valueString</code></p>
<p>Is this legal for context on extensions?</p>



<a name="153911223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911223">(Sep 28 2017 at 12:55)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> does FHIRPath have any kind of hi/low complexity categories? As in, a context must be a <em>simple</em> FHIRPath expression? Or is the whole syntax always available?</p>
</blockquote>
<p>The notion of "flavors" of FHIRPath has been popping up a few times....e.g. in <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13711" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13711">GF#13711</a>...</p>



<a name="153911224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911224">(Sep 28 2017 at 12:56)</a>:</h4>
<p>SearchParameters, discriminator paths, extension context....</p>



<a name="153911226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911226">(Sep 28 2017 at 12:56)</a>:</h4>
<p><img alt=":+1:" class="emoji" src="/static/generated/emoji/images/emoji/unicode/1f44d.png" title=":+1:"></p>



<a name="153911228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911228">(Sep 28 2017 at 12:57)</a>:</h4>
<p>Thinking about writing a native node.js snapshot generator/validator and FHIRPath makes my life very difficult</p>



<a name="153911230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911230">(Sep 28 2017 at 12:59)</a>:</h4>
<p>Just a snapshot-&gt;FHIRPath translator and then an efficient FHIRPath engine would do ;-)   I had some philosophical discussions with Bryn about additions to FHIRPath to make the structural constraints in an SD translateable to FHIRPath.  But your error reporting to the user would probably be absymal.  Anyway, don't want to punish your brains any more than necessary ;-)</p>



<a name="153911231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911231">(Sep 28 2017 at 13:01)</a>:</h4>
<blockquote>
<p>Also, note that URIs may include locators:</p>
<p><code>http://example.com/StructureDefinition/my-extension#Extension.extension:firstPart.valueString</code></p>
<p>Is this legal for context on extensions?</p>
</blockquote>
<p>Have not given that a thought yet....but in the links Michel included above, I see Lloyd wonder about how to specify a context within an extension. This might be it..</p>



<a name="153911233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911233">(Sep 28 2017 at 13:06)</a>:</h4>
<p>There are tiers of functionality (I think) in what profiles do and how they can be applied.  Things like:<br>
- Converting a profile into search criteria to apply the profile to the whole server<br>
- Using profiles (with slices) to create a better specified schema (Patient with an "officialName" element)<br>
- Stream parsing of resources to avoid having to keep large resources in-memory<br>
Because there aren't (yet) public examples of any of these kinds of things, it's tempting to make really complex FHIRPath constraints, and those will keep these profiles from being used in highly optimizing parsers</p>



<a name="153911250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911250">(Sep 28 2017 at 14:50)</a>:</h4>
<p>We should certainly document how to point to sub-elements within an extension.  Chris, do you want to submit a tracker on that?</p>



<a name="153911251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911251">(Sep 28 2017 at 14:54)</a>:</h4>
<p>I seem to remember that I wrote some logic in Forge or .NET API before concerning url's that walk into a complex extension using anchor notation. I think this aligns with the example above, but I'll check.</p>



<a name="153911968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911968">(Oct 03 2017 at 03:04)</a>:</h4>
<p>I certainly intended for the context string to reference an element but it's id not by it's path - e.g. not FHIRPath. Not here.</p>



<a name="153911969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911969">(Oct 03 2017 at 03:06)</a>:</h4>
<p>context is either an element but it's id, or it's canonical url.</p>



<a name="153911970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153911970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153911970">(Oct 03 2017 at 03:06)</a>:</h4>
<p>it could be cleaner to make it always a full URL that identifies an element authoritatively.</p>



<a name="153912035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153912035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153912035">(Oct 03 2017 at 10:38)</a>:</h4>
<p>So if I understand correctly, it is valid for the context property to specify an element id, e.g. "Patient.identifier:ssn"?</p>



<a name="153912043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153912043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153912043">(Oct 03 2017 at 11:44)</a>:</h4>
<p>that would be problematic - which :ssn? that's why I was thinking about making it a full url</p>



<a name="153912053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153912053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153912053">(Oct 03 2017 at 12:03)</a>:</h4>
<p>So if I understand correctly, this would allow an extension definition to state: I am designed to be used in profiles derived from a specific base profile and on a specific slice? Advanced, but I see how this might be useful.</p>



<a name="153912054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153912054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153912054">(Oct 03 2017 at 12:08)</a>:</h4>
<p>yes could do that. I would encourage to be a little more general, but people do want to be extremely specific</p>



<a name="153912055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153912055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153912055">(Oct 03 2017 at 12:10)</a>:</h4>
<p>Agreed. So maybe we should not proactively change this until there is sufficient demand from the community?</p>



<a name="153912056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153912056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153912056">(Oct 03 2017 at 12:11)</a>:</h4>
<p>going normative in R4.</p>



<a name="153912058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153912058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153912058">(Oct 03 2017 at 12:15)</a>:</h4>
<p>I see, then I guess we have to define the proper format now.</p>



<a name="153912111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/StructureDefinition.context/near/153912111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/StructureDefinition.2Econtext.html#153912111">(Oct 03 2017 at 19:44)</a>:</h4>
<p>Format is set when we locked the format of <a href="http://elementdefinition.id" target="_blank" title="http://elementdefinition.id">elementdefinition.id</a>.</p>
<p><code>http://example.com/my-us-patient#Patient.identifier:ssn</code></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
