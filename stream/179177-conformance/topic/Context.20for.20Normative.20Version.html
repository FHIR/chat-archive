---
layout: page
title: "FHIR Chat  · Context for Normative Version · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html">Context for Normative Version</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191752020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/191752020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#191752020">(Mar 25 2020 at 14:23)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, </p>
<p>The normative-version extension has context 'element: StructureDefinition': <a href="https://www.hl7.org/fhir/extension-structuredefinition-normative-version.html" title="https://www.hl7.org/fhir/extension-structuredefinition-normative-version.html">https://www.hl7.org/fhir/extension-structuredefinition-normative-version.html</a><br>
However, it seems to also be used in non-StructureDefinitions, like this OperationDefinition: <a href="https://www.hl7.org/fhir/operation-codesystem-lookup.xml.html#DomainResource.text.div-end" title="https://www.hl7.org/fhir/operation-codesystem-lookup.xml.html#DomainResource.text.div-end">https://www.hl7.org/fhir/operation-codesystem-lookup.xml.html#DomainResource.text.div-end</a><br>
Also on, for example, the profile for the data type Identifier the extensions are both used on the StructureDefinition level (good), but also on deeper Element levels (bad): <a href="https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/82704/~xml" title="https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/82704/~xml">https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/82704/~xml</a></p>
<p>Since last release Forge copies the extensions on these elements to derived profiles. When validating these with the Java validator the error is thrown:<br>
<code>error: The extension http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version is not allowed to be used at this point (allowed = e:StructureDefinition; this element is [[StructureDefinition.differential.element, BackboneElement.element, ElementDefinition])</code></p>
<p>cc <span class="user-mention" data-user-id="221719">@Abel Enthoven</span> <span class="user-mention" data-user-id="259036">@Matthijs van der Wielen</span></p>



<a name="191775673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/191775673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#191775673">(Mar 25 2020 at 16:40)</a>:</h4>
<p>Not sure why <a href="http://hl7.org/fhir/OperationDefinition/CodeSystem-lookup" title="http://hl7.org/fhir/OperationDefinition/CodeSystem-lookup">http://hl7.org/fhir/OperationDefinition/CodeSystem-lookup</a> has these claims at all:</p>
<div class="codehilite"><pre><span></span>  <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;valueInteger</span> <span class="na">value=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/extension&gt;</span>
  <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;normative&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/extension&gt;</span>
  <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;4.0.1&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/extension&gt;</span>
</pre></div>


<p>since <a href="http://hl7.org/fhir/operation-codesystem-lookup.html" title="http://hl7.org/fhir/operation-codesystem-lookup.html">http://hl7.org/fhir/operation-codesystem-lookup.html</a> lists it as Maturity Level: N/A and Standards Status: Informative</p>



<a name="192189966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/192189966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#192189966">(Mar 29 2020 at 19:27)</a>:</h4>
<p>it should not have those claims. And the context of use for the structure definition is too narrow; we use it in more places than that</p>



<a name="192190007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/192190007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#192190007">(Mar 29 2020 at 19:28)</a>:</h4>
<p>both issues added to my list of future technical corrections</p>



<a name="192359214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/192359214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#192359214">(Mar 31 2020 at 08:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Should I create a Jira issue and/or add it to <a href="https://confluence.hl7.org/display/FHIR/Known+Issues+with+the+published+FHIR+Specifications" title="https://confluence.hl7.org/display/FHIR/Known+Issues+with+the+published+FHIR+Specifications">https://confluence.hl7.org/display/FHIR/Known+Issues+with+the+published+FHIR+Specifications</a> ?</p>



<a name="192361394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/192361394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#192361394">(Mar 31 2020 at 08:59)</a>:</h4>
<p>both, I think</p>



<a name="192401207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/192401207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#192401207">(Mar 31 2020 at 15:01)</a>:</h4>
<p>Created <a href="http://jira.hl7.org/browse/FHIR-26671" title="http://jira.hl7.org/browse/FHIR-26671">FHIR#26671</a> and <a href="http://jira.hl7.org/browse/FHIR-26672" title="http://jira.hl7.org/browse/FHIR-26672">FHIR#26672</a> for this.</p>



<a name="193452638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/193452638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#193452638">(Apr 09 2020 at 13:51)</a>:</h4>
<p>Could this issue be resolved short term? Not copying the extension in Forge <span class="user-mention" data-user-id="203235">@Ward Weistra</span> ? This bugs currently breaks all my CI pipelines (if i don't remove the element in a filter step, which i dislike)</p>



<a name="193453324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/193453324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#193453324">(Apr 09 2020 at 13:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> I understand this is causing pain. Though, since Forge seems to align with the desired result, isn't it better to suppress this warning in the validator instead?</p>



<a name="193453548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/193453548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#193453548">(Apr 09 2020 at 13:58)</a>:</h4>
<p>Hmm yes you are right. Ideally should be fixed in the package, but this would need another TC. So filtering the error in the Java Validator would be the fastest way i guess.</p>



<a name="193453557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/193453557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#193453557">(Apr 09 2020 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="194025239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194025239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194025239">(Apr 15 2020 at 12:59)</a>:</h4>
<p>Ok i experimented more with the roundtrip: IG creator -&gt; Forge -&gt; FHIR Validator:</p>
<ul>
<li>if i open: <a href="http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html" title="http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html">http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html</a> in Forge, rename the profile and save it again without any further changes i get these errors in the java validator: <code>Error @ StructureDefinition.text.div (line 6, col4) : The URL {{[id]}}-definitions.html#Observation is not valid</code></li>
</ul>



<a name="194025406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194025406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194025406">(Apr 15 2020 at 13:00)</a>:</h4>
<p>Forge seems to replace this: <code>&lt;a href=\"haplotype-definitions.html#Observation</code> the original link in the div</p>



<a name="194025464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194025464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194025464">(Apr 15 2020 at 13:01)</a>:</h4>
<p>so "haplotype" ist replaced with: "{{[id]}}"</p>



<a name="194025476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194025476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194025476">(Apr 15 2020 at 13:01)</a>:</h4>
<ul>
<li>if i then switch on snapshot creation in Forge i end up with: <em>FAILURE</em> validating Haplotype-copy.StructureDefinition.json:  error:206 warn:6 info:0</li>
</ul>



<a name="194026105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194026105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194026105">(Apr 15 2020 at 13:05)</a>:</h4>
<p>Many of these: <code> Error @ StructureDefinition.snapshot.element[0].constraint[0].source (line 88, col12) : Canonical URLs must be absolute URLs if they are not fragment references (DomainResource)</code></p>



<a name="194026238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194026238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194026238">(Apr 15 2020 at 13:06)</a>:</h4>
<p>also the known one mentioned above: <code>http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version</code></p>



<a name="194026400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194026400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194026400">(Apr 15 2020 at 13:07)</a>:</h4>
<p>The warnings are all: <code>Warning @ StructureDefinition.snapshot.element[35].type[0].code (line 2795, col12) : The value provided ("http://hl7.org/fhirpath/System.String") is not in the value set http://hl7.org/fhir/ValueSet/defined-types (http://hl7.org/fhir/ValueSet/defined-types), and a code should come from this value set unless it has no suitable code) (error message = The code system "" is not known (encountered paired with code = "http://hl7.org/fhirpath/System.String"); The code provided (#http://hl7.org/fhirpath/System.String) is not  valid in the value set FHIRDefinedType)</code></p>



<a name="194026453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194026453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194026453">(Apr 15 2020 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="194026582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194026582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194026582">(Apr 15 2020 at 13:08)</a>:</h4>
<p>To reproduce: d/l <a href="http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html" title="http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html">http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html</a>, open it in Forge, save it with snapshot. Validate it with the java validator</p>



<a name="194026695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194026695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194026695">(Apr 15 2020 at 13:09)</a>:</h4>
<p>after the roundtrip: <a href="https://gist.github.com/patrick-werner/caccff7cf45f4772bb12967e59032b72" title="https://gist.github.com/patrick-werner/caccff7cf45f4772bb12967e59032b72">https://gist.github.com/patrick-werner/caccff7cf45f4772bb12967e59032b72</a></p>



<a name="194027934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194027934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194027934">(Apr 15 2020 at 13:17)</a>:</h4>
<p>I'm not clear what you think the actual problem is here</p>



<a name="194029389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194029389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194029389">(Apr 15 2020 at 13:26)</a>:</h4>
<p>Problems:</p>
<ul>
<li>(Java Validator) throws the <a href="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version" title="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version</a> errors (could be filtered until the context is fixed in R4.0.2?)</li>
</ul>



<a name="194029548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194029548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194029548">(Apr 15 2020 at 13:27)</a>:</h4>
<ul>
<li>Forge replaces strings in <code>StructureDefinition.text.div</code>causing the java validator to throw errors (forge problem)</li>
</ul>



<a name="194029793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194029793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194029793">(Apr 15 2020 at 13:29)</a>:</h4>
<ul>
<li>Forge snapshot expansion leads to <code>Warning @ StructureDefinition.snapshot.element[35].type[0].code (line 2795, col12) : The value provided ("http://hl7.org/fhirpath/System.String") is not in the value set http://hl7.org/fhir/ValueSet/defined-types (http://hl7.org/fhir/ValueSet/defined-types), and a code should come from this value set unless it has no suitable code) (error message = The code system "" is not known (encountered paired with code = "http://hl7.org/fhirpath/System.String"); The code provided (#http://hl7.org/fhirpath/System.String) is not  valid in the value set FHIRDefinedType)</code> Warnings</li>
</ul>



<a name="194029897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194029897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194029897">(Apr 15 2020 at 13:30)</a>:</h4>
<p>Is this caused because String is not written in lowercase? (forge problem)</p>



<a name="194030126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194030126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194030126">(Apr 15 2020 at 13:31)</a>:</h4>
<ul>
<li>the validator returns: <code>(error message = The code system "" is not known</code> why is the code system = "" ? (Validator / TX Server Problem)</li>
</ul>



<a name="194034086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194034086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194034086">(Apr 15 2020 at 13:57)</a>:</h4>
<p>Thanks for the reports <span class="user-mention" data-user-id="191451">@Patrick Werner</span>, we'll look into the two Forge issues! <img alt=":forge:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/10155/emoji/images/11736.png" title="forge"></p>



<a name="194034116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194034116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194034116">(Apr 15 2020 at 13:57)</a>:</h4>
<p>Thanks!</p>



<a name="194036057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194036057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194036057">(Apr 15 2020 at 14:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> we have trouble recreating the second issue. What were the steps:</p>
<ul>
<li>Open <a href="http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html" title="http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html">http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html</a> in Forge</li>
<li>Switch on Options &gt; Persistence Options &gt; Save Snapshot component?</li>
</ul>
<p>That doesn't give us the errors yet.</p>



<a name="194044145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194044145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194044145">(Apr 15 2020 at 15:02)</a>:</h4>
<p>then you have to validate it: <code>java -jar org.hl7.fhir.validator.jar Haplotype.StructureDefinition.json -ig hl7.fhir.uv.genomics-reporting -version 4.0</code></p>



<a name="194050888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194050888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194050888">(Apr 15 2020 at 15:46)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span></p>



<a name="194289534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194289534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194289534">(Apr 16 2020 at 11:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> The .json at <a href="http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html" title="http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html">http://build.fhir.org/ig/HL7/genomics-reporting/haplotype.profile.json.html</a> already contains a snapshot. Am I correct to assume that this snapshot is created by Forge as well?</p>



<a name="194289853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194289853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194289853">(Apr 16 2020 at 11:34)</a>:</h4>
<p><span class="user-mention" data-user-id="259036">@Matthijs van der Wielen</span>  nope. This Snapshot is created by the IG Tooling (Spreadsheets).</p>



<a name="194290826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194290826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194290826">(Apr 16 2020 at 11:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> Strange, when I download your entire IG and directly validate StructureDefinition-haplotype.json from the IG, I get </p>
<p>A few errors:   Error @ StructureDefinition.text.div (line 7, col4) : The URL {{[id]}}-definitions.html#Observation is not valid<br>
Same as you mentioned.</p>
<p>And a couple of these warnings:  Warning @ StructureDefinition.snapshot.element[1].type[0].code (line 197, col12) : The value provided ("<a href="http://hl7.org/fhirpath/System.String" title="http://hl7.org/fhirpath/System.String">http://hl7.org/fhirpath/System.String</a>") is not in the value set <a href="http://hl7.org/fhir/ValueSet/defined-types" title="http://hl7.org/fhir/ValueSet/defined-types">http://hl7.org/fhir/ValueSet/defined-types</a> (<a href="http://hl7.org/fhir/ValueSet/defined-types" title="http://hl7.org/fhir/ValueSet/defined-types">http://hl7.org/fhir/ValueSet/defined-types</a>), and a code should come from this value set unless it has no suitable code) (error message = The code system "" is not known (encountered paired with code = "<a href="http://hl7.org/fhirpath/System.String" title="http://hl7.org/fhirpath/System.String">http://hl7.org/fhirpath/System.String</a>"); The code provided (#http://hl7.org/fhirpath/System.String) is not  valid in the value set FHIRDefinedType)</p>
<p>So, to me, it seems that these aren't caused by Forge. Or am I missing something?</p>



<a name="194290864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194290864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194290864">(Apr 16 2020 at 11:45)</a>:</h4>
<p>ohhhhh! let me double check.</p>



<a name="194291426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194291426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194291426">(Apr 16 2020 at 11:51)</a>:</h4>
<p><span class="user-mention" data-user-id="259036">@Matthijs van der Wielen</span> <br>
Sorry for reporting this. You are absolutely right. This is already contained in our IG. Didn't see this as the {{[id]}}- definitions are not shown if you look and c&amp;p the resource from the IG pages.</p>



<a name="194291459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194291459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194291459">(Apr 16 2020 at 11:51)</a>:</h4>
<p>This is clearly an IG publisher issue. Sorry again.</p>



<a name="194291785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/194291785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#194291785">(Apr 16 2020 at 11:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> No problem!</p>



<a name="196794346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196794346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196794346">(May 07 2020 at 16:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> For resources that rightfully have the <code>http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status</code> and <code>http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version</code> extension, should they both be at the StructureDefinition level and on the root element level? (besides normative-version currently only being allowed on SDs; <a href="http://jira.hl7.org/browse/FHIR-26671" title="http://jira.hl7.org/browse/FHIR-26671">FHIR#26671</a>)<br>
<a href="/user_uploads/10155/Ci214Lf604sOTPs7Q4CzVXfU/2020-05-07-18_04_26-Element.profile.json-FHIR-v4.0.1.png" title="2020-05-07-18_04_26-Element.profile.json-FHIR-v4.0.1.png">2020-05-07-18_04_26-Element.profile.json-FHIR-v4.0.1.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/Ci214Lf604sOTPs7Q4CzVXfU/2020-05-07-18_04_26-Element.profile.json-FHIR-v4.0.1.png" title="2020-05-07-18_04_26-Element.profile.json-FHIR-v4.0.1.png"><img src="/user_uploads/10155/Ci214Lf604sOTPs7Q4CzVXfU/2020-05-07-18_04_26-Element.profile.json-FHIR-v4.0.1.png"></a></div>



<a name="196807316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196807316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196807316">(May 07 2020 at 17:54)</a>:</h4>
<p>Both levels - some elements can be STU within a normative resource</p>



<a name="196825100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196825100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196825100">(May 07 2020 at 20:18)</a>:</h4>
<p>there's a task to fix the definition of that extension since it's used in lots of places, not just StructureDefinition</p>



<a name="196834324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196834324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196834324">(May 07 2020 at 21:45)</a>:</h4>
<p>Can we fix the value as well so it inheriting isn't going to cause a problem?</p>



<a name="196851620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196851620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196851620">(May 08 2020 at 02:08)</a>:</h4>
<p>sounds difficult to me but all the options aren't great</p>



<a name="196856776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196856776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196856776">(May 08 2020 at 04:25)</a>:</h4>
<p>If we made the extension complex, we could do this:<br>
<code>    &lt;extension url="http://hl7.org/fhir/StructureDefinition/metadata-standards-status"&gt;
      &lt;extension url="model"&gt;
        &lt;valueCanonical value="http://hl7.org/fhir/Patient|4.0.0"/&gt;
      &lt;/extension&gt;
      &lt;extension url="status"&gt;
        &lt;valueCode value="Normative"/&gt;
      &lt;/extension&gt;
    &lt;/extension&gt;</code></p>



<a name="196856801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196856801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196856801">(May 08 2020 at 04:25)</a>:</h4>
<p>If we preferred to split the model and the version into separate components, we could do that too</p>



<a name="196856870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196856870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196856870">(May 08 2020 at 04:26)</a>:</h4>
<p>Each layer in the profile hierarchy could then add its own declaration of status - and the artifact and version in which that status took effect.</p>



<a name="196856876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/196856876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#196856876">(May 08 2020 at 04:26)</a>:</h4>
<p>Not super-pretty, but not horrid...</p>



<a name="197561994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/197561994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#197561994">(May 14 2020 at 14:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> This week's Forge release will no longer copy the <code>structuredefinition-standards-status</code> and <code>structuredefinition-normative-version</code> extensions everywhere and will remove them from opened profiles: <a href="https://simplifier.net/organization/firely/news/87">https://simplifier.net/organization/firely/news/87</a></p>



<a name="197563269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/197563269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#197563269">(May 14 2020 at 14:31)</a>:</h4>
<p>already saw that, and was very happy about it <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="197563289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/197563289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#197563289">(May 14 2020 at 14:31)</a>:</h4>
<p><img alt=":forge:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/10155/emoji/images/11736.png" title="forge"></p>



<a name="198209329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Context%20for%20Normative%20Version/near/198209329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Context.20for.20Normative.20Version.html#198209329">(May 20 2020 at 14:49)</a>:</h4>
<p>Created <a href="http://jira.hl7.org/browse/FHIR-27535">FHIR#27535</a> for the extension inheritance issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
