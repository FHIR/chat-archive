---
layout: page
title: "FHIR Chat  · Invalid Consent StructureDefinition Identifier Example · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html">Invalid Consent StructureDefinition Identifier Example</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208899005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208899005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208899005">(Sep 02 2020 at 22:57)</a>:</h4>
<p>I have a profile on Consent in my IG, and now I always get this error message that I can't suppress, and I can't work out how to make it go away, as the snapshot generation always puts it back in, even though I've profiled the element out...</p>
<div class="codehilite"><pre><span></span><code>&lt;element id=&quot;Consent.identifier&quot;&gt;
      &lt;path value=&quot;Consent.identifier&quot;/&gt;
     ...
      &lt;min value=&quot;0&quot;/&gt;
      &lt;max value=&quot;0&quot;/&gt;
     ...
      &lt;example&gt;     (not in my differential, it just has max=0)
        &lt;label value=&quot;General&quot;/&gt;
        &lt;valueIdentifier&gt;
          &lt;system value=&quot;urn:ietf:rfc:3986&quot;/&gt;
          &lt;value value=&quot;Local eCMS identifier&quot;/&gt;
        &lt;/valueIdentifier&gt;
      &lt;/example&gt;
</code></pre></div>


<p>The IG Publisher generates this error message:</p>
<div class="codehilite"><pre><span></span><code>StructureDefinition.snapshot.element[9].example[0].value.ofType(Identifier)
error
if identifier.system is &#39;&#39;urn:ietf:rfc:3986&#39;&#39;, then the identifier.value must be a full URI (e.g. start with a scheme)
</code></pre></div>


<p>Anyway around this, or I have to live with the error :(</p>



<a name="208899361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208899361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208899361">(Sep 02 2020 at 23:01)</a>:</h4>
<p>Can see the above example is being snapshot re-generated from here:<br>
<a href="http://hl7.org/fhir/R4/consent.profile.xml.html">http://hl7.org/fhir/R4/consent.profile.xml.html</a><br>
A suggestion for the snapshot generator is to exclude the example if the element is profiled out (would fix my case, but doesn't fix the general issue of a dud base definition)<br>
(and if I was to suppress other things in the snapshot when max=0, I'd consider mapping and invariants too)</p>



<a name="208900802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208900802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208900802">(Sep 02 2020 at 23:17)</a>:</h4>
<p>So the issue is that the base spec is broken?  Should at minimum submit a technical correction to get it fixed</p>



<a name="208902143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208902143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208902143">(Sep 02 2020 at 23:33)</a>:</h4>
<p>Yes, yes I should do that.</p>



<a name="208902660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208902660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208902660">(Sep 02 2020 at 23:39)</a>:</h4>
<p>Done: <a href="https://jira.hl7.org/browse/FHIR-28426">https://jira.hl7.org/browse/FHIR-28426</a></p>



<a name="208907324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208907324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208907324">(Sep 03 2020 at 00:39)</a>:</h4>
<p>I'm positive I've already fixed this. What version does your IG depend on?</p>



<a name="208907542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208907542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208907542">(Sep 03 2020 at 00:43)</a>:</h4>
<p>I've also raised this issue before : <a href="https://jira.hl7.org/browse/FHIR-27940">https://jira.hl7.org/browse/FHIR-27940</a>.  Created 10th July 2020. Showing at unresolved</p>



<a name="208955616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208955616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208955616">(Sep 03 2020 at 11:59)</a>:</h4>
<p>in what way is the IG publisher broken?  Because the system given is 3986, yet your value is NOT a valid URL.  Put in a URL from <a href="http://example.com">example.com</a> domain?</p>



<a name="208956565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208956565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208956565">(Sep 03 2020 at 12:08)</a>:</h4>
<p>ah, so it is in the  definition of consent? I don't see it in R5. Where did that come from?</p>



<a name="208957054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208957054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208957054">(Sep 03 2020 at 12:13)</a>:</h4>
<p>It was in R4 (and STU3) but was removed from the build.  A second bug was opened for R4 in case of a technical update</p>



<a name="208957284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208957284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208957284">(Sep 03 2020 at 12:15)</a>:</h4>
<p>the good news is that there is some work going on profiling Consent... Yeah!. Would be good to get visibility into these.</p>



<a name="208970282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208970282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208970282">(Sep 03 2020 at 13:55)</a>:</h4>
<p>so <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> and <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  -- should this result in a technical correction to previous releases? It certainly is preventing profiling of current release</p>



<a name="208972583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208972583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208972583">(Sep 03 2020 at 14:09)</a>:</h4>
<p>Yes, it should get treated as a technical correction to R4 - when/if we ever do one of those.</p>



<a name="208972959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208972959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208972959">(Sep 03 2020 at 14:12)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span> You mention a CR for R4 technical correction. what number?<br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> how do we assign that CR to the backlog for technical correction to R4?</p>



<a name="208973394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208973394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208973394">(Sep 03 2020 at 14:15)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-27940">https://jira.hl7.org/browse/FHIR-27940</a> is the CR</p>



<a name="208973623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208973623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208973623">(Sep 03 2020 at 14:16)</a>:</h4>
<p>Set the target release to R4</p>



<a name="208975200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/208975200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#208975200">(Sep 03 2020 at 14:26)</a>:</h4>
<p>Done, I'll get it voted on and approved.</p>



<a name="209057884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20Consent%20StructureDefinition%20Identifier%20Example/near/209057884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20Consent.20StructureDefinition.20Identifier.20Example.html#209057884">(Sep 04 2020 at 06:07)</a>:</h4>
<p>just a clarification: it is not preventing profiling. It does generate an error, but that will not prevent publishing</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
