---
layout: page
title: "FHIR Chat  · Invalid invariant sdf-20 in STU3 · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20invariant.20sdf-20.20in.20STU3.html">Invalid invariant sdf-20 in STU3</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="158529659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20invariant%20sdf-20%20in%20STU3/near/158529659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20invariant.20sdf-20.20in.20STU3.html#158529659">(Feb 14 2019 at 13:43)</a>:</h4>
<p>I assumed that technical correction for STU3 (3.0.1) included a fix for sdf-20, but apparently it is still broken?<br>
<a href="http://hl7.org/fhir/stu3/structuredefinition.html#invs" target="_blank" title="http://hl7.org/fhir/stu3/structuredefinition.html#invs">http://hl7.org/fhir/stu3/structuredefinition.html#invs</a><br>
expression on StructureDefinition.differential: <code>element.first().slicing.empty()</code><br>
Incorrect - FHIR allows root element to be excluded from the differential.<br>
Should be: <code>element.where(path.contains('.').not()).slicing.empty()</code><br>
Will there be another technical correction to fix this invariant?</p>



<a name="158539006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20invariant%20sdf-20%20in%20STU3/near/158539006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20invariant.20sdf-20.20in.20STU3.html#158539006">(Feb 14 2019 at 15:41)</a>:</h4>
<p>There will have to be.  We'll need another change request.</p>



<a name="158539138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20invariant%20sdf-20%20in%20STU3/near/158539138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20invariant.20sdf-20.20in.20STU3.html#158539138">(Feb 14 2019 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191334">@Marten Smits</span>  submitted ticket <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20391" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20391">GF#20391</a></p>



<a name="158539193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20invariant%20sdf-20%20in%20STU3/near/158539193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20invariant.20sdf-20.20in.20STU3.html#158539193">(Feb 14 2019 at 15:43)</a>:</h4>
<p>Yes, but that dealt with the schematron, not the expression</p>



<a name="158559246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Invalid%20invariant%20sdf-20%20in%20STU3/near/158559246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Invalid.20invariant.20sdf-20.20in.20STU3.html#158559246">(Feb 14 2019 at 19:55)</a>:</h4>
<p>I put in ticket <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20339" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20339">GF #20339</a> when the upcoming technical correction was announced. It specifically requests that the invariant be fixed, i.e. that the fix to Michel's ticket <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13768" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13768">GF #13768</a> be downported from R4 to STU3.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
