---
layout: page
title: "FHIR Chat  · expanded context on an extension · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html">expanded context on an extension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153969147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969147">(Jun 13 2018 at 20:51)</a>:</h4>
<p>When I have a new context for an existing extension, I create new extension instead of profiling the old one( we are talking IGs here) , because I don't see any benefit.  It is just as much work all around to support a new extension vs profiling an old one.   Is there an easier way?</p>



<a name="153969152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969152">(Jun 13 2018 at 20:55)</a>:</h4>
<p>If you can profile an existing extension, that's always better.  The reason is that systems are going to choose to implement specific extensions by URL.  If you profile the existing extension, any system that recognizes that URL will know what it means and be able to map it, display it, etc.  If you create your own custom extension, no one will know what it is - which sort of defeats the purpose of sharing it.  Creating a custom extension to constrain is as much a problem as creating a custom extension rather than using a core element.  If you can re-use &amp; profile, that's almost always a better path.</p>



<a name="153969191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969191">(Jun 13 2018 at 21:39)</a>:</h4>
<p>The profile gets its own url just like the new extension so I am not sure anything is gained.  What do you mean by "That URL" in  ' if you profile the existing extension, any system that recognizes that URL will know what it means and be able to map it, display it, etc.'?</p>



<a name="153969195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969195">(Jun 13 2018 at 21:48)</a>:</h4>
<p>This is an interesting question. What's  case for 'profiling an extension'? We've never really talked about this to my knowledge</p>



<a name="153969245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969245">(Jun 13 2018 at 23:09)</a>:</h4>
<p>adding context A to extension B.  I've actually never done it, but I presumed it was possible.</p>



<a name="153969256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969256">(Jun 13 2018 at 23:23)</a>:</h4>
<p>I don't think it is. It can't be added to the source of the extension?</p>



<a name="153969294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969294">(Jun 14 2018 at 00:44)</a>:</h4>
<p>The profile has a URL, but it doesn't change the fixed url.value of the original profile</p>



<a name="153969295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969295">(Jun 14 2018 at 00:44)</a>:</h4>
<p>So the profile URL is new, but the extension URL remains the same.</p>



<a name="153969297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969297">(Jun 14 2018 at 00:45)</a>:</h4>
<p>I've profiled quite a few extensions for my IGs - some HL7 defined and some defined within the IG itself where I had re-useable constraints that were different for the same base semantic.</p>



<a name="153969300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969300">(Jun 14 2018 at 00:45)</a>:</h4>
<p>It works just fine with both the validator and the publisher.</p>



<a name="153969303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969303">(Jun 14 2018 at 00:46)</a>:</h4>
<p>It just requires a bit of training for people to get used to the fact that "URL used to reference the extension in the spec is not necessarily the same as the URL of the extension".</p>



<a name="153969313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969313">(Jun 14 2018 at 00:52)</a>:</h4>
<p>I dislike this complexity</p>



<a name="153969336"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969336" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969336">(Jun 14 2018 at 01:09)</a>:</h4>
<p>There's no complexity.  It's just how profiling works.</p>



<a name="153969337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969337">(Jun 14 2018 at 01:09)</a>:</h4>
<p>And there are use-cases where it's necessary.</p>



<a name="153969338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969338">(Jun 14 2018 at 01:09)</a>:</h4>
<p>We're not introducing any magic here.</p>



<a name="153969343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969343">(Jun 14 2018 at 01:16)</a>:</h4>
<p>no, on reflection, I think I have a problem with this.</p>



<a name="153969344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969344">(Jun 14 2018 at 01:16)</a>:</h4>
<p>I have an extension A. It's allowed to be used at elements X and Y</p>



<a name="153969345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969345">(Jun 14 2018 at 01:16)</a>:</h4>
<p>you can't, somewhere else, in a 'constraint' assert that hey, we can use it on Z too</p>



<a name="153969348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969348">(Jun 14 2018 at 01:20)</a>:</h4>
<p>Agree with that</p>



<a name="153969349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969349">(Jun 14 2018 at 01:20)</a>:</h4>
<p>You can't change the allowed applicability</p>



<a name="153969350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969350">(Jun 14 2018 at 01:21)</a>:</h4>
<p>But you can constrain the data type for the value or child components and/or provide additional contextual guidance on their use.</p>



<a name="153969352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153969352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153969352">(Jun 14 2018 at 01:22)</a>:</h4>
<p>In theory I guess you might be able to say that your constrained version is only allowed to be used at element X and not Y - that would be a legal constraint.  Though I haven't ever had a use-case to do that and can't, off the top of my head, think of a situation where an extension profile would need to do that.</p>



<a name="153972791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153972791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153972791">(Jul 02 2018 at 09:54)</a>:</h4>
<blockquote>
<p>It just requires a bit of training for people to get used to the fact that "URL used to reference the extension in the spec is not necessarily the same as the URL of the extension".</p>
</blockquote>
<p>I never considered this, interesting.  But since the instance will refer to the old url, the only way to enforce the additional constraints in the profiled extension is by having an instance refer to a profile that points to that profiled extension?</p>



<a name="153972799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153972799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153972799">(Jul 02 2018 at 10:12)</a>:</h4>
<p>yes</p>



<a name="153972809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153972809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153972809">(Jul 02 2018 at 10:55)</a>:</h4>
<p>Yup</p>



<a name="153972810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/expanded%20context%20on%20an%20extension/near/153972810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/expanded.20context.20on.20an.20extension.html#153972810">(Jul 02 2018 at 10:55)</a>:</h4>
<p>Which is exactly what the implementations I have that do this do.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
