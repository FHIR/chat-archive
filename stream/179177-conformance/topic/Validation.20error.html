---
layout: page
title: "FHIR Chat  · Validation error · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.20error.html">Validation error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="172807981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%20error/near/172807981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.20error.html#172807981">(Aug 08 2019 at 22:16)</a>:</h4>
<p>What does the following error mean (from the hapi 4 validator):</p>
<p><em>Could not match discriminator (url) for slice Patient.extension:dhb in profile <a href="http://clinfhir.com/fhir/StructureDefinition/MyPatient" target="_blank" title="http://clinfhir.com/fhir/StructureDefinition/MyPatient">http://clinfhir.com/fhir/StructureDefinition/MyPatient</a> - does not have fixed value, binding or existence assertions</em></p>
<p>I'm using forge to add a simple extension to a profile on Patient (I also used forge to create the extension, and then just added it to the profile and saved.</p>
<p>Am I missing a step in Forge perhaps?</p>
<p>here's the profile XML (from forge) with the extraneous bits removed for clarify:</p>
<div class="codehilite"><pre><span></span>&lt;element id=&quot;Patient.extension&quot;&gt;
        &lt;path value=&quot;Patient.extension&quot; /&gt;
        &lt;slicing&gt;
            &lt;discriminator&gt;
                &lt;type value=&quot;value&quot; /&gt;
                &lt;path value=&quot;url&quot; /&gt;
            &lt;/discriminator&gt;
            &lt;description value=&quot;Extensions are always sliced by (at least) url&quot; /&gt;
            &lt;rules value=&quot;open&quot; /&gt;
        &lt;/slicing&gt;

        &lt;min value=&quot;0&quot; /&gt;
        &lt;max value=&quot;*&quot; /&gt;
        &lt;base&gt;
            &lt;path value=&quot;DomainResource.extension&quot; /&gt;
            &lt;min value=&quot;0&quot; /&gt;
            &lt;max value=&quot;*&quot; /&gt;
        &lt;/base&gt;
        &lt;type&gt;
            &lt;code value=&quot;Extension&quot; /&gt;
        &lt;/type&gt;

    &lt;/element&gt;
    &lt;element id=&quot;Patient.extension:dhb&quot;&gt;
        &lt;path value=&quot;Patient.extension&quot; /&gt;
        &lt;sliceName value=&quot;dhb&quot; /&gt;

        &lt;min value=&quot;0&quot; /&gt;
        &lt;max value=&quot;1&quot; /&gt;
        &lt;base&gt;
            &lt;path value=&quot;DomainResource.extension&quot; /&gt;
            &lt;min value=&quot;0&quot; /&gt;
            &lt;max value=&quot;*&quot; /&gt;
        &lt;/base&gt;
        &lt;type&gt;
            &lt;code value=&quot;Extension&quot; /&gt;
            &lt;profile value=&quot;http://clinfhir.com/fhir/StructureDefinition/dhb&quot; /&gt;
        &lt;/type&gt;

    &lt;/element&gt;
</pre></div>



<a name="172809639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%20error/near/172809639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.20error.html#172809639">(Aug 08 2019 at 22:43)</a>:</h4>
<p>and the sample patient:</p>
<div class="codehilite"><pre><span></span>&lt;Patient xmlns=&quot;http://hl7.org/fhir&quot;&gt;
    &lt;id value=&quot;patientTest&quot;/&gt;
    &lt;meta&gt;
        &lt;versionId value=&quot;7&quot;/&gt;
        &lt;lastUpdated value=&quot;2019-06-20T03:29:47.050+00:00&quot;/&gt;
        &lt;profile value=&quot;http://clinfhir.com/fhir/StructureDefinition/MyPatient&quot;/&gt;
    &lt;/meta&gt;
    &lt;text&gt;
        &lt;status value=&quot;generated&quot;/&gt;
        &lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;Patient 2&lt;/div&gt;
    &lt;/text&gt;

    &lt;extension url=&quot;http://clinfhir.com/fhir/StructureDefinition/dhb&quot;&gt;
        &lt;valueCodeableConcept&gt;
            &lt;coding&gt;
                &lt;system value=&quot;http://standards.digital.health.nz/fhir/CodeSystem/nzinfosource&quot;/&gt;
                &lt;code value=&quot;BREG&quot;/&gt;
            &lt;/coding&gt;

        &lt;/valueCodeableConcept&gt;

    &lt;/extension&gt;
&lt;/Patient&gt;
</pre></div>



<a name="172811271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%20error/near/172811271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.20error.html#172811271">(Aug 08 2019 at 23:11)</a>:</h4>
<p>Is it a problem if you use the stand alone validator (the current one)?</p>



<a name="172811533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%20error/near/172811533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.20error.html#172811533">(Aug 08 2019 at 23:16)</a>:</h4>
<p>Haven't checked - will download and have a try.</p>



<a name="172811672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%20error/near/172811672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.20error.html#172811672">(Aug 08 2019 at 23:19)</a>:</h4>
<p>Got it! the Extension.url element in the definition was missing the fixedUrl element. I added that manually and the error disappeared. So I need to figure out how to add that in forge...</p>



<a name="173014232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%20error/near/173014232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.20error.html#173014232">(Aug 12 2019 at 11:02)</a>:</h4>
<p>Indeed, there is a known bug in the latest Forge R4 release, which causes the (mandatory) <code>Extension.url</code> element in an Extension definition to be omitted from the generated output. According to FHIR, this is invalid. This bug will be fixed in the next release.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
