---
layout: page
title: "FHIR Chat  · US Core Extensions · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html">US Core Extensions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189709738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189709738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189709738">(Mar 04 2020 at 16:44)</a>:</h4>
<p>When I look at <a href="http://hl7.org/fhir/us/core/StructureDefinition-us-core-direct.json.html" target="_blank" title="http://hl7.org/fhir/us/core/StructureDefinition-us-core-direct.json.html">http://hl7.org/fhir/us/core/StructureDefinition-us-core-direct.json.html</a> (an IG-based example of a "simple" boolean extension), there are differences in comparison with <a href="http://hl7.org/fhir/extension-auditevent-anonymized.json.html" target="_blank" title="http://hl7.org/fhir/extension-auditevent-anonymized.json.html">http://hl7.org/fhir/extension-auditevent-anonymized.json.html</a> (a core spec-based example of a "simple" boolean extension).</p>
<p>The IG example includes things like</p>
<div class="codehilite"><pre><span></span>     &quot;id&quot; : &quot;Extension.value[x]:valueBoolean&quot;,
</pre></div>


<p>... whereas the core spec example doesn't traverse that deep.</p>
<p>Are both correct? Is one preferred?</p>



<a name="189726354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189726354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189726354">(Mar 04 2020 at 19:33)</a>:</h4>
<p>Extension.value[x] is sliced by type. Both of them constrain it to boolean</p>



<a name="189726457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189726457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189726457">(Mar 04 2020 at 19:34)</a>:</h4>
<p>the us-core version also includes the slice details for the boolean slice, but since that's the only one that can appear anyway, and the slice details don't actually say anything, the slice is superfluous.</p>



<a name="189726464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189726464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189726464">(Mar 04 2020 at 19:34)</a>:</h4>
<p>but it's not wrong</p>



<a name="189726539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189726539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189726539">(Mar 04 2020 at 19:35)</a>:</h4>
<p>the one that doesn't contain the superfluous details would be preferred, I suppose. I'm not going to look through the tooling to check why it is produced.</p>



<a name="189726557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189726557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189726557">(Mar 04 2020 at 19:35)</a>:</h4>
<p>more weird is that the value.min isn't fixed to 1 in us-core</p>



<a name="189756526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189756526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189756526">(Mar 05 2020 at 02:51)</a>:</h4>
<p>Huh, okay -- and that is a tooling bug?</p>



<a name="189756820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189756820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189756820">(Mar 05 2020 at 03:00)</a>:</h4>
<p>I think so</p>



<a name="189756825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189756825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189756825">(Mar 05 2020 at 03:00)</a>:</h4>
<p>Not sure where.</p>



<a name="189756833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189756833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189756833">(Mar 05 2020 at 03:00)</a>:</h4>
<p>Or maybe it’s just a deficiency - I don’t try to figure out whether the slice actually says anything</p>



<a name="189814964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189814964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189814964">(Mar 05 2020 at 17:18)</a>:</h4>
<p>is min = 0 in source.  IRL if you go to the trouble of adding an extension unlikely is going to be empty?  but I will make a tracker to make min=1</p>



<a name="189831556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189831556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189831556">(Mar 05 2020 at 20:14)</a>:</h4>
<p>I think min=0 is a tooling bug.</p>



<a name="189842948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189842948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189842948">(Mar 05 2020 at 22:15)</a>:</h4>
<p>The source is min=0</p>



<a name="189843094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189843094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189843094">(Mar 05 2020 at 22:16)</a>:</h4>
<p>for extensions, either Extension.extension is 0..0 and value is 1..1, or vice versa</p>



<a name="189856761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189856761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189856761">(Mar 06 2020 at 02:09)</a>:</h4>
<p>I looked for an invariant. but all I see is this:  <a href="http://build.fhir.org/extensibility.html" target="_blank" title="http://build.fhir.org/extensibility.html">http://build.fhir.org/extensibility.html</a><br>
"An extension SHALL have either a value (i.e. a value[x] element) or sub-extensions, but not both. If present, the value[x] element SHALL have content (value attribute or other elements)"</p>
<p>so is that evaluated at the instance level or the profile level.</p>



<a name="189857703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189857703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189857703">(Mar 06 2020 at 02:32)</a>:</h4>
<blockquote>
<p>for extensions, either Extension.extension is 0..0 and value is 1..1, or vice versa</p>
</blockquote>
<p>I don't think that's exactly what you mean, right?  For sure you could have value 0..0 and extension 1..* (otherwise complex extensions wouldn't be very complex).  But couldn't you also have extension 0..0 and value[x] 1..* (or really any min &gt;= 1 and any max &gt;= min)?</p>



<a name="189857869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189857869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189857869">(Mar 06 2020 at 02:37)</a>:</h4>
<p>oh yes, extension could be 1..*.</p>



<a name="189858521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/US%20Core%20Extensions/near/189858521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/US.20Core.20Extensions.html#189858521">(Mar 06 2020 at 02:56)</a>:</h4>
<p>It's evaluated at the instance level, but it's much clearer to readers when you make it explicit at the profile level.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
