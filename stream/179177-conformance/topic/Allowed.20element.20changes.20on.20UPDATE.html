---
layout: page
title: "FHIR Chat  · Allowed element changes on UPDATE · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html">Allowed element changes on UPDATE</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="274394386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/274394386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#274394386">(Mar 07 2022 at 13:57)</a>:</h4>
<p>I have been asked whether there is an option to indicate in a profile, which elements are allowed to be changed on an update: e.g. you can change the date on a Procedure but not the Patient-Reference. Of course, systems can always return errors if business logic is violated when processing an update, but I think there is also a benefit in telling Clients beforehand what they can and cannot do. <br>
Any ideas on how to profile that?</p>



<a name="274445640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/274445640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#274445640">(Mar 07 2022 at 19:34)</a>:</h4>
<p>There are no discrete data elements for that purpose.  Often the rules vary based on business state as well as who's making the change.  For example, changing the drug on a MedicationRequest in 'draft' state is fine.  Changing it once it's active it not.  Similarly, there may be restrictions on who's allowed to correct a patient's birthDate.</p>



<a name="274450697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/274450697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#274450697">(Mar 07 2022 at 20:12)</a>:</h4>
<p>possibly this could be a use-case for Permission, but it is not yet today a use-case for Permission. Unclear what the use-case need is.</p>



<a name="274472273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/274472273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#274472273">(Mar 07 2022 at 23:08)</a>:</h4>
<p>It's almost like you need an <code>onUpdate</code> constraint that would allow you to use FHIRPath with built-in <code>$current</code> and <code>$updated</code> variables so you can do whatever checks you want and return <code>true</code>/<code>false</code>.  That said, I bet you might run into some gnarly FHIR path depending on the complexity of what you need to do.</p>



<a name="274497434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/274497434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#274497434">(Mar 08 2022 at 05:06)</a>:</h4>
<p>I have such a thing in my server - see EventDefinition</p>



<a name="274955200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/274955200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#274955200">(Mar 11 2022 at 10:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> you got an example of such an EventDefinition?</p>



<a name="274955232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/274955232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#274955232">(Mar 11 2022 at 10:13)</a>:</h4>
<p>not off hand</p>



<a name="274955242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/274955242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#274955242">(Mar 11 2022 at 10:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> might</p>



<a name="276044932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Allowed%20element%20changes%20on%20UPDATE/near/276044932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Allowed.20element.20changes.20on.20UPDATE.html#276044932">(Mar 21 2022 at 12:49)</a>:</h4>
<p>I am not sure whether this needs to be computable for a validator. I'd leave it to the server to decide where these checks happen (whether it's interface logic or business logic or database logic). I am merely looking for a way to indicate through  profile to a client what can and cannot be changed, so they can adapt and e.g. allow/not allow user edits in the UI. In the simplest of cases, it could be a boolean flag on element level.<br>
But I agree, that a dependency on Resource status is avalid use case.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
