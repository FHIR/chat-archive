---
layout: page
title: "FHIR Chat  · Forge22: setting cardinalities for Extension elements · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge22.3A.20setting.20cardinalities.20for.20Extension.20elements.html">Forge22: setting cardinalities for Extension elements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="172654562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge22%3A%20setting%20cardinalities%20for%20Extension%20elements/near/172654562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge22.3A.20setting.20cardinalities.20for.20Extension.20elements.html#172654562">(Aug 07 2019 at 06:55)</a>:</h4>
<p>I'm currently creating an Extension of Datatype <code>Coding</code> with Forge 22.0<br>
I want to set the cardinalities for Coding.code to 1..1 but I can't find a way to do this since the value[x] Element doesn't expand.<br>
Do I need to create a Profile for Coding first? But then I don't see a way to bind my Extension to the Profile...<br>
What am I missing?</p>



<a name="172654686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge22%3A%20setting%20cardinalities%20for%20Extension%20elements/near/172654686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge22.3A.20setting.20cardinalities.20for.20Extension.20elements.html#172654686">(Aug 07 2019 at 06:58)</a>:</h4>
<p>Ah! I found the way to bind Coding to a Profile under the Datatype Selection!<br>
<a href="/user_uploads/10155/eKKZbXb2yjjpeK5otmMJszce/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/eKKZbXb2yjjpeK5otmMJszce/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/eKKZbXb2yjjpeK5otmMJszce/pasted_image.png"></a></div>



<a name="172656322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge22%3A%20setting%20cardinalities%20for%20Extension%20elements/near/172656322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge22.3A.20setting.20cardinalities.20for.20Extension.20elements.html#172656322">(Aug 07 2019 at 07:36)</a>:</h4>
<p>The value[x] element does not expand by default anymore according to the new slicing rules in R4. You have to create new slices and then restrict the slices.</p>



<a name="172656458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge22%3A%20setting%20cardinalities%20for%20Extension%20elements/near/172656458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge22.3A.20setting.20cardinalities.20for.20Extension.20elements.html#172656458">(Aug 07 2019 at 07:39)</a>:</h4>
<p>See <a href="#narrow/stream/179166-implementers/topic/Forge.20R4.2022.2E0.20Create.20new.20extensions" title="#narrow/stream/179166-implementers/topic/Forge.20R4.2022.2E0.20Create.20new.20extensions">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Forge.20R4.2022.2E0.20Create.20new.20extensions</a></p>



<a name="172659922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge22%3A%20setting%20cardinalities%20for%20Extension%20elements/near/172659922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge22.3A.20setting.20cardinalities.20for.20Extension.20elements.html#172659922">(Aug 07 2019 at 08:40)</a>:</h4>
<p>Correct, thanks <span class="user-mention" data-user-id="193430">@Alexander Zautke</span>!<br>
Forge R4 no longer expands polymorphic elements such as <code>value[x]</code>, even when constrained to a single datatype. In R4, the meaning of <code>[x]</code> elements has changed, they now specify the list of allowed types. A profile can introduce concrete named slices to specify constraints specific datatypes. In Forge R4, you can slice the <code>[x]</code> element, add a named slice and constrain it to a single datatype; now, Forge will try to expand the child elements of the named slice.</p>
<p>For example, compare the definition of a simple boolean extension in STU3:</p>
<div class="codehilite"><pre><span></span>Extension
Extension.valueBoolean { Min = 1 }
</pre></div>


<p>to a similar definition in R4:</p>
<div class="codehilite"><pre><span></span>Extension
Extension.value[x] { Type = boolean }
Extension.valueBoolean { Min = 1 }
</pre></div>



<a name="172660326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge22%3A%20setting%20cardinalities%20for%20Extension%20elements/near/172660326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge22.3A.20setting.20cardinalities.20for.20Extension.20elements.html#172660326">(Aug 07 2019 at 08:46)</a>:</h4>
<p>Note: The former syntax is still valid in R4, but interpreted differently. Without a constraint on the <code>value[x]</code> element, the extension value accepts any datatype (as defined by the Extension base profile). The <code>valueBoolean</code> element specifies constraints that are specific for boolean values; all other datatypes are allowed and unconstrained.</p>



<a name="172740811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge22%3A%20setting%20cardinalities%20for%20Extension%20elements/near/172740811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge22.3A.20setting.20cardinalities.20for.20Extension.20elements.html#172740811">(Aug 08 2019 at 06:03)</a>:</h4>
<p>Got it, thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
