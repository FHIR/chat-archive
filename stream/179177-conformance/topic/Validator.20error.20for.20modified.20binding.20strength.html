---
layout: page
title: "FHIR Chat  · Validator error for modified binding strength · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html">Validator error for modified binding strength</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173357121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173357121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173357121">(Aug 16 2019 at 08:41)</a>:</h4>
<p>Hello,<br>
we created a profile on Specimen and changed the binding strength of  <code>collection.fastingStatus</code> to required. Now, we get the following Validator Error:</p>
<div class="codehilite"><pre><span></span> Information @ Bundle.entry[6].resource.collection.fastingStatus.ofType(CodeableConcept) (line 240, col24) : Binding for path Bundle.entry[6].resource.collection.fastingStatus.ofType(CodeableConcept) has no source, so can&#39;t be checked
</pre></div>


<p>it is working when we change the  profile differential so the <code>binding</code> element includes the ValueSet as well as the strength attribute:</p>
<div class="codehilite"><pre><span></span>{
  &quot;id&quot;: &quot;Specimen.collection.fastingStatus[x]&quot;,
  &quot;path&quot;: &quot;Specimen.collection.fastingStatus[x]&quot;,
  &quot;type&quot;: [
    {
      &quot;code&quot;: &quot;CodeableConcept&quot;
    }
  ],
  &quot;mustSupport&quot;: true,
  &quot;binding&quot;: {
    &quot;strength&quot;: &quot;required&quot;,
    &quot;valueSet&quot;: &quot;http://terminology.hl7.org/ValueSet/v2-0916&quot;
  }
}
</pre></div>


<p>Is this a Validator Error?</p>



<a name="173372580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173372580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173372580">(Aug 16 2019 at 13:24)</a>:</h4>
<p>the validator says that there is no binding.valueSet. So something has gone wrong between what you've pasted above and the validator code. How are you running the validator?</p>



<a name="173372845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173372845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173372845">(Aug 16 2019 at 13:28)</a>:</h4>
<p>The pasted JSON above works, it is our original profile generating the error (differential):</p>
<div class="codehilite"><pre><span></span> {
        &quot;id&quot;: &quot;Specimen.collection.fastingStatus[x]&quot;,
        &quot;path&quot;: &quot;Specimen.collection.fastingStatus[x]&quot;,
        &quot;type&quot;: [
          {
            &quot;code&quot;: &quot;CodeableConcept&quot;
          }
        ],
        &quot;mustSupport&quot;: true,
        &quot;binding&quot;: {
          &quot;strength&quot;: &quot;required&quot;
        }
      },
</pre></div>


<p>But it should (?)  work because the differential only lists differences to the original resource.<br>
Im running the .jar and providing the files locally.</p>



<a name="173372968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173372968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173372968">(Aug 16 2019 at 13:30)</a>:</h4>
<p>oh. hmm</p>



<a name="173375923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173375923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173375923">(Aug 16 2019 at 14:06)</a>:</h4>
<p>We are running the Validator exactly this way: <a href="https://github.com/samply/bbmri-fhir-ig/blob/master/.travis.yml" target="_blank" title="https://github.com/samply/bbmri-fhir-ig/blob/master/.travis.yml">https://github.com/samply/bbmri-fhir-ig/blob/master/.travis.yml</a></p>



<a name="173404901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173404901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173404901">(Aug 16 2019 at 20:25)</a>:</h4>
<p>yes this is an issue in the current code for the snapshot generator. I haven't looked at that code for a while. I see it doesn't let you change a required binding, but it should. And if you're going from something other than a required binding to a required binding, then this will get ignored if you don't specify a value set&gt;</p>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> what does your snapshot generator do in this regard?</p>



<a name="173431381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173431381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173431381">(Aug 17 2019 at 07:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Thanks for investigating!</p>



<a name="173540533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173540533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173540533">(Aug 19 2019 at 12:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> the .NET <code>SnapshotGenerator</code> allows and handles such a binding constraint. The resulting snapshot will inherit the <code>binding.valueSet</code> property value from the base/core <code>Specimen</code> definition, merged with the required <code>binding.strength</code> constraint as specified by the <code>Specimen</code> profile diff.</p>



<a name="173540690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173540690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173540690">(Aug 19 2019 at 12:45)</a>:</h4>
<p>thx. what do you do if the base has a required binding and it's being overridden?</p>



<a name="173541671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173541671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173541671">(Aug 19 2019 at 13:00)</a>:</h4>
<p>We decided to keep a clean separation between the responsibilities of the .NET <code>SnapshotGenerator</code> and the <code>Validator</code> classes. The SnapGen always tries to produce an output. Specified diff constraints always override matching constraints in the base resource. The SnapGen does not try to validate, however it will emit <code>OperationOutcome</code> issues for "suspicious" diff constraints. This approach allows Forge to always open a profile and generate a full tree representation, even if it is invalid, so the author can correct any mistakes.<br>
It is up to the validator (and/or Forge) to actually verify the contents of a generated snapshot, i.e. verify if the specified constraints are actually valid with respect to the referenced base profile.</p>



<a name="173541917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validator%20error%20for%20modified%20binding%20strength/near/173541917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validator.20error.20for.20modified.20binding.20strength.html#173541917">(Aug 19 2019 at 13:04)</a>:</h4>
<p>This also keeps the complexity of the <code>SnapshotGenerator</code> logic down to a reasonable/feasible level, and allows us to develop and test .NET SnapGen and Validator components separately.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
