---
layout: page
title: "FHIR Chat  · &quot;Mute&quot; button for StructureDefinition elements · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html">&quot;Mute&quot; button for StructureDefinition elements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153957143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957143">(May 09 2018 at 11:10)</a>:</h4>
<p>When profiling resources, we currently have no way to express that certain elements are "not used/not relevant" for a specific use case.<br>
Especially in the early stages of adopting FHIR, I see many profiles around, that use less than 50% of the elements in a resource.</p>
<p>When rendering a resource (like in IG or on Simplifier) there's no way to get a view of the profile that shows only what's relevant to the implementer.<br>
The current options of displaying profiles only get us half way:</p>
<ul>
<li>the differential view doesn't do that, because just the fact that an element hasn't been changed doesn't mean it's not relevant</li>
<li>I see many profiles that constrain everything that's not relevant to 0..0, which is nice in terms of how the profile is presented but desastrous when this profile is used for validation.</li>
<li>the must support flag could be used to distinguish relevant from irrelevant elements but the semantics aren't quite the same. Just the fact that an IG <em>uses</em> an element doesn't mean that all implementations have to support it.</li>
</ul>
<p>What I would like to suggest is the introduction of a boolean "muted"-Extension to ElementDefinition. So specifiers can mark everything the implementer doesn't have to bother with in the scope of a profile.</p>
<p>Registries like Simplifier or IG publishing tools could then offer views that omit the muted elements (or somehow format them as <em>not important</em>).</p>



<a name="153957144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957144">(May 09 2018 at 11:22)</a>:</h4>
<p>Have you looked at mustSupport?  Those things marked as mustSupport are relevant/need to be supported.  Those not can be ignored/are not relevant</p>



<a name="153957146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957146">(May 09 2018 at 11:23)</a>:</h4>
<p>Here's an example:<br>
This view of the US Core AllergyIntolerance shows only the "must support" fields. Assuming that there'd be other data elements from the CCDS that are "<em>can</em> support" and have resulted in no chages to the core specification, they wouldn't show up in the differential.<br>
<a href="/user_uploads/10155/1-NQHIR4IGo1CTg7LedP16ET/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/1-NQHIR4IGo1CTg7LedP16ET/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/1-NQHIR4IGo1CTg7LedP16ET/pasted_image.png"></a></div><p>I'm afraid that implementers are inclined to look at the differential and think "that's all I have to know", when in fact, it isn't. <br>
As a specifier, I would like to be able to create a view that means "this is all you have to know".</p>



<a name="153957147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957147">(May 09 2018 at 11:30)</a>:</h4>
<p>"Can support" is everything that's not 0..0.  mustSupport is what's relevant and you can count on interoperability with</p>



<a name="153957148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957148">(May 09 2018 at 11:30)</a>:</h4>
<p>Another problem with mustSupport:<br>
Once a mustSupport Flag is set, the element can't be un-mustSupported in derived Profiles.</p>
<p>Example: If we were to mark all relevant Elements for a MedicationPlan-IG as mustSupport, we couldn't derive a Profile for a simple patient-facing App that wouldn't need to deal with half of the elements because it's just supposed to tell the Patient "how much of which, when".</p>



<a name="153957149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957149">(May 09 2018 at 11:30)</a>:</h4>
<p>Looking at only the differential is a really bad idea because things like mustSupport can be inherited</p>



<a name="153957150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957150">(May 09 2018 at 11:32)</a>:</h4>
<p>True.  If something is mustSupport, then it's mustSupport always.  Which means you shouldn't be defining your profile for the patient-facing app from the MedicationPlan-IG</p>



<a name="153957151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957151">(May 09 2018 at 11:42)</a>:</h4>
<p>I don't know. Like, in the USCore profile, how do you distinguish elements that are part of the CCDS but not mandatory from elements that don't have anything to do with the CCDS at all? Or are you just in the happy situation that everything in the CCDS is mandatory ;-) ?</p>
<p>I'm still struggeling with how to distinguish the sematic "this profile doesn't use element x" from "this profile uses element x but it's not mustSupport".</p>



<a name="153957152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957152">(May 09 2018 at 11:48)</a>:</h4>
<p>For the Medication Plan we'd have a common data model and everything that's in that data model would be considered "relevant".<br>
But in this scenario we'd have practitioner-facing EHRs, patient-facing Apps, pharmacist-facing Systems etc. We could slap on the mustSupport flags for actor-specific profiles but I'm thinking about the top level profile. I wouldn't want to make assumptions there about mustSupport. I just want to say what's in and what's out...</p>



<a name="153957153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957153">(May 09 2018 at 11:55)</a>:</h4>
<p>I don't know what CCDS is :)  Not mandatory means minOccurs = 0.  You can have something that's mustSupport but not mandatory.</p>



<a name="153957154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957154">(May 09 2018 at 11:56)</a>:</h4>
<p>I don't understand "this profile uses it, but it's not mustSupport".  If it's being used, it's being supported - though it might be minOccurs = 0</p>



<a name="153957155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957155">(May 09 2018 at 11:57)</a>:</h4>
<p>What's your objective of saying something is "in" if you don't want to say it must be supported?  If you wanted to say "this data should never be present and it would be an error for it to appear", you could set maxOccurs to 0 (e.g. on deceasedDate if the use-case doesn't allow dealing with deceased patients).  Be cautious about this though because you don't want to prohibit data that might legitimately exist.</p>



<a name="153957159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957159">(May 09 2018 at 12:30)</a>:</h4>
<blockquote>
<p>I don't know what CCDS is :) </p>
</blockquote>
<p>The underlying data model for US Core Profiles (I think)</p>



<a name="153957160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957160">(May 09 2018 at 12:33)</a>:</h4>
<p>Ah.  Common Clinical Data Set</p>



<a name="153957161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957161">(May 09 2018 at 12:34)</a>:</h4>
<p>Yep. That thing :)</p>



<a name="153957162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957162">(May 09 2018 at 12:34)</a>:</h4>
<p>Doe the distinction between mandatory (minOccurs=1+) and mustSupport meet your needs?</p>



<a name="153957164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957164">(May 09 2018 at 12:37)</a>:</h4>
<p>Well it might if we were to asssume that mustSupport in the context of a profile that describes a common data model means "this element is part of the model" and we accept, that all implementations that implement that model but support only parts of it will never be able to derive their profiles from the common model.<br>
Which doesn't make me very happy.</p>



<a name="153957166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957166">(May 09 2018 at 12:41)</a>:</h4>
<p>But then again, that hole mustSupport-semantic / derived Profile isnt't really my point... <br>
wait, I try to remeber what my point was...</p>



<a name="153957167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957167">(May 09 2018 at 12:42)</a>:</h4>
<p>The point is: we don't have a convenient view for implementers that shows them only the relevant parts of a profile.</p>



<a name="153957168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957168">(May 09 2018 at 12:43)</a>:</h4>
<p>You agreed that differntial view is not what implementer's should look at. That's a technical representation that should only be relevant to specifiers.</p>



<a name="153957169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957169">(May 09 2018 at 12:44)</a>:</h4>
<p>So we want implementers to look at the snapshot always.<br>
Now going back to the US Core AllergyIntolerance Profile....when looking at the Snapshot of the profile, there's about 80% irrelevant information there.</p>



<a name="153957171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957171">(May 09 2018 at 12:45)</a>:</h4>
<p>So, what I'm suggesting is that we add a label to elements, that a specifier thinks can safely be ignored by the implementer when reading the spec.</p>



<a name="153957172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957172">(May 09 2018 at 12:46)</a>:</h4>
<p>For the sake of this discussion, let's call it the "Implementer's view"</p>



<a name="153957175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957175">(May 09 2018 at 12:56)</a>:</h4>
<p>I agree with Simone, on the need beyond mustSupport. IHE has run into this too. There are a few grey conditions that the current conformance rules are simply too strong. mustSupport is problematic because it is not defined, which is also powerful so do want something that is profile defined. However there is a need to indicate ( a ) that an element could be populated, but is not used by this IG (aka O); ( b ) that an element can be empty, but if the data is known it must be populated (aka RE, R2); ( c ) that  this element has a condition that when true makes the element required (aka C). Usually these are activated more at the IG level, and what IHE has done this far is to make multiple blunt StructureDefinitions (see MHD).</p>



<a name="153957179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957179">(May 09 2018 at 13:11)</a>:</h4>
<p>Actually, there's a "grid view" component that gets produced by the IG publisher that only shows those elements that are marked as mustSupport.  I added it for one of my clients.  It's available for any IG though if you include it in your templates</p>



<a name="153957180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957180">(May 09 2018 at 13:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> <br>
a) mustSupport=false, minOccurs=0, maxOccurs!=0<br>
b) mustSupport=true, minOccurs=0, maxOccurs!=0<br>
c) mustSupport=true, minOccurs=0, maxOccurs!=0, invariant defining condition</p>



<a name="153957206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957206">(May 09 2018 at 14:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span>  <span class="user-mention" data-user-id="191404">@John Moehrke</span>   I think the USCore is doing what you are asking for.   We list only the stuff that you need to worry about.</p>
<ul>
<li>1..1 + Must Support  = Mandatory</li>
<li>0..1 or 0..*+ Must Support = Send it if you have it<br>
0..0 =  not supportted</li>
</ul>
<p>everything else is undefined in the profile..   This follows the conformance section in V2 Chapter 2b which is how I think about it and how I cut my teeth on profiles.</p>
<p>So I get some push back on making the 1..1 + Must Support but I think it makes it clearer.   but what other category do you want?  "a gee this would be nice too"? </p>
<p>And yes profiles are layered you constrain atop the base then uscore (for example) then your profile.</p>



<a name="153957207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957207">(May 09 2018 at 14:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  conditionals are handled by invariants + Must Support.  I haven;t seen a use case that runs into problems.  Its usually becuase the use case is ill defined and the implementer wants it both ways.</p>



<a name="153957208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957208">(May 09 2018 at 14:53)</a>:</h4>
<p>Yes that is how IHE is doing it as well.. I just think that it is possibly not as obvious as it could be. I don't have a better recommendation or I would have made it.   This use of mustSupport is indeed documented as such in IHE.</p>



<a name="153957209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957209">(May 09 2018 at 14:54)</a>:</h4>
<p>The main part of is that is not obvious is that everyone gets to define mustSupport differently. If it was always defined the same way, then that would clear things up.</p>



<a name="153957210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957210">(May 09 2018 at 14:55)</a>:</h4>
<p>It would be great if we could create views of the layered differential like I did here but the tooling ( I hear ) is difficult )   here is an example of what I mean....</p>



<a name="153957212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957212">(May 09 2018 at 14:56)</a>:</h4>
<p><a href="https://argonautproject.github.io/clinicalnotes/StructureDefinition-example-dr.html" target="_blank" title="https://argonautproject.github.io/clinicalnotes/StructureDefinition-example-dr.html">https://argonautproject.github.io/clinicalnotes/StructureDefinition-example-dr.html</a></p>



<a name="153957213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957213">(May 09 2018 at 14:57)</a>:</h4>
<p>this requires the poor hapless profile editor to create all the intermediate profiles and hack the template...</p>



<a name="153957214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957214">(May 09 2018 at 14:58)</a>:</h4>
<p>but I think that helps solve one of Simone's concerns</p>



<a name="153957234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957234">(May 09 2018 at 15:17)</a>:</h4>
<p>For clarification:<br>
0..0 - prohibited (rather than just 'not supported')  I.e. You're not allowed to deal with animals if you want to claim conformance with US Core.<br>
0..* mustSupport=false would be "not supported"</p>



<a name="153957239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957239">(May 09 2018 at 15:20)</a>:</h4>
<p>0..*  without a must Support  is undefined in my book.... is that documented as "not supported?"  because if so a tracker is coming :)</p>



<a name="153957241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957241">(May 09 2018 at 15:21)</a>:</h4>
<p>@Lloyd what do you mean by 'not supported'  ?</p>



<a name="153957242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957242">(May 09 2018 at 15:22)</a>:</h4>
<p>for me "not supported" means an error can be  raised if the element comes down the wire.</p>



<a name="153957243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957243">(May 09 2018 at 15:23)</a>:</h4>
<p>so I think we mean the same thing</p>



<a name="153957244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957244">(May 09 2018 at 15:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> <br>
1. "We list only the stuff that you need to worry about." <br>
Just looking at the differential, though convenient, isn't the solution.<br>
In the snapshot - granted - you have nice red flags in the things that are relevant for the implementers, but there's a lot of noise around them.<br>
So - where's that "list of stuff you need to worry about"? ;-)</p>
<p>2. "but what other category do you want? "a gee this would be nice too"?"<br>
Actually yes. There  can be elements in a data model that everyone agrees are relevant but not everyone can/will support.<br>
Knowing that they are a part of that model makes it likely that other systems will implement these elements, if they find them useful, even though it's not must support, whereas with any element that just happens to be there because it's in the core spec, that's rather unlikely.</p>
<p>3. "And yes profiles are layered you constrain atop the base then uscore (for example) then your profile"<br>
So how do I say: "My system is compliant to this profile(produces valid resources), but we don't support some of the mustSupport elements because they're irrelveant to our use case?" You can't do that by layering/deriving because you can't make the mustSupport flag go away.</p>



<a name="153957247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957247">(May 09 2018 at 15:27)</a>:</h4>
<p>For your #2, we use R2 for this. Which is an indication that it is desired but not critical. It is a bit more encouraging that it be filled in, but essentially it is desired but not critical.</p>



<a name="153957251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957251">(May 09 2018 at 15:32)</a>:</h4>
<p>1. I would say the differential <em>is</em> the place you list the stuff you need to worry about</p>
<p>2. You want it both ways - I would suggest you define your Must Support to include the fuzzy support too.</p>
<p>3. profile A either conforms to profile B or it doesn't there is no almost conforms.  I'm not sure there should be either.</p>



<a name="153957252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957252">(May 09 2018 at 15:35)</a>:</h4>
<p>for 2 you could create an extension for MaySupport...</p>



<a name="153957253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957253">(May 09 2018 at 15:35)</a>:</h4>
<p>too complicated for my simple mind.  :-)</p>



<a name="153957256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957256">(May 09 2018 at 15:40)</a>:</h4>
<p>Here is a copy/paste of the IHE conventions that we use today in FHIR profiles. Clearly R vs R+ are obvious in a StructureDefinition.  This is published in our Appendix Z</p>
<p>Z.10 Profiling conventions for constraints on FHIR<br>
The following terms refer to the values used in the OPT column of tables in ITI Technical Framework Volumes 2, 3, and 4 that define constraints being profiled:<br>
R   Required. This element is required by FHIR. A sending application shall populate the element with a non-empty value. A receiving application may ignore the information conveyed by the element. A receiving application shall not raise an error solely due to the presence of the element, but may raise an error due to the absence of the element.<br>
R+  Required. This element is required by IHE profiling, but is not a required element by FHIR. This element shall be treated as "R", above.<br>
R2  Required if known. If the sending application has data for the element, it is required to populate the element with a non-empty value. If the value is not known, the element may be omitted. A receiving application may ignore the information conveyed by the element. A receiving application shall not raise an error solely due to the presence or absence of the element.<br>
O   Optional. At its discretion, a sending application may populate the element with a non-empty value. A receiving application may ignore the information conveyed by the element. A receiving application shall not raise an error solely due to the presence or absence of the element.<br>
C   Conditional. There is a stated condition associated with the element. If the condition is true, the element shall be treated as "R", above. If the condition is false, the element shall be treated as "O", above.<br>
X   Not supported. A sending application shall not populate the element. A receiving application may, if the element is received, ignore the information conveyed by the element, or may raise an error due to the presence of the element.</p>



<a name="153957259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957259">(May 09 2018 at 15:47)</a>:</h4>
<p>"Not supported" absolutely doesn't mean an error can be rasied if the element comes down the wire - it just means the receive might not retain it or do anything useful with it.</p>



<a name="153957260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957260">(May 09 2018 at 15:47)</a>:</h4>
<p>"Prohibited" means an error can be raised if the element comes down the wire - and that's what maxOccurs=0 is for.  You use it when it's clearly an error if the element is present (not just that it's a piece of data you don't happen to need/want)</p>



<a name="153957261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957261">(May 09 2018 at 15:48)</a>:</h4>
<p>"not supported" == mustSupport = false</p>



<a name="153957263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957263">(May 09 2018 at 15:49)</a>:</h4>
<p>Differential is the place you list what's different from the parent profile.  The stuff you need to worry about is the sum total of all differentials for all ancestor profiles where elements are marked with "mustSupport" or have other constraints that impact implementation (e.g. maxOccurs=0)</p>



<a name="153957264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957264">(May 09 2018 at 15:50)</a>:</h4>
<p>So looking at differential is only useful as your sole view if the parent of the profile is the FHIR resource.</p>



<a name="153957265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957265">(May 09 2018 at 15:52)</a>:</h4>
<p>V2 mappings for FHIR are:<br>
R: minOccurs = 1+<br>
R2: minOccurs=0, mustSupport=true<br>
O: minOccurs=0, mustSupport=false<br>
C: closest would be minOccurs=0, mustSupport=true, with an invariant.  We have no notion at present of mustSupport being conditional, only of the presence in the instance being conditional.  If you support the element some of the time, then you "support the element"</p>



<a name="153957266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957266">(May 09 2018 at 15:53)</a>:</h4>
<p>X = maxOccurs=0</p>



<a name="153957279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957279">(May 09 2018 at 16:12)</a>:</h4>
<p>So I agree with Lloyd on this with the semantic difference in what I think the words 'not supported' mean:  to me not supported == undefined.</p>



<a name="153957281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957281">(May 09 2018 at 16:13)</a>:</h4>
<p>in other words the implementation is silent on the element.  I didn't make this up I am repeating the sage word from Rob Snelick with probably a little Frank in there as well.</p>



<a name="153957292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957292">(May 09 2018 at 16:44)</a>:</h4>
<p>Possibly related, I recall a discussion during the EU connectathon about layered profiles,</p>



<a name="153957294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957294">(May 09 2018 at 16:45)</a>:</h4>
<p>And the fact that as we profile on top of profiles, and the implementers will only see the upper layer,</p>



<a name="153957295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957295">(May 09 2018 at 16:46)</a>:</h4>
<p>It is good to be able to say 'this field is not touched by this layer, but there are layers below where this field is touched"</p>



<a name="153957308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957308">(May 09 2018 at 17:09)</a>:</h4>
<p>If the profile is declaring the capabilities of the system, it means it's not going to yell if the data is there, but you can't count on it doing anything with the data if it is there.   If the profile is declaring the "desired" capabilities of a system, then it's saying it couldn't care less what happens to the element.</p>



<a name="153957356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957356">(May 09 2018 at 18:57)</a>:</h4>
<blockquote>
<p>It is good to be able to say 'this field is not touched by this layer, but there are layers below where this field is touched"</p>
</blockquote>
<p>I think it should be possible to compute such an "aggregated differential" view. You could try and abuse Forge to hack this manually, as I explained to Eric before:<br>
Open your aggregated profile in Forge, save with snapshot. Now open the file in a text editor and replace the differential component with the generated snapshot. Then replace the base definition from the immediate parent profile to the underlying core profile. Now open the hacked profile in Forge. Forge will now generate an "aggregated differential" that contains the sum of all constraints in the layered profiles. If you save the profile, it will contain the aggregate differential component.<br>
This is not a scalable solution, but it does demonstrate the possibility to create helpful tooling.</p>



<a name="153957359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957359">(May 09 2018 at 19:00)</a>:</h4>
<p>I remember having a discussion with Simone about a "rebase" command in Forge, in NOLA iirc. It's certainly feasible, but I haven't implemented it yet.</p>



<a name="153957397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957397">(May 09 2018 at 19:25)</a>:</h4>
<p>Hm... so let's assume I derive from a national base profile which has some ValueSet bindings for optional elements.  The aggregated differential would show all the elements that have been touched by the base profile, regardless of whether they're relevant for my current profile or not. In this case I'd be better off sprinkling some mustSupport flags over the profile and present the <em>actual</em> differential to the implementer.<br>
I'd still feel more comfortable with the idea of having a more <em>explicit</em> way of  creating an "implementer's view".</p>



<a name="153957402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957402">(May 09 2018 at 19:47)</a>:</h4>
<p>Or maybe the idea of an "Implementer's view" would be consistent with an aggregated differential minus everything that's not mustSupport??</p>



<a name="153957403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957403">(May 09 2018 at 19:47)</a>:</h4>
<p>Differential is only a useful view if you want to see "how is this profile different from the one it's based on?"  It has nothing to do with "what's important for an implementer to know".  What implementers need to know, generally, are what elements are constrained and what they need to support.</p>



<a name="153957404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957404">(May 09 2018 at 19:48)</a>:</h4>
<p>What you actually want is the snapshot showing only mustSupport elements - and possibly other elements that have been constrained (e.g. maxOccurs=0)</p>



<a name="153957405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957405">(May 09 2018 at 19:49)</a>:</h4>
<p>Because implementers will need to see the usage notes, data types, etc. inherited from the core resource - and those won't be in the aggregated differential.</p>



<a name="153957406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957406">(May 09 2018 at 19:49)</a>:</h4>
<p>The existing "grid view" renders the shapshot elements where mustSupport = true.  It doesn't currently worry about constrained non-must-support elements, though that would be reasonable to add.</p>



<a name="153957409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957409">(May 09 2018 at 19:54)</a>:</h4>
<p>Right. Snapshot limited to mustSupport and constrained Elements makes sense. But do we have a computable way of deciding wether a change to an element has been a constraint? reducing maximum cardinality would be. Adding ValueSetBinding and invariants too. Adding an alias or changing the definition wouldn't. If we were to display everything that's been <em>changed</em> rather than <em>constrained</em> we'd be veering back into the differential direction...</p>



<a name="153957412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957412">(May 09 2018 at 19:56)</a>:</h4>
<p>But I'd lean to displaying every element that's been changed rather than constrained. Relevant information for an Implementer may as well come in form of plain text in a definition or comment.</p>



<a name="153957413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957413">(May 09 2018 at 19:56)</a>:</h4>
<p>Bindings that are required or extensible would be.  Others wouldn't matter.  size limits, regexs, etc.  We'd have to go through the list and figure out which ones matter.  In most cases, systems don't bother setting constraints on things that are mustSupport = false because the general expectation is they'll ignore them - which is what they should do.  It makes no sense to enforce a constraint on something you don't need or care about.</p>



<a name="153957414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957414">(May 09 2018 at 19:58)</a>:</h4>
<p>Well, I guess the question is whether you want to see all of the stuff that's been commented on that you don't actually need to pay any attention to.  And if so, do you have a reason to want to see the profile author's comments, but not HL7's?</p>



<a name="153957421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957421">(May 09 2018 at 20:17)</a>:</h4>
<p>The german national base Profiles don't make any assumptions of what the use case is going to be, they just bind to national vocabulary, add national extensions, define common identifier namespaces etc. <br>
So they constrain, but don't set elements to "mustSupport". Currently, we can't differentiate "this element is totally irrelevant in Germany" from "this unconstrained element is commonly used in Germany but not necessarily mustSupport". </p>
<p>We could weasle our way out of this by just adding some comment to force it on the list of <em>changed</em> and thereby <em>relevant</em> elements. But that feels like a hack.</p>



<a name="153957423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957423">(May 09 2018 at 20:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span>    That is what I do to get a differential of what matters.  and why I add must supports to all the 1..1 elements upon which the profile is based.  Otherwise they would not show up.  As an editor you have control over this and can exploit it so some may call this hack a feature!</p>



<a name="153957426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957426">(May 09 2018 at 20:52)</a>:</h4>
<p>On occasion, you may want something to be 1..1, mustSupport=false.  I.e. it's ok for systems to ignore it or always send a fixed value and not pay any attention to it.  But that's unusual.</p>



<a name="153957427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957427">(May 09 2018 at 20:53)</a>:</h4>
<p>The German national profiles would need to make some sort of assumptions about use-case if they're going to enforce vocabulary bindings (e.g. human vs. veterinary; care delivery vs. billing - as commonly the bindings will need to vary for those.)</p>



<a name="153957429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957429">(May 09 2018 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> your hack still has some issues ;-)<br>
- the differential is not reliable for derived profiles<br>
- you can manually aggregate it, but you may end up with changed stuff from the parent profiles that isn't relevant and there's no way to get rid of it</p>



<a name="153957432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957432">(May 09 2018 at 21:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> we can for example make the assumption of an inpatient setting and define appropriate valueset bindings but we still wouldn't set any mustSupport flags. Think of Coverage: In some settings insurance type and number will suffice, others need all insurance details.  In the base profiles we only say <em>how</em> to use Elements, not <em>if</em>.</p>



<a name="153957433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957433">(May 09 2018 at 21:03)</a>:</h4>
<p>Our approach was to keep the profiles so broad and open, that any use case specific profile can be derived from the base profile.  Assumptions about the usecase usually start one level deeper.</p>



<a name="153957437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957437">(May 09 2018 at 21:34)</a>:</h4>
<p>Actually, I think the "hybrid" view in Simplifier remains the best approach to the issue. It's basically a snapshot with the changes highlighted. That in combination with the "fake comment" hack is probably sufficient for most use cases.</p>



<a name="153957503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957503">(May 10 2018 at 10:13)</a>:</h4>
<p>Very interesting discussion. If you like, we could organize a little break out session in Cologne. If there is sufficient demand from the community, then maybe we could look into implementing such a representation into Simplifier.</p>



<a name="153957509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/%22Mute%22%20button%20for%20StructureDefinition%20elements/near/153957509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stefan Lang <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/.22Mute.22.20button.20for.20StructureDefinition.20elements.html#153957509">(May 10 2018 at 11:00)</a>:</h4>
<p>Count me in for a breakout</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
