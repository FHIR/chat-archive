---
layout: page
title: "FHIR Chat  · Proper/best way to fix a codeable concept · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html">Proper/best way to fix a codeable concept</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153934982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153934982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153934982">(Feb 02 2018 at 15:02)</a>:</h4>
<p>I've been having some discussions on how this is best done in a profile attribute that you want to fix to a single concept. There don't appear to be a ton of examples but I've seen or heard of a few ways. Does anyone have guidance or can point me to more information?</p>
<p>1. Should you fix the codeableconcept, the coding field or the system/code/display elements of the coding element?<br>
2. Is it necessary to slice coding?<br>
3. pattern[x] seems to be mentioned in the  description as a preferred way to fix a concept. Is this accurate? What are the differences between and consequences of fix[x] vs pattern[x]?<br>
4. If you fix a display, will conformance checks fail if a different synonym is used?</p>



<a name="153934984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153934984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153934984">(Feb 02 2018 at 15:03)</a>:</h4>
<p>that raises many questions. Can you be clear on what 'fix to a single concept' means?</p>



<a name="153934985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153934985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153934985">(Feb 02 2018 at 15:07)</a>:</h4>
<p>I have an observation profile that I would like to represent a single concept. For example 'Estrogen receptor status'. So I want the code field of this observation to always be that concept. I'm not sure how else to describe that, what clarifications do you need?</p>
<p>Also, I am using one terminology, but others ER status profiles are using a different terminology, and I think interoperability can work there if we just have different coding elements in the codeable concept (correct me if I'm wrong). I'm also wondering if this will work when fixing a field.</p>



<a name="153934986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153934986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153934986">(Feb 02 2018 at 15:10)</a>:</h4>
<p>so you want to fix to a single fixed value - ok. (thought you might mean just any one single code).</p>



<a name="153934988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153934988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153934988">(Feb 02 2018 at 15:11)</a>:</h4>
<p>so for Observation.code, you should just fix to a simple CodeableConcept:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;coding&quot;</span> <span class="p">:</span> <span class="p">[{</span>
    <span class="nt">&quot;system&quot;</span> <span class="p">:</span> <span class="s2">&quot;(yours)&quot;</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span> <span class="p">:</span> <span class="s2">&quot;(yours}&quot;</span>
  <span class="p">}]</span>
<span class="p">}</span>
</pre></div>



<a name="153934998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153934998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153934998">(Feb 02 2018 at 15:25)</a>:</h4>
<p>And if I include a display there, will synonyms work? If a resource has a coding with multiple entries from different systems, will it conform to the profile if it has that coding? ie is it intersection != null or is it codeableConcept == the fixed value.</p>
<p>Also, this is nitpicky, but the IG publisher looks a lot nicer when you fix code, system and display separately, otherwise it puts a little json object in there if you fix the CodeableConcept, is there a way to change that?</p>



<a name="153934999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153934999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153934999">(Feb 02 2018 at 15:27)</a>:</h4>
<p>if you put that in the fixed value, then it must be exactly that. if you put it in pattern, then it must contain at least those elements, but any other elements are also possible</p>



<a name="153935003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935003">(Feb 02 2018 at 15:32)</a>:</h4>
<p>as for the nitpick.. there's no way to change that, though we can talk about it... but I for one don't think it would be better</p>



<a name="153935022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935022">(Feb 02 2018 at 16:15)</a>:</h4>
<p>Ok, so just to make sure I'm understanding:<br>
Fixing the display field will require that synonym exactly for conformance? And if a resource has a CodeableConcept with 2 codings from different systems, it will fail conformance if you have fixedCodeableConcept with a single coding, even if one of the two codings is equivalent to the the fixed one.</p>



<a name="153935030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935030">(Feb 02 2018 at 16:48)</a>:</h4>
<p>yes. unless you use pattern, instead of fixed</p>



<a name="153935034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935034">(Feb 02 2018 at 17:17)</a>:</h4>
<p>One more quick question Grahame, for the FHIR profiles, like the Observation profiles like HeartRate, I see on the main site, many of the fixed items have coding sliced which is then followed by a fixed system and code. Is the slicing necessary?</p>



<a name="153935043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935043">(Feb 02 2018 at 17:51)</a>:</h4>
<p>in that case yes, because of the purpose of those profiles. Those profiles say 'you must use this coding, whatever other codes you are going to use'. And we want to fix the display too while we are at it</p>



<a name="153935053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935053">(Feb 02 2018 at 18:10)</a>:</h4>
<p>So this is how one would say 'you can use other codings too, but this one has to be there'?</p>



<a name="153935054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935054">(Feb 02 2018 at 18:10)</a>:</h4>
<p>it's one way to do this. It's done this way to make it easier for further profiling to happen</p>



<a name="153935055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935055">(Feb 02 2018 at 18:11)</a>:</h4>
<p>Great, thank you, that is what I am trying to do, I will imitate this for fixing codes.</p>



<a name="153935146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935146">(Feb 03 2018 at 16:43)</a>:</h4>
<p>Just to be clear.   What I am hearing is....</p>
<p>having the pattern:</p>
<p>{<br>
  "coding" : [{<br>
    "system" : "(yours)",<br>
    "code" : "(yours}",<br>
"display":"(yours)"<br>
  }]<br>
}</p>
<p>is equivalent to slicing (open)  on  code and system?    I was never 100% clear about that and that is one reason why those profiles are explicitly fixed in a slice.  Also the rendered display is clearer to me at least.</p>



<a name="153935147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935147">(Feb 03 2018 at 16:46)</a>:</h4>
<p>What GG meant by " It's done this way to make it easier for further profiling to happen"    is that you can explictily add your own slices in a downstream profile that is built upon it.</p>



<a name="153935170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Proper/best%20way%20to%20fix%20a%20codeable%20concept/near/153935170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Stenerson <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Proper.2Fbest.20way.20to.20fix.20a.20codeable.20concept.html#153935170">(Feb 03 2018 at 20:48)</a>:</h4>
<p>Thats what I interpreted from what Grahame said, Eric. That patternCodeableConcept would be the same as slicing the coding element and fixing a code/system on that slice, but the slicing/fixing would allow for other coding elements. Hopefully this interpretation is correct.</p>
<p>And yes I agree that the rendered display is better how it was done in those observation profiles on <a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">hl7.org/fhir</a>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
