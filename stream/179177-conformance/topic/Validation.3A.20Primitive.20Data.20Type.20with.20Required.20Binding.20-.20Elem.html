---
layout: page
title: "FHIR Chat  · Validation: Primitive Data Type with Required Binding - Elem · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.3A.20Primitive.20Data.20Type.20with.20Required.20Binding.20-.20Elem.html">Validation: Primitive Data Type with Required Binding - Elem</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245763364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%3A%20Primitive%20Data%20Type%20with%20Required%20Binding%20-%20Elem/near/245763364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.3A.20Primitive.20Data.20Type.20with.20Required.20Binding.20-.20Elem.html#245763364">(Jul 12 2021 at 23:35)</a>:</h4>
<p>I'm pretty sure I know the answer to this but wanted to double-check. When validating (Java Validation Engine) a resource that has a primitive data type of 'code' where that coded value has a 'required' binding strength to its ValueSet and that code element cardinality is 0..1 and has a null value (not defined) but has an extension, the Validation Engine throws the following error:</p>
<p>"No code provided, and a code is required from the value set"</p>
<p>My question is - should the presence of the extension allow for the code element to be valid?</p>
<p>I believe the answer is "no" because of the 'required' binding but where do I find that in the specification? The Terminologies page definition of the <a href="http://hl7.org/fhir/terminologies.html#required">Required binding</a> states the following about "when profiling resources":</p>
<blockquote>
<p>The other place where this is used is <strong>when profiling resources</strong>, and there is agreement within a context of use that a specified set of codes are the only ones that can be used. In these cases, the data type SHALL contain one of the values in the value set.</p>
</blockquote>
<p>Does that satisfy this requirement?</p>
<hr>
<p>The example I have is an Observation with the following effectiveTiming definition:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code>  <span class="nt">"effectiveTiming"</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">"repeat"</span> <span class="p">:</span> <span class="p">{</span>
      <span class="nt">"dayOfWeek"</span> <span class="p">:</span> <span class="p">[</span> <span class="kc">null</span> <span class="p">],</span>
      <span class="nt">"_dayOfWeek"</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
        <span class="nt">"extension"</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
          <span class="nt">"url"</span> <span class="p">:</span> <span class="s2">"http://hl7.org/fhir/StructureDefinition/data-absent-reason"</span><span class="p">,</span>
          <span class="nt">"valueCode"</span> <span class="p">:</span> <span class="s2">"masked"</span>
        <span class="p">}</span> <span class="p">]</span>
      <span class="p">}</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">},</span>
</code></pre></div>
<p>The Timing.repeat.dayOfWeek matches the criteria given above. Per my question above, is this valid or is the generated error correct?</p>
<p>Thanks.</p>



<a name="245770789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%3A%20Primitive%20Data%20Type%20with%20Required%20Binding%20-%20Elem/near/245770789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.3A.20Primitive.20Data.20Type.20with.20Required.20Binding.20-.20Elem.html#245770789">(Jul 13 2021 at 01:45)</a>:</h4>
<p>A required binding <em>must</em> be met for the element to be present at all.  You can't evade it with an extension or any other mechanism.</p>



<a name="245819665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validation%3A%20Primitive%20Data%20Type%20with%20Required%20Binding%20-%20Elem/near/245819665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Ettema <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validation.3A.20Primitive.20Data.20Type.20with.20Required.20Binding.20-.20Elem.html#245819665">(Jul 13 2021 at 12:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  Thanks for the confirmation.  That's what I thought.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
