---
layout: page
title: "FHIR Chat  · creating a choice of identifiers using slicing · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/creating.20a.20choice.20of.20identifiers.20using.20slicing.html">creating a choice of identifiers using slicing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154016559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/creating%20a%20choice%20of%20identifiers%20using%20slicing/near/154016559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/creating.20a.20choice.20of.20identifiers.20using.20slicing.html#154016559">(Nov 08 2018 at 03:55)</a>:</h4>
<p>The DEQM requirement is for organization is to provide <em>at least</em> a provider NPI or an EID for an organization.   There were some other requirements such a aligning identifier type with NPI or EID.  so <a href="http://hl7.org/fhir/us/davinci-deqm/2018Sep/STU3/StructureDefinition-organization-deqm.html#formal-views-of-profile-content" target="_blank" title="http://hl7.org/fhir/us/davinci-deqm/2018Sep/STU3/StructureDefinition-organization-deqm.html#formal-views-of-profile-content">THIS</a> is what I came up with  to try to essentially create a choice of identifier systems but allow for other  identifiers too....  <span class="user-mention" data-user-id="191370">@Richard Ettema</span>  created a tracker finding issue with it and preapplied <a href="http://build.fhir.org/ig/HL7/davinci-deqm/StructureDefinition-organization-deqm.html#formal-views-of-profile-content" target="_blank" title="http://build.fhir.org/ig/HL7/davinci-deqm/StructureDefinition-organization-deqm.html#formal-views-of-profile-content">THIS</a>  which is prettier but does not constrain to require either an NPI or EID - you could add another identifier.  What is the best way to do this?  I'm thinking Richards slicing <em>plus</em> an invariant requiring one or the other identifier system? <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  <span class="user-mention" data-user-id="191336">@Michel Rutten</span> ?</p>



<a name="154016591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/creating%20a%20choice%20of%20identifiers%20using%20slicing/near/154016591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/creating.20a.20choice.20of.20identifiers.20using.20slicing.html#154016591">(Nov 08 2018 at 08:38)</a>:</h4>
<p>Given both identifiers have knows systems, create an invariant at the top level that checks for one of them.</p>



<a name="154016629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/creating%20a%20choice%20of%20identifiers%20using%20slicing/near/154016629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/creating.20a.20choice.20of.20identifiers.20using.20slicing.html#154016629">(Nov 08 2018 at 12:35)</a>:</h4>
<p>Agree.  <span class="user-mention" data-user-id="191370">@Richard Ettema</span>'s approach plus an invariant based on identifier.system should give you what you're looking for - and be relatively "pretty" - i.e. readable &amp; understandable by most folks.</p>



<a name="154016749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/creating%20a%20choice%20of%20identifiers%20using%20slicing/near/154016749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/creating.20a.20choice.20of.20identifiers.20using.20slicing.html#154016749">(Nov 08 2018 at 16:50)</a>:</h4>
<p>thanks!</p>



<a name="154016938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/creating%20a%20choice%20of%20identifiers%20using%20slicing/near/154016938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/creating.20a.20choice.20of.20identifiers.20using.20slicing.html#154016938">(Nov 08 2018 at 23:07)</a>:</h4>
<p>In HL7 AU we slice the same way but constrain the value of type differently. See <a href="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-organisation.html" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-organisation.html">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-organisation.html</a> .</p>
<p>I think that the constraint dv-1 in  <a href="http://build.fhir.org/ig/HL7/davinci-deqm/StructureDefinition-organization-deqm.html#formal-views-of-profile-content" target="_blank" title="http://build.fhir.org/ig/HL7/davinci-deqm/StructureDefinition-organization-deqm.html#formal-views-of-profile-content">Richard Ettema's design</a>  should have 'and' instead of 'or', as if both identifiers are supplied you will want both to have the correct type, not just one of them:<br>
" If present, <code>Identifier.type</code> SHALL be '<a href="http://hl7.org/fhir/v2/0203|PRN" target="_blank" title="http://hl7.org/fhir/v2/0203|PRN">http://hl7.org/fhir/v2/0203|PRN</a>' when <code>Identifier.system</code> = '<a href="http://hl7.org/fhir/sid/us-npi" target="_blank" title="http://hl7.org/fhir/sid/us-npi">http://hl7.org/fhir/sid/us-npi</a>', <br>
<strong>and</strong> <br>
<code>Identifier.type</code> SHALL be '<a href="http://hl7.org/fhir/v2/0203|TAX" target="_blank" title="http://hl7.org/fhir/v2/0203|TAX">http://hl7.org/fhir/v2/0203|TAX</a>' when <code>Identifier.system</code> = 'urn:oid:2.16.840.1.113883.4.4'."</p>



<a name="154016989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/creating%20a%20choice%20of%20identifiers%20using%20slicing/near/154016989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/creating.20a.20choice.20of.20identifiers.20using.20slicing.html#154016989">(Nov 09 2018 at 00:46)</a>:</h4>
<p>My explanation was wrong, the problem with 'or' is worse</p>
<blockquote>
<p>as if both identifiers are supplied you will want both to have the correct type, not just one of them</p>
</blockquote>
<p>with an 'or', if you have an identifier with a system that is neither '<a href="http://hl7.org/fhir/sid/us-npi" target="_blank" title="http://hl7.org/fhir/sid/us-npi">http://hl7.org/fhir/sid/us-npi</a>' nor 'urn:oid:2.16.840.1.113883.4.4', the invariant will be satisfied.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
