---
layout: page
title: "FHIR Chat  · Extension on element with multiple types · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20on.20element.20with.20multiple.20types.html">Extension on element with multiple types</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="165035599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20on%20element%20with%20multiple%20types/near/165035599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20on.20element.20with.20multiple.20types.html#165035599">(May 07 2019 at 02:06)</a>:</h4>
<p>This came from IPS. There is a <a href="https://github.com/HL7/fhir-ips/blob/master/resources/MedicationStatement-uv-ips.structuredefinition.xml" target="_blank" title="https://github.com/HL7/fhir-ips/blob/master/resources/MedicationStatement-uv-ips.structuredefinition.xml">profile on MedicationStatement</a> that seeks to extend MedicationStatement.effective[x] (dateTime | Period).</p>
<p>The extension should apply on both effectiveDateTime and effectivePeriod. Forge 21.0 for R4 (<span class="user-mention" data-user-id="191336">@Michel Rutten</span>) will happily allow you to do this by first defining two type slices on effective, one per type, and then slice both slices again for the extension (basically the same thing twice. When you send that through the IG Publisher 0.9.5 (<span class="user-mention" data-user-id="191316">@Grahame Grieve</span>) this is seen as illegal. In any case it is a cumbersome solution and does not scale well as the number of types goes up.</p>
<p>The other option I could think of is just handcrafting the slicing on MedicationStatement.effective[x].extension directly and define the extension once only. That seemed more appropriate, but is not supported by Forge, which will silently throw away that extension.  IG Publisher will render that as expected</p>
<p>So question remains: what's the recommended way to define an extension on a polymorphic element?</p>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span></p>



<a name="165055135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20on%20element%20with%20multiple%20types/near/165055135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20on.20element.20with.20multiple.20types.html#165055135">(May 07 2019 at 09:16)</a>:</h4>
<p>we discussed this at the last meeting, and decided on your option 2, and I believe that Rob and I got it working - but I can't speak to when Forge will update for that</p>



<a name="165055266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20on%20element%20with%20multiple%20types/near/165055266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20on.20element.20with.20multiple.20types.html#165055266">(May 07 2019 at 09:18)</a>:</h4>
<p>Right.  We did decide on option 2 and I believe that is working (I can verify).  Hadn't tried it out yet with Forge.</p>



<a name="165063056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20on%20element%20with%20multiple%20types/near/165063056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20on.20element.20with.20multiple.20types.html#165063056">(May 07 2019 at 11:37)</a>:</h4>
<p>Well that's instant satisfaction :-) Thanks both!</p>



<a name="165071875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20on%20element%20with%20multiple%20types/near/165071875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20on.20element.20with.20multiple.20types.html#165071875">(May 07 2019 at 13:46)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191375">@Alexander Henket</span>, let's discuss this during a coffee break.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
