---
layout: page
title: "FHIR Chat  · References between parameters · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html">References between parameters</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="276302358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276302358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276302358">(Mar 23 2022 at 08:46)</a>:</h4>
<p>I was wondering: Is there any convention of how resources in Parameters (in-  or output of an operation) can reference each other?<br>
Since we don't have a mechanism like the fullUrl in a Bundle...</p>



<a name="276303328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276303328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276303328">(Mar 23 2022 at 08:56)</a>:</h4>
<p>I found the following in the description of the Parameters resource:</p>
<blockquote>
<p><strong>Internal References</strong> When internal references are resolved in a resource in a parameter.resource, the resolution stops at parameter.resource. This allows resources to appear more than once in a Parameters resource, and also means that resources cannot reference content in another resource using an internal reference (except for references inside contained resources)<br>
<strong>References</strong>  When resolving references in resources, the applicable Operation Definition may specify how references may be resolved between parameters. If a reference cannot be resolved between the parameters, the application should fall back to it's general resource resolution methods</p>
</blockquote>
<p>Can anyone explain the difference between "internal References" and "References" in this context?</p>



<a name="276303510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276303510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276303510">(Mar 23 2022 at 08:57)</a>:</h4>
<p>Does internal mean contained references, like #&lt;id&gt;? But their resolution always stops at the root of the Resource, no?</p>



<a name="276341082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276341082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276341082">(Mar 23 2022 at 14:29)</a>:</h4>
<p>(deleted)</p>



<a name="276341187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276341187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276341187">(Mar 23 2022 at 14:29)</a>:</h4>
<p>(deleted)</p>



<a name="276342023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276342023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276342023">(Mar 23 2022 at 14:35)</a>:</h4>
<p><a href="https://build.fhir.org/references-definitions.html#Reference.reference">https://build.fhir.org/references-definitions.html#Reference.reference</a> mentions internal fragment references, and the short description of this same element mentions " internal references". From <a href="https://build.fhir.org/references.html">https://build.fhir.org/references.html</a> almost every mention of internal references seems to be dealing with reference that include <code>#</code> fragment suffixes.</p>



<a name="276342657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276342657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276342657">(Mar 23 2022 at 14:39)</a>:</h4>
<p>Under this interpretation, the phrase:</p>
<blockquote>
<p>This allows a resource to appear more than once in a parameters resource</p>
</blockquote>
<p>Is basically saying that redundant content (e.g. two resources each including the same id and meta.versionId) can be included at different places within a <code>Parameters.descendants().resource</code> tree.</p>



<a name="276342977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276342977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276342977">(Mar 23 2022 at 14:41)</a>:</h4>
<p>You have to work but none of this is really clear to me, and without examples the languages cited above Simone is unlikely to lead to consistent implantations.</p>
<p>I think we ought to have a built-in default semantics for resolving references within Parameters -- or maybe a couple of different resolution methods that and operation definition can choose from .. but we should not force every mplementation guide to have define their own from scratch.</p>



<a name="276348763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276348763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276348763">(Mar 23 2022 at 15:16)</a>:</h4>
<p>That would indeed be very helpful!</p>



<a name="276361208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/276361208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#276361208">(Mar 23 2022 at 16:28)</a>:</h4>
<p>I asked for something formal and "define it in your IG" was the outcome of the discussion.</p>



<a name="277296062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/277296062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#277296062">(Mar 31 2022 at 15:11)</a>:</h4>
<p>I'd much rather have something formal that is considered "best practice" with the option to "define it in your IG" if you don't like it <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="277299323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/277299323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#277299323">(Mar 31 2022 at 15:32)</a>:</h4>
<p>I am currently trying to "define it in my IG" and I am quite uncertain about what "best practice" could be here.</p>
<p>My idea would be to preferably use UUIDs with the referencing resource having <code>reference="urn:uuid:&lt;uuid&gt;</code> and the target resource having <code>id="&lt;uuid&gt;"</code><br>
Next best thing would be relative URLs with the referencing Resource having<code>reference="&lt;Resourcetype&gt;/&lt;id&gt;"</code> and the target resource having <code>id="&lt;id&gt;"</code><br>
Should absolute URLs be allowed too?<br>
Would it make sense to instead just generalize that "the id part" of the reference should match the id of the target and make no assumptions about the kind of URI thats used?<br>
Do we have a common definition of what "the id part" of an URI is, considering the different shape and form of URLs and UUIDs?<br>
Would it be simpler to allow <em>only</em> URLs since the id part could easily be populated with a UUID if the Client wants to assign temporary ids?</p>



<a name="277301315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/277301315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#277301315">(Mar 31 2022 at 15:46)</a>:</h4>
<p>What I've done is use relative references and indicated that the references are resolved within the context of the Parameters instance.  (Because I find UUIDs to be a pain.)</p>



<a name="277422695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/References%20between%20parameters/near/277422695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/References.20between.20parameters.html#277422695">(Apr 01 2022 at 14:02)</a>:</h4>
<p>I agree. The only argument I could make for UUIDs is that there is better alignment between Transaction and Operation.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
