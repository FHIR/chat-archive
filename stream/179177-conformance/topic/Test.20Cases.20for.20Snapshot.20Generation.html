---
layout: page
title: "FHIR Chat  · Test Cases for Snapshot Generation · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html">Test Cases for Snapshot Generation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153879602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879602">(Mar 23 2017 at 22:35)</a>:</h4>
<p>Somehow, at least one signficant error was not picked up in the QA process for release 3. We're going to have to do a technical correction for it. </p>



<a name="153879603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879603">(Mar 23 2017 at 22:35)</a>:</h4>
<p>I'm working on a set of test cases for snapshot generation. Right now, they have the following form:</p>



<a name="153879604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879604">(Mar 23 2017 at 22:36)</a>:</h4>
<p>- a test script, with a series of operations<br>
- each operation is $snapshot, with a differential provided, referring directly to to a base definition or to one o the other profiles in the test script <br>
- for each operation, there's a series of fhirpath statements that must be true about the snapshot</p>



<a name="153879605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879605">(Mar 23 2017 at 22:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> is this something that you would support in the C# context? @hat about <span class="user-mention" data-user-id="191351">@Chris Grenz</span> ?</p>



<a name="153879791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879791">(Mar 26 2017 at 22:51)</a>:</h4>
<p>Unfortunately I don't have a fluentpath parser working...what's the error?</p>



<a name="153879793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879793">(Mar 27 2017 at 01:39)</a>:</h4>
<p>not sure how to describe it yet</p>



<a name="153879956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879956">(Mar 27 2017 at 21:18)</a>:</h4>
<p>So an arcane and deeply technical arising out of these tests. </p>



<a name="153879957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879957">(Mar 27 2017 at 21:19)</a>:</h4>
<p>Should you be able to walk into a type in a differential without explicitly doing so </p>



<a name="153879958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879958">(Mar 27 2017 at 21:19)</a>:</h4>
<p>to illustrate, you might decide to profile Patient, and walk into the identifier:</p>



<a name="153879959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879959">(Mar 27 2017 at 21:19)</a>:</h4>
<p>so you have a differential like this:<br>
Patient<br>
Patient.identifier<br>
Patient.identifier.system fixed = [some URL]</p>



<a name="153879960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879960">(Mar 27 2017 at 21:20)</a>:</h4>
<p>but should you be allowed to have a differential like this:</p>



<a name="153879961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879961">(Mar 27 2017 at 21:20)</a>:</h4>
<p>Patient.identiifer.system fixed = [some URL]</p>



<a name="153879962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879962">(Mar 27 2017 at 21:20)</a>:</h4>
<p>e.g. just jump straight into the deep path</p>



<a name="153879980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879980">(Mar 27 2017 at 22:37)</a>:</h4>
<p>My answer is "sure" - unless there's a reason why from a tooling perspective that's problematic.</p>



<a name="153879981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879981">(Mar 27 2017 at 22:38)</a>:</h4>
<p>What additional information does having a "bare" element in the differential with the path "Patient.identifier" provide to the tooling - or anything else?</p>



<a name="153879983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879983">(Mar 27 2017 at 22:38)</a>:</h4>
<p>Perhaps it makes rendering easier?</p>



<a name="153879984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879984">(Mar 27 2017 at 22:41)</a>:</h4>
<p>it's related to the sequence of thought in the snapshot generation - you're walking the sequence in the base, looking for profiling in the differential</p>



<a name="153879985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879985">(Mar 27 2017 at 22:41)</a>:</h4>
<p>then, having found something, you look at whether you walk into that</p>



<a name="153879987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879987">(Mar 27 2017 at 23:04)</a>:</h4>
<p>I have no objection to requiring it.  As you recently pointed out to me, we have to do it if there's a sliceName on the parent.  Requiring regardless of whether there's a sliceName would make things consistent.</p>



<a name="153879995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153879995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153879995">(Mar 28 2017 at 00:32)</a>:</h4>
<p>figured out to do it in the tools</p>



<a name="153880049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880049">(Mar 28 2017 at 10:52)</a>:</h4>
<p>Sure, though I'd love to have the .NET/Java snapshot generators closely aligned (we discussed the current differences), so I can run a compare over all differentials/snapshots in the build.  Sure this won't hit every code path but would catch things we don't think about creating fhirpath statements!</p>



<a name="153880227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880227">(Mar 29 2017 at 09:17)</a>:</h4>
<p>"Should you be able to walk into a type in a differential without explicitly doing so"<br>
The .NET snapshot generator first completes the differential by adding missing parent elements before further processing. As Lloyd mentions, parent elements with a slice name must always be included. But the diff does not strictly need to include unnamed parent elements.</p>



<a name="153880296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880296">(Mar 29 2017 at 19:04)</a>:</h4>
<p>IMO, there should be no requirement in a differential to include anything you're not changing.  Sounds like that's where this thread already is though, so, um.. ditto? ;)</p>



<a name="153880301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880301">(Mar 29 2017 at 19:32)</a>:</h4>
<p>Differentials do need to include elements with slice names to provide context for child elements - because we can't rely on ids for navigation.  So it's not true that the *only* time elements appear in differential is when you're chainging something</p>



<a name="153880303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880303">(Mar 29 2017 at 19:33)</a>:</h4>
<p>We can't rely on ids for navigation? Why not...that was the whole point!</p>



<a name="153880304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880304">(Mar 29 2017 at 19:35)</a>:</h4>
<p><a href="http://hl7.org/fhir/elementdefinition.html#id" target="_blank" title="http://hl7.org/fhir/elementdefinition.html#id">http://hl7.org/fhir/elementdefinition.html#id</a> makes me think we can</p>



<a name="153880305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880305">(Mar 29 2017 at 19:36)</a>:</h4>
<p>I agree though that a *new* slice can't be introduced only via the id since the sliceName element must be set at the slice root.</p>



<a name="153880306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880306">(Mar 29 2017 at 19:39)</a>:</h4>
<p>But I define a slice in Profile A and then create Profile B based on Profile A, I needn't restate the slice root to modify a sub-element of the slice:</p>
<p><strong>Profile A differential:</strong><br>
Patient.identifier (slicing)<br>
Patient.identifier:mrn (sliceName)</p>
<p><strong>Profile B differential:</strong><br>
Patient.identifier:mrn.type.coding.code (constraint)</p>



<a name="153880314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880314">(Mar 29 2017 at 19:46)</a>:</h4>
<p>I didn't think we had mandated that.  Will let <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> respond because he'd been the one who was reluctant</p>



<a name="153880315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880315">(Mar 29 2017 at 19:47)</a>:</h4>
<p>There's SHALLs on existence and format.  I think it's done (although I'm always happy to hear Grahame out!).</p>



<a name="153880316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880316">(Mar 29 2017 at 19:52)</a>:</h4>
<p>actually, what we didn't mandate is that an ElementDefinition has an id. I'm populating the Ids whenever I see them, but we have not said that differentials SHALL contain ids. And when they don't, you can't infer them correctly unless the slice is defined </p>



<a name="153880317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880317">(Mar 29 2017 at 19:53)</a>:</h4>
<p>"In addition to the path, every ElementDefinition SHALL have a populated id,"</p>



<a name="153880318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880318">(Mar 29 2017 at 19:53)</a>:</h4>
<p>oh. so we did? </p>



<a name="153880319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880319">(Mar 29 2017 at 19:53)</a>:</h4>
<p>yep</p>



<a name="153880320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880320">(Mar 29 2017 at 19:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191336">@Michel Rutten</span> is forge populating the ids for R3?</p>



<a name="153880377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880377">(Mar 30 2017 at 08:17)</a>:</h4>
<p>The Snapshot generator in the .NET API for STU3 will generated element id's according to the proposed format. Forge for STU3 will also support this. However I doubt that it's safe to assume that input profiles will always have element id's in the canonical format. So I'm aiming for our implementations to gracefully handle missing element id's.</p>



<a name="153880413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880413">(Mar 30 2017 at 18:17)</a>:</h4>
<p>Certainly within HL7 when authoring by hand or with spreadsheets, we don't populate ids in the differential.  Those ids all get assigned as part of the snapshot generation process</p>



<a name="153880431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880431">(Mar 30 2017 at 19:05)</a>:</h4>
<p>Some of my tooling makes up for missing ids, but in STU3, missing ids in snapshot or differential is non-conformant and should be treated as such.</p>



<a name="153880435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880435">(Mar 30 2017 at 19:08)</a>:</h4>
<p>Given that they can be generated - and are easy enough to mess up, I really don't want them mandated in the differential if no snapshot is present.  Creating profiles by hand is enough of a pain as it is.  (And until the tools are robust enough to handle all the edge cases, we need to support hand-edited profiles.)</p>



<a name="153880441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Test%20Cases%20for%20Snapshot%20Generation/near/153880441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Test.20Cases.20for.20Snapshot.20Generation.html#153880441">(Mar 30 2017 at 19:24)</a>:</h4>
<p>I'd argue that mandating ids relieves the complexity of relying on ordering in tooling and actually makes the profiles <strong>easier</strong> to hand-edit.  IMHO...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
