---
layout: page
title: "FHIR Chat  · Array values in differentials · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Array.20values.20in.20differentials.html">Array values in differentials</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205933275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Array%20values%20in%20differentials/near/205933275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Array.20values.20in.20differentials.html#205933275">(Aug 04 2020 at 17:10)</a>:</h4>
<p>The spec is unclear regarding how <code>ElementDefinition</code> properties that are arrays should be handled in <code>differentials</code>.  The basic question is that if a parent definition has an element with <code>foo: [a, b, c]</code> and a profile's corresponding differential element has <code>foo: [d]</code>, what is the resulting snapshot?  Does the differential value <em>replace</em> the whole array (e.g., snapshot is <code>foo: [d]</code>) or is the differential value <em>additive</em> (e.g., snapshot is <code>foo: [a, b, c, d]</code>)?</p>
<p>It seems that maybe it is context dependent.  For example, for <code>ElementDefinition.type</code>, the type array in the differential element definitely <em>replaces</em> the inherited type array (otherwise there would be no way to narrow types).  BUT... looking at some existing IGs, it looks like <code>ElementDefinition.constraints</code> is <em>additive</em> (e.g., the differential can list only <em>new</em> constraints, but the snapshot will contain new <em>and</em> inherited constraints).</p>
<p>Are these rules outlined anywhere?  We need a definitive approach to ensure we generate the correct differentials in SUSHI.</p>



<a name="207624746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Array%20values%20in%20differentials/near/207624746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Array.20values.20in.20differentials.html#207624746">(Aug 21 2020 at 11:44)</a>:</h4>
<p>Ping.  Does no one know how this is supposed to work?</p>



<a name="207625172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Array%20values%20in%20differentials/near/207625172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Array.20values.20in.20differentials.html#207625172">(Aug 21 2020 at 11:51)</a>:</h4>
<p>there's an outstanding task to write this up somewhere</p>



<a name="207625226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Array%20values%20in%20differentials/near/207625226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Array.20values.20in.20differentials.html#207625226">(Aug 21 2020 at 11:52)</a>:</h4>
<p>there is a set answer, represented in the snap shot tests</p>



<a name="207625254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Array%20values%20in%20differentials/near/207625254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Array.20values.20in.20differentials.html#207625254">(Aug 21 2020 at 11:52)</a>:</h4>
<p>constraints are additive. Types are special and how that works is written up in the spec. Differentials... not sure</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
