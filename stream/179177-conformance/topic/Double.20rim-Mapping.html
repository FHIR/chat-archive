---
layout: page
title: "FHIR Chat  · Double rim-Mapping · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Double.20rim-Mapping.html">Double rim-Mapping</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153918051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Double%20rim-Mapping/near/153918051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Double.20rim-Mapping.html#153918051">(Nov 07 2017 at 18:08)</a>:</h4>
<p>Is there a particular reason why all elements in Forge have two indistinguishable rim-Mappings, neither of which can be deleted?<br>
<a href="/user_uploads/10155/yeplfAU50SpTx8HDDv1W6ktV/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/yeplfAU50SpTx8HDDv1W6ktV/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/yeplfAU50SpTx8HDDv1W6ktV/pasted_image.png"></a></div>



<a name="153918067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Double%20rim-Mapping/near/153918067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Double.20rim-Mapping.html#153918067">(Nov 07 2017 at 20:01)</a>:</h4>
<p>These mappings are inherited, probably from type profiles and/or e.g. Element.</p>



<a name="153918074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Double%20rim-Mapping/near/153918074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Double.20rim-Mapping.html#153918074">(Nov 07 2017 at 20:35)</a>:</h4>
<p>Is that a bug in the spec then? I don't see how two identical mappings would make sense...</p>



<a name="153918158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Double%20rim-Mapping/near/153918158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Double.20rim-Mapping.html#153918158">(Nov 08 2017 at 09:08)</a>:</h4>
<p>Guess the snapshot generator doesn't merge these inherited mappings because "n/a" != "N/A".</p>



<a name="153918159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Double%20rim-Mapping/near/153918159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Double.20rim-Mapping.html#153918159">(Nov 08 2017 at 09:16)</a>:</h4>
<p>Inspecting Profiles-types.xml:</p>
<p>Root element definition of type Element:</p>
<div class="codehilite"><pre><span></span>  &lt;element&gt;
    &lt;path value=&quot;Element&quot; /&gt;
    &lt;!-- ... --&gt;
    &lt;mapping&gt;
      &lt;identity value=&quot;rim&quot; /&gt;
      &lt;map value=&quot;n/a&quot; /&gt;
    &lt;/mapping&gt;
  &lt;/element&gt;
</pre></div>


<p>Root element definition of type Extension (derived from Element):</p>
<div class="codehilite"><pre><span></span>  &lt;element&gt;
    &lt;path value=&quot;Extension&quot; /&gt;
    &lt;!-- ... --&gt;
    &lt;mapping&gt;
      &lt;identity value=&quot;rim&quot; /&gt;
      &lt;map value=&quot;N/A&quot; /&gt;
    &lt;/mapping&gt;
  &lt;/element&gt;
</pre></div>


<p>The .NET snapshot generator tries to merge inherited mappings that are identical.<br>
In this case, the inherited RIM mappings aren't merged because "n/a" != "N/A" (case sensitive comparison).</p>
<p>So we could:<br>
1) Harmonize the casing of all the RIM mappings in the core definition<br>
2) Define that comparison of mapping.map values is case-insensitive (?)</p>



<a name="153918174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Double%20rim-Mapping/near/153918174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Double.20rim-Mapping.html#153918174">(Nov 08 2017 at 13:24)</a>:</h4>
<p>non-case-sensitive will be reasonable most of the time, but it's theoretically possible it could create problems in rare edge cases</p>



<a name="153918184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Double%20rim-Mapping/near/153918184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Double.20rim-Mapping.html#153918184">(Nov 08 2017 at 14:31)</a>:</h4>
<p>Indeed, but how do we determine when it is acceptible/valid to perform case-insensitive comparison?<br>
So I'd prefer to correct the mappings in the core definitions.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
