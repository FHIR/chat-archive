---
layout: page
title: "FHIR Chat  · Discriminator min and max · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html">Discriminator min and max</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="163445024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163445024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163445024">(Apr 16 2019 at 06:43)</a>:</h4>
<p>This topic may have been covered before so hope is an easy answer.   I am generating a pretty summary of a differential from  the structure definition</p>



<a name="163445157"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163445157" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163445157">(Apr 16 2019 at 06:46)</a>:</h4>
<p>And “backfilling” data form using the generated snapshot  from ig publisher.  The  summary text for discriminator element was generated  which I did not anticipate</p>



<a name="163445255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163445255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163445255">(Apr 16 2019 at 06:49)</a>:</h4>
<p>But it alerted me to the fact that I had defined the min to 0.   The first slice’s min is 1.  So my question is twofold.  Should I be assigning a min max on the discriminator element</p>



<a name="163445362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163445362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163445362">(Apr 16 2019 at 06:51)</a>:</h4>
<p>because it does not render in the ig pub possibly   Intentionally.</p>



<a name="163445447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163445447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163445447">(Apr 16 2019 at 06:52)</a>:</h4>
<p>Secondly which min takes precedence the slice or the discriminatir’s</p>



<a name="163452942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163452942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163452942">(Apr 16 2019 at 09:14)</a>:</h4>
<p>The validator verifies all specified cardinality constraints, both on the sliced elements as well as on the individual named slices. If some constraints are in conflict (e.g. sliced element specifies max &lt; 1 and named slice specifies min &gt; 2), than no instance will ever match (solution space is the empty set).</p>



<a name="163463216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163463216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163463216">(Apr 16 2019 at 12:12)</a>:</h4>
<p>So if the discriminator slice is 0..* and slice 1 is 1..1 then is slice 1 “required”.   Will a validation error occur  if slice1 is absent.?</p>



<a name="163463243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163463243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163463243">(Apr 16 2019 at 12:13)</a>:</h4>
<p>I mean discriminator element</p>



<a name="163463315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163463315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163463315">(Apr 16 2019 at 12:14)</a>:</h4>
<p>To me thAt says if you  have a slice you at least have to slice1.</p>



<a name="163463361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163463361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163463361">(Apr 16 2019 at 12:15)</a>:</h4>
<p>Vs 1..* for discriminator and 1..1 for slice1.</p>



<a name="163463551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163463551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163463551">(Apr 16 2019 at 12:18)</a>:</h4>
<p>Yes, instances must conform to both constraints.<br>
Example:</p>
<ul>
<li>discriminator slice : 0...1</li>
<li>named slice  A: 2...3</li>
</ul>
<p>Here, the profile requires at least 2 occurrences of slice A, but the slice group may contain at most 1 element =&gt; no solution is possible.</p>
<p>Example 2:</p>
<ul>
<li>discriminator slice: 1...2</li>
<li>named slice A: 0...1</li>
</ul>
<p>Here named slice A is optional, but the slice group requires at least a single element.</p>



<a name="163474925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163474925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163474925">(Apr 16 2019 at 14:38)</a>:</h4>
<p>thanks for your Patience Michel.   so are these two equivalent?</p>
<p>Example 1:</p>
<ul>
<li>discriminator slice : 0...*</li>
<li>named slice  A: 1..1</li>
</ul>
<p>Example 2:</p>
<ul>
<li>discriminator slice : 1...*</li>
<li>named slice  A: 1..1</li>
</ul>



<a name="163474996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163474996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163474996">(Apr 16 2019 at 14:39)</a>:</h4>
<p>Both require at least slice A?</p>



<a name="163475959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163475959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163475959">(Apr 16 2019 at 14:48)</a>:</h4>
<p>Correct.  Form #2 is preferred as it's less likely to confuse implementers.</p>



<a name="163477779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163477779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163477779">(Apr 16 2019 at 15:06)</a>:</h4>
<p>So how to  say...."if you have  sliced element "Foo" you need to at least have slice A"</p>



<a name="163477805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163477805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163477805">(Apr 16 2019 at 15:07)</a>:</h4>
<p>...not my use case but am curious...</p>



<a name="163478514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163478514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163478514">(Apr 16 2019 at 15:15)</a>:</h4>
<p>Invariant, I guess.</p>



<a name="163628584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163628584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163628584">(Apr 18 2019 at 07:16)</a>:</h4>
<p>Interesting example... do you think this is a frequent use case?</p>



<a name="163667030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Discriminator%20min%20and%20max/near/163667030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Discriminator.20min.20and.20max.html#163667030">(Apr 18 2019 at 16:31)</a>:</h4>
<p>I don't have one in mind but that is what I originally thought example one meant.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
