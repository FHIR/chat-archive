---
layout: page
title: "FHIR Chat  · Duplicate Properties in JSON · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html">Duplicate Properties in JSON</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173473124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173473124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173473124">(Aug 18 2019 at 06:01)</a>:</h4>
<p>This:</p>
<div class="codehilite"><pre><span></span> <span class="p">{</span><span class="err">“resourceType”:“Patient”,</span> <span class="err">“active”:false,</span> <span class="err">“active”:true</span><span class="p">}</span>
</pre></div>


<p>In this case, should the validator make this an error or a warning?</p>



<a name="173473173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173473173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173473173">(Aug 18 2019 at 06:03)</a>:</h4>
<p>if you think it's an error, on what do you base your argument? (quote from a standard please)</p>



<a name="173512882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173512882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173512882">(Aug 19 2019 at 03:03)</a>:</h4>
<p>I'm confused - active is 0..1</p>



<a name="173513894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173513894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173513894">(Aug 19 2019 at 03:35)</a>:</h4>
<p>There’s only one active property...</p>



<a name="173519344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173519344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173519344">(Aug 19 2019 at 06:14)</a>:</h4>
<p>I think it should be an error, <a href="http://www.hl7.org/fhir/json.html" target="_blank" title="http://www.hl7.org/fhir/json.html">http://www.hl7.org/fhir/json.html</a> says: Property names SHALL be unique. Note: this is not explicitly stated in the original JSON specification,so stated for clarity here</p>



<a name="173530148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173530148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173530148">(Aug 19 2019 at 09:46)</a>:</h4>
<p>oh I missed that</p>



<a name="173530895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173530895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173530895">(Aug 19 2019 at 09:58)</a>:</h4>
<p>hmm, the validator already gives this error:</p>



<a name="173530896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173530896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173530896">(Aug 19 2019 at 09:58)</a>:</h4>
<p><code>FATAL: (document): Error parsing JSON: Error parsing JSON source: Duplicated property name: active at Line 10 (path=[/true])</code></p>



<a name="173530941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173530941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173530941">(Aug 19 2019 at 09:59)</a>:</h4>
<p>I added a test case to make sure.</p>



<a name="173554079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173554079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mukesh Sharma <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173554079">(Aug 19 2019 at 15:42)</a>:</h4>
<blockquote>
<p>hmm, the validator already gives this error:</p>
</blockquote>
<p>But why does the HAPI library 3.7.0 FhirValidator not give this error?</p>



<a name="173567664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173567664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173567664">(Aug 19 2019 at 18:37)</a>:</h4>
<p>I don</p>



<a name="173567681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173567681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173567681">(Aug 19 2019 at 18:37)</a>:</h4>
<p>I don't know. it's the same code, so it should. DOes the HAPI 4.0.0 one give the error?</p>



<a name="173674039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173674039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173674039">(Aug 20 2019 at 16:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="173679664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173679664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173679664">(Aug 20 2019 at 17:50)</a>:</h4>
<p>Which JSON parser returns duplicate keys and how? Or is the validation done before parsing? Parsers in Clojure, I use, return maps for JSON objects. Maps can't have duplicate keys.</p>



<a name="173684364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173684364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173684364">(Aug 20 2019 at 18:47)</a>:</h4>
<p>They typically don't return the duplicates, but some parsers will just ignore them, as opposed to raising an error during parsing.</p>



<a name="173695761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173695761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173695761">(Aug 20 2019 at 21:00)</a>:</h4>
<p>the validator uses a custom json parser in order to get line / col number, and the custom parser picks it up. So that's useful - if you pass the bytes to the validator, it can pick up this problem. But if you use any other parser, and then pass the resulting object to the validator, it won't report this problem because the source parser (any other json parser) will hide the problem somehow</p>



<a name="173772352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Duplicate%20Properties%20in%20JSON/near/173772352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Kiel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Duplicate.20Properties.20in.20JSON.html#173772352">(Aug 21 2019 at 07:57)</a>:</h4>
<p>Yes my parser just returns one of the key-value pairs.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
