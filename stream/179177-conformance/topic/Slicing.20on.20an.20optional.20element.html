---
layout: page
title: "FHIR Chat  · Slicing on an optional element · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20an.20optional.20element.html">Slicing on an optional element</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="164108755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20an%20optional%20element/near/164108755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20an.20optional.20element.html#164108755">(Apr 24 2019 at 18:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191447">@Mark Kramer</span> Looking through <a href="http://standardhealthrecord.org/guides/mcode/index.html" target="_blank" title="http://standardhealthrecord.org/guides/mcode/index.html">http://standardhealthrecord.org/guides/mcode/index.html</a> -- super cool!  Quick question on profiles... I clicked around to:</p>
<p><a href="http://standardhealthrecord.org/guides/mcode/StructureDefinition-shr-core-BodyHeight.json" target="_blank" title="http://standardhealthrecord.org/guides/mcode/StructureDefinition-shr-core-BodyHeight.json">http://standardhealthrecord.org/guides/mcode/StructureDefinition-shr-core-BodyHeight.json</a></p>
<p>and found: </p>
<div class="codehilite"><pre><span></span>      {
        &quot;id&quot;: &quot;Observation.code.coding-Fixed-8302-2.code&quot;,
        &quot;path&quot;: &quot;Observation.code.coding.code&quot;,
        &quot;name&quot;: &quot;Observation.code.coding-Fixed-8302-2.code&quot;,
        &quot;short&quot;: &quot;Symbol in syntax defined by the system&quot;,
        &quot;definition&quot;: &quot;A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).&quot;,
        &quot;requirements&quot;: &quot;Need to refer to a particular code in the system.&quot;,
        &quot;min&quot;: 0,
        &quot;max&quot;: &quot;1&quot;,
        &quot;type&quot;: [
          {
            &quot;code&quot;: &quot;code&quot;
          }
        ],
        &quot;fixedCode&quot;: &quot;8302-2&quot;,
</pre></div>


<p>which seems to say that the code is fixed but the element is <em>optional</em>. Is this intentional? (I'm not sure how to interpret it, and by comparison <a href="http://build.fhir.org/bodyheight.profile.json" target="_blank" title="http://build.fhir.org/bodyheight.profile.json">http://build.fhir.org/bodyheight.profile.json</a> makes the equivalent element required:</p>
<div class="codehilite"><pre><span></span>    {
      &quot;id&quot; : &quot;Observation.code.coding:BodyHeightCode.code&quot;,
      &quot;path&quot; : &quot;Observation.code.coding.code&quot;,
      &quot;short&quot; : &quot;Symbol in syntax defined by the system&quot;,
      &quot;definition&quot; : &quot;A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).&quot;,
      &quot;requirements&quot; : &quot;Need to refer to a particular code in the system.&quot;,
      &quot;min&quot; : 1,
      &quot;max&quot; : &quot;1&quot;,
      &quot;base&quot; : {
        &quot;path&quot; : &quot;Coding.code&quot;,
        &quot;min&quot; : 0,
        &quot;max&quot; : &quot;1&quot;
      },
      &quot;type&quot; : [{
        &quot;code&quot; : &quot;code&quot;
      }],
      &quot;fixedCode&quot; : &quot;8302-2&quot;,
</pre></div>



<a name="164109020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20an%20optional%20element/near/164109020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20an.20optional.20element.html#164109020">(Apr 24 2019 at 18:54)</a>:</h4>
<p>For this matter, I'm also wondering whether the ids should use colons instead of dashes, like <code>Observation.code.coding:Fixed-8302-2.code</code> instead of <code>Observation.code.coding-Fixed-8302-2.code</code>?</p>



<a name="164485220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20an%20optional%20element/near/164485220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20an.20optional.20element.html#164485220">(Apr 29 2019 at 20:20)</a>:</h4>
<p>For now I've submitted a bug to CIMPL (<a href="https://github.com/standardhealth/shr-cli/issues/199" target="_blank" title="https://github.com/standardhealth/shr-cli/issues/199">https://github.com/standardhealth/shr-cli/issues/199</a>).</p>



<a name="164502228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20an%20optional%20element/near/164502228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20an.20optional.20element.html#164502228">(Apr 30 2019 at 01:07)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191315">@Josh Mandel</span> -- as for the card being <code>0..1</code> instead of <code>1..1</code> -- I agree.  That appears to be a bug in the tooling.  I <em>thought</em> that we set the card to <code>1..1</code> whenever we fixed something on the element, but obviously that's not the case.</p>



<a name="164502489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20an%20optional%20element/near/164502489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20an.20optional.20element.html#164502489">(Apr 30 2019 at 01:13)</a>:</h4>
<p>As for the id, I'd <em>love</em> to use <code>:</code> instead of <code>-</code>, but I ran into a little-known and even-littler-discussed secret of DSTU2: technically <code>:</code> (and even <code>[</code> and <code>]</code>) are <em>not allowed</em> in DSTU2 <code>id</code>s.  It's spelled out in the DSTU2 spec here: <a href="http://hl7.org/fhir/DSTU2/datatypes.html#id" target="_blank" title="http://hl7.org/fhir/DSTU2/datatypes.html#id">http://hl7.org/fhir/DSTU2/datatypes.html#id</a></p>



<a name="164502580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Slicing%20on%20an%20optional%20element/near/164502580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Slicing.20on.20an.20optional.20element.html#164502580">(Apr 30 2019 at 01:15)</a>:</h4>
<p>There's some unresolved conversation about it <a href="#narrow/stream/179252-IG-creation/topic/DSTU2.20invalid.20ids/near/154015209" title="#narrow/stream/179252-IG-creation/topic/DSTU2.20invalid.20ids/near/154015209">here</a> and <a href="#narrow/stream/179252-IG-creation/topic/Rendering.20Argo.20extensions.20in.20custom.20IG/near/162366288" title="#narrow/stream/179252-IG-creation/topic/Rendering.20Argo.20extensions.20in.20custom.20IG/near/162366288">here</a>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
