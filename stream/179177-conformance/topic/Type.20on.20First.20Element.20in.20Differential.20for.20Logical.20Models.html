---
layout: page
title: "FHIR Chat  · Type on First Element in Differential for Logical Models · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html">Type on First Element in Differential for Logical Models</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="239078791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/239078791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#239078791">(May 17 2021 at 12:26)</a>:</h4>
<p>Due to the changes implemented in <a href="https://github.com/hapifhir/org.hl7.fhir.core/issues/466">https://github.com/hapifhir/org.hl7.fhir.core/issues/466</a>, the Java validator now throws an exception when validating <strong>any</strong> logical model generated by the .NET tooling. The .NET tooling adds "Element" as the type of the first element by default. Having discussed before that the type on the first element doesn't have much use (<a href="#narrow/stream/179177-conformance/topic/sdf-15.20and.20Logical.20Models">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/sdf-15.20and.20Logical.20Models</a>), I generally agree with the change. However, it currently breaks a lot of logical model tooling. Would it be possible to not throw an hard error here? It is still allowed by sdf-15a (if I read this correctly) and is an unexpected change in a minor version update.</p>



<a name="239405666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/239405666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#239405666">(May 19 2021 at 11:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> Would you say that there should be an exception in the Java validator for Logical Models? Otherwise I would move this issue to the .NET SDK Team. I'm unsure what we would break if the .NET snapshot generator would leave out the type on the first element. I'm a bit afraid that this would break more than expected.</p>



<a name="239408597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/239408597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#239408597">(May 19 2021 at 11:49)</a>:</h4>
<p>it's on my to think about tlist</p>



<a name="239410090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/239410090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#239410090">(May 19 2021 at 12:01)</a>:</h4>
<p>Alright, thanks!</p>



<a name="240226160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/240226160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#240226160">(May 25 2021 at 17:56)</a>:</h4>
<p>we also stumbled upon a kind of related issue with sdf-15a:<br>
We wanted to add a pattern to the root of a dataType profile, which isn't possible as the first differential element doesn't include a<code>.</code>in the path but needs a type for the pattern.</p>



<a name="240290811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/240290811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#240290811">(May 26 2021 at 08:04)</a>:</h4>
<p>...which is a bummer because adding patterns to DataType profiles which are ususally used in pattern type slicings (e.g. Identifier, Coding) would be very useful feature...</p>



<a name="242631197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/242631197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#242631197">(Jun 14 2021 at 17:20)</a>:</h4>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> what's an example of a logical model that this affects?</p>



<a name="242631321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/242631321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#242631321">(Jun 14 2021 at 17:21)</a>:</h4>
<p>the spec says that this rule doesn't apply to logical models, so I don't know why there's a problem</p>



<a name="242631578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/242631578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#242631578">(Jun 14 2021 at 17:23)</a>:</h4>
<blockquote>
<p>We wanted to add a pattern to the root of a dataType profile, which isn't possible as the first differential element doesn't include <a href="http://a.in">a.in</a> the path but needs a type for the pattern.</p>
</blockquote>
<p>Why does it need a type for the pattern?</p>



<a name="242646998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/242646998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#242646998">(Jun 14 2021 at 19:23)</a>:</h4>
<p>I suspect the issue is what do you put in place of the <code>[x]</code> in <code>pattern[x]</code>?  Is it just the<code>type</code> of the logical model itself?</p>
<p>That aside, however, according to the spec, <code>pattern[x]</code> is <em>prohibited</em> from type definitions anyway.  So technically speaking, it is illegal to use <code>pattern[x]</code> in a logical model definition at all. See: <a href="http://hl7.org/fhir/R4/elementdefinition.html#interpretation">http://hl7.org/fhir/R4/elementdefinition.html#interpretation</a></p>



<a name="242651460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/242651460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#242651460">(Jun 14 2021 at 19:58)</a>:</h4>
<p>well, the type issue was raised on data type profiles.</p>



<a name="242651499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/242651499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#242651499">(Jun 14 2021 at 19:58)</a>:</h4>
<p>patterns and fixed values on logical models is an outstanding issue that's a todo for me</p>



<a name="242651679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/242651679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#242651679">(Jun 14 2021 at 20:00)</a>:</h4>
<p>Ah sorry.  Too many topics mixed into this one thread.  I got confused.</p>



<a name="243778237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243778237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243778237">(Jun 24 2021 at 12:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models/near/242631197">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="193430">Alexander Zautke</span> what's an example of a logical model that this affects?</p>
</blockquote>
<p>I tried to debug the problem a bit more in detail. This issue does not occur when you try to validate a logical model with a type on the first element directly. It only happens if the Java validator tries to generate a snapshot for such logical model, e.g. when it's loaded as part of a package dependency or a folder.</p>
<p>Here's the stack trace:</p>
<div class="codehilite"><pre><span></span><code>FHIR Validation tool Version 5.3.15-SNAPSHOT (Git# f082ed15ee4d). Built 2021-05-19T09:48:44.426+02:00 (36 days old)
  Java:   1.8.0_292 from /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre on x86_64 (64bit). 7282MB available
  Paths:  Current = /Users/alex/Dev/FHIR/org.hl7.fhir.core, Package Cache = /Users/alex/.fhir/packages
  Params: -version 4.0 -ig /Users/alex/Desktop/LM/ /Users/alex/Desktop/Patient.json
Loading
  Load FHIR v4.0 from hl7.fhir.r4.core#4.0.1 - 4575 resources (00:04.0631)
  Load hl7.terminology#2.1.0 - 3767 resources (00:00.0752)
  Terminology server http://tx.fhir.org - Version 1.9.378 (00:01.0810)
  Load /Users/alex/Desktop/LM/ - 1 resources (00:00.0004)
  Get set... Exception in thread &quot;main&quot; java.lang.Error: type on first differential element!
    at org.hl7.fhir.r5.conformance.ProfileUtilities.checkDifferentialBaseType(ProfileUtilities.java:789)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:624)
    at org.hl7.fhir.validation.ValidationEngine.makeSnapshot(ValidationEngine.java:520)
    at org.hl7.fhir.validation.ValidationEngine.prepare(ValidationEngine.java:504)
    at org.hl7.fhir.validation.cli.services.ValidationService.initializeValidator(ValidationService.java:257)
    at org.hl7.fhir.validation.cli.services.ValidationService.initializeValidator(ValidationService.java:212)
    at org.hl7.fhir.validation.ValidatorCli.doValidation(ValidatorCli.java:203)
    at org.hl7.fhir.validation.ValidatorCli.main(ValidatorCli.java:159)
</code></pre></div>



<a name="243778397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243778397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243778397">(Jun 24 2021 at 12:38)</a>:</h4>
<p>In my case "/Users/alex/Desktop/LM/" contains the following logical model <a href="/user_uploads/10155/Wtu3n9jE_WB-L126ZBUyOFoL/TestWithTypeOnFirstElement.json">TestWithTypeOnFirstElement.json</a></p>



<a name="243780131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243780131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243780131">(Jun 24 2021 at 12:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191469">Chris Moesel</span> <a href="#narrow/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models/near/242646998">said</a>:</p>
<blockquote>
<p>I suspect the issue is what do you put in place of the <code>[x]</code> in <code>pattern[x]</code>?  Is it just the<code>type</code> of the logical model itself?</p>
<p>That aside, however, according to the spec, <code>pattern[x]</code> is <em>prohibited</em> from type definitions anyway.  So technically speaking, it is illegal to use <code>pattern[x]</code> in a logical model definition at all. See: <a href="http://hl7.org/fhir/R4/elementdefinition.html#interpretation">http://hl7.org/fhir/R4/elementdefinition.html#interpretation</a></p>
</blockquote>
<p>Yes, exactly. What we wanted to do is to define a data type profile on Coding. On the first element of such profile we wanted to add a pattern, so that all other profiles using the data type profile would get this pattern automatically. Issue is that if you place a patternCoding on the first element of the diff, you'll get the following error: </p>
<div class="codehilite"><pre><span></span><code>Unable to generate snapshot for CodingAlphaID from Coding because Profile CodingAlphaID (http://fhir.de/StructureDefinition/CodingAlphaID), element Coding. Error generating snapshot: The fixed value has type &#39;Coding&#39; which is not valid (valid types: [])
org.hl7.fhir.exceptions.DefinitionException: Profile CodingAlphaID (http://fhir.de/StructureDefinition/CodingAlphaID), element Coding. Error generating snapshot: The fixed value has type &#39;Coding&#39; which is not valid (valid types: [])
    at org.hl7.fhir.r5.context.SimpleWorkerContext.generateSnapshot(SimpleWorkerContext.java:785)
    at org.hl7.fhir.r5.context.SimpleWorkerContext.generateSnapshot(SimpleWorkerContext.java:752)
    at org.hl7.fhir.r5.context.SimpleWorkerContext.allStructures(SimpleWorkerContext.java:635)
    at org.hl7.fhir.validation.ValidationEngine.prepare(ValidationEngine.java:500)
    at org.hl7.fhir.validation.cli.services.ValidationService.initializeValidator(ValidationService.java:256)
    at org.hl7.fhir.validation.cli.services.ValidationService.initializeValidator(ValidationService.java:212)
    at org.hl7.fhir.validation.ValidatorCli.doValidation(ValidatorCli.java:203)
    at org.hl7.fhir.validation.ValidatorCli.main(ValidatorCli.java:159)
</code></pre></div>



<a name="243780464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243780464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243780464">(Jun 24 2021 at 12:51)</a>:</h4>
<p>This issue is totally unrelated to logical models, we can discuss this in a different thread, although I suspect there is nothing much we can do about it.</p>



<a name="243875981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243875981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243875981">(Jun 25 2021 at 05:03)</a>:</h4>
<p>ok I think <span class="user-mention" data-user-id="191469">@Chris Moesel</span>'s error will be fixed next release</p>



<a name="243875986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243875986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243875986">(Jun 25 2021 at 05:03)</a>:</h4>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> do you have a logical model I can try that with?</p>



<a name="243876896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243876896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243876896">(Jun 25 2021 at 05:23)</a>:</h4>
<p>found it. Fixed next release</p>



<a name="243912906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243912906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243912906">(Jun 25 2021 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- I'm not sure what error you're referring to.  As far as I know I didn't report an error in <em>this</em> thread... I mentioned that the spec prohibits <code>fixed[x]</code> and <code>pattern[x]</code> on logicals/resources, but that's not an error; that's the spec doing what specs do.</p>



<a name="243969645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243969645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243969645">(Jun 25 2021 at 20:54)</a>:</h4>
<p>where does the spec do that?</p>



<a name="243971704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243971704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243971704">(Jun 25 2021 at 21:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> here: <a href="http://hl7.org/fhir/R4/elementdefinition.html#interpretation">http://hl7.org/fhir/R4/elementdefinition.html#interpretation</a></p>
<p><a href="/user_uploads/10155/XPpYaWTMHrTeqdZcnYrVQ3s1/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/XPpYaWTMHrTeqdZcnYrVQ3s1/image.png" title="image.png"><img src="/user_uploads/10155/XPpYaWTMHrTeqdZcnYrVQ3s1/image.png"></a></div>



<a name="243971834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243971834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243971834">(Jun 25 2021 at 21:16)</a>:</h4>
<p>logical != specialization</p>



<a name="243972025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243972025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243972025">(Jun 25 2021 at 21:17)</a>:</h4>
<p>OK. I am confused.  Logicals can introduce new elements.  You can't introduce new elements in <code>derivation: constraint</code>, so the only other option is <code>derivation: specialization</code>.  What am I missing?</p>



<a name="243972570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243972570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243972570">(Jun 25 2021 at 21:22)</a>:</h4>
<p>you can have a constraint on a logical model, and that's what we're talking about</p>



<a name="243973098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243973098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243973098">(Jun 25 2021 at 21:27)</a>:</h4>
<p>I don't think that's clear, because the logical model that <span class="user-mention" data-user-id="193430">@Alexander Zautke</span> linked to above has <code>"derivation": "specialization"</code>.  Wouldn't constraining a logical model require <code>"derivation": "constraint"</code> (and then prohibit adding further elements)?</p>



<a name="243973757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243973757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243973757">(Jun 25 2021 at 21:34)</a>:</h4>
<p>umm. I'm confused. Alexander's issue was the Java snapshot generator didn't allow 'type' on the base element. Logical models (not specializations) are not subject to that rule. The fixed value thing is a different issue</p>



<a name="243974391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243974391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243974391">(Jun 25 2021 at 21:41)</a>:</h4>
<p>OK.  I think we're just talking in circles then.  Although I still don't know what error of mine you said is fixed in the next release. ;-)</p>



<a name="243974521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243974521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243974521">(Jun 25 2021 at 21:43)</a>:</h4>
<p>you'll get a validation error not an exception if you put a fixed value or a pattern at the root of a profile</p>



<a name="243974747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Type%20on%20First%20Element%20in%20Differential%20for%20Logical%20Models/near/243974747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Type.20on.20First.20Element.20in.20Differential.20for.20Logical.20Models.html#243974747">(Jun 25 2021 at 21:45)</a>:</h4>
<p>OK.  That wasn't my bug, but I'm glad it's fixed!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
