---
layout: page
title: "FHIR Chat  · Validating Quantity with code binding · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html">Validating Quantity with code binding</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="182556096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/182556096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#182556096">(Dec 04 2019 at 13:43)</a>:</h4>
<p>(deleted)</p>



<a name="196320559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196320559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196320559">(May 05 2020 at 15:05)</a>:</h4>
<p>Just tried to validate an example against a Observation profile with a constrained valueQuantity.</p>



<a name="196324367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196324367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196324367">(May 05 2020 at 15:31)</a>:</h4>
<p><code>Error @ Observation.value.ofType(Quantity).code (line 24, col21) : The value provided ("cm") is not in the value set http://fhir.de/ValueSet/einheiten-koerpergroesse (http://fhir.de/ValueSet/einheiten-koerpergroesse), and a code is required from this value set) (error message = Unknown Code http://unitsofmeasure.org#cm in http://unitsofmeasure.org)</code></p>



<a name="196325265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196325265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196325265">(May 05 2020 at 15:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="196325468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196325468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196325468">(May 05 2020 at 15:39)</a>:</h4>
<p>currently debugging..</p>



<a name="196325497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196325497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196325497">(May 05 2020 at 15:39)</a>:</h4>
<p>will provide the example and profile</p>



<a name="196328201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196328201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196328201">(May 05 2020 at 15:59)</a>:</h4>
<p>problem is that <code>cs = findSpecialCodeSystem(system);</code>returns the wrong CS</p>



<a name="196328343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196328343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196328343">(May 05 2020 at 16:00)</a>:</h4>
<p>(deleted)</p>



<a name="196331019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196331019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196331019">(May 05 2020 at 16:23)</a>:</h4>
<p>the CanonicalResourceManager has a wrong key in its map.</p>



<a name="196331080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196331080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196331080">(May 05 2020 at 16:23)</a>:</h4>
<p>for <code>http://unitsofmeasure.org</code>a CS is returned wich has the url: <a href="http://fhir.de/CodeSystem/dimdi/ops" title="http://fhir.de/CodeSystem/dimdi/ops">http://fhir.de/CodeSystem/dimdi/ops</a></p>
<ul>
<li>url/map.key is <code>http://unitsofmeasure.org</code>but the content is from the OPS CS</li>
</ul>



<a name="196331101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196331101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196331101">(May 05 2020 at 16:23)</a>:</h4>
<p>(deleted)</p>



<a name="196368759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196368759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196368759">(May 05 2020 at 21:12)</a>:</h4>
<p>sounds like a bad package?</p>



<a name="196591536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196591536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196591536">(May 06 2020 at 06:17)</a>:</h4>
<p>Yes that was the reason</p>



<a name="196591611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196591611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196591611">(May 06 2020 at 06:18)</a>:</h4>
<p>The validator tried to validate against a CS with content: not-present.</p>



<a name="196591676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196591676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196591676">(May 06 2020 at 06:20)</a>:</h4>
<p>And then couldn‘t find the code. Would have expected a warning that the code couldn‘t he validated against an empty CS</p>



<a name="196598941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196598941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196598941">(May 06 2020 at 07:57)</a>:</h4>
<p>well, I haven't tested that scenario. I'm certainly finding it tough to deal with the variation of meaning of the non-complete code systems, and their idiosyncratic appearance in people's set up</p>



<a name="196599560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196599560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196599560">(May 06 2020 at 08:02)</a>:</h4>
<p>What about not loading them in the first place? Just ignore alle "not-presen" CS?</p>



<a name="196599607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196599607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196599607">(May 06 2020 at 08:02)</a>:</h4>
<p>that's what I did in the first place, but then people expect the validator to not say 'unknown code system' when in fact it is known</p>



<a name="196600631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/196600631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#196600631">(May 06 2020 at 08:11)</a>:</h4>
<p>maybe the confusion was that the validator said unknown CodeSystem and throw an error for this?</p>



<a name="223629786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/223629786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#223629786">(Jan 22 2021 at 11:33)</a>:</h4>
<p>i have to come back to this. This is still a problem for us as many projects are using not-present CodeSystems as a placeholder.</p>



<a name="223808201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/223808201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#223808201">(Jan 24 2021 at 10:58)</a>:</h4>
<p>The german „KBV“ is also struggling a lot with this.</p>



<a name="223808217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/223808217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#223808217">(Jan 24 2021 at 10:59)</a>:</h4>
<p><span class="user-mention" data-user-id="195854">@Maximilian Reith</span> fyi</p>



<a name="223867498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/223867498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Reith <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#223867498">(Jan 25 2021 at 08:35)</a>:</h4>
<p>yes of course: A lot of codesystems are not present right now, but they are prepared for future usage. Codes are set into a valueset only as an interim solution (compose and expansion), but the validator is giving hard errors, since they are not in the underlying codesystem. We (KBV and Hl7 Germany) would like to  change this behaviour as Patrick mentioned. At least an option in the validator to avoid these errors would be necessary</p>



<a name="225239665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Validating%20Quantity%20with%20code%20binding/near/225239665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Validating.20Quantity.20with.20code.20binding.html#225239665">(Feb 04 2021 at 23:25)</a>:</h4>
<p>well, <span class="user-mention" data-user-id="191451">@Patrick Werner</span>, would you like to prepare a test case for the validator that illustrates the issue?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
