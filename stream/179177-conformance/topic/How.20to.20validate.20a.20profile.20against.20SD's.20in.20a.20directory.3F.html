---
layout: page
title: "FHIR Chat  · How to validate a profile against SD&#x27;s in a directory? · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html">How to validate a profile against SD&#x27;s in a directory?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="166896513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166896513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166896513">(May 30 2019 at 10:36)</a>:</h4>
<p>I don't have an IG, but I have a profile and a directory full of StructureDefinitions. Is validating without an IG is still supported? <a href="http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator#Running_the_validator" target="_blank" title="http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator#Running_the_validator">Wiki</a> mentions this should work:</p>
<div class="codehilite"><pre><span></span>java -jar /home/vadi/Downloads/org.hl7.fhir.validator.jar &#39;/home/vadi/Desktop/swedishnationalmedicationlist/MedicationRequest-example-bad.json&#39; -ig &#39;/home/vadi/Desktop/swedishnationalmedicationlist/&#39; -version 3.0
</pre></div>


<p>But the validator goes haywire and starts scanning markdown files, before crashing on a directory:</p>
<div class="codehilite"><pre><span></span>FHIR Validation tool Version 3.7.40-SNAPSHOT - Built 2019-05-30T13:33:06.82+10:00 - Git 75500dae8687
Arguments: /home/vadi/Desktop/swedishnationalmedicationlist/MedicationRequest-example-bad.json -ig /home/vadi/Desktop/swedishnationalmedicationlist/ -version 3.0
  .. connect to tx server @ http://tx.fhir.org
  .. definitions from hl7.fhir.core#3.0.1
    (v3.0.1)
+  .. load IG from /home/vadi/Desktop/swedishnationalmedicationlist/
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Dosedispensedrequests.md
[Fatal Error] :1:1: Content is not allowed in prolog.
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Dosedispensedrequests.md
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Changepresecription.md
[Fatal Error] :1:1: Content is not allowed in prolog.
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Changepresecription.md
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Createconsentfordosedispensing.md
[Fatal Error] :1:1: Content is not allowed in prolog.
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Createconsentfordosedispensing.md
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/MedicationDispense.md
[Fatal Error] :1:1: Content is not allowed in prolog.
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/MedicationDispense.md
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/nll.jpg
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/nll.jpg
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Practitioner.md
[Fatal Error] :1:1: Content is not allowed in prolog.
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Practitioner.md
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Cancelconsentfordosedispensing.md
[Fatal Error] :1:1: Content is not allowed in prolog.
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Cancelconsentfordosedispensing.md
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/change_prescri_ext.png
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/change_prescri_ext.png
   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Fetchconsent.md
[Fatal Error] :1:1: Content is not allowed in prolog.
     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Fetchconsent.md
Exception in thread &quot;main&quot; java.io.FileNotFoundException: /home/vadi/Desktop/swedishnationalmedicationlist/NLL (Is a directory)
    at java.io.FileInputStream.open0(Native Method)
    at java.io.FileInputStream.open(FileInputStream.java:195)
    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)
    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)
    at org.hl7.fhir.r5.validation.ValidationEngine.checkIsResource(ValidationEngine.java:635)
    at org.hl7.fhir.r5.validation.ValidationEngine.scanDirectory(ValidationEngine.java:494)
    at org.hl7.fhir.r5.validation.ValidationEngine.loadIgSource(ValidationEngine.java:430)
    at org.hl7.fhir.r5.validation.ValidationEngine.loadIg(ValidationEngine.java:660)
    at org.hl7.fhir.r5.validation.Validator.main(Validator.java:373)
</pre></div>



<a name="166898889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166898889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166898889">(May 30 2019 at 11:14)</a>:</h4>
<p>Why are you specifying an IG if you don't have an IG?</p>



<a name="166913859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166913859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166913859">(May 30 2019 at 14:45)</a>:</h4>
<p>I have never been able to get this to work.  I just stripped down us core to act as a validation tool with pretty links to the validation results.</p>



<a name="166945792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166945792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166945792">(May 30 2019 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> you should ask. There should be no reason to need to strip down an IG. in your case, you should be using the package</p>



<a name="166946358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166946358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166946358">(May 30 2019 at 21:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191363">@Vadim Peretokin</span> blowing up on a directory is a bug that will be fixed in the next release. The .md files are being loaded as xml in case they are, and the xml library is producing that output directly. I'll add .md to the list of files to ignore</p>



<a name="166946554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166946554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166946554">(May 30 2019 at 21:10)</a>:</h4>
<p>The IG does the validation on the current profiles so it seemed  like the natural choice and its pretty easy to load the examples folders with test files and do a bulk validation.</p>



<a name="166946698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166946698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166946698">(May 30 2019 at 21:12)</a>:</h4>
<p>I don't understand that. The IG publisher does validation on the examples already. what are you trying to do that's different?</p>



<a name="166947057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166947057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166947057">(May 30 2019 at 21:17)</a>:</h4>
<p>Nothing is different,  I just focus on the examples and QA output.</p>



<a name="166976967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166976967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166976967">(May 31 2019 at 08:08)</a>:</h4>
<p>Mm so what's the right way to simply validate an instance against a profile without the overhead of a package?</p>



<a name="166981556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166981556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166981556">(May 31 2019 at 09:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> the <code>-ig</code> parameter states: "... or a local folder that contains a  set of conformance resources."</p>



<a name="166984661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166984661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166984661">(May 31 2019 at 10:15)</a>:</h4>
<p>yes that way. should work now</p>



<a name="166985892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/166985892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#166985892">(May 31 2019 at 10:37)</a>:</h4>
<p>It's not with the latest release 3.7.41 :(</p>



<a name="167106086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/How%20to%20validate%20a%20profile%20against%20SD%27s%20in%20a%20directory%3F/near/167106086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/How.20to.20validate.20a.20profile.20against.20SD&#x27;s.20in.20a.20directory.3F.html#167106086">(Jun 02 2019 at 05:26)</a>:</h4>
<p>I've fixed the markdown (and other file) scanning with: <a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/36" target="_blank" title="https://github.com/hapifhir/org.hl7.fhir.core/pull/36">https://github.com/hapifhir/org.hl7.fhir.core/pull/36</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
