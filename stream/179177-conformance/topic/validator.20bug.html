---
layout: page
title: "FHIR Chat  · validator bug · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html">validator bug</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200983690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/200983690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#200983690">(Jun 16 2020 at 08:02)</a>:</h4>
<p>The validator has a bug when loading parameters it seems:</p>
<div class="codehilite"><pre><span></span><code>jvi@Jenss-MacBook-Pro-2 Downloads % file params.json
params.json: JSON data
jvi@Jenss-MacBook-Pro-2 Downloads % java -jar org.hl7.fhir.validator.jar -source params.json -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (9 days old)
Detected Java version: 11.0.7 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 (64bit). 4096MB available
Arguments: -source params.json -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
Directories: Current = /Users/jvi/Downloads, Package Cache = /Users/jvi/.fhir/packages
  .. FHIR Version current, definitions from hl7.fhir.r5.core#current
  .. connect to tx server @ http://tx.fhir.org
    (vcurrent)
+  .. load IG from https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
  .. validate [-source, params.json]
Exception in thread &quot;main&quot; java.io.IOException: File -source does not exist
    at org.hl7.fhir.validation.ValidationEngine.handleSource(ValidationEngine.java:1071)
    at org.hl7.fhir.validation.ValidationEngine.handleSources(ValidationEngine.java:1046)
    at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1006)
    at org.hl7.fhir.validation.cli.services.ValidationService.validateSources(ValidationService.java:54)
    at org.hl7.fhir.validation.Validator.main(Validator.java:202)
jvi@Jenss-MacBook-Pro-2 Downloads % code params.json
</code></pre></div>


<p>contents of the params.json:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;Parameters&quot;,
  &quot;parameter&quot;: [
    {
      &quot;name&quot;: &quot;resource&quot;,
      &quot;resource&quot;: {
        &quot;resourceType&quot;: &quot;Communication&quot;,
        &quot;meta&quot;: {
          &quot;profile&quot;: [
            &quot;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-message&quot;
          ]
        },
        &quot;extension&quot;: [
          {
            &quot;url&quot;: &quot;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-communication-recipientCareTeam&quot;,
            &quot;valueReference&quot;: {
              &quot;reference&quot;: &quot;https://inttest.ehealth.sundhed.dk/organization/fhir/CareTeam/50&quot;
            }
          },
          {
            &quot;url&quot;: &quot;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-restriction-category&quot;,
            &quot;valueCodeableConcept&quot;: {
              &quot;coding&quot;: [
                {
                  &quot;system&quot;: &quot;http://ehealth.sundhed.dk/cs/restriction-category&quot;,
                  &quot;code&quot;: &quot;None&quot;
                }
              ]
            }
          }
        ],
        &quot;partOf&quot;: [
          {
            &quot;reference&quot;: &quot;http://careplan.fut.trifork.com/CarePlan/42&quot;
          }
        ],
        &quot;status&quot;: &quot;preparation&quot;,
        &quot;category&quot;: [
          {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;http://ehealth.sundhed.dk/cs/message-category&quot;,
                &quot;code&quot;: &quot;message&quot;
              }
            ],
            &quot;text&quot;: &quot;Besked&quot;
          }
        ],
        &quot;medium&quot;: [
          {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v3-ParticipationMode&quot;,
                &quot;code&quot;: &quot;WRITTEN&quot;
              }
            ],
            &quot;text&quot;: &quot;WRITTEN&quot;
          }
        ],
        &quot;sender&quot;: {
          &quot;reference&quot;: &quot;http://inttest.ehealth.sundhed.dk/trifork-fhir-server/Patient/100&quot;
        },
        &quot;reasonCode&quot;: [
          {
            &quot;coding&quot;: [
              {
                &quot;system&quot;: &quot;http://ehealth.sundhed.dk/cs/task-category&quot;,
                &quot;code&quot;: &quot;MissingMeasurementResolving&quot;
              }
            ]
          }
        ],
        &quot;payload&quot;: [
          {
            &quot;contentString&quot;: &quot;Hello world&quot;
          }
        ]
      }
    }
  ]
}
</code></pre></div>



<a name="200997876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/200997876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#200997876">(Jun 16 2020 at 10:51)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> can you look at this one</p>



<a name="201017190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201017190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201017190">(Jun 16 2020 at 13:48)</a>:</h4>
<p>on it</p>



<a name="201019020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201019020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201019020">(Jun 16 2020 at 14:00)</a>:</h4>
<p>I can 100% replicate it</p>



<a name="201019269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201019269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201019269">(Jun 16 2020 at 14:02)</a>:</h4>
<p>Alright, so I can get this to work by taking out the -source argument. For some reason the validator is reading in -source as the file name, and not the file name itself.</p>



<a name="201019388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201019388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201019388">(Jun 16 2020 at 14:03)</a>:</h4>
<p>if you run <code>java -jar &lt;path_to_the_jar&gt; &lt;path_to_your_file&gt; -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz</code></p>



<a name="201019438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201019438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201019438">(Jun 16 2020 at 14:03)</a>:</h4>
<p>it works and produces the proper output</p>



<a name="201019450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201019450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201019450">(Jun 16 2020 at 14:03)</a>:</h4>
<div class="codehilite"><pre><span></span><code>java -jar org.hl7.fhir.validation.cli/target/org.hl7.fhir.validation.cli-5.0.7-SNAPSHOT.jar org.hl7.fhir.validation.cli/target/params.json -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 1f0419b82255). Built 2020-06-11T17:02:55.58-04:00 (4 days old)
Detected Java version: 1.8.0_202 from /home/mark/.sdkman/candidates/java/8.0.202-zulu/jre on amd64 (64bit). 7136MB available
Arguments: org.hl7.fhir.validation.cli/target/params.json -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
Directories: Current = /home/mark/Documents/Projects/FHIR/org.hl7.fhir.core, Package Cache = /home/mark/.fhir/packages
  .. FHIR Version current, definitions from hl7.fhir.r5.core#current
  .. connect to tx server @ http://tx.fhir.org
    (vcurrent)
+  .. load IG from https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
  .. validate [org.hl7.fhir.validation.cli/target/params.json]
*FAILURE* validating org.hl7.fhir.validation.cli/target/params.json:  error:5 warn:1 info:1
  Error @ Parameters.parameter[0].resource (line 63, col24) : Unrecognised property &#39;@reasonCode&#39;
  Error @ Parameters.parameter[0].resource.ofType(Communication).payload[0] (line 74, col12) : Profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-message, Element &#39;Parameters.parameter[0].resource.ofType(Communication).payload[0].content[x]&#39;: minimum required = 1, but only found 0
  Error @ Parameters.parameter[0].resource.ofType(Communication).payload[0] (line 74, col12) : Profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-message, Element &#39;Parameters.parameter[0].resource.ofType(Communication).payload[0].content[x][contentString]&#39;: minimum required = 1, but only found 0
  Error @ Parameters.parameter[0].resource.ofType(Communication).payload[0] (line 74, col12) : Profile http://hl7.org/fhir/StructureDefinition/Communication, Element &#39;Parameters.parameter[0].resource.ofType(Communication).payload[0].content[x]&#39;: minimum required = 1, but only found 0
  Error @ Parameters.parameter[0].resource.payload[0] (line 76, col12) : Unrecognised property &#39;@contentString&#39;
  Information @ Parameters.parameter[0].resource.ofType(Communication).medium[0] (line 50, col12) : This element does not match any known slice defined in the profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-message
  Warning @ Parameters.parameter[0].resource.ofType(Communication).medium[0] (line 50, col12) : ValueSet http://hl7.org/fhir/ValueSet/v3-ParticipationMode not found by validator
</code></pre></div>



<a name="201019561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201019561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201019561">(Jun 16 2020 at 14:04)</a>:</h4>
<p>So, use that as a workaround for now, but I'll look at why the -source arg is messing everything up right now</p>



<a name="201027141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201027141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201027141">(Jun 16 2020 at 14:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> So, it's actually working as intended.</p>



<a name="201027158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201027158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201027158">(Jun 16 2020 at 14:54)</a>:</h4>
<p>If you look at the documentation here: <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></p>



<a name="201027177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201027177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201027177">(Jun 16 2020 at 14:55)</a>:</h4>
<p>There is no <code>-source</code> tag</p>



<a name="201027274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201027274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201027274">(Jun 16 2020 at 14:55)</a>:</h4>
<p>you just list the input files as parameters, without any identifier</p>



<a name="201027436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201027436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201027436">(Jun 16 2020 at 14:56)</a>:</h4>
<p>When you included the <code>-source</code> param, it caused the cli to search for a file named "-source", that's why you got the <code>java.io.IOException: File -source does not exist</code> exception</p>



<a name="201027460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201027460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201027460">(Jun 16 2020 at 14:56)</a>:</h4>
<p>Just don't include the -source flag and you're golden</p>



<a name="201027494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201027494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201027494">(Jun 16 2020 at 14:57)</a>:</h4>
<p>Please let me know if you have any other questions.</p>



<a name="201028946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201028946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201028946">(Jun 16 2020 at 15:07)</a>:</h4>
<p>Right, copy that, thx</p>



<a name="201028965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201028965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201028965">(Jun 16 2020 at 15:07)</a>:</h4>
<p>Makes sense</p>



<a name="201029172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201029172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201029172">(Jun 16 2020 at 15:08)</a>:</h4>
<p>Guess I've been around docker too much lately and got used to tagging my arguments</p>



<a name="201029274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201029274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201029274">(Jun 16 2020 at 15:09)</a>:</h4>
<p>Maybe this is a feature request instead then</p>



<a name="201029364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201029364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201029364">(Jun 16 2020 at 15:09)</a>:</h4>
<p>Most cli tools (at least on *nix) tags their inputs</p>



<a name="201035985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201035985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201035985">(Jun 16 2020 at 15:54)</a>:</h4>
<p><span aria-label="ok" class="emoji emoji-1f44c" role="img" title="ok">:ok:</span></p>



<a name="201036012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201036012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201036012">(Jun 16 2020 at 15:54)</a>:</h4>
<p>Let me know if you have any other issues</p>



<a name="201048639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201048639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201048639">(Jun 16 2020 at 17:30)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> maybe if we can't find a file and the name we can't find looks like a parameter that we don't recognise, we can be smart in the error message</p>



<a name="201048739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201048739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201048739">(Jun 16 2020 at 17:31)</a>:</h4>
<p>so filter for if the 'filename' starts with '-'</p>



<a name="201048850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201048850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201048850">(Jun 16 2020 at 17:32)</a>:</h4>
<p>I'll add a more verbose output for now, one that actually says what's going on outside of a stack trace</p>



<a name="201048862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201048862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201048862">(Jun 16 2020 at 17:32)</a>:</h4>
<p>y. not in how things work, but in the error message - something like 'no file -source, and it's not a parameter we recognise'</p>



<a name="201049543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201049543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201049543">(Jun 16 2020 at 17:38)</a>:</h4>
<p>okay, adding it now</p>



<a name="201053372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201053372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201053372">(Jun 16 2020 at 18:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> how is this for a more verbose output:</p>



<a name="201053379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201053379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201053379">(Jun 16 2020 at 18:09)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Directories: Current = /home/mark/Documents/Projects/FHIR/org.hl7.fhir.core, Package Cache = /home/mark/.fhir/packages
  .. FHIR Version current, definitions from hl7.fhir.r5.core#current
  .. connect to tx server @ http://tx.fhir.org
    (vcurrent)
+  .. load IG from https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
  .. validate [-source, org.hl7.fhir.validation.cli/target/params.json]

**********
* The file name you passed in, &quot;-source&quot;, doesn&#39;t exist on the local filesystem.
* Please verify that this is valid file location.
**********

Exception in thread &quot;main&quot; java.io.IOException: File -source does not exist
        at org.hl7.fhir.validation.ValidationEngine.handleSource(ValidationEngine.java:1076)
        at org.hl7.fhir.validation.ValidationEngine.handleSources(ValidationEngine.java:1048)
        at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1008)
        at org.hl7.fhir.validation.cli.services.ValidationService.validateSources(ValidationService.java:54)
        at org.hl7.fhir.validation.Validator.main(Validator.java:202)
</code></pre></div>



<a name="201053566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201053566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201053566">(Jun 16 2020 at 18:11)</a>:</h4>
<p>that works for me</p>



<a name="201053593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201053593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201053593">(Jun 16 2020 at 18:11)</a>:</h4>
<p>ok i'll throw up a quick PR</p>



<a name="201053685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201053685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201053685">(Jun 16 2020 at 18:12)</a>:</h4>
<p>Should work on both cli and non cli implementations, I use both System.condole().prinf, and System.out.println depending on where it's run from</p>



<a name="201706155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201706155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201706155">(Jun 23 2020 at 09:44)</a>:</h4>
<p>ok - another thing <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> : </p>
<div class="codehilite"><pre><span></span><code>java -jar org.hl7.fhir.validator.jar ./comm.json -ig ~/gitlab/implementationguide/resources/
FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (16 days old)
Detected Java version: 11.0.7 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 (64bit). 4096MB available
Arguments: ./comm.json -ig /Users/jvi/gitlab/implementationguide/resources/
Directories: Current = /Users/jvi/Downloads, Package Cache = /Users/jvi/.fhir/packages
  .. FHIR Version current, definitions from hl7.fhir.r5.core#current
  .. connect to tx server @ http://tx.fhir.org
    (vcurrent)
+  .. load IG from /Users/jvi/gitlab/implementationguide/resources/
Exception in thread &quot;main&quot; java.io.FileNotFoundException: /Users/jvi/gitlab/implementationguide/resources/structuredefinition (Is a directory)
    at java.base/java.io.FileInputStream.open0(Native Method)
    at java.base/java.io.FileInputStream.open(FileInputStream.java:219)
    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)
    at org.hl7.fhir.utilities.TextFile.fileToBytes(TextFile.java:199)
    at org.hl7.fhir.validation.ValidationEngine.checkIsResource(ValidationEngine.java:709)
    at org.hl7.fhir.validation.ValidationEngine.scanDirectory(ValidationEngine.java:558)
    at org.hl7.fhir.validation.ValidationEngine.loadIgSource(ValidationEngine.java:464)
    at org.hl7.fhir.validation.ValidationEngine.loadIg(ValidationEngine.java:742)
    at org.hl7.fhir.validation.cli.services.ValidationService.getValidator(ValidationService.java:185)
    at org.hl7.fhir.validation.Validator.main(Validator.java:175)
</code></pre></div>


<p>Whats the problem here?  The doc says:</p>
<div class="codehilite"><pre><span></span><code>-ig [package|file|folder|url]: an IG or profile definition to load. Can be
     the URL of an implementation guide or a package ([id]-[ver]) for
     a built implementation guide or a local folder that contains a
     set of conformance resources.
     No default value. This parameter can appear any number of times
</code></pre></div>


<p>I thought I just passed a folder containing the conformance resources of an IG - but apparently not?</p>



<a name="201706631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201706631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201706631">(Jun 23 2020 at 09:51)</a>:</h4>
<p>wait ... seems like a bug on my side ...</p>



<a name="201714579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201714579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201714579">(Jun 23 2020 at 11:44)</a>:</h4>
<p>what happens if you drop the trailing slash?</p>



<a name="201717600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201717600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201717600">(Jun 23 2020 at 12:21)</a>:</h4>
<p>The contents of the IG was not generated ... Apparently this is the kind of error the validator throws if it cannot find any conformance resources. You can reproduce it by pointing it to any other folder. <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> - feature request: make it cough up a bit differently, please ;)</p>



<a name="201717807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201717807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201717807">(Jun 23 2020 at 12:23)</a>:</h4>
<p>I've found another bug. Take a look at the following:</p>
<div class="codehilite"><pre><span></span><code>java -jar org.hl7.fhir.validator.jar ./comm.xml -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (16 days old)
Detected Java version: 11.0.7 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 (64bit). 4096MB available
Arguments: ./comm.xml -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
Directories: Current = /Users/jvi/Downloads, Package Cache = /Users/jvi/.fhir/packages
  .. FHIR Version current, definitions from hl7.fhir.r5.core#current
  .. connect to tx server @ http://tx.fhir.org
    (vcurrent)
+  .. load IG from https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
  .. validate [./comm.xml]
Validation Infrastructure fail validating ./comm.xml: Unable to find type string for element contentString with path Communication.payload.content[x]
Exception in thread &quot;main&quot; org.hl7.fhir.exceptions.FHIRException: Unable to find type string for element contentString with path Communication.payload.content[x]
    at org.hl7.fhir.r5.elementmodel.Property.getChildProperties(Property.java:334)
    at org.hl7.fhir.r5.elementmodel.XmlParser.parseChildren(XmlParser.java:258)
    at org.hl7.fhir.r5.elementmodel.XmlParser.parseChildren(XmlParser.java:369)
    at org.hl7.fhir.r5.elementmodel.XmlParser.parseChildren(XmlParser.java:369)
    at org.hl7.fhir.r5.elementmodel.XmlParser.parse(XmlParser.java:199)
    at org.hl7.fhir.r5.elementmodel.XmlParser.parse(XmlParser.java:183)
    at org.hl7.fhir.r5.elementmodel.XmlParser.parse(XmlParser.java:153)
    at org.hl7.fhir.validation.instance.InstanceValidator.validate(InstanceValidator.java:514)
    at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1107)
    at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1014)
    at org.hl7.fhir.validation.cli.services.ValidationService.validateSources(ValidationService.java:54)
    at org.hl7.fhir.validation.Validator.main(Validator.java:202)
jvi@Jenss-MacBook-Pro-2 Downloads % java -jar org.hl7.fhir.validator.jar ./comm.json -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (16 days old)
Detected Java version: 11.0.7 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 (64bit). 4096MB available
Arguments: ./comm.json -ig https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
Directories: Current = /Users/jvi/Downloads, Package Cache = /Users/jvi/.fhir/packages
  .. FHIR Version current, definitions from hl7.fhir.r5.core#current
  .. connect to tx server @ http://tx.fhir.org
    (vcurrent)
+  .. load IG from https://docs.ehealth.sundhed.dk/latest/ig/package.tgz
  .. validate [./comm.json]
*FAILURE* validating ./comm.json:  error:5 warn:1 info:1
  Error @ Communication (line 58, col17) : Unrecognised property &#39;@reasonCode&#39;
  Error @ Communication.payload[0] (line 69, col4) : Profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-message, Element &#39;Communication.payload[0].content[x]&#39;: minimum required = 1, but only found 0
  Error @ Communication.payload[0] (line 69, col4) : Profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-message, Element &#39;Communication.payload[0].content[x][contentString]&#39;: minimum required = 1, but only found 0
  Error @ Communication.payload[0] (line 69, col4) : Profile http://hl7.org/fhir/StructureDefinition/Communication, Element &#39;Communication.payload[0].content[x]&#39;: minimum required = 1, but only found 0
  Error @ Communication.payload[0] (line 71, col4) : Unrecognised property &#39;@contentString&#39;
  Information @ Communication.medium[0] (line 45, col4) : This element does not match any known slice defined in the profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-message
  Warning @ Communication.medium[0] (line 45, col4) : ValueSet http://hl7.org/fhir/ValueSet/v3-ParticipationMode not found by validator
</code></pre></div>


<p><a href="/user_uploads/10155/-znzCZmkJWeTUQFXcHCWysnX/comm.json">comm.json</a> <a href="/user_uploads/10155/7eZwRPd8ONzqUgKFVZRcg02Z/comm.xml">comm.xml</a></p>



<a name="201717920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201717920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201717920">(Jun 23 2020 at 12:25)</a>:</h4>
<p>(<span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I'm working on providing you with the test case we talked about last week)</p>



<a name="201718269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201718269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201718269">(Jun 23 2020 at 12:28)</a>:</h4>
<p>1) It seems like there's a bug somewhere. The attached files should be equal to each other - its just different formats, but the XML version seems to be a problem for the validator<br>
2) I don't understand what the problem is in the use of payload in the resource. The profile narrows down payload to be of type string content- that's it. Why the validator chokes is a mystery to me</p>



<a name="201724675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201724675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201724675">(Jun 23 2020 at 13:25)</a>:</h4>
<p>Alright, I'll take a look into this today. I'm just working on another task first.</p>



<a name="201751530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201751530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201751530">(Jun 23 2020 at 16:47)</a>:</h4>
<p>And btw - its not directly related to the profile as far as I can tell</p>



<a name="201837468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201837468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201837468">(Jun 24 2020 at 11:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  ..... hmmmm ... looks like your work when you prepared for r5: <a href="https://github.com/hapifhir/org.hl7.fhir.core/blame/344d778a87d446f36717c9f895a854eec762fbb6/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/elementmodel/Property.java#L334">https://github.com/hapifhir/org.hl7.fhir.core/blame/344d778a87d446f36717c9f895a854eec762fbb6/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/elementmodel/Property.java#L334</a></p>



<a name="201898981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201898981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201898981">(Jun 24 2020 at 20:23)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> have you had the chance to have a look?</p>



<a name="201900497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201900497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201900497">(Jun 24 2020 at 20:38)</a>:</h4>
<p>Sorry I have not. I will do this tomorrow. I am just finishing up another task.</p>



<a name="201902011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201902011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201902011">(Jun 24 2020 at 20:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> as far as I can see, the test case 'slicing-types-by-string' should cover it - but simply running the following:</p>
<div class="codehilite"><pre><span></span><code>java -jar org.hl7.fhir.validator.jar comm.json
FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (17 days old)
Detected Java version: 11.0.7 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 (64bit). 4096MB available
Arguments: comm.json
Directories: Current = /Users/jkv/Downloads, Package Cache = /Users/jkv/.fhir/packages
  .. FHIR Version current, definitions from hl7.fhir.r5.core#current
  .. connect to tx server @ http://tx.fhir.org
    (vcurrent)
  .. validate [comm.json]
*FAILURE* validating comm.json:  error:4 warn:0 info:0
  Error @ Communication.payload[0] (line 4, col5) : Profile http://hl7.org/fhir/StructureDefinition/Communication, Element &#39;Communication.payload[0].content[x]&#39;: minimum required = 1, but only found 0
  Error @ Communication.payload[0] (line 6, col5) : Unrecognised property &#39;@contentString&#39;
  Error @ Communication.payload[1].content.ofType(Attachment) (line 10, col4) : Attachments have data and/or url, or else must have either contentType and/oor language
  Error @ Communication.payload[2].content.ofType(Attachment) (line 15, col4) : Attachments have data and/or url, or else must have either contentType and/oor language
</code></pre></div>


<ul>
<li>with contents of the file 'comm.json' (copied from the test case):</li>
</ul>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Communication&quot;,
    &quot;payload&quot;: [
      {
        &quot;contentString&quot;: &quot;test&quot;
      },
      {
        &quot;contentAttachment&quot;: {
          &quot;title&quot;: &quot;some title&quot;
        }
      },
      {
        &quot;contentAttachment&quot;: {
          &quot;title&quot;: &quot;some other title&quot;
        }
      }
    ],
    &quot;status&quot;: &quot;in-progress&quot;
  }
</code></pre></div>


<p>gives an error on the payload: ' Error @ Communication.payload[0] (line 6, col5) : Unrecognised property '@contentString''</p>



<a name="201913427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201913427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201913427">(Jun 24 2020 at 22:53)</a>:</h4>
<p>well, it is unrecognised content. That's because you didn't tell the validator what version it is, and it defaults to R5. contentString is not valid in R5 but is valid in R3. So -version 3.0 <span class="user-mention" data-user-id="191427">@Jens Villadsen</span></p>



<a name="201936044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201936044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201936044">(Jun 25 2020 at 06:23)</a>:</h4>
<p><a href="user_uploads/10155/C7MvxiM0dLt0T6EYudLMb3xe/image.png">image.png</a></p>
<div class="message_inline_image"><a href="user_uploads/10155/C7MvxiM0dLt0T6EYudLMb3xe/image.png" title="image.png"><img src="user_uploads/10155/C7MvxiM0dLt0T6EYudLMb3xe/image.png"></a></div>



<a name="201936217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201936217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201936217">(Jun 25 2020 at 06:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> that part makes sense - however that does not explain why it fails when I point it to an IG that is based on STU3. Shouldn't that be setting the FHIR version?</p>



<a name="201936304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201936304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201936304">(Jun 25 2020 at 06:28)</a>:</h4>
<p>I mean, its errorprone if you can pass an IG that is bound to one version and then you explicitly can throw another version at the validator.</p>



<a name="201937027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201937027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201937027">(Jun 25 2020 at 06:45)</a>:</h4>
<p>it is error prone and fixing it is on my wish list but it's a total redesign</p>



<a name="201937085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201937085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201937085">(Jun 25 2020 at 06:46)</a>:</h4>
<p>because you need to reverse the order for getting the version?</p>



<a name="201937106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201937106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201937106">(Jun 25 2020 at 06:47)</a>:</h4>
<p>right. the very first thing is setting the version. I'd have to totally redesign the entire validator and hapi context framework to load the version late</p>



<a name="201937178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201937178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201937178">(Jun 25 2020 at 06:49)</a>:</h4>
<p>because fetching the IG (if specified) it not fetched up front?</p>



<a name="201937193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201937193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201937193">(Jun 25 2020 at 06:49)</a>:</h4>
<p>you can specify multiple IGs and validate against multiple versions. There's lots of great things about the way it works now. You just can't default to the IG version if only one is specified</p>



<a name="201937251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201937251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201937251">(Jun 25 2020 at 06:50)</a>:</h4>
<p>its a feature that you can specify multiple IG's that are allowed to differ in the FHIR version?</p>



<a name="201937271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201937271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201937271">(Jun 25 2020 at 06:51)</a>:</h4>
<p>yes indeed it is though it's not a feature that's good for beginners.</p>



<a name="201938242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201938242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201938242">(Jun 25 2020 at 07:12)</a>:</h4>
<p>right - I can certainly see the benefit of verifying whether a given resource is allowed across multiple IG's. However shouldn't one make suchs users aware with eg. an explicit 'versionVariance' parameter? It could provide users with a false hope of conformance or are there already  output that explains that a given resource is actually verified against multiple versions?</p>



<a name="201939421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/validator%20bug/near/201939421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/validator.20bug.html#201939421">(Jun 25 2020 at 07:32)</a>:</h4>
<p>I'm not defending the current user experience</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
