---
layout: page
title: "FHIR Chat  · Extension value[x] element syntax · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html">Extension value[x] element syntax</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154684973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154684973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154684973">(Jan 08 2019 at 23:05)</a>:</h4>
<p>Can someone confirm the syntax for defining an extension's value[x] element?<br>
Currently, I am using:<br>
&lt;element id="Extension.value[x]"&gt;<br>
&lt;path value="Extension.value[x]" /&gt;<br>
&lt;type code="CodeableConcept" /&gt;<br>
&lt;type code="Coding" /&gt;<br>
&lt;/element&gt;</p>
<p>However, reading the spec, I'm not sure that's correct. It mentions that the id and path should be different depending on the type. It also mentions that I should enumerate each of the types that are allowed in different elements with unique id's and path's. I've ALSO seen examples where the value uses slicing to indicate what the correct type is (with a sliceName).</p>
<p>So, now I'm not sure what the correct syntax is for an extension's value. Can someone show the correct syntax for an extension with a value limited to a single type, as well as an extension with a value allowing multiple types (but not all types)?</p>



<a name="154766808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154766808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154766808">(Jan 09 2019 at 23:35)</a>:</h4>
<p>Looking at how Forge handles this... I see two different behaviors depending on whether a single type is allowed, or multiple types are allowed.</p>
<p>WIth a single type, this is produced:<br>
&lt;element id="Extension.value[x]:valueCodeableConcept"&gt;<br>
    &lt;path value="Extension.valueCodeableConcept"/&gt;<br>
    &lt;sliceName value="valueCodeableConcept"/&gt;<br>
    &lt;type&gt;<br>
        &lt;code value="CodeableConcept"/&gt;<br>
    &lt;/type&gt;<br>
&lt;/element&gt;</p>
<p>With multiple types being allowed, this is produced:<br>
&lt;element id="Extension.value[x]"&gt;<br>
    &lt;path value="Extension.value[x]"/&gt;<br>
    &lt;type&gt;<br>
        &lt;code value="code"/&gt;<br>
    &lt;/type&gt;<br>
    &lt;type&gt;<br>
        &lt;code value="CodeableConcept"/&gt;<br>
    &lt;/type&gt;<br>
    &lt;type&gt;<br>
        &lt;code value="Coding"/&gt;<br>
    &lt;/type&gt;<br>
&lt;/element&gt;</p>



<a name="154952434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154952434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154952434">(Jan 11 2019 at 22:27)</a>:</h4>
<p>I'm interested in the details of this, too - for the IPS IG.</p>



<a name="154987410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154987410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154987410">(Jan 12 2019 at 15:15)</a>:</h4>
<p>Maybe during the connectathon we can get a couple people together to answer this</p>



<a name="154989910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154989910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154989910">(Jan 12 2019 at 16:29)</a>:</h4>
<p>this looks like an evening subject this week to me</p>



<a name="154996994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154996994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154996994">(Jan 12 2019 at 19:43)</a>:</h4>
<p>Sure</p>



<a name="154997242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154997242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154997242">(Jan 12 2019 at 19:50)</a>:</h4>
<p>When and where?</p>



<a name="154998201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154998201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154998201">(Jan 12 2019 at 20:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="154998924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/154998924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#154998924">(Jan 12 2019 at 20:41)</a>:</h4>
<p>not decided yet. i'll advise</p>



<a name="155080983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/155080983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#155080983">(Jan 14 2019 at 12:35)</a>:</h4>
<p>Note that R4 introduces new behavior for choice type constraints. The Forge example above describes the behavior as defined by STU3.<br>
In STU3, choice types are renamed if (and only if) constrained to a single type. To constrain a choice type that allows multiple type options, STU3 requires an explicit slice (on type) and disallows element renaming. Forge enforces this behavior.<br>
In R4, a profile is allowed to introduce multiple type-specific constraints on a choice type element, using renamed elements. Such constraints apply to the specified type only, and a profile can specify multiple of those for different type options. For example, an R4 profile can introduce both <code>valueString</code> and <code>valueBoolean</code> constraints on a <code>value[x]</code> element (w/o requiring explicit slice introduction).<br>
At least, that's my current understanding - please correct me if I'm wrong.</p>



<a name="155224757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/155224757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#155224757">(Jan 16 2019 at 03:27)</a>:</h4>
<p>Per discussion Tuesday night at the WGM, the rules are defined here:<br>
<a href="http://hl7.org/fhir/elementdefinition.html#typesx" target="_blank" title="http://hl7.org/fhir/elementdefinition.html#typesx">http://hl7.org/fhir/elementdefinition.html#typesx</a></p>



<a name="155224812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extension%20value%5Bx%5D%20element%20syntax/near/155224812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Geimer <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extension.20value.5Bx.5D.20element.20syntax.html#155224812">(Jan 16 2019 at 03:28)</a>:</h4>
<p>But we will file a tracker to add examples with explanatory text for this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
