---
layout: page
title: "FHIR Chat  · Standard VitalSigns example failing to validate · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Standard.20VitalSigns.20example.20failing.20to.20validate.html">Standard VitalSigns example failing to validate</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="158116732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Standard%20VitalSigns%20example%20failing%20to%20validate/near/158116732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Standard.20VitalSigns.20example.20failing.20to.20validate.html#158116732">(Feb 12 2019 at 13:24)</a>:</h4>
<p>I noticed that some of the standard Observation examples (STU3) fail to validate with the standalone validator. I did this:</p>
<p>1. Get the latest validator from Nexus (I was using <a href="https://oss.sonatype.org/content/repositories/snapshots/ca/uhn/hapi/fhir/org.hl7.fhir.validation.cli/3.8.0-SNAPSHOT/org.hl7.fhir.validation.cli-3.8.0-20190211.175101-5.jar" target="_blank" title="https://oss.sonatype.org/content/repositories/snapshots/ca/uhn/hapi/fhir/org.hl7.fhir.validation.cli/3.8.0-SNAPSHOT/org.hl7.fhir.validation.cli-3.8.0-20190211.175101-5.jar">*org.hl7.fhir.validation.cli-3.8.0-20190211.175101-5.jar*</a>)<br>
2. Get the standard STU3 height Observation example (which declares conformance to the VitalSigns profile):  <a href="http://hl7.org/fhir/stu3/observation-example-body-height.xml" target="_blank" title="http://hl7.org/fhir/stu3/observation-example-body-height.xml">http://hl7.org/fhir/stu3/observation-example-body-height.xml</a><br>
3. Run the validator on it with <code>-version 3.0.1</code>.</p>
<p>This gives the following error</p>
<div class="codehilite"><pre><span></span>  Error @ Observation (line 1, col80) : If there is no component or related element then either a value[x] or a data absent reason must be present [(component.empty() and related.empty()) implies (dataAbsentReason or value)]
</pre></div>


<p>I see that constraint in the profile (vs-3), but I thought that would only apply if <code>Observation.component</code> was actually present (given that constraint vs-2 ensures that either a value or a data absent reason is given if there are no components).</p>
<p>Conversely, the <a href="https://simplifier.net/validate" target="_blank" title="https://simplifier.net/validate">online Simplifier validator</a> does not throw this error, but instead complains that </p>
<blockquote>
<p>Code 'in' from system '<a href="http://unitsofmeasure.org" target="_blank" title="http://unitsofmeasure.org">http://unitsofmeasure.org</a>' does not exist in valueset '<a href="http://hl7.org/fhir/ValueSet/ucum-vitals-common" target="_blank" title="http://hl7.org/fhir/ValueSet/ucum-vitals-common">http://hl7.org/fhir/ValueSet/ucum-vitals-common</a>'</p>
</blockquote>
<p>Who's right here?</p>



<a name="158117313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Standard%20VitalSigns%20example%20failing%20to%20validate/near/158117313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Standard.20VitalSigns.20example.20failing.20to.20validate.html#158117313">(Feb 12 2019 at 13:33)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span>, I'll ask our colleague <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> to investigate, he maintains the validator logic.</p>



<a name="158118466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Standard%20VitalSigns%20example%20failing%20to%20validate/near/158118466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Standard.20VitalSigns.20example.20failing.20to.20validate.html#158118466">(Feb 12 2019 at 13:51)</a>:</h4>
<p>the FHIRPaths are in error. I'm working on a technical correction to fix them</p>



<a name="158119678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Standard%20VitalSigns%20example%20failing%20to%20validate/near/158119678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Standard.20VitalSigns.20example.20failing.20to.20validate.html#158119678">(Feb 12 2019 at 14:09)</a>:</h4>
<p>Sounds good <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="158686856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Standard%20VitalSigns%20example%20failing%20to%20validate/near/158686856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Standard.20VitalSigns.20example.20failing.20to.20validate.html#158686856">(Feb 16 2019 at 09:37)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span>, I have created an issue on the .Net library for this: <a href="https://github.com/ewoutkramer/fhir-net-api/issues/872" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api/issues/872">https://github.com/ewoutkramer/fhir-net-api/issues/872</a>.</p>



<a name="158708502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Standard%20VitalSigns%20example%20failing%20to%20validate/near/158708502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Standard.20VitalSigns.20example.20failing.20to.20validate.html#158708502">(Feb 16 2019 at 19:21)</a>:</h4>
<p>Thanks,  <span class="user-mention" data-user-id="191347">@Mirjam Baltus</span> !</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
