---
layout: page
title: "FHIR Chat  · Extend the definition of SearchParameters? · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extend.20the.20definition.20of.20SearchParameters.3F.html">Extend the definition of SearchParameters?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="169849884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extend%20the%20definition%20of%20SearchParameters%3F/near/169849884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extend.20the.20definition.20of.20SearchParameters.3F.html#169849884">(Jul 08 2019 at 08:25)</a>:</h4>
<p>Situation: We have a german extension for Patient.gender, to differentiate between two different kinds of "other", adding the codes "undetermined" and "divers", somewhat like this:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;gender</span> <span class="na">value=</span><span class="s">&quot;other&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://fhir.de/StructureDefinition/gender-amtlich-de&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;divers&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/extension&gt;</span>
<span class="nt">&lt;/gender&gt;</span>
</pre></div>


<p>If we want to be able to search for Patients of gender "divers", do we need to add a new SearchParameter, or is there a way to "extend the reach" of the existing <code>gender</code>Parameter (by adding another FHIRPath expression) to also include the values from the extension, to allow queries like <code>/Patient?gender=divers</code>? Can an IG extend the definition of SearchParameters?</p>



<a name="169851046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extend%20the%20definition%20of%20SearchParameters%3F/near/169851046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extend.20the.20definition.20of.20SearchParameters.3F.html#169851046">(Jul 08 2019 at 08:45)</a>:</h4>
<p>Th IG would need to have another search parameter, or filter to other server side, and divers on client side.</p>



<a name="169851100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extend%20the%20definition%20of%20SearchParameters%3F/near/169851100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extend.20the.20definition.20of.20SearchParameters.3F.html#169851100">(Jul 08 2019 at 08:46)</a>:</h4>
<p>I thought so. But it felt worth asking :)</p>



<a name="169877691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extend%20the%20definition%20of%20SearchParameters%3F/near/169877691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extend.20the.20definition.20of.20SearchParameters.3F.html#169877691">(Jul 08 2019 at 15:10)</a>:</h4>
<p>Hold on,  what if  <code>SP.derivedFrom</code> =  <code>gender</code> SP  and then you value <code>SP.expression</code>.   What does that mean?  Is that expression in addition to the <code>gender</code> SP or instead of the <code>gender1</code> SP ?</p>



<a name="170433570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extend%20the%20definition%20of%20SearchParameters%3F/near/170433570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extend.20the.20definition.20of.20SearchParameters.3F.html#170433570">(Jul 09 2019 at 08:28)</a>:</h4>
<p>I would think that an SP that is <code>derivedFrom</code> a core SP sort of "overwrites" the original SP definition.<br>
So in my case, the derived SP would have to specify both the path to Patient.gender as well as Patient.gender.extension</p>
<p>The spec says</p>
<blockquote>
<p>If a derivedFrom is provided, then the details in the search parameter must be consistent with the definition from which it is defined. i.e. the parameter should have the same meaning, and (usually) the functionality should be a proper subset of the underlying search parameter.</p>
</blockquote>
<p>So technically what I was proposing doesn't fit the bill for "proper subset". But then again, this sounds like a very soft SHOULD... <span aria-label="smiling devil" class="emoji emoji-1f608" role="img" title="smiling devil">:smiling_devil:</span></p>



<a name="170497944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Extend%20the%20definition%20of%20SearchParameters%3F/near/170497944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Extend.20the.20definition.20of.20SearchParameters.3F.html#170497944">(Jul 09 2019 at 23:07)</a>:</h4>
<p>Subset, not superset.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
