---
layout: page
title: "FHIR Chat  · Forge profile and build memory · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge.20profile.20and.20build.20memory.html">Forge profile and build memory</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153817331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge%20profile%20and%20build%20memory/near/153817331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge.20profile.20and.20build.20memory.html#153817331">(Mar 22 2016 at 16:10)</a>:</h4>
<p>I have built a Composition StructureDefinition profile based off of the C-CDA Transfer Summary using Forge. When I run the build with only 3 section slices the build completes successfully. However, when I create all 29 sections, the build fails with  "Exception in thread "main" java.lang.OutOfMemoryError: GC overhead limit exceeded". Is there a reason the build is only limited to 64m (ANT_OPTS=-Xms64m )?  Is there a way I should look at addressing this other than adjusting the heap size? On a similar note, is there a way to decrease the size of the profile in Forge (I see Forge adds a lot of definition, comments, and requirements by default that I did not add. Is there a way to remove that)?</p>



<a name="153817333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge%20profile%20and%20build%20memory/near/153817333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge.20profile.20and.20build.20memory.html#153817333">(Mar 22 2016 at 17:53)</a>:</h4>
<p>Hi Corey, Forge tries to merge missing values from the underlying base resource. If you clear certain properties, effectively the values will be inherited from the base profile, as defined by the current FHIR standard. FHIR seems to lack a way to explicitly clear certain inherited values in a derived profile (this could be a topic to discuss at the next WGM). Also, Forge tries hard to emit a small differential, but the result might still contain some unnecessary nodes, because of my sloppy coding ;p</p>



<a name="153817335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge%20profile%20and%20build%20memory/near/153817335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge.20profile.20and.20build.20memory.html#153817335">(Mar 22 2016 at 19:11)</a>:</h4>
<p>Corey, how big is all 29 sections? and which build is failing? the main FHIR build?</p>



<a name="153817354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge%20profile%20and%20build%20memory/near/153817354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Spears <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge.20profile.20and.20build.20memory.html#153817354">(Mar 22 2016 at 21:43)</a>:</h4>
<p>Grahame, I am trying to build it on my local machine (before checking it in). Each section has 8 differential elements each containing a short, description, comments, min, max, base, type, and mapping. I will try the build again with a smaller version of the profile to see where the issues arise. Is there a quick way to start the build at the profile or better yet, just build my single profile?</p>



<a name="153817359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge%20profile%20and%20build%20memory/near/153817359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge.20profile.20and.20build.20memory.html#153817359">(Mar 22 2016 at 21:46)</a>:</h4>
<p>no there's no quick way. Sorry. It's on the to do list, but it has never quite got to the top</p>



<a name="153817361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Forge%20profile%20and%20build%20memory/near/153817361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Forge.20profile.20and.20build.20memory.html#153817361">(Mar 22 2016 at 21:46)</a>:</h4>
<p>but 64? that's just the ant memory. the fhir build uses 1GB+</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
