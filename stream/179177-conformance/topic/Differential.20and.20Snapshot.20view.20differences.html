---
layout: page
title: "FHIR Chat  · Differential and Snapshot view differences · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html">Differential and Snapshot view differences</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153833266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833266">(Jun 16 2016 at 06:18)</a>:</h4>
<p>I'm noticing in the DSTU2 line that when I build a profile that has constraints on meta that only meta shows up in the differential, they don't show up in the snapshot, and that my mappings don't show up in the Mapping table either.  It's like these constraints have disappeared, possibly because they don't appear directly within the resource, only in Resource or DomainResource.  Is it too much to hope for a fix in the build tools to correct this for building a profile from the DSTU2 line?</p>



<a name="153833270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833270">(Jun 16 2016 at 06:21)</a>:</h4>
<p>If this is with forge, there is a menu option to include these too.<br>
Look under the options menu in the FHIR Options, last 3 items (save ... and show ...)</p>



<a name="153833271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833271">(Jun 16 2016 at 06:21)</a>:</h4>
<p>I'm sure Michel will correct me if I'm mistaken when the timezone moves to them.</p>



<a name="153833278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833278">(Jun 16 2016 at 06:32)</a>:</h4>
<p>Not with Forge, but with FHIR build tools, unfortunately.  Also noted that detailed descriptions are missing in these cases as well in the Profile output.</p>



<a name="153833279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833279">(Jun 16 2016 at 06:38)</a>:</h4>
<p>Can't help there unfortunately.</p>



<a name="153833280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833280">(Jun 16 2016 at 06:39)</a>:</h4>
<p>is this anywhere I can run it?</p>



<a name="153833411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833411">(Jun 17 2016 at 01:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191387">@Keith Boone</span> Grahame just gave me a patch for a similar issue I had on the May2016 release.  If you authored the profiles with Forge, they were spitting elements out in the wrong order - and the snapshot wasn't being generated correctly.</p>



<a name="153833436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833436">(Jun 17 2016 at 10:07)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> does this bug still exist in Forge? I'm aware that snapshot generation needs some work. But I'm surprised and a bit worried about the apparently incorrect order of elements. Can you describe steps to reproduce?</p>



<a name="153833437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833437">(Jun 17 2016 at 10:07)</a>:</h4>
<p>It was the dfferential that was out of order</p>



<a name="153833439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833439">(Jun 17 2016 at 10:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> do you know the specific element(s) that are out of order? Keith mentions constraints on meta.</p>



<a name="153833440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833440">(Jun 17 2016 at 10:56)</a>:</h4>
<p>Keith didn't say it was out of order, and I don't know whether it is </p>



<a name="153833441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833441">(Jun 17 2016 at 10:56)</a>:</h4>
<p>but Keith is not using forge anyway</p>



<a name="153833442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833442">(Jun 17 2016 at 10:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> do you know how to reproduce this issue?</p>



<a name="153833444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833444">(Jun 17 2016 at 11:14)</a>:</h4>
<p>I have noticed another difference between snapshot and differential list in (DSTU2) profile-resources. For backbone elements in core resource definitions, the element type is defined in the snapshot, but is missing from the differential. For example ValueSet.contact:</p>
<p>Snapshot:</p>
<div class="codehilite"><pre>&lt;element&gt;
  &lt;path value=&quot;ValueSet.contact&quot;/&gt;
  &lt;short value=&quot;Contact details of the publisher&quot;/&gt;
  &lt;definition value=&quot;Contacts to assist a user in finding and communicating with the publisher.&quot;/&gt;
  &lt;comments value=&quot;May be a web site, an email address, a telephone number, etc.&quot;/&gt;
  &lt;min value=&quot;0&quot;/&gt;
  &lt;max value=&quot;*&quot;/&gt;
  &lt;type&gt;
    &lt;code value=&quot;BackboneElement&quot;/&gt;
  &lt;/type&gt;
  &lt;isSummary value=&quot;true&quot;/&gt;
&lt;/element&gt;
</pre></div>


<p>Differential:</p>
<div class="codehilite"><pre>&lt;element&gt;
  &lt;path value=&quot;ValueSet.contact&quot;/&gt;
  &lt;short value=&quot;Contact details of the publisher&quot;/&gt;
  &lt;definition value=&quot;Contacts to assist a user in finding and communicating with the publisher.&quot;/&gt;
  &lt;comments value=&quot;May be a web site, an email address, a telephone number, etc.&quot;/&gt;
  &lt;min value=&quot;0&quot;/&gt;
  &lt;max value=&quot;*&quot;/&gt;
  &lt;isSummary value=&quot;true&quot;/&gt;
&lt;/element&gt;
</pre></div>


<p>In Forge, I handle this via a special preprocessing step that copies missing element types from snapshot to differential.</p>
<p>Is this difference by design?</p>



<a name="153833458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833458">(Jun 17 2016 at 12:45)</a>:</h4>
<p>It was one of the items I sent to you.  "id" was showing up after "extension".</p>



<a name="153833489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833489">(Jun 17 2016 at 13:21)</a>:</h4>
<p>why do you copy types to the differentials? </p>



<a name="153833490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833490">(Jun 17 2016 at 13:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Forge needs the element type info in the differential, because of how the application logic is structured. So if the element type is missing from the differential, the application resolves it from the snapshot. This all works fine, but I was just wondering why element types are missing from the differential for Backbone elements in core resource definitions. Is this by design?</p>



<a name="153833491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833491">(Jun 17 2016 at 13:34)</a>:</h4>
<p>I never populate the types in the differentials unless the user makes a change to the types</p>



<a name="153833492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833492">(Jun 17 2016 at 13:45)</a>:</h4>
<p>Naturally. But for core resource definitions, all the element definitions describe new elements (not constraints on base resource), so I would expect differential to be identical to snapshot (excluding elements inherited from Resource or DomainResource).</p>



<a name="153833493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833493">(Jun 17 2016 at 13:46)</a>:</h4>
<p>Conceptually, the core resource definitions introduce new elements. So I would expect the element definitions to be fully expanded in the differential.</p>



<a name="153833495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833495">(Jun 17 2016 at 14:04)</a>:</h4>
<p>oh yes. you're right</p>



<a name="153833496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833496">(Jun 17 2016 at 14:05)</a>:</h4>
<p>you're editing specializations in forge?</p>



<a name="153833498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833498">(Jun 17 2016 at 14:11)</a>:</h4>
<p>Yes, in Forge you create specializations. But internally Forge resolves the associated (core) base resource from profiles-resources.xml.</p>



<a name="153833500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Differential%20and%20Snapshot%20view%20differences/near/153833500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Differential.20and.20Snapshot.20view.20differences.html#153833500">(Jun 17 2016 at 14:14)</a>:</h4>
<p>Anyway Forge doesn't strictly needs this, because it can resolve the missing type info from the snapshot. But it just seemed a bit strange/arbitrary to me that the differentials in profiles-resources.xml are missing element type info for backbone elements.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
