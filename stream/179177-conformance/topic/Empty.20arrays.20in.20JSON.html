---
layout: page
title: "FHIR Chat  · Empty arrays in JSON · conformance"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/index.html">conformance</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Empty.20arrays.20in.20JSON.html">Empty arrays in JSON</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="214152784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Empty%20arrays%20in%20JSON/near/214152784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Empty.20arrays.20in.20JSON.html#214152784">(Oct 22 2020 at 07:38)</a>:</h4>
<p>Hi <span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> I am wondering how to interpret <a href="https://www.hl7.org/fhir/r4/json.html#xml">the following statement in the spec</a> about the JSON representation of resources:</p>
<blockquote>
<p>Just as in XML, JSON objects and arrays are never empty, and properties never have null values (except for a special case documented below). </p>
</blockquote>
<p>I would read this as saying that empty arrays are invalid in FHIR resources. However, the JAR validator (Version 5.1.16) says the following is valid.</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
    <span class="nt">"resourceType"</span><span class="p">:</span> <span class="s2">"DocumentReference"</span><span class="p">,</span>
    <span class="nt">"status"</span><span class="p">:</span> <span class="s2">"current"</span><span class="p">,</span>
    <span class="nt">"category"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="nt">"coding"</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}],</span>
    <span class="nt">"content"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="nt">"attachment"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"contentType"</span><span class="p">:</span> <span class="s2">"text/plain"</span><span class="p">,</span> <span class="nt">"data"</span><span class="p">:</span> <span class="s2">"Zm9v"</span> <span class="p">}</span> <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>(It does complain about empty <em>objects</em>, though.) Is the statement from the spec only meant to provide best-practice guidance or is it merely not enforced by the validator?</p>



<a name="214197489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Empty%20arrays%20in%20JSON/near/214197489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Empty.20arrays.20in.20JSON.html#214197489">(Oct 22 2020 at 14:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="214242593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Empty%20arrays%20in%20JSON/near/214242593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Empty.20arrays.20in.20JSON.html#214242593">(Oct 22 2020 at 20:14)</a>:</h4>
<p>looks like an oversight to me</p>



<a name="214243999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Empty%20arrays%20in%20JSON/near/214243999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Empty.20arrays.20in.20JSON.html#214243999">(Oct 22 2020 at 20:29)</a>:</h4>
<p>Do you need a Git issue?</p>



<a name="214246082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179177-conformance/topic/Empty%20arrays%20in%20JSON/near/214246082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179177-conformance/topic/Empty.20arrays.20in.20JSON.html#214246082">(Oct 22 2020 at 20:47)</a>:</h4>
<p>no</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
