---
layout: page
title: "FHIR Chat  · using mCSD · who-smart-guidelines"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/index.html">who-smart-guidelines</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html">using mCSD</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="270222033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270222033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270222033">(Feb 01 2022 at 14:47)</a>:</h4>
<p><span class="user-mention" data-user-id="193299">@Luke Duncan</span> <span class="user-mention" data-user-id="194192">@Richard Stanley</span> <span class="user-mention" data-user-id="356307">@Kunjan Patel</span> <span class="user-mention" data-user-id="199006">@Peter Lubell-Doughtie</span>  <span class="user-mention" data-user-id="408480">@Christopher Haskew</span>  for discussion on mCSD and hierarchy support / library</p>



<a name="270268958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270268958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270268958">(Feb 01 2022 at 19:18)</a>:</h4>
<p>adding <span class="user-mention" data-user-id="378988">@Jenny Thompson</span> as well</p>



<a name="270269080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270269080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270269080">(Feb 01 2022 at 19:18)</a>:</h4>
<p><span class="user-mention" data-user-id="194192">@Richard Stanley</span>  what's the status federated facility registry/admin hierarchy work?</p>



<a name="270270027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270270027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270270027">(Feb 01 2022 at 19:24)</a>:</h4>
<p>GOFR supports HAPI partitions and manages them. So, each data source has its own partition and can be shared between users. The basic UI support for navigating between them is just done. But, managing a central partition that uses shared data from other partition is a WIP right now.</p>



<a name="270270533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270270533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270270533">(Feb 01 2022 at 19:27)</a>:</h4>
<p>Another potentially helpful view of how mCSD sees the world with core resources: <a href="https://raw.githubusercontent.com/IHE/ITI.mCSD/main/input/images/mcsd1.png">https://raw.githubusercontent.com/IHE/ITI.mCSD/main/input/images/mcsd1.png</a></p>
<div class="message_inline_image"><a href="https://raw.githubusercontent.com/IHE/ITI.mCSD/main/input/images/mcsd1.png"><img src="https://uploads.zulipusercontent.net/801fe464f5860f2ee6639b4797c244733303ee5c/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f4948452f4954492e6d4353442f6d61696e2f696e7075742f696d616765732f6d637364312e706e67"></a></div>



<a name="270277942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270277942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Duncan <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270277942">(Feb 01 2022 at 20:14)</a>:</h4>
<p>Just for completeness, here is the mCSD IG (which is currently out for public comment, so feel free to make comments, although it's mainly on the conversion to an IG):  <a href="https://profiles.ihe.net/ITI/mCSD/index.html">https://profiles.ihe.net/ITI/mCSD/index.html</a></p>



<a name="270280438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270280438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Berg <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270280438">(Feb 01 2022 at 20:31)</a>:</h4>
<p><span class="user-mention" data-user-id="388620">@Benjamin Mwalimu</span> or <span class="user-mention" data-user-id="387988">@Francis Otieno</span>  can you comment when you have the chance of how we've implemented this with FHIR Core?</p>



<a name="270282530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270282530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Duncan <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270282530">(Feb 01 2022 at 20:45)</a>:</h4>
<p>Sorry, had computer problems.  Here's the whitepaper as well:  <a href="https://profiles.ihe.net/ITI/papers/mCSD/index.html">https://profiles.ihe.net/ITI/papers/mCSD/index.html</a></p>



<a name="270299692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270299692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Lubell-Doughtie <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270299692">(Feb 01 2022 at 22:35)</a>:</h4>
<p>here's the hapi extension we're using for locations right now, <a href="https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location">https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location</a></p>



<a name="270344305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270344305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Mwalimu <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270344305">(Feb 02 2022 at 07:29)</a>:</h4>
<p><a href="https://github.com/opensrp/hapi-fhir-opensrp-extensions/blob/main/location/src/main/java/org/smartregister/extension/rest/LocationHierarchyResourceProvider.java">https://github.com/opensrp/hapi-fhir-opensrp-extensions/blob/main/location/src/main/java/org/smartregister/extension/rest/LocationHierarchyResourceProvider.java</a> This class generates a location hierarchy based on the location resource <code>partOf</code> attribute.  </p>
<p>The endpoint accepts a location <code>identifier</code> then returns the corresponding hierarchy as a resource.  Here is a link to test out the implementation <a href="https://fhir.labs.smartregister.org/fhir/LocationHierarchy?identifier=eff94f33-c356-4634-8795-d52340706ba9">https://fhir.labs.smartregister.org/fhir/LocationHierarchy?identifier=eff94f33-c356-4634-8795-d52340706ba9</a> </p>
<p>Demo user credentials<br>
username: <code>demo</code><br>
password: <code>Amani123</code></p>



<a name="270388201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270388201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Duncan <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270388201">(Feb 02 2022 at 14:04)</a>:</h4>
<p>Ah, ok.  I thought you were doing multiple hierarchies, it looks like this is just for the single partOf hierarchy.  the FHIR spec also allows you to use :above and :below on queries to get results for hierarchies like that.  As well as _include:iterate and _revInclude:iterate, although in HAPI they still support using _include:recurse which was an older naming.  I'm not sure if it supports the latest naming, but the :recurse does the same thing.  Hopefully they've updated to include the current naming.</p>



<a name="270388504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270388504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Duncan <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270388504">(Feb 02 2022 at 14:06)</a>:</h4>
<p>GraphQL may also be an option, but I don't know of the state of implementation for that either.</p>



<a name="270391669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270391669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270391669">(Feb 02 2022 at 14:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="199006">Peter Lubell-Doughtie</span> <a href="#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270299692">said</a>:</p>
<blockquote>
<p>here's the hapi extension we're using for locations right now, <a href="https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location">https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location</a></p>
</blockquote>
<p>this looks like it is fulfilling a requests "give me the hierarchy given a location ID"  right?  is there a capability statement / operation definition that underpins this?</p>
<p>I am not sure this aligned to mCSD 3.90.4.1.2.2 <a href="http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension">http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension</a> which is for hierarchies expressed through organization.</p>



<a name="270462708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270462708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Lubell-Doughtie <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270462708">(Feb 02 2022 at 21:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191604">Carl Leitner</span> <a href="#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270391669">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="199006">Peter Lubell-Doughtie</span> <a href="#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270299692">said</a>:</p>
<blockquote>
<p>here's the hapi extension we're using for locations right now, <a href="https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location">https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location</a></p>
</blockquote>
<p>this looks like it is fulfilling a requests "give me the hierarchy given a location ID"  right?  is there a capability statement / operation definition that underpins this?</p>
<p>I am not sure this aligned to mCSD 3.90.4.1.2.2 <a href="http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension">http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension</a> which is for hierarchies expressed through organization.</p>
</blockquote>



<a name="270462820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270462820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Lubell-Doughtie <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270462820">(Feb 02 2022 at 21:44)</a>:</h4>
<p>^ sorry still getting used to zulip</p>



<a name="270463372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270463372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Lubell-Doughtie <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270463372">(Feb 02 2022 at 21:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191604">Carl Leitner</span> <a href="#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270391669">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="199006">Peter Lubell-Doughtie</span> <a href="#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270299692">said</a>:</p>
<blockquote>
<p>here's the hapi extension we're using for locations right now, <a href="https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location">https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location</a></p>
</blockquote>
<p>this looks like it is fulfilling a requests "give me the hierarchy given a location ID"  right?  is there a capability statement / operation definition that underpins this?</p>
<p>I am not sure this aligned to mCSD 3.90.4.1.2.2 <a href="http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension">http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension</a> which is for hierarchies expressed through organization.</p>
</blockquote>
<p>these issues are related, <a href="https://github.com/opensrp/fhircore/issues/188">https://github.com/opensrp/fhircore/issues/188</a> and <a href="https://github.com/opensrp/fhircore/issues/189">https://github.com/opensrp/fhircore/issues/189</a>, but we don't something more official. The IHE link is giving me a page not found, do you have another link to the mCSD org hierarchy? Although it's designed for organizations, does it make sense to use that for locations?</p>



<a name="270536376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270536376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270536376">(Feb 03 2022 at 11:50)</a>:</h4>
<p>yes (if my location you mean geographic objects and not FHIR Location resources).   one use case is that some countries (e.g. Botswana) have two geographic hierarchies - there are administrative districts as well as health districts.  The FBO sector in Tanzania is another example of multiple geographic hierarchies.  Both of these (right <span class="user-mention" data-user-id="193299">@Luke Duncan</span> ? ) would be have different FHIR Organizational hierarchies with FHIR Locations for the leaf nodes = health facilities.</p>



<a name="270536451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270536451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270536451">(Feb 03 2022 at 11:51)</a>:</h4>
<p>the link with the extension is just the declaration of the extension <a href="http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension">http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension</a> which is referenced in the mCSD PDF <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_mCSD.pdf">https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_mCSD.pdf</a></p>



<a name="270544726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270544726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Duncan <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270544726">(Feb 03 2022 at 13:04)</a>:</h4>
<p>You should use this for mCSD:  <a href="https://profiles.ihe.net/ITI/mCSD/index.html">https://profiles.ihe.net/ITI/mCSD/index.html</a></p>



<a name="270544908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/310477-who-smart-guidelines/topic/using%20mCSD/near/270544908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Duncan <a href="https://fhir.github.io/chat-archive/stream/310477-who-smart-guidelines/topic/using.20mCSD.html#270544908">(Feb 03 2022 at 13:05)</a>:</h4>
<p>In mCSD, facilities are represented by a Location and Organization pair.  The multiple hierarchies are handled in the Organization side by the extension Carl mentions.  <a href="https://profiles.ihe.net/ITI/mCSD/StructureDefinition-IHE.mCSD.OrganizationHierarchy.html">https://profiles.ihe.net/ITI/mCSD/StructureDefinition-IHE.mCSD.OrganizationHierarchy.html</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
