---
layout: page
title: "FHIR Chat  · 12 Step Program · Da Vinci PAS"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/index.html">Da Vinci PAS</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/topic/12.20Step.20Program.html">12 Step Program</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175705322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208874-Da%20Vinci%20PAS/topic/12%20Step%20Program/near/175705322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick LaRocque <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/topic/12.20Step.20Program.html#175705322">(Sep 14 2019 at 15:03)</a>:</h4>
<p>For the first step: Hook Request (CRD)<br>
Download the crd-request-generator from GitHub: <a href="https://github.com/HL7-DaVinci/crd-request-generator" target="_blank" title="https://github.com/HL7-DaVinci/crd-request-generator">https://github.com/HL7-DaVinci/crd-request-generator</a><br>
Follow the steps to build and get it running</p>



<a name="175705479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208874-Da%20Vinci%20PAS/topic/12%20Step%20Program/near/175705479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick LaRocque <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/topic/12.20Step.20Program.html#175705479">(Sep 14 2019 at 15:07)</a>:</h4>
<p>This will cover steps 1-3.<br>
Once it is running, in the web application running at: localhost:3000<br>
Select the Dara button<br>
Select stu3 (r4 support is not yet implemented in CRD and DTR)<br>
Change the CRD Server to:<br>
<a href="https://davinci-crd.logicahealth.org/stu3/cds-services/order-review-crd" target="_blank" title="https://davinci-crd.logicahealth.org/stu3/cds-services/order-review-crd">https://davinci-crd.logicahealth.org/stu3/cds-services/order-review-crd</a><br>
Select the Include Prefetch button<br>
Finally, press Submit<br>
This will send the CDS hook request to the CRD server running at logicahealth and return a card</p>



<a name="175706301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208874-Da%20Vinci%20PAS/topic/12%20Step%20Program/near/175706301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick LaRocque <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/topic/12.20Step.20Program.html#175706301">(Sep 14 2019 at 15:29)</a>:</h4>
<p>The request generator is trying to pull data from the locally running EHR server so we will need to set that up next.<br>
Pull the CRD repo from GitHub: <a href="https://github.com/HL7-DaVinci/CRD" target="_blank" title="https://github.com/HL7-DaVinci/CRD">https://github.com/HL7-DaVinci/CRD</a><br>
Build and launch the ehr-server from within the project:<br>
gradle :ehr-server:appRun<br>
Populate test data into the ehr-server while the ehr-server is running (within CRD/ehr-server):<br>
gradle loadData</p>



<a name="175706948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208874-Da%20Vinci%20PAS/topic/12%20Step%20Program/near/175706948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick LaRocque <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/topic/12.20Step.20Program.html#175706948">(Sep 14 2019 at 15:46)</a>:</h4>
<p>Steps 4 and 5: Smart on FHIR app launch (DTR) require an authentication server running locally. Keycloak can be setup using the instructions at:<br>
<a href="https://github.com/HL7-DaVinci/CRD#setting-up-a-keycloak-instance" target="_blank" title="https://github.com/HL7-DaVinci/CRD#setting-up-a-keycloak-instance">https://github.com/HL7-DaVinci/CRD#setting-up-a-keycloak-instance</a></p>



<a name="175713571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208874-Da%20Vinci%20PAS/topic/12%20Step%20Program/near/175713571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick LaRocque <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/topic/12.20Step.20Program.html#175713571">(Sep 14 2019 at 18:55)</a>:</h4>
<p>After the keycloak server is properly setup, you need to register your local FHIR server, see:<br>
<a href="https://github.com/HL7-DaVinci/dtr#connecting-with-other-subprojects" target="_blank" title="https://github.com/HL7-DaVinci/dtr#connecting-with-other-subprojects">https://github.com/HL7-DaVinci/dtr#connecting-with-other-subprojects</a><br>
The location to register is at:<br>
<a href="https://davinci-dtr.logicahealth.org/register" target="_blank" title="https://davinci-dtr.logicahealth.org/register">https://davinci-dtr.logicahealth.org/register</a><br>
put in your Client ID for the auth server (probably app-login)<br>
add your local fhir server: <a href="http://localhost:8080/ehr-server/stu3" target="_blank" title="http://localhost:8080/ehr-server/stu3">http://localhost:8080/ehr-server/stu3</a><br>
then click submit</p>



<a name="175718784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208874-Da%20Vinci%20PAS/topic/12%20Step%20Program/near/175718784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick LaRocque <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/topic/12.20Step.20Program.html#175718784">(Sep 14 2019 at 21:22)</a>:</h4>
<p>If you are having a problem with DTR not loading after you try to launch and the error in the javascript console in chrome says "Failed to read the 'localStorage' property from 'Window': Access is denied for this document", you will need to disable the "Block third-party cookies" setting.<br>
<a href="/user_uploads/10155/x7G_hmFks5654JzzZcEmkbsU/Screen-Shot-2019-09-14-at-5.19.13-PM.png" target="_blank" title="Screen-Shot-2019-09-14-at-5.19.13-PM.png">Screen-Shot-2019-09-14-at-5.19.13-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/x7G_hmFks5654JzzZcEmkbsU/Screen-Shot-2019-09-14-at-5.19.13-PM.png" target="_blank" title="Screen-Shot-2019-09-14-at-5.19.13-PM.png"><img src="/user_uploads/10155/x7G_hmFks5654JzzZcEmkbsU/Screen-Shot-2019-09-14-at-5.19.13-PM.png"></a></div>



<a name="175747061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/208874-Da%20Vinci%20PAS/topic/12%20Step%20Program/near/175747061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Gryan <a href="https://fhir.github.io/chat-archive/stream/208874-Da-Vinci-PAS/topic/12.20Step.20Program.html#175747061">(Sep 15 2019 at 12:37)</a>:</h4>
<p>FHIRSandbox/DaVinci/FHIR4-0-0-Test /PAS <br>
Aegis has provided a test suite for the PAS reference implementation that is running on <a href="https://davinci-prior-auth.logicahealth.org/" target="_blank" title="https://davinci-prior-auth.logicahealth.org/">https://davinci-prior-auth.logicahealth.org/</a><br>
<a href="/user_uploads/10155/awsyfEpAQlabJb0mI-enYrQo/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/awsyfEpAQlabJb0mI-enYrQo/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/awsyfEpAQlabJb0mI-enYrQo/pasted_image.png"></a></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
