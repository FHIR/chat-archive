---
layout: page
title: "FHIR Chat  · warning: multiple matching profiles among choices · genomics/committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/index.html">genomics/committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html">warning: multiple matching profiles among choices</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175559597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/175559597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#175559597">(Sep 12 2019 at 18:55)</a>:</h4>
<p>Interesting error (strength="warning") we are currently getting on Observation.derivedFrom instances in examples:</p>
<p><code>Found multiple matching profiles among choices: ; [http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/obs-haplotype, http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/obs-variant]</code></p>
<p>In particular, Haplotype can be derived from either a Haplotype or a Variant, and the validator seems to get confused because they are both Observations. That is, even if we are declaring the "derivedFrom" resource as <code>obs-variant</code>, the validator seems to be picking haplotype and validating it against that structureDef.--We later get the error,</p>
<p><code>Expected fixed CodeableConcept not found for system: http://loinc.org code: 84414-2 display: null - Issues: [ValidationMessage[level=ERROR,type=VALUE,location=Bundle.entry[9].resource.code.coding.code,message=Value is '69548-6' but must be '84414-2']]</code></p>
<p>Where the haplotype is 84414-2 and variant is 69548-6.</p>
<p>I saw another thread about this, will try and link here/follow-up</p>



<a name="175559678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/175559678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#175559678">(Sep 12 2019 at 18:56)</a>:</h4>
<p>Similar errors appear for genotypes which can be derived from either haplotypes or variants</p>



<a name="176680287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/176680287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#176680287">(Sep 26 2019 at 17:53)</a>:</h4>
<p><span class="user-mention" data-user-id="196553">@James Jones</span> -- just checking on this, as we are still getting these warnings.  Did you ever find another thread on this topic?</p>



<a name="176680943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/176680943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#176680943">(Sep 26 2019 at 18:00)</a>:</h4>
<p>This is "working as intended" due to the other errors</p>



<a name="176681115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/176681115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#176681115">(Sep 26 2019 at 18:02)</a>:</h4>
<p>Heh heh, ok.  Which other errors, or do you know?</p>



<a name="176681117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/176681117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#176681117">(Sep 26 2019 at 18:02)</a>:</h4>
<p>The validator realizes the reference could be multiple profiles so test it against all options. If one passes, no errors or warning is displayed. If all fail (current case due to LOINC value set errors) then the warning and relevant errors are displayed.</p>



<a name="176681183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/176681183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#176681183">(Sep 26 2019 at 18:02)</a>:</h4>
<p>From Lloyd, Q4 Wednesday, tried to get that into the notes</p>



<a name="176682407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/176682407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#176682407">(Sep 26 2019 at 18:15)</a>:</h4>
<div class="codehilite"><pre><span></span>Matching multiple error class should go away after Tx server fix
</pre></div>


<p>Bet that is it?  I was sort of wondering what that meant, but now it makes perfect sense.  <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span>  Thanks <span class="user-mention" data-user-id="196553">@James Jones</span></p>



<a name="177394043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177394043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177394043">(Oct 05 2019 at 02:27)</a>:</h4>
<p>Think we may have to declare this differently on the spreadsheets. Getting errors for the other profile types even when the derivedFrom resource does validate against one of the matched profiles.</p>



<a name="177394084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177394084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177394084">(Oct 05 2019 at 02:28)</a>:</h4>
<p>(validates with warnings and not errors, that is)</p>



<a name="177394783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177394783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177394783">(Oct 05 2019 at 02:55)</a>:</h4>
<p>Have you tried anything different?</p>



<a name="177394889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177394889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177394889">(Oct 05 2019 at 02:59)</a>:</h4>
<p>Well, I tried just having it say "Observation|MolecularSequence" and putting the relevant profiles in the definition ... that worked</p>



<a name="177394938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177394938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177394938">(Oct 05 2019 at 03:00)</a>:</h4>
<p>we may need to mirror how genomics-report and grouper do their references rather on individual lines rather than using | in one line</p>



<a name="177394960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177394960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177394960">(Oct 05 2019 at 03:01)</a>:</h4>
<p>Whatever works <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="177396177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177396177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177396177">(Oct 05 2019 at 03:44)</a>:</h4>
<p>Well, not forcing the validator to (very strictly) check the referenced profiles match is one way that works. If we want to mirror the slicing on hasMember for grouper or result for genomic-report we have some issue as most of these derivedFrom references can also refer to a MolecularSequence, which fails to have a code and can't be discriminated under the resolve().code.@pattern</p>



<a name="177397584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177397584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bret H <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177397584">(Oct 05 2019 at 04:35)</a>:</h4>
<p>Sorry. I am ignorant. Why would MolecularSequence, a Resource, need a code?</p>



<a name="177412434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177412434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177412434">(Oct 05 2019 at 12:32)</a>:</h4>
<p>Slicing derivedFrom on resolve().code requires all the profiles we list in the slice to have codes. There's probably a better solution to define the references, and I'm not sure we need to slice here, especially on code, but the previous approach causes errors</p>



<a name="177415192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177415192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177415192">(Oct 05 2019 at 13:50)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> has a recommendation?</p>



<a name="177428578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177428578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177428578">(Oct 05 2019 at 19:49)</a>:</h4>
<p>You could slice by type, then by code</p>



<a name="177431716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177431716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177431716">(Oct 05 2019 at 21:17)</a>:</h4>
<p>So it would “short circuit” and not look for code on MolecularSequence since it is a different type?</p>



<a name="177433616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177433616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177433616">(Oct 05 2019 at 22:16)</a>:</h4>
<p>I <em>think</em> it would only look for code if there is more than one slice for the same type.  That's what <em>should</em> happen</p>



<a name="177441441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177441441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bret H <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177441441">(Oct 06 2019 at 02:50)</a>:</h4>
<p>makes sense to me now. I think we'd need to to do type first then by code.</p>



<a name="177460600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177460600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177460600">(Oct 06 2019 at 13:02)</a>:</h4>
<p>Ok I can try this Monday unless someone else beats me to it.</p>



<a name="177535588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177535588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177535588">(Oct 07 2019 at 16:22)</a>:</h4>
<p>We talked about it on the call, but to update here:  I did try a variety of approaches, and none have worked yet.  I tried defining the discriminator like this in the spreadsheet (I am playing around with Genotype):</p>
<p>resolve(), resolve().code.@pattern</p>
<p>Then I list variant, haplotype, and MolecularSequence as different slices.  It builds fine, and the profile page looks right, but the examples do not validate appropriately.  We get the error:</p>
<p>Unable to resolve discriminator in definitions: code</p>
<p>It just seems like having MolecularSequence in there causes problems.  For a test, I took it out, and the error above goes away.  So, it doesn't seem like it short cuts, and still looks for a 'code' on MolecularSequence.  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>  says he has seen this work before, so I am just not doing something right.  </p>
<p>Any feedback from anyone is welcome at this point.</p>



<a name="177537691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177537691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177537691">(Oct 07 2019 at 16:48)</a>:</h4>
<p>Well crap - never mind.  We don't need to specify MolecularSequence, because it is listed in the Observation profile for derivedFrom already (meaning any Observation can already be derivedFrom() a MolecularSequence.  When I took it out before, I thought I was seeing a different error come up, but turns out I was wrong.</p>



<a name="177538139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177538139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177538139">(Oct 07 2019 at 16:53)</a>:</h4>
<p>If we don't list it on the profile then aren't we constraining the choice of references to just the Observations?</p>



<a name="177538309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177538309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177538309">(Oct 07 2019 at 16:55)</a>:</h4>
<p>I thought the same thing, and I thought I say an error that said that.  However, it doesn't seem that way.  We have examples (CG-IG-HLA-FullBundle-01.xml) that deriveFrom() MolecularSequence, and it seems to validate just find if I take it out.</p>



<a name="177538939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177538939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177538939">(Oct 07 2019 at 17:01)</a>:</h4>
<p>Not even a suppressed error like we saw on call today for implications?</p>



<a name="177539095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177539095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177539095">(Oct 07 2019 at 17:03)</a>:</h4>
<p>Ahhh, OK.  It turns into a 'informational' message:</p>
<p>Bundle/CG-IG-HLA-FullBundle-01: Bundle.entry[9].resource.derivedFrom[0] information This element does not match any known slice for the profile <a href="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype" target="_blank" title="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype">http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype</a></p>



<a name="177539182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177539182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177539182">(Oct 07 2019 at 17:04)</a>:</h4>
<p>Turns out that example has a Haplotype, not a Genotype.  And since I was only playing around with Genotype, I didn't see this informational message until I applied my "fix" to all of our profiles.</p>



<a name="177539235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177539235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177539235">(Oct 07 2019 at 17:05)</a>:</h4>
<p>This still feels better to me, at least for now?</p>



<a name="177539390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177539390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177539390">(Oct 07 2019 at 17:07)</a>:</h4>
<p>I will push up my change and let everyone take a look (if you can make heads or tails of the Diff) ((yet another way doing this via spreadsheets is tough))</p>



<a name="177541849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177541849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177541849">(Oct 07 2019 at 17:36)</a>:</h4>
<p>I'll review it today for sure</p>



<a name="177544289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177544289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177544289">(Oct 07 2019 at 18:03)</a>:</h4>
<p>Just tested putting a resource in derivedFrom() (Patient in this case) that is NOT valid at all, and got an error.  Not a surprise, but that does indicate the validator realizes that a derivedFrom() to MolecularSequence is 'valid' - but since we defined slices, it is just telling us it doesn't match one that we defined.</p>



<a name="177545461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177545461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177545461">(Oct 07 2019 at 18:18)</a>:</h4>
<p>Changes pushed up.</p>



<a name="177553055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177553055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177553055">(Oct 07 2019 at 19:47)</a>:</h4>
<p>Also, I had forgotten about the 'suppressed' warnings that we discussed today on the call.  I just removed all of the warnings/info messages from the src\ignoreWarnings.txt file, and rebuilt.  Did not add any new error, warning, or info messages to the QA that I can see.</p>



<a name="177555431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177555431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177555431">(Oct 07 2019 at 20:10)</a>:</h4>
<p>Should we consider adding new 'ignoreWarnings' here for the items identified as ok?</p>



<a name="177555812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177555812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177555812">(Oct 07 2019 at 20:14)</a>:</h4>
<p>I figure we will see if that needs to happen during publishing</p>



<a name="177562357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177562357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177562357">(Oct 07 2019 at 21:24)</a>:</h4>
<p>change looks good to me. Can consider better guidance in the future but getting a warning from someone sending a Molecular sequence rather than one of the profiles we defined in the IG seems like pretty good practice for now.</p>



<a name="177638416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177638416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bret H <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177638416">(Oct 08 2019 at 17:25)</a>:</h4>
<p>sorry: what's the text for the warning? Best practice warning? thanks!</p>



<a name="177638816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177638816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177638816">(Oct 08 2019 at 17:29)</a>:</h4>
<p>Bundle/CG-IG-HLA-FullBundle-01: Bundle.entry[9].resource.derivedFrom[0] information This element does not match any known slice for the profile <a href="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype" target="_blank" title="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype">http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype</a></p>



<a name="177638915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177638915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177638915">(Oct 08 2019 at 17:30)</a>:</h4>
<p>it's provided as 'information' severity</p>



<a name="177639205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177639205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bret H <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177639205">(Oct 08 2019 at 17:33)</a>:</h4>
<p>okay. Thanks. I think I got it.  Currently, when Molecular Seq is used you get the text you sent. Right? This is going to drive developers nuts. But I favor a planned technical correction - it needs to not error if Molec Seq is appropriate.  If possible keep working at it. I wish I was more helpful and had a solution. You all have done marvelous with the problems to date.</p>



<a name="177639226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177639226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bret H <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177639226">(Oct 08 2019 at 17:33)</a>:</h4>
<p>Maybe now is the point at which to abandon the Spreadsheet as the point of truth and edit the profile directly? But that is in your hands, cause you all are using it.</p>



<a name="177639673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/177639673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#177639673">(Oct 08 2019 at 17:39)</a>:</h4>
<p>We need to evaluate the new IG template coming out soon, and move in that direction.  Will have to see where that leads us in editing the profiles (XML, spreadsheets, online tool, etc ...)</p>



<a name="193534596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193534596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193534596">(Apr 10 2020 at 03:06)</a>:</h4>
<p>Is there anything new on this? I'm trying to profile Haplotype to add derivedFrom to reference a profile of MolecularSequence, and am getting similar errors (no code). Any idea how I should set the discriminator path for this slice?</p>



<a name="193535106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193535106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193535106">(Apr 10 2020 at 03:22)</a>:</h4>
<p>Even if I set the discriminator path to resolve().type in my profile of Haplotype, I keep getting a build  error</p>
<div class="codehilite"><pre><span></span>Slicing rules on differential (pattern:resolve().type (/open) &quot;reference HLA molecular sequence&quot;) do not match those on base (pattern:resolve().code (/open)) - disciminator @ Observation.derivedFrom (http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype)
</pre></div>


<p>So it looks like it's first getting the discriminator from Haplotype and that interfers with the one I'm creating in my profile of Haplotype.</p>



<a name="193535125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193535125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193535125">(Apr 10 2020 at 03:23)</a>:</h4>
<p>Error? Or informational warning</p>



<a name="193535191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193535191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193535191">(Apr 10 2020 at 03:24)</a>:</h4>
<p>build stops with a stack dump</p>



<a name="193535458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193535458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193535458">(Apr 10 2020 at 03:32)</a>:</h4>
<p>If I use resolve().code, it builds fine, but I get an error when I try to add a slice for a profile of MolecularSequence (makes sense, MS doesn't have a code). If I change it to resolve().type, then I get a stack dump during the build.</p>



<a name="193574925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193574925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193574925">(Apr 10 2020 at 14:32)</a>:</h4>
<p>I just asked about this in the shorthand stream<br>
<a href="#narrow/stream/215610-shorthand/topic/changing.20derivedFrom.20path.20from.20parent" title="#narrow/stream/215610-shorthand/topic/changing.20derivedFrom.20path.20from.20parent">https://chat.fhir.org/#narrow/stream/215610-shorthand/topic/changing.20derivedFrom.20path.20from.20parent</a></p>



<a name="193576193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193576193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193576193">(Apr 10 2020 at 14:44)</a>:</h4>
<p>Good luck <span class="user-mention" data-user-id="191916">@ Bob Milius</span> - I remember beating my head on a wall for a long time on this one.  I hope you can find a good answer <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="193599972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193599972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193599972">(Apr 10 2020 at 18:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191916">@ Bob Milius</span>  to me this sounds like the shorthand framework overwrites the original discriminator somehow (or this is a Validator/Publisher bug). Could you share the created profile?</p>



<a name="193641441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193641441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193641441">(Apr 11 2020 at 04:18)</a>:</h4>
<p>I think I've found a solution. I saw this thread <br>
<a href="#narrow/stream/179177-conformance/topic/Validator.20and.20slicing" title="#narrow/stream/179177-conformance/topic/Validator.20and.20slicing">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Validator.20and.20slicing</a><br>
and Rob Hausam suggested this</p>
<div class="codehilite"><pre><span></span>&lt;slicing&gt;
    &lt;discriminator&gt;
        &lt;type value=&quot;profile&quot;/&gt;
        &lt;path value=&quot;$this.resolve()&quot;/&gt;
    &lt;/discriminator&gt;
    &lt;rules value=&quot;open&quot;/&gt;
&lt;/slicing&gt;
</pre></div>


<p>I tested this and it behaved as I wanted. So, would it be possible to create a technical correction of our IG to change the derivedFrom discriminator type and path to be like this? Then I could create profiles of the CG profiles and have derivedFrom slices for references other than Observation.</p>



<a name="193641527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193641527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193641527">(Apr 11 2020 at 04:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> I'll post SDs later this weekend.</p>



<a name="193657244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193657244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193657244">(Apr 11 2020 at 12:10)</a>:</h4>
<p>This is reminding me that I need to study up on slicing again <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>
<p>Did you try Grahame’s suggestion on IG creation channel?</p>
<p>discriminator = type + pattern</p>



<a name="193658497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193658497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193658497">(Apr 11 2020 at 12:40)</a>:</h4>
<p>I didn't see that. I'm not sure what that looks like in a SD</p>



<a name="193659563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193659563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193659563">(Apr 11 2020 at 13:05)</a>:</h4>
<p>I tried setting </p>
<div class="codehilite"><pre><span></span>&lt;slicing&gt;
    &lt;discriminator&gt;
        &lt;type value=&quot;pattern&quot;/&gt;
        &lt;path value=&quot;type&quot;/&gt;
    &lt;/discriminator&gt;
    &lt;rules value=&quot;open&quot;/&gt;
&lt;/slicing&gt;
</pre></div>


<p>to create a named slice of derivedFrom in a  profile of Observation. But I get an error in the qa.html when it validates an example:</p>
<blockquote>
<p>Could not match discriminator ([type]) for slice Observation.derivedFrom:hla-sequence in profile <a href="http://example.org/ig/test/StructureDefinition/hla-allele3" title="http://example.org/ig/test/StructureDefinition/hla-allele3">http://example.org/ig/test/StructureDefinition/hla-allele3</a> - the discriminator [type] does not have fixed value, binding or existence assertions</p>
</blockquote>
<p>Rob's suggestion worked for me, and didn't limit the kinds of profiles I can create slices for.</p>



<a name="193664757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193664757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193664757">(Apr 11 2020 at 15:11)</a>:</h4>
<p>I uploaded a test ig to <a href="http://fhir.b12x.org/ig/test/" title="http://fhir.b12x.org/ig/test/">http://fhir.b12x.org/ig/test/</a><br>
There are no errors or warning in the <a href="http://fhir.b12x.org/ig/test/qa.html" title="http://fhir.b12x.org/ig/test/qa.html">qa.html</a> though there are information msgs re some of the examples.<br>
Take a look at the snapshot of <a href="http://fhir.b12x.org/ig/test/StructureDefinition-hla-allele-obs2.html" title="http://fhir.b12x.org/ig/test/StructureDefinition-hla-allele-obs2.html">hla-allele-obs2 profile</a>. It contains two <code>derivedFrom</code> named slices, one for a profile of Observation, and the other for a profile for MolecularSequence. The former slice (named <code>hla-allele</code>) was created in this profile, and the latter slice (named <code>hla-sequence</code>) was created in the <a href="http://fhir.b12x.org/ig/test/StructureDefinition-hla-allele-obs.html" title="http://fhir.b12x.org/ig/test/StructureDefinition-hla-allele-obs.html">parent of this profile</a>. <br>
You can also see <a href="http://fhir.b12x.org/ig/test/artifacts.html#example-example-instances" title="http://fhir.b12x.org/ig/test/artifacts.html#example-example-instances">examples of each profile in the IG</a>.</p>



<a name="193877341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193877341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193877341">(Apr 14 2020 at 10:29)</a>:</h4>
<p>finally got some time for this:<br>
Discriminating by profile is an anti pattern and quite dangerous. The problem here is that slicing on profiles relies on declaring the profile in meta. In our use-cases we can't assume that everyone fills meta.profile. (Our lab e.g. doesn't atm) but still complies to our IG.</p>



<a name="193877407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193877407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193877407">(Apr 14 2020 at 10:30)</a>:</h4>
<p>So i would advise strongly against the usage of a profile discriminator.</p>



<a name="193877528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193877528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193877528">(Apr 14 2020 at 10:31)</a>:</h4>
<p>It should be possible to add another discriminator in your derived profile. I assume this is also could be a FSH issue. Do you have a snapshot of a your haplotype profile which adds a second discriminator <code>type</code>?</p>



<a name="193898377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193898377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193898377">(Apr 14 2020 at 13:43)</a>:</h4>
<p>when I add add a second discriminator that isn't a subset of code, then the igpublisher crashes with a stack dump.<br>
I asked the question on the shorthand stream. Mark Kramer doesn't think it's possible.<br>
<a href="#narrow/stream/215610-shorthand/topic/changing.20derivedFrom.20path.20from.20parent" title="#narrow/stream/215610-shorthand/topic/changing.20derivedFrom.20path.20from.20parent">https://chat.fhir.org/#narrow/stream/215610-shorthand/topic/changing.20derivedFrom.20path.20from.20parent</a></p>



<a name="193899501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193899501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193899501">(Apr 14 2020 at 13:51)</a>:</h4>
<p>Here's the publisher crash error I get:</p>
<blockquote>
<p>Caused by: org.hl7.fhir.exceptions.DefinitionException: Slicing rules on differential (pattern:type (/open) "reference HLA molecular sequence") do not match those on base (pattern:resolve().code (/open)) - disciminator @ Observation.derivedFrom (<a href="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype" title="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype">http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype</a>)</p>
</blockquote>
<p>Here's the StructureDefinition that caused it:</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;StructureDefinition&quot;,
  &quot;id&quot;: &quot;hla-allele-haplotype&quot;,
  &quot;url&quot;: &quot;http://example.org/ig/test/StructureDefinition/hla-allele-haplotype&quot;,
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;name&quot;: &quot;MyHaplotype&quot;,
  &quot;title&quot;: &quot;HLA Allele profile of Haplotype&quot;,
  &quot;status&quot;: &quot;active&quot;,
  &quot;description&quot;: &quot;HLA Allele profile of haplotype&quot;,
  &quot;fhirVersion&quot;: &quot;4.0.1&quot;,
  &quot;mapping&quot;: [
    {
      &quot;identity&quot;: &quot;v2-cg-results&quot;,
      &quot;uri&quot;: &quot;http://unknown.org/V2-CG-Results&quot;,
      &quot;name&quot;: &quot;V2-CG-Results&quot;
    },
    {
      &quot;identity&quot;: &quot;workflow&quot;,
      &quot;uri&quot;: &quot;http://hl7.org/fhir/workflow&quot;,
      &quot;name&quot;: &quot;Workflow Pattern&quot;
    },
    {
      &quot;identity&quot;: &quot;sct-concept&quot;,
      &quot;uri&quot;: &quot;http://snomed.info/conceptdomain&quot;,
      &quot;name&quot;: &quot;SNOMED CT Concept Domain Binding&quot;
    },
    {
      &quot;identity&quot;: &quot;v2&quot;,
      &quot;uri&quot;: &quot;http://hl7.org/v2&quot;,
      &quot;name&quot;: &quot;HL7 v2 Mapping&quot;
    },
    {
      &quot;identity&quot;: &quot;rim&quot;,
      &quot;uri&quot;: &quot;http://hl7.org/v3&quot;,
      &quot;name&quot;: &quot;RIM Mapping&quot;
    },
    {
      &quot;identity&quot;: &quot;w5&quot;,
      &quot;uri&quot;: &quot;http://hl7.org/fhir/fivews&quot;,
      &quot;name&quot;: &quot;FiveWs Pattern Mapping&quot;
    },
    {
      &quot;identity&quot;: &quot;sct-attr&quot;,
      &quot;uri&quot;: &quot;http://snomed.org/attributebinding&quot;,
      &quot;name&quot;: &quot;SNOMED CT Attribute Binding&quot;
    }
  ],
  &quot;kind&quot;: &quot;resource&quot;,
  &quot;abstract&quot;: false,
  &quot;type&quot;: &quot;Observation&quot;,
  &quot;baseDefinition&quot;: &quot;http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/haplotype&quot;,
  &quot;derivation&quot;: &quot;constraint&quot;,
  &quot;differential&quot;: {
    &quot;element&quot;: [
      {
        &quot;id&quot;: &quot;Observation.value[x]&quot;,
        &quot;path&quot;: &quot;Observation.value[x]&quot;,
        &quot;min&quot;: 1
      },
      {
        &quot;id&quot;: &quot;Observation.valueCodeableConcept&quot;,
        &quot;path&quot;: &quot;Observation.valueCodeableConcept&quot;,
        &quot;patternCodeableConcept&quot;: {
          &quot;coding&quot;: [
            {
              &quot;system&quot;: &quot;http://glstring.org&quot;
            }
          ]
        }
      },
      {
        &quot;id&quot;: &quot;Observation.derivedFrom&quot;,
        &quot;path&quot;: &quot;Observation.derivedFrom&quot;,
        &quot;slicing&quot;: {
          &quot;discriminator&quot;: [
            {
              &quot;type&quot;: &quot;pattern&quot;,
              &quot;path&quot;: &quot;type&quot;
            }
          ],
          &quot;rules&quot;: &quot;open&quot;,
          &quot;description&quot;: &quot;reference HLA molecular sequence&quot;
        }
      },
      {
        &quot;id&quot;: &quot;Observation.derivedFrom:hla-sequence&quot;,
        &quot;path&quot;: &quot;Observation.derivedFrom&quot;,
        &quot;sliceName&quot;: &quot;hla-sequence&quot;,
        &quot;type&quot;: [
          {
            &quot;code&quot;: &quot;Reference&quot;,
            &quot;targetProfile&quot;: [
              &quot;http://example.org/ig/test/StructureDefinition/hla-molecularsequence&quot;
            ]
          }
        ]
      },
      {
        &quot;id&quot;: &quot;Observation.component&quot;,
        &quot;path&quot;: &quot;Observation.component&quot;,
        &quot;min&quot;: 1
      },
      {
        &quot;id&quot;: &quot;Observation.component:gene-studied&quot;,
        &quot;path&quot;: &quot;Observation.component&quot;,
        &quot;sliceName&quot;: &quot;gene-studied&quot;,
        &quot;min&quot;: 1,
        &quot;max&quot;: &quot;1&quot;,
        &quot;mustSupport&quot;: true
      }
    ]
  }
}
</pre></div>



<a name="193899835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193899835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193899835">(Apr 14 2020 at 13:54)</a>:</h4>
<p>hmm multiple discriminators should work.</p>



<a name="193899929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193899929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193899929">(Apr 14 2020 at 13:54)</a>:</h4>
<p>i'll try to investigate this week.</p>



<a name="193900454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193900454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193900454">(Apr 14 2020 at 13:57)</a>:</h4>
<p>From the FHIR spec: <code>If a discriminator for an element is declared in a parent profile, child profiles referencing that element:
SHALL include all the same discriminators
MAY add additional discriminators</code></p>



<a name="193901392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193901392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193901392">(Apr 14 2020 at 14:02)</a>:</h4>
<p>I'm guessing the 'additional discriminators' have to be additional qualifiers to the parent (subsumed?). So not only obs.code, but perhaps obs.component as well.</p>



<a name="193907900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193907900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193907900">(Apr 14 2020 at 14:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> how do you validate a resource instance against a profile if you don't have meta.profile in the resource?</p>



<a name="193908530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193908530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamie Jones <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193908530">(Apr 14 2020 at 14:47)</a>:</h4>
<p>You can validate any instance against any profile--the meta is a shorthand for that but you could have a server require all sequences validate against profile XX, etc, or have it do whatever logic is required to determine which profiles to check it against</p>



<a name="193913225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193913225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193913225">(Apr 14 2020 at 15:18)</a>:</h4>
<p><span class="user-mention" data-user-id="196553">@Jamie Jones</span> can you show me a command line example? I know I can use <code>-ig [source]</code> option, but if the resource doesn't have the <code>meta.profile</code> how does it know which StructureDefinition to validate against?  I assume it would just default to validating against the base resource (e.g., Observation). I just tried this before and after commenting out <code>meta.profile</code> and I get different validation errors/warnings</p>
<div class="codehilite"><pre><span></span>java -jar org.hl7.fhir.validator.jar  genotype-example.xml  -ig &quot;http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/genotype&quot;
</pre></div>



<a name="193920306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193920306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193920306">(Apr 14 2020 at 16:07)</a>:</h4>
<p>The cli validator can't do that. But in our hapi we have implemented an interceptor checking all incoming DR against our profiles</p>



<a name="193920370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193920370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193920370">(Apr 14 2020 at 16:07)</a>:</h4>
<p>Discriminating with a value which is always there (like code &amp; type) is better. Even if a a MolSeq claims to comply to a profile, you would first have to validate it.</p>



<a name="193920636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193920636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193920636">(Apr 14 2020 at 16:09)</a>:</h4>
<p>If you look at types and codes, this gets a lot easier. I think just adding <code>type</code> as a discriminator in the differential should be sufficient.</p>



<a name="193920657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193920657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193920657">(Apr 14 2020 at 16:09)</a>:</h4>
<p>I assume the Validator has a bug</p>



<a name="193920746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193920746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193920746">(Apr 14 2020 at 16:10)</a>:</h4>
<p>Will check that, we then should bring this to the conformance stream.</p>



<a name="193921439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193921439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193921439">(Apr 14 2020 at 16:15)</a>:</h4>
<p>You can tell the validator to validate against a profile:  <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator#UsingtheFHIRValidator-Whattovalidateagainst" title="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator#UsingtheFHIRValidator-Whattovalidateagainst">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator#UsingtheFHIRValidator-Whattovalidateagainst</a></p>
<blockquote>
<p>The -profile parameter is the canonical URL for the profile you wish to validate against. This is usually clearly specified on the page where the profile is published. If the profile you specify has not been loaded through one of the implementation guides, the validator will try and load it directly from the canonical url, but it's better to load it with an -ig parameter first.</p>
</blockquote>



<a name="193922891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193922891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193922891">(Apr 14 2020 at 16:26)</a>:</h4>
<p>ah right!</p>



<a name="193926270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193926270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193926270">(Apr 14 2020 at 16:53)</a>:</h4>
<p>re slicing on MolecularSequence.type, I notice that it isn't required (0..1). Does that matter?<br>
Maybe a better option would be to slice on MS.coordinateSystem (1..1)? (if we can figure out how)</p>



<a name="193926925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193926925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193926925">(Apr 14 2020 at 16:58)</a>:</h4>
<p>OK, maybe I am confused, but I don't think we are talking about MolecularSequence.type (as in attribute on the resource named 'type'), I think 'type' means the "Discriminator processing type" of <em>type</em> (way to many 'types' there <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span>)</p>
<p><a href="https://www.hl7.org/fhir/profiling.html#discriminator" title="https://www.hl7.org/fhir/profiling.html#discriminator">https://www.hl7.org/fhir/profiling.html#discriminator</a></p>
<blockquote>
<p>Each discriminator is a pair of values: <strong>a type that indicates how the field is processed when evaluating the discriminator</strong>, and a FHIRPath expression that identifies the element in which the discriminator is found. There are five different processing types for discriminators</p>
<p>value   The slices have different values in the nominated element.<br>
exists  The slices are differentiated by the presence or absence of the nominated element.<br>
pattern The slices have different values in the nominated element, as determined by testing them against the applicable ElementDefinition.pattern[x].<br>
<strong>type  The slices are differentiated by type of the nominated element.</strong><br>
profile The slices are differentiated by conformance of the nominated element to a specified profile. Note that if the path specifies .resolve() then the profile is the target profile on the reference. In this case, validation by the possible profiles is required to differentiate the slices.</p>
</blockquote>



<a name="193927848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193927848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193927848">(Apr 14 2020 at 17:05)</a>:</h4>
<p>Okay, Im confused too. I think right now <code>discriminator.type = pattern</code>, and <code>discriminator.path= resolve().code</code>. So I thought the <code>code</code> was for <code>Observation.code</code>. Maybe I'm wrong. I thought we were considering adding/changing path to <code>resolve().type</code> which would be a resource with a <code>type</code> element. I'm don't know much about fhirpath, so I could easily be wrong.</p>



<a name="193944346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193944346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193944346">(Apr 14 2020 at 19:14)</a>:</h4>
<p>the code is [Resource].code. So every resource which is allowed in derived will be checked for code for the slice matching.</p>



<a name="193944433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193944433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193944433">(Apr 14 2020 at 19:14)</a>:</h4>
<p>MolSeq doesnt has code. Thats why there is a runtime failure</p>



<a name="193944463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193944463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193944463">(Apr 14 2020 at 19:15)</a>:</h4>
<p>And not a compile time failure</p>



<a name="193944649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193944649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193944649">(Apr 14 2020 at 19:16)</a>:</h4>
<p>For Molseq we could add a type based slicing. Type equals the Name of a Resource here.</p>



<a name="193944815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193944815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193944815">(Apr 14 2020 at 19:18)</a>:</h4>
<p>so it would need an additional discriminator: <code>discriminator.type = type</code>and <code>discriminator.path = $this.resolve()</code></p>



<a name="193944960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193944960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193944960">(Apr 14 2020 at 19:19)</a>:</h4>
<p>disclaimer: slicing is still puzzles me a lot of times, and i'm not 100% sure.</p>



<a name="193945112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193945112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193945112">(Apr 14 2020 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191916">@ Bob Milius</span> you did try that already and got the error from the validator / IG creator right?</p>



<a name="193945439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193945439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193945439">(Apr 14 2020 at 19:23)</a>:</h4>
<p>No, I tried <code>discriminator.type=pattern</code> (or value) and <code>discriminator.path = resolve().type</code><br>
I'll try what you suggested.</p>



<a name="193945450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193945450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193945450">(Apr 14 2020 at 19:23)</a>:</h4>
<p>What does a json snippet look like for multiple discriminators?</p>



<a name="193945541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193945541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193945541">(Apr 14 2020 at 19:24)</a>:</h4>
<p><a href="https://www.hl7.org/fhir/elementdefinition-definitions.html#ElementDefinition.slicing.discriminator" title="https://www.hl7.org/fhir/elementdefinition-definitions.html#ElementDefinition.slicing.discriminator">https://www.hl7.org/fhir/elementdefinition-definitions.html#ElementDefinition.slicing.discriminator</a></p>



<a name="193945613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193945613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193945613">(Apr 14 2020 at 19:24)</a>:</h4>
<p>It is a 0..*</p>
<p>.... discriminator  Σ   0..*    Element Element values that are used to distinguish the slices<br>
....... type    Σ   1..1    code    value | exists | pattern | type | profile ---- DiscriminatorType (Required)<br>
....... path    Σ   1..1    string  Path to element value</p>



<a name="193949159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193949159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193949159">(Apr 14 2020 at 19:56)</a>:</h4>
<p>so, you're suggesting something like this slicing? The first matches the parent (STU1), the second for the molseq?</p>
<div class="codehilite"><pre><span></span>{
        &quot;id&quot;: &quot;Observation.derivedFrom&quot;,
        &quot;path&quot;: &quot;Observation.derivedFrom&quot;,
        &quot;slicing&quot;: {
            &quot;discriminator&quot;: [
                {
                    &quot;type&quot;: &quot;pattern&quot;,
                    &quot;path&quot;: &quot;resolve().code&quot;
                },
                {
                    &quot;type&quot;: &quot;type&quot;,
                    &quot;path&quot;: &quot;$this.resolve()&quot;
                }
            ],
            &quot;rules&quot;: &quot;open&quot;,
        }
    }
</pre></div>



<a name="193949369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193949369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193949369">(Apr 14 2020 at 19:58)</a>:</h4>
<p>i‘m not 100% sure if the $this is needed. Maybe resolve() without the this is correct</p>



<a name="193949503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193949503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193949503">(Apr 14 2020 at 19:59)</a>:</h4>
<p>but for the rest yes. So if you are deriving from our haplotype, only the type slicing has to be added. The resulting snapshot should then contain both.</p>



<a name="193954567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193954567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193954567">(Apr 14 2020 at 20:43)</a>:</h4>
<p>I tried different variations on this, and keep getting stack dumps from the publisher when trying to generate the snapshot. But I may be doing something wrong. If someone can show me an example profile whose parent is one of the observation profiles in our IG that adds a molseq to derivedFrom, I would be grateful.</p>



<a name="193957905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193957905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193957905">(Apr 14 2020 at 21:13)</a>:</h4>
<p>I am totally shooting in the dark here, but if you don't derive from the genomics-reporting Haplotype (as a test) does it still stack dump?  Did you try to re-order the discriminators?</p>



<a name="193959198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/193959198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#193959198">(Apr 14 2020 at 21:26)</a>:</h4>
<p>I'll test that. In my example above I was able to use type=profile, and path=$this.resolve() on a profile for Observation and that worked for me (that profile being a parent for another profile). But that's not a good solution for Patrick's use case.</p>



<a name="194027569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194027569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194027569">(Apr 15 2020 at 13:15)</a>:</h4>
<p>i think i did it: <a href="/user_uploads/10155/CryUt_Jgl4puTbxqkJRVqXGy/MyHaplotype.StructureDefinition.json" title="MyHaplotype.StructureDefinition.json">MyHaplotype.StructureDefinition.json</a></p>



<a name="194027602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194027602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194027602">(Apr 15 2020 at 13:15)</a>:</h4>
<p>Derived from haplotype and adding a type slicing</p>



<a name="194027783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194027783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194027783">(Apr 15 2020 at 13:16)</a>:</h4>
<p>I can validate this profile without getting errors.</p>



<a name="194027830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194027830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194027830">(Apr 15 2020 at 13:16)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="s2">&quot;slicing&quot;</span><span class="err">:</span> <span class="p">{</span>
          <span class="nt">&quot;discriminator&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span>
              <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;$this&quot;</span>
            <span class="p">}</span>
          <span class="p">],</span>
          <span class="nt">&quot;rules&quot;</span><span class="p">:</span> <span class="s2">&quot;open&quot;</span>
        <span class="p">}</span>
</pre></div>



<a name="194027890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194027890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194027890">(Apr 15 2020 at 13:17)</a>:</h4>
<p>found horrible bugs while doing this (probably in Forge):</p>



<a name="194027945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194027945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194027945">(Apr 15 2020 at 13:17)</a>:</h4>
<p><a href="#narrow/stream/179177-conformance/topic/Context.20for.20Normative.20Version" title="#narrow/stream/179177-conformance/topic/Context.20for.20Normative.20Version">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Context.20for.20Normative.20Version</a> (at the end)</p>



<a name="194028495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194028495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194028495">(Apr 15 2020 at 13:21)</a>:</h4>
<p>You didn't include a slice, does that matter?</p>



<a name="194028895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194028895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194028895">(Apr 15 2020 at 13:23)</a>:</h4>
<p>hmm good question. Grahame tells me that i'm wrong in this second. brb :-/</p>



<a name="194030718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194030718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194030718">(Apr 15 2020 at 13:35)</a>:</h4>
<p>ok </p>
<div class="codehilite"><pre><span></span>          <span class="s2">&quot;discriminator&quot;</span><span class="err">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span>
              <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;$this.resolve()&quot;</span>
            <span class="p">}</span>
          <span class="p">]</span><span class="err">,</span>
          <span class="s2">&quot;rules&quot;</span><span class="err">:</span> <span class="s2">&quot;open&quot;</span>
        <span class="err">}</span>
</pre></div>



<a name="194030752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194030752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194030752">(Apr 15 2020 at 13:35)</a>:</h4>
<p>you have to resolve of course to compare the type.</p>



<a name="194030887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194030887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194030887">(Apr 15 2020 at 13:36)</a>:</h4>
<p>I just looked at Haplotype: We are currently pattern slicing on: resolve(code)</p>



<a name="194030907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194030907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194030907">(Apr 15 2020 at 13:36)</a>:</h4>
<p>BUT: don't habe a pattern on our slices.</p>



<a name="194030922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194030922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194030922">(Apr 15 2020 at 13:36)</a>:</h4>
<p>i think this is broken/wrong</p>



<a name="194030996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194030996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194030996">(Apr 15 2020 at 13:37)</a>:</h4>
<p>Yea, I think <span class="user-mention" data-user-id="191916">@ Bob Milius</span> wanted us to change our 'haplotype' profile</p>



<a name="194031064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194031064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Power <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194031064">(Apr 15 2020 at 13:37)</a>:</h4>
<p>Hence, his request for a 'technical corrections' on STU1 <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="194031217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194031217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194031217">(Apr 15 2020 at 13:38)</a>:</h4>
<p>i have some other urgent stuff to do atm. Will have a look later, starting with fixing the haplotype profile</p>



<a name="194035912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194035912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194035912">(Apr 15 2020 at 14:10)</a>:</h4>
<p>Just to be clear, if I can't have a <code>derivedFrom</code> to a profile of MolecularSequence inside a profile of <code>Genotype</code> or <code>Haplotype</code>, my HLA Reporting IG will be <em>informed</em> by the CG IG, instead of profiling directly from it. I would prefer to profile it, but I can profile <code>Observation</code> directly if I need to.</p>
<p>In the meantime, I'll play with Patrick's example.</p>



<a name="194044356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194044356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194044356">(Apr 15 2020 at 15:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191916">@ Bob Milius</span> it is possible!!! Just the tooling has bugs, and my knowledge is limited.</p>



<a name="194044523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194044523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194044523">(Apr 15 2020 at 15:05)</a>:</h4>
<p>and we have an issue with the haplotype discriminator/slicing (wondering that this at least worked somehow, to me it looks broken)</p>



<a name="194044892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194044892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194044892">(Apr 15 2020 at 15:07)</a>:</h4>
<ul>
<li>will fix our current sliceDefs in haplotype in the ci build</li>
<li>get your example flying</li>
</ul>



<a name="194049070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194049070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194049070">(Apr 15 2020 at 15:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> your knowledge is not as limited as mine <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="194294119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179304-genomics/committers/topic/warning%3A%20multiple%20matching%20profiles%20among%20choices/near/194294119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179304-genomics/committers/topic/warning.3A.20multiple.20matching.20profiles.20among.20choices.html#194294119">(Apr 16 2020 at 12:17)</a>:</h4>
<p>just issued/started discussion on 3 bugs in the java validator and IG creator:<br>
<a href="#narrow/stream/179177-conformance/topic/structuredefinition-normative-version.20errors" title="#narrow/stream/179177-conformance/topic/structuredefinition-normative-version.20errors">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/structuredefinition-normative-version.20errors</a><br>
<a href="#narrow/stream/179177-conformance/topic/error.20on.3A.20http.3A.2F.2Fhl7.2Eorg.2Ffhirpath.2FSystem.2EString" title="#narrow/stream/179177-conformance/topic/error.20on.3A.20http.3A.2F.2Fhl7.2Eorg.2Ffhirpath.2FSystem.2EString">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/error.20on.3A.20http.3A.2F.2Fhl7.2Eorg.2Ffhirpath.2FSystem.2EString</a><br>
<a href="#narrow/stream/179252-IG-creation/topic/packaged.20profiles.20not.20handled.20by.20jekyll" title="#narrow/stream/179252-IG-creation/topic/packaged.20profiles.20not.20handled.20by.20jekyll">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/packaged.20profiles.20not.20handled.20by.20jekyll</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
