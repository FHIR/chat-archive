---
layout: page
title: "FHIR Chat  · FHIRcast STU1 clarification · FHIRcast"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/index.html">FHIRcast</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html">FHIRcast STU1 clarification</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="178993979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/178993979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cindy Jiang <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#178993979">(Oct 24 2019 at 20:28)</a>:</h4>
<p>We are implementing a context management service based on FHIRcast and have a few questions in regards to FHIRcast STU1.</p>



<a name="178994000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/178994000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cindy Jiang <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#178994000">(Oct 24 2019 at 20:29)</a>:</h4>
<ol>
<li>Should the topic uuid be included in the POST URL for “Request Context Change” transaction? Our preference is no to avoid potential security exposure. Need to ask FHIRcast for their opinion.</li>
<li>What is the expected use of timestamp in “Request Context Change”? Is it the subscriber that should set the timestamp, and what if the subscribers’ clocks are out of synch?</li>
<li>We noticed the “Query for Current Context” transaction has been removed from FHIRcast STU1, however it was defined in the May2019Ballot version and is useful for our implementation, because our subscribers are not SMART-on-FHIR enabled at the moment. If we were to follow the “Query for Current Context” defined in the May2019 ballot version, what exactly should be included in the response?  <br>
a.  The spec says “Note that no hub.event is present in the response.”, however the sample response message still includes an “event” block though there is no event returned. Is the “event” block necessary in this case?<br>
b.  What is the “timestamp” meant to be? <br>
c.  What is the “id” meant to be?<br>
d.  In the sandbox implementation the response only returns the context itself without “timestamp” and “id” though…</li>
<li>Our implementation expects that the hub will maintain the overall context that is accessible by all subscribers, and the subscribers may update all or a subset of the resources in the context based on the nature of the event. E.g. “patient-open” will trigger an update of the Patient resource, and “parameter-change” will trigger an update of the Parameters resource for information such as “DateFrom” and “DateTo”. Is this align with the approach of FHIRcast STU1? We noticed the FHIRcast STU1 says that “FHIRcast events are stateless. Context changes are a complete replacement of any previously communicated context, not "deltas". Understanding an event SHALL not require receiving a previous or future event.”, and this requirement seems to be newly added in FHIRcast STU1. Can you clarify the intent here? What would be in the context in the following example?<br>
a.  When “Patient-open” event occurred, Patient resource is added into the context;<br>
b.  Then “Parameter-change” event occurred, will the Patient resource be erased and only Parameters resource will exist in the context from this point on, or will both Patient and Parameters resources exist in the context?</li>
</ol>



<a name="179079469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179079469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179079469">(Oct 25 2019 at 19:03)</a>:</h4>
<p>Hi Cindy!</p>



<a name="179079476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179079476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179079476">(Oct 25 2019 at 19:03)</a>:</h4>
<blockquote>
<ol>
<li>Should the topic uuid be included in the POST URL for “Request Context Change” transaction? Our preference is no to avoid potential security exposure. Need to ask FHIRcast for their opinion.</li>
</ol>
</blockquote>



<a name="179079478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179079478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179079478">(Oct 25 2019 at 19:03)</a>:</h4>
<p>The examples in the spec are confusing. Ultimately, I think that the intent is that a subscriber requests context changes by POST'ing to the <code>hub.url</code>. Ultimately, the <code>hub.url</code> is whatever value the subscriber receives during the app launch.</p>



<a name="179079500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179079500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179079500">(Oct 25 2019 at 19:04)</a>:</h4>
<p>Note that <a href="http://fhircast.org/specification/STU1/#request-context-change" target="_blank" title="http://fhircast.org/specification/STU1/#request-context-change">the spec</a> does clearly state this:</p>
<blockquote>
<p>the subscriber MAY request context changes with an HTTP POST to the hub.url</p>
</blockquote>



<a name="179080158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179080158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179080158">(Oct 25 2019 at 19:13)</a>:</h4>
<blockquote>
<ol start="2">
<li>What is the expected use of timestamp in “Request Context Change”? Is it the subscriber that should set the timestamp, and what if the subscribers’ clocks are out of synch?</li>
</ol>
</blockquote>



<a name="179080164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179080164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179080164">(Oct 25 2019 at 19:14)</a>:</h4>
<p>The intent of the timestamp is to allow systems receiving the event to appropriately order notifications. The "Request for Current Context" message is originating from the subscriber, presumably because the user took an action in that subscriber's system; therefore, I think that the subscriber is the only actor aware of the timestamp at which the user took the action.</p>



<a name="179080205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179080205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179080205">(Oct 25 2019 at 19:14)</a>:</h4>
<p>I agree with you that out of sync clocks between subscribers would cause an integration to fail. I'm not sure that the possibility of significant clock skew (at the speed of a user clicking around in applications) is actually a problem in prod environments. (Doesn't everyone simply use network time protocol nowadays)?</p>



<a name="179080383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179080383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179080383">(Oct 25 2019 at 19:17)</a>:</h4>
<blockquote>
<ol start="3">
<li>We noticed the “Query for Current Context” transaction has been removed from FHIRcast STU1, however it was defined in the May2019Ballot version and is useful for our implementation, because our subscribers are not SMART-on-FHIR enabled at the moment. If we were to follow the “Query for Current Context” defined in the May2019 ballot version, what exactly should be included in the response?</li>
</ol>
</blockquote>



<a name="179080385"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179080385" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179080385">(Oct 25 2019 at 19:17)</a>:</h4>
<p>The working group and implementer community is continuing to talk through this. In practice, my observation was that it was really hard to implement a Hub that supported this query across multiple subscribers with potentially different subscriptions. Have you perused the <a href="http://fhircast.org/syncconsiderations/" target="_blank" title="http://fhircast.org/syncconsiderations/">Synchronization Considerations</a> page? The absence of SMART doesn't preclude a custom app launch mechanism, which commonly passes initial contextual data.</p>



<a name="179081831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179081831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179081831">(Oct 25 2019 at 19:37)</a>:</h4>
<blockquote>
<p>4.Our implementation expects that the hub will maintain the overall context that is accessible by all subscribers, and the subscribers may update all or a subset of the resources in the context based on the nature of the event. E.g. “patient-open” will trigger an update of the Patient resource, and “parameter-change” will trigger an update of the Parameters resource for information such as “DateFrom” and “DateTo”.  </p>
</blockquote>
<p>Right. Making the Hub smart enough to handle this potentially significant complexity is exactly why the (controversial) ballot comment to remove the "Query for Current Context" passed. Again, especially consider multiple subscribers authorized / subscribed to varying events. If the hub is tracking the context of the session, it's likely that it would have to do so per subscriber.</p>



<a name="179081843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179081843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179081843">(Oct 25 2019 at 19:37)</a>:</h4>
<blockquote>
<p>Can you clarify the intent here? What would be in the context in the following example?</p>
</blockquote>
<p>Ultimately, the intent is to allow the Hub to be simple and to not require it to track/remember the content of a session.</p>



<a name="179081849"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179081849" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179081849">(Oct 25 2019 at 19:37)</a>:</h4>
<blockquote>
<p>4a. When “Patient-open” event occurred, Patient resource is added into the context;<br>
4b. Then “Parameter-change” event occurred, will the Patient resource be erased and only Parameters resource will exist in the context from this point on, or will both Patient and Parameters resources exist in the context?</p>
</blockquote>



<a name="179081853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179081853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179081853">(Oct 25 2019 at 19:37)</a>:</h4>
<p>Do note that there's <a href="http://fhircast.org/specification/STU1/#event-definition-format-hook-name" target="_blank" title="http://fhircast.org/specification/STU1/#event-definition-format-hook-name">not a "change" verb defined</a> in the spec. The <a href="http://fhircast.org/events/patient-open/" target="_blank" title="http://fhircast.org/events/patient-open/">documented events</a> (somewhat arbitrarily) explicitly call out the resources that are required or possible to belong in the context. For example: <a href="http://fhircast.org/events/imagingstudy-open/" target="_blank" title="http://fhircast.org/events/imagingstudy-open/">imagingstudy-open</a> requires a patient resource in addition to an imagingstudy resource. Practically, this really makes sense; however, there's not currently a rule that helps authors of new events to determine what resources belong in context.</p>



<a name="179081856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179081856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179081856">(Oct 25 2019 at 19:37)</a>:</h4>
<p>Does a <code>parameter-change</code> event have a patient resource in its context? I worry that the Parameter resource and a <code>parameter-change</code> event don't have much intrinsic meaning in a workflow.</p>



<a name="179473840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179473840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cindy Jiang <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179473840">(Oct 30 2019 at 20:31)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191864">@Isaac Vetter</span> ,<br>
The "parameter-change" event is just an example for the discussion and we haven't fleshed out the actual event names yet. Since the intent for the events is to reflect the actual workflow activity, we may define something like "languagechange" for change of display language of the EHR, or "Organization-change" when the user switches their "under authority of" organization from one clinic to another.<br>
A separate question... A common resource (e.g. Patient) could be used in multiple events, e.g. Patient-change, ImageStudy-change, and DiagnosticReport(for labs)-change. Currently the subscribers are responsible for subscribing to events that are relevant to their workflow. If a DI viewlet subscribes to two events Patient-change and ImageStudy-change, and Labs viewlet subscribes to Patient-change and DiagnosticReport(for labs)-change, it seems to be legitimate because the DI viewlet is not interested in labs related events, and vise versa for the Labs viewlet. However there is a risk that the Labs viewlet won't be notified when the user switches the patient in the DI viewlet via ImageStudy-change event,  therefore the patient would be out of synch. Any thoughts on whether FHIRcast should define some guiding principles on how to handle such scenarios, e.g. should the hub perform some sort of cross-reference checks and force the subscribers to subscribe all events that have overlapping resources?</p>



<a name="179756654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756654">(Nov 03 2019 at 18:00)</a>:</h4>
<p>Hey Cindy!</p>



<a name="179756659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756659">(Nov 03 2019 at 18:01)</a>:</h4>
<p>re: <code>parameter-change</code> event -- makes sense.</p>



<a name="179756663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756663">(Nov 03 2019 at 18:01)</a>:</h4>
<p>I haven't (yet?) seen an implementer attempt to develop generic support the <a href="http://fhircast.org/specification/STU1/#event-definition-format-hook-name" target="_blank" title="http://fhircast.org/specification/STU1/#event-definition-format-hook-name">new scope syntax</a>. Depending upon your specific scenario, defining previously un-used events, while perfectly valid, could slow adoption compared to re-use of well known and implemented events. Do note that we've currently only defined open and close as verbs, not change.</p>



<a name="179756666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756666">(Nov 03 2019 at 18:01)</a>:</h4>
<blockquote>
<p>seems to be legitimate because the DI viewlet is not interested in labs related events, and vise versa for the Labs viewlet. However ...  the user switches the patient in the DI viewlet via ImageStudy-change event</p>
</blockquote>



<a name="179756667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756667">(Nov 03 2019 at 18:01)</a>:</h4>
<p>Great question! Do note that the question itself assumes that there's a "hierarchy" of context of Patient has Study and Patient has Lab.</p>



<a name="179756670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756670">(Nov 03 2019 at 18:01)</a>:</h4>
<blockquote>
<p>FHIRcast should define some guiding principles on how to handle such scenarios,</p>
</blockquote>



<a name="179756671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756671">(Nov 03 2019 at 18:01)</a>:</h4>
<p>Yes, it seems clear that we need to ensure this doesn't happen. We don't have this guidance currently.</p>



<a name="179756673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756673">(Nov 03 2019 at 18:01)</a>:</h4>
<blockquote>
<p>e.g. should the hub perform some sort of cross-reference checks and force the subscribers to subscribe all events that have overlapping resources?</p>
</blockquote>



<a name="179756674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756674">(Nov 03 2019 at 18:01)</a>:</h4>
<p>This would definitely be a solution. I wonder if a simpler solution would be to limit an event to only changing the FHIR resource in its name. E.g. <code>imagingstudy-open/close</code> could only change the ImagingStudy and not the patient. This would force a <code>patient-open</code> event to always occur before the problematic <code>imagingstudy-open</code> event in your example. This would work well as long as that assumed hierarchy actually exists in the synchronizing applications.</p>



<a name="179756675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/179756675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#179756675">(Nov 03 2019 at 18:01)</a>:</h4>
<p>What do you think?</p>



<a name="182031054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179271-FHIRcast/topic/FHIRcast%20STU1%20clarification/near/182031054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cindy Jiang <a href="https://fhir.github.io/chat-archive/stream/179271-FHIRcast/topic/FHIRcast.20STU1.20clarification.html#182031054">(Nov 27 2019 at 15:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  we further defined the Parameters profile and the associated events. In our Parameters profile there are 2 slices - appLanugage to indicate the user's selection of the display language in the application, and consentTarget to indicate the information domain(s) that the consent override applies to. In the future we will add more parameters such as FromDate and ToDate to specify a common date range for search across all apps in the same context. We also identified two custom events: OH.languageChange and OH.consentTargetChange. The dilemma is what should be included in the Parameters resource for these events, i.e. 1) only include the slice for the parameter that is changed and leave the slices of the other unchanged parameters null, or 2) include the updated parameter and the populate the other parameters with previous known value. We do notice that FHIRcast says the events should be stateless and should not send delta only. However when it comes to Parameters, some of the participating apps in the context session may not support all parameters, therefore they won't store all parameters. There will be a risk for one app to overwrite some of the parameter values if we go with option 2). In our implementation the hub will maintain the state of the overall context, and we don't expect the individual apps to maintain state for themselves. Therefore we are leaning towards option 1). Wonder if you have any thoughts or suggestions?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
