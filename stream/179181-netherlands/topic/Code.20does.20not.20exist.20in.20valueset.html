---
layout: page
title: "FHIR Chat  · Code does not exist in valueset · netherlands"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/index.html">netherlands</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html">Code does not exist in valueset</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="257325820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257325820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Chabot Stadhouders <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257325820">(Oct 13 2021 at 08:00)</a>:</h4>
<p>Hi,</p>
<p>I am validating a Practitioner resource with simplifier, scope nictiz.fhir.nl.stu3.zib2017 2.1.6 STU3<br>
simplifier now generates an error for the telecom extension for mobile phone (see below)<br>
Does this make sense?</p>
<p>CodeInvalid : Code 'MC' from system '<a href="http://terminology.hl7.org/CodeSystem/v3-AddressUse">http://terminology.hl7.org/CodeSystem/v3-AddressUse</a>' does not exist in valueset '<a href="http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.20.6.1--20171231000000">http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.20.6.1--20171231000000</a>'<br>
Practitioner.telecom[0].extension[0].valueCodeableConcept[0]</p>



<a name="257348629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257348629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ardon Toonstra <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257348629">(Oct 13 2021 at 11:24)</a>:</h4>
<p>At first sight it looks like a codesytem uri is used that is introduced since R4(considering the '..terminology.hl7.org...') Are you sure you have indeed the right system?</p>
<p>It should be <a href="http://hl7.org/fhir/v3/AddressUse">http://hl7.org/fhir/v3/AddressUse</a> for STU3</p>



<a name="257501111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257501111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Chabot Stadhouders <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257501111">(Oct 14 2021 at 08:50)</a>:</h4>
<p>Hi Ardon,</p>
<p>Since a couple of weeks I use NTS (Nationale Terminologie Server) to get the valuesets<br>
When I do a GET on TelecomTypeCodelijst version 2017-12-31T00:00:00, the response has system '<a href="http://terminology.hl7.org/CodeSystem/v3-AddressUse">http://terminology.hl7.org/CodeSystem/v3-AddressUse</a>' for code 'MC' and 'PG'</p>



<a name="257504170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257504170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Chabot Stadhouders <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257504170">(Oct 14 2021 at 09:17)</a>:</h4>
<p>Another thing I don't get : <br>
When I validate an medicationRequest, it returns a lot of warnings<br>
For example, I generate an 'asNeededCodeableConcept' with value "1144" and system "urn:oid:2.16.840.1.113883.2.4.4.5"<br>
The validator now returns "None of the codings provided are in the value set <a href="http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.9.12.4--20171231000000">http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.9.12.4--20171231000000</a>"<br>
However, "1144" is a valid value<br>
Has this maybe something to do with the fact that the mentioned valueset is in XML format while I am generating JSON?<br>
In NTS the Identifier of is ZonodigCriteriumCodelijst is "667592bd-6fd7-4ddc-965a-d0d654a111cd" by the way, and not "2.16.840.1.113883.2.4.3.11.60.40.2.9.12.4--20171231000000"</p>



<a name="257533885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257533885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257533885">(Oct 14 2021 at 13:24)</a>:</h4>
<p>AFAIK the Nationale Terminologieserver does only implement FHIR R4, while the zib2017 package is STU3 based. I don't think you can use the ValueSets from the NTS in combination with the zib2017 package.</p>



<a name="257534633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257534633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257534633">(Oct 14 2021 at 13:29)</a>:</h4>
<blockquote>
<p>For example, I generate an 'asNeededCodeableConcept' with value "1144" and system "urn:oid:2.16.840.1.113883.2.4.4.5"<br>
The validator now returns "None of the codings provided are in the value set <a href="http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.9.12.4--20171231000000">http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.9.12.4--20171231000000</a>"</p>
</blockquote>
<p>1144 is a valid code, but urn:oid:2.16.840.1.113883.2.4.4.5 is not the corresponding system -- this should be <a href="https://referentiemodel.nhg.org/tabellen/nhg-tabel-25-gebruiksvoorschrift#aanvullend-numeriek">https://referentiemodel.nhg.org/tabellen/nhg-tabel-25-gebruiksvoorschrift#aanvullend-numeriek</a></p>



<a name="257535083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257535083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257535083">(Oct 14 2021 at 13:31)</a>:</h4>
<p>XML vs. JSON shouldn't be a problem, as is the id (not identifier), ValueSets are identified by the canonical URL.</p>



<a name="257535729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257535729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Chabot Stadhouders <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257535729">(Oct 14 2021 at 13:35)</a>:</h4>
<p>Hi Pieter,</p>
<p>When I retrieve version 2017-12-31T00:00:00 of the valueSet resource <a href="https://referentiemodel.nhg.org/tabellen/nhg-tabel-25-gebruiksvoorschrift#aanvullend-numeriek">https://referentiemodel.nhg.org/tabellen/nhg-tabel-25-gebruiksvoorschrift#aanvullend-numeriek</a> is indeed the system, so this looks good. Until now we used the OID's as system value, and I thought this should be no problem (in Zibs2017)</p>



<a name="257535939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257535939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Chabot Stadhouders <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257535939">(Oct 14 2021 at 13:37)</a>:</h4>
<p><span class="user-mention" data-user-id="216303">@Pieter Edelman</span> <br>
And what about this one?<br>
'<a href="http://terminology.hl7.org/CodeSystem/v3-AddressUse">http://terminology.hl7.org/CodeSystem/v3-AddressUse</a>' for code 'MC' and 'PG'</p>



<a name="257542319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257542319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257542319">(Oct 14 2021 at 14:15)</a>:</h4>
<blockquote>
<p>Until now we used the OID's as system value, and I thought this should be no problem (in Zibs2017)</p>
</blockquote>
<p>Well, this is actually a bit of a nasty topic. FHIR requires a canonical URI, which is defined in formally for use in a FHIR context. An OID is not a URI, it is another identification mechanism altogether. You _can_ create OID based URI's, but this is (often) not the formally defined canonical URI for use within FHIR. So, taking a code system OID and prepending it with <code>urn:oid:</code> is usually not the way to go.</p>



<a name="257543845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257543845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257543845">(Oct 14 2021 at 14:24)</a>:</h4>
<blockquote>
<p>And what about this one?<br>
'<a href="http://terminology.hl7.org/CodeSystem/v3-AddressUse">http://terminology.hl7.org/CodeSystem/v3-AddressUse</a>' for code 'MC' and 'PG'</p>
</blockquote>
<p>This is a bit of a nasty topic as well. "<a href="http://terminology.hl7.org">http://terminology.hl7.org</a>" is the URL base adopted in FHIR R4 for terminology, while until STU3 the base "<a href="http://hl7.org/fhir/">http://hl7.org/fhir/</a>" is used. If you use an R4 CodeSystem or ValueSet resource, it should use this new format, but any STU3-based resources should use the old format. I suspect that you're exporting an R4 resource from the NTS and base your instance on these resources. If you're validating against the STU3-based zib2017 package, it expects the old format: <a href="https://simplifier.net/packages/nictiz.fhir.nl.stu3.zib2017/2.1.6/files/406653">https://simplifier.net/packages/nictiz.fhir.nl.stu3.zib2017/2.1.6/files/406653</a></p>



<a name="257692512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257692512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Piotr Chabot Stadhouders <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257692512">(Oct 15 2021 at 12:53)</a>:</h4>
<p><span class="user-mention" data-user-id="216303">@Pieter Edelman</span> </p>
<p>I export the 2017-12-31T00:00:00 version of TelecomTypeCodelijst, with id 8a4b6a11-973d-4a77-8d84-5efe8f2609c6</p>
<p>This generates "<a href="http://terminology.hl7.org/CodeSystem/v3-AddressUse">http://terminology.hl7.org/CodeSystem/v3-AddressUse</a>" for system for the values "MC" and "PG"<br>
So, I think it is a "bug" in the valueSet resource</p>



<a name="257693971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179181-netherlands/topic/Code%20does%20not%20exist%20in%20valueset/near/257693971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179181-netherlands/topic/Code.20does.20not.20exist.20in.20valueset.html#257693971">(Oct 15 2021 at 13:03)</a>:</h4>
<p>Yes, the Nationale Terminologieserver only supports FHIR R4, you cannot use this in the context of the STU3 based zib2017 package. All ValueSets are included in the package (in STU3 format).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
