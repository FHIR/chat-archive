---
layout: page
title: "FHIR Chat  · User-Level Access token · inferno"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/index.html">inferno</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/User-Level.20Access.20token.html">User-Level Access token</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271162333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/User-Level%20Access%20token/near/271162333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/User-Level.20Access.20token.html#271162333">(Feb 08 2022 at 17:30)</a>:</h4>
<p>Hello Team,</p>
<p>I have a question on User-level access token in EHR Practitioner Launch. When the app is launched in the context of this FHIR Patient (launch/patient scope with patient selection screen to select one patient), the ID token sent back from authorization server will contain fhirUser claim which is the Url of patient FHIR resource (Inferno reference server has patient FHIR resource). Can this access token be used to pull resources of an other patient that a practitioner can access or it can only be used for the patient that is selected from patient selection screen?</p>
<p>Thanks</p>



<a name="271173327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/User-Level%20Access%20token/near/271173327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen MacVicar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/User-Level.20Access.20token.html#271173327">(Feb 08 2022 at 18:47)</a>:</h4>
<p>If user-level scopes were requested during the launch (e.g. <code>user/Patient.read</code>), then the user could access any of those resources that they are allowed to, not just those for the current patient. If the user should only be allowed to access resources for the current patient, then patient-level scopes need to be used. This distinction is true even if the user is a Patient, as there are cases where a patient could have access to more than just their own data (such as a parent and child).</p>
<p>The <code>fhirUser</code> claim represents the current user, not the current patient.</p>



<a name="271186175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/User-Level%20Access%20token/near/271186175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/User-Level.20Access.20token.html#271186175">(Feb 08 2022 at 20:27)</a>:</h4>
<p>Thank You very much Stephen. </p>
<p>Related to fhirUser claim I found this ID token from Inferno reference server tests, this looks like a patient resource url. Here is the link to inferno EHR practitioner app launch tests I just ran.</p>
<p><a href="https://inferno.healthit.gov/inferno/iikvUnq9I6r/">https://inferno.healthit.gov/inferno/iikvUnq9I6r/</a></p>
<p>Here is the ID Token from the tests</p>
<p>eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIiLCJhdWQiOiJTQU1QTEVfQ09ORklERU5USUFMX0NMSUVOVF9JRCIsImlzcyI6Imh0dHBzOi8vaW5mZXJuby5oZWFsdGhpdC5nb3YvcmVmZXJlbmNlLXNlcnZlci9yNCIsImV4cCI6MTY3NTg3NTg3NiwiaWF0IjoxNjQ0MzM5ODc2LCJmaGlyVXNlciI6Imh0dHBzOi8vaW5mZXJuby5oZWFsdGhpdC5nb3YvcmVmZXJlbmNlLXNlcnZlci9yNC9QYXRpZW50Lzg1In0.R6pUgECP3qOPxgTpFAVaaEIuLwfd0ewb2GQwnnbpRwjGdAdgAHRJDZzD8tgRbhMHoRuJp8oWxACBW65FlwdHFizjFfnP_TfSa13GyI4ZrC-1gfNg5ER1m-xIxWB0Puy0hmW0nJEpTeWQ7ytjoTGKd0KTtOibf3Nq9e9wt8wxKxqOgBaz-_1fMVOqGm-19yPlOy7XvxIg_8RMlb-56CXP7wcsobA_H5jspxTNB90uU28mmoMlL6w0xvEbAkPgu1tguEqLwaGXonkBWJDd7e4IOJ4sA11AlZ2PUVhCQa9yx-r9GHfDY06h1rJpLhSOAcAZCumxhMZuovNcn3oaIrjk_g</p>
<p>Let me know your thoughts here.</p>



<a name="271271273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/User-Level%20Access%20token/near/271271273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen MacVicar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/User-Level.20Access.20token.html#271271273">(Feb 09 2022 at 12:50)</a>:</h4>
<p><code>fhirUser</code> could be a Patient, but doesn't have to be. The reference server is just for demonstration purposes. You should not infer any certification requirements from its data.</p>



<a name="271288965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/User-Level%20Access%20token/near/271288965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sumanth Bandaru <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/User-Level.20Access.20token.html#271288965">(Feb 09 2022 at 14:51)</a>:</h4>
<p>Ok Gotcha. Thanks for the clarity. I appreciate your help.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
