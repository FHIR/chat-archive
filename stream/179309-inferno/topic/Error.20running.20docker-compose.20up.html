---
layout: page
title: "FHIR Chat  · Error running docker-compose up · inferno"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/index.html">inferno</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html">Error running docker-compose up</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="211499277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211499277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Padma Nippani <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211499277">(Sep 28 2020 at 14:26)</a>:</h4>
<p>I have Docker Desktop installed in a Windows VM.  I cloned the inferno project using git clone <a href="https://github.com/onc-healthit/inferno">https://github.com/onc-healthit/inferno</a>.  In the inferno directory, I am tried to run:<br>
docker-compose up and got the following error:<br>
  File "docker-compose", line 3, in &lt;module&gt;<br>
  File "compose\cli\main.py", line 67, in main<br>
  File "compose\cli\main.py", line 123, in perform_command<br>
  File "compose\cli\command.py", line 69, in project_from_options<br>
  File "compose\cli\command.py", line 132, in get_project<br>
  File "compose\cli\docker_client.py", line 43, in get_client<br>
  File "compose\cli\docker_client.py", line 170, in docker_client<br>
  File "site-packages\docker\api\client.py", line 188, in __init__<br>
  File "site-packages\docker\api\client.py", line 213, in _retrieve_server_version<br>
docker.errors.DockerException: Error while fetching server API version: (2, 'CreateFile', 'The system cannot find the file specified.')<br>
[1988] Failed to execute script docker-compose</p>
<p>I then tried to do a build using docker-compose up --build and get the same error:<br>
Traceback (most recent call last):<br>
  File "docker-compose", line 3, in &lt;module&gt;<br>
  File "compose\cli\main.py", line 67, in main<br>
  File "compose\cli\main.py", line 123, in perform_command<br>
  File "compose\cli\command.py", line 69, in project_from_options<br>
  File "compose\cli\command.py", line 132, in get_project<br>
  File "compose\cli\docker_client.py", line 43, in get_client<br>
  File "compose\cli\docker_client.py", line 170, in docker_client<br>
  File "site-packages\docker\api\client.py", line 188, in __init__<br>
  File "site-packages\docker\api\client.py", line 213, in _retrieve_server_version<br>
docker.errors.DockerException: Error while fetching server API version: (2, 'CreateFile', 'The system cannot find the file specified.')<br>
[11720] Failed to execute script docker-compose</p>
<p>Any suggestions on how to resolve this error are greatly appreciated</p>



<a name="211509055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211509055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211509055">(Sep 28 2020 at 15:36)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="347035">@Padma Nippani</span> -- I haven't seen that issue before, but it looks like Docker isn't configured properly somehow?  What version of Docker Desktop (and Docker Compose) are you running?  Are you able to run the Docker "hello-world" example successfully (<code>docker run hello-world</code>)?</p>



<a name="211514209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211514209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Padma Nippani <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211514209">(Sep 28 2020 at 16:17)</a>:</h4>
<p>Hi Robert, </p>
<p>Thank you very much for your quick response.  I am trying docker version and docker run hello-world and get an error.  It does appear that my docker desktop is not installed correctly.  Trying to correct that now and will update here soon</p>



<a name="211534203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211534203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Padma Nippani <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211534203">(Sep 28 2020 at 18:55)</a>:</h4>
<p>I realized that I was seeing errors with docker desktop installation on my windows VM.  I installed it on my mac and running docker-compose up now displays the following error building ruby server:<br>
Retrying fetcher due to error (2/4): Bundler::HTTPError Could not fetch specs from <a href="https://rubygems.org/">https://rubygems.org/</a></p>
<p>Retrying fetcher due to error (3/4): Bundler::HTTPError Could not fetch specs from <a href="https://rubygems.org/">https://rubygems.org/</a><br>
Retrying fetcher due to error (4/4): Bundler::HTTPError Could not fetch specs from <a href="https://rubygems.org/">https://rubygems.org/</a></p>
<p>Could not fetch specs from <a href="https://rubygems.org/">https://rubygems.org/</a><br>
ERROR: Service 'ruby_server' failed to build : The command '/bin/sh -c bundle install' returned a non-zero code: 17</p>



<a name="211537939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211537939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211537939">(Sep 28 2020 at 19:24)</a>:</h4>
<p>Inferno is a ruby app, which downloads dependencies from <a href="https://rubygems.org">https://rubygems.org</a> when you first run it.  Would there by any reason why that might be blocked on your network?</p>



<a name="211539696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211539696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Padma Nippani <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211539696">(Sep 28 2020 at 19:39)</a>:</h4>
<p>Thanks Robert.  I can access <a href="https://rubygems.org">https://rubygems.org</a> from my browser so the site is not blocked on our network.</p>



<a name="211540105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211540105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Padma Nippani <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211540105">(Sep 28 2020 at 19:42)</a>:</h4>
<p>I looked at docker configuration and had to add file sharing to the directory where I was installing.  Now I get the following error:<br>
Fetching gem metadata from <a href="https://rubygems.org/">https://rubygems.org/</a>.........<br>
Fetching rake 12.3.3<br>
Installing rake 12.3.3<br>
Fetching concurrent-ruby 1.1.6<br>
Installing concurrent-ruby 1.1.6<br>
Fetching i18n 1.8.5<br>
Installing i18n 1.8.5<br>
Fetching minitest 5.14.1</p>
<p>Retrying download gem from <a href="https://rubygems.org/">https://rubygems.org/</a> due to error (2/4): Gem::RemoteFetcher::UnknownHostError no such name (<a href="https://rubygems.org/gems/minitest-5.14.1.gem">https://rubygems.org/gems/minitest-5.14.1.gem</a>)</p>
<p>Retrying download gem from <a href="https://rubygems.org/">https://rubygems.org/</a> due to error (3/4): Gem::RemoteFetcher::UnknownHostError no such name (<a href="https://rubygems.org/gems/minitest-5.14.1.gem">https://rubygems.org/gems/minitest-5.14.1.gem</a>)</p>
<p>Retrying download gem from <a href="https://rubygems.org/">https://rubygems.org/</a> due to error (4/4): Gem::RemoteFetcher::UnknownHostError no such name (<a href="https://rubygems.org/gems/minitest-5.14.1.gem">https://rubygems.org/gems/minitest-5.14.1.gem</a>)</p>
<p>Gem::RemoteFetcher::UnknownHostError: no such name<br>
(<a href="https://rubygems.org/gems/minitest-5.14.1.gem">https://rubygems.org/gems/minitest-5.14.1.gem</a>)<br>
An error occurred while installing minitest (5.14.1), and Bundler cannot<br>
continue.<br>
Make sure that <code>gem install minitest -v '5.14.1' --source
'https://rubygems.org/'</code> succeeds before bundling.</p>
<p>In Gemfile:<br>
  fhir_client was resolved to 4.0.3, which depends on<br>
    activesupport was resolved to 5.2.4.3, which depends on<br>
      minitest<br>
ERROR: Service 'ruby_server' failed to build : The command '/bin/sh -c bundle install' returned a non-zero code: 5</p>



<a name="211543979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211543979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211543979">(Sep 28 2020 at 20:11)</a>:</h4>
<p>That's really strange, I don't understand why it was able to fetch the first 3 libraries but then fail with a host lookup error on the forth, when they are all coming from the same spot.  Does it always fail in that exact spot now?</p>



<a name="211549137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Error%20running%20docker-compose%20up/near/211549137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Padma Nippani <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Error.20running.20docker-compose.20up.html#211549137">(Sep 28 2020 at 20:55)</a>:</h4>
<p>I was able to sudo gem install to install minitest and continue.  But now, I keep getting an error for a different gem.  Sometimes, is the the same one that I have already installed.  I am unable to get out of the cycle to fetching and installing gems.  I am running on a mac and checked that file sharing is set up for the directories.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
