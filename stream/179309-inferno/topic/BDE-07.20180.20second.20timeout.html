---
layout: page
title: "FHIR Chat  · BDE-07 180 second timeout · inferno"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/index.html">inferno</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html">BDE-07 180 second timeout</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="253349598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/253349598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bill Findeisen <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#253349598">(Sep 15 2021 at 01:32)</a>:</h4>
<p>The bulk data group export status check fails if the hard coded 180 second timeout is reached.  Is this value derived from any where in the specification?  There are a lot of variables that can come into play and this value does not seem configurable.</p>



<a name="253416215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/253416215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#253416215">(Sep 15 2021 at 13:47)</a>:</h4>
<p>I cannot remember why we decided the timeout defaulted to 180 seconds. Testing client cannot wait forever while server preparing export files so we have to pick a timeout threshold. How long does your server take to complete exporting?</p>



<a name="253417466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/253417466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#253417466">(Sep 15 2021 at 13:54)</a>:</h4>
<p>We have struggled with that timeout as well.  We've managed to get by, but an increased timeout would be nice for us as well.  Maybe default to 180, but have an option to specify a manual override in the frontend UI?</p>



<a name="253427563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/253427563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bill Findeisen <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#253427563">(Sep 15 2021 at 14:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191506">Yunwei Wang</span> <a href="#narrow/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout/near/253416215">said</a>:</p>
<blockquote>
<p>I cannot remember why we decided the timeout defaulted to 180 seconds. Testing client cannot wait forever while server preparing export files so we have to pick a timeout threshold. How long does your server take to complete exporting?</p>
</blockquote>
<p>It varies depending on the amount of data.  It would be nice if it was overridable through ui perhaps.</p>



<a name="253428075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/253428075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#253428075">(Sep 15 2021 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="358368">@Bill Findeisen</span> <span class="user-mention" data-user-id="191764">@Cooper Thompson</span> Thank you for the feedback.  I created a GitHub issue to track this request. <a href="https://github.com/onc-healthit/inferno-program/issues/359">https://github.com/onc-healthit/inferno-program/issues/359</a>.</p>
<p>I think one possible reason could that if the server does not include 'retry-after' header in status response, Inferno calculate the wait time using exponential backoff suggested by Bulk Data IG. So the wait time increases really fast.</p>



<a name="254222393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/254222393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Moin Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#254222393">(Sep 21 2021 at 15:05)</a>:</h4>
<p>We face similar issue, need an option to customize the time out.<br>
<span class="user-mention" data-user-id="191506">@Yunwei Wang</span> You did mention about "retry-after", we do send it but still we have 180 second timeout.<br>
Further the response header in inferno is shown as "retry_after" even though we send it as "retry-after"</p>



<a name="254446418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/254446418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#254446418">(Sep 22 2021 at 22:03)</a>:</h4>
<p><span class="user-mention" data-user-id="382630">@Moin Syed</span> We will add a UI configuration for the timeout settings. <br>
If the server does not reponde with retry_after header, Inferno uses 'exponential backoff' to calculate the waiting seconds, which is <code>2 ^ n - 1</code>. Though the default setting is 180 seconds, using exponential backoff times out after 120 seconds. Because 1+3+7+15+31+63=120, the next waiting time is 127 seconds and 120+127 &gt; 180.</p>



<a name="254644535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/254644535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Moin Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#254644535">(Sep 24 2021 at 03:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191506">@Yunwei Wang</span> I have provided retry_after value as 10, it checks for every 10 seconds but after 180 seconds in total it will again timeout. Irrespective of the retry-after value, it is timing out in 180 seconds now.</p>



<a name="254699866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/BDE-07%20180%20second%20timeout/near/254699866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout.html#254699866">(Sep 24 2021 at 13:05)</a>:</h4>
<p>Yes, the default is 180 seconds.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
