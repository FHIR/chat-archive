---
layout: page
title: "FHIR Chat  · Inferno requiring patient focus for non-patient resources · inferno"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/index.html">inferno</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html">Inferno requiring patient focus for non-patient resources</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="226017290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/226017290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#226017290">(Feb 11 2021 at 16:23)</a>:</h4>
<p>I noticed that Inferno is validating that scopes are of the format patient/... for a few resources that have no patient context. These should allow user/... : Organization, Location, and Practitioner</p>



<a name="226017313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/226017313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#226017313">(Feb 11 2021 at 16:23)</a>:</h4>
<p>these also look like newer tests - is there a reason they were added?</p>



<a name="226039408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/226039408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#226039408">(Feb 11 2021 at 18:53)</a>:</h4>
<p>I believe these tests have been in place in their current form since v1.1 from July, with some minor updates when ONC provided guidance around PractitionerRole and RelatedPerson.  And we regenerated some files with the move to US Core v3.1.1, which updated a few class names but that's about it.  I can dig deeper if you'd like though.</p>



<a name="226046239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/226046239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#226046239">(Feb 11 2021 at 19:36)</a>:</h4>
<p>Is there a list of resources with no patient context, can it be inferred (e.g. if it has a direct reference to the patient in the resource) or is it completely up to the discretion of the server?</p>



<a name="226050578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/226050578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#226050578">(Feb 11 2021 at 20:10)</a>:</h4>
<p>Ours typically is just resources that don't have references to patients</p>



<a name="226050657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/226050657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#226050657">(Feb 11 2021 at 20:10)</a>:</h4>
<p>since there's no way to restrict it/meet that patient/... requirement in SMART</p>



<a name="226052040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/226052040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#226052040">(Feb 11 2021 at 20:21)</a>:</h4>
<p>If an app asks for patient/Organization.read do you change that to user/Organization.read when asking the patient for authorization?  Or do you just ignore it as invalid (or return an error or something similar)?</p>



<a name="228442044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228442044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228442044">(Mar 02 2021 at 16:43)</a>:</h4>
<p><span class="user-mention" data-user-id="192576">@Robert Scanlon</span>  sorry, just saw this. We ignore it as invalid as this would/could change expectation by the app during runtime. The app would need to ask for the user/... scopes</p>



<a name="228442168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228442168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228442168">(Mar 02 2021 at 16:44)</a>:</h4>
<p>There were previous discussions out on SMART about this, though it's been a while</p>



<a name="228451387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228451387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228451387">(Mar 02 2021 at 17:34)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191356">@Jenni Syed</span> -- we've been looking at this on our side too.  I just ask because I'm trying to understand how the flexibility here impacts app developers.  It certainly would be nice for app developers if they can expect consistency (across all implementations) in the scopes that enable access to the complete set of patient data represented in USCDI/US Core.</p>



<a name="228452039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228452039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228452039">(Mar 02 2021 at 17:38)</a>:</h4>
<p>If an app asks for patient/Organization.read but you grant user/Organization.read, then the app wouldn't have to figure out ahead of time where your system decided to draw the "about/not-about the patient" line.  My understanding is that this is allowed: "As with any requested scope, the scopes ultimately granted by the authorization server may differ from the scopes requested by the client! When dealing with wildcard clinical scope requests, this is often true."</p>



<a name="228455458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228455458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228455458">(Mar 02 2021 at 17:57)</a>:</h4>
<p>Doing that patient/Organization.read to user/Organization.read switch isn't a requirement, obviously, but it seems like it would be a nice solution to this problem.  Unless I'm misunderstanding.</p>



<a name="228472766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228472766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228472766">(Mar 02 2021 at 19:44)</a>:</h4>
<p>I don't know why any EHR would allow for patient/... scopes as there is no way to enforce that</p>



<a name="228472797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228472797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228472797">(Mar 02 2021 at 19:44)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="191315">@Josh Mandel</span>  as well, I know we've talked about this (and I think talked about it more with SMART 2.0)</p>



<a name="228472815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228472815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228472815">(Mar 02 2021 at 19:44)</a>:</h4>
<p>there is no patient on these resources in FHIR</p>



<a name="228473100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228473100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228473100">(Mar 02 2021 at 19:46)</a>:</h4>
<p>requiring the auth server to know which scopes can be "switched out" requires a pretty specifically built auth server, and I know many use off the shelf ones</p>



<a name="228473156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228473156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228473156">(Mar 02 2021 at 19:46)</a>:</h4>
<p>(our server uses the change in scope for when the patient removes scopes or when the app wasn't authorized to request them - it isn't smarter than that)</p>



<a name="228473762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228473762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228473762">(Mar 02 2021 at 19:50)</a>:</h4>
<p>Also the test fails b/c it doesn't see patient/Location.read (I can update the test to ask for different scopes already) so I think it would fail the same way if an auth server "swapped the scope out"</p>



<a name="228479453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228479453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228479453">(Mar 02 2021 at 20:26)</a>:</h4>
<blockquote>
<p>there is no patient on these resources in FHIR</p>
</blockquote>
<p>Currently scopes like <code>patient/Organization.read</code> are allowed/valid in SMART with the interpretation of something like "Organizations the EHR determines you need access to in order to make in-context patient record".</p>



<a name="228479537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228479537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228479537">(Mar 02 2021 at 20:27)</a>:</h4>
<p>I don't know how testable this is or should be though; to Jenni's point, I understand Cerner doesn't support scopes like this.</p>



<a name="228490913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228490913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228490913">(Mar 02 2021 at 21:40)</a>:</h4>
<blockquote>
<p>Currently scopes like patient/Organization.read are allowed/valid in SMART with the interpretation of something like "Organizations the EHR determines you need access to in order to make in-context patient record".</p>
</blockquote>
<p>I think the benefit on the EHR side is that you don't have to expose all Organizations/Practitioners/etc that a user has access to, to an app that only really needs information relating to the patient in context.  The benefit on the app side is that  they can expect consistency between implementations regarding what scopes to request if they really just want a single patient's data.</p>



<a name="228493730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228493730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228493730">(Mar 02 2021 at 21:58)</a>:</h4>
<p>Agreed <span class="user-mention" data-user-id="192576">@Robert Scanlon</span>!</p>



<a name="228624884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228624884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228624884">(Mar 03 2021 at 16:46)</a>:</h4>
<p>It is very hard for an EHR to determine what practitioners a patient "should" have access to</p>



<a name="228625008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228625008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228625008">(Mar 03 2021 at 16:47)</a>:</h4>
<p>IE: If I limited a practitioner by id lookup to only the practitioners that existed somewhere in the patient's history... I would basically be preventing them from scheduling new appointments or finding new providers. Or, from an app side, from recommending a referral etc</p>



<a name="228625040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228625040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228625040">(Mar 03 2021 at 16:47)</a>:</h4>
<p>that also doesn't abide with how patient/... is defined in SMART today</p>



<a name="228625124"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228625124" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228625124">(Mar 03 2021 at 16:47)</a>:</h4>
<p>same issue for organization and location. Why would I prevent the doctor from seeing all their orgs if they're trying to do a referral for a patient? Just because the patient hasn't been there? I think that would be surprising</p>



<a name="228625206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228625206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228625206">(Mar 03 2021 at 16:48)</a>:</h4>
<p>But more to the root here, can we fix the assumption in inferno? This isn't required by any spec or CEHRT</p>



<a name="228628839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228628839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228628839">(Mar 03 2021 at 17:08)</a>:</h4>
<blockquote>
<p>If I limited a practitioner by id lookup to only the practitioners that existed somewhere in the patient's history... I would basically be preventing them from scheduling new appointments or finding new providers. Or, from an app side, from recommending a referral etc.</p>
</blockquote>
<p>Those seem to valid uses of user/Practioner.read (find practitioner near you or something), but that those are different capabilities than just "give me my full patient record", right?</p>



<a name="228632979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228632979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228632979">(Mar 03 2021 at 17:33)</a>:</h4>
<p>our APIs are used for far more than just patient record access. The provider use cases ONC requires are for provider workflows, not just "give me my record"</p>



<a name="228633340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228633340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228633340">(Mar 03 2021 at 17:36)</a>:</h4>
<p>Again, I think we've established that it's reasonable that an EHR doesn't support patient/... for resources that have no patient record tied to them. <span class="user-mention" data-user-id="191315">@Josh Mandel</span>  if we think this is a "valid" scope for SMART, we likely need to clarify what it means to enforce a "patient" specific limitation on resources that have no patient associated</p>



<a name="228633440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228633440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228633440">(Mar 03 2021 at 17:36)</a>:</h4>
<p>I just would like inferno to be able to deal with this given that it's not clear what a patient restriction should even do here</p>



<a name="228636825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228636825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228636825">(Mar 03 2021 at 17:57)</a>:</h4>
<p>Could you also submit feedback to ONC <span class="user-mention" data-user-id="191356">@Jenni Syed</span>?  I've been looking for a clearcut reason I can use to justify relaxing this check here, and I was pushing back a bit because I do think the scope patient/Pracitioner.read makes sense at least.  Whether or not you need to support that in order to satisfy the requirements of the rule which layers requirements from USCDI, US Core, SMART, etc isn't completely cut and dry to me.  It seems like there isn't enough justfication for us keep this, and we should remove it.  But removing it may have some ramifications of what can test at all (e.g. can I justify requiring systems to use any patient/* scopes at all?)</p>



<a name="228637302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228637302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228637302">(Mar 03 2021 at 18:00)</a>:</h4>
<p>(maybe we can't justify any testing around the shape of scopes, but that would be disappointing given how much content there is describing what scopes should look like)</p>



<a name="228657277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228657277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228657277">(Mar 03 2021 at 19:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>  what would your expectation be if a system was supposed to enforce patient/Location.read? IE: what does that mean?</p>



<a name="228657296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228657296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228657296">(Mar 03 2021 at 19:58)</a>:</h4>
<p>and do we know what other systems are doing today?</p>



<a name="228661243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228661243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228661243">(Mar 03 2021 at 20:22)</a>:</h4>
<p>It means "allow the client to see the Location resources that the server deems relevant for the in-context patient"</p>



<a name="228661370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228661370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228661370">(Mar 03 2021 at 20:22)</a>:</h4>
<p>(To my mind, a "nice" implementation might be: locations where this patient has received care or locations otherwise mentioned by resources in this patient's compartment... but an "acceptable" implementation might be: no locations.)</p>



<a name="228661759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228661759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228661759">(Mar 03 2021 at 20:25)</a>:</h4>
<p>the math to find all locations/orgs a patient has access to seems excessive. Do we know how any of the reference servers deal with this?</p>



<a name="228661804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228661804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228661804">(Mar 03 2021 at 20:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span> or <span class="user-mention" data-user-id="191764">@Cooper Thompson</span> how does Epic deal with this?</p>



<a name="228661871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228661871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228661871">(Mar 03 2021 at 20:25)</a>:</h4>
<p>(note: inferno will also fail today if the location lookup fails when patient/Location.read has been issued)</p>



<a name="228666311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228666311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228666311">(Mar 03 2021 at 20:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span> -- which test are you talking about specifically?</p>



<a name="228673011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228673011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228673011">(Mar 03 2021 at 21:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191356">Jenni Syed</span> <a href="#narrow/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources/near/228661759">said</a>:</p>
<blockquote>
<p>the math to find all locations/orgs a patient has access to seems excessive. Do we know how any of the reference servers deal with this?</p>
</blockquote>
<p>In Firely Server, we essentially treat patient/Location.read as a user/Location.read. We check the patient compartment definition and if the resource is outside of it, all resources are returned if the patient/user has access to the resource type.</p>



<a name="228675030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228675030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228675030">(Mar 03 2021 at 21:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191356">Jenni Syed</span> <a href="#narrow/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources/near/228661871">said</a>:</p>
<blockquote>
<p>(note: inferno will also fail today if the location lookup fails when patient/Location.read has been issued)</p>
</blockquote>
<p>I think I now realize what you meant.  If you grant patient/Location.read but do not allow access to all location references that Inferno comes across in the 'Single Patient API' tests, then the test will fail (e.g. USCPROC-11: Every reference within Procedure resources can be read: Fail: location did not resolve: Server returned 401).  This is intentional because a prerequisite of the test is a token that grants access to all resource types we know need to be supported/granted because of USCDI.</p>



<a name="228680090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228680090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228680090">(Mar 03 2021 at 22:27)</a>:</h4>
<p>The one that fails for not seeing a specific patient/Location.read (seeing user/Location.read instead, or user/Practitioner.read, user/Organiztion.read) scope is SPB-OSLS-10. AVU-01 also will fail if not ll scopes are issues/the user scopes above are in place instead.</p>



<a name="228680134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228680134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228680134">(Mar 03 2021 at 22:27)</a>:</h4>
<p>And then yes, those are the "per call" fails if we didn't issue user/Location.read and instead issued patient/Location.read</p>



<a name="228680164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228680164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228680164">(Mar 03 2021 at 22:27)</a>:</h4>
<p>(same for Practitioner and Organization)</p>



<a name="228680703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228680703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228680703">(Mar 03 2021 at 22:31)</a>:</h4>
<p>One way to reconcile app requests could be for Cerner, when an app requests <code>patient/Location.read</code>, to prompt the user about granting <code>user/Location.read</code> -- rather than requiring apps to ask for this "in just the right way". I expect you've already considered this though (and possibly are already doing this?) <span class="user-mention" data-user-id="191356">@Jenni Syed</span>.</p>



<a name="228681682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228681682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228681682">(Mar 03 2021 at 22:39)</a>:</h4>
<p>We discussed this earlier in the thread, they are not currently doing this.  I think this would be a great solution because it allows client developers to ask for what they want in the same way across all implementations, but allows the EHR to grant more than was asked (with user's permission) if they do not support that fine a level of granularity.  My understanding is this is similar to how wildcard scopes can be handled for systems that do not want to grant a wildcard scope.</p>



<a name="228681856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228681856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228681856">(Mar 03 2021 at 22:40)</a>:</h4>
<p>Though, there are challenges with doing this as well, because it requires some more intelligence on the auth server side than may be supported out-of-the-box for 3rd party auth software.</p>



<a name="228784842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228784842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228784842">(Mar 04 2021 at 14:51)</a>:</h4>
<p>Correct, that would require our auth server to be very specifically knowledgeable about the FHIR specification specifics. Also, we don't prompt all users (like practitioners) - so that's also an interupt to workflow that wouldn't be good. Again, the tests <em>still</em> fail in inferno if we did that because it doesn't like that we issued user/Location... instead of patient/...</p>



<a name="228785398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228785398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228785398">(Mar 04 2021 at 14:54)</a>:</h4>
<p>We haven't had an issue with apps needing to get these scopes before, it's something that is obvious as soon as they start testing in our public sandbox since it fails fast (the FHIR server fails the request since it doesn't recognize those scopes/can't enforce them). They typically get the failure, and then update the app to request user/... instead</p>



<a name="228785657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228785657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228785657">(Mar 04 2021 at 14:55)</a>:</h4>
<p>This is consistent with past conversations we've had around SMART for these issues</p>



<a name="228808154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228808154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228808154">(Mar 04 2021 at 16:50)</a>:</h4>
<blockquote>
<p>We haven't had an issue with apps needing to get these scopes before, it's something that is obvious as soon as they start testing in our public sandbox since it fails fast</p>
</blockquote>
<p>just to be clear though, these are the kinds of "paper cuts" that add up for developers, they need to maintain exception files or other special case handlers describing different behaviors required to make each different server happy. I'm not saying this is terrible (these are small details to be sure); but it does add up and contribute to a perception that interoperability is weaker.</p>



<a name="228809317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228809317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228809317">(Mar 04 2021 at 16:56)</a>:</h4>
<p>I think, before we did this, SMART would need to describe <em>what</em> should happen. Since we're dealing with things that have security effects, my goal has been making sure we only support <em>enforceable</em> things based on past discussions we've had. If an app, for example, thinks that patient/Location.read is going to do what was described above (limit to only locations the user has ever had access to) that is a huge difference both in describing consent to the user as well as what the app expects to happen</p>



<a name="228809388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228809388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228809388">(Mar 04 2021 at 16:57)</a>:</h4>
<p>this is the same issue as the wildcard discussion :) The spec describes a behavior. It should be a behavior that is consistently enforced (and well understood)</p>



<a name="228809427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228809427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228809427">(Mar 04 2021 at 16:57)</a>:</h4>
<p>having 2 different systems implement a scope 2 different ways is more impactful, I would think</p>



<a name="228809572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228809572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228809572">(Mar 04 2021 at 16:58)</a>:</h4>
<p>And the "compartment" rule is what we've been using to determine if a patient/.. scope should be supported for a resource, since it can't be limited in that way. IE: if it's not in the patient compartment, the patient/... scope isn't enforceable as defined by SMART</p>



<a name="228809726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228809726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228809726">(Mar 04 2021 at 16:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191356">Jenni Syed</span> <a href="#narrow/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources/near/228784842">said</a>:</p>
<blockquote>
<p>Again, the tests <em>still</em> fail in inferno if we did that because it doesn't like that we issued user/Location... instead of patient/...</p>
</blockquote>
<p>Yes, the tests today set a higher bar (we ask for patient scopes for all USCDI-relevant resources, you grant us patient scopes for all USCDI-relevant resources).  This would involve us changing the test to be a lower bar -- one of many potential lower bars.  I'd be happy to put up a build that allows for this, but if it has other technical issues that make it a non-starter then it probably wouldn't be worth the effort.</p>



<a name="228809939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228809939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228809939">(Mar 04 2021 at 17:00)</a>:</h4>
<p>We're reaching out to ONC for clarification on this. If they come back and say we still have to support this my next ask is going to be to clarify this in the SMART spec so we all have a good understanding of what's expected :/</p>



<a name="228810024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228810024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228810024">(Mar 04 2021 at 17:00)</a>:</h4>
<p>we've already seen several possible behaviors described above :)</p>



<a name="228825627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228825627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228825627">(Mar 04 2021 at 18:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191356">Jenni Syed</span> <a href="#narrow/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources/near/228809939">said</a>:</p>
<blockquote>
<p>We're reaching out to ONC for clarification on this. If they come back and say we still have to support this my next ask is going to be to clarify this in the SMART spec so we all have a good understanding of what's expected :/</p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="191356">@Jenni Syed</span> -- I appreciate your help sorting this out.  This one is a real pain because I recognize it is a paper-cut level issue for developers given where you have drawn the line. But it's not nothing, and I'm having trouble defining exactly what the minimum expectation here is for "permission-patient" and "permission-user".  If there is no minimum expectation (e.g. you can just support patient/Patient.read and user/Patient.read and do whatever you want elsewhere), then I think other implementers are free to turn it into a more than a paper-cut level issue.</p>



<a name="228830416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228830416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228830416">(Mar 04 2021 at 19:00)</a>:</h4>
<p>I think it would be helpful to ONC if there was some kind of consensus in SMART community on what the accepted minimum expectation is.   Maybe there is consensus there and I just missed it.  Patient compartment for patient-level scope?  Or is it just not possible to define a minimum expectation, and ONC needs to decide what they think it should be given the goal of their certification program (which could very well be no minimum expectation -- I don't know).</p>



<a name="228830594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228830594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228830594">(Mar 04 2021 at 19:02)</a>:</h4>
<p>Again, I appreciate the help.</p>



<a name="228841141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228841141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228841141">(Mar 04 2021 at 20:06)</a>:</h4>
<p>I've always understood it as patient/... really only can apply to patient compartment resources</p>



<a name="228841168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/228841168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#228841168">(Mar 04 2021 at 20:06)</a>:</h4>
<p>but yes, agree that SMART would need a stance</p>



<a name="233400132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/233400132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#233400132">(Apr 06 2021 at 22:23)</a>:</h4>
<p>The CCG was updated today with the clarification here: <a href="https://www.healthit.gov/test-method/standardized-api-patient-and-population-services#ccg">https://www.healthit.gov/test-method/standardized-api-patient-and-population-services#ccg</a></p>



<a name="233400227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/233400227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#233400227">(Apr 06 2021 at 22:24)</a>:</h4>
<blockquote>
<p>For demonstration of the SMART IG "Standalone Launch" steps, health IT developers are permitted to scope US Core IG resources that do not exist in either the standard adopted at § 170.213 (USCDI version 1) or the "Compartment Patient" section of the standard adopted at § 170.215(a)(1) (HLY FHIR Release 4.0.1) as either patient/[Resource] or user/[Resource]. These resources include “Encounter,” “Device,” “Location,” “Medication,” “Organization,” “Practitioner,” and “PractitionerRole.” Health IT developers must document their supported scopes according to the technical documentation requirements at § 170.315(g)(10)(viii)(A) and § 170.404(a)(2).</p>
</blockquote>



<a name="233400279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/233400279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#233400279">(Apr 06 2021 at 22:24)</a>:</h4>
<p>This seems to be in line with allowing user/Practitioner.read and not patient/Practitioner.read (for example)</p>



<a name="233400329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/233400329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#233400329">(Apr 06 2021 at 22:25)</a>:</h4>
<p>Same question as the other thread: do we know how long it might take to get inferno tests updated to account for this, knowing there are several changes likely that will come from this clarification.</p>



<a name="233482324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/233482324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#233482324">(Apr 07 2021 at 13:00)</a>:</h4>
<p>Yes, same answer as the other thread :). We'll only require demonstration of the intersection of patient compartment + USCDI-mapped resources under the patient scope, which means we'll allow user/Practioner.read, user/Location.read etc.  It will be in our next release, which will be in a week or two.</p>



<a name="233488172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Inferno%20requiring%20patient%20focus%20for%20non-patient%20resources/near/233488172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Inferno.20requiring.20patient.20focus.20for.20non-patient.20resources.html#233488172">(Apr 07 2021 at 13:35)</a>:</h4>
<p>Thanks for the help on this!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
