---
layout: page
title: "FHIR Chat  · testing variability on Observation.effective[x] · inferno"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/index.html">inferno</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html">testing variability on Observation.effective[x]</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245961933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245961933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245961933">(Jul 14 2021 at 13:50)</a>:</h4>
<p>What is the current set of testing in Inferno around the Observation.effective[x] element? Of interest to me is:<br>
a) Variations on effectiveDateTime -- precision, timezone presence, offset presence<br>
b) use of effectivePeriod<br>
c) rather the use of effectiveTIming, and effectiveInstant</p>
<p>I ask as am seeing most US-Core data using just effectiveDateTime... and having high variability on the (a) front. So wondered to what extent Inferno is covering the possibilities of variation... </p>
<p>and thus wondering if there is a sample data (e.g. synthetic) that covers this full range.</p>



<a name="245964788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245964788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245964788">(Jul 14 2021 at 14:10)</a>:</h4>
<p>Inferno, as a test platform, does not include any functionality to track or enforce coverage of variations in elements / data types.  You can build that functionality in tests, as we have to a certain extent in the Inferno US Core tests (and copied into our IPS tests, and may others).  I do think that we should extract that kind of functionality out into the platform itself because it is broadly useful.</p>



<a name="245965015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245965015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245965015">(Jul 14 2021 at 14:11)</a>:</h4>
<p>I was not asking about observations where the .effective[x] changes over time... I am speaking to the case where data population has variation on how the .effective[x] is filled out.</p>



<a name="245965211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245965211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245965211">(Jul 14 2021 at 14:13)</a>:</h4>
<p>as in... some observations have just year, some have just year+month, some have just year+month+day, some have.....</p>



<a name="245965432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245965432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245965432">(Jul 14 2021 at 14:14)</a>:</h4>
<p>Sorry, by 'track' I meant look across a set of data and see what kinds of variations exist (and maybe add some rules about what a minimum set of variations are necessary to pass a test)</p>



<a name="245965569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245965569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245965569">(Jul 14 2021 at 14:15)</a>:</h4>
<p>For our US Core tests, we do not keep track of what variations have been shown by the responder, because there are no requirements in US Core for responders to support multiple variations.</p>



<a name="245965758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245965758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245965758">(Jul 14 2021 at 14:16)</a>:</h4>
<p>understood... so the answer is.. Inferno has no specific tests for varability in effective[x]... reasonable answer</p>



<a name="245965848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245965848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245965848">(Jul 14 2021 at 14:17)</a>:</h4>
<p>Inferno as a test platform does not, and Inferno US Core tests do not either.  You certainly could write a little bit of code as part of the test to keep track of that, but we haven't because we haven't needed it (yet).</p>



<a name="245966669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245966669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245966669">(Jul 14 2021 at 14:22)</a>:</h4>
<p>DateTimes are a bit like choice types, which brings me to b) and c).  Versions 1.0 - 1.3 of the Inferno US Core / g10 certification tests required systems to demonstrate all choice types for must support elements.  There was a lot of pushback against that interpretation by ONC, so the Inferno US Core tests were updated to only require demonstration of at least one choice for each must support element.  US Core v4.0.0 has been updated to be explicit about which choices must be supported for each must support element, so for testing that version we will take that into account.</p>



<a name="245967357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245967357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245967357">(Jul 14 2021 at 14:27)</a>:</h4>
<p>In the case of Observation.effectivePeriod, if a US Core v4.0.0 profile flags that choice as a must support, we will verify it is included when testing in the context of that profile.  For <a href="https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-observation-lab.html">lab result observations</a>, as an example, it looks like only the Observation.effectiveDateTime is flagged as must support, so we will only verify that choice exists in the data provided by the responder.</p>



<a name="245968640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245968640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245968640">(Jul 14 2021 at 14:36)</a>:</h4>
<p>As far as synthetic data that covers the full range... we do provide a <a href="https://github.com/inferno-community/uscore-data-sets">data set</a>, based on synthea with a few post-process tweaks to ensure that we get patient records that cover all the things that we test.  At one point, I believe part of the tweaks were to update some must support choice-type data elements so that all choice variations were present.  But since Inferno US Core g10 tests were updated to not require seeing all choice variations, we may have pulled that logic out.  We did <strong>not</strong> touch the DateTime elements that came out of Synthea -- we just did provided whatever Synthea provided.  I would guess Synthea only provides one variant, but I'm not sure about that.</p>



<a name="245969103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245969103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245969103">(Jul 14 2021 at 14:40)</a>:</h4>
<p>If you'd like to see what we did, it is <a href="https://github.com/synthetichealth/synthea">Synthea</a> -&gt; <a href="https://github.com/inferno-community/uscore-data-script">US Core Data Script</a> -&gt; <a href="https://github.com/inferno-community/uscore-data-sets">US Core Data Sets</a>.  The most recent data set is loaded onto <a href="https://inferno.healthit.gov/reference-server/r4">https://inferno.healthit.gov/reference-server/r4</a></p>



<a name="245969939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245969939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245969939">(Jul 14 2021 at 14:47)</a>:</h4>
<p>Another layer to this is that the search API allows flexibility in what DateTime variants a server decides to support searching by. <br>
 For example, a system may decide only to allow searching by the date + time + timezone variant.  US Core v4.0.0 adds some constraints around that.</p>



<a name="245972528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/testing%20variability%20on%20Observation.effective%5Bx%5D/near/245972528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/testing.20variability.20on.20Observation.2Eeffective.5Bx.5D.html#245972528">(Jul 14 2021 at 15:02)</a>:</h4>
<p>thanks. I understand the scope and intent of Inferno... I was not being critical, I was investigating.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
