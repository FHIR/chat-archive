---
layout: page
title: "FHIR Chat  · Caching JWK Set in FHIR Bulk API Workflow · inferno"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/index.html">inferno</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Caching.20JWK.20Set.20in.20FHIR.20Bulk.20API.20Workflow.html">Caching JWK Set in FHIR Bulk API Workflow</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="255245089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Caching%20JWK%20Set%20in%20FHIR%20Bulk%20API%20Workflow/near/255245089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lakshmi Bhamidipati <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Caching.20JWK.20Set.20in.20FHIR.20Bulk.20API.20Workflow.html#255245089">(Sep 28 2021 at 16:22)</a>:</h4>
<p>Hello,<br>
We are trying to understand how to demonstrate this Inferno test. It is part of "Visual and Inspection" tests.<br>
"Health IT developer confirms the Health IT module does not cache the JWK Set received via a TLS-protected URL for longer than the cache-control header indicates."<br>
Our authorization server is not caching the JWK Set that we get from Bulk Client. But I don't know how to demonstrate that to a proctor as part of Visual test. Any suggestions? <br>
Thank you in advance.</p>



<a name="255272957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Caching%20JWK%20Set%20in%20FHIR%20Bulk%20API%20Workflow/near/255272957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Caching.20JWK.20Set.20in.20FHIR.20Bulk.20API.20Workflow.html#255272957">(Sep 28 2021 at 18:24)</a>:</h4>
<p>We're looking to issue two different calls to the token endpoint with JWTs signed using the same private key,  where those calls are more than &lt;cache control header&gt; seconds apart, and then show that the JWKS URL was hit both times.  If you are hosting the JWKS URL, you can show the web server logs that indicate it was hit when the product being certified attempted to do the JWT validation.  You may want to control for other callers of the JWKS URL by checking the client IP.</p>



<a name="255288841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Caching%20JWK%20Set%20in%20FHIR%20Bulk%20API%20Workflow/near/255288841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lakshmi Bhamidipati <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Caching.20JWK.20Set.20in.20FHIR.20Bulk.20API.20Workflow.html#255288841">(Sep 28 2021 at 20:01)</a>:</h4>
<p>Thank you. Are you also implementing the 2nd requirement in the authorization server? We are not caching the JWK Set. Is it required for certification? The does not specify "SHALL", so I was wondering if we need to do anything about it.</p>
<p>1) The authorization server SHALL NOT cache a JWKS for longer than the client’s cache-control header indicates.<br>
2) The authorization server SHOULD cache a client’s JWK Set according to the client’s cache-control header; it doesn’t need to retrieve it anew every time.</p>



<a name="255396013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/Caching%20JWK%20Set%20in%20FHIR%20Bulk%20API%20Workflow/near/255396013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/Caching.20JWK.20Set.20in.20FHIR.20Bulk.20API.20Workflow.html#255396013">(Sep 29 2021 at 13:13)</a>:</h4>
<p>My read of the spec is that cache control handling is just recommended, not required.  The requirement is that you don't cache for too long if you do cache.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
