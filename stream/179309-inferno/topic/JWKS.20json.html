---
layout: page
title: "FHIR Chat  · JWKS json · inferno"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/index.html">inferno</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html">JWKS json</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272105770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/272105770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#272105770">(Feb 16 2022 at 11:52)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="191506">@Yunwei Wang</span> </p>
<p>This is regarding jwks url. Please see screenshot. <br>
<a href="/user_uploads/10155/JBGVH_PME3yvGxiG792SZqM2/jwks.png">jwks.png</a><br>
Here, do we have to use the highlighted jwks url in our oauth provider? Although comment here says "if supported". </p>
<div class="message_inline_image"><a href="/user_uploads/10155/JBGVH_PME3yvGxiG792SZqM2/jwks.png" title="jwks.png"><img src="/user_uploads/10155/JBGVH_PME3yvGxiG792SZqM2/jwks.png"></a></div><p>Even without using this URL, all the test cases pass (please check in the background of the screenshot). <br>
Please let me know your thoughts</p>
<p>Thanks,<br>
Sagar</p>



<a name="272120409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/272120409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#272120409">(Feb 16 2022 at 14:11)</a>:</h4>
<p>This is used for bulk data client registration. Please take a look of Bulk Data IG <a href="http://hl7.org/fhir/uv/bulkdata/STU1.0.1/authorization/index.html#registering-a-smart-backend-service-communicating-public-keys">Registering a SMART Backend Service</a> section. Using jwks url is strongly recommended by Bulk Data IG. If a server does not supporting using jwks url, the server can download the jwks and host it locally.</p>



<a name="272145606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/272145606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#272145606">(Feb 16 2022 at 17:09)</a>:</h4>
<p>Ok, thank you <span class="user-mention" data-user-id="191506">@Yunwei Wang</span>  . I will look into details about that one.</p>



<a name="272237663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/272237663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#272237663">(Feb 17 2022 at 10:06)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="191506">@Yunwei Wang</span> ,</p>
<p>We configured the "JWK Set URL" (highlighted in our earlier screenshot), in our OAuth server. But while validating the token it fails, with the message "The JSON Web Token (JWT) cannot be validated because a signing key cannot be found". <br>
Do we need to get the private key (asymmetric key pair) for <a href="https://inferno.healthit.gov/inferno/.well-known/jwks.json">https://inferno.healthit.gov/inferno/.well-known/jwks.json</a>, that will be used by our OAuth server to sign the token?</p>
<p>Please help. <br>
Thank you.</p>



<a name="272266329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/272266329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#272266329">(Feb 17 2022 at 14:26)</a>:</h4>
<p>You misunderstood the backend service workflow (<a href="http://hl7.org/fhir/uv/bulkdata/STU1.0.1/authorization/index.html">http://hl7.org/fhir/uv/bulkdata/STU1.0.1/authorization/index.html</a>). This private key is used by client to sign its client assertion. Auth server use the public key to verify the received client assertion. (<a href="http://hl7.org/fhir/uv/bulkdata/STU1.0.1/authorization/index.html#obtaining-an-access-token">http://hl7.org/fhir/uv/bulkdata/STU1.0.1/authorization/index.html#obtaining-an-access-token</a>)</p>



<a name="272502791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/272502791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#272502791">(Feb 19 2022 at 08:19)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191506">@Yunwei Wang</span> . I will look further in these links.</p>



<a name="273618244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/273618244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#273618244">(Mar 01 2022 at 10:24)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="191506">@Yunwei Wang</span> </p>
<p>This is regarding 'ATT-10: Health IT developer confirms the Health IT module does not cache the JWK Set received via a TLS-protected URL for longer than the cache-control header received by an application indicates'. </p>
<p>Does this talk about the URL highlighted in the screenshot here? <a href="/user_uploads/10155/-k0bnlKtiXlEXQd9lecPBgE8/infernojwks.png">infernojwks.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/-k0bnlKtiXlEXQd9lecPBgE8/infernojwks.png" title="infernojwks.png"><img src="/user_uploads/10155/-k0bnlKtiXlEXQd9lecPBgE8/infernojwks.png"></a></div><p>Thank you.<br>
Sagar</p>



<a name="274645917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274645917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274645917">(Mar 09 2022 at 05:40)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="311435">@James Threatte</span> ,<br>
I just wanted to check if <span class="user-mention" data-user-id="191506">@Yunwei Wang</span>  is on leave. I had posted this question few days back and I did not hear from <span class="user-mention" data-user-id="191506">@Yunwei Wang</span> . <br>
Also, if you are the right person, please let me know your thoughts on the question I posted.</p>
<p>Thank you,<br>
Sagar</p>



<a name="274695440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274695440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274695440">(Mar 09 2022 at 14:32)</a>:</h4>
<p>Yes, that is the URL they are talking about</p>



<a name="274696643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274696643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274696643">(Mar 09 2022 at 14:41)</a>:</h4>
<p>Ok. In ATT-10 it says the Health IT developer 'confirms' ..., here how do we confirm that this is the case? We have configured this URL in our app registration in oauth application. <br>
How ATT-10 will be a pass? Is this demonstration step or attestation?</p>
<p>Regards,<br>
Sagar</p>



<a name="274700098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274700098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274700098">(Mar 09 2022 at 15:03)</a>:</h4>
<p>Modify what is returned by that URL, the server should then use the new values after the time specified by the cache-control header</p>



<a name="274720088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274720088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274720088">(Mar 09 2022 at 17:13)</a>:</h4>
<p>The URL <a href="https://inferno.healthit.gov/inferno/.well-known/jwks.json">https://inferno.healthit.gov/inferno/.well-known/jwks.json</a> does not update the keys here and it has not updated in last more than 4-5 months.</p>



<a name="274728116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274728116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274728116">(Mar 09 2022 at 18:03)</a>:</h4>
<p><span class="user-mention" data-user-id="392120">@Sagar Sarvankar</span> Same as my answer in ATT-08 question. ATT tests is run by testing lab out of Inferno automatic testing. Testing lab uses Inferno to document the test result and observations. I have no knowledge about testing lab's procedure. This is based on ONC (g)(10) testing procedure</p>
<blockquote>
<p>The health IT developer demonstrates that the Health IT Module does not cache a JWK Set received via a TLS-protected URL for longer than the “cache-control” header sent by an application indicates.</p>
</blockquote>
<p>To answer second part of your question,  <a href="https://inferno.healthit.gov/inferno/.well-known/jwks.json">https://inferno.healthit.gov/inferno/.well-known/jwks.json</a>  is the JWK set Inferno (as Bulk Data client) provides to the Health IT Module (as Bulk Data server) to verify the request payload. This test is about Bulk Data server SHALL NOT cache client provided JWK set indefinitely.<br>
The analogy is that I MAY use the same password but server SHALL NOT store my credential on sever side indefinitely.</p>



<a name="274748173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274748173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274748173">(Mar 09 2022 at 20:31)</a>:</h4>
<p>In the case of Inferno, the fact that we do not rotate our keys is done to make it easier for users to run inferno behind their own firewalls, and so they do not need to expose a running instance of inferno somewhere addressable by the bulk data server.  Since the Inferno client does not rotate its keys, we cannot test requirement for servers to refresh the keys automatically based on the cache-control header, and therefore we unfortunately require it to be checked outside of the Inferno tool.</p>



<a name="274749271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274749271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274749271">(Mar 09 2022 at 20:40)</a>:</h4>
<p>In this case, you could mock up a lightweight jwks endpoint for a fake client, show your system fetch those keys if you register a client that points to that URL for their keys, then change the keys served at hte endpoint  (after whenever the cache header expires), and show those keys being retrieved by the system.  It doesn't have to be the Inferno client, and the client doesn't actually have to work -- since you are just showing that limited requirement.</p>



<a name="274749387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274749387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274749387">(Mar 09 2022 at 20:41)</a>:</h4>
<p>Asking the test lab that are using for what they are expecting is a good idea though.</p>



<a name="274840098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179309-inferno/topic/JWKS%20json/near/274840098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/179309-inferno/topic/JWKS.20json.html#274840098">(Mar 10 2022 at 14:14)</a>:</h4>
<p>Thank you, <span class="user-mention" data-user-id="191912">@Michele Mottini</span> , <span class="user-mention" data-user-id="191506">@Yunwei Wang</span>  and <span class="user-mention" data-user-id="192576">@Robert Scanlon</span> . I will look further into this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
