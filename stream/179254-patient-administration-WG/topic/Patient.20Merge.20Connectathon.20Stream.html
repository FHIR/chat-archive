---
layout: page
title: "FHIR Chat  · Patient Merge Connectathon Stream · patient administration WG"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/index.html">patient administration WG</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html">Patient Merge Connectathon Stream</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="168764192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/168764192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#168764192">(Jun 22 2019 at 20:29)</a>:</h4>
<p>I spoke about patient merging at DevDays. At the end, I asked if anyone was interested in a stream around patient merging, and there was quite some interest (50+ hands up). Is anyone interested in planning and running a stream around patient merge? </p>
<p>For me, there's 2 parts of interest:</p>
<ul>
<li>how does the API deal with a patient merge that happened internally</li>
<li>how does the API allow for a patient merge process</li>
</ul>
<p>I think the 1st is more pressing than the second</p>



<a name="168764345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/168764345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#168764345">(Jun 22 2019 at 20:34)</a>:</h4>
<p>btw, during the presentation, I described 3 options for dealing with a request accessing a patient that has been been merged into another patient (eg. patient A merged into Patient B, and now <code>GET [base]/Patient/A</code>:</p>
<ul>
<li>return 200 ok with a patient record stating actice=false + link to B</li>
<li>return 304 redirect to [base]/Patient/B (handled in HTTP client transparently to client)</li>
<li>return 404 not found</li>
</ul>
<p>I asked for a show of hands for which was safest - and got an even spread across options</p>



<a name="168764350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/168764350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#168764350">(Jun 22 2019 at 20:35)</a>:</h4>
<p>note I think the 304 redirect is mist unsafe since it's transparent to the client. btw, I asked how many implementations check that that the patient id in the returned resource matches the patient that was requested, and got only 1 implementation saying that they do that (Pascal)</p>



<a name="169402896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/169402896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#169402896">(Jul 01 2019 at 15:02)</a>:</h4>
<p>we also have interest in this from IHE perspective related to the PRIM profile. The management of Patient is not as hard as the management of all data (FHIR Resources) that reference the 'old' Patient. especially related to when those historic Resources are signed...</p>



<a name="169487859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/169487859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#169487859">(Jul 02 2019 at 14:55)</a>:</h4>
<p>it would be good to itemize the use-cases that distinguish Merge from a perfect world where no duplicates ever happen and identity provisioning is perfect the first time.</p>



<a name="169488020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/169488020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#169488020">(Jul 02 2019 at 14:57)</a>:</h4>
<p>what happens to Patient resource? What happens to other Resources that reference the Patient resource? Queries, Creates, Updates?</p>



<a name="169526511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/169526511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#169526511">(Jul 02 2019 at 23:07)</a>:</h4>
<p>Yes, those are all considerations for the connectathon.</p>



<a name="169526564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/169526564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#169526564">(Jul 02 2019 at 23:08)</a>:</h4>
<p>Did IHE try and test anything for what they wrote up, or just an initial strawman?</p>



<a name="175701617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175701617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175701617">(Sep 14 2019 at 13:31)</a>:</h4>
<p>Here is a webex we can use for screen sharing at the connectathon: <a href="https://epic.webex.com/epic/j.php?MTID=mdf6fe02c3cc03a5503d8d8e5a9e70636" target="_blank" title="https://epic.webex.com/epic/j.php?MTID=mdf6fe02c3cc03a5503d8d8e5a9e70636">https://epic.webex.com/epic/j.php?MTID=mdf6fe02c3cc03a5503d8d8e5a9e70636</a></p>



<a name="175701662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175701662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175701662">(Sep 14 2019 at 13:32)</a>:</h4>
<p>Hey all, this is the topic to follow for connectathon related Patient Merge functionality</p>



<a name="175701664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175701664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175701664">(Sep 14 2019 at 13:32)</a>:</h4>
<p><a href="https://confluence.hl7.org/display/PA/Connectathon+Sept+2019+at+WGM+%28Atlanta%29+Patient+%24Merge" target="_blank" title="https://confluence.hl7.org/display/PA/Connectathon+Sept+2019+at+WGM+%28Atlanta%29+Patient+%24Merge">https://confluence.hl7.org/display/PA/Connectathon+Sept+2019+at+WGM+%28Atlanta%29+Patient+%24Merge</a></p>



<a name="175701742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175701742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175701742">(Sep 14 2019 at 13:34)</a>:</h4>
<p>Here is a webex we can use for the merge connectathon: <a href="https://epic.webex.com/epic/j.php?MTID=mdf6fe02c3cc03a5503d8d8e5a9e70636" target="_blank" title="https://epic.webex.com/epic/j.php?MTID=mdf6fe02c3cc03a5503d8d8e5a9e70636">https://epic.webex.com/epic/j.php?MTID=mdf6fe02c3cc03a5503d8d8e5a9e70636</a></p>



<a name="175717936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175717936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175717936">(Sep 14 2019 at 20:58)</a>:</h4>
<p>I have a very draft version up on here:<br>
<a href="http://sqlonfhir-r4.azurewebsites.net/fhir/" target="_blank" title="http://sqlonfhir-r4.azurewebsites.net/fhir/">http://sqlonfhir-r4.azurewebsites.net/fhir/</a><br>
Currently is only performing the changes to the Patient resources (and validating all the parameters)<br>
next for me will be processing all the referenced content.</p>



<a name="175750111"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175750111" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175750111">(Sep 15 2019 at 13:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> got a tic to talk turkey, I mean provenance for the Patient Merge?<br>
We're trying to decide what is in it.</p>



<a name="175753288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175753288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175753288">(Sep 15 2019 at 15:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>  looking at the Merge Operation - how does the server know who to send messages to about the merge? The subscription approach is nice because apps that care (or servers that care) can formally request notification</p>



<a name="175753301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175753301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175753301">(Sep 15 2019 at 15:17)</a>:</h4>
<p>IE: we have some apps that don't care about merges because they don't store data (actually the majority right now)</p>



<a name="175753305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175753305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175753305">(Sep 15 2019 at 15:17)</a>:</h4>
<p>But we have a few that do have separate stores and need to get the data updated</p>



<a name="175753357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175753357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175753357">(Sep 15 2019 at 15:18)</a>:</h4>
<p>on that topic... have you seen the subscription for patient updates including merge that are in the IHE PRIM profile?</p>



<a name="175753419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175753419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175753419">(Sep 15 2019 at 15:20)</a>:</h4>
<p>The operation is the explicit  action to kick off the whole thing, how that ripples onto other systems isn't specifically covered at this stage, but have covered a little on what could occur from a messaging standpoint - but really drafty.<br>
<a href="https://confluence.hl7.org/pages/viewpage.action?pageId=58657695#MergeOperation-NotificationMechanisms" target="_blank" title="https://confluence.hl7.org/pages/viewpage.action?pageId=58657695#MergeOperation-NotificationMechanisms">https://confluence.hl7.org/pages/viewpage.action?pageId=58657695#MergeOperation-NotificationMechanisms</a></p>



<a name="175753433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175753433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175753433">(Sep 15 2019 at 15:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>   No,  but we've had some issues with Subscriptions in pre-R5 draft as well (the Topic breakout work is helping resolve some problems). Link?</p>



<a name="175754203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175754203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175754203">(Sep 15 2019 at 15:41)</a>:</h4>
<p>I get the impression that this is going to be a place where the subscription profile will need to be able to handle many different scenarios, so long as an app or server will get notified</p>



<a name="175754210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175754210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175754210">(Sep 15 2019 at 15:42)</a>:</h4>
<p>IE: it will point to a topic definition that allows for many scenarios, but the end result is the same</p>



<a name="175754781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175754781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175754781">(Sep 15 2019 at 15:56)</a>:</h4>
<p>unfortunately the work is still open.. and awaiting the merge work here at HL7. It is in this github <a href="https://github.com/IHE/IT-Infrastructure/tree/master/PRIM" target="_blank" title="https://github.com/IHE/IT-Infrastructure/tree/master/PRIM">https://github.com/IHE/IT-Infrastructure/tree/master/PRIM</a></p>



<a name="175756429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175756429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175756429">(Sep 15 2019 at 16:43)</a>:</h4>
<p>Provenance.activity could be drawn from the EHR lifecycle events where there is a merge activity <a href="http://build.fhir.org/valueset-object-lifecycle-events.html" target="_blank" title="http://build.fhir.org/valueset-object-lifecycle-events.html">http://build.fhir.org/valueset-object-lifecycle-events.html</a></p>



<a name="175756481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175756481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175756481">(Sep 15 2019 at 16:44)</a>:</h4>
<p>I have a CP to fix the existing Provenance.actiity valueset that is not complete</p>



<a name="175765119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/175765119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#175765119">(Sep 15 2019 at 20:39)</a>:</h4>
<p><a href="https://1drv.ms/p/s!ApkGK_oT9urNvYVm4A3KnKVlnAnxaA" target="_blank" title="https://1drv.ms/p/s!ApkGK_oT9urNvYVm4A3KnKVlnAnxaA">https://1drv.ms/p/s!ApkGK_oT9urNvYVm4A3KnKVlnAnxaA</a></p>



<a name="176431681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176431681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176431681">(Sep 24 2019 at 04:35)</a>:</h4>
<p>Question to the group on References to Patient with a version on them, such as those found in AuditEvents.<br>
What do we do with those?<br>
I think they have to remain untouched right?<br>
Can't exactly move them over, as that version number is specific to the old value.<br>
Think might be worth including them in a log though.<br>
<span class="user-mention" data-user-id="191404">@John Moehrke</span>  thoughts?</p>



<a name="176432099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176432099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176432099">(Sep 24 2019 at 04:47)</a>:</h4>
<p>Also, anyone have any comments on what should happen if the reference exists in an extension somewhere? should that be updated too?<br>
(Assuming the answer yes) My server would have no idea what to do with this.<br>
Internally I'm iterating over all the resource types, and search parameters that target the source patient , and then updating them as they are found.<br>
This means that as long as there is a search parameter on Patient for all the usage, then they will be all covered.<br>
<span class="user-mention" data-user-id="191764">@Cooper Thompson</span>  <span class="user-mention" data-user-id="191356">@Jenni Syed</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  thoughts?</p>



<a name="176457691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176457691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176457691">(Sep 24 2019 at 12:20)</a>:</h4>
<p>Those questions are a challenge for me. I’d search for resources by the search parameters, but I’d scan them by element, not search parameter. But... I don’t have time to scan every resource on file. So search parameters are the thing. But... what about DocumentReference where one of the references shouldn’t be fixed?</p>



<a name="176461517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176461517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176461517">(Sep 24 2019 at 13:08)</a>:</h4>
<p>Good question that I am not sure how much thought has gone into it. These hard questions are the bit I expect to keep popping up. I would expect that the historic versions of any resource would be not-touched, thus historic linkages are still historically correct. It is just the current and future versions that have the identity updated because of the merge operation. Right?<br>
Thus, when a query is done on non-version id; it will get the current and thus correct value. Where as pulling a version specific will get that specific. right?</p>



<a name="176461584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176461584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176461584">(Sep 24 2019 at 13:09)</a>:</h4>
<p>as to extensions that are of type Reference... this might be detectable even if the extension is not understoood?  This seems dangerous.  Might be best for us to identify that extensions that are (or have within) References are an open issue.</p>



<a name="176461859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176461859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176461859">(Sep 24 2019 at 13:13)</a>:</h4>
<p>Are we looking for general guidance that an element of type Reference that holds a version specific reference would NOT be changed by a merge operation? That seems on the face to be safe, so what are the cases when it is not?  If not that kind of a behaviour of the merge, what kind of damage can a  more aggressive merge cause? Seems aggressive merge could do quite a bit of unintended damage. I think it is best that we itemize these so that we can come to a conclusion.   seems to me that if a version specific reference was used, it was used for good reason; however might there be egregious use of version specific references when unversioned should be used?</p>



<a name="176474182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176474182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176474182">(Sep 24 2019 at 15:20)</a>:</h4>
<blockquote>
<p>Those questions are a challenge for me. I’d search for resources by the search parameters, but I’d scan them by element, not search parameter. But... I don’t have time to scan every resource on file. So search parameters are the thing. But... what about DocumentReference where one of the references shouldn’t be fixed?</p>
</blockquote>
<p>This is a good example. Even in XDS when merge is done in a XDS Registry, only the active Patient ID is updated in the Registry. Any "sourcePatientInfo" is left exactly as it was initially published. This concept of sourcePatientInfo is specifically intended to be exactly what the patient was at the time of publication. In the binding of XDS to FHIR in MHD; the concept of sourcePatientInfo is mandated as a contained Patient. This is how this behavior is maintained in FHIR.</p>



<a name="176474395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176474395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176474395">(Sep 24 2019 at 15:22)</a>:</h4>
<p>which brings up the question about merge on if it is expected that the merge will update any <a href="http://Patient.id" target="_blank" title="http://Patient.id">Patient.id</a> found in contained? I would think it should not expect a merge operation to affect contained Patient. But should it? What about all other resource types that are in contained? might those also be behind the visitiblity of the merge action?</p>



<a name="176507427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176507427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176507427">(Sep 24 2019 at 21:19)</a>:</h4>
<p>The 2 that really get me are provenance and verificationresult.<br>
I kinda think a new verificationresult would be in order, however all the other provenances that contributed to the patient record are now no longer locatable for the patient. This seems wrong.<br>
My merge provenance resource records a warning for each versioned reference it encounters. And doesn't touch the merge provenance records.<br>
I still need to process the patient resource more carefully to catch other patient resources that link to the source that aren't involved in the merge.</p>



<a name="176537425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176537425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176537425">(Sep 25 2019 at 06:33)</a>:</h4>
<p>The older Provenance would be findable if you noticed the one Provenance indicating the merge...   In theory the deprecated Patient no-longer exists,  and thus all the old versions of that deprecated Patient would too no-longer exist. Where the definition of no-longer exist is dependent on the policy. If that policy is to truly purge, then both the Patient and Provenance (all versions) would also get purged. So, I am not clear what the problem is.  Similar for VerificationResult, why would these matter anymore for the deprecated Patient; they clearly were improper Verification Results... as they were verifying the thing that ultimately was deemed to be duplicate and to be deprecated...</p>



<a name="176538095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176538095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176538095">(Sep 25 2019 at 06:46)</a>:</h4>
<p>You're right. My new provenance needs to point to it, so concern alleviated (of sorts)</p>



<a name="176538187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/176538187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#176538187">(Sep 25 2019 at 06:48)</a>:</h4>
<p>The VerificationResult however I would think that would want to initiate a new verification process on the freshly merged record, as the previous verification is now stale/irrelevant.<br>
Think I'll add it to my info messages.</p>



<a name="177235584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/177235584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#177235584">(Oct 03 2019 at 11:45)</a>:</h4>
<p>New twist brought up in IHE discussions on Patient Merge and affect in an HIE... Given that the patient can be an author, and other kinds of participants... When merging one must look everywhere the deprecated Patient exists and fix them up too. So the actions of a merge is not limited to .subject and .patient elements.</p>



<a name="177279502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/177279502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#177279502">(Oct 03 2019 at 19:41)</a>:</h4>
<p>no. and any real system will have patient information outside the scope of FHIR too. Even minimally, there's potentially multiple user accounts</p>



<a name="177286736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/177286736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#177286736">(Oct 03 2019 at 20:48)</a>:</h4>
<p>Correct. My POC reads every resource and any search parameter to patient it resolves. But this misses any extensions that aren't in search parameters.<br>
Only way around it is to scan everything in the way in and tag a special search parameter <code>patient-for-merge</code><br>
<code>descendants.ofType(ResourceReference).resolve().ofType(Patient)</code><br>
I know probably wrong and expensive but that gives the idea.</p>



<a name="177286825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/177286825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#177286825">(Oct 03 2019 at 20:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> I thought we'd already mentioned it. We will be more explicit though.</p>



<a name="178023069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/178023069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#178023069">(Oct 13 2019 at 06:05)</a>:</h4>
<p>So what happened to the idea of support a HTTP redirect? This would at least help if one should fail to update some of the references..</p>



<a name="178055970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/178055970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#178055970">(Oct 13 2019 at 21:33)</a>:</h4>
<p>Not sure what happened... but there was concern that an http redirect might not be noticed as "you have something wrong that needs to be fixed". But I don't think we forbid it, I think we just thought that it was more dangerous than helpful.</p>



<a name="178056914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/178056914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#178056914">(Oct 13 2019 at 22:00)</a>:</h4>
<p>And also consistency in approach, that only works when you are directly requesting that specific resource, so it doesn't work with searching, or includes. I thought we added those notes into the discussion in the page. Will ensure it's documented in there.</p>



<a name="178319068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/178319068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#178319068">(Oct 16 2019 at 19:04)</a>:</h4>
<p>Conference call on now for the Merge if folks want join!</p>



<a name="185315956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/185315956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reinhard Egelkraut <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#185315956">(Jan 10 2020 at 14:48)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> ,<br>
Is there going to be a Patient Merge track again at the Connectathon in Sydney? <br>
If yes, I would be interested to participate.</p>



<a name="185359242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179254-patient%20administration%20WG/topic/Patient%20Merge%20Connectathon%20Stream/near/185359242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179254-patient-administration-WG/topic/Patient.20Merge.20Connectathon.20Stream.html#185359242">(Jan 10 2020 at 22:52)</a>:</h4>
<p>Wasn't planning on doing it, though could present some progress to others might be an idea.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
