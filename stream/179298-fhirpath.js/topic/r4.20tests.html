---
layout: page
title: "FHIR Chat  · r4 tests · fhirpath.js"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/index.html">fhirpath.js</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html">r4 tests</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153994306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153994306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153994306">(Sep 07 2018 at 14:46)</a>:</h4>
<p><span class="user-mention" data-user-id="196799">@Nikolay Artamonov</span> I was about to work on adding the r4 tests, and Nicola said the two of you had discussed something like that.  I was going to write a script to convert the patient xml resource into JSON, and then another script to convert <a href="https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml" target="_blank" title="https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml">https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml</a> into yaml, and add some code to test/fhirpath.test.js to read the yaml and run its tests.  I would add support for an "exclude" option on the test groups and also the individual tests, so we can turn off the tests for the parts we don't (yet) support.</p>
<p>However, if you were already planning to do this, then I will happily let you handle that and I will and move on to another part of the FHIRPath spec.</p>



<a name="153994309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153994309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153994309">(Sep 07 2018 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span>  Today I start writing script to convert fhir-r4.xml into yaml, so I can do this part.</p>



<a name="153994310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153994310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153994310">(Sep 07 2018 at 14:53)</a>:</h4>
<p>I think, we can push this code into repo in a separate folder</p>



<a name="153994311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153994311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153994311">(Sep 07 2018 at 14:55)</a>:</h4>
<p>Yes, I was thinking of test/bin for test-related utility scripts, and maybe test/r4 for r4 tests.<br>
<span class="user-mention" data-user-id="196799">@Nikolay Artamonov</span>  Sounds good-- I will wait for your changes.</p>



<a name="153994313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153994313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153994313">(Sep 07 2018 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span> converter code?</p>



<a name="153994314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153994314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153994314">(Sep 07 2018 at 14:57)</a>:</h4>
<p>Yes  - so we can re-run it later on next version of FHIR xml :)</p>



<a name="153995865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153995865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153995865">(Sep 11 2018 at 19:23)</a>:</h4>
<p>I think I had found an npm package for reading XML.  I can't remember which one.</p>



<a name="153995866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153995866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153995866">(Sep 11 2018 at 19:24)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="+1">:+1:</span>  This is one time job - please add it to devDeps</p>



<a name="153995932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153995932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153995932">(Sep 11 2018 at 21:46)</a>:</h4>
<p><span class="user-mention" data-user-id="196799">@Nikolay Artamonov</span>  I think it was <a href="https://www.npmjs.com/package/xml2js" target="_blank" title="https://www.npmjs.com/package/xml2js">https://www.npmjs.com/package/xml2js</a>, which seems popular.</p>



<a name="153996206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153996206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153996206">(Sep 12 2018 at 12:15)</a>:</h4>
<p>Thx <span class="user-mention" data-user-id="195344">@Paul Lynch</span> , I will try it</p>



<a name="153997503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997503">(Sep 18 2018 at 02:59)</a>:</h4>
<p>I hate babel - do we really need it - it blows the project :( Can we do it without babel?</p>



<a name="153997609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997609">(Sep 18 2018 at 14:11)</a>:</h4>
<p>Oh, ok ( I will remove it</p>



<a name="153997621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997621">(Sep 18 2018 at 15:20)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span>  I push some changes, can U review ?</p>



<a name="153997630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997630">(Sep 18 2018 at 15:33)</a>:</h4>
<p>Thanks-- will do.</p>



<a name="153997647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997647">(Sep 18 2018 at 16:21)</a>:</h4>
<p>I can't find inputfile - patient-example.xml in HL7 repos, it's this Patient-example file <a href="https://www.hl7.org/fhir/patient-example.json.html" target="_blank" title="https://www.hl7.org/fhir/patient-example.json.html">https://www.hl7.org/fhir/patient-example.json.html</a> ?</p>



<a name="153997654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997654">(Sep 18 2018 at 16:49)</a>:</h4>
<p>It is here: <a href="https://github.com/FHIR/fluentpath/blob/master/spec/tests.zip" target="_blank" title="https://github.com/FHIR/fluentpath/blob/master/spec/tests.zip">https://github.com/FHIR/fluentpath/blob/master/spec/tests.zip</a></p>



<a name="153997705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997705">(Sep 18 2018 at 18:15)</a>:</h4>
<p><span class="user-mention" data-user-id="196799">@Nikolay Artamonov</span> PR approved; now we are just waiting on the second review.  I think the converter you've written is enough for one PR.  The work to actually integrate the converted tests can be a separate PR.<br>
<span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span> Will you be able to review Nikolay's PR soon? (<a href="https://github.com/lhncbc/fhirpath.js/pull/58" target="_blank" title="https://github.com/lhncbc/fhirpath.js/pull/58">https://github.com/lhncbc/fhirpath.js/pull/58</a>)</p>



<a name="153997710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997710">(Sep 18 2018 at 18:22)</a>:</h4>
<p>Thx <span class="user-mention" data-user-id="195344">@Paul Lynch</span> !  Generated yaml test file contains 2k lines, think we should split it? For patient-example.xml  - need another converter?</p>



<a name="153997733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997733">(Sep 18 2018 at 19:35)</a>:</h4>
<p>I don't think we should split it up.  However, I just "unapproved" your pull request by requesting another change.  We need to capture the value of inputfile for each test.  If search the test XML file, you will see some tests that use something other than patient-example.xml.</p>
<p>I am hoping we don't have to convert patient-example.xml.  I have posted a question on the fhirpath.js stream.</p>



<a name="153997840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153997840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153997840">(Sep 18 2018 at 22:02)</a>:</h4>
<p><span class="user-mention" data-user-id="196799">@Nikolay Artamonov</span> Following Bryn's example, I was able to get the patient example loaded here:  <a href="http://hapi.fhir.org/baseDstu3/Patient/example" target="_blank" title="http://hapi.fhir.org/baseDstu3/Patient/example">http://hapi.fhir.org/baseDstu3/Patient/example</a> although I had to change the organization ID to match one actually on the FHIR server.  I guess it would probably be better to change it back to one after you copy that.</p>



<a name="153998063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998063">(Sep 19 2018 at 13:03)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span>  How we should update test with value of input file ?  I our tests data-structure saved in test file or we can connect it from another file?</p>



<a name="153998081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998081">(Sep 19 2018 at 13:35)</a>:</h4>
<p>The tests should just have "inputfile: [name of file]".   I guess for "[name of file]", you could replace ".xml" with ".json".  Then, add the JSON resources the tests need as separate files (maybe in a subdirectory).  See Bryn's response at: <a href="#narrow/stream/115-fhirpath/subject/JSON.20version.20of.20FHIRPath.20tests.3F" title="#narrow/stream/115-fhirpath/subject/JSON.20version.20of.20FHIRPath.20tests.3F">https://chat.fhir.org/#narrow/stream/115-fhirpath/subject/JSON.20version.20of.20FHIRPath.20tests.3F</a> for where to find the files (note the "raw" link).</p>



<a name="153998276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998276">(Sep 19 2018 at 16:56)</a>:</h4>
<div class="codehilite"><pre><span></span>  - desc: &#39;** test&#39;
    inputfile: patient-example.json
    expression: 1 | 1 is Integer
    result:
      - true
</pre></div>


<p>looks ok?</p>



<a name="153998277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998277">(Sep 19 2018 at 16:58)</a>:</h4>
<p>or</p>
<div class="codehilite"><pre><span></span>  - desc: &#39;** test&#39;
  - inputfile: patient-example.json
    expression: 1 | 1 is Integer
    result:
      - true
</pre></div>



<a name="153998283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998283">(Sep 19 2018 at 17:28)</a>:</h4>
<p>Also thinks we should convert json into yaml, isn't?</p>



<a name="153998331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998331">(Sep 19 2018 at 18:24)</a>:</h4>
<p>I don't think we should bother converting the JSON resources into YAML.  It is better to stick with the format we get from the FHIR build.</p>
<p>Regarding the test formats above, I think the first is correct, because for each test there is a description and an input file.</p>



<a name="153998359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998359">(Sep 19 2018 at 19:38)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span>  how we connect json resouce files with yaml test cases? Convert and manually past in? Can test file include more than one "subject" ?</p>



<a name="153998360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998360">(Sep 19 2018 at 19:42)</a>:</h4>
<p>Yes, more than one subject (potentially a different one for each test).  The test processing code will have to be modified to handle the new "inputfile" property.  When it finds a new inputfile, it will load it and use it as the subject for the test.  (It can cache the loaded files, because they won't change.)  But, this change should be done in a separate pull request.  All was I hoping for in this one was the inclusion of the "inputfile" parameter in the test definition file, and perhaps the JSON resources.  Since your changes in this PR have already been reviewed, I don't want to add a bunch of new code changes for the processing in the same PR.</p>



<a name="153998701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998701">(Sep 20 2018 at 17:27)</a>:</h4>
<p><span class="user-mention" data-user-id="196799">@Nikolay Artamonov</span> Now that that is merged, are you planning to revise our test running code to work with the converted fhir-r4.xml?<br>
 I was thinking the converted test file could be checked in as fhir-r4.json, and then we could disable groups or individual tests with some additional property (e.g., disable: false) for things we do not yet support.</p>



<a name="153998725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998725">(Sep 20 2018 at 19:41)</a>:</h4>
<p>Why json? We convert into yaml, and how we will include input files data?</p>



<a name="153998732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998732">(Sep 20 2018 at 19:50)</a>:</h4>
<p>Right, yaml for the tests.   When the test processor reads a test with an "inputfile" property, it will load that file (if not already loaded) and use it as the subject for the test.</p>



<a name="153998741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998741">(Sep 20 2018 at 20:11)</a>:</h4>
<p>Input load file already done? So we should convert json inputfile data to yaml, right?</p>



<a name="153998762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153998762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153998762">(Sep 20 2018 at 20:44)</a>:</h4>
<p>The inputfile values are the filenames you added under test/resources.  I think you should leave those as JSON and have  fhirpath.test.js<br>
 read them in as needed to execute the expressions in the converted yaml from the standard r4 tests.</p>



<a name="153999388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153999388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153999388">(Sep 24 2018 at 08:30)</a>:</h4>
<p>I add converted r4 test with disabled not implemented functions</p>



<a name="153999448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/153999448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#153999448">(Sep 24 2018 at 15:45)</a>:</h4>
<p>Thanks-- I took a quick look just now and it looks good, but I will go through it in more detail.  I added <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span>  as a reviewer.</p>



<a name="154000319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154000319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154000319">(Sep 27 2018 at 16:10)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span> <span class="user-mention" data-user-id="191318">@nicola (RIO/SS)</span>  What are my next steps?</p>



<a name="154000343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154000343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154000343">(Sep 27 2018 at 16:51)</a>:</h4>
<p><span class="user-mention" data-user-id="196799">@Nikolay Artamonov</span>  On the pull request, did you see the comment about preserving the test structure (groups of tests)?</p>



<a name="154001926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154001926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154001926">(Sep 29 2018 at 17:14)</a>:</h4>
<p>Yes, ok I will do it =)</p>



<a name="154002212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154002212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154002212">(Sep 29 2018 at 20:00)</a>:</h4>
<p>Great-- thanks!</p>



<a name="154004468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154004468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154004468">(Oct 02 2018 at 13:44)</a>:</h4>
<p>What mean "focus" option in tests?</p>



<a name="154004839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154004839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154004839">(Oct 02 2018 at 18:19)</a>:</h4>
<p>I implement grops of tests.<br>
<a href="https://www.dropbox.com/s/nkz1ol1psg6ef64/Screenshot%202018-10-02%2021.19.10.png?dl=0" target="_blank" title="https://www.dropbox.com/s/nkz1ol1psg6ef64/Screenshot%202018-10-02%2021.19.10.png?dl=0">https://www.dropbox.com/s/nkz1ol1psg6ef64/Screenshot%202018-10-02%2021.19.10.png?dl=0</a></p>
<div class="message_inline_image"><a href="https://www.dropbox.com/s/nkz1ol1psg6ef64/Screenshot%202018-10-02%2021.19.10.png?dl=0" target="_blank" title=""><img src="https://www.dropbox.com/s/nkz1ol1psg6ef64/Screenshot%202018-10-02%2021.19.10.png?dl=1"></a></div>



<a name="154005352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154005352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154005352">(Oct 03 2018 at 15:01)</a>:</h4>
<p>The screenshot looks good!  "focus" means "run this test (or group)".  There is a flag in the the test runner that tells it to only run the focused tests (or groups).</p>



<a name="154006633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154006633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154006633">(Oct 08 2018 at 08:16)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span> can you check my last changes in pr ?</p>



<a name="154006990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154006990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154006990">(Oct 09 2018 at 13:54)</a>:</h4>
<p>Yes-- sorry for the delay on that.  I will do it today.<br>
I suppose it would best to disable the tests that are failing for now (since it is from new tests rather than new code) so we can get it merged.</p>



<a name="154007014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154007014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154007014">(Oct 09 2018 at 15:44)</a>:</h4>
<p>I disable tests which are failed with not implemented parts.</p>



<a name="154007027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154007027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolay Artamonov <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154007027">(Oct 09 2018 at 16:08)</a>:</h4>
<p>Another failed tests - looks like we have bugs in the implementations</p>



<a name="154007038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154007038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154007038">(Oct 09 2018 at 16:35)</a>:</h4>
<p>Yes, clearly we do have some bugs, and your tests are showing that.  What I am suggesting is that we disable those too, so we can go ahead and merge your tests in.  Then, as we have time, we can re-enable those tests and fix the issues.  It will be easier for me to run your tests if they are merged and part of the branch I am working on.</p>



<a name="154007059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/r4%20tests/near/154007059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/r4.20tests.html#154007059">(Oct 09 2018 at 17:09)</a>:</h4>
<p>Reviewed commits.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
