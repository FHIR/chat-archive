---
layout: page
title: "FHIR Chat  · implementation of in().not() · fhirpath.js"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/index.html">fhirpath.js</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/implementation.20of.20in().2Enot().html">implementation of in().not()</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200500590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/implementation%20of%20in%28%29.not%28%29/near/200500590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/implementation.20of.20in().2Enot().html#200500590">(Jun 11 2020 at 02:34)</a>:</h4>
<p>Hi, I was trying the suggested fhirpath in fhirpath.js.   Something like <code>Bundle.entry.resource.where(resourceType in ('Observation' | 'AllergyIntolerance' | 'Procedure')).not()</code>  I fed it a bundle of only 'Conditions' and it returns to me an empty collection.  I tried a few variations of grouping with parens, but nothing seemed to change the result.  Any ideas?</p>



<a name="200560802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/implementation%20of%20in%28%29.not%28%29/near/200560802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/implementation.20of.20in().2Enot().html#200560802">(Jun 11 2020 at 15:33)</a>:</h4>
<p>The expression with not() needs to be inside the where(...).  Otherwise you are applying not() to the result of the where().</p>



<a name="200562950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/implementation%20of%20in%28%29.not%28%29/near/200562950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/implementation.20of.20in().2Enot().html#200562950">(Jun 11 2020 at 15:47)</a>:</h4>
<p>I had thought that too so I tried these as well:  <code>Bundle.entry.resource.where((resourceType in ('Observation' | 'AllergyIntolerance' | 'Procedure')).not())</code> and <code>Bundle.entry.resource.where(resourceType in ('Observation' | 'AllergyIntolerance' | 'Procedure').not())</code>.  The latter makes more sense to me, but not sure since all 3 forms return empty collection.</p>



<a name="200563262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/implementation%20of%20in%28%29.not%28%29/near/200563262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/implementation.20of.20in().2Enot().html#200563262">(Jun 11 2020 at 15:50)</a>:</h4>
<p>I tried the following with bundle of Observations you shared earlier, and got Observations back:<br>
fhirpath --expression "Bundle.entry.resource.where((resourceType in ('AllergyIntolerance' | 'Procedure')).not())" --resourceFile DanielJohnson.Observations.json</p>



<a name="200565727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/implementation%20of%20in%28%29.not%28%29/near/200565727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/implementation.20of.20in().2Enot().html#200565727">(Jun 11 2020 at 16:05)</a>:</h4>
<p>hmmm.   and you have the not() wrapping the expression..   I'm working with a different data file that contains only Conditions.  let me try switching back to Observations with your expression and then working forward from there.</p>



<a name="200594046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/implementation%20of%20in%28%29.not%28%29/near/200594046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/implementation.20of.20in().2Enot().html#200594046">(Jun 11 2020 at 19:32)</a>:</h4>
<p>That worked well in my environment.  thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
