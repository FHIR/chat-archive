---
layout: page
title: "FHIR Chat  · Querying for resources of a specified type · fhirpath.js"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/index.html">fhirpath.js</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html">Querying for resources of a specified type</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200476940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200476940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200476940">(Jun 10 2020 at 21:08)</a>:</h4>
<p>Hi, I'm new to Zulip and the chat server.  I'm trying to incorporate fhirpath.js into my code and am having trouble filtering resources by type.  I'd appreciate a little guidance.  I've tried <code>Bundle.entry.resource.ofType(Observation)</code> and <code>Bundle.entry.select(resource as Observation)</code>.  The former returns empty collection and the latter returns error <code>Error: No TypeExpression evaluator</code></p>



<a name="200478297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200478297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200478297">(Jun 10 2020 at 21:18)</a>:</h4>
<p>Seems this also returns empty array:  <code>Bundle.entry.where(resourceType = Observation)</code>.    If these are unexpected results I could post my test file and JSON document to a gist, if it helps.</p>



<a name="200478367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200478367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200478367">(Jun 10 2020 at 21:19)</a>:</h4>
<p>ofType in fhirpath.js never got past types "integer" and "decimal", but I think the code to fully support it is nearly there.  Please file raise an issue on the <a href="https://github.com/HL7/fhirpath.js/issues">GitHub repository</a>-- better to make separate requests for ofType and "as".  One might be easier to complete than the other.</p>



<a name="200478759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200478759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200478759">(Jun 10 2020 at 21:23)</a>:</h4>
<p>Bundle.entry.where(resourceType = 'Observation')  should work.  (You were missing the quotes for the string.)</p>



<a name="200480873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200480873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200480873">(Jun 10 2020 at 21:42)</a>:</h4>
<p>will do.  thanks</p>



<a name="200481392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200481392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200481392">(Jun 10 2020 at 21:47)</a>:</h4>
<p>quoting Observation did not change the result.   If you think that is an error perhaps then I'm willing to open a third github issue for it.  Would you like to see my FHIR json document first?</p>



<a name="200481489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200481489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200481489">(Jun 10 2020 at 21:48)</a>:</h4>
<p>Yes, please.  My test of that form worked.</p>



<a name="200481529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200481529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200481529">(Jun 10 2020 at 21:48)</a>:</h4>
<p>Also, is there a way to validate the syntax itself?  something I can use a pre-check that would have told me about the missing quotes?  In my hurried reading of the spec I thought I saw something to the effect that quotes were optional but I'm not sure</p>



<a name="200481923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200481923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200481923">(Jun 10 2020 at 21:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="195344">Paul Lynch</span> <a href="#narrow/stream/179298-fhirpath.2Ejs/topic/Querying.20for.20resources.20of.20a.20specified.20type/near/200481489">said</a>:</p>
<blockquote>
<p>Yes, please.  My test of that form worked.</p>
</blockquote>
<p><a href="https://gist.github.com/timharsch/80ebf952d4c784bbfa5542d9ca518b2d">https://gist.github.com/timharsch/80ebf952d4c784bbfa5542d9ca518b2d</a></p>



<a name="200482050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200482050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200482050">(Jun 10 2020 at 21:53)</a>:</h4>
<p>Without the quotes, it is checking field resourceType against field "Observation" (which doesn't exist).  So, I am not sure how this problem would have been caught.  Also, note that "resourceType" is an artifact of the JSON encoding, and does not really exist in the FHIR resource.  So, while it will work in fhirpath.js, it is kind of a hack.  But, it might be your only option until ofType is implemented.</p>



<a name="200482498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200482498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200482498">(Jun 10 2020 at 21:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310838">Tim Harsch</span> <a href="#narrow/stream/179298-fhirpath.2Ejs/topic/Querying.20for.20resources.20of.20a.20specified.20type/near/200481923">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="195344">Paul Lynch</span> <a href="#narrow/stream/179298-fhirpath.2Ejs/topic/Querying.20for.20resources.20of.20a.20specified.20type/near/200481489">said</a>:</p>
<blockquote>
<p>Yes, please.  My test of that form worked.</p>
</blockquote>
<p><a href="https://gist.github.com/timharsch/80ebf952d4c784bbfa5542d9ca518b2d">https://gist.github.com/timharsch/80ebf952d4c784bbfa5542d9ca518b2d</a></p>
</blockquote>
<p>Bundle.entry.resource.where(resourceType = 'Observation')<br>
(.resource was missing)</p>



<a name="200482718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200482718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200482718">(Jun 10 2020 at 21:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="195344">Paul Lynch</span> <a href="#narrow/stream/179298-fhirpath.2Ejs/topic/Querying.20for.20resources.20of.20a.20specified.20type/near/200481489">said</a>:</p>
<blockquote>
<p>Yes, please.  My test of that form worked.</p>
</blockquote>
<p><a href="https://github.com/HL7/fhirpath.js/issues/50">https://github.com/HL7/fhirpath.js/issues/50</a></p>



<a name="200483410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200483410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200483410">(Jun 10 2020 at 22:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="195344">Paul Lynch</span> <a href="#narrow/stream/179298-fhirpath.2Ejs/topic/Querying.20for.20resources.20of.20a.20specified.20type/near/200478367">said</a>:</p>
<blockquote>
<p>better to make separate requests for ofType and "as".  One might be easier to complete than the other.</p>
</blockquote>
<p><a href="https://github.com/HL7/fhirpath.js/issues/51">https://github.com/HL7/fhirpath.js/issues/51</a></p>



<a name="200483733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200483733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200483733">(Jun 10 2020 at 22:08)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="195344">@Paul Lynch</span>  let me know what you think about <code>Bundle.entry.where(resourceType = 'Observation') </code> (with the quotes) against my document.  If you want me to file an issue on GitHub for it, I'd be happy too.</p>



<a name="200483762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200483762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200483762">(Jun 10 2020 at 22:08)</a>:</h4>
<p>See above.</p>



<a name="200483809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200483809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200483809">(Jun 10 2020 at 22:09)</a>:</h4>
<p><span class="user-mention" data-user-id="310838">@Tim Harsch</span> <a href="#narrow/stream/179298-fhirpath.2Ejs/topic/Querying.20for.20resources.20of.20a.20specified.20type/near/200482498">https://chat.fhir.org/#narrow/stream/179298-fhirpath.2Ejs/topic/Querying.20for.20resources.20of.20a.20specified.20type/near/200482498</a></p>



<a name="200483948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200483948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200483948">(Jun 10 2020 at 22:10)</a>:</h4>
<p>That link was not very specific.  I'll repeat what I said above:  <br>
Bundle.entry.resource.where(resourceType = 'Observation')<br>
(.resource was missing)</p>



<a name="200484546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Querying%20for%20resources%20of%20a%20specified%20type/near/200484546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Harsch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Querying.20for.20resources.20of.20a.20specified.20type.html#200484546">(Jun 10 2020 at 22:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="195344">Paul Lynch</span> <a href="#narrow/stream/179298-fhirpath.2Ejs/topic/Querying.20for.20resources.20of.20a.20specified.20type/near/200483948">said</a>:</p>
<blockquote>
<p>That link was not very specific.  I'll repeat what I said above:  <br>
Bundle.entry.resource.where(resourceType = 'Observation')<br>
(.resource was missing)</p>
</blockquote>
<p>That worked for me.   I got back 10 observations from my document..  Thank you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
