---
layout: page
title: "FHIR Chat  · Releases · fhirpath.js"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/index.html">fhirpath.js</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html">Releases</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160224756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/160224756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#160224756">(Mar 07 2019 at 18:42)</a>:</h4>
<p>Version 0.10.3 has just been published on npm with a fix for the bin/fhirpath command-line script.</p>



<a name="162578950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/162578950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#162578950">(Apr 04 2019 at 23:30)</a>:</h4>
<p>Version 0.11.0 has just been published on npm.  It now has support for DateTime and Time (but not Date, which is not yet a part of the official FHIRPath-- for at least another month) equality and comparison operators.  Because JSON does not provide type information for DateTime/Time in resources, when comparing a known DateTime/Time value with a string, it will see if the string is in the right format to be converted.  Arithmetic between DateTime/Time and Quantity is not yet supported, though I think that would easy to add via the <a href="https://www.npmjs.com/package/@lhncbc/ucum-lhc" target="_blank" title="https://www.npmjs.com/package/@lhncbc/ucum-lhc">ucum-lhc</a> unit conversion library.</p>



<a name="166751882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/166751882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#166751882">(May 28 2019 at 19:42)</a>:</h4>
<p><span class="user-mention" data-user-id="218978">@Ivan Mikhailov</span> has implemented the new <a href="http://hl7.org/fhirpath/2019May/#math" target="_blank" title="http://hl7.org/fhirpath/2019May/#math">math functions</a> in version 0.14.0 of <a href="https://github.com/HL7/fhirpath.js" target="_blank" title="https://github.com/HL7/fhirpath.js">fhirpath.js</a>.</p>



<a name="166840674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/166840674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#166840674">(May 29 2019 at 18:02)</a>:</h4>
<p>Support for unary "+" and "-" has been added to <a href="https://github.com/HL7/fhirpath.js" target="_blank" title="https://github.com/HL7/fhirpath.js">fhirpath.js</a>.</p>



<a name="167014429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/167014429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Grenz <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#167014429">(May 31 2019 at 17:00)</a>:</h4>
<p>Many thanks to the implementers and maintainers!</p>



<a name="172259186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/172259186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#172259186">(Aug 01 2019 at 20:37)</a>:</h4>
<p>We received a contribution from "bpacJoseph" for a fix for IE 10.  This is now in version 0.16.2.</p>



<a name="173920112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/173920112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#173920112">(Aug 22 2019 at 20:54)</a>:</h4>
<p>Version 0.17.0 now supports the beginnings of Date/time arithmetic.  You can do things like "today() +  1 year &gt; @2020" which could be useful for skip logic.  There currently isn't a way to convert a string to Date (e.g. a string representation of a date in a JSON resource) which kind of limits its usefulness.  After we move to support the new version of the FHIRPath spec we can start adding things like toDateTime(), etc.</p>



<a name="174367359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/174367359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#174367359">(Aug 28 2019 at 14:26)</a>:</h4>
<p>I went to implement the needed toDateTime() and toTime functions(), and found they were already there.  (I had forgotten....)  So, you can do things like "Patient.birthDate.toDateTime() + 1 month".</p>



<a name="184923047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/184923047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#184923047">(Jan 06 2020 at 16:44)</a>:</h4>
<p>Release 1.0.0 now has support for choice types.  Operators "is" and "as" won't work yet, but you can now write ".value" instead of ".valueQuantity".  The support is optional, in that you need to include an additional file with data from the FHIR model (specific to the release version).  "is" and "as" will require a lot more data from the FHIR model, which is why these files are separate, even though right now they are fairly small.</p>



<a name="184959090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/184959090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#184959090">(Jan 06 2020 at 21:34)</a>:</h4>
<p>That's great, very cool! What format are the additional files?</p>



<a name="184959281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/184959281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#184959281">(Jan 06 2020 at 21:36)</a>:</h4>
<p>JavaScript.  You just have to include "fhirpath.r4.min.js" in addition to "fhirpath.min.js" in your page (if using the browser-ready version in the <a href="https://github.com/HL7/fhirpath.js/releases" target="_blank" title="https://github.com/HL7/fhirpath.js/releases">releases</a>).</p>



<a name="184959673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/184959673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#184959673">(Jan 06 2020 at 21:40)</a>:</h4>
<p>If you're interested, there is a set of tools to generate FHIR type information in the ModelInfo format defined in the spec that communicates this information (it's how the CQL tooling currently resolves choice types): <a href="https://github.com/cqframework/cqf-tooling/tree/master/src/main/java/org/opencds/cqf/modelinfo" target="_blank" title="https://github.com/cqframework/cqf-tooling/tree/master/src/main/java/org/opencds/cqf/modelinfo">https://github.com/cqframework/cqf-tooling/tree/master/src/main/java/org/opencds/cqf/modelinfo</a></p>



<a name="184965123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/184965123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#184965123">(Jan 06 2020 at 22:47)</a>:</h4>
<p>Thanks for the pointer-- I will take a look at it.</p>



<a name="185328514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185328514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185328514">(Jan 10 2020 at 16:54)</a>:</h4>
<p>FYI regarding choice type support:  A user found (<a href="https://github.com/HL7/fhirpath.js/issues/33" target="_blank" title="https://github.com/HL7/fhirpath.js/issues/33">https://github.com/HL7/fhirpath.js/issues/33</a>) that I had forgotten to handle recursive definitions (item.answer.item) and also that for some reason paths with descendants() also prevents choice type recognition.</p>



<a name="185328980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185328980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185328980">(Jan 10 2020 at 17:00)</a>:</h4>
<p>Just to remind the root of the problem - <a href="https://github.com/fhir-fuel/fhir-fuel.github.io/issues/2" target="_blank" title="https://github.com/fhir-fuel/fhir-fuel.github.io/issues/2">https://github.com/fhir-fuel/fhir-fuel.github.io/issues/2</a> - vote for FHIR JSON 2.0!</p>



<a name="185329056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185329056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185329056">(Jan 10 2020 at 17:00)</a>:</h4>
<p>This is a design bug</p>



<a name="185331736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185331736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185331736">(Jan 10 2020 at 17:33)</a>:</h4>
<p>Vote how?</p>



<a name="185331882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185331882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185331882">(Jan 10 2020 at 17:34)</a>:</h4>
<p>I do not know :) Just tell your opinion about this to <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  and <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="185332797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185332797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185332797">(Jan 10 2020 at 17:43)</a>:</h4>
<p>I really dislike the choice types, and the amount of FHIR model data required to be loaded to support them fully.  I would like to see types explicitly specified on nodes with types-- something like what you have suggested.  The only reason I've been working on implementing it is that the current standard (normative for JSON and nearly normative for FHIRPath) calls for it.  I would be delighted if something would replace the current JSON format, but my understanding is that that would be a long process at this point.  Still, perhaps it is best to start it sooner than later.</p>



<a name="185333513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185333513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185333513">(Jan 10 2020 at 17:51)</a>:</h4>
<p>My proposal was to introduce FHIR JSON 2.0 as a draft and keep JSON 1.0 until everybody forgets about it.</p>



<a name="185333608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185333608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185333608">(Jan 10 2020 at 17:52)</a>:</h4>
<p>In Aidbox we have a converter between JSON 1.0 and Aidbox JSON (which fixes these issues <a href="https://docs.aidbox.app/basic-concepts/aidbox-and-fhir-formats" target="_blank" title="https://docs.aidbox.app/basic-concepts/aidbox-and-fhir-formats">https://docs.aidbox.app/basic-concepts/aidbox-and-fhir-formats</a>) - we can open-source it</p>



<a name="185333677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185333677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185333677">(Jan 10 2020 at 17:53)</a>:</h4>
<p>We applied these ideas in SQL on FHIR draft - <a href="https://github.com/FHIR/sql-on-fhir/blob/master/sql-on-fhir.md#choice-types" target="_blank" title="https://github.com/FHIR/sql-on-fhir/blob/master/sql-on-fhir.md#choice-types">https://github.com/FHIR/sql-on-fhir/blob/master/sql-on-fhir.md#choice-types</a></p>



<a name="185333782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185333782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185333782">(Jan 10 2020 at 17:54)</a>:</h4>
<p>I am waiting for an initiative group of experts to try it again :)</p>



<a name="185333808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185333808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185333808">(Jan 10 2020 at 17:54)</a>:</h4>
<p>That converter might be a useful thing to open source.  Then people could pre-process and work with the improved JSON format.</p>



<a name="185333842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185333842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185333842">(Jan 10 2020 at 17:55)</a>:</h4>
<p>Yes - we can do this.</p>



<a name="185964865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/185964865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#185964865">(Jan 17 2020 at 22:39)</a>:</h4>
<blockquote>
<p>FYI regarding choice type support:  A user found (<a href="https://github.com/HL7/fhirpath.js/issues/33" target="_blank" title="https://github.com/HL7/fhirpath.js/issues/33">https://github.com/HL7/fhirpath.js/issues/33</a>) that I had forgotten to handle recursive definitions (item.answer.item) and also that for some reason paths with descendants() also prevents choice type recognition.</p>
</blockquote>
<p>These issues are now fixed (in 1.0.1).</p>



<a name="191538865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/191538865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#191538865">(Mar 23 2020 at 21:26)</a>:</h4>
<p>2.0.0 is now out, which introduces the new grammar file for the FHIRPath N1 release.  (Thanks <span class="user-mention" data-user-id="273812">@Yury Sedinkin</span>).</p>



<a name="193101495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/193101495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#193101495">(Apr 06 2020 at 21:02)</a>:</h4>
<p>2.1.0 is now out, which implements toQuantity(unit).  (Thanks to <span class="user-mention" data-user-id="273812">@Yury Sedinkin</span> .)</p>



<a name="206770620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/206770620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#206770620">(Aug 13 2020 at 00:49)</a>:</h4>
<p>In version 2.4.0, <span class="user-mention" data-user-id="273812">@Yury Sedinkin</span> has added DSTU2 model information so that choice types will work with DSTU2 models.</p>



<a name="208682271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179298-fhirpath.js/topic/Releases/near/208682271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179298-fhirpath.js/topic/Releases.html#208682271">(Sep 01 2020 at 12:53)</a>:</h4>
<p>Version 2.5.0 now has support for the "union" function.  (Previous versions supported |, but not union(...)).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
