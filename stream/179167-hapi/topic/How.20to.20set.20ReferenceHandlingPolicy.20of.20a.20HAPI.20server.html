---
layout: page
title: "FHIR Chat  · How to set ReferenceHandlingPolicy of a HAPI server · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20set.20ReferenceHandlingPolicy.20of.20a.20HAPI.20server.html">How to set ReferenceHandlingPolicy of a HAPI server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="278169855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20set%20ReferenceHandlingPolicy%20of%20a%20HAPI%20server/near/278169855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Yackanich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20set.20ReferenceHandlingPolicy.20of.20a.20HAPI.20server.html#278169855">(Apr 07 2022 at 14:14)</a>:</h4>
<p>I have HAPI 5.7 running (from dockerhub) and what I believe are needed to support logical references (see my application.yaml below).  </p>
<p>When I attempt to use logical resource references (via identifier) versus literal within a bundle, my simple test does not create an association between two resources in the bundle (Patient and Organization).  When I do a $everything on the Patient that was created I do not get back the Organization.  Same for when I search for patient with _include=Patient:organization.</p>
<p>I retrieved the CapabilityStatement and I don't see any indication of what the  ReferenceHandlingPolicy values are.  I believe it is an array of multiple potential values based on documentation (<a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/org/hl7/fhir/r4/model/CapabilityStatement.ReferenceHandlingPolicy.html">https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-structures-r4/org/hl7/fhir/r4/model/CapabilityStatement.ReferenceHandlingPolicy.html</a>).  And I believe I need to have literal, logical, and resolves enabled.</p>
<p>I currently have allow_inline_match_url_references, auto_create_placeholder_reference_targets, and allow_external_references to "true" and enforcing integrity settings are "false". </p>
<p>What am I missing?  Do I need to enable "logical" also?</p>



<a name="278201589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20set%20ReferenceHandlingPolicy%20of%20a%20HAPI%20server/near/278201589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Yackanich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20set.20ReferenceHandlingPolicy.20of.20a.20HAPI.20server.html#278201589">(Apr 07 2022 at 17:49)</a>:</h4>
<p>FYI - I was finally able to get conditional references to work, using a conditional update for the referenced resource containing the same identifier value as the conditional reference within the resource containing the reference.  I don't think this is considered a "logical" reference - so still interested if there is an additional config needed to use identifier for a reference and have the server resolve it to a placeholder or existing resource.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
