---
layout: page
title: "FHIR Chat  · Narrative auto-generation issue · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Narrative.20auto-generation.20issue.html">Narrative auto-generation issue</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="178328705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Narrative%20auto-generation%20issue/near/178328705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fei Yan <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Narrative.20auto-generation.20issue.html#178328705">(Oct 16 2019 at 21:13)</a>:</h4>
<p>Hi all,</p>
<p>I am using HAPI's built-in narrative generator by calling setNarrativeGenerator as below:</p>
<p>FhirContext ctx = FhirContext.forR4();<br>
ctx.setNarrativeGenerator(new DefaultThymeleafNarrativeGenerator());</p>
<p>Later I put couple of resources (including Patient, Specimen, Organization, DiagnosticReport) into a bundle and sent to a JPA server. After the resources were created, only Patient and DiagnosticReport's narrative were generated as HTML format, the other 2 resources were not.</p>
<p>For Specimen and DiagnosticReport I am using different profiles (<a href="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/diagnosticreport" target="_blank" title="http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/diagnosticreport">http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/diagnosticreport</a> or specimen), and for Patient and Organization I am using original FHIR resource type.</p>
<p>Any help is appreciated. Thanks in advance.</p>
<p>Fei</p>



<a name="178367847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Narrative%20auto-generation%20issue/near/178367847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Narrative.20auto-generation.20issue.html#178367847">(Oct 17 2019 at 10:21)</a>:</h4>
<p>The Thymleaf narrative generation is based on Templates: <a href="https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-base/src/main/resources/ca/uhn/fhir/narrative" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-base/src/main/resources/ca/uhn/fhir/narrative">https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-base/src/main/resources/ca/uhn/fhir/narrative</a></p>



<a name="178367920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Narrative%20auto-generation%20issue/near/178367920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Narrative.20auto-generation.20issue.html#178367920">(Oct 17 2019 at 10:22)</a>:</h4>
<p>Only some resources have a template, but fell free to create templates for other resources.<br>
PRs are welcome!</p>



<a name="178388269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Narrative%20auto-generation%20issue/near/178388269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fei Yan <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Narrative.20auto-generation.20issue.html#178388269">(Oct 17 2019 at 14:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> Thank you</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
