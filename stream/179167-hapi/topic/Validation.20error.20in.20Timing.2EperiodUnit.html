---
layout: page
title: "FHIR Chat  · Validation error in Timing.periodUnit · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20error.20in.20Timing.2EperiodUnit.html">Validation error in Timing.periodUnit</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203122509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20error%20in%20Timing.periodUnit/near/203122509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20error.20in.20Timing.2EperiodUnit.html#203122509">(Jul 07 2020 at 16:02)</a>:</h4>
<p>Hi all,<br>
I'm getting the following error while validating (with the HAPI FHIR validation framework) a MedicationStatement: <em>The value provided ('d') is not in the value set <a href="http://hl7.org/fhir/ValueSet/units-of-time|4.0.0">http://hl7.org/fhir/ValueSet/units-of-time|4.0.0</a> (<a href="http://hl7.org/fhir/ValueSet/units-of-time">http://hl7.org/fhir/ValueSet/units-of-time</a>, and a code is required from this value set) (error message = Unknown code[d] in system[(none)])</em></p>
<p>This is the code that I use for creating the instance of Timing:</p>
<div class="codehilite"><pre><span></span><code>Timing timing = new Timing();
        timing.setRepeat((new Timing.TimingRepeatComponent())
                .setFrequency(2)
                .setPeriod(1)
                .setPeriodUnit(Timing.UnitsOfTime.D)
                .addTimeOfDay(&quot;08:00:00&quot;)
                .addTimeOfDay(&quot;20:00:00&quot;));
</code></pre></div>


<p>and this is the corresponding generated JSON:</p>
<div class="codehilite"><pre><span></span><code>            &quot;timing&quot;: {
              &quot;repeat&quot;: {
                &quot;frequency&quot;: 2,
                &quot;period&quot;: 1,
                &quot;periodUnit&quot;: &quot;d&quot;,
                &quot;timeOfDay&quot;: [
                  &quot;08:00:00&quot;,
                  &quot;20:00:00&quot;
                ]
              }
            }
</code></pre></div>


<p>The error message is quite clear to understand, but I do not know how to fix it.</p>
<p>The version I'm using is R4 version 4.1.0</p>
<p>Thanks<br>
Alessio Graziani</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
