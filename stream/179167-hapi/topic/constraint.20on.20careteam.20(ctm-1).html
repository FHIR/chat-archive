---
layout: page
title: "FHIR Chat  · constraint on careteam (ctm-1) · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html">constraint on careteam (ctm-1)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175862349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175862349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175862349">(Sep 16 2019 at 23:25)</a>:</h4>
<p>Either there's something I don't get or there's a bug somewhere (it might even be both).<br>
When posting the following (and the referenced resources do exist):</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;CareTeam&quot;,
  &quot;participant&quot;: [
    {
      &quot;member&quot;: {
        &quot;reference&quot;: &quot;Practitioner/1&quot;
      },

      &quot;onBehalfOf&quot;: {
        &quot;reference&quot;: &quot;Organization/2&quot;
      }
    }
  ]
}
</pre></div>


<ul>
<li>the validator component keeps stating "CareTeam.participant.onBehalfOf can only be populated when CareTeam.participant.member is a Practitioner [onBehalfOf.exists() implies (member.resolve() is Practitioner)]" - which is the constraint ctm-1. I just can't seem to understand why? Funny thing is that seems not to be a problem if I first create the participant, and then afterwards update the participant to be onBehalfOf.</li>
</ul>



<a name="175864902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175864902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175864902">(Sep 17 2019 at 00:11)</a>:</h4>
<p>Are you able to replicate this on our public server?</p>



<a name="175865154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175865154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175865154">(Sep 17 2019 at 00:16)</a>:</h4>
<p>which FHIR version is this?</p>



<a name="175871354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175871354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175871354">(Sep 17 2019 at 02:47)</a>:</h4>
<p>ok so I looked into this. It's an interesting constraint - if the validator cannot resolve member, then the constraint fails.</p>



<a name="175871372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175871372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175871372">(Sep 17 2019 at 02:48)</a>:</h4>
<p>I think that this is not right, and probably not what PA meant (<span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> <span class="user-mention" data-user-id="191764">@Cooper Thompson</span> ) so I think that this should be fixed as a technical correction to:</p>



<a name="175871420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175871420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175871420">(Sep 17 2019 at 02:48)</a>:</h4>
<p><code>onBehalfOf.exists() implies (member.resolve().empty() | member.resolve() is Practitioner)</code></p>



<a name="175872352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175872352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175872352">(Sep 17 2019 at 03:15)</a>:</h4>
<p>I agree, however that's a Patient Care resource, <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span></p>



<a name="175874223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175874223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175874223">(Sep 17 2019 at 04:08)</a>:</h4>
<p>oops</p>



<a name="175879831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175879831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175879831">(Sep 17 2019 at 06:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> - I tried at your public test server and it doesn't fail. Could it be that it runs with a config that resembles the one from the hapi-fhir-starter project - because by default it does not have validation enabled. <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/blob/cc7a56be2047bb323c9126a5d259f18c55763df8/src/main/resources/hapi.properties#L45" target="_blank" title="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/blob/cc7a56be2047bb323c9126a5d259f18c55763df8/src/main/resources/hapi.properties#L45">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/blob/cc7a56be2047bb323c9126a5d259f18c55763df8/src/main/resources/hapi.properties#L45</a></p>



<a name="175879981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175879981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175879981">(Sep 17 2019 at 06:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> if this is my chance to learn some fhirpath, could you explain why it currently does fail? does the "member.resolve"-part expect that member is contained within the resource? You added tthe member.resolve().empty(), but member is a reference and not empty.</p>



<a name="175889371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175889371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175889371">(Sep 17 2019 at 09:25)</a>:</h4>
<p>resolve() hunts down the resource from whereever. So this says if there's an onBehalfOf, what the member points to must be a Practitioner. So if resolve() can't find the practitioner, that won't be true, and the invariant fails. </p>
<p>member.resolve().empty() would be true if resolve() didn't work</p>



<a name="175891253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891253">(Sep 17 2019 at 09:55)</a>:</h4>
<p>so how should resolve() actually be implemented in this case? The member is a "reference": "Practitioner/1" - which pretty clearly is a relative reference with the type embedded in the reference. Shouldn't this be sufficient enough?</p>



<a name="175891370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891370">(Sep 17 2019 at 09:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  on a side note, when can the org.hl7.fhir.core be expected contain this fix?</p>



<a name="175891480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891480">(Sep 17 2019 at 09:58)</a>:</h4>
<p>contain what fix?</p>



<a name="175891498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891498">(Sep 17 2019 at 09:59)</a>:</h4>
<p>the technical correction</p>



<a name="175891507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891507">(Sep 17 2019 at 09:59)</a>:</h4>
<blockquote>
<p>The member is a "reference": "Practitioner/1" - which pretty clearly is a relative reference with the type embedded in the reference</p>
</blockquote>
<p>well, it's intuitively obvious, but it's not actually clear.</p>



<a name="175891741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891741">(Sep 17 2019 at 10:02)</a>:</h4>
<p>I had an idea that <a href="https://www.hl7.org/fhir/references.html#literal" target="_blank" title="https://www.hl7.org/fhir/references.html#literal">https://www.hl7.org/fhir/references.html#literal</a> sort of stated that</p>



<a name="175891770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891770">(Sep 17 2019 at 10:03)</a>:</h4>
<p>right. it's only sort of</p>



<a name="175891776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891776">(Sep 17 2019 at 10:03)</a>:</h4>
<p>But then again - I can't seem to find a place that says that relative references are required to contain a valid type prefix</p>



<a name="175891778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891778">(Sep 17 2019 at 10:03)</a>:</h4>
<p>y</p>



<a name="175891782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891782">(Sep 17 2019 at 10:03)</a>:</h4>
<p>shouldn't that be part of the spec?</p>



<a name="175891863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891863">(Sep 17 2019 at 10:05)</a>:</h4>
<p>you think that the spec should say that a FHIR Server cannot reference a resource by a relative URL unless it serves it up using the FHIR Api?</p>



<a name="175891888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891888">(Sep 17 2019 at 10:05)</a>:</h4>
<p>no ...</p>



<a name="175891900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175891900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175891900">(Sep 17 2019 at 10:05)</a>:</h4>
<p>so that's why the validator doesn't assume that a relative reference works that way</p>



<a name="175892059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892059">(Sep 17 2019 at 10:08)</a>:</h4>
<p>im saying the reference should be valid - I said nothing about how it should be served</p>



<a name="175892086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892086">(Sep 17 2019 at 10:09)</a>:</h4>
<p>so it should be valid to reference it that way</p>



<a name="175892092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892092">(Sep 17 2019 at 10:09)</a>:</h4>
<p>what is 'valid' in this case? Is it allowed to reference a file on disk like /resources/old-archive/something.xml?</p>



<a name="175892179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892179">(Sep 17 2019 at 10:10)</a>:</h4>
<p>i guess the valid part should be to check if the path to the file contained the /resources/old-archive/ part</p>



<a name="175892187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892187">(Sep 17 2019 at 10:11)</a>:</h4>
<p>for starters</p>



<a name="175892287"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892287" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892287">(Sep 17 2019 at 10:12)</a>:</h4>
<p>so for instance, if the reference was <code>"reference": "Patient/1"</code>instead, its not a practitioner ... but this part might not be part of the FhirPath validation part, right?</p>



<a name="175892295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892295">(Sep 17 2019 at 10:13)</a>:</h4>
<p>this can be verified at another level</p>



<a name="175892305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892305">(Sep 17 2019 at 10:13)</a>:</h4>
<p>before the fhirpath engine gets to it, right</p>



<a name="175892553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175892553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175892553">(Sep 17 2019 at 10:18)</a>:</h4>
<p>I didn't follow all that. So "/resources/old-archive/something.xml" is a valid reference. You have to fetch from the url to find out what it is. And that's perfectly valid.</p>
<p>So then, we never say that if the resource reference looks like [Type]/[id] that it must be of the implied type. I say that in many places in my server implementation because I know that my server doesn't support anything else.</p>
<p>But the validator can only make that assumption if the standard says it, and it doesn't. Or if it actually fetches from the URL, and checks the type - which is what it tries to do. </p>
<p>Should the standard say that? Maybe.... it would be a reasonable constraint, but it's very difficult to make it now, given that the normative parts of R4 allow for a reference like [Type]/[id] to reference a resource with a different type than what's implied</p>



<a name="175893254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893254">(Sep 17 2019 at 10:31)</a>:</h4>
<p>yikes ... I get that there are now normative parts that are sort of untouchable, and a pity that this is part of it. I actually thought that if resources were served on a RESTful FHIR server, that they had to be served under  [Type]/ (while still allowing for [CustomType]/ - that would however not be part of the FHIR std).</p>



<a name="175893341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893341">(Sep 17 2019 at 10:32)</a>:</h4>
<p>REST servers have to work that way. I believe the issue is more that the validator can't make assumptions that it's talking to a rest server, since it works in all kinds of contexts.</p>



<a name="175893344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893344">(Sep 17 2019 at 10:32)</a>:</h4>
<blockquote>
<p>Should the standard say that? Maybe.... it would be a reasonable constraint, but it's very difficult to make it now, given that the normative parts of R4 allow for a reference like [Type]/[id] to reference a resource with a different type than what's implied</p>
</blockquote>
<p>Should this then be part of a best-practice IG if it cannot be changed in the spec? As you say, its a 'reasonable constraint'</p>



<a name="175893431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893431">(Sep 17 2019 at 10:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> right, I'm actually a bit puzzled to hear that the validator actually thinks that it is allowed to fetch those resources (using REST?)</p>



<a name="175893446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893446">(Sep 17 2019 at 10:34)</a>:</h4>
<p>Put differently: there is no rule that an arbitrary FHIR resource that you got from an arbitrary place has to have references that conform to the FHIR Rest spec</p>



<a name="175893495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893495">(Sep 17 2019 at 10:35)</a>:</h4>
<p>Well, that's the whole idea here.. <code>resolve()</code> just means "try to get that target, however you would do it in whatever context you're working in". The intent of the invariant here is presumably that it wants to not fail if the validator is working in a context where it's not feasible to fetch the target.. but the issue you've found is that this logic isn't working</p>



<a name="175893569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893569">(Sep 17 2019 at 10:36)</a>:</h4>
<p>the FHIRPath statement is clear: verify that the target is a Practitioner. And by the rules of the spec, that can't be verified unless the resource can actually be fetched</p>



<a name="175893586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893586">(Sep 17 2019 at 10:37)</a>:</h4>
<p>can that be fixed? well, under the rules: if <em>everyone</em> agrees</p>



<a name="175893593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893593">(Sep 17 2019 at 10:37)</a>:</h4>
<p>might happen with this issue</p>



<a name="175893596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893596">(Sep 17 2019 at 10:37)</a>:</h4>
<p>This would require arbitrarily bootstrapping of the validator providing it a context of where it could fetch resources - be that wherever</p>



<a name="175893597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893597">(Sep 17 2019 at 10:37)</a>:</h4>
<p>yes, that's how the validator is written</p>



<a name="175893679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893679">(Sep 17 2019 at 10:38)</a>:</h4>
<p>I have no recollection of me bootstrapping the validator</p>



<a name="175893701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893701">(Sep 17 2019 at 10:38)</a>:</h4>
<blockquote>
<p>Put differently: there is no rule that an arbitrary FHIR resource that you got from an arbitrary place has to have references that conform to the FHIR Rest spec</p>
</blockquote>
<div class="message_inline_image"><a href="https://sayingimages.com/wp-content/uploads/grumpy-cat-wait-what-meme.jpg" target="_blank" title="https://sayingimages.com/wp-content/uploads/grumpy-cat-wait-what-meme.jpg"><img src="https://sayingimages.com/wp-content/uploads/grumpy-cat-wait-what-meme.jpg"></a></div>



<a name="175893852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175893852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175893852">(Sep 17 2019 at 10:41)</a>:</h4>
<p>Jens, how are you using the validator here? ie. running in a HAPI server and using RequestValidatingInterceptor, manually creating a FhirValidator and injecting a FhirInstanceValidator module, using the command line validator, etc?</p>



<a name="175894268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894268">(Sep 17 2019 at 10:47)</a>:</h4>
<p>ok. moved the dsicussion on the reference issue to the implementers channel.</p>



<a name="175894457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894457">(Sep 17 2019 at 10:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>  We're creating a custom FhirValidator and injecting it into the  RequestValidatingInterceptor</p>



<a name="175894472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894472">(Sep 17 2019 at 10:51)</a>:</h4>
<p>so, declaring a bean in fhirserverconfig with the name myInstanceValidatorDstu3</p>



<a name="175894478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894478">(Sep 17 2019 at 10:51)</a>:</h4>
<p>and extending the FhirInstanceValidator</p>



<a name="175894480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894480">(Sep 17 2019 at 10:51)</a>:</h4>
<p>and are you providing a fetcher?</p>



<a name="175894497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894497">(Sep 17 2019 at 10:51)</a>:</h4>
<p>Is this in a JPA server or a non-JPA server?</p>
<p>I curious here because despite all this, I'd expect all this to work, at least in a JPA server... This might be an issue with HAPI's wrapper.</p>



<a name="175894549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894549">(Sep 17 2019 at 10:52)</a>:</h4>
<p>it's still possible it's an issue in the validator. I got distracted by the spec issue and haven't finished testing yet</p>



<a name="175894681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894681">(Sep 17 2019 at 10:54)</a>:</h4>
<p>JPA server</p>



<a name="175894736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894736">(Sep 17 2019 at 10:55)</a>:</h4>
<p>Can you upload an example to the public test server so that you can link to its ID with <code>/$validate</code> at the end?</p>



<a name="175894825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894825">(Sep 17 2019 at 10:57)</a>:</h4>
<p><a href="http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1" target="_blank" title="http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1">http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1</a></p>



<a name="175894923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175894923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175894923">(Sep 17 2019 at 10:58)</a>:</h4>
<p><a href="http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1/$validate" target="_blank" title="http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1/$validate">http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1/$validate</a></p>



<a name="175895687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175895687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175895687">(Sep 17 2019 at 11:11)</a>:</h4>
<blockquote>
<p>Is this in a JPA server or a non-JPA server?</p>
<p>I curious here because despite all this, I'd expect all this to work, at least in a JPA server... This might be an issue with HAPI's wrapper.</p>
</blockquote>
<p>As we are in micro service setup with FHIR servers scattered all around we also provide custom logic on the ResourceLinkExtractor</p>



<a name="175895751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175895751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175895751">(Sep 17 2019 at 11:12)</a>:</h4>
<p>This is sort of related to fetching resources located elsewhere</p>



<a name="175895804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175895804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175895804">(Sep 17 2019 at 11:13)</a>:</h4>
<p>where we do an HTTP HEAD with the proper authentication mechanisms bootstrapped into the call (shipping bearer tokens around in the current call context)</p>



<a name="175896483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175896483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175896483">(Sep 17 2019 at 11:23)</a>:</h4>
<blockquote>
<p><a href="http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1/$validate" target="_blank" title="http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1/$validate">http://hapi.fhir.org/baseDstu3/CareTeam/2574263/_history/1/$validate</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> here you go</p>



<a name="175896547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175896547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175896547">(Sep 17 2019 at 11:24)</a>:</h4>
<p>I guess we might should provide some of the same logic into the validator if needed</p>



<a name="175896576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/175896576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#175896576">(Sep 17 2019 at 11:25)</a>:</h4>
<p>tx- i'll take a look at this a bit later</p>



<a name="176001153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/176001153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#176001153">(Sep 18 2019 at 12:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - I found this: <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_id=677&amp;tracker_item_id=12707" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_id=677&amp;tracker_item_id=12707">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_id=677&amp;tracker_item_id=12707</a> - isn't this related?</p>



<a name="176001275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/176001275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#176001275">(Sep 18 2019 at 12:50)</a>:</h4>
<p>certainly looks like it....</p>



<a name="176001318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/176001318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#176001318">(Sep 18 2019 at 12:51)</a>:</h4>
<p>not sure what what the deal is...</p>



<a name="176001342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/176001342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#176001342">(Sep 18 2019 at 12:51)</a>:</h4>
<p>just seems like you have stumbled across this before</p>



<a name="176001452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/constraint%20on%20careteam%20%28ctm-1%29/near/176001452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/constraint.20on.20careteam.20(ctm-1).html#176001452">(Sep 18 2019 at 12:52)</a>:</h4>
<p>y. not sure what I did then... probably fixed an issue in resolve() and overlooked the real error</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
