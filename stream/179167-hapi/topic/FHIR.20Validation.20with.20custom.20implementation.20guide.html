---
layout: page
title: "FHIR Chat  · FHIR Validation with custom implementation guide · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/FHIR.20Validation.20with.20custom.20implementation.20guide.html">FHIR Validation with custom implementation guide</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="254188575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/FHIR%20Validation%20with%20custom%20implementation%20guide/near/254188575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicolai Mainiero <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/FHIR.20Validation.20with.20custom.20implementation.20guide.html#254188575">(Sep 21 2021 at 11:04)</a>:</h4>
<p>Hi, I'm struggling with validating a FHIR document in my service. I found <code>ca.uhn.fhir.validation.FhirValidator</code> which seems to do the job, but I found no way to provide my custom implementation guides. On the other hand there is the ValidationEngine, where it is easy to provide additional implementation guides, but because of the many <code>System.out</code> usage seems unsuited for a server application.<br>
I'd like to do the validation without reaching out to another service, and ideally load the implementation guides from the classpath. Any advice how to implement the validation.</p>



<a name="254248564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/FHIR%20Validation%20with%20custom%20implementation%20guide/near/254248564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/FHIR.20Validation.20with.20custom.20implementation.20guide.html#254248564">(Sep 21 2021 at 17:46)</a>:</h4>
<p><a href="https://hapifhir.io/hapi-fhir/docs/validation/introduction.html">https://hapifhir.io/hapi-fhir/docs/validation/introduction.html</a> and the following chapters are covering how to use the hapi validation stack. You can provide the resources of your IG through the PrePopulatedValidationSupport class.</p>



<a name="254270054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/FHIR%20Validation%20with%20custom%20implementation%20guide/near/254270054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/FHIR.20Validation.20with.20custom.20implementation.20guide.html#254270054">(Sep 21 2021 at 20:09)</a>:</h4>
<p><span class="user-mention" data-user-id="442844">@Nicolai Mainiero</span> we preload ig's to a forked hapi-fhir-jpaserver instance and use then the $validate operation to access it, see <a href="https://github.com/ahdis/matchbox">https://github.com/ahdis/matchbox</a> if you are interested</p>



<a name="254317931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/FHIR%20Validation%20with%20custom%20implementation%20guide/near/254317931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nicolai Mainiero <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/FHIR.20Validation.20with.20custom.20implementation.20guide.html#254317931">(Sep 22 2021 at 05:45)</a>:</h4>
<p>Thanks for the replies. I looked into the PrePopulatedValidationSupport but unfortunately it does not support my use case (german eRezept validation) because, the profiles are used with an version tag.</p>
<div class="codehilite"><pre><span></span><code>&lt;Bundle xmlns=&quot;http://hl7.org/fhir&quot;&gt;
    &lt;id value=&quot;1131c63a-f238-48ef-a1cc-818393356575&quot;&gt;&lt;/id&gt;
    &lt;meta&gt;
        &lt;profile value=&quot;http://fhir.abda.de/eRezeptAbgabedaten/StructureDefinition/DAV-PR-ERP-AbgabedatenBundle|1.0.3&quot;&gt;&lt;/profile&gt;
    &lt;/meta&gt;
</code></pre></div>
<p>And I don't want to do additional HTTP-Request during validation if it's possible to do it in process. </p>
<p>I went with the ValidationEngine and implemented my own IgLoader to read the implementation guides from the classpath. Thanks for all your suggestions.</p>



<a name="264771987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/FHIR%20Validation%20with%20custom%20implementation%20guide/near/264771987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Robinson <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/FHIR.20Validation.20with.20custom.20implementation.20guide.html#264771987">(Dec 13 2021 at 21:24)</a>:</h4>
<p>I am also struggling with loading a custom IG together with examples that conform to it. Can anyone recommend an example code to demonstrate how to do this? The online HAPI documentation does not seem to cover this at all</p>



<a name="264796379"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/FHIR%20Validation%20with%20custom%20implementation%20guide/near/264796379" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/FHIR.20Validation.20with.20custom.20implementation.20guide.html#264796379">(Dec 14 2021 at 01:47)</a>:</h4>
<p>I'm also interested.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
