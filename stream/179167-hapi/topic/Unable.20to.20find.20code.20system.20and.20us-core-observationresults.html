---
layout: page
title: "FHIR Chat  · Unable to find code system and us-core-observationresults · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unable.20to.20find.20code.20system.20and.20us-core-observationresults.html">Unable to find code system and us-core-observationresults</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="165717982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unable%20to%20find%20code%20system%20and%20us-core-observationresults/near/165717982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unable.20to.20find.20code.20system.20and.20us-core-observationresults.html#165717982">(May 15 2019 at 14:15)</a>:</h4>
<p>I am using custom validator (MyValidationSupport implements IValidationSupport) chained with DefaultValidationSupport. I am getting following error &amp; warning while validating DiagnosticReport.</p>
<div class="codehilite"><pre><span></span>&quot;issue&quot;: [
        {
            &quot;severity&quot;: &quot;warning&quot;,
            &quot;code&quot;: &quot;processing&quot;,
            &quot;diagnostics&quot;: &quot;Error unable to find code system http://loinc.org validating CodeableConcept&quot;,
            &quot;location&quot;: [
                &quot;DiagnosticReport.code&quot;
            ]
        },
        {
            &quot;severity&quot;: &quot;error&quot;,
            &quot;code&quot;: &quot;processing&quot;,
            &quot;diagnostics&quot;: &quot;Unable to resolve the profile reference &#39;http://hl7.org/fhir/us/core/StructureDefinition/us-core-observationresults&#39;&quot;,
            &quot;location&quot;: [
                &quot;DiagnosticReport.result[1]&quot;
            ]
        }
</pre></div>


<p>What am i missing ?</p>
<p>I am able to successfully validate AllergyIntolerance which means it is able to find profile <a href="http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance" target="_blank" title="http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance">http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance</a></p>



<a name="165720892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unable%20to%20find%20code%20system%20and%20us-core-observationresults/near/165720892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unable.20to.20find.20code.20system.20and.20us-core-observationresults.html#165720892">(May 15 2019 at 14:51)</a>:</h4>
<p>It'd probably be helpful to put a debugger or log messages in the various methods in MyValidationSupport to see what's being asked for..</p>



<a name="165721247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unable%20to%20find%20code%20system%20and%20us-core-observationresults/near/165721247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unable.20to.20find.20code.20system.20and.20us-core-observationresults.html#165721247">(May 15 2019 at 14:55)</a>:</h4>
<blockquote>
<p>It'd probably be helpful to put a debugger or log messages in the various methods in MyValidationSupport to see what's being asked for..</p>
</blockquote>
<p>Yea, doing the same.<br>
Till now I have found is that in class <br>
    org.hl7.fhir.dstu3.hapi.ctx.HapiWorkerContext <br>
in method<br>
    public &lt;T extends Resource&gt; T fetchResource(Class&lt;T&gt; theClass, String theUri)<br>
following line is getting null retValue when input theUri = "<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>"<br>
    retVal = myValidationSupport.fetchResource(myCtx, theClass, theUri);</p>



<a name="165721300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unable%20to%20find%20code%20system%20and%20us-core-observationresults/near/165721300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unable.20to.20find.20code.20system.20and.20us-core-observationresults.html#165721300">(May 15 2019 at 14:56)</a>:</h4>
<blockquote>
<blockquote>
<p>It'd probably be helpful to put a debugger or log messages in the various methods in MyValidationSupport to see what's being asked for..</p>
</blockquote>
<p>Yea, doing the same.<br>
Till now I have found is that in class </p>
<div class="codehilite"><pre><span></span>    org.hl7.fhir.dstu3.hapi.ctx.HapiWorkerContext
</pre></div>


<p>in method</p>
<div class="codehilite"><pre><span></span>    public  T extends Resource T fetchResource(Class  theClass, String theUri)
</pre></div>


<p>following line is getting null retValue when input theUri = "<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>"</p>
<div class="codehilite"><pre><span></span>    retVal = myValidationSupport.fetchResource(myCtx, theClass, theUri);
</pre></div>


<p>myCtx = ca.uhn.fhir.context.FhirContext@7cb30c6f<br>
theClass = org.hl7.fhir.dstu3.model.ValueSet<br>
theUri = "<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>"</p>
</blockquote>



<a name="165723562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unable%20to%20find%20code%20system%20and%20us-core-observationresults/near/165723562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aditya <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unable.20to.20find.20code.20system.20and.20us-core-observationresults.html#165723562">(May 15 2019 at 15:22)</a>:</h4>
<blockquote>
<blockquote>
<blockquote>
<p>It'd probably be helpful to put a debugger or log messages in the various methods in MyValidationSupport to see what's being asked for..</p>
</blockquote>
<p>Yea, doing the same.<br>
Till now I have found is that in class </p>
<div class="codehilite"><pre><span></span>    org.hl7.fhir.dstu3.hapi.ctx.HapiWorkerContext
</pre></div>


<p>in method</p>
<div class="codehilite"><pre><span></span>    public  T extends Resource T fetchResource(Class  theClass, String theUri)
</pre></div>


<p>following line is getting null retValue when input theUri = "<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>"</p>
<div class="codehilite"><pre><span></span>    retVal = myValidationSupport.fetchResource(myCtx, theClass, theUri);
</pre></div>


<p>myCtx = ca.uhn.fhir.context.FhirContext@7cb30c6f<br>
theClass = org.hl7.fhir.dstu3.model.ValueSet<br>
theUri = "<a href="http://loinc.org" target="_blank" title="http://loinc.org">http://loinc.org</a>"</p>
</blockquote>
</blockquote>
<p>I am unable to see any mapping any where in US core profiles for loinc</p>



<a name="165724415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unable%20to%20find%20code%20system%20and%20us-core-observationresults/near/165724415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unable.20to.20find.20code.20system.20and.20us-core-observationresults.html#165724415">(May 15 2019 at 15:31)</a>:</h4>
<p>lots of US Core SDs refer to LOINC, e.g.: <a href="http://hl7.org/fhir/us/core/stu1/StructureDefinition-us-core-smokingstatus-definitions.html#Observation:uscoresmookingstatus.code" target="_blank" title="http://hl7.org/fhir/us/core/stu1/StructureDefinition-us-core-smokingstatus-definitions.html#Observation:uscoresmookingstatus.code">http://hl7.org/fhir/us/core/stu1/StructureDefinition-us-core-smokingstatus-definitions.html#Observation:uscoresmookingstatus.code</a></p>



<a name="165725667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unable%20to%20find%20code%20system%20and%20us-core-observationresults/near/165725667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unable.20to.20find.20code.20system.20and.20us-core-observationresults.html#165725667">(May 15 2019 at 15:44)</a>:</h4>
<p>Also, the core observation profile has a reference to it, so it's possible that if you can figure out why it isn't loading that, the loinc error will go away (assuming you're not using a profile that needs loinc)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
