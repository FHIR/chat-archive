---
layout: page
title: "FHIR Chat  · Validating differences. Hapi CLI vs. library · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20differences.2E.20Hapi.20CLI.20vs.2E.20library.html">Validating differences. Hapi CLI vs. library</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216232424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20differences.%20Hapi%20CLI%20vs.%20library/near/216232424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Bosman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20differences.2E.20Hapi.20CLI.20vs.2E.20library.html#216232424">(Nov 10 2020 at 16:04)</a>:</h4>
<p>Hello, some of our users stumbled on some behavior that creates  some ambiguity in implementation and documentation.<br>
It seems when validating using the Hapi libraries, we seem to be missing &lt;details&gt; and &lt;expression&gt; in the OperationOutcome as opposed to validating using the CLI.<br>
Is this normal behavior or is there something we need to do to also get &lt;details&gt; and &lt;expression&gt; when using the libraries?<br>
Any feedback how we should approach this is highly appreciated.</p>
<hr>
<p>Just as an example what we mean:<br>
When using the ValidationResult using the Hapi libraries we always get an OperationOutcome e.g. in this style<br>
[...]      <br>
&lt;diagnostics value="Unknown code[...]'"&gt;&lt;/diagnostics&gt;<br>
      &lt;location value="Bundle.entry[0].resource.ofType(MessageHeader).event.ofType(Coding)"&gt;&lt;/location&gt;<br>
      &lt;location value="Line 1, Col 670"&gt;&lt;/location&gt;<br>
[...]<br>
...as opposed to when we use the CLI, the OperationOutcome is quite different:<br>
and something in this style:<br>
[...]<br>
    &lt;severity value="warning"/&gt;<br>
    &lt;code value="code-invalid"/&gt;<br>
    &lt;details&gt;<br>
      &lt;text value="The Coding provided [...] is not in the value set [...]  (error message = Not in value set http://www.mycarenet.be/fhir/ValueSet/eagreementadjudicationreason)"/&gt;<br>
    &lt;/details&gt;<br>
    &lt;expression value="Bundle.entry[4].resource.ofType(Bundle).entry[5].resource.ofType(ClaimResponse).addItem[0].adjudication[0].reason.coding[0]"/&gt;<br>
  &lt;/issue&gt;</p>



<a name="217596545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20differences.%20Hapi%20CLI%20vs.%20library/near/217596545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Bosman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20differences.2E.20Hapi.20CLI.20vs.2E.20library.html#217596545">(Nov 23 2020 at 07:46)</a>:</h4>
<p>Hello everyone, is there no input on this? (Or is there maybe an easy way to deal with this?)</p>



<a name="217619578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20differences.%20Hapi%20CLI%20vs.%20library/near/217619578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20differences.2E.20Hapi.20CLI.20vs.2E.20library.html#217619578">(Nov 23 2020 at 12:04)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> can you add this to your list please</p>



<a name="217756219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20differences.%20Hapi%20CLI%20vs.%20library/near/217756219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20differences.2E.20Hapi.20CLI.20vs.2E.20library.html#217756219">(Nov 24 2020 at 13:55)</a>:</h4>
<p>I will give this another go. The two validators need to be aligned.</p>



<a name="217802631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20differences.%20Hapi%20CLI%20vs.%20library/near/217802631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20differences.2E.20Hapi.20CLI.20vs.2E.20library.html#217802631">(Nov 24 2020 at 19:30)</a>:</h4>
<p>thanks! <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> &amp; <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
