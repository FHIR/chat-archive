---
layout: page
title: "FHIR Chat  · HAPI 1.6 FHIR JPA Server - Terminology Upload · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.201.2E6.20FHIR.20JPA.20Server.20-.20Terminology.20Upload.html">HAPI 1.6 FHIR JPA Server - Terminology Upload</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153837948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%201.6%20FHIR%20JPA%20Server%20-%20Terminology%20Upload/near/153837948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.201.2E6.20FHIR.20JPA.20Server.20-.20Terminology.20Upload.html#153837948">(Jul 13 2016 at 12:46)</a>:</h4>
<p>I've tried running the cli tool against my JPA Server. Using the following </p>
<p>hapi-fhir-cli upload-terminology -d SNOMED/SnomedCT_RF2Release_INT_20150731.zip -f dstu3 -t <a href="http://localhost:8080/hapi-fhir-jpaserver/baseStu3" target="_blank" title="http://localhost:8080/hapi-fhir-jpaserver/baseStu3">http://localhost:8080/hapi-fhir-jpaserver/baseStu3</a> -u <a href="http://snomed.info/sct" target="_blank" title="http://snomed.info/sct">http://snomed.info/sct</a></p>
<p>When it starts it gives the following error:</p>
<hr>
<p>? HAPI FHIR 1.6 - Command Line Tool</p>
<hr>
<p>Max configured JVM memory (Xmx): 3.6GB<br>
Detected Java version: 1.8.0_91</p>
<hr>
<p>13:39:59 INFO  ca.uhn.fhir.context.FhirContext - Creating new FHIR context for F<br>
HIR version [DSTU3]<br>
13:40:00 INFO  c.u.f.cli.UploadTerminologyCommand - Beginning upload - This may<br>
take a while...<br>
13:40:01 INFO  ca.uhn.fhir.util.XmlUtil - FHIR XML procesing will use StAX imple<br>
mentation 'null' version 'null'<br>
13:40:01 ERROR ca.uhn.fhir.cli.App - Error during execution:<br>
ca.uhn.fhir.rest.server.exceptions.InvalidRequestException: HTTP 400 Bad Request<br>
: Invalid request: The FHIR endpoint on this server does not know how to handle<br>
POST operation[$upload-external-code-system] with parameters [[]]<br>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</p>
<div class="codehilite"><pre>    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)

    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Sou
</pre></div>


<p>rce)<br>
        at java.lang.reflect.Constructor.newInstance(Unknown Source)<br>
        at ca.uhn.fhir.rest.server.exceptions.BaseServerResponseException.newIns<br>
tance(BaseServerResponseException.java:272)<br>
        at ca.uhn.fhir.rest.client.BaseClient.invokeClient(BaseClient.java:306)<br>
        at ca.uhn.fhir.rest.client.GenericClient$BaseClientExecutable.invoke(Gen<br>
ericClient.java:717)<br>
        at ca.uhn.fhir.rest.client.GenericClient$OperationInternal.execute(Gener<br>
icClient.java:1524)<br>
        at ca.uhn.fhir.cli.UploadTerminologyCommand.run(UploadTerminologyCommand<br>
.java:157)<br>
        at ca.uhn.fhir.cli.App.main(App.java:186)</p>
<p>Do I need to configure my server to support this command? </p>
<p>thanks</p>



<a name="153837971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%201.6%20FHIR%20JPA%20Server%20-%20Terminology%20Upload/near/153837971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.201.2E6.20FHIR.20JPA.20Server.20-.20Terminology.20Upload.html#153837971">(Jul 13 2016 at 13:43)</a>:</h4>
<p>Hi Kevin- You need to add a specific provider to your server in order to enable terminology uploading. It occurred to me that this wasn't shown anywhere, so I've added an example at the bottom here: <a href="https://github.com/jamesagnew/hapi-fhir/blob/f6601cc347730e57ff8e91c7a04601b5d3fc40af/hapi-fhir-jpaserver-example/src/main/java/ca/uhn/fhir/jpa/demo/JpaServerDemo.java" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/blob/f6601cc347730e57ff8e91c7a04601b5d3fc40af/hapi-fhir-jpaserver-example/src/main/java/ca/uhn/fhir/jpa/demo/JpaServerDemo.java">https://github.com/jamesagnew/hapi-fhir/blob/f6601cc347730e57ff8e91c7a04601b5d3fc40af/hapi-fhir-jpaserver-example/src/main/java/ca/uhn/fhir/jpa/demo/JpaServerDemo.java</a></p>
<p>I'd love to hear how this goes for you- you're possibly the first person to try this feature out!</p>



<a name="153837973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%201.6%20FHIR%20JPA%20Server%20-%20Terminology%20Upload/near/153837973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.201.2E6.20FHIR.20JPA.20Server.20-.20Terminology.20Upload.html#153837973">(Jul 13 2016 at 13:52)</a>:</h4>
<p>Thanks. Will do. </p>



<a name="153837978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%201.6%20FHIR%20JPA%20Server%20-%20Terminology%20Upload/near/153837978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.201.2E6.20FHIR.20JPA.20Server.20-.20Terminology.20Upload.html#153837978">(Jul 13 2016 at 14:23)</a>:</h4>
<p>Processed ok. I'll need to dig a little more to confirm it's worked ok </p>
<p>15:16:02 INFO  c.u.f.cli.UploadTerminologyCommand - Response:<br>
&lt;Parameters xmlns="<a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a>"&gt;<br>
   &lt;parameter&gt;<br>
      &lt;name value="conceptCount"/&gt;<br>
      &lt;valueInteger value="317057"/&gt;<br>
   &lt;/parameter&gt;<br>
&lt;/Parameters&gt;</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
