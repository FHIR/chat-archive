---
layout: page
title: "FHIR Chat  · expungeEverything not working · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/expungeEverything.20not.20working.html">expungeEverything not working</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="211729305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/expungeEverything%20not%20working/near/211729305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/expungeEverything.20not.20working.html#211729305">(Sep 30 2020 at 08:31)</a>:</h4>
<p>(expunge is enabled in properties)<br>
When trying: </p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
  <span class="nt">"resourceType"</span><span class="p">:</span> <span class="s2">"Parameters"</span><span class="p">,</span>
  <span class="nt">"parameter"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"expungeEverything"</span><span class="p">,</span>
      <span class="nt">"valueBoolean"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>with the URL: <code>ResearchStudy/$expunge</code>hapi doesnt expunge all ResearchStudies. In the log i can see:<br>
<code>2020-09-30 10:27:08.145 [http-nio-8080-exec-1147] INFO  c.u.f.jpa.dao.expunge.ExpungeService [ExpungeService.java:50] Expunge: ResourceName[ResearchStudy] Id[null] Version[null] Options[ExpungeOptions[limit=1000,oldVersions=false,deletedResources=false,everything=false]]</code></p>



<a name="211729460"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/expungeEverything%20not%20working/near/211729460" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/expungeEverything.20not.20working.html#211729460">(Sep 30 2020 at 08:33)</a>:</h4>
<p>everything always is set to false, the others parameter change if  set in the expunge call. Is this a bug, or is there another flag which needs to be enabled for expungeEverything to work?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
