---
layout: page
title: "FHIR Chat  · How to Disable HAPI/FHIR Tomcat Logging? · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html">How to Disable HAPI/FHIR Tomcat Logging?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="220414351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220414351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fran del Río <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220414351">(Dec 18 2020 at 19:00)</a>:</h4>
<p>Hi everybody. I want to know how can I disable HAPI/FHIR logging in catalina.out Tomcat file.</p>
<p>I have a logback.xml file in WEB-INF directory. I’ve tried removing it but hapi continue logging in catalina.out. <span aria-label="worried" class="emoji emoji-1f61f" role="img" title="worried">:worried:</span><br>
I have managed to disable logging temporarily by removing JAR files  "logback-classic"  and  "logback-core"  from directory "hapigeosalud\WEB-INF\lib" but I would like to know how to do it correctly.  </p>
<p>I need to disable hapi/fhir logging completly or know how to do it by a config file.</p>
<p>Thanks in advance!</p>



<a name="220414894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220414894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220414894">(Dec 18 2020 at 19:03)</a>:</h4>
<p>I believe catalina.out automatically contains anything that is logged to the console by anything running within Tomcat.</p>
<p>So to stop HAPI FHIR from going there, assuming you have logback on your classpath, you need to explicitly configure logback.xml to not send anything to STDOUT.</p>



<a name="220416083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220416083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fran del Río <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220416083">(Dec 18 2020 at 19:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191319">James Agnew</span> <a href="#narrow/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging/near/220414894">said</a>:</p>
<blockquote>
<p>I believe catalina.out automatically contains anything that is logged to the console by anything running within Tomcat.</p>
<p>So to stop HAPI FHIR from going there, assuming you have logback on your classpath, you need to explicitly configure logback.xml to not send anything to STDOUT.</p>
</blockquote>
<p>Hi James.  This is my (original) logback.xml file:</p>
<div class="codehilite"><pre><span></span><code>&lt;configuration&gt;
    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;%-5relative %-5level %logger{35} - %msg%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;

    &lt;logger name=&quot;jdbc&quot; level=&quot;OFF&quot; /&gt;

    &lt;root level=&quot;ERROR&quot;&gt;
        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;
    &lt;/root&gt;
&lt;/configuration&gt;
</code></pre></div>
<p>I have edited this file several times but it keeps logging. What should I add or remove to stop logging?</p>



<a name="220433349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220433349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220433349">(Dec 18 2020 at 22:05)</a>:</h4>
<p>Hmm, assuming it's picking that file up you could remove the appender.</p>
<p>If that doesn't work, watch for any error messages from logback when it starts. Failing all else, you could try having it log what it's using as startup source. There are some details here: <a href="https://stackoverflow.com/questions/18922730/how-can-i-determine-what-log-configuration-source-logback-actually-used">https://stackoverflow.com/questions/18922730/how-can-i-determine-what-log-configuration-source-logback-actually-used</a></p>



<a name="220576433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220576433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fran del Río <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220576433">(Dec 21 2020 at 11:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191319">James Agnew</span> <a href="#narrow/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging/near/220433349">said</a>:</p>
<blockquote>
<p>Hmm, assuming it's picking that file up you could remove the appender.</p>
<p>If that doesn't work, watch for any error messages from logback when it starts. Failing all else, you could try having it log what it's using as startup source. There are some details here: <a href="https://stackoverflow.com/questions/18922730/how-can-i-determine-what-log-configuration-source-logback-actually-used">https://stackoverflow.com/questions/18922730/how-can-i-determine-what-log-configuration-source-logback-actually-used</a></p>
</blockquote>
<p>Thanks again but I can't find current log config. It isn't in logback.xml, I deleted it, I commented appenders and it continue logging.</p>
<p>I don't know what setting hapi may be using to disable it. The amount of log messages that make tomcat's own messages difficult to read is stressful. I am attaching  a copy of messages just 1 minute after starting the tomcat service.  <a href="/user_uploads/10155/xKwQ5pt8oKp3-T647RD-Vw-D/catalina-hapi.txt">catalina-hapi.txt</a></p>



<a name="220598349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220598349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220598349">(Dec 21 2020 at 15:58)</a>:</h4>
<p>The fact that there are debug messages in there certainly kinda suggests to me that it's not using your logback.xml file. Possibly because it's finding another one or possibly because it is finding another binding altogether.</p>
<p>You could try grepping your catalina.out for the string "slf4j" - if SLF finds multiple bindings it'll print a warning on the console when it first starts.</p>
<p>You could also try adding the following system property <code>-Dlogback.debug=true</code> to your startup args, this will cause logback to print debug details as it bootstraps.</p>



<a name="220618256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220618256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fran del Río <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220618256">(Dec 21 2020 at 19:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191319">James Agnew</span> <a href="#narrow/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F/near/220598349">said</a>:</p>
<blockquote>
<p>The fact that there are debug messages in there certainly kinda suggests to me that it's not using your logback.xml file. Possibly because it's finding another one or possibly because it is finding another binding altogether.</p>
<p>You could try grepping your catalina.out for the string "slf4j" - if SLF finds multiple bindings it'll print a warning on the console when it first starts.</p>
<p>You could also try adding the following system property <code>-Dlogback.debug=true</code> to your startup args, this will cause logback to print debug details as it bootstraps.</p>
</blockquote>
<p>.</p>
<p>Nothing in catalina.out for the string "slf".  How should the system property be added to the startup args?</p>



<a name="220713793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220713793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220713793">(Dec 22 2020 at 17:27)</a>:</h4>
<p>That I'm not sure, I haven't used Tomcat in a long time. I'm sure googling something like "Tomcat Set System Property" would have results though</p>



<a name="220734058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/220734058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#220734058">(Dec 22 2020 at 21:03)</a>:</h4>
<p>The Tomcat 7.0 RUNNING.txt file mentions a "setenv" script, and environment variables such as CATALINA_OPTS and JAVA_OPTS.<br>
<a href="https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt">https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt</a></p>



<a name="221241098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/How%20to%20Disable%20HAPI/FHIR%20Tomcat%20Logging%3F/near/221241098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fran del Río <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F.html#221241098">(Dec 30 2020 at 19:49)</a>:</h4>
<p>Thanks James &amp; Joel!   My problem was next:  my   logback.xml   file was in hapi-app/WEB-INF/  directory <span aria-label="-1" class="emoji emoji-1f44e" role="img" title="-1">:-1:</span>   instead of  hapi-app/WEB-INF/classes/  directory <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> .  For this reason, all the configuration that was carried out in it was ignored.</p>
<p>I just moved it to the right one.  Now it's considering the configured appenders, loggers, etc.</p>
<p>Thanks again and happy new year!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
