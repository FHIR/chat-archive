---
layout: page
title: "FHIR Chat  · Securing HAPI · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html">Securing HAPI</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153822475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822475">(Apr 19 2016 at 16:11)</a>:</h4>
<p>Does anyone know whether HAPI has an authentication layer as part of the core offering?</p>



<a name="153822483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822483">(Apr 19 2016 at 17:33)</a>:</h4>
<p>I think James answered that on the google HAPI group the other day. </p>



<a name="153822484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822484">(Apr 19 2016 at 17:33)</a>:</h4>
<p><a href="https://groups.google.com/forum/#!topic/hapi-fhir/xgTKteUVREc" target="_blank" title="https://groups.google.com/forum/#!topic/hapi-fhir/xgTKteUVREc">https://groups.google.com/forum/#!topic/hapi-fhir/xgTKteUVREc</a></p>



<a name="153822487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822487">(Apr 19 2016 at 17:42)</a>:</h4>
<p>I'd assume you'd be able to secure with Spring OAuth2, presume it's just a bit of config. (It'd be on our to do list, we have Spring securing our existing FHIR API's<br>
)</p>



<a name="153822488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822488">(Apr 19 2016 at 17:48)</a>:</h4>
<p>Yup, the idea with <code>AuthorizationInterceptor</code> is that you could put an authentication/authorization layer on to of your server, of your choice. It could be spring security, or custom code talking to an LDAP or whatever else makes sense. </p>
<p>The output of the outer security layer would be decisions about what the current user is allowed to do (i.e. it might say I'm authorized to view anything in the Patient/1 compartment, and write Observations). AuthorizationInterceptor lets you declaratively implement those rules.</p>



<a name="153822489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822489">(Apr 19 2016 at 17:48)</a>:</h4>
<p>..if that makes sense... ahh security is annoying :)</p>



<a name="153822518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822518">(Apr 19 2016 at 21:42)</a>:</h4>
<p>Doing the step 1 is pretty easy, getting the OAuth based identity verified, and filtering access types to the specific resource types.<br>
The next step, provding resource level security is where things get more interesting and haarder. We are looking into this at the moment with sqlonfhir.</p>



<a name="153822519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822519">(Apr 19 2016 at 21:43)</a>:</h4>
<p>(as filtering on the outset is not ideal, as usually need to get all the way to the disk and filter there as this effects paging data with searching)</p>



<a name="153822520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822520">(Apr 19 2016 at 21:44)</a>:</h4>
<p>Filtering the direct GET/DELETE/POST/PUT is not too bad though</p>



<a name="153822576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153822576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153822576">(Apr 20 2016 at 07:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191495">@Jonny Rylands</span> you might be interested in the topic. Several of the code4health reps (both DS@Endeavour) wanted to go down OAuth2 route using LDAP. With my DevOps hat on, I'm keen to go down Spring Security route to keep config differences minimal.</p>



<a name="153975517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153975517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153975517">(Jul 16 2018 at 19:23)</a>:</h4>
<p>Looking to secure HAPI's REST server with OAuth. Has anyone done this, yet? The "server security" documentation page doesn't provide a lot of guidance on how to do this... I imagine I would create an interceptor that validates the oauth token, but are there any examples of doing this yet?</p>



<a name="153975518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153975518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153975518">(Jul 16 2018 at 19:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="153975532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153975532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153975532">(Jul 16 2018 at 19:38)</a>:</h4>
<p>I may have found the answer in an example: <a href="https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-oauth2" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-oauth2">https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-oauth2</a><br>
Let me know if I am wrong :)</p>



<a name="153975623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Securing%20HAPI/near/153975623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Securing.20HAPI.html#153975623">(Jul 17 2018 at 01:38)</a>:</h4>
<p>FYI, <strong>PublicSecurityInterceptor.java</strong> and <strong>TdlSecurityInterceptor.java</strong> in <a href="https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-jpaserver-uhnfhirtest/src/main/java/ca/uhn/fhirtest/interceptor" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-jpaserver-uhnfhirtest/src/main/java/ca/uhn/fhirtest/interceptor">https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-jpaserver-uhnfhirtest/src/main/java/ca/uhn/fhirtest/interceptor</a> implement very simple-minded bearer token checks.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
