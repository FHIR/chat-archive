---
layout: page
title: "FHIR Chat  · CapabilityStatement Validation Issue · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CapabilityStatement.20Validation.20Issue.html">CapabilityStatement Validation Issue</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="193373049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/CapabilityStatement%20Validation%20Issue/near/193373049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CapabilityStatement.20Validation.20Issue.html#193373049">(Apr 08 2020 at 20:17)</a>:</h4>
<p>I'm working with a HAPI Server (version 4.2.0) and seeing an error when trying to validate the CapabilityStatement on both it and the public test server.</p>
<div class="codehilite"><pre><span></span>java -jar org.hl7.fhir.validator.jar hapi_conformance.json -version <span class="m">4</span>.0.1
FHIR Validation tool Version <span class="m">4</span>.2.14-SNAPSHOT <span class="o">(</span>Git# 3edfeda13a8b<span class="o">)</span>. Built <span class="m">2020</span>-04-06T10:21:10.485+10:00 <span class="o">(</span><span class="m">66</span> hours old<span class="o">)</span>
Detected Java version: <span class="m">1</span>.8.0_222 from /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre on x86_64 <span class="o">(</span>64bit<span class="o">)</span>. 3641MB available
Arguments: hapi_conformance.json -version <span class="m">4</span>.0.1
Directories: <span class="nv">Current</span> <span class="o">=</span> /Users/radamson/Desktop, Package <span class="nv">Cache</span> <span class="o">=</span> /Users/radamson/.fhir/packages
  .. FHIR Version <span class="m">4</span>.0, definitions from hl7.fhir.r4.core#4.0.1
  .. connect to tx server @ http://tx.fhir.org
    <span class="o">(</span>v4.0.1<span class="o">)</span>
  .. validate <span class="o">[</span>hapi_conformance.json<span class="o">]</span>
*FAILURE* validating hapi_conformance.json:  error:1193 warn:1 info:144
  Error @ CapabilityStatement.rest<span class="o">[</span><span class="m">0</span><span class="o">]</span>.resource<span class="o">[</span><span class="m">69</span><span class="o">]</span>.profile <span class="o">(</span>line <span class="m">6266</span>, col73<span class="o">)</span> : URL value <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/ListResource&quot;</span> does not resolve
</pre></div>


<p>I couldn't find the ListResource which support is claimed for in the FHIR spec.  You can see the resource listed from the browser from the public test server: <a href="http://hapi.fhir.org/conformance?serverId=home_r4&amp;pretty=false" title="http://hapi.fhir.org/conformance?serverId=home_r4&amp;pretty=false">http://hapi.fhir.org/conformance?serverId=home_r4&amp;pretty=false</a></p>
<p>This is the CapabilityStatement from the server I am working with: <a href="/user_uploads/10155/9UiTFUU0NIk97TeZuzJtIYgP/fhir_conformance.json" title="fhir_conformance.json">fhir_conformance.json</a> </p>
<p>And here is a copy of the CapabilityStatement from the public HAPI server for convenience in reproducing the validation results: <a href="/user_uploads/10155/0nADJivO2RgGqx88UGs8Jh_W/hapi_conformance.json" title="hapi_conformance.json">hapi_conformance.json</a> </p>
<p>I should also note that in updating my FHIR Validator jar from <code>4.2.12</code> to <code>4.2.14</code> I've starting seeing many more errors related to the OperationDefinition URLs. e.g. <code>  Error @ CapabilityStatement.rest[0].operation[0].definition (line 12748, col6) : Canonical URLs must be absolute URLs if they are not fragment references (OperationDefinition/-s-mark-all-resources-for-reindexing) </code> on the public test server CapabilityStatement as well.</p>
<p>I see there is <a href="https://hapifhir.io/hapi-fhir/docs/server_plain/rest_operations.html#system-level-capabilities" title="https://hapifhir.io/hapi-fhir/docs/server_plain/rest_operations.html#system-level-capabilities">some documentation on creating a custom CapabilityStatement</a> which I am looking at now, but figured I'd raise this on chat since I was seeing the errors on the public server as well.</p>
<p>I appreciate all the hard work on this project and would be happy to provide any further information that may help!</p>



<a name="193376101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/CapabilityStatement%20Validation%20Issue/near/193376101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CapabilityStatement.20Validation.20Issue.html#193376101">(Apr 08 2020 at 20:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> something is forgetting to look for the actual resource name in the metadata? (<code>@ResourceDef(name="List"</code>)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
