---
layout: page
title: "FHIR Chat  · What about using a common format  to bulk import custom t... · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html">What about using a common format  to bulk import custom t...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="213762100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213762100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213762100">(Oct 19 2020 at 09:41)</a>:</h4>
<p>For example, using HAPI FHIR CLI to upload a large custom CodeSystem in a common format such as obo, owl, or even FHIR-native format.  Currently, there is a module for uploading a custom terminology in addition to the modules specific to IMGTHLA, LOINC and SCT. But its current format is pretty simple and lack of documentation.  It's not that easy for Implementers to build a little bit richer or more complex content, such as various properties (including relationships).</p>



<a name="213762240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213762240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213762240">(Oct 19 2020 at 09:43)</a>:</h4>
<p>hapi currently supports that you can upload entire FHIR IG's - does that fit your need?</p>



<a name="213762945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213762945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213762945">(Oct 19 2020 at 09:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span>  Thanks a lot.  Such a big capability would be far more beyond my understanding.<span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span>  For now, I'd like to focus on a granular/concrete function for that purpose exactly.</p>



<a name="213763421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213763421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213763421">(Oct 19 2020 at 09:54)</a>:</h4>
<p>A widely recognized format would provide benefits for both HAPI's developer community and adopters/users.</p>



<a name="213766860"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213766860" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213766860">(Oct 19 2020 at 10:33)</a>:</h4>
<p><span class="user-mention" data-user-id="192103">@Lin Zhang</span>  FHIR IG's conform to. a subclass of NPM ... so it is sort of a reckonized format already ;) - that said, I have no experience in working with OBO or OWL</p>



<a name="213767346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213767346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213767346">(Oct 19 2020 at 10:38)</a>:</h4>
<p>Do you have an example of a codesystem expressed in OWL/OBO?</p>



<a name="213769463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213769463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213769463">(Oct 19 2020 at 11:03)</a>:</h4>
<p>There are numerous code systems in such formats on the internet.</p>



<a name="213769494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213769494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213769494">(Oct 19 2020 at 11:03)</a>:</h4>
<p>Say, HPO in obo format.</p>



<a name="213769609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213769609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213769609">(Oct 19 2020 at 11:04)</a>:</h4>
<p>I'm newbie to NPM, just going to learn it.</p>



<a name="213769873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213769873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213769873">(Oct 19 2020 at 11:07)</a>:</h4>
<p>Human Phenotype Ontology - OBO Foundry<br>
<a href="http://www.obofoundry.org/ontology/hp.html">www.obofoundry.org/ontology/hp.html</a></p>



<a name="213792376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213792376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213792376">(Oct 19 2020 at 14:21)</a>:</h4>
<p>I would suggest to have a look at <a href="https://github.com/aehrc/fhir-owl">https://github.com/aehrc/fhir-owl</a> then - that seems to be able to convert OWL to FHIR and then you can upload it</p>



<a name="213806741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213806741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213806741">(Oct 19 2020 at 15:55)</a>:</h4>
<p>Thanks, Jens.  And is there any tool to upload the fhir output into the hapi fhir jpa server?</p>



<a name="213807325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213807325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213807325">(Oct 19 2020 at 15:59)</a>:</h4>
<p>I mean uploading such a output as an external CodeSystem in the same way as uploading LOINC and SCT.</p>



<a name="213841264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213841264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213841264">(Oct 19 2020 at 20:30)</a>:</h4>
<p>well I assume that you can just post the resulting codesystems to any FHIR server that accept such use - thats not HAPI specific</p>



<a name="213841407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213841407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213841407">(Oct 19 2020 at 20:31)</a>:</h4>
<p><span class="user-mention" data-user-id="192103">@Lin Zhang</span> if you are using HAPI FHIR and you need custom support I suggest that you have a look at <a href="https://github.com/jamesagnew/hapi-fhir/blob/9e8e98b6fbe9a05afc87df324cd67302e137aab9/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/TerminologyUploaderProvider.java#L128">https://github.com/jamesagnew/hapi-fhir/blob/9e8e98b6fbe9a05afc87df324cd67302e137aab9/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/TerminologyUploaderProvider.java#L128</a> and branch of from there</p>



<a name="213859195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213859195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213859195">(Oct 19 2020 at 23:27)</a>:</h4>
<p>Appreciate that.  I mean such terminologies are so large that the routine POST operation would not be suitable.  Yes, you are right: branching from there is what I'm considering.</p>



<a name="213874825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213874825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213874825">(Oct 20 2020 at 04:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191376">@Jim Steel</span>  It would be desirable to make FHIR-CLaML as a component of HAPI FHIR CLI's Terminology Uploader?  Thanks, anyway.</p>



<a name="213874843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213874843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213874843">(Oct 20 2020 at 04:39)</a>:</h4>
<p>That may be possible, by having a library build. We would want it to also continue standalone, too, though</p>



<a name="213874898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213874898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213874898">(Oct 20 2020 at 04:41)</a>:</h4>
<p>We certainly just use POST to send the output of FHIR-OWL and FHIR-ClaML into our server, even for very large CodeSystems like HPO</p>



<a name="213875027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213875027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213875027">(Oct 20 2020 at 04:45)</a>:</h4>
<p>Absolutely, standalone would be fine.  I'm wondering how long such large imports would take approximately.</p>



<a name="213875293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213875293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213875293">(Oct 20 2020 at 04:51)</a>:</h4>
<p>And how to refuse GETTing/reading the full resource by the clients?</p>



<a name="213875340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213875340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213875340">(Oct 20 2020 at 04:52)</a>:</h4>
<p>We don't refuse GETting. Although we do sometimes employ an implementation trick of allowing a POST/PUT of a CodeSystem with content=not-present, which we take to mean "index all the concepts so the CodeSystem works normally, but never return concepts in a read, vread or search"</p>



<a name="213875420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213875420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213875420">(Oct 20 2020 at 04:54)</a>:</h4>
<p>I can't remember how long the imports take. A little while, but no more than a few minutes, I don't think. But our import isn't using HAPI's serialization, so YMMV</p>



<a name="213875423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213875423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213875423">(Oct 20 2020 at 04:54)</a>:</h4>
<p>Yeah, that's exactly what I expect.</p>



<a name="213875438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213875438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213875438">(Oct 20 2020 at 04:55)</a>:</h4>
<p>(To be clear, that <code>not-present</code> trick isn't something you'll find in the spec. It's non-standard)</p>



<a name="213875446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/What%20about%20using%20a%20common%20format%20%20to%20bulk%20import%20custom%20t.../near/213875446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/What.20about.20using.20a.20common.20format.20.20to.20bulk.20import.20custom.20t.2E.2E.2E.html#213875446">(Oct 20 2020 at 04:55)</a>:</h4>
<p>Okay, roger that.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
