---
layout: page
title: "FHIR Chat  · ValueSet expansion with snomed ct codes for JPA 5.1.0 · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/ValueSet.20expansion.20with.20snomed.20ct.20codes.20for.20JPA.205.2E1.2E0.html">ValueSet expansion with snomed ct codes for JPA 5.1.0</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="207517621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/ValueSet%20expansion%20with%20snomed%20ct%20codes%20for%20JPA%205.1.0/near/207517621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/ValueSet.20expansion.20with.20snomed.20ct.20codes.20for.20JPA.205.2E1.2E0.html#207517621">(Aug 20 2020 at 12:45)</a>:</h4>
<p>I'm trying to work with the NpmJpaValidationSupport validation functionality  and I stumble upon the handling of ValueSets. In a <a href="http://fhir.ch/ig/ch-epr-term/ValueSet-DocumentEntry.confidentialityCode.html">ValueSet</a> I have a compose with 2 snomed ct codes inside. SNOMED CT is not directly supported so the expanded ValueSets are not containing these 2 codes (the IG Publisher can handle this with the terminology server). An option would be to upload the snomed ct codesystem directly, however I would like to have a quicker development solution:<br>
Is it possible to connect <a href="http://tx.fhir.org">tx.fhir.org</a> to hapi for testing purpose? And if yes has somebody a sample how to add that to JpaValidationSupportChain?</p>



<a name="207572291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/ValueSet%20expansion%20with%20snomed%20ct%20codes%20for%20JPA%205.1.0/near/207572291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/ValueSet.20expansion.20with.20snomed.20ct.20codes.20for.20JPA.205.2E1.2E0.html#207572291">(Aug 20 2020 at 20:44)</a>:</h4>
<p>well ... using <a href="https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#remoteterminologyservicevalidationsupport">https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#remoteterminologyservicevalidationsupport</a> for LOINC and SNOMED could be a solution</p>



<a name="207572355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/ValueSet%20expansion%20with%20snomed%20ct%20codes%20for%20JPA%205.1.0/near/207572355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/ValueSet.20expansion.20with.20snomed.20ct.20codes.20for.20JPA.205.2E1.2E0.html#207572355">(Aug 20 2020 at 20:44)</a>:</h4>
<p>and then default to the local valuesets and codesystems for all other codes</p>



<a name="207574860"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/ValueSet%20expansion%20with%20snomed%20ct%20codes%20for%20JPA%205.1.0/near/207574860" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/ValueSet.20expansion.20with.20snomed.20ct.20codes.20for.20JPA.205.2E1.2E0.html#207574860">(Aug 20 2020 at 21:09)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="191319">@James Agnew</span> has a better suggestion</p>



<a name="207679225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/ValueSet%20expansion%20with%20snomed%20ct%20codes%20for%20JPA%205.1.0/near/207679225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/ValueSet.20expansion.20with.20snomed.20ct.20codes.20for.20JPA.205.2E1.2E0.html#207679225">(Aug 21 2020 at 20:12)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> , i was hoping somebody has already connected remoteterminologyservicevalidationsupport with <a href="http://tx.fhir.org">tx.fhir.org</a>  but I put it up on my <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span> list. I found out that you can defer the ValueSet Expansion by not setting setDeferIndexingForCodesystemsOfSize. Then the InMemoryTerminologyServerValidationSupport expands the ValueSet and is not validating the codes and in addition it is possible to disable the task expanding the ValueSets. I have the example ig jpa validation server up <a href="https://github.com/ahdis/hapi-fhir-jpaserver-starter/tree/ig">here</a> and can now validate with the $validate operation, time for the weekend <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
