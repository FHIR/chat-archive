---
layout: page
title: "FHIR Chat  · HAPI FHIR Pagination · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20Pagination.html">HAPI FHIR Pagination</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153912192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20Pagination/near/153912192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Uma Prasath <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20Pagination.html#153912192">(Oct 03 2017 at 23:11)</a>:</h4>
<p>Hi,<br>
The context is regarding pagination for HealthcareService rest endpoint for Search using HAPI FHIR. I could see the HAPI FHIR Pagination generates Hateos url for next, prev as below. But this won't work in a clustered environment.<br>
v3?_getpages=02d9f81a-0dee-4756-b2ff-b873067f7081&amp;_getpagesoffset=2&amp;_count=2&amp;_format=json&amp;_bundletype=searchset".<br>
I could not find a way to override the bundle's paging url. As per the FHIR spec, it should be like the one below.<br>
&lt;link&gt;<br>
&lt;relation value="first"/&gt;<br>
&lt;url value="http://example.org/Patient?name=peter&amp;stateid=23&amp;page=1"/&gt;<br>
&lt;/link&gt;<br>
&lt;link&gt;<br>
&lt;relation value="previous"/&gt;<br>
&lt;url value="http://example.org/Patient?name=peter&amp;stateid=23&amp;page=2"/&gt;<br>
&lt;/link&gt;<br>
&lt;link&gt;<br>
&lt;relation value="next"/&gt;<br>
&lt;url value="http://example.org/Patient?name=peter&amp;stateid=23&amp;page=4"/&gt;<br>
&lt;/link&gt;</p>
<p>The issue is, the FHIR implementation cache the search query for a given uuid and provides the pagination url but this won't work in a clustered environment. Because if the first request goes to node1 and it cache the search query and the subsequent request goes to node2 it wont have the cached search query for the given uuid and it won't paginate.<br>
Could you please point me to some reference implementation ?</p>



<a name="263125018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20Pagination/near/263125018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shubham gupta <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20Pagination.html#263125018">(Nov 30 2021 at 10:26)</a>:</h4>
<p>Hi Everyone,<br>
How can i get the total number of users for any given resource such as Patient, Practitioner, Person from <strong>client.search() ?</strong> so that i can mange the page number in pagination.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
