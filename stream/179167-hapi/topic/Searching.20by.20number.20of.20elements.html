---
layout: page
title: "FHIR Chat  · Searching by number of elements · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.20by.20number.20of.20elements.html">Searching by number of elements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="278066328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching%20by%20number%20of%20elements/near/278066328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Shapira <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.20by.20number.20of.20elements.html#278066328">(Apr 06 2022 at 18:26)</a>:</h4>
<p>Hello experts,</p>
<p>I'm playing with searching requests on Hapi server.<br>
I was wondering if its possible to search by number of elements in the resource?<br>
Something like - get all patient resources with 20 or more elements/fields in the resource<br>
Or - get all patient with less than 10 elements in the resource?</p>
<p>Thanks ahead for any info and help,<br>
Vlad</p>



<a name="278086108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching%20by%20number%20of%20elements/near/278086108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.20by.20number.20of.20elements.html#278086108">(Apr 06 2022 at 21:05)</a>:</h4>
<p>I don't imagine that it would be. That's very subject to interpretation. For instance you have an array of names. Is it 1 element because the array exists? Is it 2 because the array exists and it has 1 slot filled? Is it 4 elements because it exists, has 1 slot, slot 1 has family and suffix attributes populated? .......</p>



<a name="278127318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching%20by%20number%20of%20elements/near/278127318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.20by.20number.20of.20elements.html#278127318">(Apr 07 2022 at 07:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="466206">Vladimir Shapira</span> <a href="#narrow/stream/179167-hapi/topic/Searching.20by.20number.20of.20elements/near/278066328">said</a>:</p>
<blockquote>
<p>Hello experts,</p>
<p>I'm playing with searching requests on Hapi server.<br>
I was wondering if its possible to search by number of elements in the resource?<br>
Something like - get all patient resources with 20 or more elements/fields in the resource<br>
Or - get all patient with less than 10 elements in the resource?</p>
<p>Thanks ahead for any info and help,<br>
Vlad</p>
</blockquote>
<p>Hi, your use-case is not covered by the FHIR spec and hapi.<br>
Out of curiosity, what is the use-case for such a search?</p>



<a name="278131123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching%20by%20number%20of%20elements/near/278131123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.20by.20number.20of.20elements.html#278131123">(Apr 07 2022 at 08:20)</a>:</h4>
<p>I expect that might be possible with a custom search parameter using the descendants().count fhirpath expression</p>



<a name="278188188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching%20by%20number%20of%20elements/near/278188188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Shapira <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.20by.20number.20of.20elements.html#278188188">(Apr 07 2022 at 16:09)</a>:</h4>
<p>Hi,<br>
Thanks for replies for this.</p>
<div class="codehilite"><pre><span></span><code>Hi, your use-case is not covered by the FHIR spec and hapi.
Out of curiosity, what is the use-case for such a search?
</code></pre></div>
<p>Probably no specific use case for this, just testing different searches.<br>
Most responses i get from Hapi are simple examples, for example for patient are just name and last name.<br>
Was thinking if there is such a search possible, it will find me patients with more data/complex examples - just to have more diversity of returned data. Patient is just example of resource, yeah i could use patient specific parameters, but these will not work for other resources.</p>



<a name="278368953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching%20by%20number%20of%20elements/near/278368953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.20by.20number.20of.20elements.html#278368953">(Apr 08 2022 at 22:17)</a>:</h4>
<p>Yeah, I actually expect <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> 's idea would work if you created a search parameter of type <code>number</code>. Definitely have never tried this though...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
