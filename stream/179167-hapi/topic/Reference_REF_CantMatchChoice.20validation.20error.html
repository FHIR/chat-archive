---
layout: page
title: "FHIR Chat  · Reference_REF_CantMatchChoice validation error · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Reference_REF_CantMatchChoice.20validation.20error.html">Reference_REF_CantMatchChoice validation error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="277289000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Reference_REF_CantMatchChoice%20validation%20error/near/277289000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ingmar Puschnig <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Reference_REF_CantMatchChoice.20validation.20error.html#277289000">(Mar 31 2022 at 14:23)</a>:</h4>
<p>We want to include FHIR validation for our system (which is creating FHIR XML for the german EAU process). For testing I've set up a sample command line program following the HAPI documentation (<a href="https://hapifhir.io/hapi-fhir/docs/validation/instance_validator.html">https://hapifhir.io/hapi-fhir/docs/validation/instance_validator.html</a>, section 12.2.4). Only difference is I'm parsing an XML file to obtain a Bundle. I'm using the HAPI release 5.7.1.</p>
<p>However, I see this validation error (in english it should be: Unable to find a match for profile ... among choices: ...):</p>
<p>ERROR - Es konnte kein passendes Profil für Condition/c5119bf9-5543-44b0-8399-5887fc54f1c2 unter den Auswahlmöglichkeiten [https://fhir.kbv.de/StructureDefinition/KBV_PR_EAU_Condition_ICD|1.0.2] gefunden werden - Bundle.entry[0].resource.ofType(Composition).section[0].entry[0]</p>
<p>Here is the relevant part of the XML that the reference in the error message refers to:</p>
<div class="codehilite"><pre><span></span><code>   &lt;entry&gt;
      &lt;fullUrl value=&quot;http://192.168.2.155/fhir/Condition/c5119bf9-5543-44b0-8399-5887fc54f1c2&quot;/&gt;
      &lt;resource&gt;
         &lt;Condition xmlns=&quot;http://hl7.org/fhir&quot;&gt;
            &lt;id value=&quot;c5119bf9-5543-44b0-8399-5887fc54f1c2&quot;/&gt;
            &lt;meta&gt;
               &lt;profile value=&quot;https://fhir.kbv.de/StructureDefinition/KBV_PR_EAU_Condition_ICD|1.0.2&quot;/&gt;
            &lt;/meta&gt;
</code></pre></div>
<p>I checked that the ValidationSupportChain contains the StructureDefinition in question with the following query:</p>
<div class="codehilite"><pre><span></span><code>IBaseResource res = validationSupport.fetchStructureDefinition(&quot;https://fhir.kbv.de/StructureDefinition/KBV_PR_EAU_Condition_ICD|1.0.2&quot;);
</code></pre></div>
<p>The StructureDefinition is there (I also can find it via other URLs, e.g. without the version, or just by the name KBV_PR_EAU_Condition_ICD).</p>
<p>I don't understand why the above error is created since the structure definition is apparently available. What am I missing here, or rather, how can I fix this problem?</p>



<a name="277332887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Reference_REF_CantMatchChoice%20validation%20error/near/277332887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Reference_REF_CantMatchChoice.20validation.20error.html#277332887">(Mar 31 2022 at 20:03)</a>:</h4>
<p>does this work with the standalone validator?</p>



<a name="277376650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Reference_REF_CantMatchChoice%20validation%20error/near/277376650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ingmar Puschnig <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Reference_REF_CantMatchChoice.20validation.20error.html#277376650">(Apr 01 2022 at 06:51)</a>:</h4>
<p>The program is a standalone java application, so no, it does not work there. Or did you mean something else by standalone?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
