---
layout: page
title: "FHIR Chat  · HAPI FHIR JPA Server shema DDL script · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html">HAPI FHIR JPA Server shema DDL script</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176693491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/176693491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asharaf Kadavath <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#176693491">(Sep 26 2019 at 20:17)</a>:</h4>
<p>I am looking for sql script(oracle) for hapi fhir JPA server( hapi-fhir-jpaserver-starter-4.0.0).</p>
<p>would like to create db objects using a script instead of enabling hibernate auto create.</p>
<p>where can i find ddl script for hapi server ?</p>
<p>Thanks<br>
~ash</p>



<a name="176694749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/176694749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#176694749">(Sep 26 2019 at 20:32)</a>:</h4>
<p>If you grab the <code>hapi-fhir-jpaserver-base</code> JAR and unzip it, you'll find a set of *.sql files in there named after the variou platforms we support. You can grab the oracle one from that if you need.</p>



<a name="177198220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/177198220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Subramanya Kudithipudi <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#177198220">(Oct 02 2019 at 22:19)</a>:</h4>
<p>Hi, I am new to Hapi, I was able to use hapi-fhir-jpaserver-starter code from Github and executed the code without any issues.<br>
I want to change the default H2 database connection to MySQL, I have installed MySQL database server on my machine,<br>
How can I populate the Database tables related to FHIR? Any help would be appreciated....</p>



<a name="177204986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/177204986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#177204986">(Oct 03 2019 at 00:24)</a>:</h4>
<p>You can find instructions on how to set up MySQL in the readme file here: <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter" target="_blank" title="https://github.com/hapifhir/hapi-fhir-jpaserver-starter">https://github.com/hapifhir/hapi-fhir-jpaserver-starter</a></p>



<a name="177205746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/177205746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Subramanya Kudithipudi <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#177205746">(Oct 03 2019 at 00:41)</a>:</h4>
<p>Thanks it worked</p>



<a name="177206170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/177206170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#177206170">(Oct 03 2019 at 00:52)</a>:</h4>
<p>woohoo!</p>



<a name="177206645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/177206645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Subramanya Kudithipudi <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#177206645">(Oct 03 2019 at 01:03)</a>:</h4>
<p>Hi James, Do we have any tutorial available to learn more about FHIR. Like I was able to setup jpa server and able to see the tables in Mysql database.    I already have a existing database with tables like  patient, patient_address, patient_measures_data etc... how do I use FHIR to interact with existing database...</p>



<a name="177245348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/177245348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#177245348">(Oct 03 2019 at 13:46)</a>:</h4>
<p>The server docs may be of help here: <a href="http://hapifhir.io/doc_rest_server.html" target="_blank" title="http://hapifhir.io/doc_rest_server.html">http://hapifhir.io/doc_rest_server.html</a></p>



<a name="240920095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20JPA%20Server%20shema%20DDL%20script/near/240920095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordi Cabré <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20JPA.20Server.20shema.20DDL.20script.html#240920095">(Jun 01 2021 at 10:07)</a>:</h4>
<p>I'm trying to extract DDL using cli <code>migrate-database</code> command using <code>--dry-run</code>. My database is currently empty.<br>
cli command is:</p>
<div class="codehilite"><pre><span></span><code>java -cp hapi-fhir-cli.jar:/home/jeusdi/projects/workarea/salut/mpi/ojdbc8.jar ca.uhn.fhir.cli.App migrate-database -d ORACLE_12C -n &lt;user&gt; -p &lt;password&gt; -u &lt;url&gt; --dry-run
</code></pre></div>
<p>I'm getting this exception:</p>
<div class="codehilite"><pre><span></span><code>org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [alter table TRM_CONCEPT_MAP add constraint FK_TRMCONCEPTMAP_RES foreign key (RES_ID) references HFJ_RESOURCE]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist

    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:393)
    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:431)
    at ca.uhn.fhir.jpa.migrate.taskdef.AddTableRawSqlTask.lambda$doExecute$2(AddTableRawSqlTask.java:80)
    at ca.uhn.fhir.jpa.migrate.taskdef.AddTableRawSqlTask$$Lambda$139/00000000287E02E0.doInTransaction(Unknown Source)
    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
    at ca.uhn.fhir.jpa.migrate.taskdef.AddTableRawSqlTask.doExecute(AddTableRawSqlTask.java:76)
    at ca.uhn.fhir.jpa.migrate.taskdef.BaseTask.execute(BaseTask.java:179)
    at ca.uhn.fhir.jpa.migrate.TaskOnlyMigrator.migrate(TaskOnlyMigrator.java:59)
    at ca.uhn.fhir.cli.BaseFlywayMigrateDatabaseCommand.run(BaseFlywayMigrateDatabaseCommand.java:137)
    at ca.uhn.fhir.cli.HapiFlywayMigrateDatabaseCommand.run(HapiFlywayMigrateDatabaseCommand.java:56)
    at ca.uhn.fhir.cli.BaseApp.run(BaseApp.java:269)
    at ca.uhn.fhir.cli.App.main(App.java:43)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist

    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494)
    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446)
    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054)
    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623)
    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)
    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612)
    at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:213)
    at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:37)
    at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:896)
    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1119)
    at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1737)
    at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1692)
    at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:300)
    at org.apache.commons.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:194)
    at org.apache.commons.dbcp2.DelegatingStatement.execute(DelegatingStatement.java:194)
    at org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:422)
    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:381)
    ... 11 common frames omitted
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00942: table or view does not exist

    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:498)
    ... 27 common frames omitted
</code></pre></div>
<p>Any ideas about how to get initial DDL?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
