---
layout: page
title: "FHIR Chat  · update HAPI 4.0.0 · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/update.20HAPI.204.2E0.2E0.html">update HAPI 4.0.0</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="174523294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/update%20HAPI%204.0.0/near/174523294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dongtu <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/update.20HAPI.204.2E0.2E0.html#174523294">(Aug 30 2019 at 07:57)</a>:</h4>
<p>Hi everyone<br>
I have updated the hapi version from 3.3.3 to 4.0.0. But now , Responding to a request in postman does not return OperationOutcome. In old version when successful it returns MethodOutcome with my BundleResource, whereas when it fails it returns OperationOutcome default<br>
<a href="/user_uploads/10155/Z_oLXacpAdCIPqihyGeG3qW2/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> <br>
<a href="/user_uploads/10155/f9wuV7jO3CZuG01KTEgEIS1B/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/Z_oLXacpAdCIPqihyGeG3qW2/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/Z_oLXacpAdCIPqihyGeG3qW2/pasted_image.png"></a></div><div class="message_inline_image"><a href="/user_uploads/10155/f9wuV7jO3CZuG01KTEgEIS1B/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/f9wuV7jO3CZuG01KTEgEIS1B/pasted_image.png"></a></div>



<a name="174523374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/update%20HAPI%204.0.0/near/174523374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dongtu <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/update.20HAPI.204.2E0.2E0.html#174523374">(Aug 30 2019 at 07:59)</a>:</h4>
<p>Now if I want return BundleResource I must use Prefer: return=representation. If I want return OperationOutcome I must use return=OperationOutcome . But I don't know my request success or fail. In the old version it was more flexible</p>



<a name="174523473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/update%20HAPI%204.0.0/near/174523473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dongtu <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/update.20HAPI.204.2E0.2E0.html#174523473">(Aug 30 2019 at 08:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="174528915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/update%20HAPI%204.0.0/near/174528915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/update.20HAPI.204.2E0.2E0.html#174528915">(Aug 30 2019 at 09:25)</a>:</h4>
<p>HAPI's behaviour was adjusted to match the recommendation in the FHIR spec:</p>
<blockquote>
<p>In the absence of the header, servers may choose whether to return the full resource or not (but not the OperationOutcome; that should only be returned if explicitly requested)</p>
</blockquote>
<p>You can still use the HTTP status code to determine whether a request was successful, or the presence of ERROR level issues in the OperationOutcome.</p>



<a name="174529469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/update%20HAPI%204.0.0/near/174529469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dongtu <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/update.20HAPI.204.2E0.2E0.html#174529469">(Aug 30 2019 at 09:34)</a>:</h4>
<p>If I still want to return OperationOutcome, How can I do that in version 4.0.0</p>



<a name="174529504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/update%20HAPI%204.0.0/near/174529504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/update.20HAPI.204.2E0.2E0.html#174529504">(Aug 30 2019 at 09:35)</a>:</h4>
<p>Using the prefer header:</p>
<p><code>Prefer: return=OperationOutcome</code></p>



<a name="174529706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/update%20HAPI%204.0.0/near/174529706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dongtu <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/update.20HAPI.204.2E0.2E0.html#174529706">(Aug 30 2019 at 09:38)</a>:</h4>
<p>ok thanks so much. I understood the problem</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
