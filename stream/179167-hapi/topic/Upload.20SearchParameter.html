---
layout: page
title: "FHIR Chat  · Upload SearchParameter · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Upload.20SearchParameter.html">Upload SearchParameter</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="263307792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Upload%20SearchParameter/near/263307792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abel Stolz <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Upload.20SearchParameter.html#263307792">(Dec 01 2021 at 15:31)</a>:</h4>
<p>I try to upload a SearchParameter (and use it) to a standard HAPI (latest docker image).<br>
So I post my SearchParameter resource to the &lt;base url&gt;/SearchParameter endpoint. The server log reads:</p>
<div class="codehilite"><pre><span></span><code>2021-12-01 15:24:28.656 [hapi-fhir-jpa-scheduler-local-2] INFO c.u.f.j.s.r.SearchParamRegistryImpl [SearchParamRegistryImpl.java:272] Adding 1 search parameters to SearchParamRegistry
2021-12-01 15:24:28.656 [hapi-fhir-jpa-scheduler-local-2] INFO c.u.f.j.s.r.SearchParamRegistryImpl [SearchParamRegistryImpl.java:278] Deleting 0 search parameters from SearchParamRegistry
2021-12-01 15:24:28.656 [hapi-fhir-jpa-scheduler-local-2] INFO c.u.f.j.s.r.SearchParamRegistryImpl [SearchParamRegistryImpl.java:119] Rebuilding SearchParamRegistry
2021-12-01 15:24:28.677 [hapi-fhir-jpa-scheduler-local-2] INFO ca.uhn.fhir.context.FhirContext [FhirContext.java:200] Creating new FHIR context for FHIR version [R4]
2021-12-01 15:24:28.719 [hapi-fhir-jpa-scheduler-local-2] INFO c.u.f.j.s.r.JpaSearchParamCache [JpaSearchParamCache.java:154] Have 0 unique search params
2021-12-01 15:24:31.746 [hapi-fhir-jpa-scheduler-clustered-3] INFO c.u.f.j.s.r.ResourceReindexingSvcImpl [ResourceReindexingSvcImpl.java:309] Running 1 reindex jobs: [ResourceReindexJobEntity[id=1,resourceType=Encounter,thresholdLow=&lt;null&gt;,thresholdHigh=2021-12-01 15:29:21.941]]
2021-12-01 15:24:31.751 [hapi-fhir-jpa-scheduler-clustered-3] INFO c.u.f.j.s.r.ResourceReindexingSvcImpl [ResourceReindexingSvcImpl.java:359] Performing reindex pass for JOB[1]
2021-12-01 15:24:31.760 [hapi-fhir-jpa-scheduler-clustered-3] INFO c.u.f.j.s.r.ResourceReindexingSvcImpl [ResourceReindexingSvcImpl.java:389] Loaded 0 resources for reindexing in 4ms
2021-12-01 15:24:31.760 [hapi-fhir-jpa-scheduler-clustered-3] INFO c.u.f.j.s.r.ResourceReindexingSvcImpl [ResourceReindexingSvcImpl.java:340] Marking reindexing job ID[1] as deleted
</code></pre></div>
<p>For me this looks as if the search parameter is registered and the Encounter resource is indexed.<br>
When I try using the search parameter, I get the following error message:</p>
<div class="codehilite"><pre><span></span><code>&quot;diagnostics&quot;: &quot;Unknown search parameter \&quot;start\&quot; for resource type \&quot;Encounter\&quot;. Valid search parameters for this search are: [_id, _language, _lastUpdated, account, appointment, based-on, class, date, diagnosis, episode-of-care, identifier, length, location, location-period, part-of, participant, participant-type, patient, practitioner, reason-code, reason-reference, service-provider, special-arrangement, status, subject, type]&quot;
</code></pre></div>
<p>What am I doing wrong?</p>



<a name="263308056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Upload%20SearchParameter/near/263308056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Upload.20SearchParameter.html#263308056">(Dec 01 2021 at 15:33)</a>:</h4>
<p>Is the SearchParameter.status draft? I had a similar Problem and solved it by setting status to active.</p>



<a name="263308946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Upload%20SearchParameter/near/263308946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abel Stolz <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Upload.20SearchParameter.html#263308946">(Dec 01 2021 at 15:39)</a>:</h4>
<p>The status is "draft", but changing it to "active" didn't change anything. Setting SearchParameter.experimental to "false" also didn't change anything...</p>



<a name="263309960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Upload%20SearchParameter/near/263309960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abel Stolz <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Upload.20SearchParameter.html#263309960">(Dec 01 2021 at 15:46)</a>:</h4>
<p>I recall my latest statement. Setting status to "active" indeed did work! I had to eliminate another error for it to take effect. Thank you very much!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
