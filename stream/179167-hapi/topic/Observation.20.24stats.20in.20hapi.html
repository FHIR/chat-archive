---
layout: page
title: "FHIR Chat  · Observation $stats in hapi · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20.24stats.20in.20hapi.html">Observation $stats in hapi</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="226782075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20%24stats%20in%20hapi/near/226782075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nils Benning <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20.24stats.20in.20hapi.html#226782075">(Feb 18 2021 at 09:07)</a>:</h4>
<p>Hi! I'm using hapi as a facade to a system with a proprietary API and have to deliver some basic statistics about measurements of a group of patients. I think the <a href="http://hl7.org/fhir/observation-operation-stats.html">$stats operation on Observation resource</a> with a Group as Subject would be a nice representation in FHIR. I'm wondering if hapi supports $stats operations for Observation at all. I tried to GET on the public R4 test server with this request: <code>http://hapi.fhir.org/baseR4/Observation/$stats?subject=Patient/123&amp;code=55284-4&amp;system=http://loinc.org&amp;duration=1&amp;statistic=average&amp;statistic=min&amp;statistic=max</code> and hapi returns an error, bc the endpoint does not know how to handle GET operations [Observation/$stats] with given parameters. Is this not implemented in hapi, yet?</p>



<a name="226784587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20%24stats%20in%20hapi/near/226784587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20.24stats.20in.20hapi.html#226784587">(Feb 18 2021 at 09:33)</a>:</h4>
<p>Have you inspected the server's CapabilityStatement to see if the operation is supported ?</p>



<a name="226870080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20%24stats%20in%20hapi/near/226870080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nils Benning <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20.24stats.20in.20hapi.html#226870080">(Feb 18 2021 at 19:54)</a>:</h4>
<p>Hi René, thanks for the hint. Had a look at the CapabilityStatement - HAPI public test server seems not to support $stats operation on Observations. Anyhow, this must not mean that HAPI doesn't implement the operation, does it? It would be quite helpful to have any test server which supports it, to implement it on my side in a compliant way.</p>



<a name="226929012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20%24stats%20in%20hapi/near/226929012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20.24stats.20in.20hapi.html#226929012">(Feb 19 2021 at 07:39)</a>:</h4>
<p><a href="http://test.fhir.org">test.fhir.org</a> tends to support the most (more exotic/new) features of the FHIR spec, so you could give that one a try.. on HAPI it'd just be a matter of developing a plugin.</p>



<a name="226946946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20%24stats%20in%20hapi/near/226946946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nils Benning <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20.24stats.20in.20hapi.html#226946946">(Feb 19 2021 at 10:46)</a>:</h4>
<p><a href="http://test.fhir.org">test.fhir.org</a> reports an "Invalid class typecast" for the above-mentioned request -- seems like I am working on a rather exotic feature. From a development perspective in HAPI you are right, however it would be helpful to have a 'established' server which supports the operation, in order to be "compliant". But I start to believe this might be meaningless for such an exotic feature. Thanks once again!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
