---
layout: page
title: "FHIR Chat  · equals and hashcode in fhir.core classes · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html">equals and hashcode in fhir.core classes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="236477640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236477640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236477640">(Apr 28 2021 at 09:38)</a>:</h4>
<p>I asked about this topic already in the implementer stream:<br>
<a href="#narrow/stream/179166-implementers/topic/Java.20FHIR.20lib.3A.20equals.20.26.20hashcode">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Java.20FHIR.20lib.3A.20equals.20.26.20hashcode</a></p>



<a name="236477911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236477911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236477911">(Apr 28 2021 at 09:40)</a>:</h4>
<p>As equals and hashcode aren't overriden in the FHIR Model classes, many functions (i wanted to use stream().distinct(), and ArrayList.containsAll()) aren't working as expected.<br>
I proposed to override equals with the already existing deepEquals() function, which is currently considered.</p>



<a name="236477961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236477961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236477961">(Apr 28 2021 at 09:40)</a>:</h4>
<p>This thread was started to inform the community and ask for feedback about this intended change.</p>



<a name="236477979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236477979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236477979">(Apr 28 2021 at 09:41)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> <span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="236485595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236485595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236485595">(Apr 28 2021 at 10:46)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="236575881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236575881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236575881">(Apr 28 2021 at 20:50)</a>:</h4>
<p>I use equals widely in the core code, when I'm using Maps. I'll have to review the Map usages  extensively to see whether a change to equals() will break things</p>



<a name="236575980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236575980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236575980">(Apr 28 2021 at 20:50)</a>:</h4>
<p>and sets</p>



<a name="236654019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236654019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236654019">(Apr 29 2021 at 10:59)</a>:</h4>
<p>so you are using the equals() from the Java.Objects?<br>
I think the simple check: <code> if (this == otherObject) {
            return true;</code><br>
should be included in the equals method (but also in the shallow and deepEquals). As this should speed up checking when comparing the same object to itself.</p>



<a name="236737962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236737962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236737962">(Apr 29 2021 at 20:15)</a>:</h4>
<p>that's true, but it wasn't the speed we were concerned about</p>



<a name="236738135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/236738135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#236738135">(Apr 29 2021 at 20:16)</a>:</h4>
<p>HashMap&lt;N, V&gt; uses .equals on N. (as opposed to IdentityHashMap&lt;N,V&gt;) I will have to review all the Maps I use. And I suspect that everyone else will as well, if we make this change</p>



<a name="237203670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/237203670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#237203670">(May 03 2021 at 18:08)</a>:</h4>
<p>This should be fixed ASAP!</p>



<a name="247084831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/equals%20and%20hashcode%20in%20fhir.core%20classes/near/247084831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/equals.20and.20hashcode.20in.20fhir.2Ecore.20classes.html#247084831">(Jul 24 2021 at 17:23)</a>:</h4>
<p>any updates?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
