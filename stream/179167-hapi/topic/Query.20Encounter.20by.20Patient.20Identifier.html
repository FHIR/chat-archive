---
layout: page
title: "FHIR Chat  · Query Encounter by Patient Identifier · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html">Query Encounter by Patient Identifier</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="182483627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182483627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182483627">(Dec 03 2019 at 19:05)</a>:</h4>
<p>Does HAPI implementation allow searching Encounter by Patient Identifier e.g. <a href="http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321" target="_blank" title="http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321">this patient's</a> internal identifier is  MLKCH-LA%CERNER%654321 but <em>_id</em> is 181210 , so even though there exists an Encounter by ID <a href="http://hapi.fhir.org/baseR4/Encounter/181215?_pretty=true" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter/181215?_pretty=true">181215</a> I still cannot search it by Patient's internal Identifier MLKCH-LA%CERNER%654321 like this <a href="http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%CERNER%654321" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%CERNER%654321">http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%CERNER%654321</a> or even with escaped % symbol <a href="http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%25CERNER%25654321" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%25CERNER%25654321">http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%25CERNER%25654321</a></p>



<a name="182483765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182483765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182483765">(Dec 03 2019 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ^ please chime in</p>



<a name="182484194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182484194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182484194">(Dec 03 2019 at 19:11)</a>:</h4>
<p>that's not a part of HAPI I work on or have any knowledge about</p>



<a name="182484912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182484912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182484912">(Dec 03 2019 at 19:19)</a>:</h4>
<p>i think your query is wrong as you are searching for the identifier on Encounter, but this should be searched on the Patient</p>



<a name="182485322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182485322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182485322">(Dec 03 2019 at 19:23)</a>:</h4>
<p>Encounter?patient.identifier=&lt;identifier_system&gt;|181210</p>



<a name="182485344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182485344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182485344">(Dec 03 2019 at 19:23)</a>:</h4>
<p>should work</p>



<a name="182486443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182486443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182486443">(Dec 03 2019 at 19:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> Not sure if I got it right but my query is <a href="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%25CERNER%25654321|18120" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%25CERNER%25654321|18120">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%25CERNER%25654321|18120</a> and that does not work even unescaped % sign does not work <a href="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%CERNER%654321%7C18120" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%CERNER%654321%7C18120">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%CERNER%654321%7C18120</a></p>



<a name="182486526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182486526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182486526">(Dec 03 2019 at 19:35)</a>:</h4>
<p>let me try with &lt;identifier system&gt; and value</p>



<a name="182486703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182486703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182486703">(Dec 03 2019 at 19:37)</a>:</h4>
<p>no luck with that <a href="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-resource-identifier|MLKCH-LA%25CERNER%25654321" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-resource-identifier|MLKCH-LA%25CERNER%25654321">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-resource-identifier|MLKCH-LA%25CERNER%25654321</a></p>



<a name="182486854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182486854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182486854">(Dec 03 2019 at 19:39)</a>:</h4>
<p>even <code>subject.identifier</code> does not work <a href="http://hapi.fhir.org/baseR4/Encounter?subject.identifier=Patient?MLKCH-LA%25CERNER%25654321" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter?subject.identifier=Patient?MLKCH-LA%25CERNER%25654321">http://hapi.fhir.org/baseR4/Encounter?subject.identifier=Patient?MLKCH-LA%25CERNER%25654321</a></p>



<a name="182486883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182486883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182486883">(Dec 03 2019 at 19:39)</a>:</h4>
<p><a href="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-identifier|" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-identifier|">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-identifier|</a><br>
works</p>



<a name="182487001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182487001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182487001">(Dec 03 2019 at 19:40)</a>:</h4>
<p>but that's not taking into account the actual value of the identifier</p>



<a name="182487013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182487013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182487013">(Dec 03 2019 at 19:40)</a>:</h4>
<p>that's just limited to the system</p>



<a name="182487019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182487019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182487019">(Dec 03 2019 at 19:40)</a>:</h4>
<p>yes</p>



<a name="182487668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182487668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182487668">(Dec 03 2019 at 19:48)</a>:</h4>
<p>escaping the % seems to be the problem, i guess..</p>



<a name="182488315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182488315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182488315">(Dec 03 2019 at 19:54)</a>:</h4>
<p>I don't think that's the problem because I can fetch Patient by internal identifier just fine <a href="http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321&amp;_pretty=true" target="_blank" title="http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321&amp;_pretty=true">http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321&amp;_pretty=true</a></p>



<a name="182488362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182488362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182488362">(Dec 03 2019 at 19:54)</a>:</h4>
<p>a <code>%</code>sign is escaped using <code>%25</code></p>



<a name="182489181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182489181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182489181">(Dec 03 2019 at 20:00)</a>:</h4>
<p>if you use the other identifier with the simple identifier value it works: <a href="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://new-republic.gov/galactic-citizen-identifier|000000000" target="_blank" title="http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://new-republic.gov/galactic-citizen-identifier|000000000">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://new-republic.gov/galactic-citizen-identifier|000000000</a></p>



<a name="182489497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182489497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182489497">(Dec 03 2019 at 20:03)</a>:</h4>
<p>could you file an issue on GH for this bug?</p>



<a name="182492988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182492988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182492988">(Dec 03 2019 at 20:42)</a>:</h4>
<p>ok</p>



<a name="182494789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Query%20Encounter%20by%20Patient%20Identifier/near/182494789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Query.20Encounter.20by.20Patient.20Identifier.html#182494789">(Dec 03 2019 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> here it is <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/issues/66" target="_blank" title="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/issues/66">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/issues/66</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
