---
layout: page
title: "FHIR Chat  · Searching · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.html">Searching</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153866317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching/near/153866317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Broadbent <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.html#153866317">(Jan 10 2017 at 17:01)</a>:</h4>
<p>Hi there, I'm just looking for some advice on searching a hapi database.  I'm just trying to test out what works and as part of it I've performed the query '{{URL}}/Basic?_profile=http://stelar.org/StructureDefinition/stelar/profile/questionResponse', where we have about 370000 instances of basic.  The result is a 504 timeout however.  How do I increase the timeout time?  Is there a way to increase the performance of the query?  I'm not actually sure if it's trying to return all the matching resources, or just their id's, but either would be fine</p>



<a name="153867378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching/near/153867378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.html#153867378">(Jan 15 2017 at 17:31)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192995">@Andrew Broadbent</span>,</p>
<p>This is something we're actively working on... Right now, one limitation of HAPI's JPA design is that it loads all results for your search into a staging table before returning. If you have a query that returns 300k results that is definitely going to be slow. We have a bunch of code in progress to address this limitation, so hopefully that will get a lot faster in the next release.</p>



<a name="153867584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching/near/153867584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Broadbent <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.html#153867584">(Jan 16 2017 at 16:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Thanks for the update.  Any idea on a rough time frame for that?</p>



<a name="153868179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Searching/near/153868179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Searching.html#153868179">(Jan 18 2017 at 19:45)</a>:</h4>
<p>Hi Andrew,</p>
<p>I don't have a precise timeline yet, but certainly within the next few months.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
