---
layout: page
title: "FHIR Chat  · RxJava support · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/RxJava.20support.html">RxJava support</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154015419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/RxJava%20support/near/154015419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raed Cran <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/RxJava.20support.html#154015419">(Nov 03 2018 at 15:52)</a>:</h4>
<p>Hi, is there any plan for supporting RxJava library? <span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="154015597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/RxJava%20support/near/154015597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/RxJava.20support.html#154015597">(Nov 05 2018 at 08:57)</a>:</h4>
<p><span class="user-mention" data-user-id="195406">@Raed Cran</span> Well.. No current plans. Not that it's not a great idea (I love the reactive paradigm) but I don't think anyone is working on this now.</p>
<p>Any interest in taking this on? :)</p>



<a name="154015758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/RxJava%20support/near/154015758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/RxJava.20support.html#154015758">(Nov 05 2018 at 20:34)</a>:</h4>
<p>What would it mean to support rxjava?</p>



<a name="154015797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/RxJava%20support/near/154015797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Raed Cran <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/RxJava.20support.html#154015797">(Nov 06 2018 at 00:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>  yep, I would love to, but I'm not an expert in reactive programming. But certainly I would join a team taking this. thanks for the answer :)</p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
I was thinking of something similar to Retrofit RxJava2 adapter (<a href="https://github.com/square/retrofit/tree/master/retrofit-adapters/rxjava2" target="_blank" title="https://github.com/square/retrofit/tree/master/retrofit-adapters/rxjava2">https://github.com/square/retrofit/tree/master/retrofit-adapters/rxjava2</a>), a more integrated reactive functionality into the rest client.<br>
Per example, the possibility of returning an Observable&lt;Bundle&gt; instead of just a raw Bundle, and switch between threads, that is very important in Android (my case).</p>
<p>I realized I could achieve this right now with RxJava 2, here is a simple example:</p>
<div class="codehilite"><pre><span></span>            Observable.just(newText)
                .subscribeOn(Schedulers.io())
                .map(t -&gt; client.search()
                        .forResource(Patient.class)
                        .where(Patient.FAMILY.matches().value(t))
                        .returnBundle(org.hl7.fhir.dstu3.model.Bundle.class)
                        .summaryMode(SummaryEnum.TRUE)
                        .execute())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(b -&gt; {
                    adapter.clear();
                    if (!b.getEntry().isEmpty()) {
                        adapter.addAll(b.getEntry());
                    }
                });
</pre></div>


<p>But it feels not so fluid as it could be, It would be interesting if I could do something like this:</p>
<div class="codehilite"><pre><span></span>        client.search()
                .forResource(Patient.class)
                .where(Patient.FAMILY.matches().value(t))
                .returnBundle(org.hl7.fhir.dstu3.model.Bundle.class)
                .toObservable() //returns Observable&lt;Bundle&gt;
                .subscribeOn(Schedulers.io()) //  IO-bound work thread.
                .observeOn(AndroidSchedulers.mainThread()) // ui update on UI thread
                .subscribe(b -&gt; {
                    adapter.clear();
                    if (!b.getEntry().isEmpty()) {
                        adapter.addAll(b.getEntry());
                    }
                }).execute();
</pre></div>



<a name="154015825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/RxJava%20support/near/154015825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/RxJava.20support.html#154015825">(Nov 06 2018 at 05:59)</a>:</h4>
<p>does rxjava have an extensibility framework for stuff like this?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
