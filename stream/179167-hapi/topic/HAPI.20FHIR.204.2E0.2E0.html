---
layout: page
title: "FHIR Chat  · HAPI FHIR 4.0.0 · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html">HAPI FHIR 4.0.0</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173228440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173228440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173228440">(Aug 14 2019 at 18:21)</a>:</h4>
<p><em>August 14, 2019 - HAPI FHIR 4.0.0 (Igloo) Released</em></p>
<p>The next release of HAPI has now been uploaded to the Maven repos and GitHub's releases section.</p>
<p>This release features a number of significant performance improvements, and has some notable changes:</p>
<ul>
<li>A new consent framework called ConsentInterceptor that can be used to apply local consent directives and policies, and potentially filter or mask data has been added.</li>
<li>Initial support for draft FHIR R5 resources has been added.</li>
<li>Support for GraphQL and the _filter search parameter has been added.</li>
<li>The ability to perform cascading deletes has been added.</li>
</ul>
<p>As always, see the for a full list of changes: <a href="http://hapifhir.io/changes-report.html" target="_blank" title="http://hapifhir.io/changes-report.html">http://hapifhir.io/changes-report.html</a></p>
<p>You can also watch the release webinar: <a href="https://youtu.be/0breejA_xe4" target="_blank" title="https://youtu.be/0breejA_xe4">https://youtu.be/0breejA_xe4</a></p>
<p>Thanks to everyone who contributed to this release!</p>
<div class="youtube-video message_inline_image"><a data-id="0breejA_xe4" href="https://youtu.be/0breejA_xe4" target="_blank" title="https://youtu.be/0breejA_xe4"><img src="https://i.ytimg.com/vi/0breejA_xe4/default.jpg"></a></div>



<a name="173267549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173267549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Grimes <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173267549">(Aug 15 2019 at 05:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Looks like something untoward may have happened to the API docs: <a href="http://hapifhir.io/apidocs-dstu3/index.html" target="_blank" title="http://hapifhir.io/apidocs-dstu3/index.html">http://hapifhir.io/apidocs-dstu3/index.html</a></p>



<a name="173289374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173289374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173289374">(Aug 15 2019 at 13:23)</a>:</h4>
<p>HI <span class="user-mention" data-user-id="191342">@John Grimes</span> - Ah nuts, thanks for pointing this out. We're now importing the structures from the org.hl7.fhir.core projects via Maven dependency instead of physically copying the classes into HAPI's repo. This is great for maintainability but it had the unintended consequence of breaking the javadocs on the website.</p>
<p>We're going to be rebuilding the website during this release cycle so I don't think it's worth fixing on the soon-to-be-replaced site, expect to see this fixed in a few weeks.</p>



<a name="173574010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173574010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173574010">(Aug 19 2019 at 19:58)</a>:</h4>
<p>Only a true geek could write this: "A BOM POM has been added to the HAPI FHIR distribution..."...</p>



<a name="173644092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173644092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173644092">(Aug 20 2019 at 10:01)</a>:</h4>
<p>after Upgrading a HAPI Server Project with custom providers and some validation support to 4.0.0 i get:</p>
<div class="codehilite"><pre><span></span>ca.uhn.fhir.rest.server.exceptions.InternalErrorException: Failed to call access method: java.lang.NoSuchMethodError: org.hl7.fhir.r4.utils.FHIRPathEngine.evaluateToBoolean(Ljava/lang/Object;Lorg/hl7/fhir/r4/model/Base;Lorg/hl7/fhir/r4/model/Base;Lorg/hl7/fhir/r4/model/ExpressionNode;)Z
...
Caused by: java.lang.NoSuchMethodError: org.hl7.fhir.r4.utils.FHIRPathEngine.evaluateToBoolean(Ljava/lang/Object;Lorg/hl7/fhir/r4/model/Base;Lorg/hl7/fhir/r4/model/Base;Lorg/hl7/fhir/r4/model/ExpressionNode;)Z
    at org.hl7.fhir.r4.validation.InstanceValidator.checkInvariant(InstanceValidator.java:3974)
</pre></div>


<p>Is this a bug or has ValidationSupport changed in R4?<br>
Whole Stacktrace:<br>
<a href="https://pastebin.com/YBZJaDZa" target="_blank" title="https://pastebin.com/YBZJaDZa">https://pastebin.com/YBZJaDZa</a></p>



<a name="173652104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173652104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173652104">(Aug 20 2019 at 12:19)</a>:</h4>
<p>Any chance you have multiple versions of a HAPI FHIR JAR on your classpath? That would be the likeliest cause of that kind of issue.</p>



<a name="173695829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173695829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173695829">(Aug 20 2019 at 21:01)</a>:</h4>
<p>had the validation module still in 3.8.0, thanks again James!</p>



<a name="173696277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173696277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173696277">(Aug 20 2019 at 21:07)</a>:</h4>
<p>I've always wondered if there was a "standard solution" for detecting this kind of thing. I've done the same thing many times..</p>



<a name="173797499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173797499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173797499">(Aug 21 2019 at 14:12)</a>:</h4>
<p>got curious... looks like the consensus online is to use JBoss Tattletale: <a href="https://tattletale.jboss.org/" target="_blank" title="https://tattletale.jboss.org/">https://tattletale.jboss.org/</a></p>
<p>I'm gonna investigate this sometime</p>



<a name="173805373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%204.0.0/near/173805373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.204.2E0.2E0.html#173805373">(Aug 21 2019 at 15:34)</a>:</h4>
<p>didn't know it, but it sounds great.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
