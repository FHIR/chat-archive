---
layout: page
title: "FHIR Chat  · Slice validation · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html">Slice validation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153891326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153891326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Murphy <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153891326">(May 25 2017 at 21:50)</a>:</h4>
<p>I've been looking at the profile validation in HAPI FHIR 2.3, with a view to incorporating it in various projects. The interface modelling team here makes extensive use of slicing so validating those would be a useful capability. Immediate interest is in DSTU2, with STU3 at some point in the future.</p>
<p>We have essentially two options - either wait until the HAPI FHIR developers introduce slice validation, or work on the code and add it ourselves to contribute back into the community. What I don't know is the priority this has amongst the HAPI developers, and how close the code is to including slice validation anyway.</p>
<p>So:<br>
1. Is this a high priority for anybody (else)<br>
2. Is it likely to appear soon</p>
<p>and if the answer to those  resolved to "no", is there interest in a volunteer to add it ?</p>



<a name="153891409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153891409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153891409">(May 26 2017 at 21:06)</a>:</h4>
<p>the FHIR team is putting all the work into the current build validator. It is able to validate version 1.0.2, 1.4, 3.0, and current. It is very good at slice validation. <span class="user-mention" data-user-id="191319">@James Agnew</span> - need to work on moving HAPI to use the current build validator</p>



<a name="153891762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153891762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Murphy <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153891762">(May 31 2017 at 08:43)</a>:</h4>
<p>Thanks - that should save a bunch of effort. Is this the one from the HL7 FHIR site, or in the HAPI Maven repository ? (The precise relationship between HAPI and the official validator is something I'm a little unclear on since the newer validator from the HL7 site includes HAPI classes).</p>



<a name="153891829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153891829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153891829">(May 31 2017 at 20:32)</a>:</h4>
<p>HAPI uses code from the build. In order to get the code from the build to integrate into HAPI properly, some of the HAPI infrastructure is in the build, but only supporting code - it's not HAPI itself. </p>



<a name="153891830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153891830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153891830">(May 31 2017 at 20:33)</a>:</h4>
<p>what we usually say to people is: if you're doing implementations, you should use HAPI, not the code in the build (though you can, and people do) - but code from the build is not, e.g. distributed via Maven - we do that through HAPI</p>



<a name="153892098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153892098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Murphy <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153892098">(Jun 02 2017 at 11:50)</a>:</h4>
<p>Just taken a look at the validator.zip from the HL7 FHIR site. That removes some of the abrupt user feedback from the current sources on GitHub (throw new Error) but it isn't clear that it is actually validating slices (InstanceValidator.getValueForDiscriminator(), at least in all cases: for example returning null and valueMatches() always returning false - I did those sorts of things myself). It looks like there is a route through the code where it is validating for url discriminators, but in some cases the profiles I'm looking at use a coding system as discriminator. </p>



<a name="153892185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153892185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153892185">(Jun 02 2017 at 22:51)</a>:</h4>
<p>can you provide a profile and instance for testing? I'm working on unit tests for the validator at the moment</p>



<a name="153892293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153892293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Murphy <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153892293">(Jun 05 2017 at 13:30)</a>:</h4>
<p>Yes, I'll dig some out. They're the ones from the NHS UK "Care Connect" API on github.</p>



<a name="153892327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153892327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Murphy <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153892327">(Jun 05 2017 at 21:47)</a>:</h4>
<p>Sorry about the wait. Line 661 of the structure definition has a slice with a system as discriminator (patient ids using national or local identifiers). Plus an example.,<a href="/user_uploads/10155/yr5dmW200_-s5Zn2uT7SZ719/SD_ADW-Patient-1-0-Ex01.xml" target="_blank" title="SD_ADW-Patient-1-0-Ex01.xml">SD_ADW-Patient-1-0-Ex01.xml</a> <a href="/user_uploads/10155/4W-MYDzytsYjC17ObPxZKPm-/EX_ADW-Patient-1-0-Ex01.xml" target="_blank" title="EX_ADW-Patient-1-0-Ex01.xml">EX_ADW-Patient-1-0-Ex01.xml</a> </p>



<a name="153892596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153892596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153892596">(Jun 07 2017 at 01:33)</a>:</h4>
<p>which profile - I didn't find the patient profile in any branch? (or I looked in the wrong repository)</p>



<a name="153892701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153892701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Murphy <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153892701">(Jun 07 2017 at 19:09)</a>:</h4>
<p>They're in the attached files. Those were made for me for testing validation (basically small enough for debugging easily) and I don't think they're in any repo.</p>



<a name="153892775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Slice%20validation/near/153892775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Slice.20validation.html#153892775">(Jun 07 2017 at 23:28)</a>:</h4>
<p>oops. so they are. I'll need the extension definitions too</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
