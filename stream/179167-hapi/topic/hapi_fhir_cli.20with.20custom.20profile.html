---
layout: page
title: "FHIR Chat  · hapi_fhir_cli with custom profile · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html">hapi_fhir_cli with custom profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153853058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853058">(Oct 18 2016 at 05:52)</a>:</h4>
<p>Is there a way to make <code>hapi_fhir_cli</code> work with a custom profile, so that the profile is referenced in <code>Conformance</code> response?</p>



<a name="153853173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853173">(Oct 19 2016 at 12:39)</a>:</h4>
<p>Is this a stupid question? <br>
Any hint? </p>



<a name="153853300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853300">(Oct 20 2016 at 05:19)</a>:</h4>
<p>Looks exactly like what I'm looking for. Have yet to check the details though<br>
<a href="https://fhirblog.com/2016/10/19/setting-up-your-own-fhir-server-for-profiling/" target="_blank" title="https://fhirblog.com/2016/10/19/setting-up-your-own-fhir-server-for-profiling/">https://fhirblog.com/2016/10/19/setting-up-your-own-fhir-server-for-profiling/</a></p>



<a name="153853721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853721">(Oct 21 2016 at 16:02)</a>:</h4>
<p>Hi Gunter, sorry unfortunately this isn't yet supported.</p>



<a name="153853724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853724">(Oct 21 2016 at 16:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Thanks a lot for the info! <br>
Do you know any server I can use to test if my client properly works with servers that have custom profiles configured?</p>



<a name="153853725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853725">(Oct 21 2016 at 16:49)</a>:</h4>
<p>Depends on what you need to test I suppose. I haven't actually yet come across any client workflows that depend on profiles being exposed via the conformance statement yet (not that they don't exist of course).</p>
<p>If you just need a server to serve up resources which declare and conform to a given profile URL, you can upload to most of the public test servers (certainly HAPI among others) and the server will preserve the profile URL when you fetch the resources..</p>



<a name="153853727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853727">(Oct 21 2016 at 18:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> I'm working on a code generator for a FHIR REST client, and I want it to build the classes in a way that they include all the expected extensions.<br>
What do you think is the correct way to get this information from a server?</p>



<a name="153853728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853728">(Oct 21 2016 at 18:15)</a>:</h4>
<p>Whoa, neat. Would love to hear more about the project! :)</p>
<p>That does sound like you'd want a proper conformance statement if the aim is to have the code generated for all profiles supported by a given server.</p>
<p>I suppose another approach might be to have it pull down profiles from a registry instead of from the server (e.g. point the tool at a profile on <a href="http://simplifier.net" target="_blank" title="http://simplifier.net">http://simplifier.net</a> and generate corresponding code for that..) Man that would be neat...</p>



<a name="153853729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853729">(Oct 21 2016 at 18:24)</a>:</h4>
<p>I'm working for a customer. He considers to make this part open source (yet to decide).</p>
<blockquote>
<p>That does sound like you'd want a proper conformance statement if the aim is to have the code generated for all profiles supported by a given server.</p>
</blockquote>
<p>Yes, this is exactly what I try to figure out how to do it right.</p>
<blockquote>
<p>I suppose another approach might be to have it pull down profiles from a registry instead of from the server (e.g. point the tool at a profile on <a href="http://simplifier.net" target="_blank" title="http://simplifier.net">http://simplifier.net</a> and generate corresponding code for that..) Man that would be neat...</p>
</blockquote>
<p>How do I know which profiles should be pulled down for a specific server?</p>
<p>I got the impression this is common practice in .Net, Java, Swift, Python, JS. But the language I'm using is not among these therefore I'm working on my own implementation. At the beginning I got a few ideas from <a href="https://github.com/smart-on-fhir/client-py" target="_blank" title="https://github.com/smart-on-fhir/client-py">https://github.com/smart-on-fhir/client-py</a></p>



<a name="153853758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853758">(Oct 21 2016 at 21:29)</a>:</h4>
<p>I might be misunderstanding.. I don't think there are tools in any of these languages yet to go to a server, download the conformance statement and generate code for the profiles it supports.</p>
<p>FWIW HAPI won't do this completely out of the box, but it does let you put anything you want in your server's conformance profile (by overriding <code>ServerConformanceProvider</code> and then passing your overridden class into <code>RestfulServer</code>). You could certainly  mock up anything you want it to do..</p>



<a name="153853759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853759">(Oct 21 2016 at 21:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> I guess that explains why I haven't yet found anything about that ;-)</p>
<p>So how are people doing this. I assumed the structuredefinitions are supposed to be used to define the interfaces. Are they usually exchanged in advance? Are they more used like documentation to implement the clients and servers accordingly?</p>



<a name="153853760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853760">(Oct 21 2016 at 21:36)</a>:</h4>
<p>So far, yes. The bulk of the current / short term work in this area is using the profiles to do two things: generate documentation (e.g. implementation guides) and do validation of resources which conform to those profiles. There is lots of good tooling for both of these things.</p>
<p>The thing you're talking about, code-generation from profiles, is an awesome idea but I don't believe it exists yet in any platform.</p>
<p>Claude Nanjo is actually doing some really cool work in this space in Java (we're hoping to bring it into HAPI at some point when it's ready).. I do totally think the concept is sound. It's just not a trivial problem to solve which is why it hasn't happened yet.</p>



<a name="153853763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853763">(Oct 21 2016 at 21:49)</a>:</h4>
<p>there's a team in Europe working on java code generation for profiles </p>



<a name="153853765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853765">(Oct 21 2016 at 21:49)</a>:</h4>
<p>we'll see them in a few weeks time at devDays</p>



<a name="153853800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853800">(Oct 22 2016 at 11:19)</a>:</h4>
<p>But the conformance statement or capability statement are, at least in theory, the right place to look up the profile configuration for a specific FHIR REST endpoint?<br>
Until this is fully supported by HAPI or other tools, the way to go is to just share the profiles as XML or JSON files, right?</p>



<a name="153853867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153853867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153853867">(Oct 24 2016 at 01:21)</a>:</h4>
<p>Rather than working from a conformance statement from a specific server, I would think you'd be creating the conformance resource that you plan for the project to generate off. This is then not dependant on any specific server.<br>
And you can publish that to other server vendors to state that this is the base profile that we expect everyone to be able to support.<br>
For our needs we are just using the standard .NET FHIR client, and have wrappers converting from our native (legacy/internal) object models into the FHIR model, with extensions included  as required.</p>



<a name="153854044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153854044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153854044">(Oct 25 2016 at 05:28)</a>:</h4>
<p>Thanks a lot everyone for helping me understand this topic better.</p>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> I guess that could work.</p>
<p>I'm still wondering what the purpose of the profile information in the conformance statement is then exactly.</p>



<a name="153854047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153854047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153854047">(Oct 25 2016 at 06:04)</a>:</h4>
<p>There are 2 reasons that I would expect to find the profile in there (both are related to what you could expect to find in the server)<br>
1. The server is a facade on an existing legacy system that cannot handle anything but the provided profile. (other content will be discarded or rejected as the server doesn't support storing it)<br>
2. The server is planning to only support a subset of information based on a defined profile for a specific use.<br>
(Such as configuring a HAPI server - which can support any fhir content - such that it will only accept that subset of content - disclaimer: not sure if you can configure HAPI like this out of the box yet.)</p>



<a name="153854050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153854050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Günter Zöchbauer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153854050">(Oct 25 2016 at 06:20)</a>:</h4>
<p>Thanks,  I think that helps me understand a bit better how FHIR is supposed to be used.</p>



<a name="153856326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153856326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mustafa Yuksel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153856326">(Nov 10 2016 at 13:24)</a>:</h4>
<p>Hi all, I have read the whole conversation with great interest. Within the scope of a multi-national EU project for diabetes, we have profiled several FHIR resources, and as the server side we would like to provide our client partners with easy to use HAPI based java clients. For a few profiled resources only, the simplest way is to manually create custom classes extending native resources. However, we have tens of profiled resources and we would like to have a more sustainable and reusable mechanism. Hence, we are also looking into code generation automatically from structure definitions. <br>
<span class="user-mention" data-user-id="191319">@James Agnew</span> and <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Regarding the efforts you mentioned (i.e. Claude Nanjo and a team in Europe), is there any further information that you can share or point to? We can actively contribute to such efforts if possible. In the worst case, we are planning to implement it ourselves. Thanks. </p>



<a name="153856781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153856781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153856781">(Nov 13 2016 at 19:58)</a>:</h4>
<p>Unfortunately there isn't really anything I can point you to. We've had lots of discussions about getting this project off the ground, but I'm not sure if any code has actually been written that is anywhere public yet. I know Claude's plans are to contribute his work back to HAPI, but I don't believe he has any code written yet. The other effort was presented at DevDays last year, but I don't believe they are open-sourcing their work.</p>
<p>If you decide you want to go down the code-generation route, of course I'd be delighted if you wanted to do it in a way that we could integrate it into HAPI. I'm happy to chat about ideas for how it could be done... I've got lots of ideas, just not enough hours in the day to do them all. :)</p>



<a name="153856829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi_fhir_cli%20with%20custom%20profile/near/153856829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mustafa Yuksel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi_fhir_cli.20with.20custom.20profile.html#153856829">(Nov 14 2016 at 07:15)</a>:</h4>
<p>Thanks James. We are happy to collaborate for integration with HAPI. I will come back to you soon with some more details about our plans. </p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
