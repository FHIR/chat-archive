---
layout: page
title: "FHIR Chat  · Archive HAPI - CDR  - Messages · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Archive.20HAPI.20-.20CDR.20.20-.20Messages.html">Archive HAPI - CDR  - Messages</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209967926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Archive%20HAPI%20-%20CDR%20%20-%20Messages/near/209967926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vibin_chander <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Archive.20HAPI.20-.20CDR.20.20-.20Messages.html#209967926">(Sep 14 2020 at 06:09)</a>:</h4>
<p>We have a lot of messages in our HAPI CDR. We would Like to Archive all the resources in the HAPI CDR from 2020 Jan to 2020 April and then remove those messages from the current CDR repository. Any insights on how to perform this? and what is the best approach to do this?.</p>
<p>We have a huge database size now because of the traffic of messages we receive. We would like to minimize the size of the DB at the same time we would also want to ensure we don't miss any data. So we would like to archive the messages from the HAPI CDR.</p>



<a name="210096566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Archive%20HAPI%20-%20CDR%20%20-%20Messages/near/210096566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Archive.20HAPI.20-.20CDR.20.20-.20Messages.html#210096566">(Sep 15 2020 at 07:07)</a>:</h4>
<p>hi,<br>
depending on the database you use, you can try partitioning it based on dates</p>



<a name="210111170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Archive%20HAPI%20-%20CDR%20%20-%20Messages/near/210111170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vibin_chander <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Archive.20HAPI.20-.20CDR.20.20-.20Messages.html#210111170">(Sep 15 2020 at 10:11)</a>:</h4>
<p><span class="user-mention" data-user-id="308935">@Gjergj Sheldija</span>  We are using PostgreSQL for CDR. But the databases looks complicated</p>



<a name="210122657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Archive%20HAPI%20-%20CDR%20%20-%20Messages/near/210122657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gjergj Sheldija <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Archive.20HAPI.20-.20CDR.20.20-.20Messages.html#210122657">(Sep 15 2020 at 12:36)</a>:</h4>
<p>hi <span class="user-mention" data-user-id="202825">@Vibin_chander</span> <br>
it's not really that complicated, if you look at the schema here <a href="https://hapifhir.io/hapi-fhir/docs/server_jpa/schema.html">https://hapifhir.io/hapi-fhir/docs/server_jpa/schema.html</a> you'll notice that you already have everything you need. what you might be missing is how to perform the partition in postgres, which you can find here <a href="https://www.postgresql.org/docs/10/ddl-partitioning.html">https://www.postgresql.org/docs/10/ddl-partitioning.html</a></p>



<a name="210124887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Archive%20HAPI%20-%20CDR%20%20-%20Messages/near/210124887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vibin_chander <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Archive.20HAPI.20-.20CDR.20.20-.20Messages.html#210124887">(Sep 15 2020 at 12:57)</a>:</h4>
<p><span class="user-mention" data-user-id="308935">@Gjergj Sheldija</span>  Checking the same</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
