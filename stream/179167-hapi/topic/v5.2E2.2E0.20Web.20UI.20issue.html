---
layout: page
title: "FHIR Chat  · v5.2.0 Web UI issue · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html">v5.2.0 Web UI issue</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223745808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223745808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223745808">(Jan 23 2021 at 11:52)</a>:</h4>
<p>Hello, a newbie needs some help :)<br>
I am using docker to run FHIR server as described here <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter#running-via-docker-hub">hapi-fhir-jpaserver-starter</a>:</p>
<div class="codehilite"><pre><span></span><code>docker pull hapiproject/hapi:latest
docker run -p 8080:8080 hapiproject/hapi:latest
</code></pre></div>
<p>However, I have the webUI looking weird:<br>
<a href="/user_uploads/10155/JAyphwl1KcrO5CcVxI_yA12u/fhir-web-ui.png">fhir-web-ui.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/JAyphwl1KcrO5CcVxI_yA12u/fhir-web-ui.png" title="fhir-web-ui.png"><img src="/user_uploads/10155/JAyphwl1KcrO5CcVxI_yA12u/fhir-web-ui.png"></a></div><p>I would appreciate any help on how to fix it, or advice what stable version should be used.</p>



<a name="223747264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747264">(Jan 23 2021 at 12:29)</a>:</h4>
<p>Alternatively, you might want to build the images using the stater project.</p>



<a name="223747332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747332">(Jan 23 2021 at 12:31)</a>:</h4>
<p><a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter">https://github.com/hapifhir/hapi-fhir-jpaserver-starter</a></p>



<a name="223747544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747544">(Jan 23 2021 at 12:36)</a>:</h4>
<p><span class="user-mention" data-user-id="192103">@Lin Zhang</span> <br>
I have <a href="https://registry.hub.docker.com/layers/hapiproject/hapi/v5.1.0/images/sha256-17c77dddd9f0638f5ba937a67f6973ae7e1ff7f0805e05dc9eb267f4fd51c459?context=explore">hapiproject/hapi:v5.1.0</a> up and running, seems like it works fine. However, it doesn't recognize application.yml from latest version.<br>
Do you think it's a good idea to start exploring FHIR server using 5.1.0 ?</p>



<a name="223747630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747630">(Jan 23 2021 at 12:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192103">Lin Zhang</span> <a href="#narrow/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue/near/223747264">said</a>:</p>
<blockquote>
<p>Alternatively, you might want to build the images using the stater project.</p>
</blockquote>
<p>I have built an image from <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/archive/v5.2.0.zip">v5.2.0 source</a> with the same web UI issue.</p>



<a name="223747655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747655">(Jan 23 2021 at 12:39)</a>:</h4>
<p>I feel like I should also try to build an image from master branch.</p>



<a name="223747657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747657">(Jan 23 2021 at 12:39)</a>:</h4>
<p><span class="user-mention" data-user-id="376706">@Vasyl Herman</span> try out <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter#using-the-dockerfile-and-multistage-build">https://github.com/hapifhir/hapi-fhir-jpaserver-starter#using-the-dockerfile-and-multistage-build</a></p>



<a name="223747701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747701">(Jan 23 2021 at 12:40)</a>:</h4>
<p>so clone from master branch and follow that</p>



<a name="223747723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747723">(Jan 23 2021 at 12:40)</a>:</h4>
<p>the <code>:latest</code>docker tag may not necessarily reflect latest fixes and changes in the code base</p>



<a name="223747738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747738">(Jan 23 2021 at 12:41)</a>:</h4>
<p>the master branch should work as intended</p>



<a name="223747750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223747750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223747750">(Jan 23 2021 at 12:41)</a>:</h4>
<p>Thanks a lot for help !!!</p>



<a name="223748354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/223748354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#223748354">(Jan 23 2021 at 12:57)</a>:</h4>
<p>I followed the multistage approach and it's working.</p>



<a name="224036996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/v5.2.0%20Web%20UI%20issue/near/224036996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue.html#224036996">(Jan 26 2021 at 13:19)</a>:</h4>
<p>I'm having this issue on <code>HAPI FHIR 5.2.0 REST Server (FHIR Server; FHIR 4.0.1/R4)</code></p>
<p>Sending this request fails <code>localhost:8080/fhir/Patient?identifier=EXSYS|</code>.</p>
<div class="codehilite"><pre><span></span><code>root@hapifhir:/usr/local/tomcat# curl &#39;localhost:8080/fhir/Patient?identifier=EXSYS|&#39;

&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 400 – Bad Request&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 400 – Bad Request&lt;/h1&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;&lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Invalid character found in the request target [&amp;#47;fhir&amp;#47;Patient?identifier=EXSYS|]. The valid characters are defined in RFC 7230 and RFC 3986&lt;/p&gt;&lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).&lt;/p&gt;&lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;java.lang.IllegalArgumentException: Invalid character found in the request target [&amp;#47;fhir&amp;#47;Patient?identifier=EXSYS|]. The valid characters are defined in RFC 7230 and RFC 3986
        org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:486)
        org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:261)
        org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
        org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
        org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
        org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
        java.base&amp;#47;java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
        java.base&amp;#47;java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
        org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
        java.base&amp;#47;java.lang.Thread.run(Thread.java:834)
&lt;/pre&gt;&lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;h3&gt;Apache Tomcat/9.0.38&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre></div>
<p>HAPI public server is down, but I am confident that this request is supposed to work, I tested it with VONK too.<br>
Pulled from standard HAPI docker image, with this configuration</p>
<div class="codehilite"><pre><span></span><code>spring:
  datasource:
    url: &#39;jdbc:h2:file:./target/database/h2&#39;

    username: sa
    password: null
    driverClassName: org.h2.Driver
    max-active: 15

  batch:
    job:
      enabled: false

hapi:
  fhir:
    fhir_version: R4
    default_encoding: JSON
    default_pretty_print: false
    tester:

        home:
          name: Local Tester
          server_address: &#39;http://localhost:8080/fhir&#39;
          refuse_to_fetch_third_party_urls: false
          fhir_version: R4
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
