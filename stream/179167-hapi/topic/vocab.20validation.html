---
layout: page
title: "FHIR Chat  · vocab validation · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html">vocab validation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153837992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153837992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153837992">(Jul 13 2016 at 15:43)</a>:</h4>
<p>In the updated HAPI terminology support, does the <code>$validate</code> operation know how to determine whether a code does-not-exist in a system (e.g. if instance data claims to use "loinc 123-bad-fake-code"?</p>



<a name="153837993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153837993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153837993">(Jul 13 2016 at 15:46)</a>:</h4>
<p>Yup, $validate should be able to reject codes that are in any code system it knows about (including ones which have been uploaded to the server via a CodeSystem resource, and ones which are external such as LOINC/SCT)</p>



<a name="153837994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153837994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153837994">(Jul 13 2016 at 15:47)</a>:</h4>
<p>Awesome!</p>



<a name="153839892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839892">(Jul 20 2016 at 00:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> - looking at a mustifying line in ValueSetExpanderSimple, and  wondering whether it's yours, cause I don't remember it, and it doesn't make sense to me</p>



<a name="153839893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839893">(Jul 20 2016 at 00:10)</a>:</h4>
<p>} else if ("display".equals(fc.getProperty()) &amp;&amp; fc.getOp() == FilterOperator.EQUAL) {</p>



<a name="153839894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839894">(Jul 20 2016 at 00:10)</a>:</h4>
<p>what follows that. Here's my comment I just added:</p>



<a name="153839895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839895">(Jul 20 2016 at 00:10)</a>:</h4>
<p>// gg; note: wtf is this if the filter is display=v, look up the code 'v', and see if it's diplsay is 'v'?</p>



<a name="153839913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839913">(Jul 20 2016 at 01:19)</a>:</h4>
<p>hmmm.... you're right, that does not make sense at all. It's supposed to be a filter on the display property, but obviously that's not going to work right!</p>
<p>let's see why my unit test isn't failing that...</p>



<a name="153839915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839915">(Jul 20 2016 at 01:25)</a>:</h4>
<p>wouldn't want a regex here - all codes with display properties that meet a regex? </p>



<a name="153839916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839916">(Jul 20 2016 at 01:26)</a>:</h4>
<p>p.s. how do you feel about breaking changes to the iWorkerContext interface?</p>



<a name="153839917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839917">(Jul 20 2016 at 01:28)</a>:</h4>
<p>That would probably be useful as well, but the intent here is to supply the EQUAL one since that's supported in my lucene equivalent and I'm trying to have ValueSetExpanderSimple support all of the same stuff I can do in Lucene for external CodeSystems.  I'll add a regex equivalent as I fix this though, that would be useful I'd agree.</p>



<a name="153839918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839918">(Jul 20 2016 at 01:29)</a>:</h4>
<p>I'm sure that would be fine- I treat that interface as internal so I'm not fussy about it changing between versions as long as I have a way of implemeting its methods</p>



<a name="153839919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839919">(Jul 20 2016 at 01:30)</a>:</h4>
<p>ok. I'm making the expand methods have an explicit heirachical parameter</p>



<a name="153839920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839920">(Jul 20 2016 at 01:30)</a>:</h4>
<p>default would be false</p>



<a name="153839921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839921">(Jul 20 2016 at 01:30)</a>:</h4>
<p>- preserves current behviour</p>



<a name="153839922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839922">(Jul 20 2016 at 01:31)</a>:</h4>
<p>and true requests that the expander return hierarchies instead of the current flat list?</p>



<a name="153839923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839923">(Jul 20 2016 at 01:31)</a>:</h4>
<p>yes, in the expansion.contains, it it can figure out how to </p>



<a name="153839924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839924">(Jul 20 2016 at 01:32)</a>:</h4>
<p>my first round, there's some cases where I could figure out how to that I haven't tried to yet, but there's ones where I am</p>



<a name="153839925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839925">(Jul 20 2016 at 01:33)</a>:</h4>
<p>neat, yeah that sounds like a useful change.</p>
<p>are you working on this now? obviously this will affect ValueSetExpander so I'll wait until you're done before fixing the display thing if so</p>



<a name="153839926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839926">(Jul 20 2016 at 01:33)</a>:</h4>
<p>yes. I'll let you know when I commit</p>



<a name="153839927"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839927" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839927">(Jul 20 2016 at 01:34)</a>:</h4>
<p>cool</p>



<a name="153839928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839928">(Jul 20 2016 at 01:34)</a>:</h4>
<p>basically, if you have only one include, and you include a whole code system, or you include all children of one code, then I'll make it a heiarchy. Else it won't be</p>



<a name="153839943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/vocab%20validation/near/153839943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/vocab.20validation.html#153839943">(Jul 20 2016 at 05:33)</a>:</h4>
<p>going to commit shortly. This commit will move some elements from code to an enumeration -I picked up a set of elements that weren't getting coded properly</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
