---
layout: page
title: "FHIR Chat  · hapi-fhir-jpaserver-starter Hibernate errors with SQL · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html">hapi-fhir-jpaserver-starter Hibernate errors with SQL</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="171701731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171701731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordan Matelsky <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171701731">(Jul 25 2019 at 15:35)</a>:</h4>
<p>I think possibly relevant to <span class="user-mention" data-user-id="191319">@James Agnew</span> — trying to get the <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter" target="_blank" title="https://github.com/hapifhir/hapi-fhir-jpaserver-starter">https://github.com/hapifhir/hapi-fhir-jpaserver-starter</a> repository running in a Docker container with a <code>docker-compose</code> MySQL container running alongside. Followed the MySQL subheader instructions and got at least the Jetty server running, but the hapi-fhir-jpaserver Servlet status is listed as <em>Not Available</em>. When I check my error logs, it looks like the servlet isn't being initialized due to a Hibernate connection error; but my credentials and DB uri are definitely correct (I can connect from the local machine to the SQL db directly). </p>
<p>Before I spend a bunch more time debugging the SQL connection, is this error familiar to you/anyone? I imagine it's an auth issue but am not sure where to start debugging.</p>
<div class="codehilite"><pre><span></span>Caused by: javax.persistence.PersistenceException: [PersistenceUnit: HAPI_PU] Unable to build Hibernate SessionFactory; nested exception i
s org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution
</pre></div>



<a name="171701791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171701791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordan Matelsky <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171701791">(Jul 25 2019 at 15:36)</a>:</h4>
<p>(Happy to share my docker-compose, hapi.properties, full error log if helpful!)</p>



<a name="171701823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171701823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordan Matelsky <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171701823">(Jul 25 2019 at 15:36)</a>:</h4>
<p>(Sorry to pick on you <span class="user-mention" data-user-id="191319">@James Agnew</span>  — but you made the fatal mistake of being the first username I found on that repo :) )</p>



<a name="171707331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171707331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordan Matelsky <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171707331">(Jul 25 2019 at 16:54)</a>:</h4>
<p>(i think <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> might be involved in that codebase as well?)</p>



<a name="171712907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171712907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordan Matelsky <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171712907">(Jul 25 2019 at 18:05)</a>:</h4>
<p>I may have a solution, will share here for others once I know it's working</p>



<a name="171713530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171713530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171713530">(Jul 25 2019 at 18:14)</a>:</h4>
<p>Did you make sure the dialect property was updated with a valid MySQL dialect in the hapi.properties file?</p>



<a name="171713548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171713548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171713548">(Jul 25 2019 at 18:14)</a>:</h4>
<p>and yes, I do contribute to hapi-fhir-jpaserver-starter... but only a little :)</p>



<a name="171713565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171713565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171713565">(Jul 25 2019 at 18:15)</a>:</h4>
<p>I, too, am interested in getting hapi running in a docker container, though. So, this is definitely of interest to me</p>



<a name="171713589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171713589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171713589">(Jul 25 2019 at 18:15)</a>:</h4>
<p>I just haven't had any time to play around with it, yet</p>



<a name="171725014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171725014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordan Matelsky <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171725014">(Jul 25 2019 at 20:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> yep — used the configs right out of the README.md on that repo, i think i needed to add one more config line.... will git-diff and report back</p>



<a name="171728447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/171728447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordan Matelsky <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#171728447">(Jul 25 2019 at 21:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> (and cc <span class="user-mention" data-user-id="191319">@James Agnew</span> FYSA) — here's the repo where we've got a working Docker-Compose. The big <em>gotcha</em> was keeping the jetty server from spinning up the Servlet until <em>after</em> the mysql container was provisioned and running happily. There's some junk config lines in there but it should be pretty straightforward to see the changes we made! Happy to talk more about, too.</p>



<a name="181606819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter%20Hibernate%20errors%20with%20SQL/near/181606819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir-jpaserver-starter.20Hibernate.20errors.20with.20SQL.html#181606819">(Nov 22 2019 at 03:17)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="191505">Sean McIlvenna</span> (and cc <span class="user-mention silent" data-user-id="191319">James Agnew</span> FYSA) — here's the repo where we've got a working Docker-Compose. The big <em>gotcha</em> was keeping the jetty server from spinning up the Servlet until <em>after</em> the mysql container was provisioned and running happily. There's some junk config lines in there but it should be pretty straightforward to see the changes we made! Happy to talk more about, too.</p>
</blockquote>
<p><span class="user-mention" data-user-id="195947">@Jordan Matelsky</span> where is the repo? I think you forgot a link</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
