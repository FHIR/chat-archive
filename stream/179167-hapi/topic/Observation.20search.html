---
layout: page
title: "FHIR Chat  · Observation search · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html">Observation search</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="242858669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/242858669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#242858669">(Jun 16 2021 at 10:01)</a>:</h4>
<p>Is it possible to search for an <code>Observation</code> based on the interpretation code?<br>
The Observation doc page doesn't list this attribute, so my understanding is it's not possible. Is there an alternative way?</p>



<a name="242860548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/242860548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#242860548">(Jun 16 2021 at 10:21)</a>:</h4>
<p>You can define your own search parameters</p>



<a name="242860732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/242860732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#242860732">(Jun 16 2021 at 10:23)</a>:</h4>
<p>I tried creating a search parameter for a different usecase previously, and it didn't work well. I'll give that a go again, thanks!<br>
Using the default docker container should work, correct?</p>



<a name="243148048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243148048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243148048">(Jun 18 2021 at 11:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179167-hapi/topic/Observation.20search/near/242860548">said</a>:</p>
<blockquote>
<p>You can define your own search parameters</p>
</blockquote>
<p>I have this JSON Path for finding all observations with a given interpretation code. </p>
<div class="codehilite"><pre><span></span><code>$.resource..interpretation[:].coding[:].code
</code></pre></div>
<p>Would something like this be correct for the top-level interpretation?  <br>
<code>Observation.Interpretation.Where(Code = "HIGH")</code></p>



<a name="243155955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243155955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243155955">(Jun 18 2021 at 12:54)</a>:</h4>
<p>correct where?</p>



<a name="243156211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243156211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243156211">(Jun 18 2021 at 12:56)</a>:</h4>
<p>For an Observation, on the 'expression' part of the SearchParameter JSON POST body?</p>



<a name="243156617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243156617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243156617">(Jun 18 2021 at 12:59)</a>:</h4>
<p>SearchParameter.expression is FHIRPath, which is case sensitive, so it would be</p>



<a name="243157129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243157129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243157129">(Jun 18 2021 at 13:03)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Observation.interpretation.where(code.coding.where(code in &quot;H&quot; | &quot;HU&quot; | &quot;HH).exists())
</code></pre></div>
<p>and maybe HX?</p>



<a name="243157265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243157265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243157265">(Jun 18 2021 at 13:04)</a>:</h4>
<p>I assume this doesn't work when there's interpretations inside components? Then I'd need some form of Union, correct?</p>



<a name="243157344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243157344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243157344">(Jun 18 2021 at 13:04)</a>:</h4>
<p>If you don't mind me asking,  in <code>code in "H" | "HU" | "HH</code>, why the H | HU | HH?</p>



<a name="243161689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243161689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243161689">(Jun 18 2021 at 13:38)</a>:</h4>
<p>yes you'd need a union</p>



<a name="243161708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243161708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243161708">(Jun 18 2021 at 13:38)</a>:</h4>
<p>did you look at the possible codes for interpretation?</p>



<a name="243161787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243161787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243161787">(Jun 18 2021 at 13:39)</a>:</h4>
<p>We're using High, normal, low for now. My bad forgot there were more. Thanks!</p>



<a name="243162081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243162081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243162081">(Jun 18 2021 at 13:41)</a>:</h4>
<p>So if I'm using a union, it'd be something like this? </p>
<div class="codehilite"><pre><span></span><code>Observation.interpretation.where(code.coding.where(code in &quot;H&quot; | &quot;HU&quot; | &quot;HH).exists()).union(
    Observation.components.where(interpretation.where(
        code.coding.where(code in &quot;H&quot; | &quot;HU&quot; | &quot;HH).exists())
    )
)
</code></pre></div>



<a name="243211710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243211710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243211710">(Jun 18 2021 at 21:53)</a>:</h4>
<p>feels about right</p>



<a name="243338361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Observation%20search/near/243338361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Observation.20search.html#243338361">(Jun 21 2021 at 04:27)</a>:</h4>
<p>Thanks! I'll give that a go!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
