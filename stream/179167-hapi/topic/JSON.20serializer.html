---
layout: page
title: "FHIR Chat  · JSON serializer · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/JSON.20serializer.html">JSON serializer</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153884921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/JSON%20serializer/near/153884921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Bobko <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/JSON.20serializer.html#153884921">(Apr 17 2017 at 18:35)</a>:</h4>
<p>Hi All...I'm new to FHIR and found the HAPI APIs make it pretty easy to create AuditEvents. However, I can't figure out how to serialize these to a stream. In particular, I'm looking for something that takes my AuditEvent and writes/creates a JSON object to my log file. Advice/Hints/Directions greatly appreciated.</p>



<a name="153884953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/JSON%20serializer/near/153884953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mustafa Yuksel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/JSON.20serializer.html#153884953">(Apr 18 2017 at 07:49)</a>:</h4>
<p>Hi Ryan. There are several examples in HAPI documentation. For instance: <a href="http://hapifhir.io/doc_dstu2.html" target="_blank" title="http://hapifhir.io/doc_dstu2.html">http://hapifhir.io/doc_dstu2.html</a>:</p>
<div class="codehilite"><pre><span class="c1">// Create a context for DSTU3</span>
<span class="n">FhirContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">FhirContext</span><span class="o">.</span><span class="na">forDstu3</span><span class="o">();</span>

<span class="c1">// Working with RI structures is similar to how it works with the HAPI structures</span>
<span class="n">org</span><span class="o">.</span><span class="na">hl7</span><span class="o">.</span><span class="na">fhir</span><span class="o">.</span><span class="na">dstu3</span><span class="o">.</span><span class="na">model</span><span class="o">.</span><span class="na">Patient</span> <span class="n">patient</span> <span class="o">=</span> <span class="k">new</span> <span class="n">org</span><span class="o">.</span><span class="na">hl7</span><span class="o">.</span><span class="na">fhir</span><span class="o">.</span><span class="na">dstu3</span><span class="o">.</span><span class="na">model</span><span class="o">.</span><span class="na">Patient</span><span class="o">();</span>
<span class="n">patient</span><span class="o">.</span><span class="na">addName</span><span class="o">().</span><span class="na">addGiven</span><span class="o">(</span><span class="s">&quot;John&quot;</span><span class="o">).</span><span class="na">setFamily</span><span class="o">(</span><span class="s">&quot;Smith&quot;</span><span class="o">);</span>
<span class="n">patient</span><span class="o">.</span><span class="na">getBirthDateElement</span><span class="o">().</span><span class="na">setValueAsString</span><span class="o">(</span><span class="s">&quot;1998-02-22&quot;</span><span class="o">);</span>

<span class="c1">// Parsing and encoding works the same way too</span>
<span class="n">String</span> <span class="n">encoded</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">newJsonParser</span><span class="o">().</span><span class="na">encodeResourceToString</span><span class="o">(</span><span class="n">patient</span><span class="o">);</span>
</pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
