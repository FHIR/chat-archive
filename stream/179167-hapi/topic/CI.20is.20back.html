---
layout: page
title: "FHIR Chat  · CI is back · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CI.20is.20back.html">CI is back</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176498192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/CI%20is%20back/near/176498192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CI.20is.20back.html#176498192">(Sep 24 2019 at 19:38)</a>:</h4>
<p>Oh man I am relieved to finally be able to post this.</p>
<p>After probably 6 months of fighting and fighting with Travis-CI to troubleshoot mysterious failures that seemed to happen in 3/4 of our builds, I decided to take a look at the new Azure Pipelines support that was announced recently. Azure finishes the build in 30 mins (travis generally timed out, having spent 60 minutes only getting half-way through) and seems to pass pretty consistently.</p>
<p>I am so impressed with azure's implementation. Damn.</p>



<a name="176498299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/CI%20is%20back/near/176498299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CI.20is.20back.html#176498299">(Sep 24 2019 at 19:39)</a>:</h4>
<p>Good to know - any tips / learnings from getting it going?</p>



<a name="176506166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/CI%20is%20back/near/176506166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CI.20is.20back.html#176506166">(Sep 24 2019 at 21:05)</a>:</h4>
<p>It was remarkably smooth. Feel free to borrow from HAPI's pipeline descriptor if it's useful: <a href="https://github.com/jamesagnew/hapi-fhir/blob/master/azure-pipelines.yml" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/blob/master/azure-pipelines.yml">https://github.com/jamesagnew/hapi-fhir/blob/master/azure-pipelines.yml</a></p>
<p>The main thing that is neat is that Maven is a native capability of Azure (as are many other build systems). In travis you have to script up your maven call, which isn't hard obviously.. but Azure understands its output format and gives you nice test reports and things like that. It looks like it's got some native JaCoCo support too for test coverage, although I haven't tried playing with that yet.</p>
<p>I have been planning on migrating off of <a href="http://coveralls.io" target="_blank" title="http://coveralls.io">coveralls.io</a> for coverage reporting (that platform has gotten pretty flaky too) so I'm gonna take this opportunity to get things working with CodeCov instead. I keep looking enviously at the reports that Synthea gets from CodeCov.</p>
<p>The one thing I haven't gotten working right yet is artifact caching between builds (for the local Maven repo's downloaded artifacts). Still trying to figure that one out..</p>



<a name="176513416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/CI%20is%20back/near/176513416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CI.20is.20back.html#176513416">(Sep 24 2019 at 22:33)</a>:</h4>
<p>Nice! This is what we're using for the FHIR core build too. (I've also been pretty impressed with the GitHub Actions pre-release, but it doesn't have quite the same feature set yet.)</p>



<a name="176586154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/CI%20is%20back/near/176586154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CI.20is.20back.html#176586154">(Sep 25 2019 at 17:15)</a>:</h4>
<p>Semi-related, the page on <a href="http://hapifhir.io/" target="_blank" title="http://hapifhir.io/">hapifhir.io</a> still has the old build badge (failing).</p>



<a name="176594179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/CI%20is%20back/near/176594179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/CI.20is.20back.html#176594179">(Sep 25 2019 at 18:43)</a>:</h4>
<p>Yeah- I'm gonna update that when we launch the revamped page in a few weeks.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
