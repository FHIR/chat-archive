---
layout: page
title: "FHIR Chat  · searching for subject:identifier · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html">searching for subject:identifier</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="207846974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/207846974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#207846974">(Aug 24 2020 at 14:06)</a>:</h4>
<p>I posted this to <a href="#narrow/stream/179166-implementers/topic/How.20search.20on.20Reference.2Eidentifier.20in.20STU3/near/207663134">Implementers thread</a>, and it was suggested that I post it here.</p>
<p>I can successfully create this resource on <a href="http://hapi.fhir.org/baseR4/">http://hapi.fhir.org/baseR4/</a></p>
<div class="codehilite"><pre><span></span><code>&lt;Observation&gt;
    &lt;subject&gt;
        &lt;identifier&gt;
            &lt;system value=&quot;http://acme.org/identifier/mrn&quot; /&gt;
            &lt;value value=&quot;123&quot; /&gt;
        &lt;/identifier&gt;
    &lt;/subject&gt;
&lt;/Observation&gt;
</code></pre></div>


<p>(a Patient resource does not exist)<br>
and then I attempt to search for it using<br>
<code>GET http://hapi.fhir.org/baseR4/Observation?subject:identifier=http://acme.org/identifier/mrn|123</code><br>
but it doesn't find anything. Is this expected behavior?<br>
How would I search for Observation.subject.identifier?</p>



<a name="210831340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/210831340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marian Hummel <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#210831340">(Sep 22 2020 at 06:16)</a>:</h4>
<p>In case you are still looking for an answer:</p>
<p>First, the identifier does not belong into subject. Subject is a reference parameter to "Who and/or what the observation is about"<br>
<a href="https://www.hl7.org/fhir/observation.html">https://www.hl7.org/fhir/observation.html</a></p>
<p>I created your Observation and found it with<br>
./Observation?identifier=123</p>
<p>But i guess there are better ways.</p>



<a name="210834189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/210834189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#210834189">(Sep 22 2020 at 07:06)</a>:</h4>
<p>Actually, it should be <a href="http://hapi.fhir.org/baseR4/Observation?patient.identifier=http://acme.org/identifier/mrn|123">http://hapi.fhir.org/baseR4/Observation?patient.identifier=http://acme.org/identifier/mrn|123</a> (. instead of : - parameter chaining is based on the . separator, and use the <em>patient</em> parameter (a Patient type resource) rather than the <em>subject</em> parameter (subject is mostly a Patient, but could be another resource type))</p>



<a name="227809322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/227809322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#227809322">(Feb 25 2021 at 17:57)</a>:</h4>
<p>Sorry, I just noticed there were replies to this.</p>
<p><span class="user-mention silent" data-user-id="326329">Marian Hummel</span> <a href="#narrow/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier/near/210831340">said</a>:</p>
<blockquote>
<p>In case you are still looking for an answer:</p>
<p>First, the identifier does not belong into subject. Subject is a reference parameter to "Who and/or what the observation is about"<br>
<a href="https://www.hl7.org/fhir/observation.html">https://www.hl7.org/fhir/observation.html</a></p>
<p>I created your Observation and found it with<br>
./Observation?identifier=123</p>
<p>But i guess there are better ways.</p>
</blockquote>
<p>Yes, we are getting observations reported to us with a given subject identifier from external organizations. It is an observation about a patient using a research identifier (de-identified).  So there may be multiple observations about the same patient identifier. But they wouldn't know if a Patient resource has already been created or its id, so we are asking them to use observation.subject.identifier instead of observation.subject.reference. It seems like we should be able to search for Observations with a subject identifier. Since subject is a reference data type, seems like observation.subject should be able to be an identifier and I should be able to search for it.<br>
<a href="/user_uploads/10155/-sfGqFbXLDhYQNjXW6pJ1Zsu/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/-sfGqFbXLDhYQNjXW6pJ1Zsu/image.png" title="image.png"><img src="/user_uploads/10155/-sfGqFbXLDhYQNjXW6pJ1Zsu/image.png"></a></div>



<a name="227812883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/227812883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#227812883">(Feb 25 2021 at 18:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191372">René Spronk</span> <a href="#narrow/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier/near/210834189">said</a>:</p>
<blockquote>
<p>Actually, it should be <a href="http://hapi.fhir.org/baseR4/Observation?patient.identifier=http://acme.org/identifier/mrn|123">http://hapi.fhir.org/baseR4/Observation?patient.identifier=http://acme.org/identifier/mrn|123</a> (. instead of : - parameter chaining is based on the . separator, and use the <em>patient</em> parameter (a Patient type resource) rather than the <em>subject</em> parameter (subject is mostly a Patient, but could be another resource type))</p>
</blockquote>
<p>Sorry, but this isn't working for me either. I don't necessarily have a Patient resource. Here's a more complete example:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Observation&quot;,
    &quot;status&quot;: &quot;final&quot;,
    &quot;category&quot;: [
        {
            &quot;coding&quot;: [
                {
                    &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/observation-category&quot;,
                    &quot;code&quot;: &quot;vital-signs&quot;,
                    &quot;display&quot;: &quot;Vital Signs&quot;
                }
            ],
            &quot;text&quot;: &quot;Vital Signs&quot;
        }
    ],
    &quot;code&quot;: {
        &quot;coding&quot;: [
            {
                &quot;system&quot;: &quot;http://loinc.org&quot;,
                &quot;code&quot;: &quot;9279-1&quot;,
                &quot;display&quot;: &quot;Respiratory rate&quot;
            }
        ],
        &quot;text&quot;: &quot;Respiratory rate&quot;
    },
    &quot;subject&quot;: {
        &quot;identifier&quot;: {
            &quot;system&quot;: &quot;http://example.org/identifier&quot;,
            &quot;value&quot;: &quot;1234567&quot;
        }
    },
    &quot;effectiveDateTime&quot;: &quot;1999-07-02&quot;,
    &quot;valueQuantity&quot;: {
        &quot;value&quot;: 26,
        &quot;unit&quot;: &quot;breaths/minute&quot;,
        &quot;system&quot;: &quot;http://unitsofmeasure.org&quot;,
        &quot;code&quot;: &quot;/min&quot;
    }
}
</code></pre></div>
<p>I can upload this to <a href="http://hapi.fhir.org/baseR4">hapi.fhir.org/baseR4</a> (see <a href="http://hapi.fhir.org/baseR4/Observation/1865320">http://hapi.fhir.org/baseR4/Observation/1865320</a>)<br>
but I can't seem search for it based on the <code>subject.identifier</code> or <code>subject:identifer</code> or <code>patient.identifer</code>, or at least I don't know how. It seems I should be able to search for Observations based on subject identifier even if the Patient resource doesn't yet exist.</p>



<a name="227908929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/227908929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#227908929">(Feb 26 2021 at 10:32)</a>:</h4>
<p>I tried all these combinations</p>
<div class="codehilite"><pre><span></span><code>http://hapi.fhir.org/baseR4/Observation?subject:identifier=http://example.org/identifier|1234567
http://hapi.fhir.org/baseR4/Observation?subject:identifier=http://example.org/identifier|
http://hapi.fhir.org/baseR4/Observation?subject.identifier=http://example.org/identifier|123456
http://hapi.fhir.org/baseR4/Observation?subject.identifier=http://example.org/identifier|
http://hapi.fhir.org/baseR4/Observation?_filter=subject.identifier eq http://example.org/identifier|123456
http://hapi.fhir.org/baseR4/Observation?_filter=subject.identifier eq http://example.org/identifier|
</code></pre></div>
<p>From my understanding, chaining (<code>subject.identifier</code>) will try to resolve the reference, so <code>subject:identifier</code> (I think these are called <a href="https://www.hl7.org/fhir/references.html#logical">Logical references</a>?) seems the way to go. But doesn't work unfortunately.</p>



<a name="227915313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/227915313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#227915313">(Feb 26 2021 at 11:38)</a>:</h4>
<p>If you use a reference from e.g. an Observation to a Patient using reference.identifier (instead of reference.reference), there's not an expectation that the server will support parameter chaining. So that's probably the issue that you're running into.</p>



<a name="227963141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/227963141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#227963141">(Feb 26 2021 at 17:41)</a>:</h4>
<p>My understanding is that if a patient resource exists and is known, then <code>observation.subject</code> should be a reference, e.g.,</p>
<div class="codehilite"><pre><span></span><code>&quot;subject&quot;: {
    &quot;reference&quot;: &quot;Patient/123&quot;
}
</code></pre></div>
<p>and then to find Observations of that subject, use </p>
<div class="codehilite"><pre><span></span><code>Observation?subject.identifier=http://example.org/identifier|1234567
</code></pre></div>
<p>But if you don't have a Patient resource, then <code>observation.subject</code> could be an identifier, e.g.,</p>
<div class="codehilite"><pre><span></span><code>&quot;subject&quot;: {
    &quot;identifer&quot;: {
        &quot;system&quot;: &quot;http://example.org/identifier&quot;,
        &quot;value&quot;: &quot;1234567&quot;
    }
}
</code></pre></div>
<p>and then to find Observations of that subject, use </p>
<div class="codehilite"><pre><span></span><code>Observation?subject:identifier=http://example.org/identifier|1234567
</code></pre></div>
<p>This second method (using <code>subject:identifier</code> instead of <code>subject.identifier</code>) doesn't seem to work.</p>



<a name="228084710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/228084710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#228084710">(Feb 27 2021 at 21:38)</a>:</h4>
<p>I've been wondering if we need more guidance on the use of reference identifiers. I am in favour of using them between systems/providers (interop) but maybe not for client server interactions.</p>



<a name="250433510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/250433510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DT <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#250433510">(Aug 24 2021 at 01:35)</a>:</h4>
<div class="codehilite"><pre><span></span><code>            &quot;resourceType&quot;: &quot;RiskAssessment&quot;,
            &quot;id&quot;: &quot;1&quot;,
            &quot;meta&quot;: {
                ...
            },
            &quot;identifier&quot;: [
                {
                    &quot;system&quot;: &quot;...&quot;,
                    &quot;value&quot;: &quot;...&quot;
                }
            ],
            &quot;status&quot;: &quot;final&quot;,
            &quot;subject&quot;: {
                &quot;identifier&quot;: {
                    &quot;system&quot;: &quot;http://myapp.com/patient-mrn&quot;,
                    &quot;value&quot;: &quot;99&quot;
                }
            },
            &quot;prediction&quot;: [{...}]
</code></pre></div>

<p>Trying to query for RiskAssessment  GET /RiskAssessment?subject:identifier=http://myapp.com/patient-mrn%7C99<br>
but getting an empty bundle back. Any ideas what's wrong here?</p>



<a name="250492010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/250492010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#250492010">(Aug 24 2021 at 14:22)</a>:</h4>
<p>A couple of things,  first for any FHIR search you'll want to consult the FHIR spec page (near the bottom) for the specifics about which search parameters a particular resource supports:  <a href="https://www.hl7.org/fhir/riskassessment.html#search">https://www.hl7.org/fhir/riskassessment.html#search</a></p>
<p>In your case the subject is the "field name" within the resource but the search parameter is 'patient'.  (An FYI, most all search parameters are all lowercase and not the same as the name of the field in the resource).</p>
<p>So, I believe your search should look like this:  /RiskAssessment?patient=identifier=http://myapp.com/patient-mrn%7C99</p>
<p>[Also, you are using the urlencoded version of vertical bar "|", normally a FHIR server would expect the vertical bar not the urlencoded version so it probably should be: /RiskAssessment?patient=identifier=http://myapp.com/patient-mrn|99 ]</p>



<a name="257183509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/257183509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Khromov <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#257183509">(Oct 12 2021 at 10:57)</a>:</h4>
<p>Hello all!<br>
<span class="user-mention" data-user-id="191372">@René Spronk</span> and <span class="user-mention" data-user-id="298707">@John Silva</span>  could someone post here working example with using modifier :identifier for reference type element?</p>
<p>I'm trying to search Patient (<a href="http://hapi.fhir.org/baseR4/Patient/2639722">http://hapi.fhir.org/baseR4/Patient/2639722</a>) resource with next body:</p>
<div class="codehilite"><pre><span></span><code>{
      &quot;resourceType&quot;: &quot;Patient&quot;,
      &quot;id&quot;: &quot;2639722&quot;,
      &quot;meta&quot;: {
        &quot;versionId&quot;: &quot;1&quot;,
        &quot;lastUpdated&quot;: &quot;2021-10-12T10:49:47.309+00:00&quot;,
        &quot;source&quot;: &quot;#bkRo4gg3Ap4kaCgo&quot;
      },
      &quot;text&quot;: {
        &quot;status&quot;: &quot;generated&quot;,
        &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;div class=\&quot;hapiHeaderText\&quot;&gt;Ms Charlene MN123 &lt;b&gt;THERON &lt;/b&gt; Sr &lt;/div&gt;&lt;table class=\&quot;hapiPropertyTable\&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Identifier&lt;/td&gt;&lt;td&gt;MR1039&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Date of birth&lt;/td&gt;&lt;td&gt;&lt;span&gt;06 October 2001&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&quot;
      },
      &quot;identifier&quot;: [ {
        &quot;type&quot;: {
          &quot;coding&quot;: [ {
            &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0203&quot;,
            &quot;code&quot;: &quot;MR&quot;,
            &quot;display&quot;: &quot;Medical record number&quot;
          } ]
        },
        &quot;system&quot;: &quot;https://radboud.nl/identifiers/PatientIdentifier&quot;,
        &quot;value&quot;: &quot;MR1039&quot;
      } ],
      &quot;name&quot;: [ {
        &quot;use&quot;: &quot;usual&quot;,
        &quot;family&quot;: &quot;Theron&quot;,
        &quot;given&quot;: [ &quot;Charlene&quot;, &quot;MN123&quot; ],
        &quot;prefix&quot;: [ &quot;Ms&quot; ],
        &quot;suffix&quot;: [ &quot;Sr&quot; ]
      }, {
        &quot;use&quot;: &quot;usual&quot;,
        &quot;family&quot;: &quot;ALLN1&quot;,
        &quot;given&quot;: [ &quot;ALFN1&quot; ]
      } ],
      &quot;gender&quot;: &quot;male&quot;,
      &quot;birthDate&quot;: &quot;2001-10-06&quot;,
      &quot;contact&quot;: [ {
        &quot;relationship&quot;: [ {
          &quot;coding&quot;: [ {
            &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0131&quot;,
            &quot;code&quot;: &quot;N&quot;,
            &quot;display&quot;: &quot;Next-of-Kin&quot;
          } ]
        } ],
        &quot;name&quot;: {
          &quot;family&quot;: &quot;Monkey-Magic R&quot;,
          &quot;given&quot;: [ &quot;Ruchir&quot;, &quot;M&quot; ]
        }
      } ],
      &quot;managingOrganization&quot;: {
        &quot;identifier&quot;: {
          &quot;system&quot;: &quot;http://systemIdentifier.org&quot;,
          &quot;value&quot;: &quot;sp13&quot;
        }
      }
    }
</code></pre></div>
<p>using request<br>
GET <a href="http://hapi.fhir.org/baseR4/Patient?organization:identifier=http://systemIdentifier.org|sp13">http://hapi.fhir.org/baseR4/Patient?organization:identifier=http://systemIdentifier.org|sp13</a></p>
<p>and i'm getting next</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
    &quot;text&quot;: {
        &quot;status&quot;: &quot;generated&quot;,
        &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td style=\&quot;font-weight: bold;\&quot;&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre/&gt;&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;&quot;
    },
    &quot;issue&quot;: [
        {
            &quot;severity&quot;: &quot;error&quot;,
            &quot;code&quot;: &quot;processing&quot;
        }
    ]
}
</code></pre></div>
<p>then i'm trying using . intead of :<br>
GET <a href="http://hapi.fhir.org/baseR4/Patient?organization.identifier=http://systemIdentifier.org|sp13">http://hapi.fhir.org/baseR4/Patient?organization.identifier=http://systemIdentifier.org|sp13</a></p>
<p>and i'm getting next</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
    &quot;text&quot;: {
        &quot;status&quot;: &quot;generated&quot;,
        &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td style=\&quot;font-weight: bold;\&quot;&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;ERROR: canceling statement due to user request&lt;/pre&gt;&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;&quot;
    },
    &quot;issue&quot;: [
        {
            &quot;severity&quot;: &quot;error&quot;,
            &quot;code&quot;: &quot;processing&quot;,
            &quot;diagnostics&quot;: &quot;ERROR: canceling statement due to user request&quot;
        }
    ]
}
</code></pre></div>
<p>What should i do to get response?</p>



<a name="257184631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/257184631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#257184631">(Oct 12 2021 at 11:07)</a>:</h4>
<p><span class="user-mention" data-user-id="347882">@Kevin Dougan</span> it looks like a bug on the test site</p>



<a name="257212734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/257212734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#257212734">(Oct 12 2021 at 14:33)</a>:</h4>
<p>Yes I'm seeing the same fault on most of the chained parameters I've tried</p>



<a name="257261408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/257261408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#257261408">(Oct 12 2021 at 19:49)</a>:</h4>
<p><span class="user-mention" data-user-id="364805">@Pavel Khromov</span>  - looking at the data the managingOrgamization is NOT a proper reference (I believe); it should be something like:</p>
<p><code>        "managingOrganization": {
          "reference": "https://server.fire.ly/r4/Organization/1ee3cbd8-c0fd-442e-bffa-83e213e7d734"
        },
 </code></p>
<p>If I perform this search on the Firely public R4 server it works as expected:</p>
<p><a href="https://server.fire.ly/r4/Patient?_format=json&amp;organization=1ee3cbd8-c0fd-442e-bffa-83e213e7d734">https://server.fire.ly/r4/Patient?_format=json&amp;organization=1ee3cbd8-c0fd-442e-bffa-83e213e7d734</a></p>
<p>I did find this Patient on the HAPI public server that does have a 'proper' managingOrganization reference:</p>
<p><a href="https://hapi.fhir.org/baseR4/Patient?_count=100&amp;_id=1612407">https://hapi.fhir.org/baseR4/Patient?_count=100&amp;_id=1612407</a></p>
<p>However, searching for it with the organization search parameter still didn't work.   I suggest asking <span class="user-mention" data-user-id="191319">@James Agnew</span> , the author of HAPI for some advice.</p>



<a name="257414731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/257414731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#257414731">(Oct 13 2021 at 18:31)</a>:</h4>
<p>The data type for Patient.managingOrganization is Reference. And Reference doesn't have to have an literal reference, but can contain a logical <code>identifier</code> when the literal reference is not known.<br>
<a href="/user_uploads/10155/MVBXRKGowC2JZcmzTsZb6kPR/image.png">image.png</a> <br>
<a href="https://www.hl7.org/fhir/references.html#Reference">https://www.hl7.org/fhir/references.html#Reference</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/MVBXRKGowC2JZcmzTsZb6kPR/image.png" title="image.png"><img src="/user_uploads/10155/MVBXRKGowC2JZcmzTsZb6kPR/image.png"></a></div><p>Given this, having <code>managingOrganization</code> be represented as simply with an <code>Identifier</code> should be acceptable. I think the <code>:identifier </code>modifer is supposed to be allow a search based on that. The problem is that HAPI doesn't support that search.</p>



<a name="260729337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/searching%20for%20subject%3Aidentifier/near/260729337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Swetha Kumar <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/searching.20for.20subject.3Aidentifier.html#260729337">(Nov 08 2021 at 22:39)</a>:</h4>
<p>Did HAPI stop supporting the search by identifier recently?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
