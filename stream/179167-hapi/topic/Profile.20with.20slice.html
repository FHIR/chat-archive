---
layout: page
title: "FHIR Chat  · Profile with slice · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html">Profile with slice</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153866064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153866064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Binu DGIT <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153866064">(Jan 09 2017 at 06:27)</a>:</h4>
<p>I am struggling to send data according to a profile with slice definition for "location"<br>
I have sliced location in encounter to "locationDept","locationBed" and "locatonClinic" and assigned 1.* cardinality for "locationDept".<br>
I tried to send the location data as follows and still it is not recognized and giving me  the error       "diagnostics": "Element '/f:Encounter.location': minimum required = 1, but only found 0". Can someone help me out in formatting the json data. Profile definition is attached</p>
<div class="codehilite"><pre>&quot;location&quot;:[{
    &quot;locationDept&quot;:[{
        &quot;location&quot; :{
            &quot;reference&quot;:&quot;Location/51.20068.jdn.577&quot;,
            &quot;display&quot;:&quot;GASTROENTEROLOGY&quot;
            },
            &quot;status&quot;:&quot;completed&quot;,
            &quot;period&quot;:{
                &quot;start&quot;:&quot;2011-03-24T19:25:00Z&quot;,
                &quot;end&quot;:&quot;2011-06-19T12:25:47Z&quot;
            }
    }]      
}][OmEncounter.structuredefinition.xml](/user_uploads/10155/52LAH6nPry7mreJPRL8lr-Hh/OmEncounter.structuredefinition.xml) [MohLocationDept.structuredefinition.xml](/user_uploads/10155/0V0cwPYA2pfw0Ugl4ZUieuff/MohLocationDept.structuredefinition.xml) [MohLocationBed.structuredefinition.xml](/user_uploads/10155/Z1j_OoENUSmcP3rB3mQJ2Y5U/MohLocationBed.structuredefinition.xml)
</pre></div>



<a name="153866065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153866065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153866065">(Jan 09 2017 at 06:43)</a>:</h4>
<p>what do you do to get the error?</p>



<a name="153866066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153866066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Binu DGIT <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153866066">(Jan 09 2017 at 06:44)</a>:</h4>
<div class="codehilite"><pre>{
  &quot;severity&quot;: &quot;error&quot;,
  &quot;code&quot;: &quot;processing&quot;,
  &quot;diagnostics&quot;: &quot;Element &#39;/f:Encounter.location&#39;: minimum required = 1, but only found 0&quot;,
  &quot;location&quot;: [
    &quot;/f:Encounter&quot;
  ]
},
</pre></div>



<a name="153866068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153866068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Binu DGIT <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153866068">(Jan 09 2017 at 07:44)</a>:</h4>
<p>Dear James,<br>
Can you please explain how the following codes functions..?</p>
<div class="codehilite"><pre>  if (discriminator.equals(&quot;url&quot;) &amp;&amp; criteria.getPath().equals(&quot;Extension.url&quot;)) {
      System.out.print(&quot;First condition is over , going to check second ...&quot;);
      System.out.print(&quot;element.getAttribute(url) is--&gt; &quot; + element.getAttribute(&quot;url&quot;));
      //System.out.print(&quot;((UriType) criteria.getFixed()).asStringValue())--&gt; &quot; + (((UriType) criteria.getFixed()).asStringValue())));

      System.out.println(&quot;second part.....&quot;);
      System.out.println(criteria.getFixed());

    if (!element.getAttribute(&quot;url&quot;).equals(((UriType) criteria.getFixed()).asStringValue()))                   
        return false;
  } else {
    Element value = getValueForDiscriminator(element, discriminator, criteria);
    if (!valueMatchesCriteria(value, criteria))
      return false;
  }
</pre></div>



<a name="153866076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153866076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153866076">(Jan 09 2017 at 11:05)</a>:</h4>
<p>so you are getting this error calling $validate on a HAPI server?</p>



<a name="153866077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153866077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153866077">(Jan 09 2017 at 11:05)</a>:</h4>
<p>which version?</p>



<a name="153866078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153866078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Binu DGIT <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153866078">(Jan 09 2017 at 11:29)</a>:</h4>
<p>I have tried slicing on identifiers as well. I can upload profiles but not able to send message successfully.<br>
Here I tried discriminator as "system" and a fixed value ..<br>
I have HAPI 2.0  available as FHIR server..</p>



<a name="153870532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153870532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153870532">(Feb 07 2017 at 11:52)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192834">@Binu DGIT</span> . one thing to note, it would probably be worth upgrading to the latest HAPI (2.2). There are a lot of validator fixes between 2.0 and 2.2.</p>



<a name="153870698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Profile%20with%20slice/near/153870698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Binu DGIT <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Profile.20with.20slice.html#153870698">(Feb 08 2017 at 05:03)</a>:</h4>
<p>Thank you James for the update. Hope it is included with validation for slicing..</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
