---
layout: page
title: "FHIR Chat  · option to return the xml view · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html">option to return the xml view</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153832215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832215">(Jun 09 2016 at 21:10)</a>:</h4>
<p>Hi James.   Is there a way to return the raw xml instead of the html?  My use case may be unique but I'm interested in seeing the narrative view right on the browser when I fetch a resource.</p>



<a name="153832216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832216">(Jun 09 2016 at 21:11)</a>:</h4>
<p>append _format=xml to the url</p>



<a name="153832217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832217">(Jun 09 2016 at 21:16)</a>:</h4>
<p>doesn't work- still return the html view</p>



<a name="153832218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832218">(Jun 09 2016 at 21:17)</a>:</h4>
<p>ahh oops</p>



<a name="153832233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832233">(Jun 10 2016 at 00:02)</a>:</h4>
<p>When HAPI detects that your request is coming from a browser it serves you up HTML instead of just the raw payload. There are two ways around this:</p>
<ul>
<li>HAPI supports a non standard parameter <code>_raw=true</code> which forces this to not happen</li>
<li>If what you actually want though is to just see the HTML of the narrative, you should be able to do this: <a href="http://fhirtest.uhn.ca/baseDstu3/Appointment/98975?_format=html" target="_blank" title="http://fhirtest.uhn.ca/baseDstu3/Appointment/98975?_format=html">http://fhirtest.uhn.ca/baseDstu3/Appointment/98975?_format=html</a></li>
</ul>
<p>That second one appears to not be working though. Weird. I need to investigate that.</p>



<a name="153832234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832234">(Jun 10 2016 at 00:04)</a>:</h4>
<p>Would it be better for <code>_format=xml</code> to just force raw XML instead of HTML-ifying it? I know that's how Grahame's server works and I can see the logic in it.. but that means there's no way of specifying that you explicitly want the pretty HTML version of JSON or XML, which at least I do all the time..</p>



<a name="153832247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832247">(Jun 10 2016 at 01:55)</a>:</h4>
<p>Actually, on closer inspection I guess <code>_format=html</code> is intended to force the rendered HTML view you're trying to avoid. Nevermind that part.</p>



<a name="153832250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832250">(Jun 10 2016 at 02:38)</a>:</h4>
<p>_format=xml should force raw xml in accordance with the spec. you could use _format=html/xml for htmlised xml or json. i could do that too</p>



<a name="153832251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832251">(Jun 10 2016 at 02:38)</a>:</h4>
<p>what's with getXFirstRep? is this on any repeating element?</p>



<a name="153832252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832252">(Jun 10 2016 at 02:50)</a>:</h4>
<p>Hmm, yeah, that's not a bad idea to do something like <code>html/xml</code> and <code>html/json</code>.  I'll make that change and try it out...</p>
<p>Yeah. getFooFirstRep() just returns the first repetition of a repeating field, creating it if it doesn't already exist. Semantic sugar.</p>



<a name="153832254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/option%20to%20return%20the%20xml%20view/near/153832254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/option.20to.20return.20the.20xml.20view.html#153832254">(Jun 10 2016 at 03:07)</a>:</h4>
<p>ok thanks. I'll add support for html/xml and html/json too at some stage</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
