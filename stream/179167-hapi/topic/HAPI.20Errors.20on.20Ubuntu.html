---
layout: page
title: "FHIR Chat  · HAPI Errors on Ubuntu · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20Errors.20on.20Ubuntu.html">HAPI Errors on Ubuntu</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203332933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20Errors%20on%20Ubuntu/near/203332933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ozair Bajwa <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20Errors.20on.20Ubuntu.html#203332933">(Jul 08 2020 at 22:46)</a>:</h4>
<p>Hi,<br>
I deployed HAPI in Tomcat Container in Ubuntu. It was working fine earlier.  (Built the war file in Windows and deployed in Ubuntu.)<br>
However recently I am having issues and I am not able able to launch HAPI from Ubuntu.<br>
I checked the Apache logs (Catalina..out) and saw the following Mysql errors.</p>
<p>24-Jun-2020 11:44:30.628 INFO [Abandoned connection cleanup thread] org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading Illegal access: this web application instance has been st$<br>
at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkContextClassLoaders(AbandonedConnectionCleanupThread.java:96)<br>
                at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:69)</p>
<p>I also found other errors (Mysql timezone errors)</p>
<p>[localhost-startStop-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper [SqlExceptionHelper.java:142] Cannot create PoolableConnectionFactory (The server time zone value 'PDT' is unrecognized<br>
or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value <br>
if you want to utilize time zone support.)</p>
<p>As a background, my timezone has changed from America/PDT to America/CDT since the time I first deployed the application. <br>
In order to remedy that I made the following changes:</p>
<p>Changed the Ubuntu system timezone from America/LosAngeles to America/Chicago and verified the change went through.<br>
I also checked the timezone in Mysql and it was still displaying the old time zone. since it was configured to use the system timezone, I restarted the Mysql service and the time change took effect. <br>
I can also verify that I can connect to Mysql from Ubuntu using the credentials in the Hapi (properties file).<br>
After making these changes I restarted Tomcat and I am still getting the errors. The only difference is that this time instead to 'PDT' I am getting the "The server time zone value 'CDT' is unrecognized" errors.</p>
<p>I will appreciate any help or recommendations in resolving this issue.</p>
<p>Thanks<br>
Ozair</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
