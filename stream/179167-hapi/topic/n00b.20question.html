---
layout: page
title: "FHIR Chat  · n00b question · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html">n00b question</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="239570684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239570684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239570684">(May 20 2021 at 10:59)</a>:</h4>
<p>Hi. I'm trying to run hapi on docker using this<br>
<code>docker run -p 8080:8080 -e hapi.fhir.default_encoding=json  -v c:/temp/hapi:/configs -e "--spring.config.location=file:///configs/kl.yml" hapiproject/hapi:latest</code> <br>
but I get a </p>
<div class="codehilite"><pre><span></span><code>ERROR o.s.boot.SpringApplication [SpringApplication.java:858] Application run failed
java.lang.IllegalStateException: Attempted to load Config resource &#39;file [/configs/kl.yml]&#39; via location &#39;file:///configs/kl.yml&#39; but snakeyaml was not found on the classpath
</code></pre></div>



<a name="239570708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239570708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239570708">(May 20 2021 at 10:59)</a>:</h4>
<p>Can someone advise on what I'm missing?</p>



<a name="239570844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239570844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239570844">(May 20 2021 at 11:00)</a>:</h4>
<p>I'm on docker on win10. A colleague says it works on WSL</p>



<a name="239603373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239603373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian Sass <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239603373">(May 20 2021 at 14:42)</a>:</h4>
<p>I got the same error and parsed the application.yaml for errors. Seems like it's the indentation and an extra space in front of <code>cors:</code> caused this. Removing the space got it running again for me.</p>
<div class="codehilite"><pre><span></span><code>    cors:
       allow_Credentials: true
</code></pre></div>



<a name="239611144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239611144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239611144">(May 20 2021 at 15:28)</a>:</h4>
<p>Please make an issue or PR</p>



<a name="239617215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239617215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239617215">(May 20 2021 at 16:06)</a>:</h4>
<p>Nevermind ... already fixed with <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/28c91893757c75a7eb92d1d4973c86f49821a119">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/28c91893757c75a7eb92d1d4973c86f49821a119</a></p>



<a name="239670626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239670626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239670626">(May 20 2021 at 22:46)</a>:</h4>
<p>Thank you!</p>



<a name="239670663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239670663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239670663">(May 20 2021 at 22:47)</a>:</h4>
<p>I really meant the noob part, though. since I am using a docker image I believe I am supposed to wait for this to be in the latest image, right? (I just downloaded the docker image again, the error seems to persist but I may be doing something wrong)</p>



<a name="239670902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239670902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239670902">(May 20 2021 at 22:49)</a>:</h4>
<p>HAPI Docker images are not always predictably updated on Docker Hub. I would use tags (and generally one should use tagged images). Try hapiproject/hapi:v5.3.0</p>



<a name="239700796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/239700796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#239700796">(May 21 2021 at 06:04)</a>:</h4>
<p>The problem here was the supplied config - not the Docker image FYI</p>



<a name="241658200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658200">(Jun 05 2021 at 22:03)</a>:</h4>
<p>So... trying to use the docker v5.4.0 tag that was based on the 5.4.0 tag in GitHub of <code>hapi-fhir-jpaserver-starter</code>. Running the docker image by itself with no custom config, I am getting the same error about snakeyaml. I checked out the 5.4.0 tag from github and fixed the indentation on the <code>cors</code> element, rebuilt the image, and am still getting the same snakeyaml error. I have no idea how fixing the indentation on <code>cors</code> fixed it for others...</p>



<a name="241658277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658277">(Jun 05 2021 at 22:04)</a>:</h4>
<p>Online posts seem to indicate that it is missing a dependency to snakeyaml, which makes sense to me given the error message being given. So, my next attempt is to add</p>
<div class="codehilite"><pre><span></span><code>&lt;dependency&gt;
    &lt;groupId&gt;org.yaml&lt;/groupId&gt;
    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;
    &lt;version&gt;1.28&lt;/version&gt;
&lt;/dependency&gt;
</code></pre></div>
<p>to the <code>pom.xml</code> and re-build the image</p>



<a name="241658516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658516">(Jun 05 2021 at 22:10)</a>:</h4>
<p>That resolved the problem...</p>



<a name="241658523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658523">(Jun 05 2021 at 22:10)</a>:</h4>
<p>I could push the tag to docker hub... but I'm hesitant to push a docker tag that does not align with the github tag</p>



<a name="241658526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658526">(Jun 05 2021 at 22:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> any thoughts?</p>



<a name="241658537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658537">(Jun 05 2021 at 22:11)</a>:</h4>
<p>or <span class="user-mention" data-user-id="191427">@Jens Villadsen</span></p>



<a name="241658586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658586">(Jun 05 2021 at 22:12)</a>:</h4>
<p>I had to add the dependency to snakeyaml to make it work in my own fork.</p>



<a name="241658600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658600">(Jun 05 2021 at 22:13)</a>:</h4>
<p>I think maybe the better solution would be to update <code>master</code> with a fix to the <code>cors</code> tabbing and adding the snakeyaml dependency to <code>pom.xml</code>, then re-tag 5.4.0 at the master HEAD in github, which would cause docker hub to re-build the v5.4.0 tag</p>



<a name="241658648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658648">(Jun 05 2021 at 22:14)</a>:</h4>
<p>Yeah, that might make sense.</p>



<a name="241658659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241658659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241658659">(Jun 05 2021 at 22:15)</a>:</h4>
<p>Or does that need to be 5.4.1?</p>



<a name="241659812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241659812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241659812">(Jun 05 2021 at 22:50)</a>:</h4>
<p>yah... not really sure</p>



<a name="241659822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241659822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241659822">(Jun 05 2021 at 22:51)</a>:</h4>
<p>will leave that up to <span class="user-mention" data-user-id="191319">@James Agnew</span> and or <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> <br>
I have created a PR for the dependency and explained what my intention is here: <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/248">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/248</a><br>
Just want them to agree/approve.</p>



<a name="241679759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241679759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241679759">(Jun 06 2021 at 08:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> snakeyaml was added with <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/787a1b8d0f872e08c6e21c3aa139cc547564db5a">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/787a1b8d0f872e08c6e21c3aa139cc547564db5a</a> (16 days ago) so it is already there</p>



<a name="241680276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241680276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241680276">(Jun 06 2021 at 08:24)</a>:</h4>
<p>I've answered your PR on github</p>



<a name="241697896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241697896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241697896">(Jun 06 2021 at 15:57)</a>:</h4>
<p>So, what should we do about the 5.4.0 tag then <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> ? seems like 5.4.0 is broken/invalid</p>



<a name="241697911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241697911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241697911">(Jun 06 2021 at 15:57)</a>:</h4>
<p>nm... reading the github PR comments. the answers are there</p>



<a name="241697983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241697983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241697983">(Jun 06 2021 at 15:59)</a>:</h4>
<p>with one exception...</p>



<a name="241698038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241698038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241698038">(Jun 06 2021 at 16:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> , you say "feel free to publish a new docker image". those docker images are based on github tags. do you want me to delete and re-create the tag? or do you want me to create a new 5.4.1 tag?</p>



<a name="241698055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241698055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241698055">(Jun 06 2021 at 16:01)</a>:</h4>
<p>Wouldn't a new tag be the most proper thing to do?</p>



<a name="241698120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241698120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241698120">(Jun 06 2021 at 16:02)</a>:</h4>
<p>I mean that is the easiest thing to explain</p>



<a name="241717112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241717112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241717112">(Jun 07 2021 at 00:03)</a>:</h4>
<p>Agreed. Done</p>



<a name="241732535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/n00b%20question/near/241732535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/n00b.20question.html#241732535">(Jun 07 2021 at 06:05)</a>:</h4>
<p>Ok. There is now a 5.4.1 image on docker hub that includes these changes/fixes</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
