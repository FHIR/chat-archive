---
layout: page
title: "FHIR Chat  · HAPI FHIR 5.4.0 (Pangolin) Release · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html">HAPI FHIR 5.4.0 (Pangolin) Release</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="239477919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/239477919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#239477919">(May 19 2021 at 18:54)</a>:</h4>
<p>Hi All,</p>
<p>Just a quick note that HAPI FHIR 5.4.0 (Pangolin) has been released to Maven Central and GitHub Releases.</p>
<p>Highlights of this release are shown below. See the <a href="https://hapifhir.io/hapi-fhir/docs/introduction/changelog.html">Changelog</a> for a complete list. There will be a live Webinar (recording available on-demand afterward) on May 20 2021. Details available here: <a href="https://www.smilecdr.com/quarterly-product-release-webinar-reminder">https://www.smilecdr.com/quarterly-product-release-webinar-reminder</a></p>
<h3>Security Changes</h3>
<ul>
<li>A resource exhaustion vulnerability in the HAPI FHIR JPA server was corrected. Learn more about CVE-2021-32053 <a href="https://snyk.io/vuln/SNYK-JAVA-CAUHNHAPIFHIR-1290393">here</a>. Thanks to Zachary Minneker at Security Innovation for reporting!</li>
</ul>
<h3>General Client/Server/Parser Changes</h3>
<ul>
<li>HAPI FHIR now supports OpenAPI (aka Swagger). See <a href="http://hapi.fhir.org/baseR4/swagger-ui/">here</a> for an example.</li>
<li>Normalization and Standardization interceptors have been added. These can be used to normalize selected data fields according to configurable rules prior to storage.</li>
<li>Contained resources can now reference <em>to</em> containing resources, as allowed in the FHIR Specification. Previously this direction was blocked and contained resources with no incoming reference <em>from</em> the containing resource were automatically stripped, as this style was not permitted in early versions of the FHIR specification. In addition, contained resource order will now be preserved during parsing round-trips.</li>
<li>New interceptors have been added that can automatically map terminology in response resources using HAPI FHIR terminology services, returning configurable canonical terminology in the response payload.</li>
<li>Support for the FHIR <code>Prefer: handling=lenient</code> header has been added via an optional interceptor. </li>
<li>The automatic CapabiityStatement generation has been completely rewritten for R4+ servers. CapabilityStatements now include many new data elements, such as supported profiles, revincludes, resource level operations, and more.</li>
<li>Token Search Parameters in GraphQL expressions are now correctly parsed.</li>
</ul>
<h3>JDK Changes</h3>
<ul>
<li>HAPI FHIR now supports JDK 16, and this version is used to execute our CI test suite in order to ensure continued compliance. The minimum Java version required in order to use HAPI FHIR remains JDK 8. This may be updated to JDK 11 in an upcoming release, as many of the libraries we use are now either contemplating or have already completed an upgrade to JDK 11 as a minimum requirement.</li>
</ul>
<h3>JPA Server General Changes</h3>
<ul>
<li>Support for the <code>_list</code> search parameter has been added to the JPA server</li>
<li>Support for the <code>:contained</code> modifier has been added, allowing searches to select from data in contained resources found within the resource being searches. Note that this feature is disabled by default and must be enabled if needed.</li>
<li>The JPA server now supports persisting FHIR extensions in <code>Resource.meta</code></li>
<li>Bulk Export now supports Patient- and Group- based exports</li>
<li>Auto-created reference target placeholder resources now include an extension and an identifier if one is known</li>
<li>A profiling effort led to improvements in performance when processing large FHIR Transaction bundles</li>
<li>Resources imported into a repository via NPM Packages will now attempt to preserve the resource ID defined in the source package.</li>
</ul>
<h3>JPA Server Performance Changes</h3>
<ul>
<li>Searches with only a single search parameter now generate a more streamlined SQL expression (one unnecessary JOIN was removed), improving performance.</li>
<li>A new header <code>X-Upsert-Extistence-Check</code> (note there is a typo in the name, this will be addressed in the next release of HAPI FHIR! Please be aware if you are planning on using this feature) can be added which avoids existence checks when using client assigned IDs to create new records. This can speed up performance.</li>
</ul>
<h3>JPA Server Partitioning Changes</h3>
<ul>
<li>Resource Reindexing is now supported on partitioned servers.</li>
<li>FHIR Bulk Export is now supported on partitioned servers (note that this operation is run at the system level and includes data from all partitions. Future enhancements may allow for more nuanced exports on partitioned servers.) </li>
</ul>
<h3>Terminology Server and Validation Changes</h3>
<ul>
<li>ValueSet expansion can now optionally return codes in the same hierarchy that they are defined in their source CodeSystem.</li>
<li>Validation can now be configured to return only a warning when a code is found from a CodeSystem that is unknown/unavailable to the validator.</li>
</ul>
<h3>JPA Server MDM Enhancements</h3>
<ul>
<li>A new search mdm-expansion syntax has been added to FHIR searches on MDM-enabled servers. For example <code>Observation?patient:mdm=Patient/123</code> can be used to search for Observation resources belonging to <code>Patient/123</code> but also to other MDM-linked patient records.</li>
<li>MDM matching rules can now use FHIRPath expressions as selection criteria.</li>
<li>A new syntax has been added to Group Bulk Export that allows MDM matching to be used to include matches in the group to export.</li>
<li>MDM matching rules can now match on extensions, checking the URL and Value for equality.</li>
<li>A new NUMERIC matcher has been added, allowing matching using numeric values.</li>
</ul>
<p>Cheers,<br>
James</p>



<a name="239518986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/239518986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Atterberry <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#239518986">(May 20 2021 at 01:04)</a>:</h4>
<p>Hi.  I've been using the hapi-fhir-jpaserver-starter.  I'd been using 5.3.0 and wanted to play around with 5.4.0.  I noticed that when I  changed the parent version in the pom.xml from 5.3.0 to 5.4.0, the  hapi-fhir-jpaserver-base disappeared from the maven dependency list.    Did I miss something?  Thanks.</p>



<a name="239560485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/239560485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#239560485">(May 20 2021 at 09:30)</a>:</h4>
<p>Hmm, that's weird - no, nothing like that should happen. Might be worth comparing your project with the current git master to see if there are any obvious structural changes missing</p>



<a name="239594837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/239594837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Atterberry <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#239594837">(May 20 2021 at 13:53)</a>:</h4>
<p>Thanks.  It was an IDE issue.  I upgraded to latest version and all is well.</p>



<a name="258167413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258167413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Dickie <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258167413">(Oct 19 2021 at 09:44)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191319">@James Agnew</span> </p>
<p>I'm working on Instant OpenHIE development and I've noticed a missing DockerHub tag release - v5.4.2</p>
<p>We were using Pangolin v5.4.2 as it was available as the <code>latest</code> DockerHub release but since the latest tag was updated a few weeks ago (to v5.5.1) we are now dependant on a non-existent tag.</p>
<p><strong>Could we please get this tag released on DockerHub?</strong></p>
<p>Thanks,<br>
Matt</p>



<a name="258167801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258167801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258167801">(Oct 19 2021 at 09:48)</a>:</h4>
<p><span class="user-mention" data-user-id="364091">@Matthew Dickie</span> are you talking about the HAPI FHIR jpa starter Docker image?</p>



<a name="258169773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258169773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258169773">(Oct 19 2021 at 10:06)</a>:</h4>
<p>Yes.</p>



<a name="258185077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258185077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258185077">(Oct 19 2021 at 12:24)</a>:</h4>
<p><span class="user-mention" data-user-id="194192">@Richard Stanley</span> / <span class="user-mention" data-user-id="364091">@Matthew Dickie</span>  Here's an advice: <em>Don't EVER depend on latest on anything</em>. I can make a tag on <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/83908242a5ce69618a955d2f89e4534bc86aab73#diff-9c5fb3d1b7e3b0f54bc5c4182965c4fe1f9023d449017cece3005d3f90e8e4d8">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/83908242a5ce69618a955d2f89e4534bc86aab73#diff-9c5fb3d1b7e3b0f54bc5c4182965c4fe1f9023d449017cece3005d3f90e8e4d8</a> which then <em>should</em> trigger a deploy to docker hub. Is there any specific reason why you cannot use the 5.5.1 ?</p>



<a name="258186063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258186063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258186063">(Oct 19 2021 at 12:32)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191427">@Jens Villadsen</span>. I don't know <span class="user-mention" data-user-id="364091">@Matthew Dickie</span> 's specific use for that release. But, indeed, point taken :) and I think that's the goal here.</p>



<a name="258201611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258201611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258201611">(Oct 19 2021 at 14:15)</a>:</h4>
<p><span class="user-mention" data-user-id="194192">@Richard Stanley</span> whats the goal? Not to depend on <code>latest</code> or to depend on v5.4.2?</p>



<a name="258201633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258201633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Dickie <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258201633">(Oct 19 2021 at 14:15)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191427">@Jens Villadsen</span><br>
This is the repo: <a href="https://hub.docker.com/r/hapiproject/hapi/tags">https://hub.docker.com/r/hapiproject/hapi/tags</a><br>
We did not depend on <code>latest</code> willingly, but we needed some features quickly as we were blocked and we hoped the version would be tagged before a new latest image was pushed.</p>
<p>All our testing has been done on version v5.4.2 as that's the tagged version on GitHub with the changes needed.<br>
We haven't tested our system with v5.5.1 and there's a production in-country deployment happening in two weeks so jumping to that version could be risky for us.<br>
Is this minor version well adopted?</p>



<a name="258202296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258202296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258202296">(Oct 19 2021 at 14:18)</a>:</h4>
<p><span class="user-mention" data-user-id="364091">@Matthew Dickie</span>  - you're linking to the docker repo - and that is fed from the gtihub repo. I terms of tags you need to differentiate between the HAPI framework and the HAPI FHIR JPA Starter. The starter project does not have a 5.4.2 tag: <a href="/user_uploads/10155/dRUMMD9zuPrPdWta8E4lPM-P/image.png">See image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/dRUMMD9zuPrPdWta8E4lPM-P/image.png" title="See image"><img src="/user_uploads/10155/dRUMMD9zuPrPdWta8E4lPM-P/image.png"></a></div>



<a name="258202950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258202950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258202950">(Oct 19 2021 at 14:22)</a>:</h4>
<p>I would recommend that you use v5.5.1</p>



<a name="258203169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258203169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258203169">(Oct 19 2021 at 14:23)</a>:</h4>
<p>... - and when you say production <span class="user-mention" data-user-id="364091">@Matthew Dickie</span>  ... - do you intend to go to production with the HAPI FHIR  JPA Starter stock image?</p>



<a name="258206740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258206740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Dickie <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258206740">(Oct 19 2021 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> <br>
This is my local docker image version of latest (pulled from the Dockerhub repo above):<br>
<a href="/user_uploads/10155/x35JkRcKrNRp5prd3gXQeP4j/hapi-version.png">hapi-version.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/x35JkRcKrNRp5prd3gXQeP4j/hapi-version.png" title="hapi-version.png"><img src="/user_uploads/10155/x35JkRcKrNRp5prd3gXQeP4j/hapi-version.png"></a></div><p>If possible, we'd like the HAPI FHIR server version 5.4.2 on a docker image again for the remainder of our QA process. If not, we'll make a plan to use v5.4.1 or v5.5.1.</p>
<p>Preferably, we'd like to go live with server version v5.4.2 as that's what we know, but we haven't agreed on how we are going to deploy yet though.<br>
<strong>If you have any suggestions, they would be most welcome.</strong><br>
The environment is two large servers in-country with Linux virtual machines for every service.</p>



<a name="258208678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258208678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258208678">(Oct 19 2021 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="364091">@Matthew Dickie</span>  I'm a bit puzzled here - the HAPI FHIR JPA starter server sort of an example of what you can do with the HAPI FHIR framework - as such it is not really intended for production, IMHO. For starters, there are no security restrictions on it and no compartmental limitations in regards to access to data. I myself use it as a highly effective mock in test setups where I have to interface other FHIR servers - but not production without any modifications. Surely, it delivers a lot of capabilities but I wouldn't use it for production without adding a authorization layer. Am I missing something here?</p>



<a name="258209263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258209263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258209263">(Oct 19 2021 at 14:56)</a>:</h4>
<p>I think there are a lot of users using the JPA-Starter-Server in production. I do it myself. <br>
We are facading the endpoint with an oidc filtering layer in apache.</p>



<a name="258210342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258210342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthew Dickie <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258210342">(Oct 19 2021 at 15:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> The HAPI-FHIR server will not have any ports exposed publicly - the only way to access it would be through an OpenHIM channel which requires authorisation.</p>



<a name="258213601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258213601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258213601">(Oct 19 2021 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="364091">@Matthew Dickie</span> - ok, so more like a guarded datalake. That makes sense. I'd still recommend you to use the 5.5.1</p>



<a name="258214458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258214458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258214458">(Oct 19 2021 at 15:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> how is OICD sufficient? How do you control that the queries executed against the server does not include resources that you are not allowed to read/write? The JPA starter does not evaluate whether what you are reading are according to the claims. I can't see how the OICD flow is nearly sufficient, unless the case is like <span class="user-mention" data-user-id="364091">@Matthew Dickie</span> 's. Eg. if a user does a read on eg. Observation, how do you determine that the user is related to that Observation, in hindsight? That is what the <a href="https://hapifhir.io/hapi-fhir/docs/security/authorization_interceptor.html">https://hapifhir.io/hapi-fhir/docs/security/authorization_interceptor.html</a> and <a href="https://hapifhir.io/hapi-fhir/docs/security/search_narrowing_interceptor.html">https://hapifhir.io/hapi-fhir/docs/security/search_narrowing_interceptor.html</a> are there for.</p>



<a name="258241959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258241959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258241959">(Oct 19 2021 at 17:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> my answer was a little bit too short/abstract &amp;we are not using SMART ON FHIR. We are just having some roles which have access to the whole repo, filtering for write read operations and specific operations. We are also do some filtering with an Authorization Interceptor</p>



<a name="258242362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258242362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258242362">(Oct 19 2021 at 17:53)</a>:</h4>
<p>well in that case you're not using the stock docker image if you've added a HAPI AuthorizationInterceptor</p>



<a name="258242426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258242426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258242426">(Oct 19 2021 at 17:53)</a>:</h4>
<p>and FYI <span class="user-mention" data-user-id="191451">@Patrick Werner</span> - we (my colleagues and I) are working on adding SMART evaluation as an option to the example implementation</p>



<a name="258327435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258327435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258327435">(Oct 20 2021 at 08:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258242362">said</a>:</p>
<blockquote>
<p>well in that case you're not using the stock docker image if you've added a HAPI AuthorizationInterceptor</p>
</blockquote>
<p>yes. But we war relying on the jpastarter project.</p>



<a name="258327451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258327451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258327451">(Oct 20 2021 at 08:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258242426">said</a>:</p>
<blockquote>
<p>and FYI <span class="user-mention silent" data-user-id="191451">Patrick Werner</span> - we (my colleagues and I) are working on adding SMART evaluation as an option to the example implementation</p>
</blockquote>
<p><span aria-label="hearts" class="emoji emoji-2665" role="img" title="hearts">:hearts:</span></p>



<a name="258329919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258329919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258329919">(Oct 20 2021 at 08:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191451">Patrick Werner</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258327435">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258242362">said</a>:</p>
<blockquote>
<p>well in that case you're not using the stock docker image if you've added a HAPI AuthorizationInterceptor</p>
</blockquote>
<p>yes. But we war relying on the jpastarter project.</p>
</blockquote>
<p>There's a huge difference between using the JPA starter project as a kickstarter for doing own development and using the docker image. <span class="user-mention" data-user-id="364091">@Matthew Dickie</span> is using the docker image</p>



<a name="258329975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258329975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258329975">(Oct 20 2021 at 08:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191451">Patrick Werner</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258327451">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258242426">said</a>:</p>
<blockquote>
<p>and FYI <span class="user-mention silent" data-user-id="191451">Patrick Werner</span> - we (my colleagues and I) are working on adding SMART evaluation as an option to the example implementation</p>
</blockquote>
<p><span aria-label="hearts" class="emoji emoji-2665" role="img" title="hearts">:hearts:</span></p>
</blockquote>
<p>I know <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="258330193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258330193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258330193">(Oct 20 2021 at 08:25)</a>:</h4>
<p>The hope/intention is to enable more users to think about the security model, having a SMART setup ready at hand. - and yes, it will also involve an example Keycloak / IdP - so a total docker compose setup, ready to run</p>



<a name="258335233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258335233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258335233">(Oct 20 2021 at 09:06)</a>:</h4>
<p>wow</p>



<a name="258346151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258346151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Imrie <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258346151">(Oct 20 2021 at 10:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258329919">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191451">Patrick Werner</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258327435">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258242362">said</a>:</p>
<blockquote>
<p>well in that case you're not using the stock docker image if you've added a HAPI AuthorizationInterceptor</p>
</blockquote>
<p>yes. But we war relying on the jpastarter project.</p>
</blockquote>
<p>There's a huge difference between using the JPA starter project as a kickstarter for doing own development and using the docker image. <span class="user-mention silent" data-user-id="364091">Matthew Dickie</span> is using the docker image</p>
</blockquote>
<p>Hi <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> out of interest, other than the security ramifications of not having authentication and straight http access, what would the concerns be regarding using the jpastarter Docker image in a production environment?</p>



<a name="258346812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258346812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258346812">(Oct 20 2021 at 10:48)</a>:</h4>
<p>Well - nothing.</p>



<a name="258349473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258349473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258349473">(Oct 20 2021 at 11:14)</a>:</h4>
<p><span class="user-mention" data-user-id="390311">@Peter Imrie</span> I find security pretty central when dealing with other peoples data</p>



<a name="258350604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/258350604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Imrie <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#258350604">(Oct 20 2021 at 11:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20.28Pangolin.29.20Release/near/258349473">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="390311">Peter Imrie</span> I find security pretty central when dealing with other peoples data</p>
</blockquote>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> For sure, definitely a key consideration. Just wanting to check there wasn't something else like a hard limit on record numbers or something like that.</p>



<a name="260418053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/260418053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#260418053">(Nov 05 2021 at 15:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> -&gt; <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/287">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/287</a></p>



<a name="261116178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/261116178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#261116178">(Nov 11 2021 at 10:32)</a>:</h4>
<p>just saw this, but the PR was closed?</p>



<a name="261129910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/261129910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#261129910">(Nov 11 2021 at 12:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span></p>



<a name="261172959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/261172959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#261172959">(Nov 11 2021 at 19:06)</a>:</h4>
<p>I'll let <span class="user-mention" data-user-id="191319">@James Agnew</span> comment on that</p>



<a name="261173096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/261173096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#261173096">(Nov 11 2021 at 19:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> may I suggest you try out the features of the PR by building <a href="https://github.com/trifork/hapi-fhir-jpaserver-starter/tree/feature/smart-support">https://github.com/trifork/hapi-fhir-jpaserver-starter/tree/feature/smart-support</a></p>



<a name="261230309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%205.4.0%20%28Pangolin%29%20Release/near/261230309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.205.2E4.2E0.20(Pangolin).20Release.html#261230309">(Nov 12 2021 at 09:42)</a>:</h4>
<p>Will have a look at the weekend.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
