---
layout: page
title: "FHIR Chat  · support for custom search parameter logic · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html">support for custom search parameter logic</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="206944947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206944947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206944947">(Aug 14 2020 at 15:58)</a>:</h4>
<p>I know it's possible to create custom search parameters... but can you define custom search logic in a JPA server for the custom search parameter, beyond just specifying xpath or FHIR path expressions? For example, I'd like to implement an algorithm for searching within a radius of latitude and longitude...</p>



<a name="206945475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206945475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206945475">(Aug 14 2020 at 16:02)</a>:</h4>
<p>To address the lat,lon, search: <a href="https://hapifhir.io/hapi-fhir/docs/server_jpa/search.html">https://hapifhir.io/hapi-fhir/docs/server_jpa/search.html</a></p>



<a name="206945514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206945514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206945514">(Aug 14 2020 at 16:03)</a>:</h4>
<p>Have you had a look at "near" implementation?</p>



<a name="206945562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206945562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206945562">(Aug 14 2020 at 16:03)</a>:</h4>
<p>That sounds related</p>



<a name="206945751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206945751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206945751">(Aug 14 2020 at 16:04)</a>:</h4>
<p>well, there are other examples of custom logic I'm interested in implementing</p>



<a name="206945758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206945758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206945758">(Aug 14 2020 at 16:04)</a>:</h4>
<p>not just lat/long</p>



<a name="206945766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206945766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206945766">(Aug 14 2020 at 16:05)</a>:</h4>
<p>that was just an example</p>



<a name="206945805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206945805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206945805">(Aug 14 2020 at 16:05)</a>:</h4>
<p>the root of my question remains: can I implement custom search <em>logic</em> in a JPA server, or am I limited to FHIR path and XPATH expressions?</p>



<a name="206948598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206948598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206948598">(Aug 14 2020 at 16:30)</a>:</h4>
<p>You want to search beyond the model? With FHIR path you can traverse the entire model and expressing so i cant see the limitation</p>



<a name="206949827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206949827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206949827">(Aug 14 2020 at 16:41)</a>:</h4>
<p>But yes - you can make your own logic</p>



<a name="206949830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206949830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206949830">(Aug 14 2020 at 16:41)</a>:</h4>
<p>FHIRPath is pretty good, but has it's own limitations</p>



<a name="206949894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/206949894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#206949894">(Aug 14 2020 at 16:42)</a>:</h4>
<p>do you know how to go about creating my own search logic?</p>



<a name="207012687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/support%20for%20custom%20search%20parameter%20logic/near/207012687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/support.20for.20custom.20search.20parameter.20logic.html#207012687">(Aug 15 2020 at 09:02)</a>:</h4>
<p>Have a look at eg. <a href="https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/src-html/ca/uhn/fhir/jpa/rp/r4/PatientResourceProvider.html">https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/src-html/ca/uhn/fhir/jpa/rp/r4/PatientResourceProvider.html</a> - here you have access to both the parsing of the parameters from the client and access to the underlying DAO, which means you can inject your own logic here as you please</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
