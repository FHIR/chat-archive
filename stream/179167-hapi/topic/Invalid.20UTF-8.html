---
layout: page
title: "FHIR Chat  · Invalid UTF-8 · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html">Invalid UTF-8</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154013850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Invalid%20UTF-8/near/154013850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html#154013850">(Oct 30 2018 at 21:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> if I post a $match operation to the server <a href="https://testapp.hospitalitaliano.org.ar/masterfile-federacion-service/fhir" target="_blank" title="https://testapp.hospitalitaliano.org.ar/masterfile-federacion-service/fhir">https://testapp.hospitalitaliano.org.ar/masterfile-federacion-service/fhir</a> which is a HAPI server, the response I get back is </p>
<div class="codehilite"><pre><span></span>{&quot;resourceType&quot;:&quot;OperationOutcome&quot;,&quot;issue&quot;:[{&quot;severity&quot;:&quot;error&quot;,&quot;code&quot;:&quot;processing&quot;,&quot;diagnostics&quot;:&quot;El nombre está vacío&quot;}]}
</pre></div>



<a name="154013851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Invalid%20UTF-8/near/154013851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html#154013851">(Oct 30 2018 at 21:11)</a>:</h4>
<p>however: this is not valid UTF-8 encoding. Specifically, it is ANSI not UTF-8. here's the actual bytes that comes back</p>



<a name="154013852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Invalid%20UTF-8/near/154013852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html#154013852">(Oct 30 2018 at 21:11)</a>:</h4>
<p><a href="/user_uploads/10155/esZjga1Nmb8kHTMTqIPSja5f/encoding.bin" target="_blank" title="encoding.bin">encoding.bin</a></p>



<a name="154013853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Invalid%20UTF-8/near/154013853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html#154013853">(Oct 30 2018 at 21:11)</a>:</h4>
<p>but the header says it is UTF-8</p>



<a name="154013854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Invalid%20UTF-8/near/154013854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html#154013854">(Oct 30 2018 at 21:11)</a>:</h4>
<p>(as it should)</p>



<a name="154015283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Invalid%20UTF-8/near/154015283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html#154015283">(Nov 02 2018 at 20:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> ping on this</p>



<a name="154015596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Invalid%20UTF-8/near/154015596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html#154015596">(Nov 05 2018 at 08:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  Hmm, I am unable to reproduce this locally. Do you have any details around how the error is generated internally? (i.e are they throwing an InvalidRequestException, which would be the recommended way to do this, or are they manually serializing the response, which could explain it..) Or are there any proxies between HAPI and the outside world?</p>



<a name="154015754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Invalid%20UTF-8/near/154015754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Invalid.20UTF-8.html#154015754">(Nov 05 2018 at 20:30)</a>:</h4>
<p>I don’t know. I’ll chase this up by email</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
