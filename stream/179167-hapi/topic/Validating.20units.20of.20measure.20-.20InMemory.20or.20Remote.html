---
layout: page
title: "FHIR Chat  · Validating units of measure - InMemory or Remote · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html">Validating units of measure - InMemory or Remote</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="212908378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/212908378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#212908378">(Oct 10 2020 at 09:52)</a>:</h4>
<p>I'm not sure if it's my examples but I can't get the units of measure to validate correctly (on 5.1 hapi). (Using both InMemory and OntoServer)</p>
<p>A fragment is <br>
"daysSupply": {<br>
    "value": 7,<br>
    "unit": "d",<br>
    "system": "<a href="http://unitsofmeasure.org">http://unitsofmeasure.org</a>",<br>
    "code": "d"<br>
  },</p>
<p>It seems to be the in memory that fails the validation.</p>



<a name="226655486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226655486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Meyers <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226655486">(Feb 17 2021 at 13:31)</a>:</h4>
<p>i guess this is still an issue.<br>
We are getting the following error message while validating MedicationAdministration using hapi 5.2 librarys:</p>
<p>"dosage": {<br>
                    "dose": {<br>
                               "code": "s",<br>
                   "system": "<a href="http://unitsofmeasure.org">http://unitsofmeasure.org</a>",<br>
                "unit": "sec",<br>
                "value": 25<br>
                    }} </p>
<p>leads to : </p>
<p>"severity": "error",<br>
            "code": "processing",<br>
            "diagnostics": "Validation failed for 'http://unitsofmeasure.org#s'",<br>
            "location": [<br>
                "Bundle.entry[0].resource.ofType(MedicationAdministration).dosage.dose",<br>
                "Line 31, Col 38"<br>
            ] </p>
<p>our ucum.jar version is 1.0.3</p>



<a name="226727084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226727084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226727084">(Feb 17 2021 at 21:17)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> this looks it should work to me</p>



<a name="226727403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226727403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226727403">(Feb 17 2021 at 21:20)</a>:</h4>
<p>Let me look</p>



<a name="226727876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226727876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226727876">(Feb 17 2021 at 21:23)</a>:</h4>
<p>Send me the exact file please</p>



<a name="226727921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226727921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226727921">(Feb 17 2021 at 21:23)</a>:</h4>
<p>I tried running the text above through and it gave me a formatting issue</p>



<a name="226727931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226727931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226727931">(Feb 17 2021 at 21:23)</a>:</h4>
<p><span class="user-mention" data-user-id="263786">@David Meyers</span></p>



<a name="226728256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226728256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226728256">(Feb 17 2021 at 21:26)</a>:</h4>
<p>the unit looks correct though</p>



<a name="226728284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226728284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226728284">(Feb 17 2021 at 21:26)</a>:</h4>
<p>But once you send me the file, I"ll run it locally and debug</p>



<a name="226779358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/226779358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Meyers <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#226779358">(Feb 18 2021 at 08:39)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> thx for ur offer. i will send u a file soon. btw. we're validating against the MII-specification-file for the MedicationAdministration. Perhaps the issues lies here.</p>



<a name="230688717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validating%20units%20of%20measure%20-%20InMemory%20or%20Remote/near/230688717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Meyers <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validating.20units.20of.20measure.20-.20InMemory.20or.20Remote.html#230688717">(Mar 17 2021 at 13:23)</a>:</h4>
<p>Fortunately, we were able to find the problem. The problem lay in the dependencies between the libraries. The Ucum-1.0.3.jar we used needed the xpp3-1.14c.jar and not the xmlpull-1.1.3.1.jar which we used, even though in both XML libraries the package path (org.xmlpull....) was identical.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
