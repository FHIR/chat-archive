---
layout: page
title: "FHIR Chat  · Validation and Caching · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20and.20Caching.html">Validation and Caching</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245938196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20and%20Caching/near/245938196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ann Merete Duedal Jensen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20and.20Caching.html#245938196">(Jul 14 2021 at 09:42)</a>:</h4>
<p>We experience problems/inconsistencies with the validation when referring to conformance resources and when reading the conformance resources.</p>
<p>One scenario:</p>
<ol>
<li>We post our profiles/StructureDefinitions to our HAPI FHIR server 5.4.1</li>
<li>We post an Organization instance, which fails because the profile which the Organization is referring to is not known</li>
<li>It is possible for us to read the StructureDefinition from the server</li>
<li>After 10 minutes we can post the same Organization and it is created</li>
</ol>
<p>Another scenario:</p>
<ol>
<li>We post a CodeSystem to our HAPI FHIR server 5.4.1</li>
<li>We post a ValueSet</li>
<li>We post a Questionnaire</li>
<li>We post a QuestionnaireResponse within one minute after step 1. We receive an error that one or more codes we are using are not known</li>
<li>It is possible for us to read the CodeSystem from the server and it contains the code(s) listed in the error in step 4</li>
<li>After 10 minutes we can post the QuestionnaireResponse and it is created</li>
</ol>
<p>To sum up we can look up conformance resources that just have been created, but when creating other resources that are referring to them, we receive errors or warnings.<br>
Isn't this misleading?</p>
<p>We have been looking at the caching timeouts and we are able to change them to one minute. If we set the timeouts to less than a minute, the timeout is still one minute.<br>
We have also tried to invalidate the cache of our validator and this results in a caching timeout of one minute, too.</p>
<p>Anyone who have an idea to solve this problem/inconsistency? We are not interested in disabling validation.</p>



<a name="245939110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20and%20Caching/near/245939110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20and.20Caching.html#245939110">(Jul 14 2021 at 09:53)</a>:</h4>
<p>Can you reproduce the error on <a href="http://hapi.fhir.org">hapi.fhir.org</a>?</p>



<a name="246080792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20and%20Caching/near/246080792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ann Merete Duedal Jensen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20and.20Caching.html#246080792">(Jul 15 2021 at 11:25)</a>:</h4>
<p>No, we can't reproduce the error on <a href="http://hapi.fhir.org">hapi.fhir.org</a>. But I don't know which validation support modules/validation support chain <a href="http://hapi.fhir.org">hapi.fhir.org</a> uses. Is it described somewhere?</p>



<a name="247188132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20and%20Caching/near/247188132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20and.20Caching.html#247188132">(Jul 26 2021 at 11:01)</a>:</h4>
<p><span class="user-mention" data-user-id="195005">@Ann Merete Duedal Jensen</span> probably <a href="https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#defaultprofilevalidationsupport">https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#defaultprofilevalidationsupport</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
