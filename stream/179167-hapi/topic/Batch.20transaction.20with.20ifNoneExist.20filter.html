---
layout: page
title: "FHIR Chat  · Batch transaction with ifNoneExist filter · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Batch.20transaction.20with.20ifNoneExist.20filter.html">Batch transaction with ifNoneExist filter</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229823356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Batch%20transaction%20with%20ifNoneExist%20filter/near/229823356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Batch.20transaction.20with.20ifNoneExist.20filter.html#229823356">(Mar 11 2021 at 10:00)</a>:</h4>
<p>I'm trying to send a batch transaction, but want to POST a resource only <code>ifNoneExist</code> is satisfied. But <code>ifNoneExist</code> doesn't seem to work with <code>_filter</code> parameter. Is there an alternative?</p>



<a name="229828270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Batch%20transaction%20with%20ifNoneExist%20filter/near/229828270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Batch.20transaction.20with.20ifNoneExist.20filter.html#229828270">(Mar 11 2021 at 10:43)</a>:</h4>
<p>Something like this works, </p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;type&quot;: &quot;transaction&quot;,
    &quot;entry&quot;: [
        {
            &quot;resource&quot;: { /* Group resource */ },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;POST&quot;,
                &quot;ifNoneExist&quot;: &quot;member=25&quot; // Works
            }
        }
    ]
}
</code></pre></div>
<p>but this doesn't</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;type&quot;: &quot;transaction&quot;,
    &quot;entry&quot;: [
        {
            &quot;resource&quot;: { /* Group resource */ },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;POST&quot;,
                &quot;ifNoneExist&quot;: &quot;_filter=member eq 25&quot;
            }
        }
    ]
}

// Error: Failed to parse match URL[_filter?member eq 25] - URL is invalid (must not contain spaces)&quot;
</code></pre></div>
<p>So I tried <code> "ifNoneExist": "_filter=member%20eq%2025"</code> I get <code>"Invalid match URL[_filter?member%20eq%2025] - URL has no search parameters"</code></p>



<a name="230003091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Batch%20transaction%20with%20ifNoneExist%20filter/near/230003091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Batch.20transaction.20with.20ifNoneExist.20filter.html#230003091">(Mar 12 2021 at 10:01)</a>:</h4>
<p>Does this mean filtering isn't a valid "search criteria" for conditional HTTP actions?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
