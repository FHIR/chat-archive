---
layout: page
title: "FHIR Chat  · Problem with core extensions in v. 4.0.1 · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html">Problem with core extensions in v. 4.0.1</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="197115468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197115468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Signe Hejgaard Kristoffersen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197115468">(May 11 2020 at 08:38)</a>:</h4>
<p>Hi everyone,</p>
<p>We are using v. 4.0.1 and the core extensions 'iso21090-ADXP-streetName', 'iso21090-ADXP-houseNumber', 'iso21090-ADXP-additionalLocator' and '<a href="http://hl7.org/fhir/StructureDefinition/procedure-method">http://hl7.org/fhir/StructureDefinition/procedure-method</a>'. After upgrading to 4.0.1, we now receive errors for these extensions when trying to upload them to our HAPI FHIR server. This error occurs for all four extensions:</p>
<p>HTTP 422 Unprocessable Entity: sdf-19: FHIR Specification models only use FHIR defined types [url.startsWith('<a href="http://hl7.org/fhir/StructureDefinition">http://hl7.org/fhir/StructureDefinition</a>') implies (differential.element.type.code.all(hasValue() implies matches('^[a-zA-Z0-9]+$')) and snapshot.element.type.code.all(hasValue() implies matches('^[a-zA-Z0-9]+$')))]</p>
<p>We did not have any problems using these extensions in FHIR v. 4.0.0, and we do not receive any errors, when trying to upload extensions we have created ourselves. If we change the url's of the core extensions to anything other than '<a href="http://hl7.org/fhir/StructureDefinition/">http://hl7.org/fhir/StructureDefinition/</a>...' we do not receive any errors...</p>
<p>Have you encountered the same issue, and if so - how did you solve it?</p>



<a name="197123501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197123501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197123501">(May 11 2020 at 10:04)</a>:</h4>
<p>it seems as though you are mixing 4.0.0 and 4.0.1 to me ?</p>



<a name="197131177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197131177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197131177">(May 11 2020 at 11:26)</a>:</h4>
<p><span class="user-mention" data-user-id="256845">@Signe Hejgaard Kristoffersen</span> A few of the StructureDefinition files shipped with HAPI FHIR 4.2.0 for FHIR R4 were accidentally not updated to FHIR 4.0.1 even though the rest of the artifacts were. This is likely the bug that is causing your issue.</p>
<p>This is already fixed for HAPI FHIR 5.0.0 which will be released this week</p>



<a name="197132235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197132235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vibin_chander <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197132235">(May 11 2020 at 11:37)</a>:</h4>
<p>Is there a sample resource that I can check to see how extension is mentioned in the structure defintion resource?</p>



<a name="197133278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197133278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197133278">(May 11 2020 at 11:47)</a>:</h4>
<p>There are links to the structure definitions for the various extensions from the spec page: <a href="http://hl7.org/fhir/extension-procedure-method.html">http://hl7.org/fhir/extension-procedure-method.html</a></p>



<a name="197134273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197134273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vibin_chander <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197134273">(May 11 2020 at 11:56)</a>:</h4>
<p>thanks a lot</p>



<a name="197134364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197134364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vibin_chander <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197134364">(May 11 2020 at 11:57)</a>:</h4>
<p>in HAPI using the search parameter resource we can create a custom parameter for an extension in any resource. This doesn't mean that Extension needs to be created in the Structure Definition of HAPI right?</p>



<a name="197134905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197134905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197134905">(May 11 2020 at 12:01)</a>:</h4>
<p>Assuming you mean in the HAPI FHIR JPA server then yup, that's how to do that. There is a little tutorial on this here: <a href="https://smilecdr.com/docs/fhir_repository/custom_search_parameters.html">https://smilecdr.com/docs/fhir_repository/custom_search_parameters.html</a></p>



<a name="197136064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Problem%20with%20core%20extensions%20in%20v.%204.0.1/near/197136064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vibin_chander <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Problem.20with.20core.20extensions.20in.20v.2E.204.2E0.2E1.html#197136064">(May 11 2020 at 12:13)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191319">@James Agnew</span>  im using the HAPI FHIR JPA server</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
