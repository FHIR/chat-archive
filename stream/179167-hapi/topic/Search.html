---
layout: page
title: "FHIR Chat  · Search · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html">Search</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160482040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/160482040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#160482040">(Mar 11 2019 at 14:16)</a>:</h4>
<p>In creating my HAPI server, I'm trying to discover if there is a way that I can have a resource structure aware search entry point that just handles search parameters in a dynamic way, rather than having to change my method signature for @Search operations.  I can see that there is a way to express allowUnknownParams=true to tell the URL parser to allow unknown parameters, so that seems like a good starting point.  What I'm wondering is if there is code I can reuse in the Server to parse the URL parameters given in search.</p>



<a name="160482200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/160482200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#160482200">(Mar 11 2019 at 14:19)</a>:</h4>
<p>You can get the unknown parameters from either the RequestDetails or the HttpServletRequest.</p>



<a name="160482258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/160482258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#160482258">(Mar 11 2019 at 14:20)</a>:</h4>
<p>There are loads of code snippets out there that parses HttpServletRequests</p>



<a name="160482514"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/160482514" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#160482514">(Mar 11 2019 at 14:22)</a>:</h4>
<p>Yeah, I get that (I've been using HttpServletRequest all the time for context management).  What I want to know is more about how HAPI converts request paramters to TokenParam, StringAndListParam, et cetera.  I'm certain HAPI already does this, and I can certainly find the code that does it.  What I'm asking is if there's some code that's worthy of reuse in the server to attempt this with, or should just I start from scratch.</p>



<a name="160482698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/160482698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#160482698">(Mar 11 2019 at 14:24)</a>:</h4>
<p>They are unknown parameters - so how would you know how to differentiate between them?</p>



<a name="186138320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/186138320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#186138320">(Jan 20 2020 at 22:40)</a>:</h4>
<p>Is there any way to search Patients that have not been discharged? I can't figure out how to filter by <code>Encounter.diagnosis.use</code> parameter</p>



<a name="186141117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/186141117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#186141117">(Jan 20 2020 at 23:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ^ any tips ?</p>



<a name="186171604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/186171604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#186171604">(Jan 21 2020 at 10:51)</a>:</h4>
<p>it doesn't look like the spec defines a way to do this</p>



<a name="186187947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/186187947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#186187947">(Jan 21 2020 at 14:31)</a>:</h4>
<p>Wouldn’t that be patients having an encounter that is both in-patient (Encounter.class) and in-progress (Encounter.status)?</p>



<a name="186258019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/186258019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#186258019">(Jan 22 2020 at 05:50)</a>:</h4>
<p>is there an easy way to list search parameters supported by HAPI FHIR JPA Server ? asked here <a href="#narrow/stream/179166-implementers/topic/Implementing.20.20_sort/near/186255988" title="#narrow/stream/179166-implementers/topic/Implementing.20.20_sort/near/186255988">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Implementing.20.20_sort/near/186255988</a></p>



<a name="186464876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/186464876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#186464876">(Jan 24 2020 at 05:35)</a>:</h4>
<p>Is there a way to search/filter Encounter only related to  Admitting Diagnosis ? I have tried <code>diagnosis.use=DD</code>, <code>diagnosis:use=DD</code>but can't figure it out</p>



<a name="212403767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search/near/212403767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arno Appenzeller <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.html#212403767">(Oct 06 2020 at 09:31)</a>:</h4>
<p>Hi,<br>
Maybe a bit odd question:<br>
Can HAPI only return a set of attributes of the requested resources? For example I want the list of cities of all my Patients on the HAPI FHIR server. I looked it up on the FHIR Search references but didn't find something that can do that. Maybe it's something you should process on the client side?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
