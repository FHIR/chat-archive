---
layout: page
title: "FHIR Chat  · Hapi, FHIR R4, Navigating thru MessageHeader object · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Hapi.2C.20FHIR.20R4.2C.20Navigating.20thru.20MessageHeader.20object.html">Hapi, FHIR R4, Navigating thru MessageHeader object</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205134200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Hapi%2C%20FHIR%20R4%2C%20Navigating%20thru%20MessageHeader%20object/near/205134200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zak Guler <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Hapi.2C.20FHIR.20R4.2C.20Navigating.20thru.20MessageHeader.20object.html#205134200">(Jul 27 2020 at 15:50)</a>:</h4>
<p>I am receiving a FHIR 'MessageHeader' Document and converting it to  Bundle object. I can get the values for some parameters values but not the ones nested deeper inside the object.<br>
for instance:<br>
-I can get the code value for "underlying_cause_of_death":  "C509"<br>
  as in: <br>
   List&lt;String&gt; strListUnderlying = parameters.getParameters("underlying_cause_of_death")<br>
                        .stream()<br>
                        .filter(e -&gt; e instanceof Coding)<br>
                        .map(c -&gt; ((Coding) c).getCode())<br>
                        .collect(Collectors.toList());<br>
   strListUnderlying.forEach(s -&gt; System.out.println("z..underlying_cause_of_death: " + s));</p>
<p>output: "C509"</p>
<p>But, I can't find a way to get the code(s) for "record_cause_of_death": "C509" and "I500".<br>
Can anyone help please show me how to navigate thru this object? example of the file is below.<br>
thank you<br>
Zak</p>
<p>EX: to build the Bundle object:<br>
   bundle = (Bundle) ctx.newJsonParser().parseResource(Bundle.class, reqBody);</p>
<p>FHIR Doc:<br>
{<br>
    "resourceType": "Bundle",<br>
    "id": "e1d15daa-af09-46fd-8f16-15a9b1318f6e",<br>
    "type": "message",<br>
    "timestamp": "2020-07-08T11:01:15.125631-04:00",<br>
    "entry": [<br>
        {<br>
            "fullUrl": "urn:uuid:8d19c9bc-dbd6-484a-abb1-ee6182ca79ea",<br>
            "resource": {<br>
                "resourceType": "MessageHeader",<br>
                "id": "8d19c9bc-dbd6-484a-abb1-ee6182ca79ea",<br>
                "eventUri": "<a href="http://nchs.cdc.gov/vrdr_coding">http://nchs.cdc.gov/vrdr_coding</a>",<br>
                "destination": [<br>
                    {<br>
                        "endpoint": "<a href="https://UTAH.example.com/jurisdiction/message/endpoint">https://UTAH.example.com/jurisdiction/message/endpoint</a>"<br>
                    }<br>
                ],<br>
                "source": {<br>
                    "endpoint": "<a href="http://nchs.cdc.gov/vrdr_submission">http://nchs.cdc.gov/vrdr_submission</a>"<br>
                },<br>
                "focus": [<br>
                    {<br>
                        "reference": "urn:uuid:d770590e-7968-4c1c-a1d9-82444db282c2"<br>
                    }<br>
                ]<br>
            }<br>
        },<br>
        {<br>
            "fullUrl": "urn:uuid:d770590e-7968-4c1c-a1d9-82444db282c2",<br>
            "resource": {<br>
                "resourceType": "Parameters",<br>
                "id": "d770590e-7968-4c1c-a1d9-82444db282c2",<br>
                "parameter": [<br>
                    {<br>
                        "name": "cert_no",<br>
                        "valueString": "021520"<br>
                    },<br>
                    {<br>
                        "name": "nchs_id",<br>
                        "valueString": "2019UT021520"<br>
                    },<br>
                    {<br>
                        "name": "underlying_cause_of_death",<br>
                        "valueCoding": {<br>
                            "system": "<a href="http://hl7.org/fhir/ValueSet/icd-10">http://hl7.org/fhir/ValueSet/icd-10</a>",<br>
                            "code": "C509"<br>
                        }<br>
                    },<br>
                    {<br>
                        "name": "record_cause_of_death",<br>
                        "part": [<br>
                            {<br>
                                "name": "coding",<br>
                                "valueCoding": {<br>
                                    "system": "<a href="http://hl7.org/fhir/ValueSet/icd-10">http://hl7.org/fhir/ValueSet/icd-10</a>",<br>
                                    "code": "C509"<br>
                                }<br>
                            },<br>
                            {<br>
                                "name": "coding",<br>
                                "valueCoding": {<br>
                                    "system": "<a href="http://hl7.org/fhir/ValueSet/icd-10">http://hl7.org/fhir/ValueSet/icd-10</a>",<br>
                                    "code": "I500"<br>
                                }<br>
                            }<br>
                        ]<br>
                    },<br>
                    {<br>
                        "name": "entity_axis_code",<br>
                        "part": [<br>
                            {<br>
                                "name": "lineNumber",<br>
                                "valueId": "1"<br>
                            },<br>
                            {<br>
                                "name": "coding",<br>
                                "valueCoding": {<br>
                                    "system": "<a href="http://hl7.org/fhir/ValueSet/icd-10">http://hl7.org/fhir/ValueSet/icd-10</a>",<br>
                                    "code": "I500"<br>
                                }<br>
                            }<br>
                        ]<br>
                    },<br>
                    {<br>
                        "name": "entity_axis_code",<br>
                        "part": [<br>
                            {<br>
                                "name": "lineNumber",<br>
                                "valueId": "2"<br>
                            },<br>
                            {<br>
                                "name": "coding",<br>
                                "valueCoding": {<br>
                                    "system": "<a href="http://hl7.org/fhir/ValueSet/icd-10">http://hl7.org/fhir/ValueSet/icd-10</a>",<br>
                                    "code": "C509"<br>
                                }<br>
                            }<br>
                        ]<br>
                    }<br>
                ]<br>
            }<br>
        }<br>
    ]<br>
}</p>



<a name="205185082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Hapi%2C%20FHIR%20R4%2C%20Navigating%20thru%20MessageHeader%20object/near/205185082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zak Guler <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Hapi.2C.20FHIR.20R4.2C.20Navigating.20thru.20MessageHeader.20object.html#205185082">(Jul 28 2020 at 00:36)</a>:</h4>
<p>problem resolved.<br>
            List&lt;ParametersParameterComponent&gt; param = parameters.getParameter();<br>
            List&lt;ParametersParameterComponent&gt; paramParts4 = param.get(4).getPart();<br>
            logger.info("z..paramParts4.size(): " + paramParts4.size());<br>
            logger.info("z..paramParts4.get(0).getName(): " + paramParts4.get(0).getName());<br>
            logger.info("z..paramParts4.get(0).getValue(): " + paramParts4.get(0).getValue());<br>
            logger.info("z..paramParts4.get(1).getName(): " + paramParts4.get(1).getName());<br>
            logger.info("z..paramParts4.get(1).getValue(): " + paramParts4.get(1).getValue().getChildByName("code").getValues().toString());</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
