---
layout: page
title: "FHIR Chat  · NoSuchMethodError setSliceHtml · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/NoSuchMethodError.20setSliceHtml.html">NoSuchMethodError setSliceHtml</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245185167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/NoSuchMethodError%20setSliceHtml/near/245185167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marvin Kampf <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/NoSuchMethodError.20setSliceHtml.html#245185167">(Jul 07 2021 at 14:05)</a>:</h4>
<p>Hi,</p>
<p>with the following changes in version numbers:</p>
<p><a href="/user_uploads/10155/WRsHjePGdaVZnxZKIGv8Ud1W/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/WRsHjePGdaVZnxZKIGv8Ud1W/image.png" title="image.png"><img src="/user_uploads/10155/WRsHjePGdaVZnxZKIGv8Ud1W/image.png"></a></div><p>I get the following error when trying to validate resources in Java Unit Test:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="s1">'void org.hl7.fhir.utilities.validation.ValidationMessage.setSliceHtml(java.lang.String)'</span>
java.lang.NoSuchMethodError: <span class="s1">'void org.hl7.fhir.utilities.validation.ValidationMessage.setSliceHtml(java.lang.String)'</span>
    at org.hl7.fhir.validation.BaseValidator.slicingHint<span class="o">(</span>BaseValidator.java:267<span class="o">)</span>
    at
</code></pre></div>
<p>Please help</p>
<p>CC: <span class="user-mention" data-user-id="221444">@Noemi Deppenwiese</span></p>



<a name="245185303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/NoSuchMethodError%20setSliceHtml/near/245185303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marvin Kampf <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/NoSuchMethodError.20setSliceHtml.html#245185303">(Jul 07 2021 at 14:06)</a>:</h4>
<p>Validating the same resources with validator JAR works fine. Any idea?</p>



<a name="245188555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/NoSuchMethodError%20setSliceHtml/near/245188555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marvin Kampf <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/NoSuchMethodError.20setSliceHtml.html#245188555">(Jul 07 2021 at 14:26)</a>:</h4>
<p>Full Log</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="m">2021</span>-07-07 <span class="m">15</span>:58:14.542  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> o.m.s.ume.kdbptofhir.ValidationTests     : <span class="c1">##################</span>
Mapped PROZEDUR Successfully, fhir bundle:
 <span class="o">{</span><span class="s2">"resourceType"</span>:<span class="s2">"Bundle"</span>,<span class="s2">"type"</span>:<span class="s2">"transaction"</span>,<span class="s2">"entry"</span>:<span class="o">[{</span><span class="s2">"fullUrl"</span>:<span class="s2">"Procedure/88a049fc006323b9cbb0238757f4f74185f00196c422d60e570364b34b8544b5"</span>,<span class="s2">"resource"</span>:<span class="o">{</span><span class="s2">"resourceType"</span>:<span class="s2">"Procedure"</span>,<span class="s2">"id"</span>:<span class="s2">"88a049fc006323b9cbb0238757f4f74185f00196c422d60e570364b34b8544b5"</span>,<span class="s2">"meta"</span>:<span class="o">{</span><span class="s2">"source"</span>:<span class="s2">"kdbp.fau.patprozeduren:kdbp-to-fhir:null"</span>,<span class="s2">"profile"</span>:<span class="o">[</span><span class="s2">"https://www.medizininformatik-initiative.de/fhir/core/modul-prozedur/StructureDefinition/Procedure"</span><span class="o">]}</span>,<span class="s2">"identifier"</span>:<span class="o">[{</span><span class="s2">"use"</span>:<span class="s2">"official"</span>,<span class="s2">"system"</span>:<span class="s2">"https://fhir.diz.uk-erlangen.de/identifiers/kdb-surrogate-procedure-id"</span>,<span class="s2">"value"</span>:<span class="s2">"f864da4f79c9278f428717a886464c5f4517b7b37d736ab54a1001ea76f79de5"</span><span class="o">}]</span>,<span class="s2">"status"</span>:<span class="s2">"completed"</span>,<span class="s2">"category"</span>:<span class="o">{</span><span class="s2">"coding"</span>:<span class="o">[{</span><span class="s2">"system"</span>:<span class="s2">"http://snomed.info/sct"</span>,<span class="s2">"code"</span>:<span class="s2">"387713003"</span>,<span class="s2">"display"</span>:<span class="s2">"Surgical procedure"</span><span class="o">}]}</span>,<span class="s2">"code"</span>:<span class="o">{</span><span class="s2">"coding"</span>:<span class="o">[{</span><span class="s2">"extension"</span>:<span class="o">[{</span><span class="s2">"url"</span>:<span class="s2">"http://fhir.de/StructureDefinition/seitenlokalisation"</span>,<span class="s2">"valueCoding"</span>:<span class="o">{</span><span class="s2">"system"</span>:<span class="s2">"http://fhir.de/CodeSystem/kbv/s_icd_seitenlokalisation"</span>,<span class="s2">"code"</span>:<span class="s2">"R"</span><span class="o">}}]</span>,<span class="s2">"system"</span>:<span class="s2">"http://fhir.de/CodeSystem/dimdi/ops"</span>,<span class="s2">"version"</span>:<span class="s2">"4567"</span>,<span class="s2">"code"</span>:<span class="s2">"5-790.1n"</span><span class="o">}]}</span>,<span class="s2">"subject"</span>:<span class="o">{</span><span class="s2">"reference"</span>:<span class="s2">"Patient/e0e59b2046f9575d1d692dd6fbe635fbe24fef4ed6f9cf71108b0e146d7f89ee"</span>,<span class="s2">"identifier"</span>:<span class="o">{</span><span class="s2">"type"</span>:<span class="o">{</span><span class="s2">"coding"</span>:<span class="o">[{</span><span class="s2">"system"</span>:<span class="s2">"http://terminology.hl7.org/CodeSystem/v2-0203"</span>,<span class="s2">"code"</span>:<span class="s2">"MR"</span><span class="o">}]}</span>,<span class="s2">"system"</span>:<span class="s2">"https://fhir.diz.uk-erlangen.de/identifiers/patient-id"</span>,<span class="s2">"value"</span>:<span class="s2">"100123456"</span><span class="o">}}</span>,<span class="s2">"encounter"</span>:<span class="o">{</span><span class="s2">"reference"</span>:<span class="s2">"Encounter/66c628289b145a696cc22af8413ac65236ce4500d32725741a82cd439647c155"</span>,<span class="s2">"identifier"</span>:<span class="o">{</span><span class="s2">"type"</span>:<span class="o">{</span><span class="s2">"coding"</span>:<span class="o">[{</span><span class="s2">"system"</span>:<span class="s2">"http://terminology.hl7.org/CodeSystem/v2-0203"</span>,<span class="s2">"code"</span>:<span class="s2">"VN"</span><span class="o">}]}</span>,<span class="s2">"system"</span>:<span class="s2">"https://fhir.diz.uk-erlangen.de/identifiers/encounter-id"</span>,<span class="s2">"value"</span>:<span class="s2">"301234567"</span><span class="o">}}</span>,<span class="s2">"performedDateTime"</span>:<span class="s2">"1952-07-27T09:45:00+01:00"</span><span class="o">}</span>,<span class="s2">"request"</span>:<span class="o">{</span><span class="s2">"method"</span>:<span class="s2">"PUT"</span>,<span class="s2">"url"</span>:<span class="s2">"Procedure/88a049fc006323b9cbb0238757f4f74185f00196c422d60e570364b34b8544b5"</span><span class="o">}}]}</span>
<span class="m">2021</span>-07-07 <span class="m">15</span>:58:14.560  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> ca.uhn.fhir.context.FhirContext          : Creating new FHIR context <span class="k">for</span> FHIR version <span class="o">[</span>R5<span class="o">]</span>
<span class="m">2021</span>-07-07 <span class="m">15</span>:58:14.780  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
<span class="m">2021</span>-07-07 <span class="m">15</span>:58:15.997  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
<span class="m">2021</span>-07-07 <span class="m">15</span>:58:16.083  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
<span class="m">2021</span>-07-07 <span class="m">15</span>:58:16.430  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
<span class="m">2021</span>-07-07 <span class="m">15</span>:58:17.881  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> .u.f.c.s.DefaultProfileValidationSupport : Loading CodeSystem/ValueSet from classpath: /org/hl7/fhir/r4/model/valueset/valuesets.xml
<span class="m">2021</span>-07-07 <span class="m">15</span>:58:18.332  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> .u.f.c.s.DefaultProfileValidationSupport : Loading CodeSystem/ValueSet from classpath: /org/hl7/fhir/r4/model/valueset/v2-tables.xml
<span class="m">2021</span>-07-07 <span class="m">15</span>:58:18.614  INFO <span class="m">13157</span> --- <span class="o">[</span>    Test worker<span class="o">]</span> .u.f.c.s.DefaultProfileValidationSupport : Loading CodeSystem/ValueSet from classpath: /org/hl7/fhir/r4/model/valueset/v3-codesystems.xml

<span class="s1">'void org.hl7.fhir.utilities.validation.ValidationMessage.setSliceHtml(java.lang.String)'</span>
java.lang.NoSuchMethodError: <span class="s1">'void org.hl7.fhir.utilities.validation.ValidationMessage.setSliceHtml(java.lang.String)'</span>
    at org.hl7.fhir.validation.BaseValidator.slicingHint<span class="o">(</span>BaseValidator.java:267<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.sliceMatches<span class="o">(</span>InstanceValidator.java:3590<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.matchSlice<span class="o">(</span>InstanceValidator.java:4864<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.assignChildren<span class="o">(</span>InstanceValidator.java:4784<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement<span class="o">(</span>InstanceValidator.java:4316<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.checkChildByDefinition<span class="o">(</span>InstanceValidator.java:4618<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.checkChild<span class="o">(</span>InstanceValidator.java:4371<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement<span class="o">(</span>InstanceValidator.java:4323<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.startInner<span class="o">(</span>InstanceValidator.java:4039<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.start<span class="o">(</span>InstanceValidator.java:3949<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validateResource<span class="o">(</span>InstanceValidator.java:5098<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validateContains<span class="o">(</span>InstanceValidator.java:4216<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.checkChildByDefinition<span class="o">(</span>InstanceValidator.java:4520<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.checkChild<span class="o">(</span>InstanceValidator.java:4371<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement<span class="o">(</span>InstanceValidator.java:4323<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.checkChildByDefinition<span class="o">(</span>InstanceValidator.java:4537<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.checkChild<span class="o">(</span>InstanceValidator.java:4371<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement<span class="o">(</span>InstanceValidator.java:4323<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.startInner<span class="o">(</span>InstanceValidator.java:4039<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.start<span class="o">(</span>InstanceValidator.java:3907<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validateResource<span class="o">(</span>InstanceValidator.java:5098<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validate<span class="o">(</span>InstanceValidator.java:718<span class="o">)</span>
    at org.hl7.fhir.validation.instance.InstanceValidator.validate<span class="o">(</span>InstanceValidator.java:568<span class="o">)</span>
    at org.hl7.fhir.common.hapi.validation.validator.ValidatorWrapper.validate<span class="o">(</span>ValidatorWrapper.java:158<span class="o">)</span>
    at org.hl7.fhir.common.hapi.validation.validator.FhirInstanceValidator.validate<span class="o">(</span>FhirInstanceValidator.java:235<span class="o">)</span>
    at org.hl7.fhir.common.hapi.validation.validator.BaseValidatorBridge.doValidate<span class="o">(</span>BaseValidatorBridge.java:22<span class="o">)</span>
    at org.hl7.fhir.common.hapi.validation.validator.BaseValidatorBridge.validateResource<span class="o">(</span>BaseValidatorBridge.java:45<span class="o">)</span>
    at org.hl7.fhir.common.hapi.validation.validator.FhirInstanceValidator.validateResource<span class="o">(</span>FhirInstanceValidator.java:25<span class="o">)</span>
    at ca.uhn.fhir.validation.FhirValidator.validateWithResult<span class="o">(</span>FhirValidator.java:221<span class="o">)</span>
    at ca.uhn.fhir.validation.FhirValidator.validateWithResult<span class="o">(</span>FhirValidator.java:191<span class="o">)</span>
    at org.miracum.streams.ume.kdbptofhir.ValidationTests.isValid<span class="o">(</span>ValidationTests.java:97<span class="o">)</span>
    at org.miracum.streams.ume.kdbptofhir.ValidationTests.mapProzedur<span class="o">(</span>ValidationTests.java:243<span class="o">)</span>
    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0<span class="o">(</span>Native Method<span class="o">)</span>
    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke<span class="o">(</span>NativeMethodAccessorImpl.java:62<span class="o">)</span>
    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke<span class="o">(</span>DelegatingMethodAccessorImpl.java:43<span class="o">)</span>
    at java.base/java.lang.reflect.Method.invoke<span class="o">(</span>Method.java:566<span class="o">)</span>
    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod<span class="o">(</span>ReflectionUtils.java:688<span class="o">)</span>
    at org.junit.jupiter.engine.execution.MethodInvocation.proceed<span class="o">(</span>MethodInvocation.java:60<span class="o">)</span>
    at org.junit.jupiter.engine.execution.InvocationInterceptorChain<span class="nv">$ValidatingInvocation</span>.proceed<span class="o">(</span>InvocationInterceptorChain.java:131<span class="o">)</span>
    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept<span class="o">(</span>TimeoutExtension.java:149<span class="o">)</span>
    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod<span class="o">(</span>TimeoutExtension.java:140<span class="o">)</span>
    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod<span class="o">(</span>TimeoutExtension.java:84<span class="o">)</span>
    at org.junit.jupiter.engine.execution.ExecutableInvoker<span class="nv">$ReflectiveInterceptorCall</span>.lambda<span class="nv">$ofVoidMethod$0</span><span class="o">(</span>ExecutableInvoker.java:115<span class="o">)</span>
    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda<span class="nv">$invoke$0</span><span class="o">(</span>ExecutableInvoker.java:105<span class="o">)</span>
    at org.junit.jupiter.engine.execution.InvocationInterceptorChain<span class="nv">$InterceptedInvocation</span>.proceed<span class="o">(</span>InvocationInterceptorChain.java:106<span class="o">)</span>
    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed<span class="o">(</span>InvocationInterceptorChain.java:64<span class="o">)</span>
    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke<span class="o">(</span>InvocationInterceptorChain.java:45<span class="o">)</span>
    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke<span class="o">(</span>InvocationInterceptorChain.java:37<span class="o">)</span>
    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke<span class="o">(</span>ExecutableInvoker.java:104<span class="o">)</span>
    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke<span class="o">(</span>ExecutableInvoker.java:98<span class="o">)</span>
    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda<span class="nv">$invokeTestMethod$6</span><span class="o">(</span>TestMethodTestDescriptor.java:210<span class="o">)</span>
    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute<span class="o">(</span>ThrowableCollector.java:73<span class="o">)</span>
    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod<span class="o">(</span>TestMethodTestDescriptor.java:206<span class="o">)</span>
    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute<span class="o">(</span>TestMethodTestDescriptor.java:131<span class="o">)</span>
    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute<span class="o">(</span>TestMethodTestDescriptor.java:65<span class="o">)</span>
    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda<span class="nv">$executeRecursively$5</span><span class="o">(</span>NodeTestTask.java:139<span class="o">)</span>
    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute<span class="o">(</span>ThrowableCollector.java:73<span class="o">)</span>
    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda<span class="nv">$executeRecursively$7</span><span class="o">(</span>NodeTestTask.java:129<span class="o">)</span>
    at org.junit.platform.engine.support.hierarchical.Node.around<span class="o">(</span>Node.java:137<span class="o">)</span>
    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda<span class="nv">$executeRecursively$8</span><span class="o">(</span>NodeTestTask.java:127<span class="o">)</span>
    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute<span class="o">(</span>ThrowableCollector.java:73<span class="o">)</span>
    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively<span class="o">(</span>NodeTestTask.java:1
</code></pre></div>



<a name="246467348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/NoSuchMethodError%20setSliceHtml/near/246467348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marvin Kampf <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/NoSuchMethodError.20setSliceHtml.html#246467348">(Jul 19 2021 at 15:07)</a>:</h4>
<p>Ping?</p>



<a name="246468144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/NoSuchMethodError%20setSliceHtml/near/246468144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/NoSuchMethodError.20setSliceHtml.html#246468144">(Jul 19 2021 at 15:13)</a>:</h4>
<p>Im pretty sure that the validator jar is a bit ahead of the version used by HAPI. Can you reproduce the error on the HAPI test server?</p>



<a name="246533051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/NoSuchMethodError%20setSliceHtml/near/246533051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/NoSuchMethodError.20setSliceHtml.html#246533051">(Jul 20 2021 at 00:57)</a>:</h4>
<p>Hapi only gets updated every 2 months, any changes to the validator do not happen until then. if you want to test, please use the jar in the core validator project or <a href="http://validator.fhir.org">validator.fhir.org</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
