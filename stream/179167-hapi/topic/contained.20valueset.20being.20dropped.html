---
layout: page
title: "FHIR Chat  · contained valueset being dropped · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/contained.20valueset.20being.20dropped.html">contained valueset being dropped</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="266895136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/contained%20valueset%20being%20dropped/near/266895136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/contained.20valueset.20being.20dropped.html#266895136">(Jan 05 2022 at 03:54)</a>:</h4>
<p>Our contained valueset(s) are being dropped when the questionnaire resource is created in our FHIR server (HAPI R4 version 5.0.2), whether pasted directly into the CRUD operations tab or sent as a POST via Postman. I get back a 201 Created response, so everything appears to have happened correctly. The questionnaire resource looks fine in our HAPI server, except it is missing the contained valueset(s).</p>
<p>The contained valueset(s) are not dropped when the same questionnaire resource is loaded into <a href="http://hapi.fhir.org">hapi.fhir.org</a> (see for example <a href="http://hapi.fhir.org/baseR4/Questionnaire/2736623">http://hapi.fhir.org/baseR4/Questionnaire/2736623</a>)</p>
<p>Is there something wrong with our HAPI server?   Is there anything that I should look at in the conformance statement?</p>



<a name="266912733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/contained%20valueset%20being%20dropped/near/266912733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/contained.20valueset.20being.20dropped.html#266912733">(Jan 05 2022 at 09:17)</a>:</h4>
<p><span class="user-mention" data-user-id="237340">@Diane</span> start by updating your local HAPI FHIR server. The community can deliver you the best kind of support if you are on the latest released version of the framework</p>



<a name="267006484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/contained%20valueset%20being%20dropped/near/267006484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/contained.20valueset.20being.20dropped.html#267006484">(Jan 05 2022 at 23:25)</a>:</h4>
<p>Yes. That makes sense.   When we installed our HAPI FHIR initially, we got stuck for several weeks with no progress.  Our team has software developers but no one with Java or server expertise. We finally had to engage a 3rd party to create a cloud image for us in Docker.   Is the upgrade similar in difficulty to a new install?   If so, we may have to get the 3rd party back.  We run the JPA Server.  Is this the upgrade process <a href="https://hapifhir.io/hapi-fhir/docs/server_jpa/upgrading.html">https://hapifhir.io/hapi-fhir/docs/server_jpa/upgrading.html</a>  or does that only upgrade the JPA  but not the HAPI?    Since our project is a demo only (with no real data), should we just do a clean install of the lastest version?  Would that be easier?</p>



<a name="267006665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/contained%20valueset%20being%20dropped/near/267006665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/contained.20valueset.20being.20dropped.html#267006665">(Jan 05 2022 at 23:27)</a>:</h4>
<p>HAPI FHIR is already distributed as a docker image at <a href="https://hub.docker.com/r/hapiproject/hapi">https://hub.docker.com/r/hapiproject/hapi</a></p>



<a name="267006802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/contained%20valueset%20being%20dropped/near/267006802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/contained.20valueset.20being.20dropped.html#267006802">(Jan 05 2022 at 23:28)</a>:</h4>
<p><a href="https://hapifhir.io/hapi-fhir/docs/server_jpa/upgrading.html">https://hapifhir.io/hapi-fhir/docs/server_jpa/upgrading.html</a> documents the process for migrating the database from previous versions to newer versions</p>



<a name="267006958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/contained%20valueset%20being%20dropped/near/267006958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/contained.20valueset.20being.20dropped.html#267006958">(Jan 05 2022 at 23:30)</a>:</h4>
<p>You'll have to do the database migration if you would like the data to survive when using newer versions of the HAPI FHIR server</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
