---
layout: page
title: "FHIR Chat  · Unknown code {urn:ietf:bcp:47}de for ‘urn:ietf:bcp:47#de’ · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unknown.20code.20.7Burn.3Aietf.3Abcp.3A47.7Dde.20for.20.E2.80.98urn.3Aietf.3Abcp.3A47.23de.E2.80.99.html">Unknown code {urn:ietf:bcp:47}de for ‘urn:ietf:bcp:47#de’</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="248397697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unknown%20code%20%7Burn%3Aietf%3Abcp%3A47%7Dde%20for%20%E2%80%98urn%3Aietf%3Abcp%3A47%23de%E2%80%99/near/248397697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Dimitrov <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unknown.20code.20.7Burn.3Aietf.3Abcp.3A47.7Dde.20for.20.E2.80.98urn.3Aietf.3Abcp.3A47.23de.E2.80.99.html#248397697">(Aug 04 2021 at 19:35)</a>:</h4>
<p>Hi,  I’m using a local hapi server which is in a docker (<a href="https://hub.docker.com/r/hapiproject/hapi">https://hub.docker.com/r/hapiproject/hapi</a>) and also additionally I’m using for some testing purposes the public hapi FHIR server (<a href="http://hapi.fhir.org/baseR4">http://hapi.fhir.org/baseR4</a>). On both servers I’m getting the 'Unknown code {urn:ietf:bcp:47}de for ‘urn:ietf:bcp:47#de’' after trying to validate a bundle against a profile.</p>
<p>Here is the snippet of the Bundle which is causing the error:</p>
<div class="codehilite"><pre><span></span><code>...
&lt;communication&gt;
          &lt;language&gt;
            &lt;coding&gt;
              &lt;system value=&quot;urn:ietf:bcp:47&quot;/&gt;
              &lt;code value=&quot;de&quot;/&gt;
            &lt;/coding&gt;
          &lt;/language&gt;
          &lt;preferred value=&quot;true&quot;/&gt;
&lt;/communication&gt;
...
</code></pre></div>
<p>Would somebody know how I could resolve the error?  Also which validator is actually built into HAPI?</p>



<a name="248402601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unknown%20code%20%7Burn%3Aietf%3Abcp%3A47%7Dde%20for%20%E2%80%98urn%3Aietf%3Abcp%3A47%23de%E2%80%99/near/248402601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unknown.20code.20.7Burn.3Aietf.3Abcp.3A47.7Dde.20for.20.E2.80.98urn.3Aietf.3Abcp.3A47.23de.E2.80.99.html#248402601">(Aug 04 2021 at 20:16)</a>:</h4>
<p>It may be possible to resolve the error by loading content for the <code>urn:ietf:bcp:47</code> code system.</p>
<p>Looks like the public HAPI server has a <code>urn:ietf:bcp:47</code> CodeSystem resource, but the CodeSystem includes no CodeSystem.concept values, so it's unable to validate the <code>de</code> code.</p>
<div class="codehilite"><pre><span></span><code>curl --silent --request GET --url &#39;http://hapi.fhir.org/baseR4/CodeSystem?system=urn:ietf:bcp:47&#39;
curl --silent --request GET --url &#39;http://hapi.fhir.org/baseR4/CodeSystem/v3-ietf3066/$validate-code?code=de&#39;
</code></pre></div>



<a name="248403986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unknown%20code%20%7Burn%3Aietf%3Abcp%3A47%7Dde%20for%20%E2%80%98urn%3Aietf%3Abcp%3A47%23de%E2%80%99/near/248403986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unknown.20code.20.7Burn.3Aietf.3Abcp.3A47.7Dde.20for.20.E2.80.98urn.3Aietf.3Abcp.3A47.23de.E2.80.99.html#248403986">(Aug 04 2021 at 20:28)</a>:</h4>
<p>You can't have a comprehensive list of values in the valueset. It's an "infinite" list of values. *You could have a list I suppose, it would just be huge. Your validator has to know the logic to know if the value is conformant. Looks like HAPI doesn't know the logic pattern to test validity.</p>



<a name="248487845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Unknown%20code%20%7Burn%3Aietf%3Abcp%3A47%7Dde%20for%20%E2%80%98urn%3Aietf%3Abcp%3A47%23de%E2%80%99/near/248487845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Dimitrov <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Unknown.20code.20.7Burn.3Aietf.3Abcp.3A47.7Dde.20for.20.E2.80.98urn.3Aietf.3Abcp.3A47.23de.E2.80.99.html#248487845">(Aug 05 2021 at 14:49)</a>:</h4>
<p>I tried uploading a CodeSystem (<a href="https://terminology.hl7.org/1.0.0//CodeSystem-v3-ietf3066.html">https://terminology.hl7.org/1.0.0//CodeSystem-v3-ietf3066.html</a>) and a ValueSet (<a href="http://hl7.org/fhir/R4/valueset-all-languages.html">http://hl7.org/fhir/R4/valueset-all-languages.html</a>), but both seem to not have fixed the issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
