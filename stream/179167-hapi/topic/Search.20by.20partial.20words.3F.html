---
layout: page
title: "FHIR Chat  · Search by partial words? · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html">Search by partial words?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="170761254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/170761254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#170761254">(Jul 12 2019 at 22:51)</a>:</h4>
<p>Is there any support in the HAPI FHIR server for searching by partial words?  With data set we get results for Observation?_content=smoker but not for Observation?_content=smoke.  Ideally I would like to start getting results with _content=s.</p>



<a name="170761800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/170761800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#170761800">(Jul 12 2019 at 23:03)</a>:</h4>
<p>Depends on the server:</p>
<blockquote>
<p>Just like string parameters using the :text modifier, these parameters SHOULD support a sophisticated search functionality of the type offered by typical text indexing services. The value of the parameter is a text-based search, which may involve searching multiple words with thesaurus and proximity considerations, and logical operations such as AND, OR etc.</p>
</blockquote>



<a name="170903270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/170903270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#170903270">(Jul 15 2019 at 15:25)</a>:</h4>
<p>Since I am not writing a server I really wish that SHOULD were a MUST.  :-)  It is hard to write a general-use client when server support varies so much. But, I was really was asking in particular about the HAPI server.</p>



<a name="170977386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/170977386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#170977386">(Jul 16 2019 at 11:46)</a>:</h4>
<p>We're (the FHIR standard) trying to make things easy for a client, and move the complexity to the server. For a generic client that connects to many servers, the complexity currently lies with the client. The various differences in support reminds me of the 'webbrowser specific code' that has/had to be developed. We may need a server-side profile which the community, the creators of clients, should demand the servers sign up to. According to the FHIR spec they don't have to do so, but they could volunteer  to sign up to it - it would give generic clients just more certainty that a certain set of functionality will be present.</p>



<a name="170981346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/170981346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#170981346">(Jul 16 2019 at 12:40)</a>:</h4>
<p>well, we've tried several times to get impetus around this, but failed. Still, feel free to have another try</p>



<a name="171083945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/171083945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#171083945">(Jul 17 2019 at 14:36)</a>:</h4>
<p>As far as HAPI is concerned- The partial word support thing is tough. We use Lucene to power <code>_content</code>, and lucene is very capable given the right configuration. It could do partial searches, fuzzy/phonetic searches, right and nickname searches even, but it needs to be set up with appropriate indexing.. and that indexing takes up lots of space if you want your searches to be very flexible.</p>
<p>I've tried to come up with sensible defaults in HAPI for how Lucene indexes, but one thing that is annoying about Hibernate Search (which is how we currently use Lucene)- it is really hard to change the way it indexes without recompiling your code. So  it's hard for a hapi user to change it.</p>
<p>Probably what we need to do is to switch over to using elasticsearch instead, which is much easier to configure without having to move the earth. This work is planned, although not yet scheduled.</p>



<a name="171261967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/171261967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xiaocheng Luan <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#171261967">(Jul 19 2019 at 14:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Does HAPI support the _filter parameter for advanced search? I tried a few examples but can't get it to work so far.</p>



<a name="171262148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/171262148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#171262148">(Jul 19 2019 at 14:31)</a>:</h4>
<p>In aidbox we introduced <code>_ilike</code> search parameter  - <a href="https://docs.aidbox.app/api/search#_ilike-search-non-fhir" target="_blank" title="https://docs.aidbox.app/api/search#_ilike-search-non-fhir">https://docs.aidbox.app/api/search#_ilike-search-non-fhir</a>. Probably you can port it :)</p>



<a name="171266165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/171266165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#171266165">(Jul 19 2019 at 15:17)</a>:</h4>
<p>@nicola Does your full text "_content" search do partial words?</p>



<a name="171283996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/171283996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#171283996">(Jul 19 2019 at 18:52)</a>:</h4>
<p><span class="user-mention" data-user-id="195343">@Xiaocheng Luan</span> - There is an open PR for implementing <code>_filter</code> but it's not yet merged (it is a messy merge and I keep having other priorities come up.. :( )</p>



<a name="171285488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/171285488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#171285488">(Jul 19 2019 at 19:09)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span> no _content uses postgresql fulltext search, _ilike does this</p>



<a name="171285603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/171285603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#171285603">(Jul 19 2019 at 19:10)</a>:</h4>
<p>but this is non-standart FHIR search param</p>



<a name="171285762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20by%20partial%20words%3F/near/171285762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xiaocheng Luan <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20by.20partial.20words.3F.html#171285762">(Jul 19 2019 at 19:13)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="195343">Xiaocheng Luan</span> - There is an open PR for implementing <code>_filter</code> but it's not yet merged (it is a messy merge and I keep having other priorities come up.. :( )</p>
</blockquote>
<p>Thanks, understand, looking forward to it!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
