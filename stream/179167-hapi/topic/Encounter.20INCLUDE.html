---
layout: page
title: "FHIR Chat  · Encounter INCLUDE · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Encounter.20INCLUDE.html">Encounter INCLUDE</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153857772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Encounter%20INCLUDE/near/153857772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes Ulrich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Encounter.20INCLUDE.html#153857772">(Nov 18 2016 at 14:33)</a>:</h4>
<p>Hey! I'm working with the include feature on the Encounter resource and discovered some inconsistencies. Running the following snippet does not return any resources besides the original resource: </p>
<p>bundle = client.search().forResource(Encounter.class)<br>
                    .where(Encounter.RES_ID.matches().value(new IdDt(url).getIdPart()))<br>
                    .include(Encounter.INCLUDE_ALL)<br>
                    .execute();</p>
<p>Additionally there is the possibility of adding Encounter.INCLUDE_CONDITION, but looking at the Encounter spec, I'm not sure which one that should be! Any thoughts on that?</p>
<p>PS: And how can I can format code snippets in here? </p>



<a name="153858121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Encounter%20INCLUDE/near/153858121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes Ulrich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Encounter.20INCLUDE.html#153858121">(Nov 22 2016 at 11:47)</a>:</h4>
<p>I ran into a "ca.uhn.fhir.rest.server.exceptions.InternalErrorException: HTTP 500 Server Error" using the resource.INCLUDE, if the referenced instances aren't stored on the same server. E.g. an encounter is stored on server A and contains a reference to a patient which is stored on server B. Is there a way to call the external reference asynchronously? </p>



<a name="153859089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Encounter%20INCLUDE/near/153859089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Encounter.20INCLUDE.html#153859089">(Nov 30 2016 at 02:52)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="193647">@Hannes Ulrich</span> , is this issue happening against our public server, or a local server? If local, is it HAPI JPA or a plain HAPI server?</p>
<p>If you want to format a snippet, just wrap it in three backticks before and after the snippet (backtick is the key to the left of the 1 on a US English keyboard.. not sure on others)</p>



<a name="153859263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Encounter%20INCLUDE/near/153859263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes Ulrich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Encounter.20INCLUDE.html#153859263">(Nov 30 2016 at 14:54)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191319">@James Agnew</span> , it is a local HAPI JPA server, version 2.1. The other server is a Spark. </p>



<a name="153859630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Encounter%20INCLUDE/near/153859630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Encounter.20INCLUDE.html#153859630">(Dec 01 2016 at 17:44)</a>:</h4>
<p>Hi Hannes,</p>
<p>This turned out to be a bug in HAPI. I've checked in a <a href="https://github.com/jamesagnew/hapi-fhir/commit/ffefb79bf19ae70dc7f5cb5a9e5aa2b343c7c670" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/commit/ffefb79bf19ae70dc7f5cb5a9e5aa2b343c7c670">fix</a> :)</p>



<a name="153859881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Encounter%20INCLUDE/near/153859881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hannes Ulrich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Encounter.20INCLUDE.html#153859881">(Dec 02 2016 at 11:09)</a>:</h4>
<p>Hi James, thanks for the quick fix! </p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
