---
layout: page
title: "FHIR Chat  · Oracle ORA-01975 error when iterating over large data sets · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Oracle.20ORA-01975.20error.20when.20iterating.20over.20large.20data.20sets.html">Oracle ORA-01975 error when iterating over large data sets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="273520754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Oracle%20ORA-01975%20error%20when%20iterating%20over%20large%20data%20sets/near/273520754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Atterberry <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Oracle.20ORA-01975.20error.20when.20iterating.20over.20large.20data.20sets.html#273520754">(Feb 28 2022 at 17:01)</a>:</h4>
<p>We are iterating over a large dataset, over a million records. As we go through the links to get the next set of resource we encounter the Oracle message ORA-01975 Maximum number of expressions in a list is 1000. Has anyone seen this and does it have anything to do with configuration settings?   Is this something we can change on the server side with configuration? <span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="273849621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Oracle%20ORA-01975%20error%20when%20iterating%20over%20large%20data%20sets/near/273849621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Atterberry <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Oracle.20ORA-01975.20error.20when.20iterating.20over.20large.20data.20sets.html#273849621">(Mar 02 2022 at 17:58)</a>:</h4>
<p>We were able to get past this error by upgrading to 5.6.2, however  we have may thousands of resources that need to be returned.  We seem to max out at about 3000 records and there are about 7000  The max page size is set to 1000 .  We use the following to get the resources</p>
<div class="codehilite"><pre><span></span><code>    Bundle resourceBundle = ourClient.search().forResource(Patient.class)
            .returnBundle(Bundle.class)
            .count(500)
            .totalMode(SearchTotalModeEnum.ACCURATE)
            .execute();
</code></pre></div>

<p>We loop and follow all the links , but don't get all the resources.  Is there some documentation on how do this correctly as we are not getting all the resources.</p>
<p>Thanks.  <span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="274099440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Oracle%20ORA-01975%20error%20when%20iterating%20over%20large%20data%20sets/near/274099440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Oracle.20ORA-01975.20error.20when.20iterating.20over.20large.20data.20sets.html#274099440">(Mar 04 2022 at 09:06)</a>:</h4>
<p>I am facing the similar issue: <a href="#narrow/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination">https://chat.fhir.org/#narrow/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination</a><br>
There seems to be a bug with pagination. Could also reproduce this with a SMILE Server.</p>



<a name="274099480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Oracle%20ORA-01975%20error%20when%20iterating%20over%20large%20data%20sets/near/274099480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Oracle.20ORA-01975.20error.20when.20iterating.20over.20large.20data.20sets.html#274099480">(Mar 04 2022 at 09:06)</a>:</h4>
<p>At some point the server stops adding a next link to the page</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
