---
layout: page
title: "FHIR Chat  · how to implement slice constraint · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/how.20to.20implement.20slice.20constraint.html">how to implement slice constraint</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157108167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/how%20to%20implement%20slice%20constraint/near/157108167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dmitri Ilyin <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/how.20to.20implement.20slice.20constraint.html#157108167">(Jan 29 2019 at 14:25)</a>:</h4>
<p>Hi,</p>
<p>I have to implment a contraint on practitioner Identifier element.<br>
My profile looks like:</p>
<p>&lt;differential&gt;<br>
    ........<br>
    &lt;element id="Practitioner.identifier"&gt;<br>
      &lt;path value="Practitioner.identifier" /&gt;<br>
      &lt;slicing&gt;<br>
        &lt;discriminator&gt;<br>
          &lt;type value="value" /&gt;<br>
          &lt;path value="system" /&gt;<br>
        &lt;/discriminator&gt;<br>
        &lt;rules value="closed" /&gt;<br>
      &lt;/slicing&gt;<br>
      &lt;min value="1" /&gt;<br>
      &lt;max value="1" /&gt;<br>
      &lt;mustSupport value="true" /&gt;<br>
    &lt;/element&gt;<br>
    &lt;element id="Practitioner.identifier:LANR"&gt;<br>
      &lt;path value="Practitioner.identifier" /&gt;<br>
      &lt;sliceName value="LANR" /&gt;<br>
      &lt;min value="1" /&gt;<br>
      &lt;max value="1" /&gt;<br>
      &lt;mustSupport value="true" /&gt;<br>
    &lt;/element&gt;<br>
    &lt;element id="Practitioner.identifier:LANR.system"&gt;<br>
      &lt;path value="Practitioner.identifier.system" /&gt;<br>
      &lt;min value="1" /&gt;<br>
      &lt;fixedUri value="<a href="http://fhir.de/NamingSystem/kbv/lanr" target="_blank" title="http://fhir.de/NamingSystem/kbv/lanr">http://fhir.de/NamingSystem/kbv/lanr</a>" /&gt;<br>
      &lt;mustSupport value="true" /&gt;<br>
    &lt;/element&gt;<br>
    &lt;element id="Practitioner.identifier:LANR.value"&gt;<br>
      &lt;path value="Practitioner.identifier.value" /&gt;<br>
      &lt;mustSupport value="true" /&gt;<br>
      &lt;min value="1" /&gt;<br>
    &lt;/element&gt;<br>
    .......<br>
&lt;/differential&gt;</p>
<p>I have not realized what HAPI offers here.<br>
I have realized how extentions works with Annotations, but not how constraints could be implemented.<br>
Any suggestions or help are very appreciated.</p>
<p>Using FHIR practitioner resource i could make it just like this:<br>
practitioner.addIdentifier().setSystem("http://fhir.de/NamingSystem/kbv/lanr").setValue("1234567");</p>
<p>But Practitioner without profile allows me to add other Idetifier, since it is a list.</p>
<p>I would like to have a practitioner implementation with only one Identifier. <br>
Actually even with Element of StringType with special name: "LANR" for convinience, since  system has fix value and hoping that HAPI deserialize this Element automaticaly. </p>
<p>So, ideally i want to have practitioner.setLanr() and practitioner.getLanr() methods. </p>
<p>I could use the method as simply wrapper and do something like: </p>
<p>setLanr(String value) {<br>
    getIdentifierFirstRep().setSystem("http://fhir.de/NamingSystem/kbv/lanr").setValue(value);<br>
}<br>
getLanr() {<br>
    getIdentifierFirstRep().getValue();<br>
}</p>
<p>So, this methods were just for convinience here. To prevent the input of next Identifier i could declare addIdentifier() method as private and so on. <br>
But are there any better way to do this with HAPI?  </p>
<p>thanks and regards<br>
Dmitri</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
