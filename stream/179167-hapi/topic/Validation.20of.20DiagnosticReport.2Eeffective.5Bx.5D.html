---
layout: page
title: "FHIR Chat  · Validation of DiagnosticReport.effective[x] · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D.html">Validation of DiagnosticReport.effective[x]</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203265453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20of%20DiagnosticReport.effective%5Bx%5D/near/203265453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D.html#203265453">(Jul 08 2020 at 13:16)</a>:</h4>
<p>Hi all,<br>
 this is part of a new profile of DiagnosticReport, where effective[x] is mandatory:</p>
<div class="codehilite"><pre><span></span><code>        &quot;id&quot;: &quot;DiagnosticReport.effective[x]&quot;,
        &quot;path&quot;: &quot;DiagnosticReport.effective[x]&quot;,
        &quot;short&quot;: &quot;Clinically relevant time/time-period for report&quot;,
        &quot;definition&quot;: &quot;The time or time-period the observed values are related to. When the subject of the report is a patient, this is usually either the time of the procedure or of specimen collection(s), but very often the source of the date/time is not known, only the date/time itself.&quot;,
        &quot;comment&quot;: &quot;If the diagnostic procedure was performed on the patient, this is the time it was performed. If there are specimens, the diagnostically relevant time can be derived from the specimen collection times, but the specimen information is not always available, and the exact relationship between the specimens and the diagnostically relevant time is not always automatic.&quot;,
        &quot;requirements&quot;: &quot;Need to know where in the patient history to file/present this report.&quot;,
        &quot;alias&quot;: [
          &quot;Observation time&quot;,
          &quot;Effective Time&quot;,
          &quot;Occurrence&quot;
        ],
        &quot;min&quot;: 1,
        &quot;max&quot;: &quot;1&quot;,
        &quot;base&quot;: {
          &quot;path&quot;: &quot;DiagnosticReport.effective[x]&quot;,
          &quot;min&quot;: 0,
          &quot;max&quot;: &quot;1&quot;
        },
        &quot;type&quot;: [
          {
            &quot;code&quot;: &quot;dateTime&quot;
          },
          {
            &quot;code&quot;: &quot;Period&quot;
          }
</code></pre></div>


<p>This is the JSON that I'm using for validation: </p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;DiagnosticReport&quot;,
  &quot;meta&quot;: {
    &quot;profile&quot;: [
      &quot;http://interopehrate.org/fhir/StructureDefinition/DiagnosticReport-ImagingReportSingleImage-IEHR&quot;
    ]
  },
  &quot;language&quot;: &quot;it-IT&quot;,
  &quot;status&quot;: &quot;final&quot;,
  &quot;category&quot;: [
    {
      &quot;coding&quot;: [
        {
          &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0074&quot;,
          &quot;code&quot;: &quot;RAD&quot;
        }
      ]
    }
  ],
  &quot;code&quot;: {
    &quot;coding&quot;: [
      {
        &quot;system&quot;: &quot;http://loinc.org&quot;,
        &quot;code&quot;: &quot;36554-4&quot;,
        &quot;display&quot;: &quot;XR Chest Single view&quot;
      }
    ]
  },
  &quot;subject&quot;: {
    &quot;reference&quot;: &quot;Patient/22&quot;
  },
  &quot;effectiveDateTime&quot;: &quot;2019-04-18T11:45:00+01:00&quot;,
  &quot;performer&quot;: [
    {
      &quot;reference&quot;: &quot;Organization/54&quot;
    }
  ]
}
</code></pre></div>


<p>and this is the error I get: "Element 'Bundle.entry[0].resource.effective[x]': minimum required = 1, but only found 0"</p>
<p>Could anyone please help me, to understand why the validator does not take into account the value of attribute effectiveDateTime?</p>
<p>Cheers and thanks<br>
Alessio Graziani</p>



<a name="203300491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20of%20DiagnosticReport.effective%5Bx%5D/near/203300491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D.html#203300491">(Jul 08 2020 at 17:56)</a>:</h4>
<p>Can you try this on <a href="http://hapi.fhir.org">hapi.fhir.org</a>?</p>
<p>A few fixes have gone into the validator lately- this may be a bug that was recently fixed</p>



<a name="203367687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20of%20DiagnosticReport.effective%5Bx%5D/near/203367687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D.html#203367687">(Jul 09 2020 at 09:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191319">James Agnew</span> <a href="#narrow/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D/near/203300491">said</a>:</p>
<blockquote>
<p>Can you try this on <a href="http://hapi.fhir.org">hapi.fhir.org</a>?</p>
<p>A few fixes have gone into the validator lately- this may be a bug that was recently fixed</p>
</blockquote>
<p>Ok, I'll try. I forgot to write that I'm using version 4.1.0 of the ca.uhn.fhir.validation.FhirValidator and R4 of the model.</p>



<a name="203372134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20of%20DiagnosticReport.effective%5Bx%5D/near/203372134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D.html#203372134">(Jul 09 2020 at 10:48)</a>:</h4>
<p>Even switching to version 5.0.2 I get the same error.</p>



<a name="203819573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20of%20DiagnosticReport.effective%5Bx%5D/near/203819573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D.html#203819573">(Jul 14 2020 at 10:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191319">James Agnew</span> <a href="#narrow/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D/near/203300491">said</a>:</p>
<blockquote>
<p>Can you try this on <a href="http://hapi.fhir.org">hapi.fhir.org</a>?</p>
<p>A few fixes have gone into the validator lately- this may be a bug that was recently fixed</p>
</blockquote>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> <br>
How can I try the validation on a server?</p>



<a name="203824085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20of%20DiagnosticReport.effective%5Bx%5D/near/203824085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D.html#203824085">(Jul 14 2020 at 11:54)</a>:</h4>
<p>If you post your resource to the server you can invoke the $validate operation on it. This is the best way as it allows us to reproduce your results. E.g.</p>
<p><a href="http://hapi.fhir.org/baseDstu3/Patient/2725779/$validate">http://hapi.fhir.org/baseDstu3/Patient/2725779/$validate</a></p>



<a name="203827401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Validation%20of%20DiagnosticReport.effective%5Bx%5D/near/203827401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D.html#203827401">(Jul 14 2020 at 12:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191319">James Agnew</span> <a href="#narrow/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D/near/203824085">said</a>:</p>
<blockquote>
<p>If you post your resource to the server you can invoke the $validate operation on it. This is the best way as it allows us to reproduce your results. E.g.</p>
<p><a href="http://hapi.fhir.org/baseDstu3/Patient/2725779/$validate">http://hapi.fhir.org/baseDstu3/Patient/2725779/$validate</a></p>
</blockquote>
<p>thanks a lot James! I'm going to do it ASAP</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
