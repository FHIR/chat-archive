---
layout: page
title: "FHIR Chat  · hapi + mysql in docker · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html">hapi + mysql in docker</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223759459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223759459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223759459">(Jan 23 2021 at 17:07)</a>:</h4>
<p>Hi,<br>
I have followed <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter#deploy-with-docker-compose">hapi-fhir-jpaserver-starter</a> deploy with docker compose instruction and double checked a few times but it still doesn't work. <a href="http://localhost:8080">http://localhost:8080</a> gives me <code>HTTP Status 404</code><br>
in <code>docker-compose logs</code> - nothing <br>
where else I can check other logs to troubleshoot this issue. </p>
<p>the mysql service in docker-compose.yml:</p>
<div class="codehilite" data-code-language="YAML"><pre><span></span><code>  <span class="nt">hapi-fhir-mysql</span><span class="p">:</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mysql:latest</span>
    <span class="nt">container_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">hapi-fhir-mysql</span>
    <span class="nt">restart</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">always</span>
    <span class="nt">environment</span><span class="p">:</span>
      <span class="nt">MYSQL_DATABASE</span><span class="p">:</span> <span class="s">'hapi'</span>
      <span class="nt">MYSQL_USER</span><span class="p">:</span> <span class="s">'admin'</span>
      <span class="nt">MYSQL_PASSWORD</span><span class="p">:</span> <span class="s">'admin'</span>
      <span class="nt">MYSQL_ROOT_PASSWORD</span><span class="p">:</span> <span class="s">'admin'</span>
</code></pre></div>
<p>the application.yaml:</p>
<div class="codehilite" data-code-language="YAML"><pre><span></span><code><span class="nt">spring</span><span class="p">:</span>
  <span class="nt">datasource</span><span class="p">:</span>
    <span class="nt">url</span><span class="p">:</span> <span class="s">'jdbc:mysql://hapi-fhir-mysql:3306/hapi'</span>
    <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
    <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
    <span class="nt">driverClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">com.mysql.jdbc.Driver</span>
</code></pre></div>
<p>Please, help</p>



<a name="223760734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223760734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223760734">(Jan 23 2021 at 17:36)</a>:</h4>
<p>I feel like I need initial db. where I can find it?</p>



<a name="223764101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223764101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223764101">(Jan 23 2021 at 18:42)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
<p>cat  logs/catalina.2021-01-23.log part 1</p>
</div><div class="spoiler-content" aria-hidden="true">
<p>23-Jan-2021 18:40:42.031 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [/usr/local/tomcat/webapps/ROOT.war]<br>
        java.lang.IllegalStateException: Error starting child<br>
                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)<br>
                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)<br>
                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)<br>
                at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:978)<br>
                at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1848)<br>
                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)<br>
                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)<br>
                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)<br>
                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)<br>
                at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:773)<br>
                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)<br>
                at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1576)<br>
                at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)<br>
                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)<br>
                at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)<br>
                at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)<br>
                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:936)<br>
                at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)<br>
                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)<br>
                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)<br>
                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)<br>
                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)<br>
                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)<br>
                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)<br>
                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)<br>
                at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)<br>
                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)<br>
                at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)<br>
                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)<br>
                at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)<br>
                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)<br>
                at org.apache.catalina.startup.Catalina.start(Catalina.java:772)<br>
                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br>
                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)<br>
                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br>
                at java.base/java.lang.reflect.Method.invoke(Method.java:566)<br>
                at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)<br>
                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)<br>
        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]<br>
                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)<br>
                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)<br>
                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)<br>
                ... 37 more</p>
</div></div>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<p>Caused by: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hapiServletRegistration' defined in ca.uhn.fhir.jpa.starter.Application: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method 'hapiServletRegistration' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ca.uhn.fhir.jpa.starter.JpaRestfulServer': Unsatisfied dependency expressed through field 'fhirSystemDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mySystemDaoR4': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ca/uhn/fhir/jpa/starter/FhirServerConfigR4.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]<br>
                at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)<br>
                at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545)<br>
                at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)<br>
                at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)<br>
                at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)<br>
                at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)<br>
                at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)<br>
                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:173)<br>
                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:153)<br>
                at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:95)<br>
                at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:172)<br>
                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5128)<br>
                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)<br>
                ... 38 more</p>
</div></div>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hapiServletRegistration' defined in ca.uhn.fhir.jpa.starter.Application: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method 'hapiServletRegistration' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ca.uhn.fhir.jpa.starter.JpaRestfulServer': Unsatisfied dependency expressed through field 'fhirSystemDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mySystemDaoR4': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ca/uhn/fhir/jpa/starter/FhirServerConfigR4.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]<br>
                at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)<br>
                at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)<br>
                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory</p>
</div></div>



<a name="223764148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223764148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223764148">(Jan 23 2021 at 18:43)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<p>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method 'hapiServletRegistration' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ca.uhn.fhir.jpa.starter.JpaRestfulServer': Unsatisfied dependency expressed through field 'fhirSystemDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mySystemDaoR4': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ca/uhn/fhir/jpa/starter/FhirServerConfigR4.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]<br>
                at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)<br>
                at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)<br>
                ... 67 more<br>
        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ca.uhn.fhir.jpa.starter.JpaRestfulServer': Unsatisfied dependency expressed through field 'fhirSystemDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mySystemDaoR4': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ca/uhn/fhir/jpa/starter/FhirServerConfigR4.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]<br>
                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)<br>
                at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)<br>
                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBean(AbstractAutowireCapableBeanFactory.java:318)<br>
                at ca.uhn.fhir.jpa.starter.Application.hapiServletRegistration(Application.java:53)<br>
                at ca.uhn.fhir.jpa.starter.Application$$EnhancerBySpringCGLIB$$a85c03cf.CGLIB$hapiServletRegistration$1(&lt;generated&gt;)<br>
                at ca.uhn.fhir.jpa.starter.Application$$EnhancerBySpringCGLIB$$a85c03cf$$FastClassBySpringCGLIB$$e8fbcf86.invoke(&lt;generated&gt;)<br>
                at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)<br>
                at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)<br>
                at ca.uhn.fhir.jpa.starter.Application$$EnhancerBySpringCGLIB$$a85c03cf.hapiServletRegistration(&lt;generated&gt;)<br>
                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br>
                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)<br>
                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br>
                at java.base/java.lang.reflect.Method.invoke(Method.java:566)<br>
                at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)<br>
                ... 68 more</p>
</div></div>



<a name="223764165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223764165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223764165">(Jan 23 2021 at 18:43)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mySystemDaoR4': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ca/uhn/fhir/jpa/starter/FhirServerConfigR4.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]<br>
                at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessProperties(PersistenceAnnotationBeanPostProcessor.java:361)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)<br>
                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)<br>
                at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)<br>
                at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)<br>
                at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)<br>
                at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)<br>
                ... 83 more<br>
        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [ca/uhn/fhir/jpa/starter/FhirServerConfigR4.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)<br>
                at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)<br>
                at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:227)<br>
                at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1175)<br>
                at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1142)<br>
                at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findDefaultEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:585)<br>
                at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:548)<br>
                at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.resolveEntityManager(PersistenceAnnotationBeanPostProcessor.java:716)<br>
                at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.getResourceToInject(PersistenceAnnotationBeanPostProcessor.java:689)<br>
                at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:239)<br>
                at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)<br>
                at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessProperties(PersistenceAnnotationBeanPostProcessor.java:358)<br>
                ... 94 more</p>
</div></div>



<a name="223764228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223764228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223764228">(Jan 23 2021 at 18:44)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<p>Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]<br>
                at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)<br>
                at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)<br>
                at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)<br>
                at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)<br>
                at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)<br>
                at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)<br>
                at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)<br>
                at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)<br>
                at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)<br>
                at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)<br>
                at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)<br>
                at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:141)<br>
                at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)<br>
                at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)<br>
                at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)<br>
                at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)<br>
                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)<br>
                ... 109 more<br>
        Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set<br>
                at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)<br>
                at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)<br>
                at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)<br>
                at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)<br>
                at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)<br>
                at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)<br>
                ... 126 more<br>
23-Jan-2021 18:40:42.034 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [13,259] ms<br>
23-Jan-2021 18:40:42.036 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8080"]<br>
23-Jan-2021 18:40:42.076 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [13356] milliseconds</p>
</div></div>



<a name="223790431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223790431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223790431">(Jan 24 2021 at 02:13)</a>:</h4>
<p>If you need to init db, you may want to add the db init script in the Dockerfile.</p>



<a name="223804221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804221">(Jan 24 2021 at 09:03)</a>:</h4>
<p>It is sufficient to create the intended db and add user with permission, eg with myphpadmin. Hapi does the rest.</p>



<a name="223804628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804628">(Jan 24 2021 at 09:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191549">@Frank Oemig</span> <br>
The issue was <code>mysql:latest</code> in docker-compose yml. as soon as I changed it to <code>mysql:5</code> it started working</p>



<a name="223804743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804743">(Jan 24 2021 at 09:18)</a>:</h4>
<p>I am not sure if we need to fix the <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter#deploy-with-docker-compose">documentation</a><br>
needs to be investigated ...</p>



<a name="223804803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804803">(Jan 24 2021 at 09:20)</a>:</h4>
<p>I need to check. I believe my one is running as latest.</p>



<a name="223804806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804806">(Jan 24 2021 at 09:20)</a>:</h4>
<p>please do, I am wandering ...</p>



<a name="223804820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804820">(Jan 24 2021 at 09:21)</a>:</h4>
<p>I have tried a bunch of options with the latest, unsuccessfully ...</p>



<a name="223804836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804836">(Jan 24 2021 at 09:21)</a>:</h4>
<p>I also do not use compose because mysql is used by others as well and I want to load the warfile from a volume.</p>



<a name="223804887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804887">(Jan 24 2021 at 09:22)</a>:</h4>
<p>So I need to recompile and reboot only w/o a new image.</p>



<a name="223804984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223804984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vasyl Herman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223804984">(Jan 24 2021 at 09:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191549">@Frank Oemig</span> <br>
so, you have an external mysql server?</p>



<a name="223810313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223810313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223810313">(Jan 24 2021 at 11:51)</a>:</h4>
<p>I have a container with mysql that serves different applications.<br>
And I do not want to update my FHIR image when updating my FHIR server. Therefore I load the warfile from a volume.</p>



<a name="223812462"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223812462" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Oemig <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223812462">(Jan 24 2021 at 12:50)</a>:</h4>
<p>I have a container with mysql that serves different applications.<br>
And I do not want to update my FHIR image when updating my FHIR server. Therefore I load the warfile from a volume.</p>



<a name="223886184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223886184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Karl Fischer <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223886184">(Jan 25 2021 at 11:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192103">Lin Zhang</span> <a href="#narrow/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker/near/223790431">said</a>:</p>
<blockquote>
<p>If you need to init db, you may want to add the db init script in the Dockerfile.</p>
</blockquote>
<p>Or maybe add a phpmyadmin container to your docker-compose file and create the database and user (for testing purposes)</p>



<a name="223896104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20%2B%20mysql%20in%20docker/near/223896104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20.2B.20mysql.20in.20docker.html#223896104">(Jan 25 2021 at 13:26)</a>:</h4>
<p><span class="user-mention" data-user-id="363661">@Karl Fischer</span> POSITIVE<span aria-label="clap" class="emoji emoji-1f44f" role="img" title="clap">:clap:</span>  Thanks.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
