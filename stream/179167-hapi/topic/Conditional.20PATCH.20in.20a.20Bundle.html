---
layout: page
title: "FHIR Chat  · Conditional PATCH in a Bundle · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20PATCH.20in.20a.20Bundle.html">Conditional PATCH in a Bundle</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="210887054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Conditional%20PATCH%20in%20a%20Bundle/near/210887054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dee <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20PATCH.20in.20a.20Bundle.html#210887054">(Sep 22 2020 at 15:26)</a>:</h4>
<p>Hello,</p>
<p>I've seen from post <a href="#narrow/stream/179166-implementers/topic/Transaction.20with.20PATCH.20request">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Transaction.20with.20PATCH.20request</a> that using HAPI, you can use a JSONPatch with the Binary resource to enable PATCH requests within a Bundle. This works for me, however when I make the patch conditional, it fails with the error "Resource MeasureReport is not known". </p>
<p>Example:<br>
  {<br>
    request: {<br>
      method: 'PATCH',<br>
      url: 'MeasureReport?subject=Patient/d86da58e-fada-4324-af45-909f56be55cb&amp;measure=Measure/Day-Insight&amp;date=eq2020-09-16T00:00:00'<br>
    },<br>
    resource: {<br>
      resourceType: 'Binary',<br>
      contentType: 'application/json-patch+json',<br>
      data: 'W3sib3AiOiAicmVwbGFjZSIsInBhdGgiOiAiL3N0YXR1cyIsInZhbHVlIjogImVycm9yIn1d'<br>
    }<br>
  }</p>
<p>I've also tried this with resource type Observation.<br>
Is this happening because the resource type is Binary, but the url is pointing to type MeasureReport? If so, how do I enable conditional patching within a bundle?</p>



<a name="210931678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Conditional%20PATCH%20in%20a%20Bundle/near/210931678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Vreeman <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20PATCH.20in.20a.20Bundle.html#210931678">(Sep 22 2020 at 21:11)</a>:</h4>
<p>(deleted)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
