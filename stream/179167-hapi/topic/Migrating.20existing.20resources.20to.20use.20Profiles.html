---
layout: page
title: "FHIR Chat  · Migrating existing resources to use Profiles · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html">Migrating existing resources to use Profiles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="234743410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234743410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234743410">(Apr 15 2021 at 20:03)</a>:</h4>
<p>We just upgraded from HAPI 4.1 (R4/4.0.0) that had no profiles  to 5.3 (R4/4.0.1). We cannot access any resource bcoz of errors related to coding systems</p>
<div class="codehilite"><pre><span></span><code>&quot;Unknown Code System &#39;http://hl7.org/fhir/v3/Race&#39;&quot;

&quot;Unknown Code System &#39;http://hl7.org/fhir/v3/Ethnicity&#39;&quot;
</code></pre></div>
<p>and</p>
<div class="codehilite"><pre><span></span><code>&quot;if a date has a time, it must have a timezone&quot;
</code></pre></div>
<p>any pointers will be much appreciated. FYI here is our test FHIR server <a href="http://52.91.59.1:8080/fhir/Patient?_format=json&amp;_pretty=true">http://52.91.59.1:8080/fhir/Patient?_format=json&amp;_pretty=true</a></p>



<a name="234743567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234743567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234743567">(Apr 15 2021 at 20:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> <span class="user-mention" data-user-id="191319">@James Agnew</span> please help ^</p>



<a name="234747842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234747842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234747842">(Apr 15 2021 at 20:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> could you please chime in on this issue ^. Much appreciated</p>



<a name="234750557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234750557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234750557">(Apr 15 2021 at 20:52)</a>:</h4>
<p>sorry, can't say I know the answer to this one</p>



<a name="234750694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234750694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234750694">(Apr 15 2021 at 20:53)</a>:</h4>
<p>would need someone closer to the HAPI code and upgrade process to answer that</p>



<a name="234750730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234750730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234750730">(Apr 15 2021 at 20:53)</a>:</h4>
<p>I can help with docker and builds, but that's over my head</p>



<a name="234750825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234750825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234750825">(Apr 15 2021 at 20:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191505">Sean McIlvenna</span> <a href="#narrow/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles/near/234750694">said</a>:</p>
<blockquote>
<p>would need someone closer to the HAPI code and upgrade process to answer that</p>
</blockquote>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> any idea who those folks may be ? could you <strong>please ping them for me</strong></p>



<a name="234750835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234750835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234750835">(Apr 15 2021 at 20:54)</a>:</h4>
<p>fyi, docker hub has an updated v5.3.0 tag now, based on the updated github v5.3.0 tag</p>



<a name="234751029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234751029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234751029">(Apr 15 2021 at 20:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> is the only one I really know from that team. he's often too busy to pay attention to these threads regularly. have you considered engaging SmileCDR for support?</p>



<a name="234751161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234751161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234751161">(Apr 15 2021 at 20:56)</a>:</h4>
<p>aside from that, you could maybe look at the github commit history on the core hapi-fhir repository and see if you can call out specific contributors :)</p>



<a name="234752391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234752391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234752391">(Apr 15 2021 at 21:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191505">Sean McIlvenna</span> <a href="#narrow/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles/near/234751029">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191319">James Agnew</span> is the only one I really know from that team. he's often too busy to pay attention to these threads regularly. have you considered engaging SmileCDR for support?</p>
</blockquote>
<p>won't I have to purchase a license to get support from SmileCDR ? I am using HAPI open source</p>



<a name="234754724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234754724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234754724">(Apr 15 2021 at 21:11)</a>:</h4>
<p><span class="user-mention" data-user-id="357282">@Gary Graham</span>  ^ could you please share some pointers here ^ I am stuck at the very last step of the upgrade</p>



<a name="234755823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234755823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234755823">(Apr 15 2021 at 21:17)</a>:</h4>
<p>that looks like you have a ResponseValidatingInterceptor enabled. If you don't want that validation, remove that interceptor.</p>



<a name="234755919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234755919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234755919">(Apr 15 2021 at 21:18)</a>:</h4>
<p>thanks, trying it now.....</p>



<a name="234756501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Migrating%20existing%20resources%20to%20use%20Profiles/near/234756501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Migrating.20existing.20resources.20to.20use.20Profiles.html#234756501">(Apr 15 2021 at 21:22)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191319">@James Agnew</span> that worked, but I now in the server logs I see</p>
<div class="codehilite"><pre><span></span><code>Hibernate: create sequence SEQ_SPIDX_QUANTITY_NRML start 1 increment 50
2021-04-15 21:19:38.394 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl [ExceptionHandlerLoggedImpl.java:27] GenerationTarget encountered exception accepting command : Error executing DDL &quot;create sequence SEQ_SPIDX_QUANTITY_NRML start 1 increment 50&quot; via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create sequence SEQ_SPIDX_QUANTITY_NRML start 1 increment 50&quot; via JDBC Statement
</code></pre></div>
<p>seems like database user needs DDL rights for normal server operations not just for migration, is that right?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
