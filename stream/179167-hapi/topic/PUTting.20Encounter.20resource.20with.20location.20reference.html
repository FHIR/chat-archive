---
layout: page
title: "FHIR Chat  · PUTting Encounter resource with location reference · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/PUTting.20Encounter.20resource.20with.20location.20reference.html">PUTting Encounter resource with location reference</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244692349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/PUTting%20Encounter%20resource%20with%20location%20reference/near/244692349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Meyers <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/PUTting.20Encounter.20resource.20with.20location.20reference.html#244692349">(Jul 02 2021 at 12:03)</a>:</h4>
<p>Im currently trying to put an encounter resource into a hapi 5.4 server with a reference to the location in the "location" field like this:</p>
<div class="codehilite"><pre><span></span><code>&quot;location&quot;: [
                    {
                        &quot;reference&quot;: &quot;Location?identifier=10228&quot;
                    }
                ]
</code></pre></div>
<p>Resolving other business identifiers has not been a problem so far, but with the location reference the Hapi server complains that it cannot do anything with the field: </p>
<div class="codehilite"><pre><span></span><code>Unknown element &#39;reference&#39; found while parsing
</code></pre></div>
<p>Is this not implemented yet ? Is there a workaround or is my syntax just wrong here? :)<br>
ty  in advance</p>



<a name="244870057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/PUTting%20Encounter%20resource%20with%20location%20reference/near/244870057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/PUTting.20Encounter.20resource.20with.20location.20reference.html#244870057">(Jul 04 2021 at 17:56)</a>:</h4>
<p>I am a newby, so my advice could be really wrong here.</p>
<p>Today and tomorrow are Federal US holidays and I think it is a long weekend for the Canadian holiday as well, so you might not get any other answers for a few days.</p>
<p>When I see the error message about an Unknown element:</p>
<p><em>Unknown element 'reference' found while parsing</em></p>
<p>I have found in the past that the tag such as "reference"  is what HAPI  is objecting to.</p>
<p>In looking at the example <a href="https://www.hl7.org/fhir/encounter-example-emerg.json.html">https://www.hl7.org/fhir/encounter-example-emerg.json.html</a>  and at the detailed descriptions for the Encounter resource showing the element  Encounter.location.location, I think the syntax should be closer to:</p>
<p>"location": [<br>
              {<br>
                   "location": {<br>
                               "reference": "Location?identifier=10228"<br>
                           }<br>
            }<br>
  ]</p>



<a name="244912445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/PUTting%20Encounter%20resource%20with%20location%20reference/near/244912445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Meyers <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/PUTting.20Encounter.20resource.20with.20location.20reference.html#244912445">(Jul 05 2021 at 09:19)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="237340">@Diane</span> and thanks for ur help.<br>
Unfortunately im getting the same server warning msg (unknown element) when using ur proposed syntax. :(</p>



<a name="244972739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/PUTting%20Encounter%20resource%20with%20location%20reference/near/244972739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/PUTting.20Encounter.20resource.20with.20location.20reference.html#244972739">(Jul 05 2021 at 20:43)</a>:</h4>
<p>I hope that some of the experts will be back soon from their holiday celebrations to help you.   </p>
<p>The hapi R4 test server at <a href="http://hapi.fhir.org">hapi.fhir.org</a>  has this encounter resource with a location reference:.  Maybe that will get you closer to the solution? </p>
<p><a href="http://hapi.fhir.org/baseR4/Encounter/4e56a322-18b3-4367-a44a-b60847a464c4/_history/1?_pretty=true&amp;_format=json">http://hapi.fhir.org/baseR4/Encounter/4e56a322-18b3-4367-a44a-b60847a464c4/_history/1?_pretty=true&amp;_format=json</a></p>



<a name="245011761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/PUTting%20Encounter%20resource%20with%20location%20reference/near/245011761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Meyers <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/PUTting.20Encounter.20resource.20with.20location.20reference.html#245011761">(Jul 06 2021 at 08:57)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="237340">@Diane</span> , shame on me, you were right of course. With extended encapsulation (location in location), the server persisted the Encounter resource as expected and completely. The warning message was caused by another resource in the bundle and misinterpreted by me. Thank you very much, because I also became suspicious when I saw that the HAPI server in your example had persisted the location references in a resolvable way.</p>



<a name="245336335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/PUTting%20Encounter%20resource%20with%20location%20reference/near/245336335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diane <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/PUTting.20Encounter.20resource.20with.20location.20reference.html#245336335">(Jul 08 2021 at 16:17)</a>:</h4>
<p><span class="user-mention" data-user-id="263786">@David Meyers</span>    No worries. Glad that you got your Encounter resource working.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
