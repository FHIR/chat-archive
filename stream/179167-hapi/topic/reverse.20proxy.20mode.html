---
layout: page
title: "FHIR Chat  · reverse proxy mode · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html">reverse proxy mode</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153853263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853263">(Oct 19 2016 at 20:49)</a>:</h4>
<p>hey James, can you run HAPI in a reverse proxy mode, where it simply serves the interface and then redirects to another server? </p>



<a name="153853264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853264">(Oct 19 2016 at 20:49)</a>:</h4>
<p>well, can you run the CLI in that mode..</p>



<a name="153853722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853722">(Oct 21 2016 at 16:04)</a>:</h4>
<p>Hmm no, CLI assumes it's the only FHIR server in the world at this point. Curious, why would you want to do this? </p>



<a name="153853750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853750">(Oct 21 2016 at 20:58)</a>:</h4>
<p>well, let's say I'm putting up a FHIR server. I need to host a set of functions off my database in my own server. </p>



<a name="153853751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853751">(Oct 21 2016 at 20:59)</a>:</h4>
<p>but my dev team is not so large, and I don't have $$ for a focused web security guy, and I'm concerned that I don't have the skills to put up a secure web server that doesn't accidentally expose other services I know nothing about </p>



<a name="153853752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853752">(Oct 21 2016 at 21:00)</a>:</h4>
<p>but I could put a reverse proxy HAPI CLI, and know that my server is completely hidden behind a FHIR server that has been inspected and hammered</p>



<a name="153853753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853753">(Oct 21 2016 at 21:00)</a>:</h4>
<p>and I can get HAPI to handle conformance and tx in front of me....</p>



<a name="153853754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853754">(Oct 21 2016 at 21:19)</a>:</h4>
<p>oh interesting. yeah, i could see that.</p>
<p>not supported yet, but that does sound like something worthwhile to add to the roadmap... i guess similarly if you had a FHIR server that only supported one of JSON or XML it could handle translation too.</p>



<a name="153853756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853756">(Oct 21 2016 at 21:21)</a>:</h4>
<p>y</p>



<a name="153853811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853811">(Oct 22 2016 at 18:52)</a>:</h4>
<p>Would it be worth thinking about how to support something like nginx in that role?  I don't know enough to really comment properly, but suspect there will be issues with references where HAPI thinks it's at a particular URL, but nginx is re-writing it...</p>



<a name="153853813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853813">(Oct 22 2016 at 21:41)</a>:</h4>
<p>Would Apache Camel be suitable for this? It could pass conformance requests to the HAPI server and forward requests to other FHIR servers (and filter other resources). We're looking at using it for rewriting urls, profile mappings and security translations. In our Camel apps we use Spring and also HAPI FHIR libraries. [We also plan to use traditional health middleware but camel is enabling a micro-service architecture] </p>



<a name="153853816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853816">(Oct 23 2016 at 03:34)</a>:</h4>
<p>you could use any reverse proxy, yes. but having HAPI out in front gives you FHIR specific stuff</p>



<a name="153853866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153853866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153853866">(Oct 24 2016 at 01:15)</a>:</h4>
<p>Yes, explicit URLs would need to be re-written.<br>
But that would then cause issues if XML content is signed (or re-signed).</p>



<a name="153857883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153857883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153857883">(Nov 20 2016 at 01:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191321">@David Hay</span> Having had some involvement in doing this kind of thing, I can say that it's somewhat feasible if you're running in a read-only mode but it quickly gets very hard as soon as you want to support batch / transactions since you effectively need to do deep inspection of the requests.</p>
<p>HAPI itself is not extra helpful here since it doesn't provide a simple mechanism to process batch requests and feed them up into HAPI's internal dispatch mechanism.</p>



<a name="153857884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/reverse%20proxy%20mode/near/153857884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/reverse.20proxy.20mode.html#153857884">(Nov 20 2016 at 01:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Another related use-case would be for delegating terminology-specific requests to a dedicated server while use the HAPI server to handle other resource types.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
