---
layout: page
title: "FHIR Chat  · Proposed change: replace java.util.Date with java.time.* · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Proposed.20change.3A.20replace.20java.2Eutil.2EDate.20with.20java.2Etime.2E*.html">Proposed change: replace java.util.Date with java.time.*</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="273718323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Proposed%20change%3A%20replace%20java.util.Date%20with%20java.time.%2A/near/273718323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Proposed.20change.3A.20replace.20java.2Eutil.2EDate.20with.20java.2Etime.2E*.html#273718323">(Mar 01 2022 at 22:06)</a>:</h4>
<p>Hi All,</p>
<p>As mentioned during the 5.7.0 release webinar, our next release will be a major bump to 6.0.0.</p>
<p>One of the changes being considered as a part of this bump is to replace our use of <code>java.util.Date</code> in the datatype classes for date/dateTime/instant with their respective java.time equivalents. Presumably:</p>
<ul>
<li>date: java.time.LocalDate</li>
<li>dateTime / instant: java.time.ZonedDateTime</li>
</ul>
<p>This would be a breaking change since calling (for example) <code>DateTime#getValue()</code> would start returning a ZonedDateTime and not a Date. Presumably we would include utility method like <code>getValueAsDate()</code> and <code>setValueAsDate(Date)</code>.</p>
<p>So I guess the question here is: Are there any objections to this change? Or for that matter do people think this is beneficial enough to warrant the change?</p>



<a name="273721103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Proposed%20change%3A%20replace%20java.util.Date%20with%20java.time.%2A/near/273721103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Proposed.20change.3A.20replace.20java.2Eutil.2EDate.20with.20java.2Etime.2E*.html#273721103">(Mar 01 2022 at 22:29)</a>:</h4>
<p>It would definitely affect any clients or PlainServer based implementations. It's likely not too difficult to deal with though. Easier than some of the recent Spring updates probably for those of using HAPI in SpringBoot apps. </p>
<p>You could presumably remove half? the pain points if the existing setters were overloaded to accept both types?</p>



<a name="273767741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Proposed%20change%3A%20replace%20java.util.Date%20with%20java.time.%2A/near/273767741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Proposed.20change.3A.20replace.20java.2Eutil.2EDate.20with.20java.2Etime.2E*.html#273767741">(Mar 02 2022 at 07:52)</a>:</h4>
<p>+1 for the switch, looking forward for java.time ...</p>



<a name="273782303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Proposed%20change%3A%20replace%20java.util.Date%20with%20java.time.%2A/near/273782303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Proposed.20change.3A.20replace.20java.2Eutil.2EDate.20with.20java.2Etime.2E*.html#273782303">(Mar 02 2022 at 10:05)</a>:</h4>
<p>+1 for the modern dateTime java classes</p>



<a name="273801685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Proposed%20change%3A%20replace%20java.util.Date%20with%20java.time.%2A/near/273801685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Proposed.20change.3A.20replace.20java.2Eutil.2EDate.20with.20java.2Etime.2E*.html#273801685">(Mar 02 2022 at 12:56)</a>:</h4>
<p>I second that</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
