---
layout: page
title: "FHIR Chat  · deriving from BackboneElement · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/deriving.20from.20BackboneElement.html">deriving from BackboneElement</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="182325769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/deriving%20from%20BackboneElement/near/182325769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/deriving.20from.20BackboneElement.html#182325769">(Dec 02 2019 at 09:00)</a>:</h4>
<p>I would like to automatically map openEHR archetypes into FHIR logical models (StructureDefinitions). In a subsequent step I would like to use a FHIR server (e.g. VONK or HAPI) to use these logical models as the basis to receive, store and provide query capabilities in order to handle resource instances of those models. What I heard of, VONK supports a mechanism out-of-the-box, so that a StructureDefinition can be given and the server can automatically handle those models as active profiles. In HAPI I tried a bit myself to create such a mechanism, so that the respective Java classes are automatically created so that the HAPI server can manage the models as active profiles.<br>
However, I encountered a problem in my whole approach: In FHIR branching in models is done using BackboneElements. BackboneElements carry no information in themselves, but only provide the capability to contain subnodes. In openEHR the branching nodes are derivatives of classes from the openEHR reference model, so they contain fields that are inherited from their parent classes. It were beneficial concerning my approach that BackboneElements could also be derived by other profiles. I would like to get the opinion of implementers of VONK and HAPI what would happen, if derivatives of BackboneElement would be used in a StructureDefinition. Would the existing code out-of-the-box be able to handle such a modeling paradigm ?</p>



<a name="182346359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/deriving%20from%20BackboneElement/near/182346359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/deriving.20from.20BackboneElement.html#182346359">(Dec 02 2019 at 13:47)</a>:</h4>
<p>I guess in practice that you are "limited" by StructureDefinition.snapshot / differential. Both contain a list of elements of type ElementDefinition. ElementDefinition itself is derived from BackboneElement. That can't be changed. Therefore you have only the option to create a custom data type in your logical model which is derived from BackboneElement (see <a href="https://www.hl7.org/fhir/backboneelement.html" target="_blank" title="https://www.hl7.org/fhir/backboneelement.html">https://www.hl7.org/fhir/backboneelement.html</a> -&gt; Timing / Dosage data type), however that would only solve the issue for a single element. I don't see how you could create a nested structure with it.</p>



<a name="182346474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/deriving%20from%20BackboneElement/near/182346474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/deriving.20from.20BackboneElement.html#182346474">(Dec 02 2019 at 13:48)</a>:</h4>
<p>If you really need to, you could try to add an extension on BackboneElement</p>



<a name="182381049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/deriving%20from%20BackboneElement/near/182381049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/deriving.20from.20BackboneElement.html#182381049">(Dec 02 2019 at 19:37)</a>:</h4>
<p>The StructureDefinition.snapshots are composed of ElementDefinitions, but in the "type" of those ElementDefinitions that represent nodes with children, the "code" is always "BackboneElement" in all Profiles. I wonder if it were possible to use a derivative of BackboneElement in those cases. Extensions on BackboneElements are another option I haven't thought of yet. However, I think that none of those options are actually supported by FHIR server implementations as they are not used nowhere.</p>



<a name="182381348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/deriving%20from%20BackboneElement/near/182381348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/deriving.20from.20BackboneElement.html#182381348">(Dec 02 2019 at 19:40)</a>:</h4>
<p>I think you are asking about logical models. You can derive logical models from Element or BackboneElement - though really, why BackboneElement? - just use Element. But I don't know to what degree HAPI supports this</p>



<a name="182381582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/deriving%20from%20BackboneElement/near/182381582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/deriving.20from.20BackboneElement.html#182381582">(Dec 02 2019 at 19:42)</a>:</h4>
<p>hm, okay, when not even BackboneElement is needed, even better. Then my question could boil down to if resource instances of logical models can be managed with HAPI</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
