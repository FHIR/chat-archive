---
layout: page
title: "FHIR Chat  · AIDBOX Vs HAPI · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/AIDBOX.20Vs.20HAPI.html">AIDBOX Vs HAPI</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="192945499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/AIDBOX%20Vs%20HAPI/near/192945499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kishore Karanam <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/AIDBOX.20Vs.20HAPI.html#192945499">(Apr 05 2020 at 07:00)</a>:</h4>
<p>Hi Team, </p>
<p>I am new to FHIR. I am evaluate frameworks which are FHIR implementations. I came across AIDBOX vs HAPI two frameworks. I know HAPI is more mature than AIDBOX. I have few queries related to this, would you please clarify if possible</p>
<p>o In case of AIDBOX they use PostgreSQL with JSONB to store resources and the whole JSON will be indexed. In case of HAPI, I would see its stored in encrypted format and not sure about the performance.</p>
<p>o In HAPI, if I wanted to query data from PostgreSQL console how do I do that? As the resource data is stored in hfj_resource table in encrypted format. Shall we store data in plain?</p>
<p>o Do you have any reference link related to custom query to fire i.e. joins etc ? Like below to find high risk patients ( this query from FHIREBASE)</p>
<p>SELECT DISTINCT(<a href="http://p.id" title="http://p.id">p.id</a>), p.resource#&gt;'{name,0}'<br>
FROM patient p<br>
JOIN observation o ON o.resource#&gt;&gt;'{subject,id}' = <a href="http://p.id" title="http://p.id">p.id</a><br>
WHERE (o.resource @&gt; '{"code": {"coding": [{"code": "72166-2"}]}}'::jsonb) -- LOINC: Smoking status<br>
AND ((o.resource @&gt; '{"value": {"CodeableConcept": { "coding": [{"code": "449868002"}]}}}') -- SNOMED: Current every day smoker<br>
OR (o.resource @&gt; '{"value": {"CodeableConcept": { "coding": [{"code": "8517006"}]}}}')) -- SNOMED: Former smoker<br>
AND (extract(year from age(now(), (p.resource-&gt;&gt;'birthDate')::date)) &gt; 45) -- patient's age &gt; 45<br>
AND (p.resource-&gt;&gt;'gender' = 'male'); -- patient gender is male</p>
<p>o If we go with Hapi, which database will be good in case of performance and reliability?</p>
<p>Regards,<br>
Kishore</p>



<a name="193027003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/AIDBOX%20Vs%20HAPI/near/193027003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/AIDBOX.20Vs.20HAPI.html#193027003">(Apr 06 2020 at 11:21)</a>:</h4>
<p>HAPI's database design isn't really intended for direct query, the idea is that you'd use the REST interface for queries.</p>
<p>I don't know how the syntax you quoted works exactly, but it looks like you could probably reproduce that query using a search on the Patient resoruce with a combination of <code>_has</code> parameters.</p>



<a name="193128183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/AIDBOX%20Vs%20HAPI/near/193128183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Igor Sirkovich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/AIDBOX.20Vs.20HAPI.html#193128183">(Apr 07 2020 at 03:27)</a>:</h4>
<p><span class="user-mention" data-user-id="279545">@Kishore Karanam</span> Have a look at <a href="https://www.hl7.org/fhir/R4/search.html#has" title="https://www.hl7.org/fhir/R4/search.html#has">https://www.hl7.org/fhir/R4/search.html#has</a></p>



<a name="193228068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/AIDBOX%20Vs%20HAPI/near/193228068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/AIDBOX.20Vs.20HAPI.html#193228068">(Apr 07 2020 at 18:24)</a>:</h4>
<p>Would <a href="http://hl7.org/fhir/graphql.html" title="http://hl7.org/fhir/graphql.html">graphQl</a> be an option for the queries you're after <span class="user-mention" data-user-id="279545">@Kishore Karanam</span>  ?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
