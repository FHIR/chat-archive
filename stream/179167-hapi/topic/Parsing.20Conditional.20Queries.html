---
layout: page
title: "FHIR Chat  · Parsing Conditional Queries · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Parsing.20Conditional.20Queries.html">Parsing Conditional Queries</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153861451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Parsing%20Conditional%20Queries/near/153861451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Parsing.20Conditional.20Queries.html#153861451">(Dec 07 2016 at 08:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> For Conditional Create, Update and Delete, we'd rather not rewrite query parsing, but would prefer to use the same query parsing code that HAPI uses so that we could call the Query methods we already have.  Is there a way to either invoke a query through the server (whilst inside a create/delete/update operation), or at least using HAPI parameter parsing tools to facilitate the parsing of the conditional query?</p>



<a name="153861886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Parsing%20Conditional%20Queries/near/153861886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Parsing.20Conditional.20Queries.html#153861886">(Dec 07 2016 at 16:06)</a>:</h4>
<p>Hi Keith- The method <code>BaseHapiFhirDao#translateMatchUrl(FhirContext, String, RuntimeResourceDefinition)</code> (source <a href="https://github.com/jamesagnew/hapi-fhir/blob/e8fad33042529ad8d90e13973e817a2cf25ac0e5/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/dao/BaseHapiFhirDao.java#L1703" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/blob/e8fad33042529ad8d90e13973e817a2cf25ac0e5/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/dao/BaseHapiFhirDao.java#L1703">here</a>) is the method the server itself uses for this. </p>
<p>It's a static method so you should be able to call it from wherever. It probably should be moved out of the JPA module though- you'd need to import the JPA JAR currently in order to get to it. Not neccesarily a problem since you wouldn't need to use the rest of the JPA module but it's an annoyingly big dependency.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
