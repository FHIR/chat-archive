---
layout: page
title: "FHIR Chat  Â· &quot;Did not find file matching concepts.csv&quot; error Â· hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/.22Did.20not.20find.20file.20matching.20concepts.2Ecsv.22.20error.html">&quot;Did not find file matching concepts.csv&quot; error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="231801052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/%22Did%20not%20find%20file%20matching%20concepts.csv%22%20error/near/231801052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/.22Did.20not.20find.20file.20matching.20concepts.2Ecsv.22.20error.html#231801052">(Mar 25 2021 at 13:36)</a>:</h4>
<p>I'm getting this error when I try to import the Jan 2021 SNOMED CT release:</p>
<div class="codehilite"><pre><span></span><code>ubuntu@ip-172-30-0-149:~$ ./hapi-fhir-cli upload-terminology -b fhir:fhir -d SnomedCT_InternationalRF2_PRODUCTION_20210131T120000Z.zip -l -t http://localhost:8080/r4 -u http://snomed.info/sct -v r4 -m ADD
Picked up _JAVA_OPTIONS: -Xmx3g
------------------------------------------------------------
ðŸ”¥  HAPI FHIR 5.3.0 - Command Line Tool
------------------------------------------------------------
Process ID                      : 280649@ip-172-30-0-149
Max configured JVM memory (Xmx) : 2.7GB
Detected Java version           : 1.8.0_181
------------------------------------------------------------
2021-03-25 12:53:48.923 [main] INFO  c.u.f.c.UploadTerminologyCommand Adding ZIP file: SnomedCT_InternationalRF2_PRODUCTION_20210131T120000Z.zip
2021-03-25 12:54:15.912 [main] INFO  c.u.f.c.UploadTerminologyCommand File size is greater than 10 MB - Going to use a local file reference instead of a direct HTTP transfer. Note that this will only work when executing this command on the same server as the FHIR server itself.
2021-03-25 12:54:27.412 [main] INFO  c.u.f.c.UploadTerminologyCommand Beginning upload - This may take a while...
2021-03-25 13:05:48.813 [main] ERROR c.u.f.c.UploadTerminologyCommand Received the following response:
{
  &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
  &quot;text&quot;: {
    &quot;status&quot;: &quot;generated&quot;,
    &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td style=\&quot;font-weight: bold;\&quot;&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Did not find file matching concepts.csv&lt;/pre&gt;&lt;/td&gt;\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;&quot;
  },
  &quot;issue&quot;: [ {
    &quot;severity&quot;: &quot;error&quot;,
    &quot;code&quot;: &quot;processing&quot;,
    &quot;diagnostics&quot;: &quot;Did not find file matching concepts.csv&quot;
  } ]
}
2021-03-25 13:05:48.819 [main] ERROR ca.uhn.fhir.cli.App Error during execution:
ca.uhn.fhir.rest.server.exceptions.InvalidRequestException: HTTP 400 : Did not find file matching concepts.csv
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
    at ca.uhn.fhir.rest.server.exceptions.BaseServerResponseException.newInstance(BaseServerResponseException.java:305)
    at ca.uhn.fhir.rest.client.impl.BaseClient.invokeClient(BaseClient.java:351)
    at ca.uhn.fhir.rest.client.impl.GenericClient$BaseClientExecutable.invoke(GenericClient.java:540)
    at ca.uhn.fhir.rest.client.impl.GenericClient$OperationInternal.execute(GenericClient.java:1314)
    at ca.uhn.fhir.cli.UploadTerminologyCommand.invokeOperation(UploadTerminologyCommand.java:204)
    at ca.uhn.fhir.cli.UploadTerminologyCommand.run(UploadTerminologyCommand.java:116)
    at ca.uhn.fhir.cli.BaseApp.run(BaseApp.java:267)
    at ca.uhn.fhir.cli.App.main(App.java:43)
2021-03-25 13:05:49.116 [Thread-0] INFO  ca.uhn.fhir.cli.App HAPI FHIR is shutting down...
</code></pre></div>
<p>I'm not sure why it would be looking for a "concepts.csv" file, as that isn't part of the release, but I can investigate that further.  Has anyone else seen this, or found a solution?</p>



<a name="231801347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/%22Did%20not%20find%20file%20matching%20concepts.csv%22%20error/near/231801347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/.22Did.20not.20find.20file.20matching.20concepts.2Ecsv.22.20error.html#231801347">(Mar 25 2021 at 13:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>?</p>



<a name="231894236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/%22Did%20not%20find%20file%20matching%20concepts.csv%22%20error/near/231894236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/.22Did.20not.20find.20file.20matching.20concepts.2Ecsv.22.20error.html#231894236">(Mar 25 2021 at 23:54)</a>:</h4>
<p>It's supposed to be a file for loading a  Custom Terminoloy</p>



<a name="231944327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/%22Did%20not%20find%20file%20matching%20concepts.csv%22%20error/near/231944327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/.22Did.20not.20find.20file.20matching.20concepts.2Ecsv.22.20error.html#231944327">(Mar 26 2021 at 10:44)</a>:</h4>
<p>That makes sense.  I shouldn't have used the <code>ADD</code> upload mode parameter, but at the time I hadn't yet found the documentation for it beyond the command 'help upload-terminology' response, which doesn't actually describe the behavior.  I had tried using <code>ADD</code> because without it I had gotten a different error where it failed "because this search matched 2 resources":</p>
<div class="codehilite"><pre><span></span><code>ubuntu@ip-172-30-0-149:~$ ./hapi-fhir-cli upload-terminology -b fhir:fhir -d SnomedCT_InternationalRF2_PRODUCTION_20210131T120000Z.zip -l -t http://localhost:8080/r4 -u http://snomed.info/sct -v r4
Picked up _JAVA_OPTIONS: -Xmx3g
------------------------------------------------------------
ðŸ”¥  HAPI FHIR 5.3.0 - Command Line Tool
------------------------------------------------------------
Process ID                      : 4777@ip-172-30-0-149
Max configured JVM memory (Xmx) : 3.0GB
Detected Java version           : 11.0.10
------------------------------------------------------------
2021-03-26 09:42:06.241 [main] INFO  c.u.f.c.UploadTerminologyCommand Adding ZIP file: SnomedCT_InternationalRF2_PRODUCTION_20210131T120000Z.zip
2021-03-26 09:42:48.525 [main] INFO  c.u.f.c.UploadTerminologyCommand File size is greater than 10 MB - Going to use a local file reference instead of a direct HTTP transfer. Note that this will only work when executing this command on the same server as the FHIR server itself.
2021-03-26 09:43:18.45 [main] INFO  c.u.f.c.UploadTerminologyCommand Beginning upload - This may take a while...
2021-03-26 09:57:26.541 [main] ERROR c.u.f.c.UploadTerminologyCommand Received the following response:
{
  &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
  &quot;text&quot;: {
    &quot;status&quot;: &quot;generated&quot;,
    &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td style=\&quot;font-weight: bold;\&quot;&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Failed to UPDATE resource with match URL &amp;quot;CodeSystem?url=http%3A%2F%2Fsnomed.info%2Fsct&amp;quot; because this search matched 2 resources&lt;/pre&gt;&lt;/td&gt;\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;&quot;
  },
  &quot;issue&quot;: [ {
    &quot;severity&quot;: &quot;error&quot;,
    &quot;code&quot;: &quot;processing&quot;,
    &quot;diagnostics&quot;: &quot;Failed to UPDATE resource with match URL \&quot;CodeSystem?url=http%3A%2F%2Fsnomed.info%2Fsct\&quot; because this search matched 2 resources&quot;
  } ]
}
2021-03-26 09:57:26.634 [main] ERROR ca.uhn.fhir.cli.App Error during execution:
ca.uhn.fhir.rest.server.exceptions.PreconditionFailedException: HTTP 412 : Failed to UPDATE resource with match URL &quot;CodeSystem?url=http%3A%2F%2Fsnomed.info%2Fsct&quot; because this search matched 2 resources
    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
    at ca.uhn.fhir.rest.server.exceptions.BaseServerResponseException.newInstance(BaseServerResponseException.java:305)
    at ca.uhn.fhir.rest.client.impl.BaseClient.invokeClient(BaseClient.java:351)
    at ca.uhn.fhir.rest.client.impl.GenericClient$BaseClientExecutable.invoke(GenericClient.java:540)
    at ca.uhn.fhir.rest.client.impl.GenericClient$OperationInternal.execute(GenericClient.java:1314)
    at ca.uhn.fhir.cli.UploadTerminologyCommand.invokeOperation(UploadTerminologyCommand.java:204)
    at ca.uhn.fhir.cli.UploadTerminologyCommand.run(UploadTerminologyCommand.java:113)
    at ca.uhn.fhir.cli.BaseApp.run(BaseApp.java:267)
    at ca.uhn.fhir.cli.App.main(App.java:43)
2021-03-26 09:57:26.645 [Thread-0] INFO  ca.uhn.fhir.cli.App HAPI FHIR is shutting down...
</code></pre></div>
<p>I'm not sure why there were 2 copies of the CodeSystem resource for SNOMED CT, as I don't recall that issue happening any time previously.  But deleting the oldest of the 2 instances seems to have fixed that problem, as after that I was able to successfully upload the Jan 2021 version of the SNOMED CT International Edition (the indexes don't seem to have caught up yet, but I assume that they should soon).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
