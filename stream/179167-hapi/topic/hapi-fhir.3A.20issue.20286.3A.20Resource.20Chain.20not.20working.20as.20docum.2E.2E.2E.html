---
layout: page
title: "FHIR Chat  · hapi-fhir: issue 286: Resource Chain not working as docum... · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir.3A.20issue.20286.3A.20Resource.20Chain.20not.20working.20as.20docum.2E.2E.2E.html">hapi-fhir: issue 286: Resource Chain not working as docum...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153812384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir%3A%20issue%20286%3A%20Resource%20Chain%20not%20working%20as%20docum.../near/153812384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zulip HAPI Bot <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir.3A.20issue.20286.3A.20Resource.20Chain.20not.20working.20as.20docum.2E.2E.2E.html#153812384">(Jan 19 2016 at 15:41)</a>:</h4>
<p>lcamilo15 opened <a href="https://github.com/jamesagnew/hapi-fhir/issues/286" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/286">issue 286</a></p>
<blockquote>
<p>I'm trying to follow your Dynamic Chains example and I'm noticing it is not updating the Overlay/GUI documentation as it does for Encounter-&gt;Patient chain. Can you please point me in the right direction so that I can implement this right or help you fixing the issue inside of the project?</p>
<p>This is what we are trying to accomplish<br>
![Production encounter chain](<a href="http://i.imgur.com/kswQe1F.png" target="_blank" title="http://i.imgur.com/kswQe1F.png">http://i.imgur.com/kswQe1F.png</a>)</p>
<p>This is how it is being rendered on our local environment<br>
![Localhost encounter chain](<a href="http://i.imgur.com/cIuYAms.png" target="_blank" title="http://i.imgur.com/cIuYAms.png">http://i.imgur.com/cIuYAms.png</a>)</p>
<div class="codehilite"><pre><span class="nd">@Search</span><span class="o">()</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Encounter</span><span class="o">&gt;</span> <span class="nf">findEncounter</span><span class="o">(</span>
        <span class="nd">@RequiredParam</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">Encounter</span><span class="o">.</span><span class="na">SP_PATIENT</span><span class="o">,</span>
            <span class="n">chainWhitelist</span> <span class="o">=</span> <span class="o">{</span><span class="n">Patient</span><span class="o">.</span><span class="na">SP_FAMILY</span><span class="o">,</span> <span class="n">Patient</span><span class="o">.</span><span class="na">SP_GENDER</span><span class="o">})</span>
        <span class="n">ReferenceParam</span> <span class="n">theSubject</span><span class="o">)</span>
<span class="o">{</span>
<span class="o">...</span>
 <span class="o">}</span>
</pre></div>


<p>Additional Notes : We are using version 1.3 </p>
</blockquote>
<div class="message_inline_image"><a href="http://i.imgur.com/cIuYAms.png" target="_blank" title="http://i.imgur.com/cIuYAms.png"><img src="http://i.imgur.com/cIuYAms.png"></a></div><div class="message_inline_image"><a href="http://i.imgur.com/kswQe1F.png" target="_blank" title="http://i.imgur.com/kswQe1F.png"><img src="http://i.imgur.com/kswQe1F.png"></a></div>



<a name="153812397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir%3A%20issue%20286%3A%20Resource%20Chain%20not%20working%20as%20docum.../near/153812397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zulip HAPI Bot <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir.3A.20issue.20286.3A.20Resource.20Chain.20not.20working.20as.20docum.2E.2E.2E.html#153812397">(Jan 21 2016 at 03:35)</a>:</h4>
<p>jamesagnew <a href="https://github.com/jamesagnew/hapi-fhir/issues/286#issuecomment-173440453" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/286#issuecomment-173440453">commented</a> on <a href="https://github.com/jamesagnew/hapi-fhir/issues/286" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/286">issue 286</a></p>
<blockquote>
<p>Hi @lcamilo15 - The issue here is definitely that the chains are not being added to the automatically generated conformance statement for your server. I'd say this is an issue with HAPI and not an issue with your code.</p>
<p>The JPA server does add these chains, which is why this works the way you're expecting on our public server. You can see this by looking at the <a href="http://fhirtest.uhn.ca/conformance?serverId=home_dev" target="_blank" title="http://fhirtest.uhn.ca/conformance?serverId=home_dev">conformance statement</a> for our public server. (search for "chain")</p>
<p>The conformance statement is generated by <a href="https://github.com/jamesagnew/hapi-fhir/blob/1ba03f4a9b445c198ca67cd71716ff5a92ffc912/hapi-fhir-structures-dstu2/src/main/java/ca/uhn/fhir/rest/server/provider/dstu2/ServerConformanceProvider.java" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/blob/1ba03f4a9b445c198ca67cd71716ff5a92ffc912/hapi-fhir-structures-dstu2/src/main/java/ca/uhn/fhir/rest/server/provider/dstu2/ServerConformanceProvider.java">ServerConformanceProvider</a>.</p>
<p>The JPA module <a href="https://github.com/jamesagnew/hapi-fhir/blob/479da24cfbb3170c29b1a63fc5af45a5741efeab/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/JpaConformanceProviderDstu2.java" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/blob/479da24cfbb3170c29b1a63fc5af45a5741efeab/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/provider/JpaConformanceProviderDstu2.java">extends that class</a> and adds a few things. One of those things is that chains.</p>
<p>I thing these should be added by ServerConformanceProvider.</p>
<p>Are you interested in taking a crack at this bug? If so, awesome! If not, I'll have a look soon.</p>
</blockquote>



<a name="153812461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir%3A%20issue%20286%3A%20Resource%20Chain%20not%20working%20as%20docum.../near/153812461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zulip HAPI Bot <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir.3A.20issue.20286.3A.20Resource.20Chain.20not.20working.20as.20docum.2E.2E.2E.html#153812461">(Jan 28 2016 at 12:29)</a>:</h4>
<p>jamesagnew <a href="https://github.com/jamesagnew/hapi-fhir/issues/286#issuecomment-176156034" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/286#issuecomment-176156034">commented</a> on <a href="https://github.com/jamesagnew/hapi-fhir/issues/286" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/286">issue 286</a></p>
<blockquote>
<p>Ok, I actually found some time to work on this and I'm committing a fix now.</p>
</blockquote>



<a name="153812469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi-fhir%3A%20issue%20286%3A%20Resource%20Chain%20not%20working%20as%20docum.../near/153812469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zulip HAPI Bot <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi-fhir.3A.20issue.20286.3A.20Resource.20Chain.20not.20working.20as.20docum.2E.2E.2E.html#153812469">(Jan 28 2016 at 13:31)</a>:</h4>
<p>jamesagnew closed <a href="https://github.com/jamesagnew/hapi-fhir/issues/286" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/286">issue 286</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
