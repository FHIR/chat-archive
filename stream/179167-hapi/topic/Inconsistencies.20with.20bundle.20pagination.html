---
layout: page
title: "FHIR Chat  · Inconsistencies with bundle pagination · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination.html">Inconsistencies with bundle pagination</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272601238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Inconsistencies%20with%20bundle%20pagination/near/272601238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination.html#272601238">(Feb 20 2022 at 16:14)</a>:</h4>
<p>I tried to get all Observations of a Server through: /Observation.<br>
I follow the next links in the bundles, but these are stopping after 2200 resources.</p>



<a name="272601257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Inconsistencies%20with%20bundle%20pagination/near/272601257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination.html#272601257">(Feb 20 2022 at 16:14)</a>:</h4>
<p>The server has ~15000 Observations on it.</p>



<a name="272601289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Inconsistencies%20with%20bundle%20pagination/near/272601289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination.html#272601289">(Feb 20 2022 at 16:15)</a>:</h4>
<p>After a lot of tweaking i found a very dirty workaround: i set max-page size to 10.000</p>



<a name="272601348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Inconsistencies%20with%20bundle%20pagination/near/272601348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination.html#272601348">(Feb 20 2022 at 16:16)</a>:</h4>
<p>The server then paginates every 1000 resources (ignoring my setting) but returns all Resources now.</p>



<a name="272601360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Inconsistencies%20with%20bundle%20pagination/near/272601360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination.html#272601360">(Feb 20 2022 at 16:16)</a>:</h4>
<p>Is there a known bug in pagination?</p>



<a name="272705522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Inconsistencies%20with%20bundle%20pagination/near/272705522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination.html#272705522">(Feb 21 2022 at 15:53)</a>:</h4>
<p>I haven't looked at the implementation to have precise details, but I think the HAPI server caches the search results to support subsequent paging requests. Is is possible you are "taking too long" to page through the results and the server is expiring the cache?</p>



<a name="272706076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Inconsistencies%20with%20bundle%20pagination/near/272706076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Inconsistencies.20with.20bundle.20pagination.html#272706076">(Feb 21 2022 at 15:57)</a>:</h4>
<p>unfortunately not. Will try to make this issue reproducable.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
