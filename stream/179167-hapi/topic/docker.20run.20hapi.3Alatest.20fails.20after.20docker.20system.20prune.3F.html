---
layout: page
title: "FHIR Chat  · docker run hapi:latest fails after docker system prune? · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html">docker run hapi:latest fails after docker system prune?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="210537469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210537469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210537469">(Sep 18 2020 at 15:41)</a>:</h4>
<p>This could very well be user error.  But after doing a <code>docker system prune</code> I can no longer run <code>docker run hapiproject/hapi:latest</code> (although I <em>can</em> run <code>hapi:v5.0.0</code>).</p>
<p>What seems to happen is - the server starts but it's in a broken state.  I see this in the logs</p>
<div class="codehilite"><pre><span></span><code>2020-09-18 15:34:49.034 [main] INFO  c.u.f.j.p.PartitionLookupSvcImpl [PartitionLookupSvcImpl.java:83] Creating default partition definition
2020-09-18 15:34:49.134 [main] WARN  c.u.f.jpa.starter.ApplicationContext [AbstractApplicationContext.java:558] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;empiSettings&#39; defined in class path resource [ca/uhn/fhir/jpa/starter/EmpiConfig.class]: Unsatisfied dependency expressed through method &#39;empiSettings&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;ca.uhn.fhir.empi.rules.config.EmpiRuleValidator&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2020-09-18 15:34:49.134 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor [ExecutorConfigurationSupport.java:208] Shutting down ExecutorService &#39;jobLaunchingTaskExecutor&#39;
2020-09-18 15:34:49.143 [main] INFO  c.u.f.j.c.HapiFhirLocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:598] Closing JPA EntityManagerFactory for persistence unit &#39;HAPI_PU&#39;
2020-09-18 15:34:49.178 [main] ERROR o.s.web.context.ContextLoader [ContextLoader.java:313] Context initialization failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;empiSettings&#39; defined in class path resource [ca/uhn/fhir/jpa/starter/EmpiConfig.class]: Unsatisfied dependency expressed through method &#39;empiSettings&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;ca.uhn.fhir.empi.rules.config.EmpiRuleValidator&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)
        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)
        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)
        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)
        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4682)
        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5150)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)
        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:978)
        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1849)
        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)
        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:773)
        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)
        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1576)
        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)
        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)
        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)
        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)
        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:929)
        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)
        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)
        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)
        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)
        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:932)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:633)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:344)
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;ca.uhn.fhir.empi.rules.config.EmpiRuleValidator&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1695)
        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1253)
        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207)
        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
        ... 56 common frames omitted
18-Sep-2020 15:34:49.179 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file
18-Sep-2020 15:34:49.185 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal Context [/hapi-fhir-jpaserver] startup failed due to previous errors
18-Sep-2020 15:34:49.209 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [hapi-fhir-jpaserver] registered the JDBC driver [org.h2.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.
18-Sep-2020 15:34:49.211 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [hapi-fhir-jpaserver] appears to have started a thread named [hapi-fhir-jpa-scheduler-local-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.3/java.lang.Object.wait(Native Method)
 org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:568)
18-Sep-2020 15:34:49.212 WARNING [main] org.apache
</code></pre></div>



<a name="210537588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210537588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210537588">(Sep 18 2020 at 15:42)</a>:</h4>
<p>Again, this image was apparently working until I did a <code>docker system prune</code>.</p>
<p>And, I confirmed that I could run <code>v5.0.0</code>, but <code>v5.1.0</code> (the latest) doesn't run.</p>



<a name="210538773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210538773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210538773">(Sep 18 2020 at 15:50)</a>:</h4>
<p>I'm running docker 2.3.0.5 (the latest) on OSX, FWIW</p>



<a name="210540706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210540706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210540706">(Sep 18 2020 at 16:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span>, any ideas?</p>



<a name="210567688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210567688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210567688">(Sep 18 2020 at 19:52)</a>:</h4>
<p><span class="user-mention" data-user-id="233081">@Carl Anderson</span> are you running on master?</p>



<a name="210575818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210575818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210575818">(Sep 18 2020 at 21:10)</a>:</h4>
<p><span class="user-mention" data-user-id="233081">@Carl Anderson</span> may I suggest you check the documentation once <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/140">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/140</a> is accepted</p>



<a name="210751098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210751098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210751098">(Sep 21 2020 at 14:43)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> for the link to the PR.  I was not using hapi from source, I was just using the latest image in dockerhub.</p>
<p>Also, FWIW, after I saw the PR was merged I tried the following and still see the same error:</p>
<div class="codehilite"><pre><span></span><code>docker pull hapiproject/hapi:latest
docker run -p 8081:8080 -e &quot;spring.batch.job.enabled=false&quot; hapiproject/hapi:latest
</code></pre></div>


<p>Perhaps a new version of the docker image hasn't been released yet?</p>



<a name="210751282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210751282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210751282">(Sep 21 2020 at 14:45)</a>:</h4>
<p>Afaik It has not</p>



<a name="210751491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210751491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210751491">(Sep 21 2020 at 14:46)</a>:</h4>
<p>Building from source however only requires docker</p>



<a name="210751556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210751556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210751556">(Sep 21 2020 at 14:46)</a>:</h4>
<p>If you're up for it <span class="user-mention" data-user-id="233081">@Carl Anderson</span></p>



<a name="210762741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210762741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210762741">(Sep 21 2020 at 16:03)</a>:</h4>
<p>I tried <code>mvn install</code> and then (after test failures) <code>mvn -P ALLMODULES,NOPARALLEL install</code>.  I get many such failures after ~20 minutes:</p>
<div class="codehilite"><pre><span></span><code>[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running ca.uhn.fhir.jpa.dao.r4.FhirResourceDaoR4SearchLastNAsyncIT
[ERROR] Tests run: 13, Failures: 0, Errors: 13, Skipped: 0, Time elapsed: 150.808 s &lt;&lt;&lt; FAILURE! - in ca.uhn.fhir.jpa.dao.r4.FhirResourceDaoR4SearchLastNAsyncIT
[ERROR] testLastNSingleCategory  Time elapsed: 0.013 s  &lt;&lt;&lt; ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in ca.uhn.fhir.jpa.config.TestR4ConfigWithElasticsearchClient: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaProperties&#39; defined in ca.uhn.fhir.jpa.config.TestR4ConfigWithElasticsearchClient: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [java.util.Properties]: Factory method &#39;jpaProperties&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;embeddedElasticSearch&#39; defined in ca.uhn.fhir.jpa.config.TestR4ConfigWithElasticsearchClient: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [pl.allegro.tech.embeddedelasticsearch.EmbeddedElastic]: Factory method &#39;embeddedElasticSearch&#39; threw exception; nested exception is pl.allegro.tech.embeddedelasticsearch.EmbeddedElasticsearchStartupException: Failed to start elasticsearch. Check previous logs for details
</code></pre></div>


<p>Right now it's still going, taking a long time on:</p>
<div class="codehilite"><pre><span></span><code>[INFO] Running ca.uhn.fhir.jpa.dao.r4.PersistObservationIndexedSearchParamLastNR4IT
</code></pre></div>


<p>Do I need to install elasticsearch before building?  I've been following along in the <a href="https://hapifhir.io/hapi-fhir/docs/contributing/hacking_guide.html">hacking guide</a>.</p>



<a name="210765255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210765255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210765255">(Sep 21 2020 at 16:23)</a>:</h4>
<p>Yah, I haven't rebuilt the latest</p>



<a name="210765304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210765304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210765304">(Sep 21 2020 at 16:23)</a>:</h4>
<p>Docker hub's automatic builds don't work... they just hang half-way through building the image</p>



<a name="210765334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210765334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210765334">(Sep 21 2020 at 16:23)</a>:</h4>
<p>so, I have to manually build and push the image</p>



<a name="210765596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210765596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210765596">(Sep 21 2020 at 16:25)</a>:</h4>
<p>I'm building now... will push <code>:latest</code> assuming it builds successfully</p>



<a name="210767070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767070">(Sep 21 2020 at 16:38)</a>:</h4>
<p>I've updated latest</p>



<a name="210767404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767404">(Sep 21 2020 at 16:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> you do realize that the previous version of the Docker file (<a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/af6bd69db027c6632283d03947a1b3ac4eeac4d7#diff-3254677a7917c6c01f55212f86c57fbf">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/af6bd69db027c6632283d03947a1b3ac4eeac4d7#diff-3254677a7917c6c01f55212f86c57fbf</a>) required input while building the image which definitely would cause any automated setup to halt?</p>



<a name="210767591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767591">(Sep 21 2020 at 16:43)</a>:</h4>
<p><span class="user-mention" data-user-id="233081">@Carl Anderson</span> it doesn't sound like you cloned  <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter">https://github.com/hapifhir/hapi-fhir-jpaserver-starter</a> and then ran ./build-docker-image. That should only take a max of 5-10 minutes or so an puts no requirements on your local environment</p>



<a name="210767794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767794">(Sep 21 2020 at 16:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> if the state of master with its current dockerfile (<a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/blob/master/Dockerfile">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/blob/master/Dockerfile</a>) does not work in the automated build setup, then let me know.</p>



<a name="210767802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767802">(Sep 21 2020 at 16:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> not sure what you mean...</p>



<a name="210767833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767833">(Sep 21 2020 at 16:45)</a>:</h4>
<p>what input does the dockerfile require?</p>



<a name="210767859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767859">(Sep 21 2020 at 16:45)</a>:</h4>
<p>I've ran these docker files without any extra input since day one</p>



<a name="210767910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767910">(Sep 21 2020 at 16:45)</a>:</h4>
<p>didn't you as well ran on an unversioned ubuntu?</p>



<a name="210767925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767925">(Sep 21 2020 at 16:45)</a>:</h4>
<p>Also, DevOps automatically builds it just fine, it's only docker hub that freezes</p>



<a name="210767995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210767995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210767995">(Sep 21 2020 at 16:46)</a>:</h4>
<p>no, have run it on win10...</p>



<a name="210768006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768006">(Sep 21 2020 at 16:46)</a>:</h4>
<p><em>and</em> ubuntu</p>



<a name="210768044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768044">(Sep 21 2020 at 16:46)</a>:</h4>
<p>your dockerr file claimed "FROM ubuntu"</p>



<a name="210768063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768063">(Sep 21 2020 at 16:46)</a>:</h4>
<p>oh I see what you mean</p>



<a name="210768070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768070">(Sep 21 2020 at 16:47)</a>:</h4>
<p>ok, yes.</p>



<a name="210768105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768105">(Sep 21 2020 at 16:47)</a>:</h4>
<p>I noticed that when I ran the previous dockerfile, the installation of Java required input from the terminal</p>



<a name="210768121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768121">(Sep 21 2020 at 16:47)</a>:</h4>
<p>building the image</p>



<a name="210768134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768134">(Sep 21 2020 at 16:47)</a>:</h4>
<p>and that causes a halt</p>



<a name="210768150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768150">(Sep 21 2020 at 16:47)</a>:</h4>
<p>the current setup is free of such halts</p>



<a name="210768363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210768363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210768363">(Sep 21 2020 at 16:49)</a>:</h4>
<p>so <span class="user-mention" data-user-id="191505">@Sean McIlvenna</span> where does things stop right now? do you have a log I can see?</p>



<a name="210769771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210769771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210769771">(Sep 21 2020 at 17:01)</a>:</h4>
<p>looking at the build history on docker hub, I see the last <code>:latest</code> actually succeeded</p>



<a name="210769787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210769787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210769787">(Sep 21 2020 at 17:01)</a>:</h4>
<p>but all of the ones prior to that hung up and had to be canceled</p>



<a name="210769893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210769893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210769893">(Sep 21 2020 at 17:02)</a>:</h4>
<p>I'll try manually triggering docker hub's build, and just leave it, and see if it ever finishes</p>



<a name="210769925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210769925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210769925">(Sep 21 2020 at 17:02)</a>:</h4>
<p>part of the problem is that docker hub doesn't handle the massive log size from maven getting 1000's of the dependencies</p>



<a name="210769933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210769933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210769933">(Sep 21 2020 at 17:02)</a>:</h4>
<p>and freezes the browser</p>



<a name="210769958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210769958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210769958">(Sep 21 2020 at 17:02)</a>:</h4>
<p>anyways, we'll see what happens</p>



<a name="210770026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210770026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210770026">(Sep 21 2020 at 17:03)</a>:</h4>
<p>it's running now</p>



<a name="210770980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210770980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210770980">(Sep 21 2020 at 17:10)</a>:</h4>
<p>FYI, docker hub performs much better in chrome... doesn't perform well <em>at all</em> in firefox</p>



<a name="210771554"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771554" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771554">(Sep 21 2020 at 17:14)</a>:</h4>
<p>hmmm... the last successful build ran in 6 minutes. we're approaching 12 now on this one</p>



<a name="210771594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771594">(Sep 21 2020 at 17:14)</a>:</h4>
<p>kill it</p>



<a name="210771674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771674">(Sep 21 2020 at 17:15)</a>:</h4>
<p>In this PR, I've made maven quite</p>



<a name="210771676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771676">(Sep 21 2020 at 17:15)</a>:</h4>
<p><a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/141">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/141</a></p>



<a name="210771863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771863">(Sep 21 2020 at 17:16)</a>:</h4>
<p>"I've made maven quite..."???</p>



<a name="210771891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771891">(Sep 21 2020 at 17:17)</a>:</h4>
<p>quite fast? quite better? ;)</p>



<a name="210771907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771907">(Sep 21 2020 at 17:17)</a>:</h4>
<p>less verbose</p>



<a name="210771915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771915">(Sep 21 2020 at 17:17)</a>:</h4>
<p>what does <code>-ntp</code> do?</p>



<a name="210771927"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771927" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771927">(Sep 21 2020 at 17:17)</a>:</h4>
<p>quite quieter  :-)</p>



<a name="210771963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771963">(Sep 21 2020 at 17:17)</a>:</h4>
<p>"Do not display transfer progress when downloading or uploading"</p>



<a name="210771968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771968">(Sep 21 2020 at 17:17)</a>:</h4>
<p>gotcha</p>



<a name="210771994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210771994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210771994">(Sep 21 2020 at 17:17)</a>:</h4>
<p>that's nice</p>



<a name="210772200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772200">(Sep 21 2020 at 17:19)</a>:</h4>
<p>quiet</p>



<a name="210772216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772216">(Sep 21 2020 at 17:19)</a>:</h4>
<p>argh.</p>



<a name="210772390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772390">(Sep 21 2020 at 17:20)</a>:</h4>
<p>gotcha lol</p>



<a name="210772414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772414">(Sep 21 2020 at 17:20)</a>:</h4>
<p>so... it auto-triggered build</p>



<a name="210772422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772422">(Sep 21 2020 at 17:20)</a>:</h4>
<p>will see what happens</p>



<a name="210772459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772459">(Sep 21 2020 at 17:20)</a>:</h4>
<p>according to the logs from my canceled build, it was still downloading maven dependencies</p>



<a name="210772486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772486">(Sep 21 2020 at 17:20)</a>:</h4>
<p>oddly, noticed that CI triggered TWO builds for the same commit</p>



<a name="210772492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772492">(Sep 21 2020 at 17:20)</a>:</h4>
<p>no idea why</p>



<a name="210772716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772716">(Sep 21 2020 at 17:22)</a>:</h4>
<p>putting 2 boys to sleep while engaging with the open source community in an non-native tounge is a PITA</p>



<a name="210772737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772737">(Sep 21 2020 at 17:22)</a>:</h4>
<p>lol</p>



<a name="210772747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772747">(Sep 21 2020 at 17:22)</a>:</h4>
<p>I can only imagine</p>



<a name="210772755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210772755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210772755">(Sep 21 2020 at 17:22)</a>:</h4>
<p>doing good :)</p>



<a name="210773903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210773903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210773903">(Sep 21 2020 at 17:31)</a>:</h4>
<p>success!</p>



<a name="210773909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210773909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210773909">(Sep 21 2020 at 17:31)</a>:</h4>
<p>still took 12 minutes</p>



<a name="210773918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210773918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210773918">(Sep 21 2020 at 17:31)</a>:</h4>
<p>but it succeeded</p>



<a name="210773935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210773935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210773935">(Sep 21 2020 at 17:31)</a>:</h4>
<p>no idea why it's double-building still</p>



<a name="210773945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210773945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210773945">(Sep 21 2020 at 17:32)</a>:</h4>
<p>but, that's <em>less</em> of an issue</p>



<a name="210774349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210774349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210774349">(Sep 21 2020 at 17:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F/near/210772716">said</a>:</p>
<blockquote>
<p>putting 2 boys to sleep ... is a PITA</p>
</blockquote>
<p>As a parent of 2 boys, I fixed it for you  :-).</p>



<a name="210775601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210775601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210775601">(Sep 21 2020 at 17:45)</a>:</h4>
<p><a href="/user_uploads/10155/tkDiTf-5U31P2fzaSCDJHHla/image.png">image.png</a> ... I have a daugther  as well ;)</p>
<div class="message_inline_image"><a href="/user_uploads/10155/tkDiTf-5U31P2fzaSCDJHHla/image.png" title="image.png"><img src="/user_uploads/10155/tkDiTf-5U31P2fzaSCDJHHla/image.png"></a></div>



<a name="210775699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/docker%20run%20hapi%3Alatest%20fails%20after%20docker%20system%20prune%3F/near/210775699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/docker.20run.20hapi.3Alatest.20fails.20after.20docker.20system.20prune.3F.html#210775699">(Sep 21 2020 at 17:46)</a>:</h4>
<p>but great stuff if the quite quieter maven works ;)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
