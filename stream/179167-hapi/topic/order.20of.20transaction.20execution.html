---
layout: page
title: "FHIR Chat  · order of transaction execution · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/order.20of.20transaction.20execution.html">order of transaction execution</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="231631114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/order%20of%20transaction%20execution/near/231631114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/order.20of.20transaction.20execution.html#231631114">(Mar 24 2021 at 13:15)</a>:</h4>
<p>When sending a transaction to the current hapi jpastarter (5.3.0) hapi changes the order of the request.</p>



<a name="231631235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/order%20of%20transaction%20execution/near/231631235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/order.20of.20transaction.20execution.html#231631235">(Mar 24 2021 at 13:16)</a>:</h4>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
  <span class="nt">"resourceType"</span><span class="p">:</span> <span class="s2">"Bundle"</span><span class="p">,</span>
  <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"transaction"</span><span class="p">,</span>
  <span class="nt">"entry"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">"request"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
        <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"Observation?_has:DiagnosticReport:result:_id=24471"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">"request"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
        <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"/List?code=C115916&amp;subject=5016"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="nt">"request"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span> <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"DiagnosticReport/24471"</span> <span class="p">}</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>



<a name="231631435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/order%20of%20transaction%20execution/near/231631435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/order.20of.20transaction.20execution.html#231631435">(Mar 24 2021 at 13:17)</a>:</h4>
<p>I expected, that the order of the entries would be the order of execution. But hapi first deletes the DR, and then fails to delete the Observations</p>



<a name="231632145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/order%20of%20transaction%20execution/near/231632145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/order.20of.20transaction.20execution.html#231632145">(Mar 24 2021 at 13:22)</a>:</h4>
<p>switching the entries around doesn't resolve the issue <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> <br>
<img alt=":hapi:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/10155/emoji/images/13574.png" title="hapi"></p>



<a name="231779200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/order%20of%20transaction%20execution/near/231779200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/order.20of.20transaction.20execution.html#231779200">(Mar 25 2021 at 10:49)</a>:</h4>
<p><a href="https://github.com/hapifhir/hapi-fhir/issues/2501">https://github.com/hapifhir/hapi-fhir/issues/2501</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
