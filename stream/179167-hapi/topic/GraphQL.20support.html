---
layout: page
title: "FHIR Chat  · GraphQL support · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html">GraphQL support</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153953266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/153953266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ye Wang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#153953266">(Apr 19 2018 at 20:48)</a>:</h4>
<p>Is the support for GraphQL ready in HAPI? I found this post <a href="https://groups.google.com/forum/#!topic/hapi-fhir/OJm_nQAQuB0" target="_blank" title="https://groups.google.com/forum/#!topic/hapi-fhir/OJm_nQAQuB0">https://groups.google.com/forum/#!topic/hapi-fhir/OJm_nQAQuB0</a>. But it seems there's no mentioning of GraphQL at HAPI website. <span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="153963792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/153963792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#153963792">(May 20 2018 at 15:45)</a>:</h4>
<p>GraphQL remains an experimental feature for now, so it doens't get much mention in the documentation. My expectation is that once R4 is balloted we wll firm up this support and document it.</p>



<a name="155066279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/155066279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Cheung <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#155066279">(Jan 14 2019 at 07:05)</a>:</h4>
<p>Are there any updates on graphQL support?</p>



<a name="228936606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/228936606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Branko Mlikota <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#228936606">(Mar 05 2021 at 11:18)</a>:</h4>
<p>Please help,</p>
<p>does anybody know how to use ca.uhn.fhir.jpa.provider.GraphQLProvider?</p>
<p>I would like to execute something like<br>
<a href="http://localhost:8091/fhir/CodeSystem/7/$graphql?query={name,status,concept(_count:2,_offset:3){code,definition}}">http://localhost:8091/fhir/CodeSystem/7/$graphql?query={name,status,concept(_count:2,_offset:3){code,definition}}</a></p>
<p>through hapi fhir client<br>
<a href="https://hapifhir.io/hapi-fhir/docs/client/introduction.html">https://hapifhir.io/hapi-fhir/docs/client/introduction.html</a></p>



<a name="233723697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/233723697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#233723697">(Apr 08 2021 at 20:34)</a>:</h4>
<p>Could someone chime in on how is the GraphQL support in 5.4? Is it now production ready and out of experimental feature mode?</p>



<a name="235793078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/235793078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#235793078">(Apr 23 2021 at 06:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> please let us know if GraphQL is supported is HAPI &gt;= 5.3 </p>
<p>On 5.3 with <code>graphql_enabled: true</code> when I execute this query <code>/fhir/$graphql?query={Patient(id:113257687){id,name{given,family}}}</code> I get the following response</p>
<div class="codehilite"><pre><span></span><code>HTTP Status 400 – Bad Request

Type Exception Report

Message Invalid character found in the request target [/fhir/$graphql?query={Patient(id:113257687){id,name{given,family}}}]. The valid characters are defined in RFC 7230 and RFC 3986

Description The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).

Exception

java.lang.IllegalArgumentException: Invalid character found in the request target [/fhir/$graphql?query={Patient(id:113257687){id,name{given,family}}}]. The valid characters are defined in RFC 7230 and RFC 3986
    org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:486)
    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:261)
    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
    java.base/java.lang.Thread.run(Thread.java:834)

Note The full stack trace of the root cause is available in the server logs.
Apache Tomcat/9.0.38
</code></pre></div>
<p>Any idea ? Is something wrong in my application.yml ?</p>



<a name="235793637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/235793637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#235793637">(Apr 23 2021 at 06:35)</a>:</h4>
<p>Does anyone know if GraphQL is supported in HAPI FHIR open source or is it only in Paid version?</p>



<a name="235927303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/235927303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#235927303">(Apr 24 2021 at 00:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> ^if you are the right person please opine, thanks</p>



<a name="242743592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/242743592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordi Cabré <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#242743592">(Jun 15 2021 at 14:46)</a>:</h4>
<p>Is there any way to get graphql schema?</p>



<a name="242790159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/242790159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#242790159">(Jun 15 2021 at 19:55)</a>:</h4>
<p>there's code to generate the schema somewhere, but I don't know that's hooked up</p>



<a name="242808093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/242808093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Venu Gopal <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#242808093">(Jun 15 2021 at 22:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I'd be interested to know if its there. AFAIK, Asymmetrik guys did it using some tool either they developed or facebook provided. This is important because there are a lot schemas, inputs, search params..</p>



<a name="242808196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/242808196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#242808196">(Jun 15 2021 at 22:34)</a>:</h4>
<p>this is the core code: org.hl7.fhir.r5.utils.GraphQLSchemaGenerator</p>
<p>Someone like <span class="user-mention" data-user-id="191319">@James Agnew</span> would have to comment about hooking it up in HAPI</p>



<a name="242871402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/242871402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordi Cabré <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#242871402">(Jun 16 2021 at 12:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>  Any idea?</p>



<a name="242988493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/242988493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordi Cabré <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#242988493">(Jun 17 2021 at 08:45)</a>:</h4>
<p>Is there any way to perform a graphql asyncrhonously?</p>



<a name="243004222"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/243004222" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#243004222">(Jun 17 2021 at 11:32)</a>:</h4>
<p>I think that the async pattern should work for that</p>



<a name="243123459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/243123459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jordi Cabré <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#243123459">(Jun 18 2021 at 07:07)</a>:</h4>
<p>What do you mean exactly? I played with <code>Prefer: respond-async</code> header. But it doesn't work...</p>



<a name="248499065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/248499065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dsh <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#248499065">(Aug 05 2021 at 16:09)</a>:</h4>
<p>Using GraphQL is it possible to do population health queries e.g. count of COVID-19 patients (i.e. condition code = "U07.1" ) ?</p>



<a name="252176407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/GraphQL%20support/near/252176407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Pilar <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/GraphQL.20support.html#252176407">(Sep 06 2021 at 13:33)</a>:</h4>
<p>I'm facing similar problem here. I'd like to run GraphQL query on CodeSystem or ValueSet, but whatever I do I get 400.<br>
The best I get is { "data": {}} for URL .../fhir/r4/$graphql?query=<br>
<span class="user-mention" data-user-id="191319">@James Agnew</span> how should graphql query look like in case of CodeSystems when I'd like to search for text pattern on display name? I'm using version 5.4</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
