---
layout: page
title: "FHIR Chat  · Escaping the character ampersand · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Escaping.20the.20character.20ampersand.html">Escaping the character ampersand</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="267552929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Escaping%20the%20character%20ampersand/near/267552929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Escaping.20the.20character.20ampersand.html#267552929">(Jan 11 2022 at 08:57)</a>:</h4>
<p>When escaping the character ampersand (&amp;) in an address, the json seems right(i.e., "&amp; a m p ;") but the xml shows "&amp; a m p ; a m p ;"(here, extra spacebars for displaying it correctly, and actually there are no such spacebars).  Is that right?</p>



<a name="267553059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Escaping%20the%20character%20ampersand/near/267553059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Escaping.20the.20character.20ampersand.html#267553059">(Jan 11 2022 at 08:58)</a>:</h4>
<p>My Environment: HAPI-FHIR/5.1.0 (FHIR Client; FHIR 4.0.1/R4; apache)</p>



<a name="267579409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Escaping%20the%20character%20ampersand/near/267579409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Escaping.20the.20character.20ampersand.html#267579409">(Jan 11 2022 at 13:21)</a>:</h4>
<p>why would you escape it in the JSON representation?</p>



<a name="267584300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Escaping%20the%20character%20ampersand/near/267584300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Escaping.20the.20character.20ampersand.html#267584300">(Jan 11 2022 at 13:59)</a>:</h4>
<p>The resource was constructed with the IGeneticClient (See <a href="https://hapifhir.io/hapi-fhir/docs/client/examples.html">https://hapifhir.io/hapi-fhir/docs/client/examples.html</a>). The JSON and XML instance are both representations of the same result.  Without escaping, the script would fail with an error/exception.</p>



<a name="267595372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Escaping%20the%20character%20ampersand/near/267595372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Venton <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Escaping.20the.20character.20ampersand.html#267595372">(Jan 11 2022 at 15:14)</a>:</h4>
<p>What you see would appear to be the xml escaping a json blob (containing json escaping). Which if you want xml to contain json blobs it would be correct. Generally you'd take your source data and escape it one time into the desired format and for a different format you'd start at source (not the previous serialization). Perhaps you have a json deserialize xml serialize process that doesn't un-escape the json before it escapes the data for xml?</p>
<p>Perhaps as stated it shouldn't have been escaped in the json to begin with?</p>



<a name="267658962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Escaping%20the%20character%20ampersand/near/267658962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Escaping.20the.20character.20ampersand.html#267658962">(Jan 11 2022 at 22:59)</a>:</h4>
<p>When creating and submitting such an instance, there is no explicit setting(s) to use JSON or XML.  At least, the error/exception would be thrown out when trying to generate the XHML narrative.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
