---
layout: page
title: "FHIR Chat  · Multi-service support · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Multi-service.20support.html">Multi-service support</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153971968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Multi-service%20support/near/153971968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Gabrin <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Multi-service.20support.html#153971968">(Jun 26 2018 at 21:14)</a>:</h4>
<p>Hi all,</p>
<p>We are currently using the HAPI multi-tenancy support capabilities in HAPI server, and are looking to support multiple EMR services (Cerner, Epic, Allscripts, etc.) within each of these tenants. We would like our URL structure to look something like this:</p>
<div class="codehilite"><pre><span></span>/&lt;tenant&gt;/&lt;service&gt;/&lt;resource&gt;?&lt;query_params&gt;
</pre></div>


<p>as opposed to this:</p>
<div class="codehilite"><pre><span></span>/&lt;tenant&gt;/&lt;resource&gt;?&lt;query_params&gt;
</pre></div>


<p>where the point on entry for the hapi server is <code>/&lt;tenant&gt;</code> in both cases. Is this something that a custom server addressing strategy could accomplish, or is there another approach that anybody has used to solve a problem like this?</p>
<p>Thanks for your input!!</p>



<a name="153971978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Multi-service%20support/near/153971978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Multi-service.20support.html#153971978">(Jun 26 2018 at 21:44)</a>:</h4>
<p>I don't think a server address strategy would be able to handle this unfortunately. To be honest, the only mechanism I can think of (and it's kind of clunky) would be to use a servlet filter outside the servlet to capture the service identifier, store it in an attribute in the request, then to rewrite the request URI to strip the service identifier.</p>



<a name="153972060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Multi-service%20support/near/153972060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Gabrin <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Multi-service.20support.html#153972060">(Jun 27 2018 at 11:59)</a>:</h4>
<p>Ok, that is the route that we were beginning to venture down, but I wanted to check before we got too deep in to that work. Thank you for the help!!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
