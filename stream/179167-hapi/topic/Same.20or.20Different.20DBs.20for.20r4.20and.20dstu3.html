---
layout: page
title: "FHIR Chat  · Same or Different DBs for r4 and dstu3 · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Same.20or.20Different.20DBs.20for.20r4.20and.20dstu3.html">Same or Different DBs for r4 and dstu3</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="213076800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Same%20or%20Different%20DBs%20for%20r4%20and%20dstu3/near/213076800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shreshta Balachandar <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Same.20or.20Different.20DBs.20for.20r4.20and.20dstu3.html#213076800">(Oct 12 2020 at 19:20)</a>:</h4>
<p>Hey everyone,</p>
<p>Have a small question that I might already know the answer to. I am planning for a HAPI FHIR JPA implementation with a Postgres database. Is it possible to use the same database for both R4 and DSTU3 HAPI FHIR servers? Or will I need to provision two separate databases? Thanks in advance!</p>



<a name="213472495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Same%20or%20Different%20DBs%20for%20r4%20and%20dstu3/near/213472495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shreshta Balachandar <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Same.20or.20Different.20DBs.20for.20r4.20and.20dstu3.html#213472495">(Oct 15 2020 at 19:01)</a>:</h4>
<p>Hi all,</p>
<p>Wanted to follow up on this. I noticed that the <code>hfj_resource</code> table had a <code>res_version</code> column. Does this mean I can point both my r4 and stu3 server to the same database?</p>
<p>Thanks!</p>



<a name="213592766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Same%20or%20Different%20DBs%20for%20r4%20and%20dstu3/near/213592766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Same.20or.20Different.20DBs.20for.20r4.20and.20dstu3.html#213592766">(Oct 16 2020 at 17:52)</a>:</h4>
<p>res_version is the version of the resource it self - it is not bound to the FHIR version</p>



<a name="213611307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Same%20or%20Different%20DBs%20for%20r4%20and%20dstu3/near/213611307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shreshta Balachandar <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Same.20or.20Different.20DBs.20for.20r4.20and.20dstu3.html#213611307">(Oct 16 2020 at 20:39)</a>:</h4>
<p>Thanks Jens! In that case, can I connect different versions of a FHIR server to the same database? Wanted to check if I would be required to procure a second database if I want to support both r4 and stu3</p>



<a name="214334109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Same%20or%20Different%20DBs%20for%20r4%20and%20dstu3/near/214334109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shreshta Balachandar <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Same.20or.20Different.20DBs.20for.20r4.20and.20dstu3.html#214334109">(Oct 23 2020 at 16:22)</a>:</h4>
<p>Got the answer to this. Tons of errors when reading data that is not the server's version and doesn't look like there's a search param for filtering resources of a specific version. Will move forward with the 2 DBs approach</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
