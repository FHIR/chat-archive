---
layout: page
title: "FHIR Chat  · Conditional FHIR Patch · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20FHIR.20Patch.html">Conditional FHIR Patch</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230693165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Conditional%20FHIR%20Patch/near/230693165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20FHIR.20Patch.html#230693165">(Mar 17 2021 at 13:52)</a>:</h4>
<p>Does FHIRPatch or JSON Patch in a Bundle support conditional patch, like create, using <code>If-None-Exist</code> as a standalone request and as a part of a transaction (<code>ifNoneMatch</code>)?</p>



<a name="230819916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Conditional%20FHIR%20Patch/near/230819916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20FHIR.20Patch.html#230819916">(Mar 18 2021 at 06:45)</a>:</h4>
<p>What I'm trying to do is, patch a <code>Group</code> resource to add few practitioners, but only if these practitioners aren't already members of an existing group. I've tried this, and it doesn't work </p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;type&quot;: &quot;transaction&quot;,
    &quot;entry&quot;: [
        {
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;Binary&quot;,
                &quot;contentType&quot;: &quot;application/json-patch+json&quot;,
                &quot;data&quot;: &quot;base64(patch doc below)&quot;
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;PATCH&quot;,
                &quot;url&quot;: &quot;Group/48&quot;,
                &quot;ifNoneExist&quot;: &quot;member=3,1,26&quot;
            }
        }
    ]
}
</code></pre></div>
<p>Patch doc </p>
<div class="codehilite"><pre><span></span><code>[
    {
        &quot;op&quot;: &quot;add&quot;,
        &quot;path&quot;: &quot;/member&quot;,
        &quot;value&quot;: []
    },
    {
        &quot;op&quot;: &quot;add&quot;,
        &quot;path&quot;: &quot;/member/-&quot;,
        &quot;value&quot;: {
            &quot;entity&quot;: {
                &quot;reference&quot;: &quot;Practitioner/1&quot;,
                &quot;type&quot;: &quot;Practitioner&quot;
            },
            &quot;inactive&quot;: false
        }
    },
    // and so on
]
</code></pre></div>



<a name="230820656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Conditional%20FHIR%20Patch/near/230820656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20FHIR.20Patch.html#230820656">(Mar 18 2021 at 06:58)</a>:</h4>
<p>I don't think it does, what are my options?</p>



<a name="230820757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Conditional%20FHIR%20Patch/near/230820757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20FHIR.20Patch.html#230820757">(Mar 18 2021 at 07:00)</a>:</h4>
<p>This seems to call for the same additional expressivity as <a href="#narrow/stream/179167-hapi/topic/PATCH.20a.20List">https://chat.fhir.org/#narrow/stream/179167-hapi/topic/PATCH.20a.20List</a></p>



<a name="230820908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Conditional%20FHIR%20Patch/near/230820908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Conditional.20FHIR.20Patch.html#230820908">(Mar 18 2021 at 07:02)</a>:</h4>
<p>i.e. both want the ability to apply a patch (do delete in that case, don't add in your case) depending on the results of a match against the existing contents</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
