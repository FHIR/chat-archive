---
layout: page
title: "FHIR Chat  · HAPI FHIR CLI failed to upload terminology (LOINC v2.69) · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20CLI.20failed.20to.20upload.20terminology.20(LOINC.20v2.2E69).html">HAPI FHIR CLI failed to upload terminology (LOINC v2.69)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221270212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20CLI%20failed%20to%20upload%20terminology%20%28LOINC%20v2.69%29/near/221270212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Azizul Lau <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20CLI.20failed.20to.20upload.20terminology.20(LOINC.20v2.2E69).html#221270212">(Dec 31 2020 at 05:08)</a>:</h4>
<p>Hi, I<code>m just set up a HAPI FHIR 5.2 server (R4 version) using Docker using hapiproject/hapi image.  When I</code>m trying to upload terminology (LOINC v2.69) using HAPI FHIR CLI but its fail with error "Unknown file: hapi-fhir-cli5086905413546946611.zip".  I include the process log below:</p>
<p>[root@locahost hapi-fhir-tools]# ./hapi-fhir-cli upload-terminology -d Loinc_2.69.zip -v r4 -t <a href="http://localhost/fhir">http://localhost/fhir</a> -u <a href="http://loinc.org">http://loinc.org</a></p>
<hr>
<p><span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span>  HAPI FHIR 5.2.0 - Command Line Tool</p>
<hr>
<p>Process ID                      : 4413@localhost<br>
Max configured JVM memory (Xmx) : 6.9GB<br>
Detected Java version           : 1.8.0_275</p>
<hr>
<p>2020-12-31 10:34:20.356 [main] INFO  c.u.f.c.UploadTerminologyCommand Adding ZIP file: Loinc_2.69.zip<br>
2020-12-31 10:34:21.668 [main] INFO  c.u.f.c.UploadTerminologyCommand File size is greater than 10 MB - Going to use a local file reference instead of a direct HTTP transfer. Note that this will only work when executing this command on the same server as the FHIR server itself.<br>
2020-12-31 10:34:22.378 [main] INFO  c.u.f.c.UploadTerminologyCommand Beginning upload - This may take a while...<br>
2020-12-31 10:34:23.217 [main] ERROR c.u.f.c.UploadTerminologyCommand Received the following response:<br>
{<br>
  "resourceType": "OperationOutcome",<br>
  "text": {<br>
    "status": "generated",<br>
    "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\"0\"&gt;&lt;tr&gt;&lt;td style=\"font-weight: bold;\"&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Unknown file: hapi-fhir-cli5086905413546946611.zip&lt;/pre&gt;&lt;/td&gt;\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;"<br>
  },<br>
  "issue": [ {<br>
    "severity": "error",<br>
    "code": "processing",<br>
    "diagnostics": "Unknown file: hapi-fhir-cli5086905413546946611.zip"<br>
  } ]<br>
}<br>
2020-12-31 10:34:23.218 [main] ERROR ca.uhn.fhir.cli.App Error during execution:<br>
ca.uhn.fhir.rest.server.exceptions.InvalidRequestException: HTTP 400 : Unknown file: hapi-fhir-cli5086905413546946611.zip<br>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)<br>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)<br>
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)<br>
        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)<br>
        at ca.uhn.fhir.rest.server.exceptions.BaseServerResponseException.newInstance(BaseServerResponseException.java:302)<br>
        at ca.uhn.fhir.rest.client.impl.BaseClient.invokeClient(BaseClient.java:351)<br>
        at ca.uhn.fhir.rest.client.impl.GenericClient$BaseClientExecutable.invoke(GenericClient.java:540)<br>
        at ca.uhn.fhir.rest.client.impl.GenericClient$OperationInternal.execute(GenericClient.java:1314)<br>
        at ca.uhn.fhir.cli.UploadTerminologyCommand.invokeOperation(UploadTerminologyCommand.java:204)<br>
        at ca.uhn.fhir.cli.UploadTerminologyCommand.run(UploadTerminologyCommand.java:113)<br>
        at ca.uhn.fhir.cli.BaseApp.run(BaseApp.java:268)<br>
        at ca.uhn.fhir.cli.App.main(App.java:43)<br>
2020-12-31 10:34:23.220 [Thread-0] INFO  ca.uhn.fhir.cli.App HAPI FHIR is shutting down...</p>
<p>I followed the instruction provide at <a href="https://hapifhir.io/hapi-fhir/docs/tools/hapi_fhir_cli.html">https://hapifhir.io/hapi-fhir/docs/tools/hapi_fhir_cli.html</a>.  Till now I still cannot figure out  how file hapi-fhir-cli5086905413546946611.zip exist even there is no such file in my working directory.</p>



<a name="221513910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20CLI%20failed%20to%20upload%20terminology%20%28LOINC%20v2.69%29/near/221513910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20CLI.20failed.20to.20upload.20terminology.20(LOINC.20v2.2E69).html#221513910">(Jan 04 2021 at 11:37)</a>:</h4>
<p>I think the data file (Loinc_2.69.zip) needs to be located on the same file system used by the HAPI server (you'll need to docker cp the file into the running Docker container before running hapi-fhir-cli).</p>



<a name="221514232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20CLI%20failed%20to%20upload%20terminology%20%28LOINC%20v2.69%29/near/221514232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20CLI.20failed.20to.20upload.20terminology.20(LOINC.20v2.2E69).html#221514232">(Jan 04 2021 at 11:42)</a>:</h4>
<p>or volume mount it inside</p>



<a name="221608305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20CLI%20failed%20to%20upload%20terminology%20%28LOINC%20v2.69%29/near/221608305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Azizul Lau <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20CLI.20failed.20to.20upload.20terminology.20(LOINC.20v2.2E69).html#221608305">(Jan 05 2021 at 02:54)</a>:</h4>
<p>where i need to bind the the directory for Loinc_2.69.zip ?  When I enter the container, it will redirect me to "/usr/local/tomcat".  There is also directory  "/data/hapi" automatically created when I create the hapi-fhir container.</p>



<a name="221614084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20CLI%20failed%20to%20upload%20terminology%20%28LOINC%20v2.69%29/near/221614084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20CLI.20failed.20to.20upload.20terminology.20(LOINC.20v2.2E69).html#221614084">(Jan 05 2021 at 05:21)</a>:</h4>
<p>You may want to find the mounted directory using the docker inspect command: <a href="https://docs.docker.com/engine/reference/commandline/inspect/">https://docs.docker.com/engine/reference/commandline/inspect/</a></p>



<a name="221735947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20CLI%20failed%20to%20upload%20terminology%20%28LOINC%20v2.69%29/near/221735947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Azizul Lau <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20CLI.20failed.20to.20upload.20terminology.20(LOINC.20v2.2E69).html#221735947">(Jan 06 2021 at 05:42)</a>:</h4>
<p>hi.. I have tested by binding directory that contains hapi-fhir-cli tools to the container.  I still got same error.  I try to upload Loinc into the server but this time I use Loinc version 2.68 instead 2.69.  The tool able to upload into the server successfully.</p>



<a name="221735957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/HAPI%20FHIR%20CLI%20failed%20to%20upload%20terminology%20%28LOINC%20v2.69%29/near/221735957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Azizul Lau <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/HAPI.20FHIR.20CLI.20failed.20to.20upload.20terminology.20(LOINC.20v2.2E69).html#221735957">(Jan 06 2021 at 05:43)</a>:</h4>
<p>So, the hapi-fhir-cli tool still does not support Loinc version 2.69, I guess...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
