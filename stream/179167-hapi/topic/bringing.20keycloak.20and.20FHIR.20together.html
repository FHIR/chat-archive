---
layout: page
title: "FHIR Chat  · bringing keycloak and FHIR together · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html">bringing keycloak and FHIR together</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189880778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/189880778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#189880778">(Mar 06 2020 at 10:51)</a>:</h4>
<p>We are introducing the last parts of the HAPI FHIR framework that we hadn't been using to our national setup: Adding HAPI FHIR JAX-RS handles to our Keycloak installation so that users (Practitioners) can be read using FHIR. This means that we are probably using all of the HAPI FHIR frameworks components in our setup. Once again - shoutout to <span class="user-mention" data-user-id="191319">@James Agnew</span> and all of the contributors to the HAPI FHIR reference implementation. IT. IS. AWESOME!</p>



<a name="189890199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/189890199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#189890199">(Mar 06 2020 at 13:02)</a>:</h4>
<p>very interesting, we are also using Keycloak with hapi. Will you share your solution?<br>
We are having an intermediate, non-FHIR Service handling the creation of users which then creates a Practicioner + its PracticionerRole and creates the corresponding user in Keykloak.</p>



<a name="189895411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/189895411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#189895411">(Mar 06 2020 at 14:08)</a>:</h4>
<p>Are you sharing. I toyed with the idea but ended up putting a HAPI facade on top of LDAP. <a href="https://github.com/project-wildfyre/sds-adaptor" target="_blank" title="https://github.com/project-wildfyre/sds-adaptor">https://github.com/project-wildfyre/sds-adaptor</a></p>



<a name="189896523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/189896523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#189896523">(Mar 06 2020 at 14:17)</a>:</h4>
<p>We are open sourcing our whole solution. It isn't ready yet to be published, but will be soon.</p>



<a name="189906958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/189906958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#189906958">(Mar 06 2020 at 16:02)</a>:</h4>
<p>I'll see what I can do <span class="user-mention" data-user-id="191451">@Patrick Werner</span> <span class="user-mention" data-user-id="191687">@Kevin Mayfield</span> - I'll follow up on monday ;)  - most of it if highly coupled to our surrounding design, but regardless, I think that I can share most of it - at least in terms of concepts, design, architecture and bindings</p>



<a name="190049248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/190049248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#190049248">(Mar 09 2020 at 08:45)</a>:</h4>
<p>Our setup is the following: <a href="/user_uploads/10155/52G7q6g7dVFSVYGXlDaLAe92/image.png" target="_blank" title="image.png">image.png</a>  (from <a href="https://ehealth-dk.atlassian.net/wiki/spaces/EDTW/pages/7045392/Security" target="_blank" title="https://ehealth-dk.atlassian.net/wiki/spaces/EDTW/pages/7045392/Security">https://ehealth-dk.atlassian.net/wiki/spaces/EDTW/pages/7045392/Security</a>)</p>
<div class="message_inline_image"><a href="/user_uploads/10155/52G7q6g7dVFSVYGXlDaLAe92/image.png" target="_blank" title="image.png"><img src="/user_uploads/10155/52G7q6g7dVFSVYGXlDaLAe92/image.png"></a></div><p>All our users are federated. Once they log in (through Keycloak), Keycloak creates or updates the user as the Practitioner resource on the FHIR server based on the SAML assertion that it receives. The SAML assertion also includes which CareTeam the Practitioner is associated with which means that KeyCloak also updates the CareTeams</p>



<a name="190049305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/190049305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#190049305">(Mar 09 2020 at 08:46)</a>:</h4>
<p>In the picture, the Authorization Service is our Keycloak which is where our solution start</p>



<a name="190049335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/190049335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#190049335">(Mar 09 2020 at 08:47)</a>:</h4>
<p>User sessions are  stored in Keycloak as usual</p>



<a name="190049404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/bringing%20keycloak%20and%20FHIR%20together/near/190049404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/bringing.20keycloak.20and.20FHIR.20together.html#190049404">(Mar 09 2020 at 08:48)</a>:</h4>
<p>What we are about to do within the next couple of days is to also provide a REST interface to Keycloak using the JAX RS HAPI implementation so that the information about a Practitioner can be fetched on-demand from Keycloak</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
