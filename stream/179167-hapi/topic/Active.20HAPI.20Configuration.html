---
layout: page
title: "FHIR Chat  · Active HAPI Configuration · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html">Active HAPI Configuration</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="275849374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275849374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Yackanich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275849374">(Mar 18 2022 at 19:10)</a>:</h4>
<p>Is there a way to determine specific configuration settings of an active HAPI instance?  I am specifically interested to know if a HAPI instance has enforce_referential_integrity_on_write set to true or false.  </p>
<p>I am told that one HAPI instance's application.yaml has this set to false, yet I am still getting an unresolvable resource reference error when I POST a resource that has a resource reference not known to them.</p>



<a name="275849510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275849510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275849510">(Mar 18 2022 at 19:11)</a>:</h4>
<p>I assume you dont have file access to the running instance?</p>



<a name="275849630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275849630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Yackanich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275849630">(Mar 18 2022 at 19:12)</a>:</h4>
<p>Correct Jens - I do not have file system access to this remote HAPI server.</p>



<a name="275849991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275849991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275849991">(Mar 18 2022 at 19:15)</a>:</h4>
<p>That is currently not supported</p>



<a name="275850165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275850165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275850165">(Mar 18 2022 at 19:16)</a>:</h4>
<p>We will get that when we add Spring Boot actuator to the mix ( <span class="user-mention" data-user-id="191451">@Patrick Werner</span> )</p>



<a name="275850373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275850373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Yackanich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275850373">(Mar 18 2022 at 19:18)</a>:</h4>
<p>ok - thanks Jens.  I just have to trust what I am being told about their config.  Although I don't know of any other reason why I would get the following response to a POST of a bundle other than enforce_referential_integrity_on_write being set to true.</p>
<p>{<br>
    "resourceType": "OperationOutcome",<br>
    "text": {<br>
        "status": "generated",<br>
        "div": "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\"0\"&gt;&lt;tr&gt;&lt;td style=\"font-weight: bold;\"&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Resource contains reference to unknown resource ID Practitioner/1&lt;/pre&gt;&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;"<br>
    },<br>
    "issue": [<br>
        {<br>
            "severity": "error",<br>
            "code": "processing",<br>
            "diagnostics": "Resource contains reference to unknown resource ID Practitioner/1"<br>
        }<br>
    ]<br>
}</p>



<a name="275852027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275852027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275852027">(Mar 18 2022 at 19:32)</a>:</h4>
<p>Yes that sounds like it is deactivated</p>



<a name="275926147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275926147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Yackanich <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275926147">(Mar 19 2022 at 19:45)</a>:</h4>
<p>Hi Jens - just to confirm - do you mean it sounds like enforce_referential_integrity_on_write is set to true?  Is there any other HAPI configuration that might result in this behavior?</p>



<a name="275926206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275926206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275926206">(Mar 19 2022 at 19:46)</a>:</h4>
<p>I think Jens meant true and wrote false.</p>



<a name="275926210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275926210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275926210">(Mar 19 2022 at 19:46)</a>:</h4>
<p>Yes</p>



<a name="275985922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/275985922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#275985922">(Mar 20 2022 at 20:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> you can eg. have a look at <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/337">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/337</a></p>



<a name="276014212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/276014212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Garima <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#276014212">(Mar 21 2022 at 07:32)</a>:</h4>
<p>Hi All,</p>
<p>Need help on this, I am getting "InvalidDataAccessApiUsageException" with message "Timer already cancelled", while trying to access the hapi FHIR resources<br>
<a href="http://hapi.fhir.org/baseR4/MedicationRequest">http://hapi.fhir.org/baseR4/MedicationRequest</a></p>
<p>Issue- HAPI-0389: Failed to call access method: org.springframework.dao.InvalidDataAccessApiUsageException: Timer already cancelled.; nested exception is java.lang.IllegalStateException: Timer already cancelled."</p>



<a name="276061324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/276061324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paco Novillo <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#276061324">(Mar 21 2022 at 14:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="487549">Garima</span> <a href="#narrow/stream/179167-hapi/topic/Active.20HAPI.20Configuration/near/276014212">said</a>:</p>
<blockquote>
<p>Hi All,</p>
<p>Need help on this, I am getting "InvalidDataAccessApiUsageException" with message "Timer already cancelled", while trying to access the hapi FHIR resources<br>
<a href="http://hapi.fhir.org/baseR4/MedicationRequest">http://hapi.fhir.org/baseR4/MedicationRequest</a></p>
<p>Issue- HAPI-0389: Failed to call access method: org.springframework.dao.InvalidDataAccessApiUsageException: Timer already cancelled.; nested exception is java.lang.IllegalStateException: Timer already cancelled."</p>
</blockquote>
<p>I am facing the same issue. Could it be some server maintenance?</p>



<a name="276101241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/276101241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#276101241">(Mar 21 2022 at 19:19)</a>:</h4>
<p><span class="user-mention" data-user-id="255111">@Mike Yackanich</span> - once the PR is accepted, you can, if enabled and allowed/left unprotected, look up current running configuration of an jpa-starter instance.</p>



<a name="277523354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/277523354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#277523354">(Apr 02 2022 at 11:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191427">Jens Villadsen</span> <a href="#narrow/stream/179167-hapi/topic/Active.20HAPI.20Configuration/near/275985922">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191451">Patrick Werner</span> you can eg. have a look at <a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/337">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/337</a></p>
</blockquote>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> can you give it a look?</p>



<a name="278127349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Active%20HAPI%20Configuration/near/278127349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Active.20HAPI.20Configuration.html#278127349">(Apr 07 2022 at 07:41)</a>:</h4>
<p>Im currently swamped with work. Will have a look this weekend.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
