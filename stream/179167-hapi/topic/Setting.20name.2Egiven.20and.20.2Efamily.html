---
layout: page
title: "FHIR Chat  · Setting name.given and .family · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Setting.20name.2Egiven.20and.20.2Efamily.html">Setting name.given and .family</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209357189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Setting%20name.given%20and%20.family/near/209357189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marvin Kampf <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Setting.20name.2Egiven.20and.20.2Efamily.html#209357189">(Sep 08 2020 at 08:14)</a>:</h4>
<p>Hello All, <br>
I do not quite understand why setting <code>name.given</code> and <code>name.family</code> does not work</p>
<p>I have tried it in different ways, always with the same result:</p>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;name&quot;</span><span class="err">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;official&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_family&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;unsupported&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;given&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="kc">null</span>
        <span class="p">],</span>
        <span class="nt">&quot;_given&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;unsupported&quot;</span>
<span class="err">...</span>
</code></pre></div>


<p>Currently I am trying to do it this way:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">var</span> <span class="n">absentName</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HumanName</span><span class="p">();</span>
<span class="n">absentName</span><span class="p">.</span><span class="na">setUse</span><span class="p">(</span><span class="n">NameUse</span><span class="p">.</span><span class="na">OFFICIAL</span><span class="p">);</span>
<span class="n">absentName</span>
    <span class="p">.</span><span class="na">getFamilyElement</span><span class="p">()</span>
    <span class="p">.</span><span class="na">addExtension</span><span class="p">(</span>
        <span class="n">fhirProps</span><span class="p">.</span><span class="na">getExtensions</span><span class="p">().</span><span class="na">getDataAbsentReason</span><span class="p">(),</span> <span class="k">new</span> <span class="n">CodeType</span><span class="p">(</span><span class="s">&quot;unsupported&quot;</span><span class="p">));</span>
<span class="n">absentName</span>
    <span class="p">.</span><span class="na">addGivenElement</span><span class="p">()</span>
    <span class="p">.</span><span class="na">addExtension</span><span class="p">(</span>
        <span class="n">fhirProps</span><span class="p">.</span><span class="na">getExtensions</span><span class="p">().</span><span class="na">getDataAbsentReason</span><span class="p">(),</span> <span class="k">new</span> <span class="n">CodeType</span><span class="p">(</span><span class="s">&quot;unsupported&quot;</span><span class="p">));</span>
<span class="n">patient</span><span class="p">.</span><span class="na">addName</span><span class="p">(</span><span class="n">absentName</span><span class="p">);</span>
</code></pre></div>


<p>But there are always these strange <code>_family</code> and <code>_given</code> fields. Besides <code>given == NULL</code>.<br>
Does anyone have a tip for me?<br>
Thanks in advance. Marvin</p>



<a name="209358309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Setting%20name.given%20and%20.family/near/209358309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Setting.20name.2Egiven.20and.20.2Efamily.html#209358309">(Sep 08 2020 at 08:29)</a>:</h4>
<p>the underscore are needed when adding extensions to primitive values (in JSON) <a href="https://www.hl7.org/fhir/json.html#primitive">https://www.hl7.org/fhir/json.html#primitive</a></p>



<a name="209358805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Setting%20name.given%20and%20.family/near/209358805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marvin Kampf <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Setting.20name.2Egiven.20and.20.2Efamily.html#209358805">(Sep 08 2020 at 08:34)</a>:</h4>
<p>I see, thank you <span class="user-mention" data-user-id="191451">@Patrick Werner</span> .<br>
How about validation. If the element <code>given</code> is required (1..1), is it sufficient to only add an extension (to <code>_given</code>) like in the example above, or do I still need a (primitive) value for <code>given</code>?</p>



<a name="209358955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Setting%20name.given%20and%20.family/near/209358955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Setting.20name.2Egiven.20and.20.2Efamily.html#209358955">(Sep 08 2020 at 08:36)</a>:</h4>
<p>you don't need a value for given when adding the extension. The extension "populates" the primitive values (given &amp; _given are the same element, just a technical detail in json)</p>



<a name="209358973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Setting%20name.given%20and%20.family/near/209358973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marvin Kampf <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Setting.20name.2Egiven.20and.20.2Efamily.html#209358973">(Sep 08 2020 at 08:36)</a>:</h4>
<p>okay, thank you very much</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
