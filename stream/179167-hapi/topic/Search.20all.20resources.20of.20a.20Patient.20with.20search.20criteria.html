---
layout: page
title: "FHIR Chat  · Search all resources of a Patient with search criteria · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20all.20resources.20of.20a.20Patient.20with.20search.20criteria.html">Search all resources of a Patient with search criteria</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271430526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20all%20resources%20of%20a%20Patient%20with%20search%20criteria/near/271430526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brecht Van Vooren <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20all.20resources.20of.20a.20Patient.20with.20search.20criteria.html#271430526">(Feb 10 2022 at 13:30)</a>:</h4>
<p>Hi, I'm looking for a way to search all resources that are linked to a Patient with a specified identifier, but with a way to filter on a list of resource types and profiles.</p>
<p>At the moment we use the Patient search with the _revinclude parameter for the allowed resource types.</p>
<p><a href="/user_uploads/10155/kZWaCPg0f9xvJ11rNOMiQQfx/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/kZWaCPg0f9xvJ11rNOMiQQfx/image.png" title="image.png"><img src="/user_uploads/10155/kZWaCPg0f9xvJ11rNOMiQQfx/image.png"></a></div><p>The question is how can we filter out specific profiles? For example I want to have all Condition resources of profile A and not the other profiles.<br>
Is there also a way to remove the Patient resource itself from the Bundle so we only see the reverse included resources?</p>
<p>We will look into possible parameters of $everything and investigate the compartment search using GET [base]/Patient/[id]/[type]?parameter(s). But in the meantime does anyone have experience in a similar query?</p>



<a name="271490598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20all%20resources%20of%20a%20Patient%20with%20search%20criteria/near/271490598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20all.20resources.20of.20a.20Patient.20with.20search.20criteria.html#271490598">(Feb 10 2022 at 20:36)</a>:</h4>
<p>Someone may correct me, but I don't think there is a way to do what you want all in a single query. </p>
<p>You can certainly search all Conditions for a single patient that match a profile: <br>
/Condition?subject=Patient/123&amp;_profile=http://myprofile</p>
<p>And you can limit Patient$everything to only certain resource types with the _type paramater. </p>
<p>But I don't see a way to add additional search criteria onto Patient$everything to filter on profile there.</p>



<a name="271543898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20all%20resources%20of%20a%20Patient%20with%20search%20criteria/near/271543898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brecht Van Vooren <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20all.20resources.20of.20a.20Patient.20with.20search.20criteria.html#271543898">(Feb 11 2022 at 08:26)</a>:</h4>
<p>Thanks for your response Craig. I need to specify my question more.</p>
<p>I don't want to have only the Condition resources of a certain profile, but also AllergyIntolerance of a specified profile like you can see in my example.<br>
I want to avoid to execute 2 (or more) separate searches: one for Condition with profile X and one for AllergyIntolerance with profile Y, I want it to be a single query where I can specify a list of resource types and fhir profiles. <br>
Any idea that is possible?</p>



<a name="271630772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Search%20all%20resources%20of%20a%20Patient%20with%20search%20criteria/near/271630772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Search.20all.20resources.20of.20a.20Patient.20with.20search.20criteria.html#271630772">(Feb 11 2022 at 20:13)</a>:</h4>
<p>I've never used it in this way, but I think you can submit multiple searches in a single batch Bundle. I don't think there is a way to do it with Patient$everything. see <a href="https://hl7.org/fhir/http.html#transaction">https://hl7.org/fhir/http.html#transaction</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
