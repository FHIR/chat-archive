---
layout: page
title: "FHIR Chat  · Codesystem versioning · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Codesystem.20versioning.html">Codesystem versioning</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="202439929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Codesystem%20versioning/near/202439929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Signe Hejgaard Kristoffersen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Codesystem.20versioning.html#202439929">(Jun 30 2020 at 14:06)</a>:</h4>
<p>When I create an instance of a ressource with an element of type Coding, specifying the system (which in my example is a CodeSystem.url) and version of the system, I experience an issue, if I have multiple versions of the CodeSystem. If the instance created uses a code in the CodeSystem in version A, but the newest version of the CodeSystem is version B, I get an error, even though the version is specified in the Coding. </p>
<p>In the error: </p>
<div class="codehilite"><pre><span></span><code> {
    &quot;severity&quot;: &quot;error&quot;,
    &quot;code&quot;: &quot;processing&quot;,
    &quot;diagnostics&quot;: &quot;Unknown code {Coding.system}Coding.code for &#39;Coding.system#Coding.code&#39;&quot;,
    &quot;location&quot;: [
        &quot;QuestionnaireResponse.item[0].answer[0].value.ofType(Coding)&quot;, &quot;Line 1, Col 851&quot;
    ]
}
</code></pre></div>


<p>it seems as the code is only validated against the most recent version of the CodeSystem, as the version is not mentioned in the diagnostics. Shouldn't the code be validated against the version of the CodeSystem which is specified in the Coding.version?</p>



<a name="202497721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Codesystem%20versioning/near/202497721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Codesystem.20versioning.html#202497721">(Jun 30 2020 at 21:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> this is a feature of the context - I use org.hl7.fhir.r5.context.CanonicalResourceManager&lt;T&gt; for this</p>



<a name="202775118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Codesystem%20versioning/near/202775118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Signe Hejgaard Kristoffersen <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Codesystem.20versioning.html#202775118">(Jul 03 2020 at 07:26)</a>:</h4>
<p>Is there anything we can do to avoid this error? Or is this something that should be fixed somewhere else?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
