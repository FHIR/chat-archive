---
layout: page
title: "FHIR Chat  · Transactions and Conditional PATCH · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html">Transactions and Conditional PATCH</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="224694590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224694590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224694590">(Feb 01 2021 at 07:59)</a>:</h4>
<p>I'm trying to send this transaction. Crate a Patient, and then, assign a device to that patient. </p>
<p>So, as a part of a transaction, I have this entry. But this doesn't work, says <code>Invalid match URL[21] - URL has no search parameters</code></p>
<p>So, <strong>Question 1</strong>, what's wrong here?</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;type&quot;: &quot;transaction&quot;,
    &quot;entry&quot;: [
        // other entries
        {
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;Parameters&quot;,
                &quot;parameter&quot;: [
                    {
                        &quot;name&quot;: &quot;operation&quot;,
                        &quot;part&quot;: [
                            {
                                &quot;name&quot;: &quot;type&quot;,
                                &quot;valueString&quot;: &quot;add&quot;
                            },
                            {
                                &quot;name&quot;: &quot;path&quot;,
                                &quot;valueString&quot;: &quot;Device&quot;
                            },
                            {
                                &quot;name&quot;: &quot;name&quot;,
                                &quot;valueString&quot;: &quot;patient&quot;
                            },
                            {
                                &quot;name&quot;: &quot;value&quot;,
                                &quot;valueReference&quot;: {
                                    &quot;reference&quot;: &quot;Patient/id&quot;,
                                    &quot;type&quot;: &quot;Patient&quot;
                                }
                            }
                        ]
                    }
                ]
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;PATCH&quot;,
                &quot;url&quot;: &quot;Device/1835297&quot;,
                &quot;ifMatch&quot;: &quot;id&quot;
            }
        }
    ]
}
</code></pre></div>



<a name="224694867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224694867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224694867">(Feb 01 2021 at 08:01)</a>:</h4>
<p>So as an alternative, I'm doing this, first check version with a JSON PATCH <code>test</code> like so</p>
<div class="codehilite"><pre><span></span><code>{
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;Binary&quot;,
                &quot;contentType&quot;: &quot;application/json-patch+json&quot;,
                &quot;data&quot;: &quot;WwogICAgewogICAgICAgICJvcCI6ICJ0ZXN0IiwKICAgICAgICAicGF0aCI6ICIvbWV0YS92ZXJzaW9uSWQiLAogICAgICAgICJ2YWx1ZSI6ICIyMiIKICAgIH0KXQ==&quot;
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;PATCH&quot;,
                &quot;url&quot;: &quot;Device/1835297&quot;
            }
        }
// rest of the entries above
</code></pre></div>
<p>This works, since the transaction can either work or fail as a whole. Great! </p>
<p>Now, the main part</p>



<a name="224696391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224696391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224696391">(Feb 01 2021 at 08:22)</a>:</h4>
<p>I'm trying to create a patient, and assign a device. I was told by kind volunteers that <code>Binary</code> resource doesn't resolve references to items that are a part of a transaction, and I should use FHIRPatch, but that didn't seem to work either. </p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;type&quot;: &quot;transaction&quot;,
    &quot;entry&quot;: [
        {
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;Binary&quot;,
                &quot;contentType&quot;: &quot;application/json-patch+json&quot;,
                &quot;data&quot;:  &quot;base64( [{ &quot;op&quot;: &quot;test&quot;, &quot;path&quot;: &quot;/meta/versionId&quot;, &quot;value&quot;: &quot;versionId&quot;}] )&quot;
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;PATCH&quot;,
                &quot;url&quot;: &quot;Device/1835297&quot;
            }
        },
        {
            &quot;fullUrl&quot;: &quot;urn:uuid:abe0b81e-2aca-44c7-8469-1dc1f7301fe9&quot;,
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;Patient&quot;,
                // some data
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;POST&quot;
            }
        },
        {
            &quot;resource&quot;: {
                &quot;resourceType&quot;: &quot;Parameters&quot;,
                &quot;parameter&quot;: [
                    {
                        &quot;name&quot;: &quot;operation&quot;,
                        &quot;part&quot;: [
                            {
                                &quot;name&quot;: &quot;type&quot;,
                                &quot;valueString&quot;: &quot;add&quot;
                            },
                            {
                                &quot;name&quot;: &quot;path&quot;,
                                &quot;valueString&quot;: &quot;Device&quot;
                            },
                            {
                                &quot;name&quot;: &quot;name&quot;,
                                &quot;valueString&quot;: &quot;patient&quot;
                            },
                            {
                                &quot;name&quot;: &quot;value&quot;,
                                &quot;valueReference&quot;: {
                                    // This must resolve to &quot;Patient/someid&quot;
                                    &quot;reference&quot;: &quot;urn:uuid:abe0b81e-2aca-44c7-8469-1dc1f7301fe9&quot;,
                                    &quot;type&quot;: &quot;Patient&quot;
                                }
                            }
                        ]
                    }
                ]
            },
            &quot;request&quot;: {
                &quot;method&quot;: &quot;PATCH&quot;,
                &quot;url&quot;: &quot;Device/1835297&quot;
            }
        }
    ]
}

{
    &quot;resourceType&quot;: &quot;Device&quot;,
    &quot;id&quot;: &quot;1835297&quot;,
    // ... other data
    &quot;patient&quot;: {
        &quot;reference&quot;: &quot;urn:uuid:abe0b81e-2aca-44c7-8469-1dc1f7301fe9&quot;,
        &quot;type&quot;: &quot;Patient&quot;
    }
}
</code></pre></div>
<p>What am I doing wrong?</p>



<a name="224816269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224816269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224816269">(Feb 02 2021 at 00:56)</a>:</h4>
<p>Just put your patient and the device entries in the same bundle of type transaction.  Give the patient a uuid fullurl, then refer to the patient uuid in the device resource entry.</p>



<a name="224830432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224830432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224830432">(Feb 02 2021 at 05:23)</a>:</h4>
<p>Yeah I did that <a href="#narrow/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH/near/224696391">here</a>, if I'm not mistaken</p>
<p>Also, queries with <code>_offset</code> and <code>_count</code> don't seem to return the <code>total</code> field</p>
<p><a href="user_uploads/10155/xxSZ_6Bk22iyYdXN4l0ppRc1/image.png">image.png</a></p>
<div class="message_inline_image"><a href="user_uploads/10155/xxSZ_6Bk22iyYdXN4l0ppRc1/image.png" title="image.png"><img src="user_uploads/10155/xxSZ_6Bk22iyYdXN4l0ppRc1/image.png"></a></div><p>I assume this means that all searches are supposed to return the <code>total</code> parameter in response bundles</p>
<p><a href="user_uploads/10155/UujelyNQsHgmrrceV5Ba2p6M/image.png">image.png</a></p>
<div class="message_inline_image"><a href="user_uploads/10155/UujelyNQsHgmrrceV5Ba2p6M/image.png" title="image.png"><img src="user_uploads/10155/UujelyNQsHgmrrceV5Ba2p6M/image.png"></a></div>



<a name="224984866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224984866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224984866">(Feb 03 2021 at 08:10)</a>:</h4>
<p>How do I check for support for <code>FHIRPatch</code>. I"m trying this on the public server at <code>hapi.fhir.org</code>. How do I get <a href="#narrow/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH/near/224696391">this transaction</a> to work?</p>



<a name="224988686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224988686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224988686">(Feb 03 2021 at 08:58)</a>:</h4>
<p>Have you tried using FHIRPatch as a 'standalone' REST interaction (outside of a bundle) ? Does that work?</p>



<a name="224988710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224988710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224988710">(Feb 03 2021 at 08:59)</a>:</h4>
<p>Yep! That's the first thing I checked to make sure I could use <code>parameters</code>, and know for-sure that I had the syntax right</p>



<a name="224989462"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224989462" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224989462">(Feb 03 2021 at 09:06)</a>:</h4>
<p>Have you tried using FHIRPatch in a transaction (with only the PATCH in it) ? Does that work as expected ?</p>



<a name="224989589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224989589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224989589">(Feb 03 2021 at 09:08)</a>:</h4>
<p>Yes! The above JSON request I sent works, just that the <code>urn:uuid:xx...</code> doesn't resolve to the <code>fullUrl</code> of the <code>Patient</code></p>



<a name="224990339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224990339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> René Spronk <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224990339">(Feb 03 2021 at 09:15)</a>:</h4>
<p>You'd better contact the authors of HAPI -looks like a bug to me. Although I'm not sure if this would work on one of the other public test servers either.</p>



<a name="224991418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224991418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224991418">(Feb 03 2021 at 09:26)</a>:</h4>
<p>Yikes, really? I'll try with another public server, a few mins</p>



<a name="224992371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224992371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224992371">(Feb 03 2021 at 09:37)</a>:</h4>
<p>I just tried with <code>server.fire.ly/R4</code>, and I get this error</p>
<div class="codehilite"><pre><span></span><code>&quot;text&quot;: &quot;Interaction POST  in entry with fullUrl urn:uuid:7a712ad0-c34f-4faa-930c-ab3edaf85652 is
not supported: A transaction Bundle cannot contain a nested Batch or Transaction interaction&quot;
</code></pre></div>
<p>I don't see what's nested?</p>
<p>Nevermind, just noticed this on the public servers list</p>
<p><code>This test instance runs on MongoDB and therefore can do batch but not transaction.</code>, so I guess vonk public server wasn't the right one to try against. Trying with something else</p>



<a name="224992721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224992721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224992721">(Feb 03 2021 at 09:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191372">René Spronk</span> <a href="#narrow/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH/near/224990339">said</a>:</p>
<blockquote>
<p>Although I'm not sure if this would work on one of the other public test servers either.</p>
</blockquote>
<p>I see, so it's an uncommon feature implementation?</p>



<a name="224994729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/224994729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#224994729">(Feb 03 2021 at 10:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191372">René Spronk</span> <a href="#narrow/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH/near/224990339">said</a>:</p>
<blockquote>
<p>You'd better contact the authors of HAPI -looks like a bug to me. Although I'm not sure if this would work on one of the other public test servers either.</p>
</blockquote>
<p>Where do I file this bug report? Also, I tried on <code>https://r4.test.pyrohealth.net/fhir</code>, and doesn't seem to follow transaction rules itself, as <code>test</code> PATCH OP works, even though it should be failing</p>



<a name="225030208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/225030208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#225030208">(Feb 03 2021 at 15:21)</a>:</h4>
<p>According to the <a href="http://hapifhir.io">hapifhir.io</a> site ...</p>
<p>GitHub issue tracker is here:<br>
<a href="https://github.com/hapifhir/hapi-fhir/issues">https://github.com/hapifhir/hapi-fhir/issues</a></p>
<p>Google Group for discussion is here:<br>
<a href="https://groups.google.com/g/hapi-fhir">https://groups.google.com/g/hapi-fhir</a></p>



<a name="225119562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/225119562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#225119562">(Feb 04 2021 at 05:04)</a>:</h4>
<p>Thank you, I posted the issue on <a href="https://github.com/hapifhir/hapi-fhir/issues/2353#issue-800934635">GitHub</a></p>



<a name="225144072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/225144072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#225144072">(Feb 04 2021 at 10:52)</a>:</h4>
<p>On <a href="http://server.fire.ly">server.fire.ly</a> we simulate transactions for testing purposes.<br>
I don't see the mentioned fullUrl <code>urn:uuid:7a712ad0-c34f-4faa-930c-ab3edaf85652</code> in the transaction mentioned by you <a href="#narrow/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH/near/224696391">here</a>. Could you post the exact transaction you were sending to <a href="http://server.fire.ly/R4">server.fire.ly/R4</a> so I can reproduce the issue?</p>



<a name="225144893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/225144893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#225144893">(Feb 04 2021 at 11:02)</a>:</h4>
<p>I sent a new one, <code>server.fire.ly/R4/Operation-Outcome/0a1159de-67c1-4fae-922f-76eb10b0068d</code>. Please do let me know if I need to share the request payload</p>



<a name="225144934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/225144934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#225144934">(Feb 04 2021 at 11:02)</a>:</h4>
<p>That doesn't seem to have the full response, here it is </p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
    &quot;id&quot;: &quot;0a1159de-67c1-4fae-922f-76eb10b0068d&quot;,
    &quot;meta&quot;: {
        &quot;versionId&quot;: &quot;e36072c6-71d0-40f6-85d2-401d625e4e83&quot;,
        &quot;lastUpdated&quot;: &quot;2021-02-04T11:00:27.944+00:00&quot;
    },
    &quot;issue&quot;: [
        {
            &quot;severity&quot;: &quot;warning&quot;,
            &quot;code&quot;: &quot;not-supported&quot;,
            &quot;details&quot;: {
                &quot;coding&quot;: [
                    {
                        &quot;system&quot;: &quot;http://hl7.org/fhir/dotnet-api-operation-outcome&quot;,
                        &quot;code&quot;: &quot;5003&quot;
                    }
                ],
                &quot;text&quot;: &quot;Argument is not supported&quot;
            },
            &quot;diagnostics&quot;: &quot;/Device&quot;
        },
        {
            &quot;severity&quot;: &quot;warning&quot;,
            &quot;code&quot;: &quot;not-supported&quot;,
            &quot;details&quot;: {
                &quot;coding&quot;: [
                    {
                        &quot;system&quot;: &quot;http://hl7.org/fhir/dotnet-api-operation-outcome&quot;,
                        &quot;code&quot;: &quot;5003&quot;
                    }
                ],
                &quot;text&quot;: &quot;Argument is not supported&quot;
            },
            &quot;diagnostics&quot;: &quot;/48d8b843-7e9f-4cfe-99ef-da0688725aba&quot;
        },
        {
            &quot;severity&quot;: &quot;error&quot;,
            &quot;code&quot;: &quot;not-supported&quot;,
            &quot;details&quot;: {
                &quot;coding&quot;: [
                    {
                        &quot;system&quot;: &quot;http://hl7.org/fhir/dotnet-api-operation-outcome&quot;,
                        &quot;code&quot;: &quot;5005&quot;
                    }
                ],
                &quot;text&quot;: &quot;Interaction PATCH Device/48d8b843-7e9f-4cfe-99ef-da0688725aba in entry  is not implemented.&quot;
            }
        }
    ]
}
</code></pre></div>



<a name="225509391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/225509391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#225509391">(Feb 08 2021 at 07:12)</a>:</h4>
<p>Do I have any alternatives? I could go with making 2 separate requests (which is what I'm doing right now), but  would be great to have just one do it</p>



<a name="225808335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/225808335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#225808335">(Feb 10 2021 at 08:55)</a>:</h4>
<p>How do I query <code>Practitioner</code>, <code>PractitionerRole</code>, <code>CareTeam</code> for a given patient? I have a patient with a careteam. I can get the <code>Practitioner</code>, <code>CareTeam</code>, but getting the <code>PractitionerRole</code> eludes me. This is what I have</p>
<div class="codehilite"><pre><span></span><code>https://hapi.fhir.org/baseR4/CareTeam?subject=id&amp;_include=CareTeam:participant
</code></pre></div>



<a name="225808954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Transactions%20and%20Conditional%20PATCH/near/225808954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dexter <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Transactions.20and.20Conditional.20PATCH.html#225808954">(Feb 10 2021 at 09:01)</a>:</h4>
<p>Got it! I jut had to look at it from a different perspective!</p>
<div class="codehilite"><pre><span></span><code>https://hapi.fhir.org/baseR4/Practitioner
?_has:CareTeam:participant:subject=1852143
&amp;_revinclude=PractitionerRole:practitioner
&amp;_revinclude=CareTeam:participant
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
