---
layout: page
title: "FHIR Chat  · Constraining a HAPI-FHIR Server · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Constraining.20a.20HAPI-FHIR.20Server.html">Constraining a HAPI-FHIR Server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153948762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Constraining%20a%20HAPI-FHIR%20Server/near/153948762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Bell <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Constraining.20a.20HAPI-FHIR.20Server.html#153948762">(Mar 28 2018 at 17:35)</a>:</h4>
<p>I’m trying to create a Restful server using HAPI-FHIR. </p>
<p>I have profiled the Medication resource and I’ve created the instances that I want served from the server. I’m running a HAPI-FHIR Restful server with no customization, and can write those resource instances to it. I also know what I want my capability statement to look like.</p>
<p>I’m trying to understand how to constrain that FHIR server to support only my profiled resources and the operations defined in my capability statement. </p>
<p>For instance, I only want to be able to upload Medication resources that conform to my profiled Medication resource. And I want to restrict which operations can be run against those Medication resources. I can’t find any examples of how to continue using the default persistence functionality of the JPA server, but simply constrain which of those operations can be used.</p>
<p>I've tried making a resource provider and I recognize I can constrain the operations available for it through annotations, but then I couldn't find any examples where the ResourceProvider functions were actually implemented to use the persistence mechanism that the an un-customized server uses. I also tried subclassing JpaResourceProviderDstu3, but then my CapabilityStatement logically reflects that all of the standard operations are supported. </p>
<p>Thanks in advance for any direction you can provide me!</p>



<a name="153948766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Constraining%20a%20HAPI-FHIR%20Server/near/153948766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christopher Schuler <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Constraining.20a.20HAPI-FHIR.20Server.html#153948766">(Mar 28 2018 at 18:03)</a>:</h4>
<p>Create a Medication resource provider and override the Create and Update operations found in the <a href="http://hapifhir.io/xref-jpaserver/ca/uhn/fhir/jpa/provider/dstu3/JpaResourceProviderDstu3.html" target="_blank" title="http://hapifhir.io/xref-jpaserver/ca/uhn/fhir/jpa/provider/dstu3/JpaResourceProviderDstu3.html">JpaResourceProvider</a> parent class.</p>



<a name="153948789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Constraining%20a%20HAPI-FHIR%20Server/near/153948789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cameron Bell <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Constraining.20a.20HAPI-FHIR.20Server.html#153948789">(Mar 28 2018 at 19:58)</a>:</h4>
<p>Thanks! I'm able to override those operations, but for instance, the JpaResourceProvider parent class implements the delete operation. From my subclass, is there a way I can prevent that delete operation from being available? I can override the delete function and do nothing, but the generated conformance statement still shows the delete operation. Is there a way to annotate that an operation should be removed?</p>



<a name="153948924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Constraining%20a%20HAPI-FHIR%20Server/near/153948924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christopher Schuler <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Constraining.20a.20HAPI-FHIR.20Server.html#153948924">(Mar 29 2018 at 01:33)</a>:</h4>
<p>No problem. Here is a <a href="http://hapifhir.io/doc_rest_server.html#Enhancing_the_Generated_Conformance_Statement" target="_blank" title="http://hapifhir.io/doc_rest_server.html#Enhancing_the_Generated_Conformance_Statement">reference</a> that should help with that. For your use, you would extend the <a href="http://hapifhir.io/xref-jpaserver/ca/uhn/fhir/jpa/provider/dstu3/JpaConformanceProviderDstu3.html" target="_blank" title="http://hapifhir.io/xref-jpaserver/ca/uhn/fhir/jpa/provider/dstu3/JpaConformanceProviderDstu3.html">JpaConformanceProviderDstu3</a>.</p>



<a name="153949902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Constraining%20a%20HAPI-FHIR%20Server/near/153949902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Constraining.20a.20HAPI-FHIR.20Server.html#153949902">(Apr 02 2018 at 20:01)</a>:</h4>
<p>Are you doing RESTful server or the JPA one? We used restful and created our own providers, the default conformance provider then only showed the operations we had implemented.</p>



<a name="153950226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Constraining%20a%20HAPI-FHIR%20Server/near/153950226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Constraining.20a.20HAPI-FHIR.20Server.html#153950226">(Apr 03 2018 at 15:42)</a>:</h4>
<blockquote>
<p>Are you doing RESTful server or the JPA one? We used restful and created our own providers, the default conformance provider then only showed the operations we had implemented.</p>
</blockquote>
<p><span class="user-mention" data-user-id="195516">@Cameron Bell</span> if you validate instances that adhere to your profiles and then persist, you are indeed only serving your profiled instances.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
