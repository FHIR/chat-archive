---
layout: page
title: "FHIR Chat  · Bundle $validate error: &quot;Failed to call access method: ... · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Bundle.20.24validate.20error.3A.20.22Failed.20to.20call.20access.20method.3A.20.2E.2E.2E.html">Bundle $validate error: &quot;Failed to call access method: ...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200995396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Bundle%20%24validate%20error%3A%20%22Failed%20to%20call%20access%20method%3A%20.../near/200995396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Job Schipper <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Bundle.20.24validate.20error.3A.20.22Failed.20to.20call.20access.20method.3A.20.2E.2E.2E.html#200995396">(Jun 16 2020 at 10:18)</a>:</h4>
<p>Hi,</p>
<p>I'm running the HAPI jpa server version 5.0.2, and when I'm running into an issue when I run the following:</p>
<div class="codehilite"><pre><span></span><code>curl -X POST \
  &#39;https://hapifhir-acc.mcapp.nl/hapi-fhir-jpaserver/fhir/Bundle/$validate&#39; \
  -H &#39;Cache-Control: no-cache&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;Postman-Token: 2eca19eb-9ebf-8442-ca6a-9de44f4a7cdf&#39; \
  -d &#39;{&quot;resourceType&quot;:&quot;Bundle&quot;,&quot;entry&quot;:[{&quot;fullUrl&quot;:&quot;urn:uuid:5ee894a3cee7b5.87207907&quot;,&quot;request&quot;:{&quot;method&quot;:&quot;POST&quot;,&quot;url&quot;:&quot;Organization&quot;},&quot;resource&quot;:{&quot;resourceType&quot;:&quot;Organization&quot;,&quot;meta&quot;:{&quot;profile&quot;:[&quot;http:\/\/fhir.nl\/fhir\/StructureDefinition\/nl-core-organization&quot;],&quot;tag&quot;:[{&quot;code&quot;:&quot;epd:finaltest123&quot;,&quot;system&quot;:&quot;https:\/\/source-id.medicore.nl\/&quot;}]},&quot;identifier&quot;:[{&quot;system&quot;:&quot;https:\/\/unique-id.medicore.nl\/&quot;,&quot;value&quot;:&quot;epd:finaltest123&quot;}],&quot;name&quot;:&quot;JWZ&quot;}}],&quot;type&quot;:&quot;transaction&quot;}&#39;
</code></pre></div>


<p>(please note: the server above is not reachable from the public internet)</p>
<p>As a result, It gives me the following validation error:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
    &quot;text&quot;: {
        &quot;status&quot;: &quot;generated&quot;,
        &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td style=\&quot;font-weight: bold;\&quot;&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Failed to call access method: org.hl7.fhir.exceptions.DefinitionException: Attempt to a slice an element that does not repeat: Extension.valueCodeableConcept/valueCodeableConcept from http://nictiz.nl/fhir/StructureDefinition/code-specification in http://fhir.nl/fhir/StructureDefinition/nl-core-contactpoint&lt;/pre&gt;&lt;/td&gt;\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;&quot;
    },
    &quot;issue&quot;: [
        {
            &quot;severity&quot;: &quot;error&quot;,
            &quot;code&quot;: &quot;processing&quot;,
            &quot;diagnostics&quot;: &quot;Failed to call access method: org.hl7.fhir.exceptions.DefinitionException: Attempt to a slice an element that does not repeat: Extension.valueCodeableConcept/valueCodeableConcept from http://nictiz.nl/fhir/StructureDefinition/code-specification in http://fhir.nl/fhir/StructureDefinition/nl-core-contactpoint&quot;
        }
    ]
}
</code></pre></div>


<p>It tries to validate this (readable) bundle, that contains 1 Organization resource:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Bundle&quot;,
    &quot;entry&quot;: [{
        &quot;fullUrl&quot;: &quot;urn:uuid:5ee894a3cee7b5.87207907&quot;,
        &quot;request&quot;: {
            &quot;method&quot;: &quot;POST&quot;,
            &quot;url&quot;: &quot;Organization&quot;
        },
        &quot;resource&quot;: {
            &quot;resourceType&quot;: &quot;Organization&quot;,
            &quot;meta&quot;: {
                &quot;profile&quot;: [&quot;http:\/\/fhir.nl\/fhir\/StructureDefinition\/nl-core-organization&quot;],
                &quot;tag&quot;: [{
                    &quot;code&quot;: &quot;epd:finaltest123&quot;,
                    &quot;system&quot;: &quot;https:\/\/source-id.medicore.nl\/&quot;
                }]
            },
            &quot;identifier&quot;: [{
                &quot;system&quot;: &quot;https:\/\/unique-id.medicore.nl\/&quot;,
                &quot;value&quot;: &quot;epd:finaltest123&quot;
            }],
            &quot;name&quot;: &quot;JWZ&quot;
        }
    }],
    &quot;type&quot;: &quot;transaction&quot;
}
</code></pre></div>


<p>Now first of all, I'm not sure what to make of the "failed to call access method ... " error. Is this a bug in HAPI? Or is it a profile issue as suggested by the second part of the error message?</p>
<p>Secondly, when I take the Organization resource from the Bundle, and validate it directly against the Organization endpoint, it passes:</p>
<div class="codehilite"><pre><span></span><code>curl -X POST \
  &#39;https://hapifhir-acc.mcapp.nl/hapi-fhir-jpaserver/fhir/Organization/$validate&#39; \
  -H &#39;Cache-Control: no-cache&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;Postman-Token: 1cd25175-ad8c-6b65-eed6-14dbd1e8ab22&#39; \
  -d &#39;{
            &quot;resourceType&quot;: &quot;Organization&quot;,
            &quot;meta&quot;: {
                &quot;profile&quot;: [&quot;http:\/\/fhir.nl\/fhir\/StructureDefinition\/nl-core-organization&quot;],
                &quot;tag&quot;: [{
                    &quot;code&quot;: &quot;epd:finaltest123&quot;,
                    &quot;system&quot;: &quot;https:\/\/source-id.medicore.nl\/&quot;
                }]
            },
            &quot;identifier&quot;: [{
                &quot;system&quot;: &quot;https:\/\/unique-id.medicore.nl\/&quot;,
                &quot;value&quot;: &quot;epd:finaltest123&quot;
            }],
            &quot;name&quot;: &quot;JWZ&quot;
        }&#39;
</code></pre></div>


<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
    &quot;text&quot;: {
        &quot;status&quot;: &quot;generated&quot;,
        &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\&quot;0\&quot;&gt;&lt;tr&gt;&lt;td style=\&quot;font-weight: bold;\&quot;&gt;INFORMATION&lt;/td&gt;&lt;td&gt;[Organization.identifier[0], Line 10, Col 29]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;This element does not match any known slice defined in the profile http://fhir.nl/fhir/StructureDefinition/nl-core-organization&lt;/pre&gt;&lt;/td&gt;\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/div&gt;&quot;
    },
    &quot;issue&quot;: [
        {
            &quot;severity&quot;: &quot;information&quot;,
            &quot;code&quot;: &quot;processing&quot;,
            &quot;diagnostics&quot;: &quot;This element does not match any known slice defined in the profile http://fhir.nl/fhir/StructureDefinition/nl-core-organization&quot;,
            &quot;location&quot;: [
                &quot;Organization.identifier[0]&quot;,
                &quot;Line 10, Col 29&quot;
            ]
        }
    ]
}
</code></pre></div>


<p>Any idea what is going on here? All help is very much appreciated :)</p>



<a name="201033223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Bundle%20%24validate%20error%3A%20%22Failed%20to%20call%20access%20method%3A%20.../near/201033223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Job Schipper <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Bundle.20.24validate.20error.3A.20.22Failed.20to.20call.20access.20method.3A.20.2E.2E.2E.html#201033223">(Jun 16 2020 at 15:34)</a>:</h4>
<p>Since the field that the validation error is about is part of the Organization resource (and not the Bundle), it must be that either the Bundle $validate (1st request) is failing unjustly, or that the Organization $validate (2nd request) is passing unjustly</p>



<a name="201243279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Bundle%20%24validate%20error%3A%20%22Failed%20to%20call%20access%20method%3A%20.../near/201243279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Job Schipper <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Bundle.20.24validate.20error.3A.20.22Failed.20to.20call.20access.20method.3A.20.2E.2E.2E.html#201243279">(Jun 18 2020 at 09:00)</a>:</h4>
<p>Anyone?</p>



<a name="201359475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Bundle%20%24validate%20error%3A%20%22Failed%20to%20call%20access%20method%3A%20.../near/201359475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Job Schipper <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Bundle.20.24validate.20error.3A.20.22Failed.20to.20call.20access.20method.3A.20.2E.2E.2E.html#201359475">(Jun 19 2020 at 07:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>  any idea?</p>



<a name="201602144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Bundle%20%24validate%20error%3A%20%22Failed%20to%20call%20access%20method%3A%20.../near/201602144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Bundle.20.24validate.20error.3A.20.22Failed.20to.20call.20access.20method.3A.20.2E.2E.2E.html#201602144">(Jun 22 2020 at 13:01)</a>:</h4>
<p>Well the key bit of the error message is probably this part:</p>
<blockquote>
<p>: Attempt to a slice an element that does not repeat: Extension.valueCodeableConcept/valueCodeableConcept from <a href="http://nictiz.nl/fhir/StructureDefinition/code-specification">http://nictiz.nl/fhir/StructureDefinition/code-specification</a> in <a href="http://fhir.nl/fhir/StructureDefinition/nl-core-contactpoint">http://fhir.nl/fhir/StructureDefinition/nl-core-contactpoint</a>"</p>
</blockquote>
<p>I'm assuming there is probably an error in the profile you're using.</p>



<a name="201717552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Bundle%20%24validate%20error%3A%20%22Failed%20to%20call%20access%20method%3A%20.../near/201717552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Job Schipper <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Bundle.20.24validate.20error.3A.20.22Failed.20to.20call.20access.20method.3A.20.2E.2E.2E.html#201717552">(Jun 23 2020 at 12:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> thanks for confirming!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
