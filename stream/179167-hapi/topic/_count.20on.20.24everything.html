---
layout: page
title: "FHIR Chat  · _count on $everything · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/_count.20on.20.24everything.html">_count on $everything</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="184877375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/_count%20on%20%24everything/near/184877375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Grimes <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/_count.20on.20.24everything.html#184877375">(Jan 06 2020 at 03:31)</a>:</h4>
<p>In the spec (<a href="https://www.hl7.org/fhir/patient-operation-everything.html" target="_blank" title="https://www.hl7.org/fhir/patient-operation-everything.html">https://www.hl7.org/fhir/patient-operation-everything.html</a>) it says:</p>
<blockquote>
<p>The key differences between this operation and simply searching the patient compartment are:</p>
<ul>
<li>unless the client requests otherwise, the server returns the entire result set in a single bundle (rather than using paging)<br>
...</li>
</ul>
</blockquote>
<p>However, making the following request to the HAPI test server returns a paged bundle:</p>
<p><code>GET http://hapi.fhir.org/baseR4/Patient/38/$everything</code></p>
<p>How would I go about retrieving a Bundle with "everything everything"?</p>



<a name="184894966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/_count%20on%20%24everything/near/184894966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/_count.20on.20.24everything.html#184894966">(Jan 06 2020 at 10:38)</a>:</h4>
<p>HAPI FHIR JPA's architecture does not allow us to stream back a bundle of unlimited size to the client, so we do not support "fetch $everything with no paging under any circumstances". If I'm honest here, I have never understood why the spec allows this or why anyone would want it either... Do any other servers implement this behaviour as documented in the spec? What do they do if I request $everything on a patient with 10 million observations and no _count?</p>
<p>You can set the default and maximum page sizes on the server to very very big though if you want, which does allow you to sort of achieve this, while still keeping a failsafe in place.</p>



<a name="184984532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/_count%20on%20%24everything/near/184984532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Grimes <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/_count.20on.20.24everything.html#184984532">(Jan 07 2020 at 05:55)</a>:</h4>
<p>Ok, thanks, that makes sense.</p>



<a name="185258768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/_count%20on%20%24everything/near/185258768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/_count.20on.20.24everything.html#185258768">(Jan 09 2020 at 21:36)</a>:</h4>
<p>mainly it's allowed not because it's expected that server will ,but because any attempt to standardise the limit will cause lots of arguments about where the line is</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
