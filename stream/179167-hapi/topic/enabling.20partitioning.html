---
layout: page
title: "FHIR Chat  · enabling partitioning · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/enabling.20partitioning.html">enabling partitioning</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="253370617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/enabling%20partitioning/near/253370617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jorrit <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/enabling.20partitioning.html#253370617">(Sep 15 2021 at 06:55)</a>:</h4>
<p>Hi all,<br>
I managed to get the out-of-the-box version of happy-fhir-jpaserver-starter working as a local instance via <a href="http://localhost:8080/fhir">http://localhost:8080/fhir</a> and <a href="http://localhost:8080/">http://localhost:8080/</a>. (Compiled via jdk11 and run via jetty)<br>
I would now like to enable partitioning on my local instance of happy-fhir-jpaserver-starter. I uncommented the lines 90 and 91 in application.yaml:<br>
allow_references_across_partitions: false<br>
partitioning_include_in_search_hashes: false<br>
When I restart the server, I get a 503 error on <a href="http://localhost:8080/fhir">http://localhost:8080/fhir</a> and <a href="http://localhost:8080/">http://localhost:8080/</a>.<br>
Q: Is this expected behaviour? <br>
I can imagine that the 503 is expected behaviour because it is necessary to create 1 or more partitions first.<br>
But when I try to create a partition via a HTTP-POST to<br>
<a href="http://localhost:8080/fhir/DEFAULT/$partition-management-create-partition">http://localhost:8080/fhir/DEFAULT/$partition-management-create-partition</a>,<br>
<a href="http://localhost:8080/DEFAULT/$partition-management-create-partition">http://localhost:8080/DEFAULT/$partition-management-create-partition</a>,<br>
<a href="http://localhost:8080/fhir/$partition-management-create-partition">http://localhost:8080/fhir/$partition-management-create-partition</a>, or<br>
<a href="http://localhost:8080/$partition-management-create-partition">http://localhost:8080/$partition-management-create-partition</a><br>
I also get a 503.<br>
What am I missing here?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
