---
layout: page
title: "FHIR Chat  · issue in generated core · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html">issue in generated core</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153840082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840082">(Jul 20 2016 at 21:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>, a question about our generated code:</p>



<a name="153840083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840083">(Jul 20 2016 at 21:52)</a>:</h4>
<div class="codehilite"><pre>        <span class="kd">public</span> <span class="n">Reference</span> <span class="nf">getSourceReference</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">FHIRException</span> <span class="o">{</span> 
          <span class="k">if</span> <span class="o">(!(</span><span class="k">this</span><span class="o">.</span><span class="na">source</span> <span class="k">instanceof</span> <span class="n">Reference</span><span class="o">))</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">FHIRException</span><span class="o">(</span><span class="s">&quot;Type mismatch: the type Reference was expected, but &quot;</span><span class="o">+</span><span class="k">this</span><span class="o">.</span><span class="na">source</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getName</span><span class="o">()+</span><span class="s">&quot; was encountered&quot;</span><span class="o">);</span>
          <span class="k">return</span> <span class="o">(</span><span class="n">Reference</span><span class="o">)</span> <span class="k">this</span><span class="o">.</span><span class="na">source</span><span class="o">;</span>
        <span class="o">}</span>
</pre></div>



<a name="153840084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840084">(Jul 20 2016 at 21:52)</a>:</h4>
<p>this will result in an NPE if this.source == null, which is obviously no good. </p>



<a name="153840085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840085">(Jul 20 2016 at 21:52)</a>:</h4>
<p>but what should it do in that case?</p>



<a name="153840804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840804">(Jul 24 2016 at 22:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span>  - ping on this subject...</p>



<a name="153840808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840808">(Jul 24 2016 at 23:09)</a>:</h4>
<p>Sorry! Hopelessly behind on messages right now... Agreed that seems like a bug. We should probably have something like</p>
<div class="codehilite"><pre><span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">source</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="o">!(</span><span class="k">this</span><span class="o">.</span><span class="na">source</span> <span class="k">instanceof</span> <span class="n">Reference</span><span class="o">))</span> <span class="o">{</span>
</pre></div>



<a name="153840809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840809">(Jul 24 2016 at 23:10)</a>:</h4>
<p>I think returning <code>null</code> is sensible behaviour in that case. </p>



<a name="153840810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840810">(Jul 24 2016 at 23:10)</a>:</h4>
<p>ok will do. </p>



<a name="153840811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/issue%20in%20generated%20core/near/153840811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/issue.20in.20generated.20core.html#153840811">(Jul 24 2016 at 23:11)</a>:</h4>
<p>thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
