---
layout: page
title: "FHIR Chat  · Large codesystems · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Large.20codesystems.html">Large codesystems</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="248447112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Large%20codesystems/near/248447112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Pilar <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Large.20codesystems.html#248447112">(Aug 05 2021 at 07:40)</a>:</h4>
<p>Hello,<br>
we are struggling with large payloads in FHIR resource update. One of our codesystems (HMDB) has roughly 200MB in size/120k concepts and although we tweak settings on ES side as well as FHIR server and DB side, we still cannot create the resource. Currently we end up with 'Connection reset by peer' probably due to timeout.</p>
<p>We are using hapi fhir r4 5.1 version and the FHIR client update method to create a resource. Our solution is deployed in AWS. We are using RDS for the database.</p>
<p>Are there any guidelines for creating such a large CodeSystem in HAPI FHIR server? <br>
Are there any declared limits for the resource size?<br>
What is the recommended hardware configuration for such operations? <br>
Thanks</p>



<a name="248460486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Large%20codesystems/near/248460486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Large.20codesystems.html#248460486">(Aug 05 2021 at 10:32)</a>:</h4>
<p>Does HAPI support compressed <code>gzip</code> content encodings in the POST?</p>



<a name="248583176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Large%20codesystems/near/248583176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Pilar <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Large.20codesystems.html#248583176">(Aug 06 2021 at 08:17)</a>:</h4>
<p>The problem is not in sending the data, but in processing it on HAPI FHIR side. <span class="user-mention" data-user-id="191319">@James Agnew</span> - any ideas about maximum size of the resource or ways how to make sure HAPI server can import such resource?</p>



<a name="248661651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/Large%20codesystems/near/248661651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Silva <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/Large.20codesystems.html#248661651">(Aug 06 2021 at 20:04)</a>:</h4>
<p>Of course James is the better one to answer ...<br>
We tried using the HAPI FHIR cli before; it has a way to upload CodeSystems (or ValueSets).  We did run into problems (Java memory size limits and network problems when we tried it a while ago and with an older version of HAPI, I think 4.2.x, but maybe it works better now.)</p>
<p><a href="https://hapifhir.io/hapi-fhir/docs/tools/hapi_fhir_cli.html">https://hapifhir.io/hapi-fhir/docs/tools/hapi_fhir_cli.html</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
