---
layout: page
title: "FHIR Chat  · hapi fhir interceptor question · hapi"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/index.html">hapi</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20fhir.20interceptor.20question.html">hapi fhir interceptor question</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="174149896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20fhir%20interceptor%20question/near/174149896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Asharaf Kadavath <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20fhir.20interceptor.20question.html#174149896">(Aug 26 2019 at 15:10)</a>:</h4>
<p>From an interceptor I am trying to capture HTTP response code.</p>
<p>Here is my sample code: </p>
<p>//----------<br>
public class MyInterceptor extends InterceptorAdapter{<br>
@Override<br>
public boolean outgoingResponse(RequestDetails theRequestDetails, IBaseResource theResponseObject, HttpServletRequest theServletRequest, HttpServletResponse theServletResponse)<br>
logger.info(<strong>theServletResponse.getStatus()</strong>);<br>
}<br>
//----------</p>
<p>but getStatus() always return 200 instead of the actual response code that is sent to the calling client(201, 500 etc.).</p>
<p>How do I capture the actual HTTP response code using the objects accessible to the interceptor?</p>



<a name="174168091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179167-hapi/topic/hapi%20fhir%20interceptor%20question/near/174168091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179167-hapi/topic/hapi.20fhir.20interceptor.20question.html#174168091">(Aug 26 2019 at 19:07)</a>:</h4>
<p>You can probably do this with the new interceptor framework.</p>
<p>Make your class not extend InterceptorAdapter, and annotate your <code>outgoingResponse</code> with <code>@Hook(Pointcut.SERVER_OUTGOING_RESPONSE)</code>.</p>
<p>You can then add a parameter of type <code>ca.uhn.fhir.rest.api.server.ResponseDetails</code> that should know the response code.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
