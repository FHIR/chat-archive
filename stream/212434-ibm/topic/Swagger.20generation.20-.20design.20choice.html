---
layout: page
title: "FHIR Chat  · Swagger generation - design choice · ibm"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/index.html">ibm</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Swagger.20generation.20-.20design.20choice.html">Swagger generation - design choice</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183705787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Swagger%20generation%20-%20design%20choice/near/183705787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bruno R Neves <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Swagger.20generation.20-.20design.20choice.html#183705787">(Dec 18 2019 at 00:04)</a>:</h4>
<p>Will someone please explain the rationale for using inline schema for enumerations rather than a reusable type?</p>



<a name="183715964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Swagger%20generation%20-%20design%20choice/near/183715964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Swagger.20generation.20-.20design.20choice.html#183715964">(Dec 18 2019 at 03:15)</a>:</h4>
<p>We generate the inline enums for all Code elements with a Required binding to a particular ValueSet.<br>
While some required ValueSets, like gender, happen to be used from a number of different resources, there are plenty of required code bindings that are only used in one or two spots.</p>
<p>I don't think moving the enums to a re-usable type would make it much smaller, but feel free to play with it / propose a change.</p>



<a name="183716923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Swagger%20generation%20-%20design%20choice/near/183716923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Swagger.20generation.20-.20design.20choice.html#183716923">(Dec 18 2019 at 03:30)</a>:</h4>
<p>In general, my goal for the IBM FHIR SwaggerGenerator was to emit a simplified FHIR schema that would make it easier for Swagger tools like IBM API Connect to ingest the definitions and display meaningful documentation and examples.<br>
For example:</p>
<ol>
<li>FHIR supports extensions on primitive data types.  However, the JSON serialization for that is a bit "interesting", and these primitive extensions aren't used much in practice...so the generated swagger omits those.</li>
<li>FHIR supports "contained" resources, and so each resource type could technically contain any other resource type within it.  However, that blows the schema out so that every endpoint would need to include every datatype.  Instead, we include just the elements for the resource(s) being generated.</li>
<li>FHIR choice elements with a type of <code>*</code> (like <code>Extension.value[x]</code>) can technically reference any FHIR data type, including rare/obscure ones like those defined at <a href="https://www.hl7.org/fhir/metadatatypes.html" target="_blank" title="https://www.hl7.org/fhir/metadatatypes.html">https://www.hl7.org/fhir/metadatatypes.html</a>. For simplicity, we omit these from the swagger definition unless the Resource has an explicit field with this type.</li>
</ol>
<p>In all three cases, the IBM FHIR Server is fully capable of handling these, but the FHIR Model just doesn't lend itself real well to Swagger (or even JsonSchema) and so we've tried simplifying it to make it work better.<br>
We don't have a ton of experience with these simplified definitions yet, so your feedback on this approach is definitely appreciated.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
