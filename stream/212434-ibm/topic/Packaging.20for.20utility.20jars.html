---
layout: page
title: "FHIR Chat  · Packaging for utility jars · ibm"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/index.html">ibm</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html">Packaging for utility jars</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="185538445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185538445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185538445">(Jan 13 2020 at 21:15)</a>:</h4>
<p>For 4.0.1 we created the following epic for packaging our various utilities with the fhir server distribution:  <a href="https://github.com/IBM/FHIR/issues/575" target="_blank" title="https://github.com/IBM/FHIR/issues/575">https://github.com/IBM/FHIR/issues/575</a></p>



<a name="185538535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185538535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185538535">(Jan 13 2020 at 21:16)</a>:</h4>
<p>now we are getting into the meat of it and we're wondering how to package them</p>



<a name="185538578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185538578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185538578">(Jan 13 2020 at 21:17)</a>:</h4>
<p>For fhir-persistence-schema, Paul created a shaded jar that has a final name which omits the version:<br>
<a href="/user_uploads/10155/0AUszf0MllHGBGozAGRc8U0y/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/0AUszf0MllHGBGozAGRc8U0y/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/0AUszf0MllHGBGozAGRc8U0y/pasted_image.png"></a></div>



<a name="185538690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185538690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185538690">(Jan 13 2020 at 21:18)</a>:</h4>
<p>conversely, I used the shade plugin's default and ended up replacing the versioned jar with the single executable jar:<br>
<a href="/user_uploads/10155/JffU2Zh7claYh0ZQe4CYsCL1/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/JffU2Zh7claYh0ZQe4CYsCL1/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/JffU2Zh7claYh0ZQe4CYsCL1/pasted_image.png"></a></div>



<a name="185538812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185538812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185538812">(Jan 13 2020 at 21:19)</a>:</h4>
<p>do we want to generate both shaded and non-shaded jars for these 2 module?  do we want the version included in the final executable jar's name (the jar that gets packaged with the distribution)?</p>



<a name="185538919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185538919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185538919">(Jan 13 2020 at 21:20)</a>:</h4>
<p>for fhir-validator, it gets even more interesting, because we probably DO want both the "normal" and "uber-jar" variants for that one</p>



<a name="185539319"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185539319" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185539319">(Jan 13 2020 at 21:24)</a>:</h4>
<p>rough size differences are 72K to 16M for fhir-persistence-schema</p>



<a name="185539382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185539382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185539382">(Jan 13 2020 at 21:25)</a>:</h4>
<p>the good news in the case of persistence-schema it's bound closely to the model.</p>



<a name="185539930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185539930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185539930">(Jan 13 2020 at 21:31)</a>:</h4>
<p>I think my slight preference is to generate ONLY the uber jar for persistence-schema and swagger-generator, since I don't know of any re-use scenarios for those outside of just executing them</p>



<a name="185540038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185540038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185540038">(Jan 13 2020 at 21:32)</a>:</h4>
<p>but i couldn't really figure out how to make the shade plugin do that (in my case it just moved the 'normal' jar to <code>original-*.jar</code></p>



<a name="185540067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185540067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185540067">(Jan 13 2020 at 21:32)</a>:</h4>
<p>I'm +1 on that plan</p>



<a name="185540071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185540071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185540071">(Jan 13 2020 at 21:32)</a>:</h4>
<p>but i think ONLY the shaded jar gets 'attached' as the output</p>



<a name="185540092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185540092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185540092">(Jan 13 2020 at 21:32)</a>:</h4>
<p>so thats the only one that would end up in the maven repo</p>



<a name="185540097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185540097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185540097">(Jan 13 2020 at 21:32)</a>:</h4>
<p><em>i think</em></p>



<a name="185540106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185540106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185540106">(Jan 13 2020 at 21:33)</a>:</h4>
<p>they can all end up there</p>



<a name="185540155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185540155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185540155">(Jan 13 2020 at 21:33)</a>:</h4>
<p>Do you have opinion on the second part; should the packaged executable jar have a version postfix or no?</p>



<a name="185541159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185541159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185541159">(Jan 13 2020 at 21:45)</a>:</h4>
<p>Ugh, the fhir-swagger-generator actually pulls in all of fhir-examples too, because I updated it to include examples in the generated api definitions</p>



<a name="185541169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185541169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185541169">(Jan 13 2020 at 21:45)</a>:</h4>
<p>so that one comes in around 65 MB</p>



<a name="185541224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185541224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185541224">(Jan 13 2020 at 21:46)</a>:</h4>
<p>which means the combined weight of these three utilities will increase our distribution by like 100 MB</p>



<a name="185542523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542523">(Jan 13 2020 at 22:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191676">@Lee Surprenant</span> we can add an exclusion on that to the shadeplugin</p>



<a name="185542532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542532">(Jan 13 2020 at 22:00)</a>:</h4>
<p>it'll cut the size down</p>



<a name="185542563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542563">(Jan 13 2020 at 22:01)</a>:</h4>
<p>the problem is its actually used during generation</p>



<a name="185542571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542571">(Jan 13 2020 at 22:01)</a>:</h4>
<p>its a legit dependency of the plugin</p>



<a name="185542578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542578">(Jan 13 2020 at 22:01)</a>:</h4>
<p>we don't use ALL of the examples</p>



<a name="185542585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542585">(Jan 13 2020 at 22:01)</a>:</h4>
<p>but we do use some subset of them</p>



<a name="185542590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542590">(Jan 13 2020 at 22:01)</a>:</h4>
<p>hum... I think we can use a transformer and strip it out</p>



<a name="185542596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542596">(Jan 13 2020 at 22:01)</a>:</h4>
<p>tell me what you want, and I think I can remove the others</p>



<a name="185542680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542680">(Jan 13 2020 at 22:02)</a>:</h4>
<p>at some future time, i was thinking of letting the user specify which examples they want</p>



<a name="185542696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542696">(Jan 13 2020 at 22:02)</a>:</h4>
<p>e.g. spec examples, minimal examples, or mock examples</p>



<a name="185542722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542722">(Jan 13 2020 at 22:03)</a>:</h4>
<p>Excluding Resources with the DontIncludeResourceTransformer</p>



<a name="185542726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542726">(Jan 13 2020 at 22:03)</a>:</h4>
<p>we NEVER want the complete-absent ones though</p>



<a name="185542747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542747">(Jan 13 2020 at 22:03)</a>:</h4>
<p><a href="https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#IncludeResourceTransformer" target="_blank" title="https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#IncludeResourceTransformer">https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#IncludeResourceTransformer</a></p>



<a name="185542752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542752">(Jan 13 2020 at 22:03)</a>:</h4>
<p>we can use that</p>



<a name="185542759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542759">(Jan 13 2020 at 22:03)</a>:</h4>
<p>cool</p>



<a name="185542848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542848">(Jan 13 2020 at 22:04)</a>:</h4>
<p>today, the only ones we use are the ones at <code>/json/ibm/complete-mock</code></p>



<a name="185542864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542864">(Jan 13 2020 at 22:04)</a>:</h4>
<p>and of those, only the ones with a postfix of <code>-1</code></p>



<a name="185542877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542877">(Jan 13 2020 at 22:04)</a>:</h4>
<p>e.g. <code>/json/ibm/complete-mock/Patient-1.json</code></p>



<a name="185542946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542946">(Jan 13 2020 at 22:05)</a>:</h4>
<p>btw i asked google about the version vs non-version jar and read through the answers at <a href="https://stackoverflow.com/questions/16482102/when-should-a-jar-file-name-have-a-version-number-in-it-what-are-the-pros-and-c" target="_blank" title="https://stackoverflow.com/questions/16482102/when-should-a-jar-file-name-have-a-version-number-in-it-what-are-the-pros-and-c">https://stackoverflow.com/questions/16482102/when-should-a-jar-file-name-have-a-version-number-in-it-what-are-the-pros-and-c</a></p>



<a name="185542970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185542970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185542970">(Jan 13 2020 at 22:05)</a>:</h4>
<p>so now i'm thinking of including the versions (which is also the maven and shade default)</p>



<a name="185543243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185543243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185543243">(Jan 13 2020 at 22:08)</a>:</h4>
<p>resulting structure will be<br>
<a href="/user_uploads/10155/_d-BJgkLGav7ZZcY2KPACEVx/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/_d-BJgkLGav7ZZcY2KPACEVx/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/_d-BJgkLGav7ZZcY2KPACEVx/pasted_image.png"></a></div>



<a name="185543289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185543289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185543289">(Jan 13 2020 at 22:09)</a>:</h4>
<p>although I always wondered if we could flatten it a bit more</p>



<a name="185543391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185543391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185543391">(Jan 13 2020 at 22:10)</a>:</h4>
<p><span class="user-mention" data-user-id="192334">@John Timm</span> any idea why we include the <code>fhir</code> and <code>server</code> directories in this distribution zip?</p>



<a name="185543424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185543424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185543424">(Jan 13 2020 at 22:10)</a>:</h4>
<p>seems like the two directories under <code>server</code> could just be added directly under <code>fhir-server-dist</code></p>



<a name="185543874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185543874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185543874">(Jan 13 2020 at 22:15)</a>:</h4>
<p>or perhaps just replacing <code>fhir/server</code> with some other name like <code>installFiles</code> would help make it clearer that these are artifacts that are used by the install scripts to install the server within a new directory</p>



<a name="185603402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185603402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185603402">(Jan 14 2020 at 14:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191676">@Lee Surprenant</span> I'm not sure why it is nested like that. That layout hasn't changed in quite a while.</p>



<a name="185696329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Packaging%20for%20utility%20jars/near/185696329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Packaging.20for.20utility.20jars.html#185696329">(Jan 15 2020 at 13:20)</a>:</h4>
<p>after a few different iterations, we ended up creating a "shaded" version of both fhir-swagger-generator and fhir-persistence-schema.  to make their purpose more clear, I attached a classifier of "cli" to the all-in-one executable flavor of these jars.  I also updated their READMEs.  The PR was <a href="https://github.com/IBM/FHIR/pull/587" target="_blank" title="https://github.com/IBM/FHIR/pull/587">https://github.com/IBM/FHIR/pull/587</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
