---
layout: page
title: "FHIR Chat  · Sorting on quantity · ibm"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/index.html">ibm</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Sorting.20on.20quantity.html">Sorting on quantity</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="180139801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Sorting%20on%20quantity/near/180139801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Sorting.20on.20quantity.html#180139801">(Nov 07 2019 at 14:59)</a>:</h4>
<p>While working on <a href="https://github.com/IBM/FHIR/issues/359" target="_blank" title="https://github.com/IBM/FHIR/issues/359">https://github.com/IBM/FHIR/issues/359</a> I noticed something pretty interesting...our current sort logic (in jdbc persistence layer) actually sorts on the system first, and then the value.</p>



<a name="180139892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Sorting%20on%20quantity/near/180139892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Sorting.20on.20quantity.html#180139892">(Nov 07 2019 at 15:00)</a>:</h4>
<p>Whats especially interesting to me is that it doesn't actually sort on the system name but instead on the identifier in the code systems table</p>



<a name="180139930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Sorting%20on%20quantity/near/180139930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Sorting.20on.20quantity.html#180139930">(Nov 07 2019 at 15:00)</a>:</h4>
<p>which I think just happens to be whatever order we saw the systems in</p>



<a name="180140676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Sorting%20on%20quantity/near/180140676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Sorting.20on.20quantity.html#180140676">(Nov 07 2019 at 15:07)</a>:</h4>
<p>For quantity values with ucum units, I think a really intelligent server could sort all the quantities that are comparable (i.e. of the same 'dimension' in ucum).  However, since we don't do anything special with UCUM unit conversions at this time,<br>
I think that  grouping the values by their unit code systems seems reasonable.</p>



<a name="180140769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Sorting%20on%20quantity/near/180140769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Sorting.20on.20quantity.html#180140769">(Nov 07 2019 at 15:08)</a>:</h4>
<p>Further, I guess sorting by system id is "as logical" as doing a lexical sort of the system name, since neither would really give you any meaningful sort</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
