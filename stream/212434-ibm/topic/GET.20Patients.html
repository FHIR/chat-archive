---
layout: page
title: "FHIR Chat  · GET Patients · ibm"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/index.html">ibm</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html">GET Patients</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="276053058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276053058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276053058">(Mar 21 2022 at 13:51)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="191676">@Lee Surprenant</span> ,</p>
<p>This is with reference to doing a GET on <a href="https://3.92.228.209:9443/fhir-server/api/v4/Patient">https://3.92.228.209:9443/fhir-server/api/v4/Patient</a> using smartonfhir.<br>
I tried sending scopes user/<em>.</em> to do a GET all patients, but it says "Authorization token is missing 'patient_id' claim". </p>
<p>My token is as below:</p>
<p>{<br>
  "nbf": 1647868834,<br>
  "exp": 1647872434,<br>
  "iss": "<a href="https://oauthserver.justtest.in">https://oauthserver.justtest.in</a>",<br>
  "aud": [<br>
    "<a href="https://fhirserver.justtest.in:9443/fhir-server/api/v4">https://fhirserver.justtest.in:9443/fhir-server/api/v4</a>",<br>
    "Inferno"<br>
  ],<br>
  "client_id": "InternalToken",<br>
  "jti": "E6F5283E7911A8775E78004B7B28274D",<br>
  "iat": 1647868834,<br>
  "upn": "fhiruser",<br>
  "need_patient_banner": "false",<br>
  "smart_style_url": "<a href="https://oauthserver.justtest.in/SmartOnFHIR/v1.json">https://oauthserver.justtest.in/SmartOnFHIR/v1.json</a>",<br>
  "scope": "user/<em>.</em>",<br>
  "group": [<br>
    "FHIRUsers",<br>
    "FHIRAdmins"<br>
  ]<br>
}</p>
<p>Is it required to always send 'patient_id' as part of the token?</p>
<p>My use case is, a provider logs into an app, after it is authorized by the OAuth application, it needs to get the patients in the FHIR server.</p>
<p>Could you please share your thoughts on this?</p>
<p>Regards.<br>
Sagar</p>



<a name="276053677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276053677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276053677">(Mar 21 2022 at 13:55)</a>:</h4>
<p>yes, the current design is that there is a patient_id claim in the token that lists all the patients to which the current user has access.  its definitely NOT the only way to do this so feedback is welcome</p>



<a name="276053789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276053789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276053789">(Mar 21 2022 at 13:56)</a>:</h4>
<p>aside:  "user/." looks funny, i assume you just lost the <code>*</code> while copy/pasting?</p>



<a name="276053950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276053950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276053950">(Mar 21 2022 at 13:57)</a>:</h4>
<p>question:  would you expect <code>user/*.*</code> to grant access to <em>all</em> patients by default?  are you doing anything to limit what the user has access to?</p>



<a name="276054545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276054545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276054545">(Mar 21 2022 at 14:01)</a>:</h4>
<p>yes, i think within an organization, all providers have access to all patients. <br>
so when a provider logs in, how can he retrieve all the patients in that organization, although he may not have created some of these?</p>
<p>yes, "user/." was actually "user/star.star". Sorry for the typo. That "star" is getting lost in the chat.</p>



<a name="276146824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276146824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276146824">(Mar 22 2022 at 06:03)</a>:</h4>
<p>Question: "would you expect user/star.star to grant access to all patients by default? are you doing anything to limit what the user has access to?"<br>
Answer: Yes, I would like 'user/star.star' to have access to all patients by default. And further access on all the resources of that selected patient (which will be in the token).</p>



<a name="276180294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276180294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276180294">(Mar 22 2022 at 12:26)</a>:</h4>
<blockquote>
<p>yes, i think within an organization, all providers have access to all patients.<br>
so when a provider logs in, how can he retrieve all the patients in that organization, although he may not have created some of these?</p>
</blockquote>
<blockquote>
<p>Answer: Yes, I would like 'user/star.star' to have access to all patients by default. And further access on all the resources of that selected patient (which will be in the token).</p>
</blockquote>
<p>The second sentence doesn't make sense to me</p>



<a name="276189372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276189372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276189372">(Mar 22 2022 at 13:37)</a>:</h4>
<p>I just opened <a href="https://github.com/IBM/FHIR/issues/3495">https://github.com/IBM/FHIR/issues/3495</a> ...please let me know if that behavior change would match your expectations as a user</p>



<a name="276305557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276305557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276305557">(Mar 23 2022 at 09:19)</a>:</h4>
<p>Yes, that is fine.<br>
Thank you, <span class="user-mention" data-user-id="191676">@Lee Surprenant</span></p>



<a name="276892290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/276892290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#276892290">(Mar 28 2022 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="193430">@Alexander Zautke</span> want to double-check if Firely Server is similar on this?</p>



<a name="277779922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/277779922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#277779922">(Apr 04 2022 at 19:10)</a>:</h4>
<p>Sorry, <span class="user-mention" data-user-id="191363">@Vadim Peretokin</span>. I wasn't subscribed to this stream and didn't yet a notification. No, Firely Server will grant you by default access to all resources if you have a user-level scope. For modelling user-level access, I would be looking at GraphDefinitions to represent what is in scope and what isn't.</p>



<a name="277911923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/GET%20Patients/near/277911923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/GET.20Patients.html#277911923">(Apr 05 2022 at 17:08)</a>:</h4>
<p>Thanks for chiming in Vadim and Alexander... that sounds consistent with the change I mention above and we plan to include that change in our next release.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
