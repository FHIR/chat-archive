---
layout: page
title: "FHIR Chat  · Bundle Link URL · ibm"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/index.html">ibm</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Bundle.20Link.20URL.html">Bundle Link URL</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="269138401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Bundle%20Link%20URL/near/269138401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Bundle.20Link.20URL.html#269138401">(Jan 24 2022 at 17:17)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="191676">@Lee Surprenant</span> <br>
When there are many records for a resource, it gives "next" url in the bundle. We have a case as below<br>
"link": [<br>
    {<br>
      "relation": "self",<br>
      "url": "<a href="https://fhirserver.justtest.in:9443/fhir-server/api/v4/Observation?_count=10&amp;category=vital-signs&amp;date=gt1940-10-04T00:00:00+00:00&amp;patient=17e77411359-8837d878-ea1e-45b5-bb89-882fdfb2be4b&amp;_page=1">https://fhirserver.justtest.in:9443/fhir-server/api/v4/Observation?_count=10&amp;category=vital-signs&amp;date=gt1940-10-04T00:00:00+00:00&amp;patient=17e77411359-8837d878-ea1e-45b5-bb89-882fdfb2be4b&amp;_page=1</a>"<br>
    },<br>
    {<br>
      "relation": "next",<br>
      "url": "<a href="https://fhirserver.justtest.in:9443/fhir-server/api/v4/Observation?_count=10&amp;category=vital-signs&amp;date=gt1940-10-04T00:00:00+00:00&amp;patient=17e77411359-8837d878-ea1e-45b5-bb89-882fdfb2be4b&amp;_page=2">https://fhirserver.justtest.in:9443/fhir-server/api/v4/Observation?_count=10&amp;category=vital-signs&amp;date=gt1940-10-04T00:00:00+00:00&amp;patient=17e77411359-8837d878-ea1e-45b5-bb89-882fdfb2be4b&amp;_page=2</a>"<br>
    }</p>
<p>Here in the URL, there is "+" sign in the date parameter, and hence the GET on this URL to FHIR server fails saying  below<br>
{<br>
    "resourceType": "OperationOutcome",<br>
    "id": "ac-1f-5-a3-1d80ad82-06d4-41c1-9f6a-2cd2c2ecfc7a",<br>
    "issue": [<br>
        {<br>
            "severity": "fatal",<br>
            "code": "invalid",<br>
            "details": {<br>
                "text": "Invalid Date Time Format found please use 'yyyy-mm-ddThh:mm:ss[Z|(+|-)hh:mm].'"<br>
            },</p>
<div class="codehilite"><pre><span></span><code>    }
]
</code></pre></div>

<p>}</p>
<p>Just to test, the moment, I encode, the + sign to make the URL <a href="https://fhirserver.justtest.in:9443/fhir-server/api/v4/Observation?_count=10&amp;category=vital-signs&amp;date=gt1940-10-04T00:00:00%2B00:00&amp;patient=17e77411359-8837d878-ea1e-45b5-bb89-882fdfb2be4b&amp;_page=2">https://fhirserver.justtest.in:9443/fhir-server/api/v4/Observation?_count=10&amp;category=vital-signs&amp;date=gt1940-10-04T00:00:00%2B00:00&amp;patient=17e77411359-8837d878-ea1e-45b5-bb89-882fdfb2be4b&amp;_page=2</a><br>
it gives me the desired result.</p>
<p>Could you please let me know your thoughts?</p>
<p>Thanks,<br>
Sagar</p>



<a name="269143606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Bundle%20Link%20URL/near/269143606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Bundle.20Link.20URL.html#269143606">(Jan 24 2022 at 17:54)</a>:</h4>
<p>HI Sagar, + is a special case. It also signals a space in URLs.  It's best that they be URL Encoded.</p>



<a name="269210239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Bundle%20Link%20URL/near/269210239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Bundle.20Link.20URL.html#269210239">(Jan 25 2022 at 05:05)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="192632">@Paul Bastide</span> ,<br>
Thank you for your reply.</p>
<p>Here in this case, the + signifies part of the date and is not a space.</p>
<p>In the link <a href="https://www.hl7.org/fhir/http.html#paging">https://www.hl7.org/fhir/http.html#paging</a> it says "The links are opaque to the client, have no dictated structure, and only the server understands them. The client must use the server supplied links in order to traverse the pages."</p>
<p>So going by the above information, do you think the IBM FHIR should encode it and send it? </p>
<p>Regards,<br>
Sagar</p>



<a name="269250128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Bundle%20Link%20URL/near/269250128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Bundle.20Link.20URL.html#269250128">(Jan 25 2022 at 12:37)</a>:</h4>
<p>I'm not sure if we should url-encode the full link url in our responses or not.<br>
I think it might make sense for us to at least encode the datetime values since <code>+</code> is known to cause trouble.<br>
<span class="user-mention" data-user-id="192632">@Paul Bastide</span> agree?<br>
<span class="user-mention" data-user-id="392120">@Sagar Sarvankar</span> care to open an issue for it at <a href="https://github.com/IBM/FHIR/issues">https://github.com/IBM/FHIR/issues</a> ?</p>



<a name="269251852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Bundle%20Link%20URL/near/269251852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Bastide <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Bundle.20Link.20URL.html#269251852">(Jan 25 2022 at 12:52)</a>:</h4>
<p>I agree <span class="user-mention" data-user-id="191676">@Lee Surprenant</span></p>



<a name="269269858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/212434-ibm/topic/Bundle%20Link%20URL/near/269269858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Sarvankar <a href="https://fhir.github.io/chat-archive/stream/212434-ibm/topic/Bundle.20Link.20URL.html#269269858">(Jan 25 2022 at 15:09)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191676">@Lee Surprenant</span>  and <span class="user-mention" data-user-id="192632">@Paul Bastide</span>  </p>
<p>Please find the issue created at <a href="https://github.com/IBM/FHIR/issues/3245">https://github.com/IBM/FHIR/issues/3245</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
