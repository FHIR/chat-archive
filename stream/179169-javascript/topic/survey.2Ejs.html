---
layout: page
title: "FHIR Chat  · survey.js · javascript"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/index.html">javascript</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html">survey.js</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205877920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/205877920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#205877920">(Aug 04 2020 at 06:49)</a>:</h4>
<p>Is it worth working with something like survey.js to add support for FHIR Questionnaires somehow?</p>



<a name="205899646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/205899646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#205899646">(Aug 04 2020 at 12:24)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , I started a <a href="https://github.com/asbi-cds-tools/questionnaire-to-survey">library</a> for converting FHIR Questionnaires / SDC for use with survey.js. Right now support is limited to the features I need for the application I'm working on (alcohol screening), but there's no reason that it couldn't be extended.</p>



<a name="205899681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/205899681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#205899681">(Aug 04 2020 at 12:25)</a>:</h4>
<p>is producing a questionnaire response on your agenda?</p>



<a name="205899687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/205899687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#205899687">(Aug 04 2020 at 12:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191802">@Tim Blake</span> fyi</p>



<a name="205899847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/205899847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#205899847">(Aug 04 2020 at 12:27)</a>:</h4>
<p>There's a <a href="https://github.com/asbi-cds-tools/asbi-screening-app">companion SMART app</a> that uses the library; in that app a QR is generated once the survey is completed. Again, very focused on my application, but you can find a working demo <a href="https://github.com/asbi-cds-tools/asbi-screening-app#demo">here</a>. Chrome is highly recommended for the demo.</p>



<a name="206165043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/206165043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#206165043">(Aug 06 2020 at 16:33)</a>:</h4>
<p>Ooof.  Beware the wild-west of Javascript form libraries and the quicksand.  101  developers re-inventing the same wheel because they don't know better, and 10x more developers thinking "geeze, this library looks well used; they must know what they're doing" and following into the quicksand.  </p>
<p>By and large, all these form libraries overly optimize for one particular usecase involving ad-hoc auto-generated forms from a relational database; failing to understand that the effort and entropy needed to define the edge cases to their autogenerated approach is the same amount of effort and entropy needed to build the form out from scratch using raw components.  All these libraries do is introduce a double abstraction.  </p>
<p>So, on the one hand, yes...  work with survey.js because interoperability and it's javascript.  Survey.js will be able to consume FHIR resources fairly easily.  So, submitting pull requests and adding FHIR Questionnaire support won't be overly difficult.   It's inevitable that these libraries are going to begin supporting FHIR Questionnaire.  So don't try to stop it.  </p>
<p>On the other hand, no... because almost every Javascript form library is introducing double-abstractions, making it more difficult to reason through code.  It also winds up introducing more dependencies; more traffic on the wire; slower load times; increased hosting costs; etc.  </p>
<p>So be careful of the quicksand!!!!  It can derail a project by months; if not sabotage it altogether.  </p>
<p>I speak from personal experience, having been burned multiple times trying to integrate FHIR Questionnaire with various libraries... Autoforms, Uniform, and various others.  I speak from having projects collapse and having lost a job at UC Santa Cruz (which I really liked) because we had an architect try to push the use of Autoforms and make a generalized approach with the intent of reinventing clinical trials.</p>



<a name="206165706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/206165706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#206165706">(Aug 06 2020 at 16:40)</a>:</h4>
<p>My $0.02 on which Javascript form/survey libraries to invest time in would be whatever is as close  to bare metal as possible.   No widgets.  No MVC model.  No user interface.  No lifecycle management.  </p>
<p>Keep it as minimalist as possible, focusing on validation, conditional logic, and saving forms.  All it should do is upgrade the HTML <code>&lt;form&gt;</code> tag with FHIR.  Then leave everything else to the underlying templating library.... Angular, React, Handlebars, Vue, etc.  </p>
<p>For what it's worth, after 5+ years of screwing up with Javascript form libraries + FHIR Questionnaire, I've settled on Formik for the Node on FHIR stack for the foreseeable future:</p>
<p><a href="https://formik.org/">https://formik.org/</a></p>



<a name="206449443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/206449443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#206449443">(Aug 10 2020 at 11:08)</a>:</h4>
<p>Thanks for the perspective <span class="user-mention" data-user-id="191678">@Abigail Watson</span> .  I wouldn't say SurveyJS suffers from many or any of the drawbacks you mention, of course I've only used it for exactly one application so take that for what it is.  It sounds like you'd agree that we need more tools (not less) for working with FHIR Questionnaires. <a href="http://lhncbc.github.io/lforms/">LForms</a> is great but it did not (at the time I investigated) support async execution of CQL expressions, which I really needed for my application.  I settled on SurveyJS because of a number of perceived benefits/strengths:</p>
<ol>
<li>Supports many front-end frameworks (React, Vue, Angular, etc).</li>
<li>SurveyJS "Questionnaires" defined entirely in JSON.</li>
<li>Mapping between SurveyJS and FHIR Questionnaire is pretty straightforward; see <a href="https://github.com/asbi-cds-tools/questionnaire-to-survey#supported-elements">here</a>.</li>
<li>Supports arbitrary async callbacks; all I had to do was plug in my CQL expression evaluator.</li>
</ol>
<p>So SurveyJS worked for me and I'm hoping others may find it useful as well; I'd love to see the simple converter I wrote get expanded out so that more Questionnaire and SDC capabilities get implemented.  But your advice to carefully examine a technology before jumping in headfirst is very wise and well-said.  For instance, LForms supports more of SDC out of the box and so is potentially a better starting point for many people. Regarding Formik, can you point to some examples for how it can be used with FHIR?</p>



<a name="207085058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/207085058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#207085058">(Aug 16 2020 at 19:11)</a>:</h4>
<p>To be fair, much of my gripe is with jQuery and Bootstrap.   The design paradigms of jQuery/Bootstrap vs React vs Angular are just so different that, in my experience, it causes maintenance headaches later down the road.  Things that are easy to implement are difficult to maintain, and things easy to maintain are difficult to implement.  </p>
<p>I'm putting together a small demo of the Formik example using Questionnaire.  It's a recent addition to our stack, based on a gnarly refactor this past year.   Should  have it put together in the next few weeks; hopefully by Connectathon 25.</p>



<a name="208154731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/208154731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#208154731">(Aug 26 2020 at 22:01)</a>:</h4>
<p>I'm looking forward to seeing it.</p>



<a name="221834596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/221834596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#221834596">(Jan 06 2021 at 22:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191678">@Abigail Watson</span> how did this go?<br>
One of our main desires is for a Questionnaire solution that works well with bindings to large ValueSets (e.g., will use ValueSet/$expand?filter= as the basis of a type-ahead widget)</p>



<a name="269184902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/survey.js/near/269184902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/survey.2Ejs.html#269184902">(Jan 24 2022 at 22:58)</a>:</h4>
<p>(The lhcforms and Telstra Health renderers both do that for the autocomplete item control type)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
