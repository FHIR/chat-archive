---
layout: page
title: "FHIR Chat  · schema · javascript"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/index.html">javascript</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html">schema</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153811019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811019">(Nov 23 2015 at 12:41)</a>:</h4>
<p>Just init stream for discussion of FHIR -&gt; JSON schema. <span class="user-mention" data-user-id="191325">@Dunmail</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span> </p>



<a name="153811020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811020">(Nov 23 2015 at 12:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191325">@Dunmail</span>  we need to separate node code from pure convertion and validation code.<br>
Alse let's decide on language (es6?) and project location</p>



<a name="153811061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811061">(Nov 23 2015 at 14:04)</a>:</h4>
<p>I hate vanilla js syntax, <span class="user-mention" data-user-id="191325">@Dunmail</span>  are you ok about es6?</p>



<a name="153811063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811063">(Nov 23 2015 at 14:05)</a>:</h4>
<p>ES6 = TypeScript?</p>



<a name="153811064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811064">(Nov 23 2015 at 14:05)</a>:</h4>
<p>Without the types...</p>



<a name="153811065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811065">(Nov 23 2015 at 14:05)</a>:</h4>
<p>almost :) just a subset of TypeScript :)</p>



<a name="153811066"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811066" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811066">(Nov 23 2015 at 14:06)</a>:</h4>
<p><a href="https://babeljs.io/docs/learn-es2015/" target="_blank" title="https://babeljs.io/docs/learn-es2015/">https://babeljs.io/docs/learn-es2015/</a> is a good overview</p>



<a name="153811067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811067">(Nov 23 2015 at 14:06)</a>:</h4>
<p>I found how to make babel faster - just add exclude: node_modules to babelrc :)</p>



<a name="153811068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811068">(Nov 23 2015 at 14:07)</a>:</h4>
<p>Ah, that sounds better!</p>



<a name="153811069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811069">(Nov 23 2015 at 14:09)</a>:</h4>
<blockquote>
<p>Without the types...</p>
</blockquote>
<p>Ha. The crucial part.</p>



<a name="153811070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811070">(Nov 23 2015 at 14:10)</a>:</h4>
<p>Ok. Read it. Understand the differences.</p>



<a name="153811071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811071">(Nov 23 2015 at 14:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span>  time to learn some dynamic lang :)</p>



<a name="153811073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811073">(Nov 23 2015 at 14:11)</a>:</h4>
<p>Conformance -&gt; swagger.json -&gt; auto-generated clients</p>



<a name="153811075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811075">(Nov 23 2015 at 14:13)</a>:</h4>
<p>I am not spending my days chasing down a bug that a compiler could have found. Like assigning strings to integers or calling functions with missing params. I have done that for ages in older languages pre-javascript. No thanks ;-)   TypeScript is dynamic enough for me.</p>



<a name="153811076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811076">(Nov 23 2015 at 14:13)</a>:</h4>
<p>You have to be a user of Haskell :)</p>



<a name="153811077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811077">(Nov 23 2015 at 14:14)</a>:</h4>
<p>Here is purescript for real typed guys - <a href="http://www.purescript.org/" target="_blank" title="http://www.purescript.org/">http://www.purescript.org/</a></p>



<a name="153811085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811085">(Nov 23 2015 at 16:56)</a>:</h4>
<p>still hate js and es6 syntax, so much boilerplate in comparison with coffeescript <img alt=":unamused:" class="emoji" src="static/third/gemoji/images/emoji/unamused.png" title=":unamused:"> </p>



<a name="153811097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811097">(Nov 23 2015 at 20:23)</a>:</h4>
<p>Y. Coffescript is nice!</p>



<a name="153811194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811194">(Nov 25 2015 at 16:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191325">@Dunmail</span>  i've mostly repeated your work and  passed simple test - all examples thro all schemas.  <a href="https://github.com/niquola/fhir-schema" target="_blank" title="https://github.com/niquola/fhir-schema">https://github.com/niquola/fhir-schema</a><br>
I hope, i'm ready to merge projects and discuss details :) Here is demo - <a href="http://niquola.github.io/fhir-schema/#/" target="_blank" title="http://niquola.github.io/fhir-schema/#/">http://niquola.github.io/fhir-schema/#/</a></p>



<a name="153811228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811228">(Nov 26 2015 at 17:38)</a>:</h4>
<p>@<strong>nicola</strong> Like it! What else do we need to do?</p>



<a name="153811229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811229">(Nov 26 2015 at 17:40)</a>:</h4>
<p>Constraints may be easier if/when structuredefs have fhirpath</p>



<a name="153811230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811230">(Nov 26 2015 at 17:41)</a>:</h4>
<p>Binding to required valuesets can be done</p>



<a name="153811231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811231">(Nov 26 2015 at 17:42)</a>:</h4>
<p>I'm fighting with <a href="https://github.com/epoberezkin/ajv" target="_blank" title="https://github.com/epoberezkin/ajv">https://github.com/epoberezkin/ajv</a>. It should be faster then tv4 and more strict.<br>
We have to layout library and separate pure JS build, node build, borwser build</p>



<a name="153811232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811232">(Nov 26 2015 at 17:42)</a>:</h4>
<p>So we have a core which is just a function StructureDefinition -&gt; JSON Schema</p>



<a name="153811233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811233">(Nov 26 2015 at 17:43)</a>:</h4>
<p>Then we could have a nodejs wrapper, which could build from fs for example</p>



<a name="153811234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811234">(Nov 26 2015 at 17:43)</a>:</h4>
<p>browser wrapper with cache and async or prebuild schema</p>



<a name="153811235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811235">(Nov 26 2015 at 17:44)</a>:</h4>
<p>Let's decide about where on github we'll put it?</p>



<a name="153811236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811236">(Nov 26 2015 at 17:44)</a>:</h4>
<p>may be create organization fhir.js?</p>



<a name="153811237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811237">(Nov 26 2015 at 17:45)</a>:</h4>
<p>Sounds good. I think core will need a $validate function as we'll need to use .addFormat</p>



<a name="153811238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811238">(Nov 26 2015 at 17:46)</a>:</h4>
<p>fhir.js org is good!</p>



<a name="153811246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811246">(Nov 27 2015 at 09:27)</a>:</h4>
<p>What do you think of this lib layout?</p>
<p><strong>fhir.js/json-schema-core</strong></p>
<p>Core package for generating json-schema from FHIR structure definitions and<br>
validating FHIR resources against json-schema definitions.</p>
<p>*Constructor*</p>
<div class="codehilite"><pre>var instance = new json-schema([schema])
</pre></div>


<ul>
<li>Returns json-schema instance.</li>
<li>Instance has a schema property to hold the schema it uses.</li>
<li>By default, we add the primitives/elements to the schema (maybe fhir core?).</li>
<li>If prebuilt schema is provided, override existing definitions with new definitions.</li>
</ul>
<p>*Get schema*</p>
<div class="codehilite"><pre>instance.schema = function() {
    return json-schema.schema object
}
</pre></div>


<p><strong>Add new definitions to schema</strong></p>
<div class="codehilite"><pre>instance.add(structureDefinition, callback){
    if structureDefinition is not an array, coerce to array
    for each structureDefinition,
        build schema and add/update in schema.definitions
    then callback
}
</pre></div>


<p><strong>Validate resource against a profile</strong></p>
<div class="codehilite"><pre>instance.validate(resource, [url], [options], callback){
    if no url assume core resource profiles : https://www.hl7.org/fhir/{{resource.resourceType.toLowerCase}}.profile.json
    if no schema.definitions[url] throw Error

    ? could we validate against profiles that resource claims to support (via resource meta)
    ? options to modify validation behaviour

    var result = validator.validate(resource, schema.definitions[url])

    callback(result as OperationOutcome)
}
</pre></div>


<p><strong>fhir.js/json-schema-node</strong></p>
<p>Package wrapping fhir.js/json-schema-core to provide additional node specific capabilities:</p>
<ul>
<li>add profiles from fs location?</li>
<li>connect middleware function?</li>
<li>promisify functions?</li>
</ul>
<p><strong>fhir.js/json-schema-bower</strong></p>
<p>(Not necessarily bower!)</p>
<p>Package wrapping fhir.js/json-schema-core to provide additional browser-specific capabilities</p>
<ul>
<li>aysnc support?</li>
<li>add profiles from localstorage?</li>
</ul>



<a name="153811247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811247">(Nov 27 2015 at 09:57)</a>:</h4>
<p>May be start from one repo with many builds?</p>



<a name="153811248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811248">(Nov 27 2015 at 10:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191325">@Dunmail</span> Put you ideas to fhir.js/fhir-schema - at least this would be umbrella project for all packages.</p>



<a name="153811249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811249">(Nov 27 2015 at 11:16)</a>:</h4>
<p>Yes - can always refactor to other projects if we need to</p>



<a name="153811250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811250">(Nov 27 2015 at 11:43)</a>:</h4>
<p>Let's just list modules:</p>
<ul>
<li>schema-generation</li>
<li>schema-usage</li>
<li>schema-adapters</li>
<li>different JSON schema enginies</li>
<li>browser</li>
<li>node</li>
<li>schema-build (include schema for current  FHIR specs)</li>
</ul>



<a name="153811251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811251">(Nov 27 2015 at 11:45)</a>:</h4>
<p>What does schema-adapter do?</p>



<a name="153811252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811252">(Nov 27 2015 at 11:46)</a>:</h4>
<p>there are a lot of JSON schema engines - so adapters would just glue library to concrete ones </p>



<a name="153811253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811253">(Nov 27 2015 at 11:47)</a>:</h4>
<p>Got it</p>



<a name="153811254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811254">(Nov 27 2015 at 11:47)</a>:</h4>
<p>I've played with ajv, it's one order faster then tv4 for example. But top level api of this libraries very different</p>



<a name="153811255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811255">(Nov 27 2015 at 11:48)</a>:</h4>
<p>OK</p>



<a name="153811256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811256">(Nov 27 2015 at 11:48)</a>:</h4>
<p>so for example usage could looks like:</p>
<div class="codehilite"><pre><span class="nx">fhir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fhir-schema/tv4&#39;</span><span class="p">)</span>
<span class="nx">or</span>
<span class="nx">fhir</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fhir-schema/ajv&#39;</span><span class="p">)</span>
</pre></div>



<a name="153811257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811257">(Nov 27 2015 at 11:49)</a>:</h4>
<p>I could organize my code as initial repo and push to github. Is it ok?</p>



<a name="153811258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811258">(Nov 27 2015 at 11:49)</a>:</h4>
<p>Or we could start from your repo....</p>



<a name="153811259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dunmail <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811259">(Nov 27 2015 at 11:50)</a>:</h4>
<p>Better than OK :)</p>
<p>Have sent a couple of PRs, porting from the proof of concept lib I did</p>



<a name="153811260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811260">(Nov 27 2015 at 16:32)</a>:</h4>
<p>Here is it  - <a href="https://github.com/fhir-js/fhir-schema" target="_blank" title="https://github.com/fhir-js/fhir-schema">https://github.com/fhir-js/fhir-schema</a></p>



<a name="153811427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/schema/near/153811427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/schema.html#153811427">(Dec 04 2015 at 09:39)</a>:</h4>
<p>To discussion about selecting schema based on resourceType:  swagger supports - "discriminator". Adds support for polymorphism. The discriminator is the schema property name that is used to differentiate between other schema that inherit this schema. The property name used MUST be defined at this schema and it MUST be in the required property list. When used, the value MUST be the name of this schema or any schema that inherits it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
