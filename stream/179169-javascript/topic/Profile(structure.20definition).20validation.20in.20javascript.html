---
layout: page
title: "FHIR Chat  · Profile(structure definition) validation in javascript · javascript"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/index.html">javascript</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html">Profile(structure definition) validation in javascript</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="235621870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235621870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235621870">(Apr 22 2021 at 05:28)</a>:</h4>
<p>Hi ..</p>
<p>I am implementing FHIR receiver in Node.js .  I am using "<strong>FHIR schema</strong>" and  <strong>"ajv npm" </strong>for validating JSON structure, Mandatory and data type . </p>
<p>For profiles i can find <strong>"Fhirpath.js" </strong> is the only option to validate FHIR expressions from elements. <br>
I need to validate other Structure definition features like min, max, fixed, pattern, minValue, maxValue etc.</p>
<p><a href="http://hl7.org/fhir/validation.html">http://hl7.org/fhir/validation.html</a> - In this link they mentioned schema will cover profile validation too.</p>
<p>So far i could not find how to validate profiles using schema.</p>
<p>Is there any other package available to validate profiles or we need to manually validate each elements available in structure definition ?</p>



<a name="235743414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235743414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235743414">(Apr 22 2021 at 20:35)</a>:</h4>
<p>The FHIR Validator can validate against a profile.  <a href="http://hl7.org/fhir/validation.html#jar">http://hl7.org/fhir/validation.html#jar</a></p>



<a name="235788726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235788726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235788726">(Apr 23 2021 at 05:21)</a>:</h4>
<p>is FHIR validator will support JSON format ? this is jar file . can i use it in Node.js ?</p>



<a name="235798565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235798565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235798565">(Apr 23 2021 at 07:21)</a>:</h4>
<p>The standard JAR validator supports both XML and JSON (reading the resources from files). You could thus, in theory, write the data you want to validate to file and trigger the JAR from node.js (using, it seems, the <code>spawn()</code> method).  However, it would probably be more elegant to set up a HAPI FHIR server, feed it the profiles you want to validate against, and then call <a href="https://www.hl7.org/fhir/validation.html#op">the $validate endpoint</a> via HTTP from node.js.</p>
<p>There is, AFAIK, no existing JS libs that will allow full validation based directly on StructureDefinition. There has been some discussion of generating JSON Schemata from StructureDefinition (though that cannot support all features of profiles) but again, I am not aware of any tools that actually do this.</p>



<a name="235799078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235799078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Prud&#x27;hommeaux <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235799078">(Apr 23 2021 at 07:27)</a>:</h4>
<p>There are a couple implementations (python, js) of <a href="https://github.com/ericprud/jsg">JSG</a> (<a href="http://shex.io/shex-semantics/index.html#shexj">example</a>), which is way less popular than JSON Schema, but more aimed at grammar-based validation.<br>
I wouldn't be surprised if there were some practical use cases it covers (e.g. slicing) that it can support and JSON schema cannot.<br>
Again, not popular, but if folks wanted to run with it, it could make a nice grammar for JSON validation.</p>



<a name="235824869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235824869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235824869">(Apr 23 2021 at 11:29)</a>:</h4>
<p>Thank you all</p>



<a name="235825048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235825048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235825048">(Apr 23 2021 at 11:30)</a>:</h4>
<p>one more doubt. other than $validate method, do i need validate the resource against profile when resource has meta-&gt;profile data ?</p>



<a name="235825647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235825647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235825647">(Apr 23 2021 at 11:35)</a>:</h4>
<p>according to <a href="https://www.hl7.org/fhir/validation.html">https://www.hl7.org/fhir/validation.html</a> you don't need to do it, however I would check the implementation if it does it according to the rules listed.</p>



<a name="235826376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235826376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235826376">(Apr 23 2021 at 11:42)</a>:</h4>
<p>Okay..can we write our own profile validation program ?</p>



<a name="235826762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235826762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235826762">(Apr 23 2021 at 11:46)</a>:</h4>
<p>is JAR file will accept profile data (JSON) or it will support only published profiles ?</p>



<a name="235827736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235827736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235827736">(Apr 23 2021 at 11:56)</a>:</h4>
<p>This documentation page describes all the option for using the JAR validator, including how to load your own (local) profiles or entire published FHIR packages: <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></p>



<a name="235829713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/Profile%28structure%20definition%29%20validation%20in%20javascript/near/235829713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Radha Rajendran <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/Profile(structure.20definition).20validation.20in.20javascript.html#235829713">(Apr 23 2021 at 12:14)</a>:</h4>
<p>okay thank you very much</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
