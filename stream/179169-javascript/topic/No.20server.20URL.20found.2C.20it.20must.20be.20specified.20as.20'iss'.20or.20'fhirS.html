---
layout: page
title: "FHIR Chat  · No server URL found, it must be specified as &#x27;iss&#x27; or &#x27;fhirS · javascript"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/index.html">javascript</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/No.20server.20URL.20found.2C.20it.20must.20be.20specified.20as.20&#x27;iss&#x27;.20or.20&#x27;fhirS.html">No server URL found, it must be specified as &#x27;iss&#x27; or &#x27;fhirS</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="257562395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/No%20server%20URL%20found%2C%20it%20must%20be%20specified%20as%20%27iss%27%20or%20%27fhirS/near/257562395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Wen <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/No.20server.20URL.20found.2C.20it.20must.20be.20specified.20as.20&#x27;iss&#x27;.20or.20&#x27;fhirS.html#257562395">(Oct 14 2021 at 16:16)</a>:</h4>
<p>I am using the <a href="http://docs.smarthealthit.org/client-js/">FHIR Client JS</a>. T<br>
rying to launch and authorize a SMART on FHIR app, gets the error "Error: No server url found. It must be specified as iss or as fhirServiceUrl parameter".<br>
According to the <a href="https://docs.smarthealthit.org/client-js/api.html">documentation</a> 'iss' should only be included for a standalone launch; I am trying to get an EHR launch working through the Epic sandbox. I believe I have added my clientId, redirectUri, and scope correctly.</p>



<a name="257570640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/No%20server%20URL%20found%2C%20it%20must%20be%20specified%20as%20%27iss%27%20or%20%27fhirS/near/257570640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/No.20server.20URL.20found.2C.20it.20must.20be.20specified.20as.20&#x27;iss&#x27;.20or.20&#x27;fhirS.html#257570640">(Oct 14 2021 at 17:08)</a>:</h4>
<p>In EHR launch the <code>iss</code> parameter will be passed to your <code>launch_uri</code> by Epic. Are you sure you have configured your client (in Epic) correctly?<br>
You should have separate <code>launch_uri</code> page/route which is what Epic will call initially, and a <code>redirect_uri</code> page/route which is where your app actually is.</p>



<a name="257577759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/No%20server%20URL%20found%2C%20it%20must%20be%20specified%20as%20%27iss%27%20or%20%27fhirS/near/257577759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Wen <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/No.20server.20URL.20found.2C.20it.20must.20be.20specified.20as.20&#x27;iss&#x27;.20or.20&#x27;fhirS.html#257577759">(Oct 14 2021 at 17:56)</a>:</h4>
<p>Could you describe in more detail how one would check if the client in Epic is configured correctly/what would make a client be configured incorrectly?<br>
As for the launch and redirect page routes, I believe I have those set up correctly as I do have two separate routes. <br>
My app follows the example from the documentation for the <a href="https://codesandbox.io/s/fhir-client-react-react-router-context-0q3n8?file=/src/components/Launcher.js">React example</a>. I have a Launcher component w/ smart.authorize() which redirects to a route that renders the FhirClientProvider component which has smart.ready()<br>
The smart.authorize seems to fail in the Launcher component and goes into the catch block I added: <code>smart.authorize.catch</code><br>
The app works with the <a href="http://launch.smarthealthit.org/?auth_error=&amp;fhir_version_2=r4&amp;iss=&amp;launch_ehr=1&amp;launch_url=&amp;patient=&amp;prov_skip_auth=1&amp;provider=&amp;pt_skip_auth=1&amp;public_key=&amp;sde=&amp;sim_ehr=1&amp;token_lifetime=15&amp;user_pt=">smarthealthit launcher</a> and Logica sandbox. The situation is the app is launching from an Epic BPA which comes from a CDS service. The CDS card returned has the url for the launcher component of the app (the url is the root path, similar to the example linked)</p>



<a name="257729788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/No%20server%20URL%20found%2C%20it%20must%20be%20specified%20as%20%27iss%27%20or%20%27fhirS/near/257729788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/No.20server.20URL.20found.2C.20it.20must.20be.20specified.20as.20&#x27;iss&#x27;.20or.20&#x27;fhirS.html#257729788">(Oct 15 2021 at 16:55)</a>:</h4>
<p>Yes, sorry. I meant that you might have swapped the launch and redirect URLs in your Epic client configuration. If that is not the case, and if it works with the launcher and Logica, then the next logical step would be to debug and see if the app is being passed that <code>iss</code> parameter.  If it isn't, then it is some kind of CDS problem.</p>
<p>I have not followed CDS for a while so I don't even remember if CDS Hooks supports EHR launch?</p>
<p>I also can't understand what you mean by   "(the url is the root path, similar to the example linked)"</p>



<a name="258078749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/No%20server%20URL%20found%2C%20it%20must%20be%20specified%20as%20%27iss%27%20or%20%27fhirS/near/258078749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Corey Wen <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/No.20server.20URL.20found.2C.20it.20must.20be.20specified.20as.20&#x27;iss&#x27;.20or.20&#x27;fhirS.html#258078749">(Oct 18 2021 at 18:43)</a>:</h4>
<p>I believe the launch/redirect URLs are correct in the Epic client configuration.<br>
Could you explain more how one would debug to see if the app is being passed the <code>iss</code> parameter/what one would look for to spot issues? The only error message I am able to get is the 'No server URL found, it must be specified as 'iss' or 'fhirServiceUrl'. I am unable to open developer tools to look at any console.log statements as developer tools are disabled in the window the app opens in.<br>
I believe CDS hooks supports EHR launch as I had done some testing in the <a href="https://sandbox.cds-hooks.org/">CDS sandbox</a> with a card that launches the app.<br>
What I mean by "(the url is the root path, similar to the example linked)" is  the app's launch path is something like <code>my-app.com</code> and the redirect is to `my-app.com/the-app'.</p>



<a name="258212303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/No%20server%20URL%20found%2C%20it%20must%20be%20specified%20as%20%27iss%27%20or%20%27fhirS/near/258212303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/No.20server.20URL.20found.2C.20it.20must.20be.20specified.20as.20&#x27;iss&#x27;.20or.20&#x27;fhirS.html#258212303">(Oct 19 2021 at 15:12)</a>:</h4>
<p>In your launch endpoint:</p>
<ul>
<li>You can comment out the <code>authorize</code> call so that it does not redirect and then look at the URL.</li>
<li>If you don't see the url either, then you can add <code>alert(location.href)</code> before <code>authorize</code> is called.</li>
</ul>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
