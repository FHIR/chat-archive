---
layout: page
title: "FHIR Chat  · mkFHIR from bash CLI · javascript"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/index.html">javascript</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/mkFHIR.20from.20bash.20CLI.html">mkFHIR from bash CLI</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153936368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179169-javascript/topic/mkFHIR%20from%20bash%20CLI/near/153936368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Akeem Leighton Foster Spencer <a href="https://fhir.github.io/chat-archive/stream/179169-javascript/topic/mkFHIR.20from.20bash.20CLI.html#153936368">(Feb 08 2018 at 16:00)</a>:</h4>
<p>For interactive and convenience purposes, I'm creating an alias for grabbing the fhir.js module from the command line as this:</p>
<div class="codehilite"><pre><span></span>alias sandbox=&quot;cd Documents/location;node -i -p \&quot;var smart=require(&#39;fhir.js&#39;)({baseUrl: &#39;https://sb-fhir-stu3.smarthealthit.org/smartstu3/open&#39;});\&quot;&quot;
</pre></div>


<p>∴</p>
<div class="codehilite"><pre><span></span>...

var smart.fetchAll({type: &quot;Patient&quot;, query:{name: &quot;Batz&quot;}}).then(e=&gt;console.log(e)).catch(e=&gt;console.error(e))
//will output-&gt;
TypeError: Cannot read property &#39;statusCode&#39; of undefined
    at Request._callback (C:\Users\Akeem Spencer\Documents\afas-stu3\afas-stu3\node_modules\fhir.js\src\adapters\node.js:18:57)
    at self.callback (C:\Users\Akeem Spencer\Documents\afas-stu3\afas-stu3\node_modules\fhir.js\node_modules\request\request.js:236:22
)
    at emitOne (events.js:115:13)
    at Request.emit (events.js:210:7)
    at ClientRequest.self.clientErrorHandler (C:\Users\Akeem Spencer\Documents\afas-stu3\afas-stu3\node_modules\fhir.js\node_modules\r
equest\request.js:341:10)
    at emitOne (events.js:115:13)
    at ClientRequest.emit (events.js:210:7)
    at TLSSocket.socketErrorListener (_http_client.js:401:9)
    at emitOne (events.js:115:13)
    at TLSSocket.emit (events.js:210:7)
</pre></div>


<p>What does this trace mean and how can I call it from the cli?</p>
<p>EDIT:</p>
<p>I found a workaround, but I can't quite explain the reasoning behind it:</p>
<div class="codehilite"><pre><span></span>alias sandbox=&quot;cd Documents/location;node -i -p \&quot;var smart=require(&#39;fhir.js&#39;)({baseUrl:decodeURIComponent( &#39;https:%2F%2Fsb-fhir-stu3.smarthealthit.org%2Fsmartstu3%2Fopen&#39;});\&quot;&quot;
</pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
