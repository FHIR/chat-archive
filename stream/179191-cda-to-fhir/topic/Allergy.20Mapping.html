---
layout: page
title: "FHIR Chat  · Allergy Mapping · cda to fhir"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/index.html">cda to fhir</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html">Allergy Mapping</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="258134727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258134727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lisa Nelson <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258134727">(Oct 19 2021 at 03:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191985">@Jay Lyle</span> and <span class="user-mention" data-user-id="192205">@Lisa Nelson</span> did some organizing on the Confluence site.  There is now only one resource you need to review to see the proposed Business Concepts for the "allergy domain", and one spreadsheet to review proposed mappings from C-CDA to US Core and US Core to C-CDA.  Check out the latest WIP work.  <a href="https://confluence.hl7.org/pages/resumedraft.action?draftId=79507739&amp;draftShareId=a418d292-bec2-4343-a668-31c9a0cf5f72&amp;">https://confluence.hl7.org/pages/resumedraft.action?draftId=79507739&amp;draftShareId=a418d292-bec2-4343-a668-31c9a0cf5f72&amp;</a></p>
<p>Also note the Issues and Decisions area of the site now where you can log open issues regarding what you agree or disagree with in the WIP mapping artifacts. </p>
<p>PLEASE - also feel free to bring up discussion points here in the Allergy Mapping topic of the CDA to FHIR stream.</p>



<a name="258197516"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258197516" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258197516">(Oct 19 2021 at 13:50)</a>:</h4>
<p>You may not want to land in edit mode. Maps are here: <a href="https://confluence.hl7.org/display/CGP/Mapping+Documents+for+Discussion">https://confluence.hl7.org/display/CGP/Mapping+Documents+for+Discussion</a><br>
Issues here: <a href="https://confluence.hl7.org/display/CGP/Issues+And+Decisions">https://confluence.hl7.org/display/CGP/Issues+And+Decisions</a></p>



<a name="258530572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258530572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Riddle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258530572">(Oct 21 2021 at 11:50)</a>:</h4>
<p><span class="user-mention" data-user-id="192205">@Lisa Nelson</span> and <span class="user-mention" data-user-id="191985">@Jay Lyle</span>,   <br>
Posting some discussion points here related to the Issues and Decisions table (<a href="https://confluence.hl7.org/display/CGP/Issues+And+Decisions">https://confluence.hl7.org/display/CGP/Issues+And+Decisions</a>) in the C-CDA to and from US Core Mapping Confluence content.  I will add one post per Issue # from the table that I have comments/questions on.  Please let me know if there is a better way/place to convey feedback on these Issues and Decisions.</p>



<a name="258534266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258534266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Riddle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258534266">(Oct 21 2021 at 12:18)</a>:</h4>
<p>Issue #8 from <a href="https://confluence.hl7.org/display/CGP/Issues+And+Decisions">https://confluence.hl7.org/display/CGP/Issues+And+Decisions</a><br>
The current Proposed Resolution indicates ‘FHIR can put extra authors in Provenance, as long as there is a time. Criterion for the "primary": earliest. If a tie, alphabetical’.   </p>
<p>First, with regard to conveying C-CDA author participation instances as instances of the FHIR Provenance Resource, back in 2020 <span class="user-mention" data-user-id="191357">@Drew Torres</span> proposed that only instances of the new Provenance Author Participation (2.16.840.1.113883.10.20.22.5.6) template should be mapped to FHIR Provenance.agent.who with a Provenance.agent.type of ‘author’.    i.e., This is healthcare and only ‘explicit provenance’ as indicated by use of the Provenance Author Participation template should be considered to indicate that author Provenance is being conveyed.  This proposal was also discussed at the July, 2020 C-CDA IAT.  </p>
<p>Second, in September of 2020, there were extensive discussions with the FHIR Patient Care workgroup about various proposals for mapping of C-CDA Problem Observation participant (e.g., author, informant, performer) data to the FHIR US Core Condition and Provenance Resources.  Coming out of those discussions, the Patient Care workgroup’s recommendations with regard to Condition.recorder and Condition.recordedDate were as follows:<br>
      • The US Core Condition.recorder SHALL be left null for any Condition resources derived from C-CDA Problems Section problems.  More specifically, C-CDA Problem Observation participations (e.g., authors, informants or performers) will not be mapped to the US Core Condition.recorder attribute on US Core Condition resource instances derived from C-CDA Problem Observations. <br>
      • The Condition.recordedDate SHALL be harvested from the C-CDA Problem Observation author participation with the earliest author/time/@value.  Please note that the CDA author context conduction rules apply when determining the author(s) of the C-CDA Problem Observation.  </p>
<p>I realize that here we are talking about mapping C-CDA Allergy – Intolerance Observation participants to the FHIR US Core AllergyIntolerance, but I wonder if we should consider taking a similar approach?  </p>
<p>cc <span class="user-mention" data-user-id="191403">@Michelle (Moseman) Miller</span></p>



<a name="258538257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258538257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258538257">(Oct 21 2021 at 12:45)</a>:</h4>
<p>Let's try this approach- chat here and use the log for signficant developments &amp; decisions.</p>
<p>I agree Condition &amp; Allergy should be as similar as possible.</p>
<p>Regarding PC guidance, I recall the discussion, and some of the conclusions, but I must have had to drop before the <a href="https://confluence.hl7.org/display/PC/2020-09-03+Patient+Care+FHIR+Conference+Call">decision on 9/3</a></p>
<p>The cardinality issue, I believe, resulted in the prohibition on using Condition.recorder, because no one could identify a criterion for which one to put in the place of honor.</p>
<p>When I left the option being discussed was</p>
<ol>
<li>If there is one author, use it for recorder.</li>
<li>If there are several authors, and there is one with an earliest date, use that one for recorder; put the rest in provenance.</li>
<li>If there are several authors, and there is not one with an earliest date: TBD</li>
</ol>
<p>We can adopt the documented approach, but<br>
a) it's pretty lossy<br>
b) it goes beyond our remit of FHIR Core &amp; 2.1<br>
c) the overreach doesn't even make it less lossy</p>



<a name="258549248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258549248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Riddle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258549248">(Oct 21 2021 at 13:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191985">Jay Lyle</span> <a href="#narrow/stream/179191-cda-to.20fhir/topic/Allergy.20Mapping/near/258538257">said</a>:</p>
<blockquote>
<p>We can adopt the documented approach, but<br>
a) it's pretty lossy<br>
b) it goes beyond our remit of FHIR Core &amp; 2.1<br>
c) the overreach doesn't even make it less lossy</p>
</blockquote>
<p><span class="user-mention" data-user-id="191985">@Jay Lyle</span>, <br>
I don't know what you are describing when you say 'the overreach doesn't even make it less lossy'.   What do you mean by 'the overreach'?</p>
<p>I also don't know what you are describing when you say 'it goes beyond our remit of FHIR Core &amp; 2.1'.  What is 'our remit of FHIR Core &amp; 2.1'?</p>



<a name="258555640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258555640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258555640">(Oct 21 2021 at 14:30)</a>:</h4>
<p>"Our remit": project scope of CCDA 2.1 &amp; FHIR US Core 4. <br>
"Overreach": using extensions and other assets not included in either of those.</p>



<a name="258578262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258578262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Riddle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258578262">(Oct 21 2021 at 16:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191985">@Jay Lyle</span> ,<br>
'"Overreach": using extensions and other assets not included in either of those.' - So by  'Overreach' are you referring to  the notion that CDA author context conduction rules apply when determining the author(s) of the C-CDA Problem Observation., or to something else?</p>



<a name="258609588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258609588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258609588">(Oct 21 2021 at 20:12)</a>:</h4>
<p>I mean the Provenance Author Participation (2.16.840.1.113883.10.20.22.5.6), which is not part of the two specs we're focusing on.</p>



<a name="258616312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258616312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Riddle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258616312">(Oct 21 2021 at 20:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191985">Jay Lyle</span> <a href="#narrow/stream/179191-cda-to.20fhir/topic/Allergy.20Mapping/near/258609588">said</a>:</p>
<blockquote>
<p>I mean the Provenance Author Participation (2.16.840.1.113883.10.20.22.5.6), which is not part of the two specs we're focusing on.</p>
</blockquote>
<p>Even if we don't want to recognize/account for instances of the Provenance Author Participation (2.16.840.1.113883.10.20.22.5.6) template in our proposed mappings, I don't think that would change the stance <span class="user-mention" data-user-id="191357">@Drew Torres</span> was proposing that only instances of the new Provenance Author Participation (2.16.840.1.113883.10.20.22.5.6) template should be mapped to FHIR Provenance.agent.who with a Provenance.agent.type of ‘author’.  i.e., This is healthcare and only ‘explicit provenance’ as indicated by use of the Provenance Author Participation template should be considered to indicate that author Provenance is being conveyed.  </p>
<p>So even if we don't want to include mapping of Provenance Author Participation instances (because that template is not part of the two specs we're focusing on), that doesn't mean that we should treat standard Author Participation (2.16.840.1.113883.10.20.22.4.119) as author agent Provenance for the resources we derive from C-CDAs.</p>



<a name="258642030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258642030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258642030">(Oct 22 2021 at 01:05)</a>:</h4>
<p>Happy to discuss. Drew's idea may be exactly right.</p>
<p>But I'd have some questions.</p>
<ol>
<li>Do we want to drop author information when converting CDA to FHIR? Even if there's a place for it? Why?</li>
<li>How is using the new template any more "explicit" than assigning an author using 2.16.840.1.113883.10.20.22.4.119?</li>
</ol>
<p>Monday?</p>



<a name="258707532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258707532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Riddle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258707532">(Oct 22 2021 at 12:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191985">@Jay Lyle</span> ,<br>
I had proposed (see below) to <span class="user-mention" data-user-id="192205">@Lisa Nelson</span> that this might be a topic for the upcoming C-CDA IAT.   I think she may be going to bring it up in the end of day session on 10/27, but we should confirm that with her.</p>
<p>'I wonder if the assertions that Drew Torres made previously about only treating explicit instances of the Provenance Author Participation template as Provenance (‘This is healthcare.  We shouldn’t be inferring Provenance.  It should be explicit.’ – Drew) would be worth review with implementers at the upcoming IAT?'</p>



<a name="258707927"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/258707927" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Riddle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#258707927">(Oct 22 2021 at 13:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191985">@Jay Lyle</span> ,<br>
Also above you asked 'How is using the new template [Provenance Author Participation] any more "explicit" than assigning an author using 2.16.840.1.113883.10.20.22.4.119?'.   I have some thoughts on that, but rather than attempting to speak for <span class="user-mention" data-user-id="191357">@Drew Torres</span> ,  maybe we can get him to weigh in on that here?</p>
<p><span class="user-mention" data-user-id="191357">@Drew Torres</span> ,<br>
Could you help <span class="user-mention" data-user-id="191985">@Jay Lyle</span> understand your reasoning on this point?</p>



<a name="259746383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/259746383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lisa Nelson <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#259746383">(Oct 30 2021 at 19:07)</a>:</h4>
<p><span class="user-mention" data-user-id="195703">@David Riddle</span> I'd like to understand the scenario where these rules would apply.  Is the use case an EHR at Provider B consumes a C-CDA document that came from Provider A?  Now the EHR of Provider B is being updated.  Why is FHIR needed at all?  Are you simply trying to create a FHIR document version of the very same information that is represented in the C-CDA document that tells the story from EHR A's point of view?  Please describe the scenario a bit more.</p>



<a name="259746618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/259746618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lisa Nelson <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#259746618">(Oct 30 2021 at 19:13)</a>:</h4>
<p>Condition.recorder and Allergy-Intolerance.recorder only have a cardinality of 0..1 because they reference the entity who is recording the information now into the patient's chart at this entities system.  If there are other prior information recorders known (these would be authors in CDA speak) they could be represented in the Provenance resource, but we are only recommending this to be done when the C-CDA Provenance Author Participation template is explicitly asserted.</p>



<a name="259746764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/259746764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lisa Nelson <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#259746764">(Oct 30 2021 at 19:16)</a>:</h4>
<p>@Jay, you need to take into consideration that all templates in C-CDA R2.1 are Open Templates, and as such, they include all the modeling that comes with base CDA.  Use of the rest of CDA is not Out of Scope. It is IN SCOPE because C-CDA R2.1 implies ALL OF CDA R2.0 as constrained by templates define in C-CDA R2.1.</p>



<a name="259747024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/259747024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lisa Nelson <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#259747024">(Oct 30 2021 at 19:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191985">@Jay Lyle</span> My two cents on this has to do with intention.  The original author participation template is circa 2015. It got started being used before anyone was thinking much about Provenance and the authenticity of asserting who author really was.  By the time the new Provenance Author Participation template was defined, the true "Provenance purpose" was more clear.  It should only be asserted to when in fact the organization who is sharing the patient's record stands behind the meaning of that template.  To use it in your xml output is to actively and knowingly assert that this in fact is the person who documented that information in the patient's record.  Systems who don't know that with certainty regarding the information they are outputting for exchange should not assert that level of authenticity associated with the author information. .</p>



<a name="259751858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/259751858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#259751858">(Oct 30 2021 at 21:14)</a>:</h4>
<p>Actually, the Provenance - Author Participation template is present in the CCDA spec. So we'll need to address it. But the description does not make the suggested purpose clear. If we're going to assume that the appropriate author is in this template, and that others can be ignored, implementers will need much more specific guidance.</p>
<p>Re Open templates in general: yes, you can represent pretty much anything in CDA. And the XML may be legible for much of it, as long as it's not too deep. But systems may be limited in their ability to deal with open additions. And we need to make sure our scope is realistic in each of these cases.</p>



<a name="259751888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/259751888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Lyle <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#259751888">(Oct 30 2021 at 21:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192205">Lisa Nelson</span> <a href="#narrow/stream/179191-cda-to.20fhir/topic/Allergy.20Mapping/near/259746618">said</a>:</p>
<blockquote>
<p>Condition.recorder and Allergy-Intolerance.recorder only have a cardinality of 0..1 because they reference the entity who is recording the information now into the patient's chart at this entities system. </p>
</blockquote>
<p>That's not clear from the definition, "Individual who recorded the record and takes responsibility for its content."</p>



<a name="259815870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Allergy%20Mapping/near/259815870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lisa Nelson <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Allergy.20Mapping.html#259815870">(Nov 01 2021 at 00:07)</a>:</h4>
<p>Jay Lyle said:<br>
Actually, the Provenance - Author Participation template is present in the CCDA spec. So we'll need to address it.</p>
<p>That's not quite right. The Provenance Author Participation template is defined in the C-CDA Companion Guide.  I still agree we need to address it even though it isn't actually in C-CDA R2.1.  We may need to explicitly include the Companion Guide in our scope expectations....and add those templates to the list of relevant templates for mapping.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
