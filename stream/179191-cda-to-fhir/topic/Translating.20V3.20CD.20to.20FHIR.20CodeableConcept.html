---
layout: page
title: "FHIR Chat  · Translating V3 CD to FHIR CodeableConcept · cda to fhir"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/index.html">cda to fhir</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html">Translating V3 CD to FHIR CodeableConcept</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="255020390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255020390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255020390">(Sep 27 2021 at 09:45)</a>:</h4>
<p>This is specifically about display(Name). There is a significant difference between V3 and FHIR:</p>
<p><strong>V3 displayName</strong><br>
A name or title for the code, under which the sending system shows the code value to its users.</p>
<p><strong>FHIR coding.display</strong><br>
The display is a human display for the text <strong>defined by the system</strong> - it is not intended for computation.</p>
<p>So in converting V3 to FHIR: do I have to check every displayName in V3 before I submit that as Coding.display? Or is it not so bad to just convert V3 displayName to Coding.display?</p>



<a name="255040456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255040456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255040456">(Sep 27 2021 at 12:40)</a>:</h4>
<p>what is the "significant difference" you perceive? I am not saying that I think they are identical, just wanting to think through your specific point.</p>



<a name="255061651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255061651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arianne van de Wetering <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255061651">(Sep 27 2021 at 14:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>:  The V3 display is not a textual representation as defined by the codesystem, although it will have the same semantic meaning.</p>
<p>However, mapping such a display to FHIR coding.display will result in FHIR validators complaining the display does not adhere to the display as defined by the codesystem, which is in fact a correct complaint given the FHIR requirements.</p>



<a name="255062738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255062738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255062738">(Sep 27 2021 at 14:59)</a>:</h4>
<p>FHIR allows coding.display to be any designation defined by the code system or the value set</p>



<a name="255063248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255063248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Arianne van de Wetering <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255063248">(Sep 27 2021 at 15:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179191-cda-to.20fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept/near/255062738">said</a>:</p>
<blockquote>
<p>FHIR allows coding.display to be any designation defined by the code system or the value set</p>
</blockquote>
<p>Still, whatever a V3 system sends ('A name or title for the code, under which the sending system shows the code value to its users.') may still differ from codesystem designations. For example because context is implicit in the system, but explicit in the code. Or because a particular user group names stuff slightly different from other user groups, even though the semantic meaning is the same.</p>



<a name="255068915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255068915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255068915">(Sep 27 2021 at 15:34)</a>:</h4>
<p>Right, but you can treat those as having come from a system-specific value set, which is still kosher from FHIR's perspective - and you can't validate against a value set when you don't know what it is.  Which is why the terminology server only issues warnings when the Coding.display doesn't match the designations it has from that code system.</p>



<a name="255068955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255068955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255068955">(Sep 27 2021 at 15:34)</a>:</h4>
<p>In short - I don't see any conversion issue from v3 to FHIR here.</p>



<a name="255175395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255175395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255175395">(Sep 28 2021 at 07:44)</a>:</h4>
<p>Wait ... if there's a _required_ ValueSet binding, shouldn't the <code>display</code> align with one of the designation in this ValueSet (or underlying CodeSystem)?</p>



<a name="255226098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255226098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255226098">(Sep 28 2021 at 14:30)</a>:</h4>
<p>Value set binding doesn't mean that the bound value set is the one used for data capture.  You'll get a warning, but it's not an error.</p>



<a name="255233908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255233908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255233908">(Sep 28 2021 at 15:15)</a>:</h4>
<p>If V3.displayName and Coding.display may essentially be regarded as equivalent, then apparently just about any string could be supplied in those places. Which makes me wonder: why is reporting differences with what the validator thinks it knows about the legal display values even a warning? Would "info" not suffice (if at all)?</p>



<a name="255234522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255234522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255234522">(Sep 28 2021 at 15:19)</a>:</h4>
<p>The thing is: too many warnings of the type "well you really don't have to look at these" makes you ignore potentially useful warnings over time. A warning should really be worth looking at.</p>



<a name="255238475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255238475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255238475">(Sep 28 2021 at 15:42)</a>:</h4>
<p>It's a warning because it <em>might</em> be an error - requires human review to determine.</p>



<a name="255238558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255238558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255238558">(Sep 28 2021 at 15:43)</a>:</h4>
<p>An 'info' message is known to not be an error.</p>



<a name="255344938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255344938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255344938">(Sep 29 2021 at 05:39)</a>:</h4>
<p>My point is: you cannot know if it is an error, because basically any string coming from the sender is acceptable as long as that is what the user saw/picked or what the system derived from what was recorded. The number of warnings against mismatches in our context is relatively high thus leading to reduced sight on what is really important. "Info" would be a way of saying "I found a mismatch" without implying it is wrong. Yes it might be, but after initial development phase where you connect the dots: unlikely.</p>
<p>In the validator/IG Publisher I can suppress certain warnings. I guess what you are saying is, is that the way to go is to filter warnings?</p>



<a name="255455954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255455954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255455954">(Sep 29 2021 at 19:05)</a>:</h4>
<p>catching up on this....</p>



<a name="255456339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255456339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255456339">(Sep 29 2021 at 19:07)</a>:</h4>
<p>I don't agree with <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> on this one. The definitions are different in an important regard. FHIR corresponds more closely to v2:</p>
<blockquote>
<p>This is the corresponding text assigned by the coding system to the identifier.</p>
</blockquote>



<a name="255456723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255456723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255456723">(Sep 29 2021 at 19:10)</a>:</h4>
<p>My answers to the original question:</p>
<blockquote>
<p>do I have to check every displayName in V3 before I submit that as Coding.display? </p>
</blockquote>
<p>You don't have to do anything. But you'll get warnings if you don't, and the CDA document isn't using the print names etc that are correct in FHIR. Or you can get a list of what the CDA document source is using, and publish that as a profile + value set, and bingo, it's fine. </p>
<blockquote>
<p>Or is it not so bad to just convert V3 displayName to Coding.display?</p>
</blockquote>
<p>That depends</p>



<a name="255466781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255466781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255466781">(Sep 29 2021 at 20:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - I'm pretty sure the validator allows designations defined by the value set to appear in Coding.display.  Do we need to clarify the definition?</p>
<p><span class="user-mention" data-user-id="191375">@Alexander Henket</span> - A human might know what value set(s) were in play and thus be able to tell.  Even if they don't, they can at least detect gross copy &amp; paste errors (which is a common thing we pick up when validating examples in IGs).</p>



<a name="255467563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255467563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255467563">(Sep 29 2021 at 20:21)</a>:</h4>
<p>the definition should be improved to talk about value set defined displays, yes</p>



<a name="255499217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255499217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255499217">(Sep 30 2021 at 00:42)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-34037">FHIR#34037</a></p>



<a name="255694893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255694893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255694893">(Oct 01 2021 at 06:07)</a>:</h4>
<p>Interesting twist :-) So where FHIR says "system" it should actually read "the system or whatever we pre-agreed on in a value set". This means that were V3 systems today send whatever their software system was configured with (could be the original system, could be a GPs preferred term, we don't know) should be regarded as CodeableConcept.text, unless we include knowledge of acceptable terms in ValueSets as part of the IG. Finally we could just copy <em>displayName</em> into <em>display</em> and ignore the warnings after inspection of a couple of them just to be sure. </p>
<p>The thing here is that on scale it is not very feasible to start collecting what people have in their systems. It is also not very feasible to start saying that what they have in their systems should be replaced with 'official terms' upon sending it out in FHIR, if only because they originally send V3 where this is all fine.</p>



<a name="255776103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255776103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255776103">(Oct 01 2021 at 17:04)</a>:</h4>
<p>The key thing is that 'display' is expected to be system managed, never user-entered.</p>



<a name="255780311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/255780311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#255780311">(Oct 01 2021 at 17:33)</a>:</h4>
<p>CodeableConcept.text would be the text the user actually saw. Another advantage of CodeableConcept vs Coding.</p>



<a name="256030759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179191-cda%20to%20fhir/topic/Translating%20V3%20CD%20to%20FHIR%20CodeableConcept/near/256030759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179191-cda-to-fhir/topic/Translating.20V3.20CD.20to.20FHIR.20CodeableConcept.html#256030759">(Oct 04 2021 at 09:37)</a>:</h4>
<p>That system is usually configurable by doctors who enter their preferred terms for existing codes thus overriding 'official' system terms. I cannot know on the outside in a mapping about every code coming by what the status of the V3 display is.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
