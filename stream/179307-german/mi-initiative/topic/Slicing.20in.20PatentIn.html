---
layout: page
title: "FHIR Chat  · Slicing in PatentIn · german/mi-initiative"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/index.html">german/mi-initiative</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html">Slicing in PatentIn</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209305973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209305973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209305973">(Sep 07 2020 at 15:12)</a>:</h4>
<p>name und address slicen laut Regeln über $this(Pattern), aber tatsächlich wird ja use bzw. type zur unterscheidung benutzt. Warum ist das Slicing dann nicht auf use bzw. type? Das würde die Validatoren weniger verwirren und die Fehlersuche einfacher machen <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="209316185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209316185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209316185">(Sep 07 2020 at 17:31)</a>:</h4>
<p>Andere Projekte wollten mit anderen Slices und Re-Slices abenteuerliche Dinge anstellen. Daher brauchten wir hier jeweils ein Pattern.</p>



<a name="209316218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209316218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209316218">(Sep 07 2020 at 17:31)</a>:</h4>
<p>Vielleicht kann <span class="user-mention" data-user-id="191451">@Patrick Werner</span> ja mal einen Feature-Request für verbesserte Error Message basteln ;)</p>



<a name="209355579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209355579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209355579">(Sep 08 2020 at 07:55)</a>:</h4>
<p>Ahh ok. Also nötig kompliziert :)<br>
Der Java Validator beschwert sich bei Patters für Nicht-Standard-Datentypen häufig über <code>Nicht unterstützter fixed Pattern Type für Diskriminator($this)</code> was einem nicht viel weiter hilft um den Fehler in der Instanz zu finden...</p>



<a name="209380202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209380202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209380202">(Sep 08 2020 at 12:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="221444">Noemi Deppenwiese</span> <a href="#narrow/stream/179307-german.2Fmi-initiative/topic/Slicing.20in.20PatentIn/near/209355579">said</a>:</p>
<blockquote>
<p>Ahh ok. Also nötig kompliziert :)<br>
Der Java Validator beschwert sich bei Patters für Nicht-Standard-Datentypen häufig über <code>Nicht unterstützter fixed Pattern Type für Diskriminator($this)</code> was einem nicht viel weiter hilft um den Fehler in der Instanz zu finden...</p>
</blockquote>
<p>gibt es dazu ein nachvollziehbares Beispiel?</p>



<a name="209380730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209380730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209380730">(Sep 08 2020 at 12:48)</a>:</h4>
<p>Patient mit MII Profil und den schon von <span class="user-mention" data-user-id="196715">@Marvin Kampf</span> geposteten Extensions am name</p>
<div class="codehilite"><pre><span></span><code><span class="s2">&quot;name&quot;</span><span class="err">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;use&quot;</span><span class="p">:</span> <span class="s2">&quot;official&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;_family&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span>
                                    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;</span><span class="p">,</span>
                                    <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;unsupported&quot;</span>
                                <span class="p">}</span>
                            <span class="p">]</span>
                        <span class="p">},</span>
                        <span class="nt">&quot;given&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="kc">null</span>
                        <span class="p">],</span>
                        <span class="nt">&quot;_given&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[</span>
                                    <span class="p">{</span>
                                        <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;</span><span class="p">,</span>
                                        <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;unsupported&quot;</span>
                                    <span class="p">}</span>
                                <span class="p">]</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span><span class="err">,</span>
</code></pre></div>


<p>Führt zu folgender Fehlermeldung:</p>
<div class="codehilite"><pre><span></span><code>issue: ERROR - Bundle.entry[0].resource.ofType(Patient).name[0] - Internal error: Nicht unterstützter fixed Pattern Type für Diskriminator($this) für Slice Patient.name:name: org.hl7.fhir.r5.model.HumanName
issue: ERROR - Bundle.entry[0].resource.ofType(Patient).name[0] - Internal error: Nicht unterstützter fixed Pattern Type für Diskriminator($this) für Slice Patient.name:geburtsname: org.hl7.fhir.r5.model.HumanName
</code></pre></div>


<p>Ist halt schade, dass man dann nicht validieren kann...</p>



<a name="209501792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209501792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209501792">(Sep 09 2020 at 12:06)</a>:</h4>
<p>danke!</p>



<a name="209502220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209502220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209502220">(Sep 09 2020 at 12:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="221444">Noemi Deppenwiese</span> <a href="#narrow/stream/179307-german.2Fmi-initiative/topic/Slicing.20in.20PatentIn/near/209305973">said</a>:</p>
<blockquote>
<p>name und address slicen laut Regeln über $this(Pattern), aber tatsächlich wird ja use bzw. type zur unterscheidung benutzt. Warum ist das Slicing dann nicht auf use bzw. type? Das würde die Validatoren weniger verwirren und die Fehlersuche einfacher machen <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>
</blockquote>
<p>Bei pattern based slicing diskriminiert man eigentlich immer auf dem zu slicenden objekt. Der Validator unterstützt das auch so, hier aber nicht. Hmmm</p>



<a name="209502318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209502318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209502318">(Sep 09 2020 at 12:12)</a>:</h4>
<p>Es ist zum Pattern dazu noch ein fixed Value angegeben, evtl. bringt das den Validator aus dem Tritt. Ich schaue da heute Abend mal rein</p>



<a name="209614232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209614232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209614232">(Sep 10 2020 at 09:25)</a>:</h4>
<p>Das sieht nach einem Validator Bug aus. Slicing ist korrekt, pattern korrekt</p>



<a name="209614243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209614243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209614243">(Sep 10 2020 at 09:25)</a>:</h4>
<p>habe das mal gemeldet: <a href="#narrow/stream/179177-conformance/topic/Validator.3A.20Unsupported.20fixed.20pattern.20type.20for.20discrimin">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Validator.3A.20Unsupported.20fixed.20pattern.20type.20for.20discrimin</a></p>



<a name="209975469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209975469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209975469">(Sep 14 2020 at 08:07)</a>:</h4>
<p>War ein Bug, wird im nächsten Validatorrelease behoben sein.</p>



<a name="209975560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Slicing%20in%20PatentIn/near/209975560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Slicing.20in.20PatentIn.html#209975560">(Sep 14 2020 at 08:08)</a>:</h4>
<p>Vielen Dank für die schnelle Reaktion :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
