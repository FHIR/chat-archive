---
layout: page
title: "FHIR Chat  · Server Typen und Datenmengen · german/mi-initiative"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/index.html">german/mi-initiative</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Server.20Typen.20und.20Datenmengen.html">Server Typen und Datenmengen</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="269386775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Server%20Typen%20und%20Datenmengen/near/269386775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Server.20Typen.20und.20Datenmengen.html#269386775">(Jan 26 2022 at 10:09)</a>:</h4>
<p>Welche FHIR-Server-Typen mit welcher Persistenz-Schicht verwendet ihr an den verschiedenen Standorten ? Im Moment verwenden wir HAPI mit einem Postgre-SQL-Datenbank dahinter. Die Postgre-Datenbank würde ich gerne zu einer MSSQL-Datenbank wechseln, da ich dann unseren zentral gehosteten MSSQL-Cluster verwenden könnte. Ich habe aus der HAPI-Doku jedoch noch nicht genau rauslesen können ob MSSQL wirklich untersützt wird.<br>
Weiterhin würde mich intressieren was ihr an den verschiedenen Standorten an Mengen an Daten im Server habt ? Wenn ich alle Patienten mit z.B. allen 180 Mio Labormessungen und 210 Mio Bewegungen importieren würde, würde ich mich meinem aktuellen durchscnittlichen Durchsatz von maximal ca. 400 Resourcen/s im Import mindestens 12 Tage brauchen nur um diese beiden Datendomänen zu importieren. Geht das irgendwie irgendwo schneller ?</p>



<a name="269391518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Server%20Typen%20und%20Datenmengen/near/269391518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Detlef Kraska <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Server.20Typen.20und.20Datenmengen.html#269391518">(Jan 26 2022 at 10:55)</a>:</h4>
<p>Wir haben schon einiges durchprobiert, ohne ein FHIR-Server/DB-Kombination gefunden zu haben, die wirklich viel performanter ist und als Produkt befriedigt. Derzeit bauen wir eine Kombination von IBM FHIR-Server (in Kubernetes) + Postgres (auf Blech) auf. Entscheidend für die Performance einer Beladung mit großen Datenmengen wird aber eher sein, den Import über Parallelisierung und über die Verwendung von größeren Bundles zu beschleunigen oder besser gleich Bulk Import zu verwenden. Letzteres haben wir aber auch noch nicht ausprobieren können.</p>



<a name="269396090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Server%20Typen%20und%20Datenmengen/near/269396090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Server.20Typen.20und.20Datenmengen.html#269396090">(Jan 26 2022 at 11:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="196537">Georg Fette</span> <a href="#narrow/stream/179307-german.2Fmi-initiative/topic/Server.20Typen.20und.20Datenmengen/near/269386775">said</a>:</p>
<blockquote>
<p>Welche FHIR-Server-Typen mit welcher Persistenz-Schicht verwendet ihr an den verschiedenen Standorten ? Im Moment verwenden wir HAPI mit einem Postgre-SQL-Datenbank dahinter. Die Postgre-Datenbank würde ich gerne zu einer MSSQL-Datenbank wechseln, da ich dann unseren zentral gehosteten MSSQL-Cluster verwenden könnte. Ich habe aus der HAPI-Doku jedoch noch nicht genau rauslesen können ob MSSQL wirklich untersützt wird.<br>
Weiterhin würde mich intressieren was ihr an den verschiedenen Standorten an Mengen an Daten im Server habt ? Wenn ich alle Patienten mit z.B. allen 180 Mio Labormessungen und 210 Mio Bewegungen importieren würde, würde ich mich meinem aktuellen durchscnittlichen Durchsatz von maximal ca. 400 Resourcen/s im Import mindestens 12 Tage brauchen nur um diese beiden Datendomänen zu importieren. Geht das irgendwie irgendwo schneller ?</p>
</blockquote>
<p>Du könntest die Resourcen direkt in die DB schreiben (gzipped Json), und danach einen re-index anstoßen.<br>
Sollte funktionieren (nicht selbst getestet).<br>
MSSQL ist durch hapi supported.</p>



<a name="269403828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Server%20Typen%20und%20Datenmengen/near/269403828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Server.20Typen.20und.20Datenmengen.html#269403828">(Jan 26 2022 at 12:40)</a>:</h4>
<p>Das mit dem direkt in die Datenbank schreiben haben wir mit dem VONK irgendwann schonmal ausprobiert, das ging wirklich sehr schnell. Das habe ich mit HAPI noch nicht ausprobiert. Hat jemand mit MSSQL und Hapi schonmal ein Setup ausprobiert ? In der JPA Server Dokumentation im Wiki gibt es einen Abschnitt MySQL und einen PostgreSQL aber keinen MSSQL. Muss man das einfach analog mit MSSQL-Parametern experimentieren ? Was wäre dann die driverClass ?</p>
<p>Bulk Import ist mit HAPI scheinbar noch nicht implementiert. Unsere aktuell Performance bekommen wir auch nur mit Parallellisierung hin. Bei unserem aktuellen Hardware-Setup haben wir einen Sweetspot an maximalen Beladungs-Threads gefunden und könnten darüber hinaus höchstens noch mehr Hardware aufrüsten um besser zu werden. Ich hätte aber gerne noch mindestens den Faktor 3 raus um den Versuch zu machen alle Daten aller Patienten zu laden.</p>



<a name="269403925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Server%20Typen%20und%20Datenmengen/near/269403925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Server.20Typen.20und.20Datenmengen.html#269403925">(Jan 26 2022 at 12:41)</a>:</h4>
<p>man kann hier auch gut in der SMILE config spickeln: <a href="https://smilecdr.com/docs/database_administration/setting_up_sql_server_mssql.html#database-connection-properties">https://smilecdr.com/docs/database_administration/setting_up_sql_server_mssql.html#database-connection-properties</a></p>



<a name="269403944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Server%20Typen%20und%20Datenmengen/near/269403944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Server.20Typen.20und.20Datenmengen.html#269403944">(Jan 26 2022 at 12:41)</a>:</h4>
<p>sollten die Settings für MSSQL sein</p>



<a name="269404023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/Server%20Typen%20und%20Datenmengen/near/269404023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Georg Fette <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/Server.20Typen.20und.20Datenmengen.html#269404023">(Jan 26 2022 at 12:42)</a>:</h4>
<p>ah, die SMILE-Konfiguration ist ein netter Tip</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
