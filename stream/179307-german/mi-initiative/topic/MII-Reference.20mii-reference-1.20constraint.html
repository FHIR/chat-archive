---
layout: page
title: "FHIR Chat  · MII-Reference mii-reference-1 constraint · german/mi-initiative"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/index.html">german/mi-initiative</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html">MII-Reference mii-reference-1 constraint</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209305435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/209305435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Gulden <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#209305435">(Sep 07 2020 at 15:07)</a>:</h4>
<p>In der MII-Reference sorgt momentan constraint <a href="https://simplifier.net/packages/de.medizininformatikinitiative.kerndatensatz.meta/1.0.0/files/129452"><code>mii-reference-1</code></a> dafür, dass entweder Reference.identifier oder Reference.reference gesetzt sind, nicht jedoch beide.</p>
<p>Was ist die Motivation dahinter?</p>
<p>Es gibt Szenarien in denen ich aus dem Quellsystem beispielsweise nur die Diagnose und die Patientennumer kenne. Intuitiv würde ich dann eine Condition resource erzeugen und Condition.subject.identifier.type auf <a href="https://terminology.hl7.org/1.0.0/CodeSystem-v2-0203.html">Medical Record</a> und identifier.value auf diese Patientennummer setzen. Wenn ich diese Resource dann aber auch noch an einen FHIR-Server schicken will, bei dem ich weiß das früher oder später eine Patient-Resource mit dieser Nummer angelegt wird, dann will ich eigentlich eine "saubere" Referenz auf den Patient haben. Dazu kann ich den update-as-create Mechanismus nutzen und diese "saubere" Referenz selber vergeben indem ich <a href="http://Patient.id">Patient.id</a> und Condition.subject.reference auf die selbe technische ID setze. Hier hätte ich also gerne beide Möglichkeiten Referenzen zu definieren.</p>
<p>Workaround: da ich mit der Patientennummer im identifier alle Informationen habe um selber einen "Dummy" Patienten anzulegen könnte man statt nur die Condition zu befüllen immer Bundles mit Condition + Patient (+Encounter) erzeugen. Die Dummy resourcen sind dann (temporär) nicht MII-konform.</p>



<a name="209316692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/209316692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#209316692">(Sep 07 2020 at 17:40)</a>:</h4>
<p>Die Motivation dahinter war, dass wir so sicherstellen können, dass wir möglichst wenig Inkontinenzen ermöglichen. Wir wollten nicht, dass Reference.identifier mit dem Identifier aus dem Target der Referenz auseinander laufen. Dann wüsste der FHIR Server nicht mehr wonach diese Referenz aufgelöst werden sollte. Generell sollte jedoch für alle Use Cases einer der beiden Werte ausreichen (wobei ich immer ein Freund von Reference.identifier bin). Chaining und Suchen sollten (wenn ordentlich implementiert) in beiden Fällen gleich funktionieren.</p>



<a name="209502900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/209502900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Gulden <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#209502900">(Sep 09 2020 at 12:19)</a>:</h4>
<p>Alles klar, danke! Ich muss das mit suchen/chaining dann nochmal austesten.</p>



<a name="218299400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/218299400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Gulden <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#218299400">(Nov 30 2020 at 15:14)</a>:</h4>
<p>ich habs jetzt nochmal ausgetestet und bin auf</p>
<blockquote>
<p>Chaining is not supported when using the :identifier modifier, <strong>nor are chaining, includes or reverse includes supported for reference elements that do not have a reference element. </strong>(<a href="https://www.hl7.org/fhir/search.html#reference">https://www.hl7.org/fhir/search.html#reference</a>)</p>
</blockquote>
<p>gestoßen. In dem Server mit dem ich es getestet habe ging das dann auch nicht.</p>
<p>Wir können bei uns als "workaround" bevor die Resourcen an den FHIR-Server geschickt werden die identifier-Referenzen zu logischen Referenzen konvertieren, da wir die <a href="http://Resource.id">Resource.id</a> als Hash über dem identifier berechnen.</p>



<a name="218856800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/218856800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Gulden <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#218856800">(Dec 04 2020 at 16:34)</a>:</h4>
<p>Kann man an dem Constraint vielleicht doch nochmal rütteln und sowohl logische als auch literale Referenzen zulassen? Wir haben den Anwendungsfall dass wir auch andere Forschungsrepositories inkrementell beladen wollen, hier "FHIR-unabhängige" Fall- und Patientennummern an jeder Resource zu haben (als logische Referenz) und gleichzeitig in der Lage zu sein mit den selben Resourcen FHIR-Server abfragbar zu beladen wäre ideal. Im besten Fall würden wir uns den Workaround sparen wollen.</p>



<a name="218894832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/218894832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#218894832">(Dec 04 2020 at 21:42)</a>:</h4>
<p>Ja :) Wir haben in der letzten Woche in verschiedenen Kontexten über diesen Constraint diskutiert, ich werde das zeitnah im Kümmererteam ansprechen. Mein Präferenz ist zunehmend aus dem XOR ein OR zumachen, sodass wir Display-Only Referenzen ausschließen.</p>



<a name="220263322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/220263322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#220263322">(Dec 17 2020 at 16:11)</a>:</h4>
<p>Im Meta Package ist es nun gefixt. Siehe Version 1.0.2, dieses Update müssen wir nun in allen anderen Packages nachziehen.</p>



<a name="220263424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/220263424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#220263424">(Dec 17 2020 at 16:12)</a>:</h4>
<p><span class="user-mention" data-user-id="254858">@Christian Gulden</span> Würde es erstmal ausreichen, wenn wir ein neues Update für das Modul Person veröffentlichen?</p>



<a name="220350343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/220350343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#220350343">(Dec 18 2020 at 09:23)</a>:</h4>
<p>In MIRACUM Erlangen würden wir uns ein neues Labor-Release wünschen mit 1.0.2 Referece-Profil... (Dafür wäre Person erstmal nicht so wichtig)</p>



<a name="222441363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/222441363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Gulden <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#222441363">(Jan 12 2021 at 14:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="193430">Alexander Zautke</span> <a href="#narrow/stream/179307-german.2Fmi-initiative/topic/MII-Reference.20mii-reference-1.20constraint/near/220263424">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="254858">Christian Gulden</span> Würde es erstmal ausreichen, wenn wir ein neues Update für das Modul Person veröffentlichen?</p>
</blockquote>
<p>Klingt gut! Es müssten aber doch primär die Profile aktualisiert werden, die noch das alte Profil nutzen bzw. auf einen Patienten/Encounter referenzieren, oder?</p>



<a name="222441766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/222441766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Gulden <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#222441766">(Jan 12 2021 at 14:57)</a>:</h4>
<p>BTW, ich bin ein riesen Fan von <a href="https://github.com/renovatebot/renovate">https://github.com/renovatebot/renovate</a> - da die Paket-Abhängigkeiten in <a href="https://github.com/medizininformatik-initiative/kerndatensatzmodul-person/blob/master/package.json">https://github.com/medizininformatik-initiative/kerndatensatzmodul-person/blob/master/package.json</a>  standard npm format sind könnte man damit ggf. automatisch PRs erzeugen, wenn sich eines der Abhängigkeiten aktualisiert hat.</p>



<a name="222549840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/222549840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#222549840">(Jan 13 2021 at 08:41)</a>:</h4>
<p>Darf ich mir an dieser Stelle ein Modul Prozedur mit upgedateder Dependency auf Meta wünschen? :)</p>



<a name="223244097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179307-german/mi-initiative/topic/MII-Reference%20mii-reference-1%20constraint/near/223244097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179307-german/mi-initiative/topic/MII-Reference.20mii-reference-1.20constraint.html#223244097">(Jan 19 2021 at 15:37)</a>:</h4>
<p>Natürlich darfst du das :) Done.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
