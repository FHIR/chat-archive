---
layout: page
title: "FHIR Chat  · CMS Data at the Point of Care · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html">CMS Data at the Point of Care</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="172976728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/172976728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#172976728">(Aug 11 2019 at 17:33)</a>:</h4>
<p>Reading through <a href="https://dpc.cms.gov/docs#attribution" target="_blank" title="https://dpc.cms.gov/docs#attribution">https://dpc.cms.gov/docs#attribution</a>, I love the use of FHIR built-ins for this use case <span class="user-mention" data-user-id="197208">@Nick Robison</span> . A few quick notes...</p>



<a name="172976783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/172976783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#172976783">(Aug 11 2019 at 17:35)</a>:</h4>
<p>In the example of <code>POST /api/v1/Group</code>, the body should be a Group rather than a bundle entry object (with a "resource" property pointing to a group).</p>



<a name="172976836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/172976836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#172976836">(Aug 11 2019 at 17:36)</a>:</h4>
<blockquote>
<p>Membership changes submitted to an existing attribution Group are always merged with the existing group state. </p>
</blockquote>
<p>Are these changed submitted via <code>POST /api/v1/Group</code> (I didn't see the URL in this section, so I'm inferring)? If so, "merge" behavior is not consistent with the FHIR core spec (which would always create a new group and not merged into an existing group here). You might want to think about <code>PATCH</code> for issuing small changes to an existing resource, or define a custom operation to merge a set of changes in; thought I would avoid overloading the FHIR "create" operation as "merge".</p>



<a name="172986594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/172986594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#172986594">(Aug 11 2019 at 22:49)</a>:</h4>
<p>For things like this I would prefer a custom operation, as patch requires you to know the entire previous state to apply it.</p>



<a name="173017410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173017410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Robison <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173017410">(Aug 12 2019 at 12:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> Thanks for the feedback! We'll be improving the documentation as we go along, and I agree it's pretty unclear regarding the issues you've mentioned. I'll get that fixed quickly.</p>
<p>Regarding the /Group POST, you're seeing a copy/paste bug in the documentation, the actual endpoint takes an actual resource and not a pointer, I'll get that updated.</p>
<p>In terms of updating the membership Group, we're currently using PUT to update the group (though I doesn't actually say this in the docs!), so the actual command would be <code>PUT Group/{group.id} {body}</code>. Does that make sense?</p>
<p>One question I had for the group, was in our use of code able concepts for attributing to a given provider NPI, in the SMART on FHIR docs, the R4 resource has a valueReference type, which makes things really easy, this is our attempt at back porting the functionality to STU3, but it doesn't feel right. Any thoughts or suggestions?</p>
<p>Thanks for the feedback, we're actively working to refine our implementation and will definitely be making changes to the docs and interaction model as we go along.</p>



<a name="173031790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173031790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173031790">(Aug 12 2019 at 15:11)</a>:</h4>
<p>There is already a proposal for operations to add / remove individual elements from a group: <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21650&amp;start=25" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21650&amp;start=25">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21650&amp;start=25</a></p>



<a name="173032022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173032022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173032022">(Aug 12 2019 at 15:13)</a>:</h4>
<p>A standard PUT would replace the entire group content, not add new members</p>



<a name="173035853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173035853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173035853">(Aug 12 2019 at 15:58)</a>:</h4>
<blockquote>
<p>In terms of updating the membership Group, we're currently using PUT to update the group (though I doesn't actually say this in the docs!), so the actual command would be <code>PUT Group/{group.id} {body}</code>. Does that make sense?<br>
 go along.</p>
</blockquote>
<p>Seconding Michele's point, FHIR PUT doesn't have merge semantics; you'd want PATCH or a custom operation.</p>



<a name="173038304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173038304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173038304">(Aug 12 2019 at 16:30)</a>:</h4>
<p>Re: back-port, I think what's mission is Group.characteristic.valueReference. There's a convention for back-porting new elements to older versions via extensions; maybe <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> can spell out what extension would be used to back-port Group.characteristic.valueReference to STU3?</p>



<a name="173040895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173040895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Robison <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173040895">(Aug 12 2019 at 17:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> Good to know about that proposal, we'll look forward to implementing it once it's finalized.</p>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> Thanks for the clarification, we'll look at updating our endpoints to use PATCH, I think the mistake came from misreading the HAPI FHIR client (which we use for TDD) which as an <code>update()</code> operation, which generates a PUT.</p>



<a name="173045786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173045786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173045786">(Aug 12 2019 at 18:07)</a>:</h4>
<p>You might find much easier to implement the operations instead of PATCH</p>



<a name="173048694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173048694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Robison <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173048694">(Aug 12 2019 at 18:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> You're probably right, we should connect at the WG meeting and talk through this, I want to make sure we implement it correctly, to avoid another embarrassing PUT/PATCH situation! Thank you for the feedback.</p>



<a name="173049526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173049526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173049526">(Aug 12 2019 at 18:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> you are referring to <a href="http://hl7.org/fhir/versions.html#extensions" target="_blank" title="http://hl7.org/fhir/versions.html#extensions">http://hl7.org/fhir/versions.html#extensions</a>. Using the extension to backport an additional choice in a data type... hmm...</p>



<a name="173049585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173049585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173049585">(Aug 12 2019 at 18:54)</a>:</h4>
<p>I guess it doesn't make any difference</p>



<a name="173050285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173050285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173050285">(Aug 12 2019 at 19:01)</a>:</h4>
<p>Thanks! Yeah, <code>http://hl7.org/fhir/4.0/StructureDefinition/extension-Group.characteristic.valueReference</code> would be the extension URL then. Thanks! (We might consider linking to <a href="http://hl7.org/fhir/versions.html#extensions" target="_blank" title="http://hl7.org/fhir/versions.html#extensions">http://hl7.org/fhir/versions.html#extensions</a> from  <a href="https://www.hl7.org/fhir/extensibility-registry.html" target="_blank" title="https://www.hl7.org/fhir/extensibility-registry.html">https://www.hl7.org/fhir/extensibility-registry.html</a> ; I'll add a GForge issue)</p>



<a name="173050762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173050762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173050762">(Aug 12 2019 at 19:07)</a>:</h4>
<p>Added <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23562" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23562">GF#23562</a></p>



<a name="173053815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173053815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Robison <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173053815">(Aug 12 2019 at 19:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Thanks for the feedback, we'll look at implementing the extension, that seems to make the most sense.</p>



<a name="173066383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173066383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173066383">(Aug 12 2019 at 22:14)</a>:</h4>
<p><span class="user-mention" data-user-id="218703">@Nick Robison</span>  I'll be at the connectathon in Atlanta - working on this stuff -  not for the whole work group meeting</p>



<a name="173127740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173127740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Robison <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173127740">(Aug 13 2019 at 16:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> Great, let's connect then!</p>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> We've updated the documentation to fix the issues you mentioned, let me know if you run into anything else. Thanks!</p>



<a name="173143801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173143801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173143801">(Aug 13 2019 at 19:34)</a>:</h4>
<p><span class="user-mention" data-user-id="218703">@Nick Robison</span> looking at <a href="https://dpc.cms.gov/docs#attribution" target="_blank" title="https://dpc.cms.gov/docs#attribution">"Attributing Patients to Providers"</a>, I see an example of</p>
<blockquote>
<p>An organization must first create a Practitioner resource, which represents a healthcare provider that is associated with the organization. This is accomplished by executing a POST request against the Practitioner resource, with the body containing a FHIR Practitioner resource.</p>
</blockquote>
<div class="codehilite"><pre><span></span>POST /api/v1/Practitioner
</pre></div>


<p>where the body is a <code>Parameters</code> resource. The body for a Practitioner <code>create</code> interaction should only ever be a Practitioner, not a Parameters.</p>



<a name="173143900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173143900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173143900">(Aug 13 2019 at 19:35)</a>:</h4>
<p>And when I see:</p>
<blockquote>
<p>The Practitioner endpoint also supports a $submit operation, which allows the user to upload a Bundle of resources for registration in a single batch operation.</p>
</blockquote>
<p>This sounds like behavior you should be able to get out of the standard FHIR <code>batch</code> (or <code>transaction</code>) semantics, e.g. via <code>POST /</code> with a Bundle of type <code>batch</code>, where each entry is a <code>Practitioner</code>. What is the motivation for a custom <code>$submit</code> operation?</p>



<a name="173148506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/CMS%20Data%20at%20the%20Point%20of%20Care/near/173148506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Robison <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/CMS.20Data.20at.20the.20Point.20of.20Care.html#173148506">(Aug 13 2019 at 20:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> The documentation has been updated, it will be available after our next build (tonight or tomorrow).</p>
<p>Regarding the submission operation, we settled on a custom operator for a couple of reasons.</p>
<p>One was simplicity of implementation, we could define a new operator and avoid issues with colliding with existing FHIR semantics. The other reason is we like coupling operations to the resources which they're performed against, rather than mixing specific operation semantics with more generic resource types (like Bundle).</p>
<p>One of the thing we really like about the DPC project is that it's open source, so you and your team are more than welcome to contribute some of these changes. We're also really interested in hearing about your experiences integrating your existing clients and workflows with our backend.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
