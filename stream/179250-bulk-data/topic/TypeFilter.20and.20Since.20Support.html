---
layout: page
title: "FHIR Chat  · TypeFilter and Since Support · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html">TypeFilter and Since Support</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="254645106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20Since%20Support/near/254645106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Moin Syed <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html#254645106">(Sep 24 2021 at 03:32)</a>:</h4>
<p>If the _typeFilter and _since are not supported in group export, how do we convey this to the client. Should we send it as OperationOutcome? Should this be mentioned in metadata?<br>
<span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="191506">@Yunwei Wang</span></p>



<a name="254695605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20Since%20Support/near/254695605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html#254695605">(Sep 24 2021 at 12:31)</a>:</h4>
<p>Error 400 with an OperationOutcome</p>



<a name="254704833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20Since%20Support/near/254704833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html#254704833">(Sep 24 2021 at 13:38)</a>:</h4>
<blockquote>
<p>If the _typeFilter and _since are not supported in group export, how do we convey this to the client</p>
</blockquote>
<p>Does that mean you don't support these parameters for all $export operation or you don't support these parameters just for $export/Group?<br>
If you don't support those for all export operation, I think you can profile your OperationDefinition by changing cardinality of these to <code>0..0</code></p>
<p>If a server receives not-supported parameters, I would like a server executes with only supported ones and ignores those not-supported.</p>



<a name="254705910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20Since%20Support/near/254705910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html#254705910">(Sep 24 2021 at 13:44)</a>:</h4>
<p>Regarding the metadata, aren't the OperationDefinitions in the CapabilityStatement referenced at the resource level - think a server should be able to list param support for each operation individually?</p>



<a name="254705987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20Since%20Support/near/254705987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html#254705987">(Sep 24 2021 at 13:45)</a>:</h4>
<p>On the error message, STU2 of the Bulk IG clarifies server behavior with the following guidance:</p>
<blockquote>
<p>Servers unable to support the requested _typeFilter queries SHOULD return an error and OperationOutcome resource so clients can re-submit a request that omits those queries. When a Prefer: handling=lenient header is included in the request, the server MAY process the request instead of returning an error.</p>
</blockquote>



<a name="254710081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20Since%20Support/near/254710081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html#254710081">(Sep 24 2021 at 14:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191414">Dan Gottlieb</span> <a href="#narrow/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support/near/254705910">said</a>:</p>
<blockquote>
<p>Regarding the metadata, aren't the OperationDefinitions in the CapabilityStatement referenced at the resource level - think a server should be able to list param support for each operation individually?</p>
</blockquote>
<p>Hmm. That is correct.</p>



<a name="254710960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20Since%20Support/near/254710960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html#254710960">(Sep 24 2021 at 14:14)</a>:</h4>
<p>For <code>_typeFilter</code> first check if <code>handling=lenient</code> is set in the <code>prefer</code> header. If so, just ignore the parameter. Otherwise reply with an error as <code>OperationOutcome</code>.</p>
<p>As for the <code>_since</code> parameter, the truth is you just have to support it. If you don't, regardless of how you "convey this to the client", such a server will be about as useful as would a car be without a steering wheel.</p>



<a name="254714884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/TypeFilter%20and%20Since%20Support/near/254714884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/TypeFilter.20and.20Since.20Support.html#254714884">(Sep 24 2021 at 14:39)</a>:</h4>
<p><span class="user-mention" data-user-id="382630">@Moin Syed</span> <br>
First, it is good to support those parameters as optional input because it reduce the size of output and so reduce the burden of server to create output.<br>
Then, those are not required parameters and there is no strong wording in STU1 (nor STU2) about what server SHALL do when client sends not supported parameters. So it is up to the server to decide.<br>
BTW <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> I think this is confusing</p>
<blockquote>
<p>Servers unable to support the requested _typeFilter queries SHOULD return an error and OperationOutcome resource so clients can re-submit a request that omits those queries. </p>
</blockquote>
<p>After client receives OperationOutcome for the first request (with _typeFilter), the client has to choose either not to do anything (maybe put the server on a blacklist?) or re-submit request without _typeFilter.<br>
If the desired workflow is to let client re-send request without _type filter (as mentioned in the quote), then why don't recommend server to process the first request as without _type filter?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
