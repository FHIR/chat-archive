---
layout: page
title: "FHIR Chat  · Using OAuth · bulk data"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/index.html">bulk data</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html">Using OAuth</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="237504604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237504604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ranjith <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237504604">(May 05 2021 at 14:32)</a>:</h4>
<p>Hello All,</p>
<p>We are trying to implement inferno for bulk data and jus want to confirm whether we will be able to use OAuth authentication instead of JWT. Is there a way to dynamically pass the related headers from UI?</p>



<a name="237505603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237505603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237505603">(May 05 2021 at 14:38)</a>:</h4>
<p>Can you clarify your question?</p>



<a name="237505749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237505749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237505749">(May 05 2021 at 14:38)</a>:</h4>
<p>Is this specifically for the ONC Standardized API for Patient and Population Services criteria certification (which has requirements regarding using SMART Backend Services authorization), or are you more broadly asking if you could use a different authorization scheme outside the scope of that criteria?</p>



<a name="237512661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237512661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ranjith <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237512661">(May 05 2021 at 15:11)</a>:</h4>
<p>Mainly looking for standardized API which might help in setting up the required authorization and incase if we have options want to explore that as well.</p>



<a name="237528608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237528608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rahul Jain <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237528608">(May 05 2021 at 16:50)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191506">@Yunwei Wang</span>  <br>
thanks for your response.</p>
<p>We have implemented Da Vinci - Risk Based Contracts Member Attribution (ATR) List - <a href="http://hl7.org/fhir/us/davinci-atr/2020Feb/spec.html">http://hl7.org/fhir/us/davinci-atr/2020Feb/spec.html</a> </p>
<p>Now trying to implement Mitre inferno community edition in local network to validate above implementation (<a href="https://github.com/onc-healthit/inferno#installation-and-deployment">https://github.com/onc-healthit/inferno#installation-and-deployment</a>)</p>
<p>We implemented OAuth 2.0 for API endpoints (Kickoff, status etc) - which works on client id and secret. But it seems  Inferno needs JWT token based Authentication. - our question is - can Mitre inferno work on OAuth 2.0  client id and secret based authentication?</p>
<p>Thanks in advance..<br>
Regards,<br>
Rahul Jain</p>



<a name="237533557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237533557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237533557">(May 05 2021 at 17:22)</a>:</h4>
<p>The standard call for JWT token based authentication, so that's what you should use really</p>



<a name="237549009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237549009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rahul Jain <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237549009">(May 05 2021 at 19:05)</a>:</h4>
<p>thanks Michele - can you please point me to reference/implementation for JWT based authentication for Bulk FHIR APIs?</p>



<a name="237549975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237549975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237549975">(May 05 2021 at 19:10)</a>:</h4>
<p><a href="https://hl7.org/fhir/uv/bulkdata/authorization/index.html">https://hl7.org/fhir/uv/bulkdata/authorization/index.html</a> is the spec;  <a href="https://github.com/smart-on-fhir/bulk-data-server">https://github.com/smart-on-fhir/bulk-data-server</a> is one reference server that supports this spec.</p>



<a name="237550585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237550585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rahul Jain <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237550585">(May 05 2021 at 19:15)</a>:</h4>
<p>thanks - per OAuth 2.0 framework standards supported values for token_endpoint_auth_methods_supported are </p>
<p>client_secret_post<br>
    client_secret_basic<br>
    client_secret_jwt<br>
    private_key_jwt</p>
<p>then why is only private_key_jwt supported?</p>



<a name="237556442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/237556442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#237556442">(May 05 2021 at 20:01)</a>:</h4>
<p>OAuth 2.0 is a framework, much like FHIR is a framework. Implementation guides are required to lock down details, layer on extensions,  and support end-to-end interoperability.</p>



<a name="239285807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/239285807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rahul Jain <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#239285807">(May 18 2021 at 16:40)</a>:</h4>
<p>We are still finding it bit tedious to implement Inferno as we dont know the internals <br>
We have hosted community edition in docker. <br>
Now finding it bit difficult to make it to work with our bulk export </p>
<p>Is there any professional support available for inferno?</p>
<p>Also - what is the value expected in Bulk Client ID - </p>
<p><a href="/user_uploads/10155/QBNkQybwYWbWw0mZrLy13enD/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/QBNkQybwYWbWw0mZrLy13enD/image.png" title="image.png"><img src="/user_uploads/10155/QBNkQybwYWbWw0mZrLy13enD/image.png"></a></div><p>In configuration - it seems to be JWT token, is it? if so it is already signed or just 64 bit encoded?</p>
<p>or is it the client id (client app id)?</p>
<p>Also - trying to understand how Bulk private key is populated here... we have private key available, already negotiated public key uploaded to FHIR auth server. Can it be just uploaded here in PEM format?</p>
<p><a href="/user_uploads/10155/ul68fBzBoz2zGtI0X9b0y8rz/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/ul68fBzBoz2zGtI0X9b0y8rz/image.png" title="image.png"><img src="/user_uploads/10155/ul68fBzBoz2zGtI0X9b0y8rz/image.png"></a></div><p>Thanks,<br>
Rahul</p>



<a name="239290820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/239290820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#239290820">(May 18 2021 at 17:13)</a>:</h4>
<p>The first one should be the client_id and the second should be a JWK. Example:</p>
<div class="codehilite"><pre><span></span><code>Bulk Client:   my_client_id
Bulk Private Key:   {&quot;kty&quot;:&quot;EC&quot;,&quot;crv&quot;:&quot;P-384&quot;,&quot;d&quot;:&quot;...&quot;,&quot;x&quot;:&quot;...&quot;,&quot;y&quot;:&quot;...&quot;,&quot;key_ops&quot;:&quot;sign&quot;],&quot;ext&quot;:true,&quot;kid&quot;:&quot;...&quot;,&quot;alg&quot;:&quot;ES384&quot;}
</code></pre></div>



<a name="239291754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/239291754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#239291754">(May 18 2021 at 17:18)</a>:</h4>
<p><span class="user-mention" data-user-id="410130">@Rahul Jain</span> Hi, <code>Bulk Client ID</code> is the client ID what server generated when registering client with server. <code>Bulk Private Key</code> is the private key you used to encrypt the handshake request.</p>



<a name="239291970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/239291970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#239291970">(May 18 2021 at 17:19)</a>:</h4>
<p><a href="http://hl7.org/fhir/uv/bulkdata/authorization/index.html#registering-a-smart-backend-service-communicating-public-keys">http://hl7.org/fhir/uv/bulkdata/authorization/index.html#registering-a-smart-backend-service-communicating-public-keys</a></p>



<a name="239292268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/239292268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#239292268">(May 18 2021 at 17:21)</a>:</h4>
<p>and here<br>
<a href="http://hl7.org/fhir/uv/bulkdata/authorization/index.html#obtaining-an-access-token">http://hl7.org/fhir/uv/bulkdata/authorization/index.html#obtaining-an-access-token</a></p>



<a name="239331437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/239331437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yan Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#239331437">(May 18 2021 at 21:50)</a>:</h4>
<p>I am testing the authentication with SMART Bulk Data Server. I generated a Client ID: <br>
<a href="/user_uploads/10155/ViC4RdcQJmqj3eoIDe3zXEKL/image.png">image.png</a>  </p>
<div class="message_inline_image"><a href="/user_uploads/10155/ViC4RdcQJmqj3eoIDe3zXEKL/image.png" title="image.png"><img src="/user_uploads/10155/ViC4RdcQJmqj3eoIDe3zXEKL/image.png"></a></div><p>Then put the Client ID (JWT) in the following Token Request<br>
<a href="/user_uploads/10155/jJ39ilkfVa_ADAYp-hiQ4_Fw/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/jJ39ilkfVa_ADAYp-hiQ4_Fw/image.png" title="image.png"><img src="/user_uploads/10155/jJ39ilkfVa_ADAYp-hiQ4_Fw/image.png"></a></div><p>But received 400 error: {<br>
    "error": "invalid_request",<br>
    "error_description": "Invalid client details token: The token must be a string"<br>
}</p>
<p>Am I missing anything?</p>
<p>Thanks,<br>
Yan</p>



<a name="239333874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/239333874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#239333874">(May 18 2021 at 22:11)</a>:</h4>
<p>This may not be possible in Postman. You are missing a step here. <code>client_assertion</code> is not the client_id. Instead you need to take that id, put it in another structure, then sign that with your private key and use it as <code>client_assertion</code>. Here is a JS example: <a href="https://github.com/smart-on-fhir/sample-apps-stu3/blob/master/fhir-downloader/index.js#L530-L577">https://github.com/smart-on-fhir/sample-apps-stu3/blob/master/fhir-downloader/index.js#L530-L577</a></p>



<a name="239334497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179250-bulk%20data/topic/Using%20OAuth/near/239334497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yan Wang <a href="https://fhir.github.io/chat-archive/stream/179250-bulk-data/topic/Using.20OAuth.html#239334497">(May 18 2021 at 22:17)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="193731">@Vladimir Ignatov</span>  for the clarification.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
